window.__shortjsdoc_data={source:'\n\n//@filename {Foo} fileName ./src/jsdocmaker/core/binding.js\n\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'./class\'); \nvar _ = require(\'underscore\'); \n\n// BINDING / post processing\n\n//@class TypeBinding a datatype with an association between types names in source code and parsed class nodes. \n//It support generic types (recursive)\n//@property {TypeBinding} type\n//@property {Array<TypeBinding>} params - the generic types params array. For example the params for {Map<String,Apple>} is [StringBynding]\n//@property {Object<String,TypeBinding>} properties - the properties literal object declaration binding, {a:A,b:B}\n//@property {String} nativeTypeUrl the url for native type only\n\n\n//@class JsDocMaker\n//@method parseTypeString public, do a type binding @return {TypeBinding} the object binding to the original r\n//eferenced AST node. Or null in case the given type cannot be parsed\n//TODO: support multiple generics and generics anidation like in\nJsDocMaker.prototype.parseTypeString = function(typeString, baseClass)\n{\n\tif(!typeString || !baseClass)\n\t{ \n\t\treturn null;\n\t}\n\t//first remove the \'{}\'\n\ttypeString = JsDocMaker.stringFullTrim(typeString); \n\tvar inner = /^{([^}]+)}$/.exec(typeString);\n\tif(!inner || inner.length<2)\n\t{\n\t\treturn null;\n\t}\n\ttypeString = inner[1]; \n\ttypeString = typeString.replace(/\\s+/gi, \'\');\n\tvar ret = this.parseSingleTypeString(typeString, baseClass); \n\t// console.log(\'parseTypeString\', ret)\n\tif(ret && ret.length===1)\n\t{\n\t\treturn ret[0]; \n\t}\n\telse\n\t{\t\n\t\treturn ret;\t\n\t}\t\n}; \n\n// @method parseSingleTypeString @param {String} typeStr\nJsDocMaker.prototype.parseSingleTypeString = function(typeStr, baseClass)\n{\n\tvar a = typeStr.split(\'|\'), ret = [], self = this;\n\n\t_(a).each(function(typeString)\n\t{\n\t\n\t\t// is this a custom type, like #custom(1,2) ? \n\n\t\tvar regex = /^#(\\w+)\\(([^\\()]+)\\)/\n\t\t,\tcustomType = regex.exec(typeString)\n\t\t,\ttype_binded = null\n\t\t,\ttype = null;\n\n\t\tif(customType && customType.length === 3)\n\t\t{\n\t\t\tvar parserName = customType[1];\n\t\t\tvar parserInput = customType[2]; \n\t\t\tvar parser = self.typeParsers[parserName]; \n\t\t\tif(parser)\n\t\t\t{\n\t\t\t\ttry \n\t\t\t\t{\n\t\t\t\t\tvar parsed = parser.parse(parserInput, baseClass);\n\t\t\t\t\tif(parsed)\n\t\t\t\t\t{\n\t\t\t\t\t\t// TODO bind type ? \n\t\t\t\t\t\t//BIG PROBLEM HERE - this code executes at parsing time and here we are binding - do this binding in a post processing ast\n\t\t\t\t\t\t//TODO probably all this code should be moved to postprocessing ast phase and here we only dump the original type string.\n\t\t\t\t\t\ttype_binded = self.bindParsedType(parsed, baseClass); \n\t\t\t\t\t\tret.push(type_binded); \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatch(ex)\n\t\t\t\t{\n\t\t\t\t\tself.error(\'Invalid Custom Type: \'+typeString, \', baseClass: \', (baseClass && baseClass.absoluteName)); \n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\t\t}\n\n\t\t//it is a literal object type, like {a:String,b:Number}? \n\n\t\telse if(typeString.indexOf(\':\')!==-1 && typeString.indexOf(\'#\')===-1 ) //and is not a custom type #cus\n\t\t{\n\t\t\ttype = null; \n\t\t\ttry\n\t\t\t{\n\t\t\t\tvar props = JsDocMaker.parseType(typeString);\n\t\t\t\ttype = {name: \'Object\', properties: props}; \n\t\t\t\ttype_binded = self.bindParsedType(type, baseClass);\n\t\t\t\tret.push(type_binded); \n\t\t\t}\n\t\t\tcatch(ex)\n\t\t\t{\n\t\t\t\tself.error(\'Invalid Type: \'+typeString, \', baseClass: \', (baseClass && baseClass.absoluteName)); \n\t\t\t}\t\n\t\t}\n\n\n\t\t// it is a generic type like Array<String> ? \n\n\t\telse if(typeString.indexOf(\'<\')!==-1)\n\t\t{\n\t\t\ttype = null;\n\t\t\ttry\n\t\t\t{\n\t\t\t\ttype = JsDocMaker.parseType(typeString);\n\t\t\t\ttype_binded = self.bindParsedType(type, baseClass);\n\t\t\t\tret.push(type_binded); \n\t\t\t}\n\t\t\tcatch(ex)\n\t\t\t{\n\t\t\t\tself.error(\'Invalid Type: \'+typeString, \', baseClass: \', (baseClass && baseClass.absoluteName)); \n\t\t\t}\t\n\t\t}\n\n\t\telse\n\t\t{\t\n\t\t\tret.push(self.bindClass(typeString, baseClass));\t\n\t\t}\n\t}) ; \n\n\treturn ret;\n}; \n\n//@method bindParsedType merges the data of JsDocMaker.parseType with bindings of current jsdoc. recursive!\n//@param {Object} typeObject @param {Object} baseClass @return {Object}\nJsDocMaker.prototype.bindParsedType = function(typeObject, baseClass)\n{\n\tvar c = null\n\t,\tout = typeObject\n\t,\tself = this;\n\n\tif(typeObject && _(typeObject).isString())\n\t{\n\t\tc = this.bindClass(typeObject, baseClass); \n\t\tout = {name: typeObject}; \n\t}\n\telse if(typeObject && typeObject.name)\n\t{\n\t\t//recurse on params for generic types like M<T,K>!\n\t\tif(out.params)\n\t\t{\t\t\t\n\t\t\tvar new_params = [];\n\n\t\t\tc = this.bindClass(typeObject.name, baseClass); \n\n\t\t\t_(out.params).each(function(param)\n\t\t\t{\n\t\t\t\tvar new_param = self.bindParsedType(param, baseClass);\n\t\t\t\tnew_params.push(new_param);\n\t\t\t}); \n\t\t\tout.params = new_params;\t\n\t\t}\n\n\t\t//recurse on properties for literal object type like name:String,config:Config\n\t\tif(out.properties)\n\t\t{\n\t\t\tvar new_properties = {};\n\t\t\t_(out.properties).each(function(value, name)\n\t\t\t{\n\t\t\t\tvar new_property = self.bindParsedType(value, baseClass);\n\t\t\t\tnew_properties[name] = new_property; \n\t\t\t}); \n\t\t\tout.properties = new_properties;\t\n\t\t}\n\t}\n\tif(c)\n\t{\n\t\t_(out).extend(c);\n\t}\n\treturn out;\n}; \n\n\n\nvar PluginContainer = require(\'./plugin\'); \n\n\n\n//POST PROCESSING\n\n// @property {PluginContainer} beforeBindClassPlugins these plugins accept an object like \n// {name:name,baseClass:JsDocASTNode,jsdocmaker:JsDocMaker} and perform some modification to passed node:parsed instance.\n// This is done just before a class name is binding to an actual AST class node.\nJsDocMaker.prototype.beforeBindClassPlugins = new PluginContainer(); \n\n// @property {PluginContainer} afterBindClassPlugins these plugins accept an object like \n// {name:name,baseClass:JsDocASTNode,jsdocmaker:JsDocMaker} and perform some modification to passed node:parsed instance.\n// This is done just after a class name is binding to an actual AST class node.\nJsDocMaker.prototype.afterBindClassPlugins = new PluginContainer(); \n\n\n\n//@method bindClass @param {String}name @param {Object} baseClass\n//TODO: using a internal map this could be done faster\nJsDocMaker.prototype.bindClass = function(name, baseClass)\n{\n\tvar context = {\n\t\tname:name\n\t,\tbaseClass: baseClass\n\t,\tjsdocmaker: this\n\t}; \n\n\tthis.beforeBindClassPlugins.execute(context); \n\n\t// beforeBindClassPlugins have the oportunity of changing the context\n\tname = context.name || name;\n\tbaseClass = context.baseClass || baseClass;\n\n\tvar moduleName = baseClass.annotation === \'module\' ? baseClass.name : baseClass.module.name; \n\t\n\t//search all classes that matches the name\n\tvar classesWithName = _(_(this.data.classes).values()).filter(function(c)\n\t{\n\t\treturn c.name===name;//JsDocMaker.stringEndsWith(c.name, name); \n\t});\n\t//search classes of the module\n\tvar moduleClasses = _(classesWithName).filter(function(c)\n\t{\n\t\treturn JsDocMaker.startsWith(c.module.name, moduleName); \n\t}); \n\n\t//TODO: performance - classesWithName could be compauted only if moduleClasses is empty\n\n\tvar c = moduleClasses.length ? moduleClasses[0] : classesWithName[0]; \n\n\tif(!c)\n\t{\n\t\t//then it could be a function\n\t\tvar fns = []\n\t\t_.each(this.data.modules, function(module)\n\t\t{\n\t\t\t_.each(module.functions, function(fn)\n\t\t\t{\n\t\t\t\tif(fn.name===name)\n\t\t\t\t{\n\t\t\t\t\tfns.push(fn)\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t\tif(fns.length)\n\t\t{\n\t\t\tc = fns[0]\n\t\t}\n\t}\n\n\tif(!c)\n\t{\n\t\t//TODO: look at native types\n\t\tvar nativeType = this.getNativeTypeUrl ? this.getNativeTypeUrl(name) : null;\n\t\tvar o = {name:name}; \n\t\tif(nativeType)\n\t\t{\n\t\t\to.nativeTypeUrl = nativeType; \n\t\t}\n\t\telse\n\t\t{\n\t\t\to.error = \'NAME_NOT_FOUND\'; \n\t\t}\n\t\tc = o;\t\t\n\t}\n\n\tthis.afterBindClassPlugins.execute({name:name, binded: c, baseClass: baseClass, jsdocmaker: this});\n\n\treturn c;\n\n}; \n\n// @method simpleName @param {String} name @return {String}\nJsDocMaker.prototype.simpleName = function(name, prefix)\n{\n\tif(prefix && name.indexOf(prefix) === 0)\n\t{\n\t\treturn name.substring(prefix.length + 1, name.length);\n\t}\n\telse\n\t{\t\n\t\tvar a = name.split(JsDocMaker.ABSOLUTE_NAME_SEPARATOR);\n\t\treturn a[a.length - 1]; \t\n\t}\n}; \n\n\n\n\n\n\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/core/class.js\n\n// @module shortjsdoc @class JsDocMaker\n// Main jsdoc parser utility. It accepts a valid js source code String and returns a JavaScript object with a jsdoc AST, this is an object\n// with classes and modules array that users can use to easily access jsdocs information, for example, parsed.classes.Apple.methods.getColor\n// use the parseFile method for this! This will return the AST, if you want to perform more enrichment and type binding, then use \n// postProccess and postProccessBinding methods after.\n\n/* jshint evil:true*/\n\nvar _ = require(\'underscore\'); \n\nvar JsDocMaker = function(options)\n{\t\n\t//@property {Object<String,String>} customNativeTypes name to url map that the user can modify to register new native types b givin its url.\n\tthis.customNativeTypes = this.customNativeTypes || {};\n\tthis.annotationRegexp = /(\\s+@\\w+)/gi;\n\tthis.typeParsers = {};\n\tthis.inputSource = [];\n\tthis.options = options || {};\n\n\tif(this.initializePluginContainers)\n\t{\n\t\tthis.initializePluginContainers();\n\t}\n}; \n\n// @property {String} DEFAULT_CLASS @static\nJsDocMaker.DEFAULT_CLASS = \'Object\'; \n\n// @property {String} DEFAULT_MODULE @static\nJsDocMaker.DEFAULT_MODULE = \'__DefaultModule\'; \n\n// @property {String} ABSOLUTE_NAME_SEPARATOR @static\nJsDocMaker.ABSOLUTE_NAME_SEPARATOR = \'.\'; \n\n// @property {String} MULTIPLE_TEXT_SEPARATOR @static\nJsDocMaker.MULTIPLE_TEXT_SEPARATOR = \'\\n\\n\'; \n\n//expose\nif(typeof(window) !== \'undefined\')\n{\n\twindow.JsDocMaker = JsDocMaker; \n}\n\n\n//@method require perform an intelligent require n browser&nodejs, needed for esprima. Ugly :(\nJsDocMaker.require = function(name)\n{\n\treturn (typeof(window) != \'undefined\' && window[name]) ? window[name] : require(name);\n}; \n\nmodule.exports = JsDocMaker; \n\n//@filename {Foo} fileName ./src/jsdocmaker/core/main.js\n\n\'strict mode\'; \n\nvar JsDocMaker = require(\'./class\'); \n\nrequire(\'./util\'); \n\nrequire(\'./parse\'); \n\nrequire(\'./preprocess\'); \n\nrequire(\'./type-parsing\'); \n\nrequire(\'./postprocess\'); \n\nrequire(\'./binding\'); \n\n\nmodule.exports = JsDocMaker;\n\n//@filename {Foo} fileName ./src/jsdocmaker/core/parse.js\n\n/*\n@module shortjsdoc \n\n@class JsDocMaker.Data\n@property {Object<String, JsDocASTNode>} methods\n@property {Object<JsDocASTNode>} classes\n@property {Array<JsDocASTNode>} classes\n\n@class JsDocASTNode all the jsdoc parsed information is stored as nodes one containing others. modules contains classes, @class contains methods and @method contains @param and @returns\n\n\n@class JsDocMaker\n\n#Parsing and processing \n\nThe first thing done with source code is parsing its comments to extract general information about annotations. This implies\n\n * parse the sources with exprima and work with the comments array.\n * preprocess the comments array for normalization before start parsing them. Call preprocessing plugins. \n * iterate the comments text and split using PRIMARY annotations\n\n##Primary annotations\nFor representing some logic of JSDOC like \'a class contains methods that contains parameters\' we have the concept of PRIMARY ANNOTATIONS. \n*These are @class @module @method @property*\n\nThese are the concepts that contains the stuff. All the other annotations are children of one primary annotation. For example @return, @param, @extend, @static are SECOND LEVEL ANNOTATIONS\nand are always children of one primary annotation.\n\nBut this is the only logic contained in the core parsing. Then a general AST, using this primary container names logic, is returned. \n\nALL declared annotations will be outputed (unless a plugin remove something)\n\n*/\n\n\nvar JsDocMaker = require(\'./class\'); \nvar PluginContainer = require(\'./plugin\'); \nvar esprima = JsDocMaker.require(\'esprima\');\nvar _ = require(\'underscore\'); \n\n\n// @property {PluginContainer} allCommentPreprocessorPlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to esprima comment node - \n// this is the FIRST stage of the parser. This is the same as commentPreprocessorPlugins but all comments nodes are passed for those plugins that need some context about the comments. \nJsDocMaker.prototype.allCommentPreprocessorPlugins = new PluginContainer(); \n\n// @property {PluginContainer} commentPreprocessorPlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to esprima comment node - this is the FIRST stage of the parser\nJsDocMaker.prototype.commentPreprocessorPlugins = new PluginContainer(); \n\n// @property {PluginContainer} beforeParseNodePlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done just before the first parsing is done on the first AST node. Only primary nodes are visited!\nJsDocMaker.prototype.beforeParseNodePlugins = new PluginContainer(); \n\n// @property {PluginContainer} parsePreprocessors these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done just after the first parsing is done on the first AST node. Only primary nodes are visited!\nJsDocMaker.prototype.afterParseNodePlugins = new PluginContainer();\n\n// @property {PluginContainer} afterParseUnitSimplePlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done after an unit is parsed - this will iterated all nodes as units .The first node object is formed at this stage. \nJsDocMaker.prototype.afterParseUnitSimplePlugins = new PluginContainer();\n\n// @property {String}primaryAnnotationsRegexString\nJsDocMaker.prototype.primaryAnnotationsRegexString = \'((?:@class)|(?:@method)|(?:@property)|(?:@attribute)|(?:@module)|(?:@event)|(?:@constructor)|(?:@function)|(?:@interface)|(?:@filename))\';\n\nJsDocMaker.prototype.isPrimaryAnnotation = function(s)\n{\n\tif(s.indexOf(\'@\')!==0)\n\t{\n\t\ts = \'@\' + s; \n\t}\n\treturn new RegExp(\'^\'+this.primaryAnnotationsRegexString, \'g\').test(s);\n}\n\n\n//@method jsdoc the public method to parse all the added files with addFile. @return {Object} the parsed object @param {String} source . Optional\nJsDocMaker.prototype.jsdoc = function(source)\n{\n\t//@property {Array<String>} all the input added included @filename annotations\n\tsource = source || this.inputSource.join(\'\');\n\tthis.data = this.data || {}; \n\tthis.data.source = source;\n\n\t// @property {EsprimaSyntax} the Sprima Syntax object of the current pased file.\t\n\tthis.syntax = esprima.parse(source, {\n\t\traw: true\n\t,\trange: true\n\t,\tcomment: true\t\t\n\t});\n\n\tthis.parse(this.syntax.comments);\n\n\treturn this.data;\n}; \n\n//@method parseFile a public method for parsing a single file. Note if you want to parse more than one file please use addFile() and the jsdoc() \n//@return {Object} the parsed object @param {String} source @param {String} filename\nJsDocMaker.prototype.parseFile = function(source, fileName)\n{\n\tthis.addFile(source, fileName); \n\treturn this.jsdoc(); \n}; \n\n//@method addFile @param {String}source the source code of the file @param  {String} the file name\nJsDocMaker.prototype.addFile = function(source, fileName)\n{\n\tthis.inputSource.push(\'\\n\\n//@filename {Foo} fileName \' + fileName+\'\\n\\n\');\n\tthis.inputSource.push(source);\n}; \n\n//@property {String} ignoreCommentPrefix\nJsDocMaker.prototype.ignoreCommentPrefix = \'?\';\n\n//@method parse\t@return {Array} array of class description - with methods, and methods containing params. \nJsDocMaker.prototype.parse = function(comments)\n{\n\tvar self = this\n\t,\tcurrentClass = null\n\t,\tcurrentMethod = null\n\t,\tcurrentModule = null\n\t,\tcurrentFile = null;\n\n\tthis.comments = comments;\n\tthis.data = this.data || {}; \n\tthis.data.classes = this.data.classes || {}; \n\tthis.data.modules = this.data.modules || {}; \n\tthis.data.files = this.data.files || {}; \n\n\tself.allCommentPreprocessorPlugins.execute({node: self.comments, jsdocMaker: self}); \n\n\t_(self.comments).each(function(node)\n\t{\n\t\tself.commentPreprocessorPlugins.execute({node: node, jsdocMaker: self}); \n\n\t\t//because is global we must instantiate this regex each time\n\t\tvar regex = new RegExp(self.primaryAnnotationsRegexString, \'gi\');\n\n\t\tvar a = JsDocMaker.splitAndPreserve(node.value || \'\', regex); \n\t\ta = _(a).filter(function(v)  //delete empties and trim\n\t\t{\n\t\t\treturn JsDocMaker.stringTrim(v);\n\t\t});\n\t\t\n\t\t_(a).each(function(value)\n\t\t{\n\t\t\tvar parsed_array = self.parseUnit(value, node);\n\t\t\t\n\t\t\t_(parsed_array).each(function(parsed)\n\t\t\t{\n\t\t\t\tparsed.commentRange = node.range;\n\t\t\t\tparsed.fileName = (currentFile && currentFile.fileName) ? currentFile.fileName : undefined;\n\n\t\t\t\tdelete parsed.theRestString; \n\t\t\t\t\n\t\t\t\tself.beforeParseNodePlugins.execute({node:parsed, jsdocmaker:self}); \n\n\t\t\t\t//Note: the following lines is the (only) place were the \'primary annotations\' (class,module,method,property) are implemented \n\t\t\t\t//We get primary tags like class,module,method,property and form the first primary AST (a module contains classes which contain methods and properties)\n\t\t\t\t//All the other annotations are treated as secondary, this means they will be assigned as childresn to the last primary annotation.\n\n\t\t\t\tif(parsed.annotation === \'class\'||parsed.annotation === \'interface\') \n\t\t\t\t{\n\t\t\t\t\t//allow classes without modules - asignated to a defulat module\n\t\t\t\t\tif (!currentModule)\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrentModule = {name: JsDocMaker.DEFAULT_MODULE};\n\t\t\t\t\t}\n\n\t\t\t\t\tparsed.module = currentModule; \n\t\t\t\t\tparsed.absoluteName = currentModule.name + JsDocMaker.ABSOLUTE_NAME_SEPARATOR + parsed.name;\n\n\t\t\t\t\t//if the class was already defined we want to preserve all the definitions children and texts \n\t\t\t\t\tif(self.data.classes[parsed.absoluteName])\n\t\t\t\t\t{\n\t\t\t\t\t\t//preserve text\n\t\t\t\t\t\tif(self.data.classes[parsed.absoluteName].text !== parsed.text)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.data.classes[parsed.absoluteName].text += JsDocMaker.MULTIPLE_TEXT_SEPARATOR + parsed.text; \n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// preserve children\n\t\t\t\t\t\tself.data.classes[parsed.absoluteName].children = self.data.classes[parsed.absoluteName].children || [];\n\t\t\t\t\t\t_(parsed.children).each(function(classPreservedChild)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar originalChild = _(self.data.classes[parsed.absoluteName].cihldren).find(function(c2)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn c2.annotation===classPreservedChild.annotation; \n\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t\tif(!originalChild)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tself.data.classes[parsed.absoluteName].children.push(classPreservedChild); \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\n\t\t\t\t\t\tcurrentClass = self.data.classes[parsed.absoluteName]; \n\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\t\t\t\t\t\t\n\t\t\t\t\t\tself.data.classes[parsed.absoluteName] = parsed; \n\t\t\t\t\t\tdelete self.data.classes[parsed.name];\n\t\t\t\t\t\tcurrentClass = parsed; \n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(parsed.annotation === \'filename\') \n\t\t\t\t{\n\t\t\t\t\tcurrentFile = parsed; \n\t\t\t\t\tcurrentFile.fileName = parsed.text; \n\t\t\t\t\tdelete parsed.text;\n\t\t\t\t\tself.data.files[currentFile.fileName] = currentFile;\n\t\t\t\t}\n\n\t\t\t\telse if(parsed.annotation === \'module\')\n\t\t\t\t{\t\n\t\t\t\t\tcurrentModule = parsed;\n\n\t\t\t\t\t//if the module was already defined we want to preserve all the definitions texts\n\t\t\t\t\tif(self.data.modules[currentModule.name])\n\t\t\t\t\t{\n\t\t\t\t\t\tif(self.data.modules[currentModule.name].text !== currentModule.text)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.data.modules[currentModule.name].text += JsDocMaker.MULTIPLE_TEXT_SEPARATOR + currentModule.text; \n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tself.data.modules[currentModule.name] = currentModule; \n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//the rest are all children of class : \n\n\t\t\t\t//? we treat @method as equivalent as @constructor\n\t\t\t\telse if (parsed.annotation === \'method\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.methods = currentClass.methods || {};\n\t\t\t\t\tcurrentClass.methods[parsed.name] = parsed;\n\t\t\t\t\tcurrentMethod = parsed;\n\t\t\t\t}\n\t\t\t\telse if(parsed.annotation === \'constructor\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.constructors = currentClass.constructors || [];\n\t\t\t\t\tcurrentClass.constructors.push(parsed); \n\t\t\t\t\tcurrentMethod = parsed; \n\t\t\t\t}\n\n\n\t\t\t\telse if(parsed.annotation === \'function\' && currentModule)\n\t\t\t\t{\n\t\t\t\t\tcurrentModule.functions = currentModule.functions || [];\n\t\t\t\t\tcurrentModule.functions.push(parsed); \n\t\t\t\t\tcurrentMethod = parsed; // heads up - so future @params and @returns are assigned to this function\n\t\t\t\t}\n\n\t\t\t\t//? @property and @event and @attribute are treated similarly\n\t\t\t\telse if(parsed.annotation === \'property\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.properties = currentClass.properties || {};\n\t\t\t\t\tcurrentClass.properties[parsed.name] = parsed;\n\t\t\t\t}\n\t\t\t\telse if(parsed.annotation === \'event\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.events = currentClass.events || {};\n\t\t\t\t\tcurrentClass.events[parsed.name] = parsed;\n\t\t\t\t}\n\t\t\t\telse if(parsed.annotation === \'attribute\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.attributes = currentClass.attributes || {};\n\t\t\t\t\tcurrentClass.attributes[parsed.name] = parsed;\n\t\t\t\t}\n\n\t\t\t\tself.afterParseNodePlugins.execute({\n\t\t\t\t\tnode: parsed\n\t\t\t\t,\tjsdocmaker: self\n\t\t\t\t\t//add loop context information to plugins\n\t\t\t\t,\tcurrentClass: currentClass\n\t\t\t\t,\tcurrentMethod: currentMethod\n\t\t\t\t,\tcurrentModule: currentModule\n\t\t\t\t,\tcurrentFile: currentFile\n\t\t\t\t});\n\t\t\t}); \n\t\t});\n\t\t\n\t}); \n};\n\n// @method {Unit} parseUnit parse a simple substring like \'@annotation {Type} a text\' into an object {annotation, type, text} object.\n// syntax: @method {String} methodName blabla @return {Number} blabla @param {Object} p1 blabla\nJsDocMaker.prototype.parseUnit = function(str, comment)\n{\n\t// TODO: split str into major units and then do the parsing\n\tvar parsed = this.parseUnitSimple(str, comment); \n\tif(!parsed)\n\t{\n\t\treturn null;\n\t}\n\tvar ret = [parsed];\n\tif(parsed.theRestString)\n\t{\n\t\tvar s = parsed.theRestString; \n\t\tvar child;\n\t\twhile((child = this.parseUnitSimple(s, comment)))\n\t\t{\n\t\t\tif(child.annotation === \'class\') {\n\t\t\t\tret.push(child); \n\t\t\t\tparsed = child;\n\t\t\t}\n\t\t\telse\n\t\t\t{\t\t\t\t\t\n\t\t\t\tparsed.children = parsed.children || []; \n\t\t\t\tparsed.children.push(child); \n\t\t\t}\n\t\t\ts = child.theRestString; \n\t\t}\n\t}\n\treturn ret; \n}; \n\n//@method parseUnitSimple @param {String} str @param {ASTSprimaNode} comment\nJsDocMaker.prototype.parseUnitSimple = function(str, comment) \n{\t\n\tif(!str)\n\t{\n\t\treturn null;\n\t}\n\tvar result;\n\tvar regexp = null; \n\n\t// HEADS UP - TODO: the fgollowing two regex definitions must be identical in the content but not perhasin the endings/begginigns / globals\n\t// if you fix one you must also fix the other\n\tif(comment.type===\'Line\')\n\t{\n\t\tstr = JsDocMaker.stringFullTrim(str); \n\t\tregexp = /\\s*@([\\w\\.\\-\\_]+)\\s*(\\{[\\w<>\\|, #:\\(\\)\\.]+\\}){0,1}\\s*([\\w:\\-\\._\\$]+){0,1}(.*)\\s*/i; \n\t\tresult = regexp.exec(str);\n\t}\n\telse\n\t{\n\t\tstr = JsDocMaker.stringTrim(str); \n\t\tregexp = /\\s*@([\\w\\.\\-\\_]+)\\s*(\\{[\\w<>\\|, #:\\(\\)\\.]+\\}){0,1}\\s*([\\w:\\-\\._\\$]+){0,1}([.\\s\\w\\W]*)/gmi;\n\t\t//TODO: I have to put this regexp inline here - if not the second time I call exec on the instance it won\'t match. This is because the \'g\' modifier.\n\t\tresult = regexp.exec(str); \n\t}\n\tif(!result || result.length<4)\n\t{\n\t\treturn null;  \n\t}\n\tvar text = result[4] || \'\';\n\t\t\n\tvar splitted = JsDocMaker.splitAndPreserve(text, this.annotationRegexp) || [\'\'];  \n\ttext = splitted[0]; \n\t//@property {String} lineCommentSeparator used to separate each Line comment type text\n\tthis.lineCommentSeparator = this.lineCommentSeparator || \'\\n\';\n\ttext = text.replace(new RegExp(this.lineCommentSeparatorMark, \'g\'), this.lineCommentSeparator);\n\ttext = JsDocMaker.stringTrim(text||\'\')\n\tsplitted.splice(0,1); \n\tvar ret = {\n\t\tannotation: result[1]\n\t,\ttype: result[2]\n\t,\tname: result[3]\n\t,\ttext: text\n\t,\ttheRestString: JsDocMaker.stringTrim(splitted.join(\'\'))\n\t};\n\n\tthis.afterParseUnitSimplePlugins.execute({node:ret, jsdocmaker:this}); \n\n\treturn ret;\n}; \n\n\n\n// at last we want to document the output ast data that the parser returns:\n\n// @property {JsDocMaker.Data} data the main data on which the parser and plugins will be working on. This is the resulting AST of jsdoc.\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/core/plugin.js\n\n// @module shortjsdoc.plugin\nvar JsDocMaker = require(\'./class\')\n,\t_ = require(\'underscore\'); \n\n// @class PluginContainer a plugin container can be used for installing plugins and then processing \n// some action with all of them, executing them in sequence.\n// A plugin is basically a function that acts on some data - state\n// Registered plugins are executed secuentially. plugin execution arguments can be modified so next-to-execute plugin can \n// consume new information - same with return value.\nvar PluginContainer = function()\n{\n\tthis.plugins = [];\n};\n\n//expose\nJsDocMaker.PluginContainer = PluginContainer; \n\n//@method add @param {JsDocMakerPlugin} plugin\nPluginContainer.prototype.add = function(plugin)\n{\n\tthis.plugins.push(plugin); \n\tthis.priorized = null;//clean priorized cache\n}; \n\n//TODO: remove(plugin)\n\n// @method execute @param {Object} @param {Any} input options @return {Any}\nPluginContainer.prototype.execute = function(options, input)\n{\n\tvar result = null;\n\tthis.visitPlugins(function(plugin)\n\t{\n\t\tresult = plugin.execute(options, result);\n\t}); \n\treturn result; \n}; \n\n//@method visitPlugins visit children plugins respecting priority @param {Function} visitor\nPluginContainer.prototype.visitPlugins = function(visitor)\n{\n\t// @property {Array<Array<Plugin>>} priorized array of priorities - each priority index contains the plugins with that priority\n\tvar priorized = this.priorized;// = (this.priorized || [1]); //priority calculations cache\n\n\tif(!priorized)\n\t{\n\t\tpriorized = this.priorized = []; \n\t\tfor (var i = 0; i < PluginContainer.MAX_PRIORITY; i++) \n\t\t{\n\t\t\tpriorized[i] = []; \n\t\t};\n\t\t_(this.plugins).each(function(plugin)\n\t\t{\n\t\t\t// visitor(plugin); \n\t\t\tvar p = plugin.priority || PluginContainer.DEFAULT_PRIORITY; // priority zero is invalid and it is treated as default\n\t\t\t// priorized[p] = priorized[p] || []; \n\t\t\tpriorized[p].push(plugin); \n\t\t}); \n\t}\n\n\tfor (var i = 1; i < priorized.length; i++) \n\t{\n\t\tvar p = priorized[i]; \n\t\tfor (var j = 0; j < p.length; j++) \n\t\t{\n\t\t\tvisitor(p[j]);\n\t\t};\n\t};\n}; \n\nPluginContainer.DEFAULT_PRIORITY = 6; \nPluginContainer.MAX_PRIORITY = 10; \n\n// TODO: priority\n\n\n\n// @class JsDocMakerPlugin\n// @property {String} name\n// @method execute execute this plugin @param{Object}options @param {Any}result \n// @returns{Any} result possible enriched by the plugin in the chain\n\nmodule.exports = PluginContainer;\n\n\n\n\n\n\n//@method globalPlugins @static\n// JsDocMaker.registerGlobalPlugin = function(pluginContainerName, plugin)\n// {\n// \tJsDocMaker.prototype.plugins = JsDocMaker.prototype.plugins || {};\n// \tJsDocMaker.globalPlugins[pluginContainerName] = JsDocMaker.globalPlugins[pluginContainerName] || {}; \n// }; \n// //@method initializePluginContainers called in the constructor - will install all static plugins registered with JsDocMaker.registerGlobalPlugin\n// JsDocMaker.prototype.initializePluginContainers = function()\n// {\n// }\n\n\n\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/core/postprocess.js\n\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'./class\'); \nvar _ = require(\'underscore\'); \nvar PluginContainer = require(\'./plugin\'); \n\n//POST PROCESSING\n\n// @property {PluginContainer} beforeTypeBindingPlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done just before doing the type binding.\nJsDocMaker.prototype.beforeTypeBindingPlugins = new PluginContainer(); \n\n// @property {PluginContainer} afterTypeBindingPlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done just after doing the type binding.\nJsDocMaker.prototype.afterTypeBindingPlugins = new PluginContainer(); \n\n// @method postProccess so the data is already parsed but we want to normalize some \n// children like @extend and @ module to be properties of the unit instead children.\n// Also we enforce explicit  parent reference, this is a class must reference its \n// parent module and a method muest reference its parent class. Also related to this \n// is the fullname property that will return an unique full name in the format \n// \'$MODULE.$CLASS.$METHOD\'. We assume that a module contains unique named classes and \n// that classes contain unique named properties and methods. \nJsDocMaker.prototype.postProccess = function()\n{\n\tvar self = this;\n\t// set params and throws of constructors\n\t_(self.data.classes).each(function(c)\n\t{\n\t\t_(c.constructors).each(function(co)\n\t\t{\n\t\t\tco.params = _(co.children||[]).filter(function(child)\n\t\t\t{\n\t\t\t\treturn child.annotation === \'param\'; \n\t\t\t});\n\n\t\t\tco.throws = _(co.children||[]).filter(function(child)\n\t\t\t{\n\t\t\t\treturn child.annotation === \'throw\' || child.annotation === \'throws\'; \n\t\t\t});\n\t\t}); \n\t}); \n}; \n\n\n//@method postProccessBinding precondion: call postProccess() first. We separated the post proccessing in two because we shouln\'t do JSON.stringify() after we bind types because of recursive loops. \nJsDocMaker.prototype.postProccessBinding = function()\n{\n\tif(this.literalObjectInstall)\n\t{\n\t\tthis.literalObjectInstall(); \n\t}\n\tvar self = this;\n\n\t_(self.data.modules).each(function(m)\n\t{\n\t\tself.beforeTypeBindingPlugins.execute({node: m, jsdocmaker: self});\n\t\tself._postProccessBinding_methodSetup(m.functions, m, true);\n\t});\n\t\n\t//at this points we have all our modules and classes - now we normalize extend, methods and params and also do the type binding. \n\t_(self.data.classes).each(function(c)\n\t{\n\t\tself.beforeTypeBindingPlugins.execute({node: c, jsdocmaker: self});\n\t\t//class.extends property\n\t\tvar extend = _(c.children||[]).find(function(child)\n\t\t{\n\t\t\treturn child.annotation === \'extend\' || child.annotation === \'extends\'; \n\t\t}); \n\t\tif(!extend) // All classes must extend something\n\t\t{\n\t\t\textend = c.extends = (self.bindClass(JsDocMaker.DEFAULT_CLASS, c) || {error: \'NAME_NOT_FOUND\', name: JsDocMaker.DEFAULT_CLASS});\n\t\t}\n\t\telse \n\t\t{\n\t\t\tc.extends = self.bindClass(extend.name, c);\n\t\t\tc.children = _(c.children).without(extend);\t//TODO: why we would want to do this? - remove this line\n\t\t}\n\n\t\tvar implement = _(c.children||[]).filter(function(child)\n\t\t{\n\t\t\treturn child.annotation === \'implement\' || child.annotation === \'implements\'; \n\t\t}) || []; \n\t\tif(!implement.length) // All classes must implement something\n\t\t{\n\t\t\timplement = c.implements = []//[(self.bindClass(JsDocMaker.DEFAULT_CLASS, c) || {error: \'NAME_NOT_FOUND\', name: JsDocMaker.DEFAULT_CLASS})];\n\t\t}\n\t\telse \n\t\t{\n\t\t\tc.implements = c.implements || [];\n\t\t\t_.each(implement, function(i)\n\t\t\t{\n\t\t\t\tc.implements.push(self.bindClass(i.name, c));\n\t\t\t\tc.children = _(c.children).without(i);\t//TODO: why we would want to do this? - remove this line\n\t\t\t})\n\t\t}\n\n\n\t\t//setup methods & constructors\n\n\t\tvar methods = _(c.methods).clone() || {};\n\t\tif(c.constructors) \n        {\n            for (var i = 0; i < c.constructors.length; i++) \n            {\n                var cname = \'constructor \' + i;\n                methods[cname] = c.constructors[i]; //using invalid method name\n                c.constructors[i].name = i+\'\';\n            }\n        }\n\n\t\tself._postProccessBinding_methodSetup(methods, c);\t\t\n\n\t\t//setup properties\n\t\tvar propertySetup = function(prop)\n\t\t{\n\t\t\tprop.ownerClass = c.absoluteName;\n\t\t\tprop.absoluteName = c.absoluteName + JsDocMaker.ABSOLUTE_NAME_SEPARATOR + prop.name; \n\n\t\t\tif(self.installModifiers)\n\t\t\t{\n\t\t\t\tself.installModifiers(prop); \n\t\t\t}\n\t\t\tif(_(prop.type).isString())\n\t\t\t{\n\t\t\t\tprop.type = self.parseTypeString(prop.type, c) || prop.type;\n\t\t\t}\n\n\t\t\tself.beforeTypeBindingPlugins.execute({node: prop, jsdocmaker: self});\n\t\t}; \n\t\t_(c.properties).each(propertySetup);\n\t\t_(c.events).each(propertySetup);\n\t\t_(c.attributes).each(propertySetup);\t\t\n\t});\n\n\tself.afterTypeBindingPlugins.execute({jsdocmaker: self});\n};\n\nJsDocMaker.prototype._postProccessBinding_methodSetup = function(methods, c, isFunction)\n{\n\tvar self = this;\n\tc = c || {}; \n\t_(methods).each(function(method)\n\t{\n\t\tself.beforeTypeBindingPlugins.execute({node: method, jsdocmaker: self});\n\t\t//method.param property\n\t\tvar params = _(method.children||[]).filter(function(child)\n\t\t{\n\t\t\tchild.text = JsDocMaker.stringTrim(child.text||\'\'); \n\t\t\treturn child.annotation === \'param\'; \n\t\t}); \n\t\tmethod.params = params; \n\n\t\tvar absoluteName = c.absoluteName || c.name || \'\';\n\t\tif(!isFunction)\n\t\t{\n\t\t\tmethod.ownerClass = absoluteName;\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmethod.ownerModule = absoluteName;\n\t\t}\t\t\n\t\tmethod.absoluteName = absoluteName + JsDocMaker.ABSOLUTE_NAME_SEPARATOR + method.name; \n\n\t\t_(method.params).each(function(param)\n\t\t{\n\t\t\tself.beforeTypeBindingPlugins.execute({node: param, jsdocmaker: self});\n\n\t\t\tif(_(param.type).isString())\n\t\t\t{\n\t\t\t\tparam.typeOriginalString = param.type; \n\t\t\t\tparam.type = self.parseTypeString(param.type, c) || param.type;\t\t\t\t\t\t\n\t\t\t}\n\t\t}); \n\n\t\t//method throws property\n\t\tvar throw$ = _(method.children||[]).filter(function(child)\n\t\t{\n\t\t\treturn child.annotation === \'throw\' || child.annotation === \'throws\'; \n\t\t}); \n\t\tmethod.throws = throw$; \n\t\t_(method.throws).each(function(t)\n\t\t{\n\t\t\tself.beforeTypeBindingPlugins.execute({node: t, jsdocmaker: self});\n\n\t\t\t//because @throws doesn\'t have a name it breaks our simple grammar, so we merge the name with its text.\n\t\t\tt.text = (t.name ? t.name+\' \' : \'\') + (t.text||\'\'); \n\t\t\tif(_(t.type).isString())\n\t\t\t{\n\t\t\t\tt.typeOriginalString = t.type; \n\t\t\t\tt.type = self.parseTypeString(t.type, c) || t.type;\t\t\t\t\t\t\n\t\t\t}\n\t\t}); \n\n\t\t//method.returns property\n\t\tvar returns = _(method.children||[]).filter(function(child)\n\t\t{\t\t\t\t\n\t\t\tself.beforeTypeBindingPlugins.execute({node: child, jsdocmaker: self});\n\t\t\tchild.text = JsDocMaker.stringTrim(child.text||\'\'); \n\t\t\treturn child.annotation === \'returns\' || child.annotation === \'return\'; \n\t\t}); \n\t\tmethod.returns = returns.length ? returns[0] : {name:\'\',type:\'\'};\n\n\t\t//because @returns doesn\'t have a name it breaks our simple grammar, so we merge the name with its text.\n\t\tmethod.returns.text = (method.returns.name ? method.returns.name+\' \' : \'\') + (method.returns.text||\'\'); \n\n\t\tif(_(method.returns.type).isString())\n\t\t{\n\t\t\tmethod.returns.type = self.parseTypeString(method.returns.type, c) || method.returns.type;\t\t\t\t\t\t\n\t\t}\n\n\t\tif(self.installModifiers)\n\t\t{\n\t\t\tself.installModifiers(method); \n\t\t}\n\t});\n};\n\n//@filename {Foo} fileName ./src/jsdocmaker/core/preprocess.js\n\n/* @module shortjsdoc\n\n#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc\n\n*/\nvar JsDocMaker = require(\'./class\'); \nvar _ = require(\'underscore\'); \n\n//COMMENT PREPROCESSORS\n\n//@class PreprocessCommentsPlugin1 @extends JsDocMakerPlugin  this plugin is registered in JsDocMaker.prototype.allCommentPreprocessorPlugins plugin container\n// and do an initial preprocesing on the comments erasing those marked comments to be ignored, and fixing its text to support alternative syntax.\nvar preprocessCommentsPlugin1 = {\n\tname: \'preprocessCommentsPlugin1\'\n,\texecute: function(options)\n\t{\n\t\tvar comments = options.node;\n\t\t//we do the parsing block by block,\n\t\tfor (var i = 0; i < comments.length; i++) \n\t\t{\n\t\t\tvar node = comments[i];//options.node; \n\t\t\tnode.value = node.value || \'\'; \n\n\t\t\t// fix styled comment blocks with \'*\' as new line prefix\n\t\t\t// if(node.type === \'Block\')\n\t\t\t// {\n\t\t\t// \t// Note: syntax /** - not necesary to implement\n\t\t\t// \tdebugger\n\t\t\t// \tnode.value = node.value.replace(/\\n \\*/gi, \'\\n\');\n\t\t\t// }\n\n\t\t\t// remove comments that starts with ignoreCommentPrefix\n\t\t\tif(JsDocMaker.startsWith(JsDocMaker.stringTrim(node.value), options.jsdocMaker.ignoreCommentPrefix))\n\t\t\t{\n\t\t\t\t//if \\n * is detected it is fixed to not count the decorative \'*\'\n\t\t\t\tcomments.splice(i, 1); //remove this node\n\t\t\t}\n\t\t}\n\t}\n} ; \n\n//install it as comment preprocessor plugin!\nJsDocMaker.prototype.allCommentPreprocessorPlugins.add(preprocessCommentsPlugin1);//.push(JsDocMaker.prototype.preprocessComments); \n\n\n//@class FixUnamedAnnotationsPlugin @extends JsDocMakerPlugin This plugin is installed at JsDocMaker.prototype.commentPreprocessorPlugins and and solves the following problem: \n//Our regexp format expect an anotation with a name. So for enabling unamed annotations we do this dirty fix, this is add a name to precondition\nvar fixUnamedAnnotationsPlugin = {\n\tname: \'fixUnamedAnnotationsPlugin\'\n,\tpriority: 3\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node;\n\t\tif(node.value)\n\t\t{\n\t\t\tnode.value = node.value.replace(/@constructor/gi, \'@constructor n\'); \n\t\t\tnode.value = node.value.replace(/(@\\w+)\\s*$/gi, \'$1 dummy \');\n\t\t\tnode.value = node.value.replace(/(@\\w+)\\s+(@\\w+)/gi, \'$1 dummy $2\');\n\t\t}\n\t}\n}; \n//install it as comment preprocessor plugin!\nJsDocMaker.prototype.commentPreprocessorPlugins.add(fixUnamedAnnotationsPlugin); \n\n//@class UnifyLineCommentsPlugin @extends JsDocMakerPlugin this is a very important plugin for normalize our js input Line comments \n// It is executed at JsDocMaker.prototype.allCommentPreprocessorPlugins\nvar unifyLineCommentsPlugin = {\n\tname: \'unifyLineCommentsPlugin\'\n,\texecute: function(options)\n\t{\n\t\tvar i = 0\n\t\t,\tcomments = options.node\n\t\t,\tjsdocMaker = options.jsdocMaker; \n\t\n\t\tjsdocMaker.lineCommentSeparatorMark = \'_lineCommentSeparatorMark_\';\n\t\twhile(i < comments.length - 1)\n\t\t{\n\t\t\tvar c = comments[i]\n\t\t\t,\tnext = comments[i+1]; \n\n\t\t\tvar sss = JsDocMaker.stringFullTrim(options.jsdocMaker.data.source.substring(c.range[1], next.range[0])); \n\t\t\tif (c.type===\'Line\' && next.type===\'Line\' && !sss)\n\t\t\t{\n\t\t\t\tc.value += \' \' + jsdocMaker.lineCommentSeparatorMark + \' \' + next.value; \n\t\t\t\tc.range[1] = next.range[1]; \n\t\t\t\tcomments.splice(i+1, 1); \n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t}\n}; \nJsDocMaker.prototype.allCommentPreprocessorPlugins.add(unifyLineCommentsPlugin); \n\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/core/type-parsing.js\n\n/* jshint evil:true */\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'./class\'); \nvar shortjsdocParseLiteralObject = require(\'../objectTypeParser/parser.js\');\nvar _ = require(\'underscore\'); \n\n//TYPE PARSING\n\n//@method parseType parse a type string like \'Map<String,Array<Apple>>\' or \'String\' and return an object like {name: \'Map\',params:[\'String\',{name: \'Array\',params:[\'Apple\']}]}. This is the default type parser. \n//It depends on type parser file typeParser.js @static\nJsDocMaker.parseType = function(s)\n{\n\tvar parsed, ss;\n\tif(s.indexOf(\':\')!==-1)\n\t{\n\t\tss = \'{\'+s+\'}\'; \n\t\tparsed = JsDocMaker.parseLiteralObjectType(ss);\n\t}\n\telse\n\t{\n\t\tss =\'{name:\'+s+\'}\'; \n\t\tparsed = JsDocMaker.parseLiteralObjectType(ss);\n\t\tparsed = parsed.name; \n\t}\t\n\treturn parsed;\n}; \n\n// @method parse a object literal type string like \'\' @return {Object} the parsed object @static\nJsDocMaker.parseLiteralObjectType = function(s)\n{\n\tvar parsed = shortjsdocParseLiteralObject.parse(s);\t\n\tvar obj = eval(\'(\' + parsed + \')\'); \n\treturn obj;\n}; \n\nJsDocMaker.prototype.registerTypeParser = function(typeParser)\n{\n\tthis.typeParsers = this.typeParsers || {};\n\tthis.typeParsers[typeParser.name] = typeParser; \n}; \n\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/core/util.js\n\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'./class\'); \nvar _ = require(\'underscore\'); \n\n// STATIC UTILITIES\n\n// @method splitAndPreserve search for given regexp and split the given string but preserving the matches\n// @param {Regexp} regexp must contain a capturing group (like /(\\s+@\\w+)/gi)\n// @return {Array of string}\n// @static\nJsDocMaker.splitAndPreserve = function(string, replace)\n{\n\tstring = string || \'\';\n\tvar marker = \'_%_%_\';\n\tvar splitted = string.replace(replace, marker+\'$1\');\n\tif(splitted.length<2)\n\t{\n\t\treturn null; //TODO: notify error?\n\t}\n\tsplitted = splitted.split(marker);\n\treturn splitted; \n}; \n\n//@method stringFullTrim @param {String} s @static\nJsDocMaker.stringFullTrim = function(s)\n{\n\treturn (s||\'\').replace(/(?:(?:^|\\n)\\s+|\\s+(?:$|\\n))/g,\'\').replace(/\\s+/g,\' \');\n};\n//@method stringTrim @param {String} s @static\nJsDocMaker.stringTrim = function(str)\n{\n\tvar whitespace = \' \\n\\r\\t\\f\\x0b\\xa0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u200b\\u2028\\u2029\\u3000\';\n\tfor (var i = 0; i < str.length; i++) {\n\t\tif (whitespace.indexOf(str.charAt(i)) === -1) {\n\t\t\tstr = str.substring(i);\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (i = str.length - 1; i >= 0; i--) {\n\t\tif (whitespace.indexOf(str.charAt(i)) === -1) {\n\t\t\tstr = str.substring(0, i + 1);\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn whitespace.indexOf(str.charAt(0)) === -1 ? str : \'\';\n};\n//@method stringEndsWith @static\nJsDocMaker.stringEndsWith = function(str, suffix) \n{\n\tstr = str || \'\';\n\treturn str.indexOf(suffix, str.length - suffix.length) !== -1;\n}; \n//@method stringEndsWith @static\nJsDocMaker.startsWith = function(s, prefix)\n{\n\ts = s || \'\';\n\treturn s.indexOf(prefix)===0;\n}; \n\n//@method error @param {String}msg\nJsDocMaker.prototype.error = function(msg)\n{\n\tconsole.error(\'Error detected: \' + msg); \n\t// throw msg;\n}; \n\n\n// JsDocMaker.getChildren = function(node, compareProperties)\n// {\n// \tvar a = []\n// }; \n// JsDocMaker.getAChildren = function(node, compareProperties)\n// {\n// \tvar c = JsDocMaker.getChildren(node, compareProperties);\n// \treturn (c && c.length) ? return c[0] : null;\n// }; \n\n//@filename {Foo} fileName ./src/jsdocmaker/main.js\n\nvar JsDocMaker = require(\'./core/main\'); \n\nrequire(\'./plugin/main.js\'); \n\nmodule.exports = JsDocMaker;\n\n//@filename {Foo} fileName ./src/jsdocmaker/objectTypeParser/parser.js\n\n/*\n\nThis is a syntax definition compiled to JavaScript that parses an expression like \n\n  {name:String,colors:Map<String,Array<String>>}\n\nHow to work with this file ? open the following syntax into http://pegjs.org/online. \nThen make sure it returns the parse() function in the global \'shortjsdocParseLiteralObject\'\n\n\nstart\n  = "{" exprs:(EXPR)+ [,]* "}" {return \'{\' + exprs.join(\',\') + \'}\'; }\n\nEXPR\n  = name:NAME ":" value:(VALUE) [,]* {return name + \':\' + value; }\n\nVALUE\n  = type:TYPE / name:NAME [,]* {if(typeof name !== \'undefined\'){return name;}}\n\nTYPE\n  = name:NAME "<" list:(LIST_OF_NAMES)+ ">" {return \'{name: \'+ name +\',params:[\'+list.join(\',\')+\']}\'; }\n\nNAME\n  = name:[a-zA-z1-9_.]+ {return \'\\\'\'+name.join(\'\')+\'\\\'\'; }\n\nLIST_OF_NAMES\n  = type:TYPE / name:NAME [,]* {\n  if(typeof name !== \'undefined\'){\n  return name; \n  }\n}\n\n*/\nmodule.exports = (function() {\n  /*\n   * Generated by PEG.js 0.8.0.\n   *\n   * http://pegjs.majda.cz/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function SyntaxError(message, expected, found, offset, line, column) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.offset   = offset;\n    this.line     = line;\n    this.column   = column;\n\n    this.name     = "SyntaxError";\n  }\n\n  peg$subclass(SyntaxError, Error);\n\n  function parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n\n        peg$FAILED = {},\n\n        peg$startRuleIndices = { start: 0 },\n        peg$startRuleIndex   = 0,\n\n        peg$consts = [\n          peg$FAILED,\n          "{",\n          { type: "literal", value: "{", description: "\\"{\\"" },\n          [],\n          /^[,]/,\n          { type: "class", value: "[,]", description: "[,]" },\n          "}",\n          { type: "literal", value: "}", description: "\\"}\\"" },\n          function(exprs) {return \'{\' + exprs.join(\',\') + \'}\'; },\n          ":",\n          { type: "literal", value: ":", description: "\\":\\"" },\n          function(name, value) {return name + \':\' + value; },\n          function(name) {if(typeof name !== \'undefined\'){return name;}},\n          "<",\n          { type: "literal", value: "<", description: "\\"<\\"" },\n          ">",\n          { type: "literal", value: ">", description: "\\">\\"" },\n          function(name, list) {return \'{name: \'+ name +\',params:[\'+list.join(\',\')+\']}\'; },\n          /^[a-zA-z1-9_.]/,\n          { type: "class", value: "[a-zA-z1-9_.]", description: "[a-zA-z1-9_.]" },\n          function(name) {return \'\\\'\'+name.join(\'\')+\'\\\'\'; },\n          function(name) {\n            if(typeof name !== \'undefined\'){\n            return name; \n            }\n          }\n        ],\n\n        peg$bytecode = [\n          peg$decode("!.!\\"\\"2!3\\"+o$ #7!+&$,#&7!\\"\\"\\"  +V% #0$\\"\\"1!3%,)&0$\\"\\"1!3%\\"+8%.&\\"\\"2&3\'+(%4$6($!\\"%$$#  $##  $\\"#  \\"#  "),\n          peg$decode("!7$+a$.)\\"\\"2)3*+Q%7\\"+G% #0$\\"\\"1!3%,)&0$\\"\\"1!3%\\"+)%4$6+$\\"#!%$$#  $##  $\\"#  \\"#  "),\n          peg$decode("7#*Q \\"!7$+F$ #0$\\"\\"1!3%,)&0$\\"\\"1!3%\\"+(%4\\"6,\\"!!%$\\"#  \\"#  "),\n          peg$decode("!7$+b$.-\\"\\"2-3.+R% #7%+&$,#&7%\\"\\"\\"  +9%./\\"\\"2/30+)%4$61$\\"#!%$$#  $##  $\\"#  \\"#  "),\n          peg$decode("! #02\\"\\"1!33+,$,)&02\\"\\"1!33\\"\\"\\"  +\' 4!64!! %"),\n          peg$decode("7#*Q \\"!7$+F$ #0$\\"\\"1!3%,)&0$\\"\\"1!3%\\"+(%4\\"65\\"!!%$\\"#  \\"#  ")\n        ],\n\n        peg$currPos          = 0,\n        peg$reportedPos      = 0,\n        peg$cachedPos        = 0,\n        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if ("startRule" in options) {\n      if (!(options.startRule in peg$startRuleIndices)) {\n        throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");\n      }\n\n      peg$startRuleIndex = peg$startRuleIndices[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$reportedPos, peg$currPos);\n    }\n\n    function offset() {\n      return peg$reportedPos;\n    }\n\n    function line() {\n      return peg$computePosDetails(peg$reportedPos).line;\n    }\n\n    function column() {\n      return peg$computePosDetails(peg$reportedPos).column;\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: "other", description: description }],\n        peg$reportedPos\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, peg$reportedPos);\n    }\n\n    function peg$computePosDetails(pos) {\n      function advance(details, startPos, endPos) {\n        var p, ch;\n\n        for (p = startPos; p < endPos; p++) {\n          ch = input.charAt(p);\n          if (ch === "\\n") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === "\\r" || ch === "\\u2028" || ch === "\\u2029") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n        }\n      }\n\n      if (peg$cachedPos !== pos) {\n        if (peg$cachedPos > pos) {\n          peg$cachedPos = 0;\n          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };\n        }\n        advance(peg$cachedPosDetails, peg$cachedPos, pos);\n        peg$cachedPos = pos;\n      }\n\n      return peg$cachedPosDetails;\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, pos) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   \'\\\\\\\\\')\n            .replace(/"/g,    \'\\\\"\')\n            .replace(/\\x08/g, \'\\\\b\')\n            .replace(/\\t/g,   \'\\\\t\')\n            .replace(/\\n/g,   \'\\\\n\')\n            .replace(/\\f/g,   \'\\\\f\')\n            .replace(/\\r/g,   \'\\\\r\')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return \'\\\\x0\' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return \'\\\\x\'  + hex(ch); })\n            .replace(/[\\u0180-\\u0FFF]/g,         function(ch) { return \'\\\\u0\' + hex(ch); })\n            .replace(/[\\u1080-\\uFFFF]/g,         function(ch) { return \'\\\\u\'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(", ")\n              + " or "\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? "\\"" + stringEscape(found) + "\\"" : "end of input";\n\n        return "Expected " + expectedDesc + " but " + foundDesc + " found.";\n      }\n\n      var posDetails = peg$computePosDetails(pos),\n          found      = pos < input.length ? input.charAt(pos) : null;\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        pos,\n        posDetails.line,\n        posDetails.column\n      );\n    }\n\n    function peg$decode(s) {\n      var bc = new Array(s.length), i;\n\n      for (i = 0; i < s.length; i++) {\n        bc[i] = s.charCodeAt(i) - 32;\n      }\n\n      return bc;\n    }\n\n    function peg$parseRule(index) {\n      var bc    = peg$bytecode[index],\n          ip    = 0,\n          ips   = [],\n          end   = bc.length,\n          ends  = [],\n          stack = [],\n          params, i;\n\n      function protect(object) {\n        return Object.prototype.toString.apply(object) === "[object Array]" ? [] : object;\n      }\n\n      while (true) {\n        while (ip < end) {\n          switch (bc[ip]) {\n            case 0:\n              stack.push(protect(peg$consts[bc[ip + 1]]));\n              ip += 2;\n              break;\n\n            case 1:\n              stack.push(peg$currPos);\n              ip++;\n              break;\n\n            case 2:\n              stack.pop();\n              ip++;\n              break;\n\n            case 3:\n              peg$currPos = stack.pop();\n              ip++;\n              break;\n\n            case 4:\n              stack.length -= bc[ip + 1];\n              ip += 2;\n              break;\n\n            case 5:\n              stack.splice(-2, 1);\n              ip++;\n              break;\n\n            case 6:\n              stack[stack.length - 2].push(stack.pop());\n              ip++;\n              break;\n\n            case 7:\n              stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));\n              ip += 2;\n              break;\n\n            case 8:\n              stack.pop();\n              stack.push(input.substring(stack[stack.length - 1], peg$currPos));\n              ip++;\n              break;\n\n            case 9:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1]) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 10:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1] === peg$FAILED) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 11:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1] !== peg$FAILED) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 12:\n              if (stack[stack.length - 1] !== peg$FAILED) {\n                ends.push(end);\n                ips.push(ip);\n\n                end = ip + 2 + bc[ip + 1];\n                ip += 2;\n              } else {\n                ip += 2 + bc[ip + 1];\n              }\n\n              break;\n\n            case 13:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (input.length > peg$currPos) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 14:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 15:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 16:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 17:\n              stack.push(input.substr(peg$currPos, bc[ip + 1]));\n              peg$currPos += bc[ip + 1];\n              ip += 2;\n              break;\n\n            case 18:\n              stack.push(peg$consts[bc[ip + 1]]);\n              peg$currPos += peg$consts[bc[ip + 1]].length;\n              ip += 2;\n              break;\n\n            case 19:\n              stack.push(peg$FAILED);\n              if (peg$silentFails === 0) {\n                peg$fail(peg$consts[bc[ip + 1]]);\n              }\n              ip += 2;\n              break;\n\n            case 20:\n              peg$reportedPos = stack[stack.length - 1 - bc[ip + 1]];\n              ip += 2;\n              break;\n\n            case 21:\n              peg$reportedPos = peg$currPos;\n              ip++;\n              break;\n\n            case 22:\n              params = bc.slice(ip + 4, ip + 4 + bc[ip + 3]);\n              for (i = 0; i < bc[ip + 3]; i++) {\n                params[i] = stack[stack.length - 1 - params[i]];\n              }\n\n              stack.splice(\n                stack.length - bc[ip + 2],\n                bc[ip + 2],\n                peg$consts[bc[ip + 1]].apply(null, params)\n              );\n\n              ip += 4 + bc[ip + 3];\n              break;\n\n            case 23:\n              stack.push(peg$parseRule(bc[ip + 1]));\n              ip += 2;\n              break;\n\n            case 24:\n              peg$silentFails++;\n              ip++;\n              break;\n\n            case 25:\n              peg$silentFails--;\n              ip++;\n              break;\n\n            default:\n              throw new Error("Invalid opcode: " + bc[ip] + ".");\n          }\n        }\n\n        if (ends.length > 0) {\n          end = ends.pop();\n          ip = ips.pop();\n        } else {\n          break;\n        }\n      }\n\n      return stack[0];\n    }\n\n    peg$result = peg$parseRule(peg$startRuleIndex);\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: "end", description: "end of input" });\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);\n    }\n  }\n\n  return {\n    SyntaxError: SyntaxError,\n    parse:       parse\n  };\n})();\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/alias.js\n\n// @module shortjsdoc.plugin.alias \n/*\n#Alias plugin\n\nthis plugin allow to define an alias for annotations and classes. This means we can add name \nalias to annotations or classes. Alias can override previous defined ones. \n\n##Class alias\n\nClass alias can be used to shortcut class names, like \n\n\t@alias class A Array\n\t@alias class O Object\n\t@alias class S String\n\t@alias class N Number\n\t@alias class B Boolean\n\nOr just use the shortcut\n\n\t@alias class A Array O Object S String\n\nAfter this I just can write my types like this:\n\n\t@property {config:O<S,N>,tools:A<Tool>} complex\n\nNote that these plugins perform two tasks using two different plugins: \n1) replace aliases initial annotation with original ones on parsing - the plugin runs on beforeParseNodePlugins\n2) but also perform the aliasing on type binding. This is done on beforeBindClassPlugins\n\nIMPORTANT. alias to complex types are not supported, only alias to simple types. The following is WRONG: @alias class MySuper Array<Leg>\n\n##annotation alias\n@alias annotation task method\n\n##Implementation notes\n\nat preprocessing the alias meta information will be stored in the AST under the \'alias\' property. \nThen this information will be consumed at binding time in the second plugin\n\n*/\n\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//@class AliasBeforeParseNodePlugin @extends JsDocMakerPlugin a plugin executed at afterParseUnitSimplePlugins. Responsible of TODO \nvar aliasBeforeParseNodePlugin = {\n\n\tname: \'alias\'\n\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node\n\t\t,\tcontext = options.jsdocmaker.data\n\t\t,\tself = this;\n\n\t\tcontext.alias = context.alias || {}; \n\n\n\t\tvar aliasList = []; //its a list because node can have many alias children inside. alias is a second-level AST node\n\t\t\t\n\t\tif (node.annotation==\'alias\')\n\t\t{\t\t\t\n\t\t\taliasList = [node];\n\t\t}\n\t\telse \n\t\t{\n\t\t\taliasList = _(node.children).select(function(c)\n\t\t\t{\n\t\t\t\treturn c.annotation==\'alias\';\n\t\t\t});\n\t\t}\n\n\t\t_(aliasList).each(function(alias)\n\t\t{\n\t\t\tself.parseAlias(alias, context, true); \n\t\t}); \n\n\t\t//TODO: remove the alias node from comments array ? \n\t\t\n\t}\n\n\t//@method parseAlias @return {JSDocASTNode} the enhanced node with property *alias* enhanced\n\t//@param {JSDocASTNode} alias @param {JsDocMaker} context @param {Boolean} install  @return {Array<JSDocASTNode>} contained in the annotation text.\n,\tparseAlias: function(alias, context, install)\n\t{\n\t\tif(!alias)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tvar a = alias.text.split(/\\s+/)\n\t\t,\tparsed = [];\n\t\tfor (var i = 0; i < a.length; i+=2) \n\t\t{\n\t\t\tvar o = {type: alias.name, name: a[i], target: a[i+1]};\n\t\t\tparsed.push(o); \n\t\t\tif(install)\n\t\t\t{\n\t\t\t\tcontext.alias[o.name] = o;\n\n\t\t\t}\n\t\t}\n\t\treturn parsed;\n\t}\n}; \n\n\n\nJsDocMaker.prototype.afterParseUnitSimplePlugins.add(aliasBeforeParseNodePlugin); \n\n//@class AliasBeforeBindClassPlugin @extends JsDocMakerPlugin a plugin executed at afterParseUnitSimplePlugins. Responsible of TODO \nvar aliasBeforeBindClassPlugin = {\n\tname: \'aliasAfterTypeBindingPlugin\'\n\n\t//@param {name:name, baseClass: baseClass, jsdocmaker: this} context  this plugin has the change of chainging the context.\n,\texecute: function(context)\n\t{\n\t\tcontext.jsdocmaker.data.alias = context.jsdocmaker.data.alias || {}; \n\t\tvar alias = context.jsdocmaker.data.alias[context.name]; \n\n\t\tif(alias)\n\t\t{\n\t\t\tcontext.name = alias.target; //alias only sypport targetting single types!\n\t\t}\n\t}\n}; \n\nJsDocMaker.prototype.beforeBindClassPlugins.add(aliasBeforeBindClassPlugin); \n\n//@class annotationAliasPlugin @extends JsDocMakerPlugin a plugin executed at commentPreprocessorPlugins. Responsible of TODO \nvar annotationAliasPlugin = {\n\texecute: function(options)\n\t{\n\t\tvar alias = {}\n\t\tvar regex = /@alias\\s+annotation\\s+([\\w\\-_\\.]+)\\s+([\\w\\-_\\.]+)/gi; //TODO: the core should provide this regex\n\t\toptions.node.value.replace(regex, function(s, newName, targetName)\n\t\t{\n\t\t\talias[newName] = targetName;\n\t\t});\n\t\t_.each(alias, function(targetName, newName)\n\t\t{\n\t\t\tvar newNameRegex = new RegExp(\'@\'+newName, \'gi\');\n\t\t\toptions.node.value = options.node.value.replace(newNameRegex, \'@\'+targetName);\n\t\t});\n\t}\n}\nJsDocMaker.prototype.commentPreprocessorPlugins.add(annotationAliasPlugin);\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/comment-indentation.js\n\n/*\n@module shortjsdoc.plugin.comment.indentation \n#Comment indentation plugin\nTakes care of respecting the original indentation of block comments. \nIt will erase the initial spaces of each line according to the comment indentation.\n*/\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n\n//@class commentIndentationPlugin @extends JsDocMakerPlugin a plugin executed at beforeParseNodePlugins. \nvar commentIndentationPlugin = {\n\n\tname: \'commentIndentation\'\n\n,\texecute: function(options)\n\t{\n\t\tif(!options.node.text)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tvar fileSource = options.jsdocmaker.data.files[options.currentFile.fileName]\n\t\tvar beforeCommentText = options.jsdocmaker.data.source.substring(0, options.node.commentRange[0]); \n\n\t\tvar result = /([ \\t]+)$/.exec(beforeCommentText)\n\t\t,\tprefix = 0;\n\t\tif(result && result.length) \n\t\t{\n\t\t\tprefix = result[0];\n\n\t\t\tvar a = options.node.text.split(\'\\n\'), output = [];;\n\t\t\t_(a).each(function(line)\n\t\t\t{\n\t\t\t\tvar repl = line.replace(new RegExp(\'^\'+prefix), \'\'); \n\t\t\t\t// console.log(line, repl); \n\t\t\t\toutput.push(repl);\n\t\t\t}); \n\n\t\t\t// TODO we are ssumming files have unix end to line. we should pre process all commments first. \n\t\t\toptions.node.text = output.join(\'\\n\');//replaceAll(\'\\n\' + options.node.text, prefix, \'\'); \n\t\t}\t\n\t}\n}\nJsDocMaker.prototype.afterParseNodePlugins.add(commentIndentationPlugin); \n\n\n// function escapeRegExp(string) \n// {\n//     return string.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, "\\\\$1");\n// }\n// function replaceAll(string, find, replace) \n// {\n// \tvar r = new RegExp(escapeRegExp(find), \'g\');\n// \tdebugger;\n// \tconsole.log(r)\n// \treturn string.replace(r, replace);\n// }\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/dependencies.js\n\n// @module shortjsdoc.plugin.dependencies \n/*\n#dependencies plugin\n\nthis is not technically a plugin because we don\'t want to make the cmd line tool slower and is a not \nimportant feature. It should be executed by hand in the user agent.\n\n*/\n\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\nvar Tool = function(maker, config)\n{\n\tthis.maker = maker;\n\tthis.config = config || {}; \n}; \n_(Tool.prototype).extend({\n\tcalculateClassDependencies: function()\n\t{\n\t\tvar self = this\n\t\t,\tcurrentClass\n\t\t// ,\tcurrentModule\n\t\t,\tfn = function(node)\n\t\t\t{\n\t\t\t\t// if(node.annotation===\'module\')\n\t\t\t\t// {\n\t\t\t\t// \tcurrentModule = node; \n\t\t\t\t// }\n\t\t\t\tif(node.annotation===\'class\')\n\t\t\t\t{\n\t\t\t\t\tcurrentClass = node;\n\t\t\t\t\tcurrentClass.dependencies = currentClass.dependencies || {}; \n\t\t\t\t\tcurrentClass.dependencies.classes = currentClass.dependencies.classes || {}; \n\t\t\t\t\tif(self.config.includeExtends && currentClass.extends && \n\t\t\t\t\t\t!_(self.config.ignoreClasses).contains(currentClass.extends.absoluteName))\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrentClass.dependencies.classes[currentClass.extends.absoluteName] = currentClass.extends; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar deps = _(node.children).filter(function(c)\n\t\t\t\t{ \n\t\t\t\t\treturn c.annotation===\'depends\'; \n\t\t\t\t});\n\t\t\t\n\t\t\t\tif(deps && deps.length)\n\t\t\t\t{\t\n\t\t\t\t\t_(deps).each(function(dep)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(dep.name===\'class\')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar c = self.maker.findClassByName(dep.text);\n\t\t\t\t\t\t\tif(!c)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconsole.log(\'warning dependency class not found: \'+dep.text); \n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(_(self.config.ignoreClasses).contains(c.absoluteName))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnode.dependencies = node.dependencies || {}; \n\t\t\t\t\t\t\tnode.dependencies.classes = node.dependencies.classes || {}; \n\t\t\t\t\t\t\tnode.dependencies.classes[c.absoluteName] = c; \n\t\t\t\t\t\t\tif(currentClass)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcurrentClass.dependencies.classes[c.absoluteName] = c; \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// else if(dep.name===\'module\') //TODO\n\t\t\t\t\t\t// { }\n\t\t\t\t\t\t// else //TOOD: make class to be the default and use name instead of text\n\t\t\t\t\t\t// { }\n\t\t\t\t\t}); \n\t\t\t\t}\n\t\t\t}\n\t\t,\tfn_type = function(type, ownerNode)\n\t\t\t{\n\t\t\t\tif(!currentClass || _(self.config.ignoreClasses).contains(type.absoluteName))\n\t\t\t\t{\n\t\t\t\t\treturn; \n\t\t\t\t}\n\n\t\t\t\t//when iterating types, we automatically add the type as class dependency to the currentClass\n\t\t\t\tif(type.absoluteName !== currentClass.absoluteName && \n\t\t\t\t\t!_(self.config.ignoreClasses).contains(type.absoluteName))\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.dependencies.classes[type.absoluteName] = type; \t\n\t\t\t\t}\n\t\t\t};\n\t\tthis.maker.recurseAST(fn, fn_type); \n\t}\n});\n\nJsDocMaker.prototype.tools = JsDocMaker.tools || {}; \nJsDocMaker.prototype.tools.DependencyTool = Tool; \n\nJsDocMaker.prototype.findClassByName = function(className, data)\n{\n\tdata = data || this.data;\n\tvar c = _(data.classes).find(function(c)\n\t{\n\t\treturn c.absoluteName===className; \n\t});\n\tif(!c)\n\t{\n\t\tc = _(data.classes).find(function(c)\n\t\t{\n\t\t\treturn c.name===className; \n\t\t});\n\t}\n\treturn c; \n}; \n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/escape-at.js\n\nvar _ = require(\'underscore\'); \nvar JsDocMaker = require(\'../core/class\'); \nvar PluginContainer = require(\'../core/plugin\'); \n\nrequire(\'./recurse-plugin-containers\');\n\nvar key, keyRegexp; \n\nvar pluginBefore = {\n\tname: \'escape-at\'\n,\tpriority: 2\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node;\n\t\tif(!key)\n\t\t{\n\t\t\t// debugger;\n\t\t\tkey = \'escape_at_\'+_.uniqueId();\n\t\t\tkeyRegexp = new RegExp(key, \'g\'); \n\t\t}\n\n\t\tnode.value = (node.value||\'\').replace(/@@/g, key); \n\t}\n}; \nJsDocMaker.prototype.commentPreprocessorPlugins.add(pluginBefore);\n\n\nvar pluginAfter = {\n\tname: \'escape-at\'\n,\texecute: function(node) \n\t{\n\t\tnode.text = (node.text||\'\').replace(keyRegexp, \'@\'); \n\t}\n}; \nJsDocMaker.prototype.afterTypeBindingRecurseASTPlugins.add(pluginAfter);\n\n\n\n\n\n// old impl\n// var plugin = {\n// \tname: \'escape-at\'\n// ,\texecute: function(node)\n// \t{\n// \t\t// debugger;\n// \t\tnode.text = (node.text||\'\').replace(/@@/g, \'@\'); \n// \t}\n// }; \n// // debugger;\n// JsDocMaker.prototype.afterTypeBindingRecurseASTPlugins.add(plugin);\n//JsDocMaker.prototype.commentPreprocessorPlugins.add(plugin);\n\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/filter-by-child-annotations.js\n\n// @module shortjsdoc.plugin @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\nJsDocMaker.filterByChildAnnotation = function(options)\n{\n\tvar data = options.jsdocmaker.data;\n\tvar annotations = options.annotations || [];\n\tvar predicate = function(node)\n\t{\n\t\treturn annotations.indexOf(node.annotation)!=-1;\n\t};\n\t_.each(_.values(data.classes), function(c)\n\t{\n\t\tif(!classHasDescendant(c, predicate))\n\t\t{\n\t\t\tdelete data.classes[c.absoluteName];\n\t\t}\n\t});\n\t_.each(_.values(data.modules), function(m)\n\t{\n\t\tif(!_.find(_.values(data.classes), function(c)\n\t\t{\n\t\t\treturn c.module && c.module.name==m.name\n\t\t}))\n\t\t{\n\t\t\tdelete data.modules[m.name]\n\t\t}\n\t});\n\n\t// TODO: remove module\'s functions\n\n};\n\nfunction classHasDescendant(c, predicate){\n\tvar has;\n\thas = has || _.find(c.children, function(node){return predicate(node)});\n\n\tfunction doChildNodes(parentNode, childName, predicate)\n\t{\n\t\tvar found\n\t\t_.each(parentNode[childName], function(node, key)\n\t\t{\n\t\t\tif(!_.find(node.children, function(c){return predicate(c)}))\n\t\t\t{\n\t\t\t\tdelete parentNode[childName][key];\n\t\t\t}\n\t\t\telse \n\t\t\t{\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t});\n\t\treturn found;\n\t}\n\n\treturn doChildNodes(c, \'methods\', predicate) || doChildNodes(c, \'properties\', predicate) || doChildNodes(c, \'events\', predicate);\n}\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/inherited.js\n\n// @module shortjsdoc.plugin @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n// TODO : turn this into a normal plugin - right now it is mixing itself in JsDocMaker\n// INHERITED methods&properties postproccessing. Optional\n\n//@method postProccessInherited calculates inherited methods&properties and put it in class\'properties inheritedMethods and inheritedProperties\nJsDocMaker.prototype.postProccessInherited = function()\n{\n\tvar self = this;\n\t_(self.data.classes).each(function(c)\n\t{\n\t\tc.inherited\t= c.inherited || {}; \n\t\tvar inheritedData = {}; \n\n\t\tc.inherited.methods = c.inherited.methods || {};\n\t\tself.extractInherited(c, c.extends, \'method\', inheritedData);\n\t\t_(c.inherited.methods).extend(inheritedData); \n\n\t\tinheritedData = {}; \n\t\tc.inherited.properties = c.inherited.properties || {};\n\t\tself.extractInherited(c, c.extends, \'property\', inheritedData);\n\t\t_(c.inherited.properties).extend(inheritedData); \n\n\t\tinheritedData = {}; \n\t\tc.inherited.events = c.inherited.events || {};\n\t\tself.extractInherited(c, c.extends, \'event\', inheritedData);\n\t\t_(c.inherited.events).extend(inheritedData); \n\n\t\tinheritedData = {}; \n\t\tc.inherited.attributes = c.inherited.attributes || {};\n\t\tself.extractInherited(c, c.extends, \'attribute\', inheritedData);\n\t\t_(c.inherited.attributes).extend(inheritedData); \n\t});\n};\n\n//@method extractInherited @param baseClass @param c @param what @para data\nJsDocMaker.prototype.extractInherited = function(baseClass, c, what, data)\n{\n\tvar self = this;\n\tif(!c || c.nativeTypeUrl)\n\t{\n\t\treturn;\n\t}\n\twhat = what || \'method\'; \n\tif(what === \'method\')\n\t{\t\t\n\t\t_(c.methods).each(function(method, name)\n\t\t{\n\t\t\tbaseClass.methods = baseClass.methods || {};\n\t\t\tif(!baseClass.methods[name])\n\t\t\t{\n\t\t\t\tdata[name] = method;\n\t\t\t\t// TODO: here we can act and clone the inherited nodes and add more info about the owner\n\t\t\t\t// data[name].inherited = true; \n\t\t\t\t// data[name].inheritedFrom = c; \n\t\t\t}\n\t\t});\n\t}\n\telse if(what === \'property\')\n\t{\n\t\t_(c.properties).each(function(p, name)\n\t\t{\n\t\t\tbaseClass.properties = baseClass.properties || {};\n\t\t\tif(!baseClass.properties[name])\n\t\t\t{\n\t\t\t\tdata[name] = p;\n\t\t\t\t// TODO: here we can act and clone the inherited nodes and add more info about the owner\n\t\t\t\t// data[name].inherited = true; \n\t\t\t\t// data[name].inheritedFrom = c; \n\t\t\t}\n\t\t});\n\t}\n\telse if(what === \'event\')\n\t{\n\t\t_(c.events).each(function(p, name)\n\t\t{\n\t\t\tbaseClass.events = baseClass.events || {};\n\t\t\tif(!baseClass.events[name])\n\t\t\t{\n\t\t\t\tdata[name] = p;\n\t\t\t\t// TODO: here we can act and clone the inherited nodes and add more info about the owner\t\n\t\t\t\t// data[name].inherited = true; \n\t\t\t\t// data[name].inheritedFrom = c; \n\t\t\t}\n\t\t});\n\t}\n\n\telse if(what === \'attribute\')\n\t{\n\t\t_(c.attributes).each(function(p, name)\n\t\t{\n\t\t\tbaseClass.attributes = baseClass.attributes || {};\n\t\t\tif(!baseClass.attributes[name])\n\t\t\t{\n\t\t\t\tdata[name] = p;\n\t\t\t\t// TODO: here we can act and clone the inherited nodes and add more info about the owner\t\n\t\t\t\t// data[name].inherited = true; \n\t\t\t\t// data[name].inheritedFrom = c; \n\t\t\t}\n\t\t});\n\t}\n\n\tif(c.extends && c !== c.extends) //recurse!\n\t{\n\t\tself.extractInherited(baseClass, c.extends, what, data);\n\t}\n};\n\n//@method isClassOwner utility method for knowing if a property is defined in given class or is inherithed\n//@static @param aClass @param prop\nJsDocMaker.classOwnsProperty = function(aClass, prop)\n{\n\tvar result = prop.absoluteName && aClass.absoluteName && prop.absoluteName.indexOf(aClass.absoluteName) === 0; \n\treturn result;\n}; \n\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/literal-object.js\n\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//\n// it is an exmaple of a plugin that parse literal types like @param {#obj({p1:P1,p2:P2,...})} param1\n\n// CUSTOM TPE PLUGIN literalObjectParse - requires literalObjectParser.js - it adds support \n// for the custom type syntax #obj({p1:P1,p2:P2,...})to express literal objects\n// syntax: {#obj(prop1:String,prop2:Array<Apple>)}\n// DEPRECATED - turn it into a unit test showing an  example of plugin making. this file will be delete.\n// @method literalObjectParse\nJsDocMaker.prototype.literalObjectParse = function(s, baseClass)\n{\n\tvar parsed = null\n\t,\tself=this\n\t,\tproperties = {};\n\ttry\n\t{\n\t\tvar result  = JsDocMaker.parseLiteralObjectType(\'{\' + s + \'}\');\n\t\t_(result).each(function(value, key)\n\t\t{\n\t\t\tvar valueBinded = self.bindParsedType(value, baseClass);\n\t\t\tproperties[key] = valueBinded; \n\t\t}); \n\t}\n\tcatch(ex)\n\t{\n\t\tJsDocMaker.prototype.error(\'Failed to parse literal object \' + s);\n\t\tthrow ex;\n\t}\n\treturn {\n\t\tname: \'Object\'\n\t,\tproperties: properties\n\t,\tpropertiesOriginal: parsed\n\t}; \n};\n\nJsDocMaker.prototype.literalObjectInstall = function()\n{\t\n\tthis.typeParsers = this.typeParsers || {}; \n\tvar parser = {\n\t\tname: \'obj\'\n\t,\tparse: _(this.literalObjectParse).bind(this)\n\t};\n\tthis.registerTypeParser(parser); \n}; \n\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/main.js\n\n\'strict mode\'; \n\nvar JsDocMaker = require(\'../core/main.js\'); \n\n// heads up ! the following require() list are our installed plugins !\n\nrequire(\'./native-types.js\'); \nrequire(\'./modifiers.js\'); \nrequire(\'./inherited.js\');\nrequire(\'./util.js\');\nrequire(\'./literal-object.js\');\nrequire(\'./module-exports.js\');\nrequire(\'./alias.js\');\n// require(\'./metadata.js\');\nrequire(\'./comment-indentation.js\');\n\nrequire(\'./text-marks.js\');\nrequire(\'./text-marks-references.js\');\n\nrequire(\'./recurse-plugin-containers.js\');\nrequire(\'./escape-at.js\');\n\n\nrequire(\'./filter-by-child-annotations\'); \n\n\n//tools\nrequire(\'./dependencies.js\'); //TODO: review, this probably makes compilation slower. \n\nmodule.exports = JsDocMaker; \n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/modifiers.js\n\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//MODIFIERS postproccessing- like static, private, final. Optional module\n\n//@property {Array<String>}MODIFIERS @static\nJsDocMaker.MODIFIERS = [\'static\', \'private\', \'final\', \'deprecated\', \'experimental\', \'optional\', \'abstract\']; \n//@method installModifiers sets the property modifiers to the node according its children\nJsDocMaker.prototype.installModifiers = function(node)\n{\n\tnode.modifiers = node.modifiers || []; \n\t_(node.children).each(function(child)\n\t{\n\t\tif(_(JsDocMaker.MODIFIERS).contains(child.annotation))\n\t\t{\n\t\t\tnode.modifiers.push(child.annotation); \n\t\t}\n\t});\n}; \n \n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/module-exports.js\n\n/* @module shortjsdoc.plugin.module-export\n\n#@module @exports\nthe module AST will contain a property exports pointing to a type that can be complex. Example:\n\n\t@module module1 blabla\n\t@class MyTool1\n\t@exports {version:String,Tool:MyTool1}\n*/\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//@class ModuleExportsPlugin @extends JsDocMakerPlugin\nvar plugin_beforeTypeBinding = {\n\tname: \'@module @exports - beforeTypeBinding\'\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node\n\t\t,\tjsdocMaker = options.jsdocmaker; \n\t\tif(node.annotation!=\'module\')\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tvar exports = _(node.children).select(function(child)\n\t\t{\n\t\t\treturn child.annotation==\'exports\';\n\t\t}) || null;\n\n\t\tif(exports && exports.length)\n\t\t{\n\t\t\texports = exports[0]; \n\t\t\tnode.exports = exports;\n\t\t\t//name is part of the text\n\t\t\texports.text = exports.name + \' \' + exports.text; \n\n\t\t\t//type binding\n\t\t\tvar parsedType = jsdocMaker.parseTypeString(node.exports.type, node);\n\t\t\tnode.exports.typeString = node.exports.type;\n\t\t\tnode.exports.type = parsedType;\n\t\t}\n\t}\n}; \n  \nJsDocMaker.prototype.beforeTypeBindingPlugins.add(plugin_beforeTypeBinding); \n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/native-types.js\n\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n// NATIVE TYPES LINKING / post processing. Optional\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String\nJsDocMaker.NATIVE_TYPES = [\'String\', \'Object\', \'Array\', \'Date\', \'Regex\', \'Function\', \n\t\'Boolean\', \'Error\', \'TypeError\', \'Number\']; \n\n//@method getNativeTypeUrl @returns {String}an url if given name match a native types or undefined otherwise\nJsDocMaker.prototype.getNativeTypeUrl = function(name)\n{\n\tif(_(JsDocMaker.NATIVE_TYPES).contains(name))\n\t{\n\t\treturn \'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/\' + name;\n\t}\n\n\tvar customTypeUrl;\n\t_(this.customNativeTypes).each(function(val, key)\n\t{\n\t\tif(key===name)\n\t\t{\n\t\t\t//TODO: support wildcard like $(name) for inserting the name in the given url dynamically\n\t\t\tcustomTypeUrl = val;\n\t\t}\n\t});\n\treturn customTypeUrl;\n}; \n\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/recurse-plugin-containers.js\n\n// @module recurse-plugin-containers - a plugin to be used by concrete plugins to iterate on all \n// nodes after some interesting stages. by calling recurseAST. \n// The objective is that other concrete plugins register here and so the AST recursion is made \n// ONCE instead of using recurseAST in each of them.\n\n\nvar JsDocMaker = require(\'../core/class\'); \nvar PluginContainer = require(\'../core/plugin\'); \nrequire(\'./util\'); \nvar _ = require(\'underscore\'); \n\n// @class AfterTypeBindingRecurseASTPluginContainer it is both a plugin and a plugin container @extends PluginContainer\nvar AfterTypeBindingRecurseASTPluginContainer = function()\n{\n\treturn PluginContainer.apply(this, arguments); \n};\nAfterTypeBindingRecurseASTPluginContainer.prototype = _({}).extend(PluginContainer.prototype);\n_(AfterTypeBindingRecurseASTPluginContainer.prototype).extend(\n{\n\tname: \'AfterTypeBindingRecurseASTPluginContainer\'\n\n\t// for each AST node all child plugins will be executed - the objective is to recurse the ast only once.\n,\texecute: function(options)\n\t{\n\t\t// debugger;\n\t\t//TODO: this logic doesn\'t respect priority - don\'t copy and paste this logic here - define a cisitor method in super\n\t\tvar result = null, self = this;\n\t\toptions.jsdocmaker.recurseAST(function(node)\n\t\t{\n\t\t\t_(self.plugins).each(function(plugin) \n\t\t\t{\n\t\t\t\tresult = plugin.execute(node, plugin);\n\t\t\t}); \n\t\t}); \n\t\treturn result; \n\t}\n}); \n\n\nvar plugin = new AfterTypeBindingRecurseASTPluginContainer();\n\n//@module shortjsdoc @class JsDocMaker @property {AfterTypeBindingRecurseASTPluginContainer} afterTypeBindingRecurseASTPlugins\nJsDocMaker.prototype.afterTypeBindingRecurseASTPlugins = plugin; \n\nJsDocMaker.prototype.afterTypeBindingPlugins.add(plugin); \n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/text-marks-references.js\n\n/*\n@module shortjsdoc.plugin.text-marks-references\n\nIt is based on text-marks plugin to give support to @?class @?method @?module @?property @?event and @?ref  text marks. \n\nThey will be binded to referenced nodes. The @?ref can bind anything passed as absolute name but it is less performant. \n\nAlso it contains the implementation for @?link\n\n*/\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\nvar textMarksReferencesPlugin = {\n\n\tname: \'text-marks-references\'\n\n,\texecute: function(options)\n\t{\n\t\tvar currentClass\n\t\t,\tself = this\n\t\t,\tclassMemberNameDic = {\n\t\t\t\tmethod: \'methods\'\n\t\t\t,\tproperty: \'properties\'\n\t\t\t,\tevent: \'events\'\n\t\t\t}; \n\n\t\toptions.jsdocmaker.recurseAST(function(node)\n\t\t{\n\t\t\tif(node.annotation===\'class\')\n\t\t\t{\n\t\t\t\tcurrentClass = node;\n\t\t\t}\n\t\t\t_(node.textMarks).each(function(mark, key)\n\t\t\t{\n\t\t\t\tif(mark.binding)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(mark.name===\'link\')\n\t\t\t\t{\n\t\t\t\t\tvar linkRegex = /\\[([^\\]]+)\\]\\(([^\\)]+)\\)/g; \n\t\t\t\t\tvar result = linkRegex.exec(mark.arg); \n\t\t\t\t\tif(result && result.length >= 3)\n\t\t\t\t\t{\n\t\t\t\t\t\tmark.linkLabel = result[1]; \n\t\t\t\t\t\tmark.linkUrl = result[2]; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(mark.name===\'class\')\n\t\t\t\t{\n\t\t\t\t\tmark.binding = self.bindClass(mark, currentClass, options.jsdocmaker) || {annotation: \'class\', name: mark.name, error:\'NAME_NOT_FOUND\'};\n\t\t\t\t}\n\t\t\t\telse if(mark.name===\'module\')\n\t\t\t\t{\n\t\t\t\t\tmark.binding = self.bindModule(mark, currentClass, options.jsdocmaker) || {annotation: \'module\', name: mark.name, error:\'NAME_NOT_FOUND\'};\n\t\t\t\t}\n\t\t\t\telse if(mark.name===\'method\' || mark.name===\'property\' || mark.name===\'event\')\n\t\t\t\t{\n\t\t\t\t\tmark.binding = self.bindClassMember(mark, currentClass, options.jsdocmaker, [classMemberNameDic[mark.name]]) || {annotation: mark.name, name: mark.name, error:\'NAME_NOT_FOUND\'};\n\t\t\t\t}\n\t\t\t\telse if(mark.name===\'ref\')\n\t\t\t\t{\n\t\t\t\t\tmark.binding = self.bindModule(mark, currentClass, options.jsdocmaker); \n\t\t\t\t\tif(!mark.binding)\n\t\t\t\t\t{\n\t\t\t\t\t\tmark.binding = self.bindClass(mark, currentClass, options.jsdocmaker); \n\t\t\t\t\t}\n\t\t\t\t\tif(!mark.binding)\n\t\t\t\t\t{\n\t\t\t\t\t\tmark.binding = self.bindClassMember(mark, currentClass, options.jsdocmaker, [classMemberNameDic[\'method\'], classMemberNameDic[\'property\'], classMemberNameDic[\'event\']]) || {annotation: mark.name, name: mark.name, error:\'NAME_NOT_FOUND\'}; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}); \n\t\t});\n\t}\n\n\t//@method bindClassMember binds a method, property or event using the marking  @param {String} what can be method, property, event\n,\tbindClassMember:function(mark, currentClass, maker, what)\n\t{\n\t\tvar binded;\n\t\tif(currentClass)\n\t\t{\n\t\t\t_(what).each(function(member)\n\t\t\t{\n\t\t\t\tif(currentClass[member] && currentClass[member][mark.arg])\n\t\t\t\t{\n\t\t\t\t\tbinded = currentClass[member][mark.arg];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif(!binded)\n\t\t{\n\t\t\t//the assume absolute method name\n\t\t\tvar className = mark.arg.substring(0, mark.arg.lastIndexOf(\'.\')); \n\t\t\tvar c = maker.data.classes[className]; \n\t\t\tif(!c)\n\t\t\t{\n\t\t\t\treturn;//return {name: \'\', error: \'NAME_NOT_FOUND\'}; // this is probably an error on the text don\'t do anything.\n\t\t\t}\n\t\t\t_(what).each(function(member)\n\t\t\t{\n\t\t\t\tif(!binded)\n\t\t\t\t{\n\t\t\t\t\tif(c[member])\n\t\t\t\t\t{\n\t\t\t\t\t\tvar simpleName = mark.arg.substring(mark.arg.lastIndexOf(\'.\') + 1, mark.arg.length);\n\t\t\t\t\t\tbinded = c[member][simpleName];\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}); \t\t\n\t\t}\n\t\treturn binded;\n\t} \n\n,\tbindClass: function(mark, currentClass, maker)\n\t{\n\t\tvar self=this\n\t\t,\tbinded = maker.parseSingleTypeString(mark.arg, currentClass);\n\t\tif(_(binded).isArray() && binded.length)\n\t\t{\n\t\t\tbinded = binded[0]; \n\t\t}\n\t\tif(!binded || binded.error === \'NAME_NOT_FOUND\')\n\t\t{\n\t\t\tbinded = self.findClass(mark.arg, maker); \t\t\t\n\t\t}\n\t\treturn binded;\n\t}\n\n,\tfindClass: function(name, maker)\n\t{\n\t\tvar binded;\n\t\t_(maker.data.classes).each(function(c, absoluteName)\n\t\t{\n\t\t\tif(absoluteName === name)\n\t\t\t{\n\t\t\t\tbinded = c;\n\t\t\t}\n\t\t}); \n\t\treturn binded;\n\t}\n\n,\tbindModule: function(mark, currentClass, maker)\n\t{\n\t\tvar binded;\n\t\t_(maker.data.modules).each(function(m, module_name)\n\t\t{\n\t\t\tif(module_name === mark.arg)\n\t\t\t{\n\t\t\t\tbinded = m;\n\t\t\t}\n\t\t}); \n\t\treturn binded;\n\t}\n}\n\nJsDocMaker.prototype.afterTypeBindingPlugins.add(textMarksReferencesPlugin); \n\n\n\n\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/text-marks.js\n\n/*\n@module shortjsdoc.plugin.text-marks\n\nTODO: markings should be done 100% on post processing. \n\nthis is a meta plugin that allow to define marks inside a text. markings like @?foo something will be replaced with \na unique string key and evaluate functions and store the result in the AST under the node \'textMarks\' property.\n\nOther concrete plugins then can expose a certain functionality, for example\n\n@module client \n@class MyClass The attributes of this class are given and well explained the server service that poblate this \nmodel with JSON @?see server.MyService.Attributes\n\n##History\n\nThis tool born with the neccesity of java\'s @see. We consider using templates (underscore,handlebars) but discarded because we cannot introduce any new \nreserved characters or complexity. An approach with template would allow also to call a function. \n\nBut finally the idea of markins is more compatible and enrich the AST and don\'t add a postprocessing that complicate the syntax. \n\n##Implementation notes\n\nWhy @?see and not @see ? Because @see will break the simple syntax @annotation name text. We don\'t want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing @see with a no annotation mark. \n*/\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//@class TextMarksAfterParseNodePlugin @extends JsDocMakerPlugin a plugin executed at afterParseNodePlugin that implements the text-marks feature. \nvar textMarksAfterParseNodePlugin = {\n\n\tname: \'text-marks\'\n\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node\n\t\t,\tself = this;\n\n\t\tnode.text = node.text || \'\'; \n\n\t\tvar replaceHandler = function(all, name, arg)\n\t\t{\n\t\t\tnode.textMarks = node.textMarks || {}; \n\t\t\tvar mark = options.jsdocmaker.getUnique(\'_shortjsdoc_textmarkplugin_\');\n\t\t\tnode.textMarks[mark] = {name:name, arg:arg}; \n\t\t\treturn mark; \n\t\t}; \n\n\t\t// first expressions like this: @?link "[This is a link](http://google.com)"\n\t\t// TODO: remove the link functionality since the user can use markdowns or html\'s\n\t\t// var regex = /@\\?([a-zA-Z0-9_\\.]+)\\s+"([^"]+)"/g; \n\t\t// node.text = node.text.replace(regex, replaceHandler); \n\n\t\t// and then expressions like this: @?ref foo.bar.Class.method2\n\t\tregex = /@\\?([a-zA-Z0-9_\\.]+)\\s+([^\\s]+)/g; \n\t\t// console.log(regex.exec(node.text))\n\t\tnode.text = node.text.replace(regex, replaceHandler); \n\t}\n}; \n\t\nJsDocMaker.prototype.beforeTypeBindingPlugins.add(textMarksAfterParseNodePlugin); \n\n\n\n\n\n// afterTypeBindingPlugins\n\n\n\n//@filename {Foo} fileName ./src/jsdocmaker/plugin/util.js\n\n//TODO: move this file to core/recurseAST.js\n//@module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//@method recurseAST An utility method that can be used in extensions to visit all the ast nodes and types of the AST recursively. Children are visited first. JsDocMaker.recurseAST can be used for visiting nodes through AST. The same for Types, this is visiting all subtypes of a complex type. \n//@param {Function} fn a visitor for all the nodes\n//@param {Function} fn_type a visitor for all the nodes\' types\nJsDocMaker.prototype.recurseAST = function(fn, fn_type, fn_end)\n{\n\tvar self = this;\n\t_(self.data.classes).each(function(c)\n\t{\n\t\tself.recurseASTClass(c, fn, fn_type); \n\t});\n\t_(self.data.modules).each(function(m)\n\t{\n\t\tfn.apply(m, [m]); \n\t});\n\tfn_end && fn_end();\n}; \n\nJsDocMaker.prototype.recurseASTClass = function(c, fn, fn_type)\n{\n\tif(!c)\n\t{\n\t\treturn;\n\t}\n\tfn.apply(c, [c]);\n\t_(c.methods).each(function(m)\n\t{\n\t\tfn.apply(m, [m]); \n\t\t_(m.params).each(function(p)\n\t\t{\n\t\t\tp.parentNode=m;\n\t\t\tfn.apply(p, [p]); \n\t\t\tJsDocMaker.recurseType(p.type, fn_type, p); \n\t\t}); \n\t\tif(m.returns)\n\t\t{\n\t\t\tm.returns.parentNode=m;\n\t\t\tfn.apply(m.returns, [m.returns]);\n\t\t\tJsDocMaker.recurseType(m.returns.type, fn_type, m); \n\t\t}\n\t\t_(m.throws).each(function(t)\n\t\t{\n\t\t\tfn.apply(t, [t]); \n\t\t\tJsDocMaker.recurseType(t.type, fn_type, t); \n\t\t}); \n\t}); \n\n\t_(c.properties).each(function(p)\n\t{\n\t\tfn.apply(p, [p]);\n\t\tJsDocMaker.recurseType(p.type, fn_type, p);\n\t}); \n\t_(c.events).each(function(p)\n\t{\n\t\tfn.apply(p, [p]);\n\t\tJsDocMaker.recurseType(p.type, fn_type, p);\n\t}); \n\t_(c.attributes).each(function(p)\n\t{\n\t\tfn.apply(p, [p]);\n\t\tJsDocMaker.recurseType(p.type, fn_type, p);\n\t});\n\tif (c.extends)\n\t{\n\t\tfn.apply(c.extends, [c.extends]);\n\t\tJsDocMaker.recurseType(c.extends.type, fn_type, c);\n\t}\n}\n// @method recurseType will recurse the type AST - children first. \n// @param {ASTNode} type a class node @param {Function}fn @param {ASTNode} ownerNode @static \nJsDocMaker.recurseType = function(type, fn, ownerNode)\n{\n\tif(!type || !fn)\n\t{\n\t\treturn;\n\t}\n\tif(_(type).isArray())\n\t{\n\t\t_(type).each(function(t)\n\t\t{\n\t\t\tJsDocMaker.recurseType(t, fn, ownerNode); \n\t\t}); \n\t}\n\telse if(!type.annotation || type.annotation !== \'class\')\n\t{\n\t\t_(type.properties).each(function(prop)\n\t\t{\n\t\t\tJsDocMaker.recurseType(prop, fn, ownerNode); \n\t\t}); \n\t\t_(type.params).each(function(param)\n\t\t{\n\t\t\tJsDocMaker.recurseType(param, fn, ownerNode); \n\t\t}); \t\t\n\t}\n\n\n\t// console.log(\'recurseType\', type.name, ownerNode.absoluteName|| ownerNode.name)\n\tfn(type, ownerNode); \n}; \n\n\nJsDocMaker.prototype.getUnique = function(prefix)\n{\n\tthis.counter = this.counter || 0;\n\tprefix = prefix || \'\'; \n\tthis.counter++;\n\treturn prefix + this.counter;\n}\n\n//@filename {Foo} fileName ./src/shortjsdoc.js\n\n\n/* @module shortjsdoc.node\nnodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don\'t use console.log here since the output is dumped to stdout \n*/\nvar fs = require(\'fs\')\n,\tpath = require(\'path\')\n,\tesprima = require(\'esprima\')\n,\t_ = require(\'underscore\')\n,\tJsDocMaker = require(\'./jsdocmaker/main.js\')\n,\tshell = require(\'shelljs\'); \n\n \n//@class ShortJsDoc main class for running jsdocmaker using node through the command line.\nvar ShortJsDoc = function()\n{\n\tthis.maker = new JsDocMaker();\n\tthis.projectMetadata = {jsdoc: {}};\n\tthis.sources = {};\n}; \n\nShortJsDoc.make = function(options)\n{\n\treturn (new ShortJsDoc()).jsdoc(options); \n}; \n\n_(ShortJsDoc.prototype).extend({\n\n\t//@method error dumps an error @param {String} m\n\terror: function (m)\n\t{\n\t\tconsole.log(m + \'\\nUSAGE:\\n\\tnode src/shortjsdoc.js home/my-js-project/ home/another-js-project/ ... > html/data.json\'); \n\t\tprocess.exit(1);\n\t}\n\n\t// @method tryToParseJsonFile @param {String} path\n,\ttryToParseJsonFile: function(path)\n\t{\n\t\ttry\n\t\t{\n\t\t\tvar s = fs.readFileSync(path); \n\t\t\treturn JSON.parse(s); \n\t\t}\n\t\tcatch(ex)\n\t\t{\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t//@method execute MAIN method to parse the parsed folder\'s javascript files recursively and return the AST of the jsdoc. \n\t//@param {JsDocOptions}options meta information about the project like title, url, license, etc. Hsa the same format as package.json file\n\t//@return {Object} the jsdoc AST object of all the parsed files. \n,\texecute: function(options)\n\t{\n\t\tvar self=this; \n\n\t\tthis.computeVendorDirs(options);\n\n\t\t_(options.input).each(function(inputDir)\n\t\t{\n\t\t\t_(self.sources).extend(self.buildSources(inputDir)); \n\t\t}); \n\n\t\tthis.parsedSources = null;\n\t\t\n\t\ttry\n\t\t{\n\t\t\tparsedSources = this.parseSources();\n\t\t}\n\t\tcatch (ex)\n\t\t{\n\t\t\t// will print the javascript syntax error detected in the sources. we parse only valid js!\n\t\t\tconsole.error(\'There is JavaScript syntax error in your source. It cannot be parsed\'); \n\t\t\t//TODO: file and line number and string\n\n\t\t\tconsole.error(\'Failing code fragment: \\n\', this.maker.data.source.substring(ex.index - 50, ex.index + 50)); \n\n\t\t\tfs.writeFileSync(\'jsdoc_failed_source.js\', this.maker.data.source);\n\t\t\tconsole.log(\'\\n * Dumped file that fails at jsdoc_failed_source.js * \\n\');\n\t\t\t\n\t\t\tconsole.error(ex); \n\t\t\tthrow ex;\n\t\t}\n\n\t\tif(options.filterByChildAnnotations && options.filterByChildAnnotations.length)\n\t\t{\n\t\t\tJsDocMaker.filterByChildAnnotation({jsdocmaker: this.maker, annotations: options.filterByChildAnnotations});\n\t\t}\n\n\t\tvar jsdoc = this.maker.data;\n\n\t\tthis.projectMetadata = jsdoc.projectMetadata = options.projectMetadata || {name: \'Untitled Project\'};\n\n\t\tthis.maker.postProccess();\n\t\t\n\t\treturn jsdoc;\n\t}\n\n\t//@method computeVendorDirs @param {JsDocOptions} options\n,\tcomputeVendorDirs: function(options)\t\n\t{\n\t\t_(options.vendor).each(function(vendorName)\n\t\t{\n\t\t\tif(!vendorName)\n\t\t\t{\n\t\t\t\treturn\n\t\t\t}\n\t\t\tvar f = path.join(ShortJsDoc.getThisFolder(), \'vendor-jsdoc\', vendorName); \n\t\t\tvar stats = null;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tstats = fs.statSync(f);\n\t\t\t}\n\t\t\tcatch(ex)\n\t\t\t{\n\t\t\t\t// console.log(ex)\n\t\t\t\t//TODO: log vendor name nor found?\n\t\t\t}\n\t\t\tif(stats && (stats.isDirectory() || stats.isFile()))\n\t\t\t{\t\t\t\n\t\t\t\toptions.input.push(f);\n\t\t\t}\n\t\t});\n\t\t// console.log(\'options.vendor\', options.vendor)\n\t}\n\n\t//@method jsdoc public method meant to be called from user projects build-time code. It will perform all the job of soing the parse and generating a full html output project ready to be used. \n\t//@param {JsDocOptions}options meta information about the project like title, url, license, etc. Hsa the same format as package.json file\n,\tjsdoc: function(options)\n\t{\n\t\t//generate the data.json file\n\n\t\tvar jsdoc = this.execute(options); \n\t\tvar output = this.dumpJSON(jsdoc, options);\n\n\t\tif(!options.jsonOuput && options.output)\n\t\t{\t\t\t\n\t\t\tshell.rm(\'-rf\', options.output)\n\t\t\tvar htmlFolder = ShortJsDoc.getHtmlFolder();\n\t\t\tshell.cp(\'-rf\', htmlFolder, options.output);\n\t\t\t// ShortJsDoc.copyRecursiveSync(htmlFolder, options.output); \n\t\t\tvar f = path.join(options.output, \'data.json\'); \n\t\t\toutput = \'window.__shortjsdoc_data = \' + output;\n\t\t\tfs.writeFileSync(f, output); \n\n\t\t\tf = path.join(options.output, \'data.min.json\'); \n\t\t\tfs.writeFileSync(f, output); \n\t\t}\n\t\telse\n\t\t{\n\t\t\tconsole.log(output); // prints on stdout\n\t\t}\n\n\t} \n\n\t// @method dumpJSON dump to json string the full ast. configurable through this.projectMetadata.jsdoc.dontMinifyOutput\n,\tdumpJSON: function(jsdoc, options) \n\t{\n\t\tif(options && options.dontMinifyOutput)\n\t\t{\t\t\n\t\t\treturn JSON.stringify(jsdoc, null, 4); // dump the output indented:\n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn JSON.stringify(jsdoc); // dump the output minified:\n\t\t}\n\t}\n\n\t//@method parseSources\n,\tparseSources: function()\n\t{\n\t\tvar buffer = [], self = this; \n\n\t\t_(this.sources).each(function(val, file)\n\t\t{\n\t\t\tself.maker.addFile(val, file); \n\t\t}); \n\t\tthis.maker.jsdoc();\n\t}\n\n\t//@method __parseSourcesFastVersion this was the previous implementation without file separation support. Nevertheless we \n\t// let this uncommented and unused because parsing separate files introduced a significant parsing duration (parformance). \n\t// TODO. let the user performa a --fast-parsing not supporting files but much faster just for fast jsdoc writting..\n,\t__parseSourcesFastVersion: function()\n\t{\n\t\tvar buffer = [], self = this; \n\n\t\t_(this.sources).each(function(val, file)\n\t\t{\n\t\t\tmaker.addFile(value, name);\n\t\t\tbuffer.push(val);\n\t\t}); \n\t\tthis.maker.parseFile(buffer.join(\'\\n\\n\'), \'ALL.js\');\n\t}\n\n\t//@method buildSources parse all files in passed folders and returns the parsed results in t\n\t//@param Array<String> inputDir @returns {Object} the parsed jsdoc AST object of all passed folders\n,\tbuildSources: function buildSources(inputDir)\n\t{\t\n\t\tvar map = {}\n\t\t,\tself = this;\n\t\tif(!inputDir)\n\t\t{\n\t\t\tconsole.log(\'ERROR invalid null input directory\'); \n\t\t\treturn;\n\t\t}\n\t\tif(!shell.test(\'-d\', inputDir))//!fs.statSync(inputDir).isDirectory())\n\t\t{\n\t\t\tself.readSource(inputDir, map);\n\t\t}\n\t\telse\n\t\t{\t\t\t\n\t\t\tShortJsDoc.folderWalk(inputDir, function(error, file)\n\t\t\t{\n\t\t\t\tif(!error && file && JsDocMaker.stringEndsWith(file, \'.js\'))\n\t\t\t\t{\t\t\t\n\t\t\t\t\tself.readSource(file, map);\n\t\t\t\t}\n\t\t\t}); \n\t\t}\n\t\treturn map;\n\t}\n\n\t//@method readSource @param file @param map\n,\treadSource: function(file, map)\n\t{\n\t\tvar src = fs.readFileSync(file, \'utf8\'); \n\t\tmap[file] = src; \n\t}\n\n});\n\n\n//@method getHtmlFolder @return {String} this module\'s html folder path @static\nShortJsDoc.getHtmlFolder = function()\n{\n\tvar f = ShortJsDoc.getThisFolder();\n\treturn path.join(f, \'html\');\n}; \n//@method getThisFolder @return {String} this module\'s folder path @static\nShortJsDoc.getThisFolder = function()\n{\n\tvar f = module.filename; \n\tf = f.substring(0, f.length - path.join(\'src\',\'shortjsdoc.js\').length);\n\treturn f;\n}; \n\n\n\n//UTILITIES\n\n// @method folderWalk General function for walking a folder recusively and sync @static \nShortJsDoc.folderWalk = function (dir, action) \n{\n\tif (typeof action !== "function")\n\t{\n\t\taction = function (error, file) { };\n\t}\t\n\n\tvar list = fs.readdirSync(dir);\n\n\tlist.forEach(function (file) \n\t{\n\t\tvar sep = JsDocMaker.stringEndsWith(dir, \'/\') ? \'\' : \'/\'; \n\t\tvar path =  dir + sep + file;\n\t\tvar stat = fs.statSync(path); \n\t\tif (stat && stat.isDirectory())\n\t\t{\n\t\t\tShortJsDoc.folderWalk(path, action);\n\t\t}\t\t\t\n\t\telse\n\t\t{\n\t\t\taction(null, path);\n\t\t}\n\t});\n};\n\n// // @method copyRecursiveSync copy directories recursively just like cp -r @static\n// // @param {String} src The path to the thing to copy.\n// // @param {String} dest The path to the new copy. \n// ShortJsDoc.copyRecursiveSync = function(src, dest) \n// {\n// \tvar exists = fs.existsSync(src);\n// \tvar stats = exists && fs.statSync(src);\n// \tvar isDirectory = exists && stats.isDirectory();\n// \tif (exists && isDirectory) \n// \t{\n// \t\tfs.mkdirSync(dest);\n// \t\tfs.readdirSync(src).forEach(function(childItemName) \n// \t\t{\n// \t\t\tShortJsDoc.copyRecursiveSync(path.join(src, childItemName), path.join(dest, childItemName));\n// \t\t});\n// \t} \n// \telse \n// \t{\n// \t\tfs.linkSync(src, dest);\n// \t}\n// };\n\nShortJsDoc.JsDocMaker = JsDocMaker;\n\nmodule.exports = ShortJsDoc;\n\n\n\n// @class JsDocOptions\n// @property {String} output output folder\n// @property {Array<String>} input the source code folders that will be parsed recursively.\n// @property {Array<String>} vendor include the jsdoc of libraries supported by short-jsdoc (see vendor-jsdoc folder). Example: vendor: [\'javascript\', \'html\']\n\n\n\n//@filename {Foo} fileName ./html/all.min.js\n\nvar Application=function(e,t){this.textFormat="markdown",this.templates=shortjsdoc,this.config=t,this.data=e,this.maker=new JsDocMaker,this.maker.data=e,this.maker.postProccess(),this.maker.postProccessBinding(),this.maker.postProccessInherited(),window.shortjsdocdata=e,0===jQuery("#mainContainer").size()&&jQuery("body").append(\'<div id="mainContainer"></div>\'),this.$containerEl=jQuery("#mainContainer"),this.$body=jQuery(".main-view-container")};_(Application.prototype).extend({start:function(){this.router=new JsDocRouter(this),Backbone.history.start();var e=Backbone.history.getHash()||"index";Backbone.history.navigate(e,{trigger:!0})},showView:function(e){this.applicationView=this.applicationView||new ApplicationView(this),this.currentView&&this.currentView!==e&&this.currentView.destroy(),this.currentView=e,this.$containerEl.empty(),this.applicationView.renderIn(this.$containerEl),document.title=e.title||document.title},refreshWithNewModel:function(e){this.data=e,Backbone.history.navigate("#index",{trigger:!0}),this.showView(this.currentView)},showErrorView:function(e){var t=new AbstractView;t.application=this,t.template=_.template("<h1>"+e+"</h1>"),this.showView(t)}}),Application.startApplication=function(e,t){new Application(e,t).start()};var JsDocRouter=Backbone.Router.extend({routes:{"class/:class":"showClass","class/:class?:options":"showClass","module/:module":"showModule","module/:module?:options":"showModule","method/:method":"showMethod","constructor/:method":"showMethod","function/:method":"showMethod","property/:property":"showProperty","event/:event":"showEvent","attribute/:attribute":"showAttribute",index:"showIndex","index/?:options":"showIndex",book:"showBook","book/?:options":"showBook",modules:"showModules",classes:"showClasses",parse:"showParse",tree:"showTree",hierarchyTree:"showHierarchyTree","file/:file":"showFile","file/:file?:options":"showFile",search:"doSearch","search/:options":"doSearch","dependencies/:options":"showDependencies",dependencies:"showDependencies"},initialize:function(e){this.application=e},showView:function(e,t){e.resourceNotFound?(t=t||Backbone.history.fragment,this.application.showErrorView("Resource "+t+" not found!")):this.application.showView(e)},showModule:function(e,t){t=t||"";var i=this.parseOptions(t),s=new ModuleView(this.application,e,i);this.showView(s)},parseOptions:function(e){var t={};return _(e.split("&")).each(function(e){var i=e.split("=");i.length>=2&&(t[i[0]]=i[1])}),t},showClass:function(e,t){t=t||"";var i=this.parseOptions(t),s=new ClassView(this.application,e,i);this.showView(s)},showMethod:function(e){var t=new MethodView(this.application,e);this.showView(t)},showProperty:function(e){var t=new PropertyView(this.application,e,"property");this.showView(t)},showEvent:function(e){var t=new PropertyView(this.application,e,"event");this.showView(t)},showAttribute:function(e){var t=new PropertyView(this.application,e,"attribute");this.showView(t)},showModules:function(){var e=new AbstractView(this.application);e.template="modules",this.showView(e)},showClasses:function(){var e=new AbstractView(this.application);e.template="classes",this.showView(e)},doSearch:function(e){var t=this.parseOptions(e||""),i=new SearchView(this.application,t);this.showView(i)},showDependencies:function(e){var t=this.parseOptions(e||""),i=new DependenciesView(this.application,t);this.showView(i)},showIndex:function(e){var t=this.parseOptions(e||""),i=new IndexView(this.application,t);this.application.showView(i)},showBook:function(e){if(confirm("This can take some time for the browser, are you sure you want to continue ? ")){var t=this.parseOptions(e||""),i=new BookView(this.application,t);this.application.showView(i)}else Backbone.history.navigate("index",{trigger:!0})},showTree:function(){var e=new TreeView(this.application);this.application.showView(e)},showHierarchyTree:function(){var e=new HierarchyTreeView(this.application);this.application.showView(e)},showParse:function(){var e=new ParseView(this.application);this.application.showView(e)},showFile:function(e,t){t=t||"";var i=this.parseOptions(t),s=new FileView(this.application,e,i);this.showView(s)}}),AbstractView=Backbone.View.extend({tagName:"div",initialize:function(e){this.application=e},renderIn:function(e){var t=_.isFunction(this.template)?this.template:this.application.templates[this.template];this.options=this.options||{},_.extend(this.options,this.application.config);var i=t.apply(this,[]);this.$el.html(i),e.append(this.$el),this.afterRender()},destroy:function(){this.undelegateEvents()},render:function(){return this.renderIn(jQuery(this.el))},afterRender:function(){this.renderSource()},setTitle:function(e){document.title=e},renderSource_:function(e,t){if(e.commentRange){var i=new SourcesView(this.application,e);i.fileNameUrl=encodeURIComponent(this.jsdoc.fileName),i.renderIn(t)}},renderSource:function(){this.jsdoc&&(this.renderSource_(this.jsdoc,this.$(\'[data-type="sources"]\')),this.$("pre code").addClass("prettyprint"),"undefined"!=typeof prettyPrint&&prettyPrint("pre code"))}});_(AbstractView.prototype).extend({printTag:function(e,t,i){return i=i||"span",t=t||"",e?"<"+i+(t?\' class="\'+t+\'"\':"")+">"+e+"</"+i+">":""},simpleName:function(e,t){return this.application.maker.simpleName(e,t)},makeLink:function(e,t,i){var s=e.annotation+"-name",n=t?\'<a class="\'+s+\'" href="\':"",a="";if(_.isString(e))a+="#"+e;else if("method"===e.annotation)a+="#method/"+e.absoluteName;else if("constructor"===e.annotation)a+="#constructor/"+e.absoluteName;else if("function"===e.annotation)a+="#function/"+e.absoluteName;else if("property"===e.annotation)a+="#property/"+e.absoluteName;else if("event"===e.annotation)a+="#event/"+e.absoluteName;else if("class"===e.annotation||"interface"===e.annotation)a+="#class/"+e.absoluteName;else{if("module"!==e.annotation)return"";a+="#module/"+e.name}var o=-1===location.hash.indexOf("?")?"":location.hash.split("?")[1];return o=this.paramStringToObject(o),_.isString(i)&&(i=this.paramStringToObject(i)),_.extend(o,i||{}),o=this.paramObjectToString(o),a+=o?"?"+o:"",n+=a+(t?\'">\'+e.name+"</a>":"")},paramStringToObject:function(e){var t=e.split("&"),i={};return _.each(t,function(e){var t=e.split("=");i[t[0]]=t[1]}),i},paramObjectToString:function(e){var t=[];return _.each(e,function(e,i){i&&t.push(i+"="+e)}),t.join("&")},printLiteralObjectType:function(e){var t=this,i=[];e.buffer.push(this.printType(e.type,!0)),1===_(e.type.properties).keys().length&&e.type.properties.prototype||("Object"===e.type.name&&(e.buffer.push("{"),_(e.type.properties).each(function(e,s){i.push(s+": "+t.printSingleTypeAsString(e,!0))})),e.buffer.push(i.join(", ")),"Object"===e.type.name&&e.buffer.push("}"))},printType:function(e,t){if(!e||!e.type)return"";var i=this,s=e.type.nativeTypeUrl||this.makeLink(e.type),n=e.type.name,a=e.type.nativeTypeUrl?" type external ":" type ",o=e.type.nativeTypeUrl?\'<span class="glyphicon glyphicon-share"></span>\':"";if(e.buffer.push(\'<a class="\'+a+\'" href="\'+s+\'">\'+o+n+"</a>"),e.type.properties&&!t)this.printLiteralObjectType(e);else if(e.type.params&&"function"!==e.type.annotation){e.buffer.push("&lt;");for(var r=0;r<(e.type.params||[]).length;r++){var c=e.type.params[r];i.printType({type:c,buffer:e.buffer}),r<e.type.params.length-1&&e.buffer.push(",")}e.buffer.push(">")}},printSingleTypeAsString:function(e,t){var i=[],s={type:e,typeTemplate:this.printType,buffer:i};return this.printType(s),i.join("")},printTypeAsString:function(e){var t=this;if(_(e).isArray()){var i=[];return _(e).each(function(e){i.push(t.printSingleTypeAsString(e))}),i.join(\'<span class="type-separator">or</span>\')}return this.printSingleTypeAsString(e)},getTextHtml:function(e){if(!e||!e.text)return"";if(e.text_html_app)return e.text_html_app;var t=this,i=e.text,s=this.application.textFormat||"markdown",n=_(e.children).find(function(e){return"html"===e.annotation}),a=_(e.children).find(function(e){return"markdown"===e.annotation});return n&&(s="html"),a&&(s="markdown"),_(e.textMarks).each(function(e,n){"link"===e.name?i="markdown"===s?i.replace(n,"["+e.linkLabel+"]("+e.linkUrl+")"):i.replace(n,\'< href="mark.linkUrl" class="text-mark-link">\'+e.linkLabel+"</a>"):e.binding&&(i=i.replace(n,t.makeLink(e.binding,!0)))}),"markdown"===s&&(i=marked(i)),e.text_html_app=i,i},printMethod:function(e){var t="constructor"===e.annotation,i=\'<span class="method">\',s=t?this.simpleName(e.ownerClass):e.name;return!t&&e.returns&&(i+=this.printTypeAsString(e.returns)+"&nbsp;"),(i+=\'<a href="\'+this.makeLink(e)+\'">\'+s+"</a>")+"</span>"},getInherited:function(e,t){var i={};return"method"===t&&(i=_(e.methods).clone(),_(i).extend(e.inherited.methods||{})),i},getClassName:function(e,t){t=t||this.application.data;for(var i=e.split(".");i;){var s=(i=_.initial(i)).join(".");if(t.classes[s])return s}return e.substring(0,e.lastIndexOf("."))},getSimpleName:function(e){var t=this.getClassName(e);return e.substring(t.length+1,e.length)},getModuleClasses:function(e,t){t||(t=this.application.data);var i=[];return _(t.classes).each(function(t){0===t.absoluteName.indexOf(e)&&i.push(t)}),i},parseOptions:function(e,t,i){if(t=t||"&",i=i||"=",!e)return{};var s={};return _(e.split(t)).each(function(e){var t=e.split(i);t.length>=2&&(s[t[0]]=t[1],t[1]&&"0"!==t[1]&&"false"!==t[1]||(s[t[0]]=!1))}),s},getOptionsFromHash:function(e){var t=(e=e||window.location.hash).split("?");return t=t.length<2?"":t[1],this.parseOptions(t)},setOptionsToHash:function(e,t){var i=(e=e||window.location.hash).split("?");return i=i.length<2?"":i[1],i=this.parseOptions(i),_(i).extend(t),e.split("?")[0]+"?"+this.optionsToString(i)},optionsToString:function(e,t,i){t=t||"&",i=i||"=";var s=[];return _(e).each(function(e,t){s.push(t+i+e)}),s.join(t)},propertyIsPublicPredicate:function(e){return _.find(e.children,function(e){return"public"===e.annotation})},isClassPublic:function(e){var t=this.propertyIsPublicPredicate(e);return t=t||_.find(e.methods,this.propertyIsPublicPredicate),t=t||_.find(e.properties,this.propertyIsPublicPredicate),t=t||_.find(e.events,this.propertyIsPublicPredicate),t=t||_.find(e.attributes,this.propertyIsPublicPredicate)},isModulePublic:function(e){var t=this.getModuleClasses(e.name);return _.find(t,_.bind(this.isClassPublic,this))}});var IndexView=AbstractView.extend({className:"index",template:"index",initialize:function(e,t){var i=this;this.application=e,this.options=t||{},this.options.private=this.options.private?parseInt(this.options.private,10):0,this.modules=this.application.data.modules,this.options.private&&(this.modules=_.filter(this.modules,function(e){return i.isModulePublic(e)})),this.classes=this.application.data.classes,this.options.private&&(this.classes=_.filter(this.classes,function(e){return i.isClassPublic(e)}))}}),BookView=AbstractView.extend({className:"book",template:"book",initialize:function(e,t){var i=this;this.application=e,this.options=t||{},this.options.private=this.options.private?parseInt(this.options.private,10):0,this.modules=[],_.each(this.application.data.modules,function(e){i.modules.push(e)}),this.modules=this.modules.sort(function(e,t){return e.name<t.name?0:1}),this.options.private&&(this.modules=_.filter(this.modules,function(e){return i.isModulePublic(e)})),this.classes=this.application.data.classes,this.options.private&&(this.classes=_.filter(this.classes,function(e){return i.isClassPublic(e)})),this.title=this.application.data.projectMetadata.name},afterRender:function(){var e=this;this.$("[data-class]").each(function(){var t=jQuery(this),i=t.data("class"),s=new ClassView(e.application,i,e.options);_.extend(s.options,{dontShowSources:!0,dontShowSidebar:!0,dontShowOptions:!0}),s.resourceNotFound?t.append("Class "+i+" not found!"):s.renderIn(t)})}}),ClassView=AbstractView.extend({className:"class-view",template:"class",events:{\'click [data-type="sources-collapse"]\':"sourceCollapseHandler"},initialize:function(e,t,i){var s=this;this.application=e,this.jsdoc=this.application.data.classes[t],this.jsdoc?(this.isInterface="interface"===this.jsdoc.annotation,this.jsdoc.textHtml=this.getTextHtml(this.jsdoc),this.options=i||{},this.options.inherited=this.options.inherited?parseInt(this.options.inherited,10):0,this.options.private=this.options.private?parseInt(this.options.private,10):0,this.options.text=this.options.text?parseInt(this.options.text,10):1,this.methods=this.jsdoc.methods||{},this.properties=this.jsdoc.properties||{},this.events_=this.jsdoc.events||{},this.attributes=this.jsdoc.attributes||{},this.options.inherited&&(this.properties=_(_(this.properties).clone()).extend(this.jsdoc.inherited.properties),this.events_=_(_(this.events_).clone()).extend(this.jsdoc.inherited.events),this.attributes=_(_(this.attributes).clone()).extend(this.jsdoc.inherited.attributes),this.methods=_(_(this.methods).clone()).extend(this.jsdoc.inherited.methods)),this.options.private&&(this.properties=_.filter(this.properties,this.propertyIsPublicPredicate),this.methods=_.filter(this.methods,this.propertyIsPublicPredicate),this.events_=_.filter(this.events_,this.propertyIsPublicPredicate),this.attributes=_.filter(this.attributes,this.propertyIsPublicPredicate)),this.hierarchy=this.computeHierarchy(),this.knownSubclasses=this.computeKnownSubclasses(),this.inlineProperties=!0,this.inlineProperties&&(this.inlineMethodViews=[],_(this.methods).each(function(e){var t=new MethodView(s.application,e.absoluteName,!0);t.render(),s.inlineMethodViews.push(t)}),this.inlinePropertyViews=[],_(this.properties).each(function(e){var t=new PropertyView(s.application,e.absoluteName,"property",!0);t.render(),s.inlinePropertyViews.push(t)}),this.inlineEventViews=[],_(this.events_).each(function(e){var t=new PropertyView(s.application,e.absoluteName,"event",!0);t.render(),s.inlineEventViews.push(t)}),this.inlineAttributeViews=[],_(this.attributes).each(function(e){var t=new PropertyView(s.application,e.absoluteName,"attribute",!0);t.render(),s.inlineAttributeViews.push(t)}))):this.resourceNotFound=!0},afterRender:function(){var e=this;AbstractView.prototype.afterRender.apply(this,arguments),_.each(this.inlineMethodViews,function(t){e.$(\'[data-type="inline-methods"]\').append(t.$el)}),_.each(this.inlinePropertyViews,function(t){e.$(\'[data-type="inline-properties"]\').append(t.$el)}),_.each(this.inlineEventViews,function(t){e.$(\'[data-type="inline-events"]\').append(t.$el)}),_.each(this.inlineAttributeViews,function(t){e.$(\'[data-type="inline-attributes"]\').append(t.$el)}),this.buttonCollapsed=this.options.collapseSources,this.sourceCollapseHandler()},sourceCollapseHandler:function(){this.buttonCollapsed?this.$(\'[data-type="sources"]\').hide():this.$(\'[data-type="sources"]\').show(),this.buttonCollapsed=!this.buttonCollapsed},makePartialText:function(e){if(e.text){var t=Math.min(e.text.length,100);return e.text.substring(0,t)+"..."}return""},computeHierarchy:function(){var e=[],t=this.jsdoc;do{if(t&&t.extends&&(e.push(t),t.extends.absoluteName===t.absoluteName))break}while(t=t.extends);return e},computeKnownSubclasses:function(){var e=this,t=[];return _(this.application.data.classes).each(function(i){e.isInterface?_.each(i.implements,function(i){i.extends.absoluteName===e.jsdoc.absoluteName&&t.push(i)}):i.extends.absoluteName===e.jsdoc.absoluteName&&t.push(i)}),t}}),ModuleView=AbstractView.extend({className:"module",template:"module",initialize:function(e,t,i){var s=this;this.application=e,this.jsdoc=this.application.data.modules[t],this.classes=_(_(this.application.data.classes).values()).filter(function(e){return e.module.name===t&&"class"===e.annotation}),this.interfaces=_(_(this.application.data.classes).values()).filter(function(e){return e.module.name===t&&"interface"===e.annotation}),this.options=i||{},this.options.private=this.options.private?parseInt(this.options.private,10):0,this.options.private&&(this.classes=_.filter(this.classes,function(e){return s.isClassPublic(e)})),this.jsdoc.textHtml=this.getTextHtml(this.jsdoc)}}),MethodView=AbstractView.extend({className:"method-view",template:"method",initialize:function(e,t,i){if(this.application=e,this.asChildView=i,0!==Backbone.history.fragment.indexOf("function")){var s=this.getClassName(t),n=this.getSimpleName(t),a=this.application.data.classes[s];if(this.ownerModule=a.module.name,isNaN(parseInt(n,10))?(this.jsdoc=a.methods[n],this.isConstructor=!1):(this.jsdoc=a.constructors[parseInt(n,10)],this.isConstructor=!0),!this.jsdoc)return void(this.resourceNotFound=!0);this.jsdoc.textHtml=this.getTextHtml(this.jsdoc),this.ownerClass=this.application.data.classes[this.jsdoc.ownerClass]}else if(0===Backbone.history.fragment.indexOf("function")){var o=t.split(".")[0];this.ownerModule=this.application.data.modules[o];var r=_.find(this.ownerModule.functions,function(e){return e.absoluteName===t});if(this.jsdoc=r,this.jsdoc.textHtml=this.getTextHtml(this.jsdoc),!this.jsdoc)return void(this.resourceNotFound=!0);this.isFunction=!0}}}),PropertyView=AbstractView.extend({className:"property-view",template:"property",initialize:function(e,t,i,s){this.application=e,this.asChildView=s;var n={event:"Event",property:"Property",attribute:"Attribute"};this.propertyLabel=n[i];var a=this.getClassName(t),o=this.getSimpleName(t),r=this.application.data.classes[a];this.ownerModule=r.module.name;var c={event:"events",property:"properties",attribute:"attributes"};this.jsdoc=r[c[i]][o],this.jsdoc?this.jsdoc.textHtml=this.getTextHtml(this.jsdoc):this.resourceNotFound=!0}}),SourcesView=AbstractView.extend({className:"sources",template:"sources",events:{\'click [data-type="goto-source"]\':"gotoSource"},initialize:function(e,t){this.application=e,this.jsdoc=t,this.allSource=this.application.maker.data.source;var i=Math.max(0,this.jsdoc.commentRange[0]-400),s=Math.min(this.allSource.length-1,this.jsdoc.commentRange[1]+400);this.sourceSubset=this.allSource.substring(i,s);var n=this.allSource.substring(this.jsdoc.commentRange[0],this.jsdoc.commentRange[1]),a=this.sourceSubset.substring(0,this.sourceSubset.indexOf(n)).split("\\n").length;this.jsdocLineNumber=a-1,this.lineCount=n.split("\\n").length},afterRender:function(){"undefined"!=typeof prettyPrint&&prettyPrint()},gotoSource:function(){var e=jQuery(jQuery("ol.linenums>li").get(this.jsdocLineNumber));e.size()&&(jQuery(window).scrollTop(e.position().top),e.addClass("selectedJsDocLine"));for(var t=0;t<this.lineCount;t++)(e=jQuery(jQuery("ol.linenums>li").get(this.jsdocLineNumber+t))).addClass("selectedJsDocLine")}}),ParseView=AbstractView.extend({className:"parse",events:{\'click [data-action="inputcode_doit"]\':"inputCodeDoit"},template:"parse",inputCodeDoit:function(){var e=this.$(\'[data-type="inputcode"]\').val(),t=this.application.maker;this.$(\'[data-action="clean"]:checked\').val()&&(this.application.data=t.data={}),t.parseFile(e,"textarea"),t.postProccess(),t.postProccessBinding(),this.application.refreshWithNewModel(t.data)}}),ApplicationView=AbstractView.extend({className:"application-view",template:"application",initialize:function(e){this.application=e},renderIn:function(e){AbstractView.prototype.renderIn.apply(this,arguments),this.headerView=this.headerView||new HeaderView(this.application),this.headerView.renderIn(this.$(\'[data-type="header-container"]\')),this.mainView=this.application.currentView,this.mainView.renderIn(this.$(\'[data-type="main-view-container"]\')),document.title=this.title||window.location.href+""}}),HeaderView=AbstractView.extend({className:"header-view",template:"header",initialize:function(e){this.application=e},renderIn:function(){AbstractView.prototype.renderIn.apply(this,arguments),this.installTypeAhead()},installTypeAhead:function(){this.classes=this.application.data.classes,this.modules=this.application.data.modules,this.typeahead=$(".main-header .typeahead1").typeahead({hint:!0,highlight:!0,minLength:1},{name:"jsdoc",displayKey:"value",source:this.substringMatcher(),templates:{empty:\'<div class="empty-message">Sorry, nothing found.</div>\',suggestion:this.application.templates.typeaheadSuggestion}});var e=this;this.typeahead.on("typeahead:selected",function(){e.handleSearchSelection.apply(e,arguments)}),jQuery(window).width()<400&&jQuery(".tt-dropdown-menu").css({width:jQuery(window).width()+"px"})},handleSearchSelection:function(e,t,i){var s=this.makeLink(t.node);Backbone.history.navigate(s,{trigger:!0})},search:function(e){var t=this,i=[],s=new RegExp(e,"i");return _(t.classes).each(function(e){s.test(e.name)&&i.push({value:e.name,node:e}),_(e.methods).each(function(e){s.test(e.name)&&i.push({value:e.name,node:e})})}),_(t.modules).each(function(e){s.test(e.name)&&i.push({value:e.name,node:e})}),i},substringMatcher:function(){var e=this;return function(t,i){i(e.search(t))}}}),FileView=AbstractView.extend({className:"file-view",template:"file",events:{\'click [data-action="donwload"]\':"download"},initialize:function(e,t,i){if(this.fileName=decodeURIComponent(t),this.application=e,this.jsdoc=this.application.data.files[t],this.jsdoc){var s=this.application.data.source.indexOf("@filename",this.jsdoc.commentRange[1]);s=-1===s?this.application.data.source.length:s,this.fileContent=this.application.data.source.substring(this.jsdoc.commentRange[1],s)}else this.resourceNotFound=!0},afterRender:function(){"undefined"!=typeof prettyPrint&&prettyPrint()},download:function(){var e=this.fileName.split("/");e=e[e.length-1];var t=document.createElement("a"),i=new Blob([this.fileContent],{type:"text/javascript"});t.href=window.URL.createObjectURL(i),t.download=e,t.click()}}),SearchView=AbstractView.extend({className:"search-view",template:"search",events:{\'click [data-action="search"]\':"searchActionHandler"},initialize:function(e,t){this.application=e,this.jsdoc=this.application.data;var i=this;this.query=t,this.search(function(e){i.results=e,i.render()})},formToJson:function(e){var t=jQuery(e).serialize().split("&"),i={};return _(t).each(function(e){var t=e.split("=");i[t[0]]=t[1]}),i},searchActionHandler:function(e){var t=this.$(\'[data-type="search-form"]\').serialize();Backbone.history.navigate("search?"+t,{trigger:!0}),e.preventDefault()},search:function(e){if(this.query.keywords){var t=this,i={},s=t.query.keywords.toLowerCase();this.application.maker.recurseAST(function(e){},function(e,n){var a=e.absoluteName?e.absoluteName:e.name;if(a&&n&&(a=a.toLowerCase())&&-1!==a.indexOf(s)){var o,r,c;"param"===n.annotation?(c=n.parentNode.absoluteName+"."+n.name,o="parameter \'"+n.name+"\' of method \'"+n.parentNode.absoluteName+"\'",r=t.makeLink(n.parentNode)):(c=n.absoluteName,o=n.annotation+" \'"+n.absoluteName+"\'",r=t.makeLink(n)),i[c]={label:o,url:r}}},function(){var t=[];_(i).each(function(e){t.push(e)}),e(t)})}}}),AbstractTreeView=AbstractView.extend({expandAll:function(){var e=this;this.$(".tree [data-tree-node]").each(function(){e.treeView.expandNode($(this))})},collapseAll:function(){var e=this;this.$(".tree > ul > .tree-node > [data-tree-node]").each(function(){e.treeView.collapseNode($(this))})}});!function(){if(!window.TreeWidget){var e=function(e){this.rootNode=e};e.cssOptions={hoverChildren:!1,hoverColor:"red"},e.prototype.render=function(e){return this.parentEl=e,this._renderTree(this.rootNode,e)},e.prototype._renderTree=function(e,t){var i=this,s=this.renderNode({node:e,renderNode:this.renderNode,isRoot:!0});return t&&jQuery(t).empty().append(s),$(".tree li:has(ul)").addClass("parent_li").find(" > span").attr("title","Collapse this branch"),$(".tree li.parent_li > span").on("click",function(e){$(this).parent("li.parent_li").find(" > ul > li").is(":visible")?i.collapseNode($(this)):i.expandNode($(this)),e.stopPropagation()}),s},e.prototype.collapseNode=function(e){e.parent("li.parent_li").find(" > ul > li").hide("fast"),e.attr("title","Expand this branch").find(" > i").addClass("glyphicon-plus-sign").removeClass("glyphicon-minus-sign")},e.prototype.expandNode=function(e){e.parent("li.parent_li").find(" > ul > li").show("fast"),e.attr("title","Collapse this branch").find(" > i").addClass("glyphicon-minus-sign").removeClass("glyphicon-plus-sign")},e.prototype.onNodeEvent=function(e,t){jQuery(this.parentEl).on(e,"li > span",function(){var e=parseInt($(this).data("tree-node-id"));t&&t(this,e)})},window.TreeWidget=e,e.treeNodeTemplate=\'<% var isRoot = isRoot || false; %><% if(isRoot) { %><div class="tree"><% } else { %><li class="tree-node tree-node-type-<%= node.type %>"><span data-tree-node data-tree-node-id="<%= node.tree_node_id %>"><i class="glyphicon glyphicon-minus-sign"></i><%= node.label%></span><% } %><% if(node.children) { %><ul><% _(node.children).each(function(child){ %><%= renderNode({node:child, isRoot: false, renderNode: renderNode}) %><% }) %></ul><% } %>\'+"<%= isRoot ? \'</div>\' : \'</li>\' %>",e.prototype.renderNode=_(e.treeNodeTemplate).template()}}();var TreeView=AbstractTreeView.extend({className:"tree",template:"tree",events:{\'click [data-action="show-tree"]\':"showTree",\'click [data-action="expand-all"]\':"expandAll",\'click [data-action="collapse-all"]\':"collapseAll"},renderIn:function(){AbstractView.prototype.renderIn.apply(this,arguments),this.treeModel=this.buildTreeModel(this.application.data),this.treeView=new TreeWidget(this.treeModel),this.treeView.render(".the-tree"),this.treeView.onNodeEvent("click",function(e){alert(e.label+" was clicked")})},buildTreeModel:function(){var e={children:[]},t=this,i=this.application.data;return _(i.modules).each(function(s){e.children.push(t.buildTreeModelForModule(s,i))}),e},buildTreeModelForModule:function(e,t){var i={children:[],label:"Module "+this.makeLink(e,!0),type:"module"},s=this,n=_(t.classes).filter(function(t){return t.module.name===e.name});return _(n).each(function(e){i.children.push(s.buildTreeModelForClass(e,t))}),i},buildTreeModelForClass:function(e,t){var i={children:[],label:"Class "+this.makeLink(e,!0),type:"class"},s=this;return _(e.methods).each(function(e){i.children.push(s.buildTreeModelForMethod(e,t))}),_(e.properties).each(function(e){i.children.push(s.buildTreeModelForProperty(e,t,"Property"))}),_(e.events).each(function(e){i.children.push(s.buildTreeModelForProperty(e,t,"Event"))}),i},buildTreeModelForProperty:function(e,t,i){return{children:[],label:i+" "+this.makeLink(e,!0),type:"method"}},buildTreeModelForMethod:function(e,t){return{children:[],label:"Method "+this.makeLink(e,!0),type:"method"}}}),HierarchyTreeView=AbstractTreeView.extend({className:"hierarchy-tree",template:"hierarchytree",events:{\'click [data-action="show-tree"]\':"showTree",\'click [data-action="expand-all"]\':"expandAll",\'click [data-action="collapse-all"]\':"collapseAll"},renderIn:function(){AbstractView.prototype.renderIn.apply(this,arguments);var e=this.application.data.classes["javascript.Object"];e||(e={name:"Object"});this.classesExtendsFrom(e);this.treeModel=this.buildTreeModel(e),this.treeModel={label:"Something",children:[this.treeModel]},this.treeView=new TreeWidget(this.treeModel),this.treeView.render(".the-tree"),this.treeView.onNodeEvent("click",function(e){alert(e.label+" was clicked")})},classesExtendsFrom:function(e){var t=[];return _(this.application.data.classes).each(function(i){i.extends&&e&&(i.extends.absoluteName?i.extends.absoluteName===e.absoluteName&&i.absoluteName!==i.extends.absoluteName&&t.push(i):i.extends.name&&i.name!==i.extends.name&&i.extends.name===e.name&&t.push(i))}),t},buildTreeModel:function(e){if(!e)return[];var t={children:[],label:\'<a href="\'+this.makeLink(e)+\'">\'+(e.absoluteName||e.name)+"</a>"},i=this,s=i.classesExtendsFrom(e);return _(s).each(function(e){t.children.push(i.buildTreeModel(e))}),t}}),DependenciesView=AbstractView.extend({className:"dependencies",template:"dependencies",events:{\'click [data-type="includeExtends"]\':"includeExtends",\'click [data-type="includeNativeClasses"]\':"includeNativeClasses"},initialize:function(e,t){this.application=e,this.options=t||{},this.options.includeExtends=this.options.includeExtends&&"0"!==this.options.includeExtends,this.options.includeNativeClasses=this.options.includeNativeClasses&&"0"!==this.options.includeNativeClasses,this.ignoreClasses=this.options.includeNativeClasses?[]:["javascript.String","javascript.Object","javascript.Function","javascript.Any","javascript.Number","javascript.Boolean","javascript.Array"]},renderIn:function(){var e=this;AbstractView.prototype.renderIn.apply(this,arguments),toast("lib/vis/dist/vis.min.js","lib/vis/dist/vis.min.css",function(){e.doTheGraph()})},includeExtends:function(){var e=this.$(\'[data-type="includeExtends"]\').is(":checked"),t=this.getOptionsFromHash();t.includeExtends=e?"1":"0";var i="dependencies?"+this.optionsToString(t);Backbone.history.navigate(i,{trigger:!0})},includeNativeClasses:function(){var e=this.$(\'[data-type="includeNativeClasses"]\').is(":checked"),t=this.getOptionsFromHash();t.includeNativeClasses=e?"1":"0";var i="dependencies?"+this.optionsToString(t);Backbone.history.navigate(i,{trigger:!0})},doTheGraph:function(){this.$(".loading-message").show();var e={ignoreClasses:this.ignoreClasses,includeExtends:this.options.includeExtends};new this.application.maker.tools.DependencyTool(this.application.maker,e).calculateClassDependencies();var t=[],i=[],s=1,n={};_(this.application.data.classes).each(function(e){var i={id:s,label:e.name};t.push(i),n[e.absoluteName]=i,s++}),_(this.application.data.classes).each(function(e){_(e.dependencies.classes).each(function(t){n[e.absoluteName]&&n[t.absoluteName]&&i.push({from:n[e.absoluteName].id,to:n[t.absoluteName].id})})});var a=this.$(\'[data-type="dependency-graph"]\').get(0),o={nodes:t,edges:i},r={nodes:{shape:"box"},edges:{style:"arrow"}};new vis.Network(a,o,r);this.$(".loading-message").hide()}});\n//# sourceMappingURL=all.min.js.map\n\n//@filename {Foo} fileName ./html/lib/backbone/backbone.js\n\n//     Backbone.js 1.1.2\n\n//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Backbone may be freely distributed under the MIT license.\n//     For all details and documentation:\n//     http://backbonejs.org\n\n(function(root, factory) {\n\n  // Set up Backbone appropriately for the environment. Start with AMD.\n  if (typeof define === \'function\' && define.amd) {\n    define([\'underscore\', \'jquery\', \'exports\'], function(_, $, exports) {\n      // Export global even in AMD case in case this script is loaded with\n      // others that may still expect a global Backbone.\n      root.Backbone = factory(root, exports, _, $);\n    });\n\n  // Next for Node.js or CommonJS. jQuery may not be needed as a module.\n  } else if (typeof exports !== \'undefined\') {\n    var _ = require(\'underscore\');\n    factory(root, exports, _);\n\n  // Finally, as a browser global.\n  } else {\n    root.Backbone = factory(root, {}, root._, (root.jQuery || root.Zepto || root.ender || root.$));\n  }\n\n}(this, function(root, Backbone, _, $) {\n\n  // Initial Setup\n  // -------------\n\n  // Save the previous value of the `Backbone` variable, so that it can be\n  // restored later on, if `noConflict` is used.\n  var previousBackbone = root.Backbone;\n\n  // Create local references to array methods we\'ll want to use later.\n  var array = [];\n  var push = array.push;\n  var slice = array.slice;\n  var splice = array.splice;\n\n  // Current version of the library. Keep in sync with `package.json`.\n  Backbone.VERSION = \'1.1.2\';\n\n  // For Backbone\'s purposes, jQuery, Zepto, Ender, or My Library (kidding) owns\n  // the `$` variable.\n  Backbone.$ = $;\n\n  // Runs Backbone.js in *noConflict* mode, returning the `Backbone` variable\n  // to its previous owner. Returns a reference to this Backbone object.\n  Backbone.noConflict = function() {\n    root.Backbone = previousBackbone;\n    return this;\n  };\n\n  // Turn on `emulateHTTP` to support legacy HTTP servers. Setting this option\n  // will fake `"PATCH"`, `"PUT"` and `"DELETE"` requests via the `_method` parameter and\n  // set a `X-Http-Method-Override` header.\n  Backbone.emulateHTTP = false;\n\n  // Turn on `emulateJSON` to support legacy servers that can\'t deal with direct\n  // `application/json` requests ... will encode the body as\n  // `application/x-www-form-urlencoded` instead and will send the model in a\n  // form param named `model`.\n  Backbone.emulateJSON = false;\n\n  // Backbone.Events\n  // ---------------\n\n  // A module that can be mixed in to *any object* in order to provide it with\n  // custom events. You may bind with `on` or remove with `off` callback\n  // functions to an event; `trigger`-ing an event fires all callbacks in\n  // succession.\n  //\n  //     var object = {};\n  //     _.extend(object, Backbone.Events);\n  //     object.on(\'expand\', function(){ alert(\'expanded\'); });\n  //     object.trigger(\'expand\');\n  //\n  var Events = Backbone.Events = {\n\n    // Bind an event to a `callback` function. Passing `"all"` will bind\n    // the callback to all events fired.\n    on: function(name, callback, context) {\n      if (!eventsApi(this, \'on\', name, [callback, context]) || !callback) return this;\n      this._events || (this._events = {});\n      var events = this._events[name] || (this._events[name] = []);\n      events.push({callback: callback, context: context, ctx: context || this});\n      return this;\n    },\n\n    // Bind an event to only be triggered a single time. After the first time\n    // the callback is invoked, it will be removed.\n    once: function(name, callback, context) {\n      if (!eventsApi(this, \'once\', name, [callback, context]) || !callback) return this;\n      var self = this;\n      var once = _.once(function() {\n        self.off(name, once);\n        callback.apply(this, arguments);\n      });\n      once._callback = callback;\n      return this.on(name, once, context);\n    },\n\n    // Remove one or many callbacks. If `context` is null, removes all\n    // callbacks with that function. If `callback` is null, removes all\n    // callbacks for the event. If `name` is null, removes all bound\n    // callbacks for all events.\n    off: function(name, callback, context) {\n      var retain, ev, events, names, i, l, j, k;\n      if (!this._events || !eventsApi(this, \'off\', name, [callback, context])) return this;\n      if (!name && !callback && !context) {\n        this._events = void 0;\n        return this;\n      }\n      names = name ? [name] : _.keys(this._events);\n      for (i = 0, l = names.length; i < l; i++) {\n        name = names[i];\n        if (events = this._events[name]) {\n          this._events[name] = retain = [];\n          if (callback || context) {\n            for (j = 0, k = events.length; j < k; j++) {\n              ev = events[j];\n              if ((callback && callback !== ev.callback && callback !== ev.callback._callback) ||\n                  (context && context !== ev.context)) {\n                retain.push(ev);\n              }\n            }\n          }\n          if (!retain.length) delete this._events[name];\n        }\n      }\n\n      return this;\n    },\n\n    // Trigger one or many events, firing all bound callbacks. Callbacks are\n    // passed the same arguments as `trigger` is, apart from the event name\n    // (unless you\'re listening on `"all"`, which will cause your callback to\n    // receive the true name of the event as the first argument).\n    trigger: function(name) {\n      if (!this._events) return this;\n      var args = slice.call(arguments, 1);\n      if (!eventsApi(this, \'trigger\', name, args)) return this;\n      var events = this._events[name];\n      var allEvents = this._events.all;\n      if (events) triggerEvents(events, args);\n      if (allEvents) triggerEvents(allEvents, arguments);\n      return this;\n    },\n\n    // Tell this object to stop listening to either specific events ... or\n    // to every object it\'s currently listening to.\n    stopListening: function(obj, name, callback) {\n      var listeningTo = this._listeningTo;\n      if (!listeningTo) return this;\n      var remove = !name && !callback;\n      if (!callback && typeof name === \'object\') callback = this;\n      if (obj) (listeningTo = {})[obj._listenId] = obj;\n      for (var id in listeningTo) {\n        obj = listeningTo[id];\n        obj.off(name, callback, this);\n        if (remove || _.isEmpty(obj._events)) delete this._listeningTo[id];\n      }\n      return this;\n    }\n\n  };\n\n  // Regular expression used to split event strings.\n  var eventSplitter = /\\s+/;\n\n  // Implement fancy features of the Events API such as multiple event\n  // names `"change blur"` and jQuery-style event maps `{change: action}`\n  // in terms of the existing API.\n  var eventsApi = function(obj, action, name, rest) {\n    if (!name) return true;\n\n    // Handle event maps.\n    if (typeof name === \'object\') {\n      for (var key in name) {\n        obj[action].apply(obj, [key, name[key]].concat(rest));\n      }\n      return false;\n    }\n\n    // Handle space separated event names.\n    if (eventSplitter.test(name)) {\n      var names = name.split(eventSplitter);\n      for (var i = 0, l = names.length; i < l; i++) {\n        obj[action].apply(obj, [names[i]].concat(rest));\n      }\n      return false;\n    }\n\n    return true;\n  };\n\n  // A difficult-to-believe, but optimized internal dispatch function for\n  // triggering events. Tries to keep the usual cases speedy (most internal\n  // Backbone events have 3 arguments).\n  var triggerEvents = function(events, args) {\n    var ev, i = -1, l = events.length, a1 = args[0], a2 = args[1], a3 = args[2];\n    switch (args.length) {\n      case 0: while (++i < l) (ev = events[i]).callback.call(ev.ctx); return;\n      case 1: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1); return;\n      case 2: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2); return;\n      case 3: while (++i < l) (ev = events[i]).callback.call(ev.ctx, a1, a2, a3); return;\n      default: while (++i < l) (ev = events[i]).callback.apply(ev.ctx, args); return;\n    }\n  };\n\n  var listenMethods = {listenTo: \'on\', listenToOnce: \'once\'};\n\n  // Inversion-of-control versions of `on` and `once`. Tell *this* object to\n  // listen to an event in another object ... keeping track of what it\'s\n  // listening to.\n  _.each(listenMethods, function(implementation, method) {\n    Events[method] = function(obj, name, callback) {\n      var listeningTo = this._listeningTo || (this._listeningTo = {});\n      var id = obj._listenId || (obj._listenId = _.uniqueId(\'l\'));\n      listeningTo[id] = obj;\n      if (!callback && typeof name === \'object\') callback = this;\n      obj[implementation](name, callback, this);\n      return this;\n    };\n  });\n\n  // Aliases for backwards compatibility.\n  Events.bind   = Events.on;\n  Events.unbind = Events.off;\n\n  // Allow the `Backbone` object to serve as a global event bus, for folks who\n  // want global "pubsub" in a convenient place.\n  _.extend(Backbone, Events);\n\n  // Backbone.Model\n  // --------------\n\n  // Backbone **Models** are the basic data object in the framework --\n  // frequently representing a row in a table in a database on your server.\n  // A discrete chunk of data and a bunch of useful, related methods for\n  // performing computations and transformations on that data.\n\n  // Create a new model with the specified attributes. A client id (`cid`)\n  // is automatically generated and assigned for you.\n  var Model = Backbone.Model = function(attributes, options) {\n    var attrs = attributes || {};\n    options || (options = {});\n    this.cid = _.uniqueId(\'c\');\n    this.attributes = {};\n    if (options.collection) this.collection = options.collection;\n    if (options.parse) attrs = this.parse(attrs, options) || {};\n    attrs = _.defaults({}, attrs, _.result(this, \'defaults\'));\n    this.set(attrs, options);\n    this.changed = {};\n    this.initialize.apply(this, arguments);\n  };\n\n  // Attach all inheritable methods to the Model prototype.\n  _.extend(Model.prototype, Events, {\n\n    // A hash of attributes whose current and previous value differ.\n    changed: null,\n\n    // The value returned during the last failed validation.\n    validationError: null,\n\n    // The default name for the JSON `id` attribute is `"id"`. MongoDB and\n    // CouchDB users may want to set this to `"_id"`.\n    idAttribute: \'id\',\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Return a copy of the model\'s `attributes` object.\n    toJSON: function(options) {\n      return _.clone(this.attributes);\n    },\n\n    // Proxy `Backbone.sync` by default -- but override this if you need\n    // custom syncing semantics for *this* particular model.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Get the value of an attribute.\n    get: function(attr) {\n      return this.attributes[attr];\n    },\n\n    // Get the HTML-escaped value of an attribute.\n    escape: function(attr) {\n      return _.escape(this.get(attr));\n    },\n\n    // Returns `true` if the attribute contains a value that is not null\n    // or undefined.\n    has: function(attr) {\n      return this.get(attr) != null;\n    },\n\n    // Set a hash of model attributes on the object, firing `"change"`. This is\n    // the core primitive operation of a model, updating the data and notifying\n    // anyone who needs to know about the change in state. The heart of the beast.\n    set: function(key, val, options) {\n      var attr, attrs, unset, changes, silent, changing, prev, current;\n      if (key == null) return this;\n\n      // Handle both `"key", value` and `{key: value}` -style arguments.\n      if (typeof key === \'object\') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options || (options = {});\n\n      // Run validation.\n      if (!this._validate(attrs, options)) return false;\n\n      // Extract attributes and options.\n      unset           = options.unset;\n      silent          = options.silent;\n      changes         = [];\n      changing        = this._changing;\n      this._changing  = true;\n\n      if (!changing) {\n        this._previousAttributes = _.clone(this.attributes);\n        this.changed = {};\n      }\n      current = this.attributes, prev = this._previousAttributes;\n\n      // Check for changes of `id`.\n      if (this.idAttribute in attrs) this.id = attrs[this.idAttribute];\n\n      // For each `set` attribute, update or delete the current value.\n      for (attr in attrs) {\n        val = attrs[attr];\n        if (!_.isEqual(current[attr], val)) changes.push(attr);\n        if (!_.isEqual(prev[attr], val)) {\n          this.changed[attr] = val;\n        } else {\n          delete this.changed[attr];\n        }\n        unset ? delete current[attr] : current[attr] = val;\n      }\n\n      // Trigger all relevant attribute changes.\n      if (!silent) {\n        if (changes.length) this._pending = options;\n        for (var i = 0, l = changes.length; i < l; i++) {\n          this.trigger(\'change:\' + changes[i], this, current[changes[i]], options);\n        }\n      }\n\n      // You might be wondering why there\'s a `while` loop here. Changes can\n      // be recursively nested within `"change"` events.\n      if (changing) return this;\n      if (!silent) {\n        while (this._pending) {\n          options = this._pending;\n          this._pending = false;\n          this.trigger(\'change\', this, options);\n        }\n      }\n      this._pending = false;\n      this._changing = false;\n      return this;\n    },\n\n    // Remove an attribute from the model, firing `"change"`. `unset` is a noop\n    // if the attribute doesn\'t exist.\n    unset: function(attr, options) {\n      return this.set(attr, void 0, _.extend({}, options, {unset: true}));\n    },\n\n    // Clear all attributes on the model, firing `"change"`.\n    clear: function(options) {\n      var attrs = {};\n      for (var key in this.attributes) attrs[key] = void 0;\n      return this.set(attrs, _.extend({}, options, {unset: true}));\n    },\n\n    // Determine if the model has changed since the last `"change"` event.\n    // If you specify an attribute name, determine if that attribute has changed.\n    hasChanged: function(attr) {\n      if (attr == null) return !_.isEmpty(this.changed);\n      return _.has(this.changed, attr);\n    },\n\n    // Return an object containing all the attributes that have changed, or\n    // false if there are no changed attributes. Useful for determining what\n    // parts of a view need to be updated and/or what attributes need to be\n    // persisted to the server. Unset attributes will be set to undefined.\n    // You can also pass an attributes object to diff against the model,\n    // determining if there *would be* a change.\n    changedAttributes: function(diff) {\n      if (!diff) return this.hasChanged() ? _.clone(this.changed) : false;\n      var val, changed = false;\n      var old = this._changing ? this._previousAttributes : this.attributes;\n      for (var attr in diff) {\n        if (_.isEqual(old[attr], (val = diff[attr]))) continue;\n        (changed || (changed = {}))[attr] = val;\n      }\n      return changed;\n    },\n\n    // Get the previous value of an attribute, recorded at the time the last\n    // `"change"` event was fired.\n    previous: function(attr) {\n      if (attr == null || !this._previousAttributes) return null;\n      return this._previousAttributes[attr];\n    },\n\n    // Get all of the attributes of the model at the time of the previous\n    // `"change"` event.\n    previousAttributes: function() {\n      return _.clone(this._previousAttributes);\n    },\n\n    // Fetch the model from the server. If the server\'s representation of the\n    // model differs from its current attributes, they will be overridden,\n    // triggering a `"change"` event.\n    fetch: function(options) {\n      options = options ? _.clone(options) : {};\n      if (options.parse === void 0) options.parse = true;\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        if (!model.set(model.parse(resp, options), options)) return false;\n        if (success) success(model, resp, options);\n        model.trigger(\'sync\', model, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync(\'read\', this, options);\n    },\n\n    // Set a hash of model attributes, and sync the model to the server.\n    // If the server returns an attributes hash that differs, the model\'s\n    // state will be `set` again.\n    save: function(key, val, options) {\n      var attrs, method, xhr, attributes = this.attributes;\n\n      // Handle both `"key", value` and `{key: value}` -style arguments.\n      if (key == null || typeof key === \'object\') {\n        attrs = key;\n        options = val;\n      } else {\n        (attrs = {})[key] = val;\n      }\n\n      options = _.extend({validate: true}, options);\n\n      // If we\'re not waiting and attributes exist, save acts as\n      // `set(attr).save(null, opts)` with validation. Otherwise, check if\n      // the model will be valid when the attributes, if any, are set.\n      if (attrs && !options.wait) {\n        if (!this.set(attrs, options)) return false;\n      } else {\n        if (!this._validate(attrs, options)) return false;\n      }\n\n      // Set temporary attributes if `{wait: true}`.\n      if (attrs && options.wait) {\n        this.attributes = _.extend({}, attributes, attrs);\n      }\n\n      // After a successful server-side save, the client is (optionally)\n      // updated with the server-side state.\n      if (options.parse === void 0) options.parse = true;\n      var model = this;\n      var success = options.success;\n      options.success = function(resp) {\n        // Ensure attributes are restored during synchronous saves.\n        model.attributes = attributes;\n        var serverAttrs = model.parse(resp, options);\n        if (options.wait) serverAttrs = _.extend(attrs || {}, serverAttrs);\n        if (_.isObject(serverAttrs) && !model.set(serverAttrs, options)) {\n          return false;\n        }\n        if (success) success(model, resp, options);\n        model.trigger(\'sync\', model, resp, options);\n      };\n      wrapError(this, options);\n\n      method = this.isNew() ? \'create\' : (options.patch ? \'patch\' : \'update\');\n      if (method === \'patch\') options.attrs = attrs;\n      xhr = this.sync(method, this, options);\n\n      // Restore attributes.\n      if (attrs && options.wait) this.attributes = attributes;\n\n      return xhr;\n    },\n\n    // Destroy this model on the server if it was already persisted.\n    // Optimistically removes the model from its collection, if it has one.\n    // If `wait: true` is passed, waits for the server to respond before removal.\n    destroy: function(options) {\n      options = options ? _.clone(options) : {};\n      var model = this;\n      var success = options.success;\n\n      var destroy = function() {\n        model.trigger(\'destroy\', model, model.collection, options);\n      };\n\n      options.success = function(resp) {\n        if (options.wait || model.isNew()) destroy();\n        if (success) success(model, resp, options);\n        if (!model.isNew()) model.trigger(\'sync\', model, resp, options);\n      };\n\n      if (this.isNew()) {\n        options.success();\n        return false;\n      }\n      wrapError(this, options);\n\n      var xhr = this.sync(\'delete\', this, options);\n      if (!options.wait) destroy();\n      return xhr;\n    },\n\n    // Default URL for the model\'s representation on the server -- if you\'re\n    // using Backbone\'s restful methods, override this to change the endpoint\n    // that will be called.\n    url: function() {\n      var base =\n        _.result(this, \'urlRoot\') ||\n        _.result(this.collection, \'url\') ||\n        urlError();\n      if (this.isNew()) return base;\n      return base.replace(/([^\\/])$/, \'$1/\') + encodeURIComponent(this.id);\n    },\n\n    // **parse** converts a response into the hash of attributes to be `set` on\n    // the model. The default implementation is just to pass the response along.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new model with identical attributes to this one.\n    clone: function() {\n      return new this.constructor(this.attributes);\n    },\n\n    // A model is new if it has never been saved to the server, and lacks an id.\n    isNew: function() {\n      return !this.has(this.idAttribute);\n    },\n\n    // Check if the model is currently in a valid state.\n    isValid: function(options) {\n      return this._validate({}, _.extend(options || {}, { validate: true }));\n    },\n\n    // Run validation against the next complete set of model attributes,\n    // returning `true` if all is well. Otherwise, fire an `"invalid"` event.\n    _validate: function(attrs, options) {\n      if (!options.validate || !this.validate) return true;\n      attrs = _.extend({}, this.attributes, attrs);\n      var error = this.validationError = this.validate(attrs, options) || null;\n      if (!error) return true;\n      this.trigger(\'invalid\', this, error, _.extend(options, {validationError: error}));\n      return false;\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Model.\n  var modelMethods = [\'keys\', \'values\', \'pairs\', \'invert\', \'pick\', \'omit\'];\n\n  // Mix in each Underscore method as a proxy to `Model#attributes`.\n  _.each(modelMethods, function(method) {\n    Model.prototype[method] = function() {\n      var args = slice.call(arguments);\n      args.unshift(this.attributes);\n      return _[method].apply(_, args);\n    };\n  });\n\n  // Backbone.Collection\n  // -------------------\n\n  // If models tend to represent a single row of data, a Backbone Collection is\n  // more analagous to a table full of data ... or a small slice or page of that\n  // table, or a collection of rows that belong together for a particular reason\n  // -- all of the messages in this particular folder, all of the documents\n  // belonging to this particular author, and so on. Collections maintain\n  // indexes of their models, both in order, and for lookup by `id`.\n\n  // Create a new **Collection**, perhaps to contain a specific type of `model`.\n  // If a `comparator` is specified, the Collection will maintain\n  // its models in sort order, as they\'re added and removed.\n  var Collection = Backbone.Collection = function(models, options) {\n    options || (options = {});\n    if (options.model) this.model = options.model;\n    if (options.comparator !== void 0) this.comparator = options.comparator;\n    this._reset();\n    this.initialize.apply(this, arguments);\n    if (models) this.reset(models, _.extend({silent: true}, options));\n  };\n\n  // Default options for `Collection#set`.\n  var setOptions = {add: true, remove: true, merge: true};\n  var addOptions = {add: true, remove: false};\n\n  // Define the Collection\'s inheritable methods.\n  _.extend(Collection.prototype, Events, {\n\n    // The default model for a collection is just a **Backbone.Model**.\n    // This should be overridden in most cases.\n    model: Model,\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // The JSON representation of a Collection is an array of the\n    // models\' attributes.\n    toJSON: function(options) {\n      return this.map(function(model){ return model.toJSON(options); });\n    },\n\n    // Proxy `Backbone.sync` by default.\n    sync: function() {\n      return Backbone.sync.apply(this, arguments);\n    },\n\n    // Add a model, or list of models to the set.\n    add: function(models, options) {\n      return this.set(models, _.extend({merge: false}, options, addOptions));\n    },\n\n    // Remove a model, or a list of models from the set.\n    remove: function(models, options) {\n      var singular = !_.isArray(models);\n      models = singular ? [models] : _.clone(models);\n      options || (options = {});\n      var i, l, index, model;\n      for (i = 0, l = models.length; i < l; i++) {\n        model = models[i] = this.get(models[i]);\n        if (!model) continue;\n        delete this._byId[model.id];\n        delete this._byId[model.cid];\n        index = this.indexOf(model);\n        this.models.splice(index, 1);\n        this.length--;\n        if (!options.silent) {\n          options.index = index;\n          model.trigger(\'remove\', model, this, options);\n        }\n        this._removeReference(model, options);\n      }\n      return singular ? models[0] : models;\n    },\n\n    // Update a collection by `set`-ing a new list of models, adding new ones,\n    // removing models that are no longer present, and merging models that\n    // already exist in the collection, as necessary. Similar to **Model#set**,\n    // the core operation for updating the data contained by the collection.\n    set: function(models, options) {\n      options = _.defaults({}, options, setOptions);\n      if (options.parse) models = this.parse(models, options);\n      var singular = !_.isArray(models);\n      models = singular ? (models ? [models] : []) : _.clone(models);\n      var i, l, id, model, attrs, existing, sort;\n      var at = options.at;\n      var targetModel = this.model;\n      var sortable = this.comparator && (at == null) && options.sort !== false;\n      var sortAttr = _.isString(this.comparator) ? this.comparator : null;\n      var toAdd = [], toRemove = [], modelMap = {};\n      var add = options.add, merge = options.merge, remove = options.remove;\n      var order = !sortable && add && remove ? [] : false;\n\n      // Turn bare objects into model references, and prevent invalid models\n      // from being added.\n      for (i = 0, l = models.length; i < l; i++) {\n        attrs = models[i] || {};\n        if (attrs instanceof Model) {\n          id = model = attrs;\n        } else {\n          id = attrs[targetModel.prototype.idAttribute || \'id\'];\n        }\n\n        // If a duplicate is found, prevent it from being added and\n        // optionally merge it into the existing model.\n        if (existing = this.get(id)) {\n          if (remove) modelMap[existing.cid] = true;\n          if (merge) {\n            attrs = attrs === model ? model.attributes : attrs;\n            if (options.parse) attrs = existing.parse(attrs, options);\n            existing.set(attrs, options);\n            if (sortable && !sort && existing.hasChanged(sortAttr)) sort = true;\n          }\n          models[i] = existing;\n\n        // If this is a new, valid model, push it to the `toAdd` list.\n        } else if (add) {\n          model = models[i] = this._prepareModel(attrs, options);\n          if (!model) continue;\n          toAdd.push(model);\n          this._addReference(model, options);\n        }\n\n        // Do not add multiple models with the same `id`.\n        model = existing || model;\n        if (order && (model.isNew() || !modelMap[model.id])) order.push(model);\n        modelMap[model.id] = true;\n      }\n\n      // Remove nonexistent models if appropriate.\n      if (remove) {\n        for (i = 0, l = this.length; i < l; ++i) {\n          if (!modelMap[(model = this.models[i]).cid]) toRemove.push(model);\n        }\n        if (toRemove.length) this.remove(toRemove, options);\n      }\n\n      // See if sorting is needed, update `length` and splice in new models.\n      if (toAdd.length || (order && order.length)) {\n        if (sortable) sort = true;\n        this.length += toAdd.length;\n        if (at != null) {\n          for (i = 0, l = toAdd.length; i < l; i++) {\n            this.models.splice(at + i, 0, toAdd[i]);\n          }\n        } else {\n          if (order) this.models.length = 0;\n          var orderedModels = order || toAdd;\n          for (i = 0, l = orderedModels.length; i < l; i++) {\n            this.models.push(orderedModels[i]);\n          }\n        }\n      }\n\n      // Silently sort the collection if appropriate.\n      if (sort) this.sort({silent: true});\n\n      // Unless silenced, it\'s time to fire all appropriate add/sort events.\n      if (!options.silent) {\n        for (i = 0, l = toAdd.length; i < l; i++) {\n          (model = toAdd[i]).trigger(\'add\', model, this, options);\n        }\n        if (sort || (order && order.length)) this.trigger(\'sort\', this, options);\n      }\n\n      // Return the added (or merged) model (or models).\n      return singular ? models[0] : models;\n    },\n\n    // When you have more items than you want to add or remove individually,\n    // you can reset the entire set with a new list of models, without firing\n    // any granular `add` or `remove` events. Fires `reset` when finished.\n    // Useful for bulk operations and optimizations.\n    reset: function(models, options) {\n      options || (options = {});\n      for (var i = 0, l = this.models.length; i < l; i++) {\n        this._removeReference(this.models[i], options);\n      }\n      options.previousModels = this.models;\n      this._reset();\n      models = this.add(models, _.extend({silent: true}, options));\n      if (!options.silent) this.trigger(\'reset\', this, options);\n      return models;\n    },\n\n    // Add a model to the end of the collection.\n    push: function(model, options) {\n      return this.add(model, _.extend({at: this.length}, options));\n    },\n\n    // Remove a model from the end of the collection.\n    pop: function(options) {\n      var model = this.at(this.length - 1);\n      this.remove(model, options);\n      return model;\n    },\n\n    // Add a model to the beginning of the collection.\n    unshift: function(model, options) {\n      return this.add(model, _.extend({at: 0}, options));\n    },\n\n    // Remove a model from the beginning of the collection.\n    shift: function(options) {\n      var model = this.at(0);\n      this.remove(model, options);\n      return model;\n    },\n\n    // Slice out a sub-array of models from the collection.\n    slice: function() {\n      return slice.apply(this.models, arguments);\n    },\n\n    // Get a model from the set by id.\n    get: function(obj) {\n      if (obj == null) return void 0;\n      return this._byId[obj] || this._byId[obj.id] || this._byId[obj.cid];\n    },\n\n    // Get the model at the given index.\n    at: function(index) {\n      return this.models[index];\n    },\n\n    // Return models with matching attributes. Useful for simple cases of\n    // `filter`.\n    where: function(attrs, first) {\n      if (_.isEmpty(attrs)) return first ? void 0 : [];\n      return this[first ? \'find\' : \'filter\'](function(model) {\n        for (var key in attrs) {\n          if (attrs[key] !== model.get(key)) return false;\n        }\n        return true;\n      });\n    },\n\n    // Return the first model with matching attributes. Useful for simple cases\n    // of `find`.\n    findWhere: function(attrs) {\n      return this.where(attrs, true);\n    },\n\n    // Force the collection to re-sort itself. You don\'t need to call this under\n    // normal circumstances, as the set will maintain sort order as each item\n    // is added.\n    sort: function(options) {\n      if (!this.comparator) throw new Error(\'Cannot sort a set without a comparator\');\n      options || (options = {});\n\n      // Run sort based on type of `comparator`.\n      if (_.isString(this.comparator) || this.comparator.length === 1) {\n        this.models = this.sortBy(this.comparator, this);\n      } else {\n        this.models.sort(_.bind(this.comparator, this));\n      }\n\n      if (!options.silent) this.trigger(\'sort\', this, options);\n      return this;\n    },\n\n    // Pluck an attribute from each model in the collection.\n    pluck: function(attr) {\n      return _.invoke(this.models, \'get\', attr);\n    },\n\n    // Fetch the default set of models for this collection, resetting the\n    // collection when they arrive. If `reset: true` is passed, the response\n    // data will be passed through the `reset` method instead of `set`.\n    fetch: function(options) {\n      options = options ? _.clone(options) : {};\n      if (options.parse === void 0) options.parse = true;\n      var success = options.success;\n      var collection = this;\n      options.success = function(resp) {\n        var method = options.reset ? \'reset\' : \'set\';\n        collection[method](resp, options);\n        if (success) success(collection, resp, options);\n        collection.trigger(\'sync\', collection, resp, options);\n      };\n      wrapError(this, options);\n      return this.sync(\'read\', this, options);\n    },\n\n    // Create a new instance of a model in this collection. Add the model to the\n    // collection immediately, unless `wait: true` is passed, in which case we\n    // wait for the server to agree.\n    create: function(model, options) {\n      options = options ? _.clone(options) : {};\n      if (!(model = this._prepareModel(model, options))) return false;\n      if (!options.wait) this.add(model, options);\n      var collection = this;\n      var success = options.success;\n      options.success = function(model, resp) {\n        if (options.wait) collection.add(model, options);\n        if (success) success(model, resp, options);\n      };\n      model.save(null, options);\n      return model;\n    },\n\n    // **parse** converts a response into a list of models to be added to the\n    // collection. The default implementation is just to pass it through.\n    parse: function(resp, options) {\n      return resp;\n    },\n\n    // Create a new collection with an identical list of models as this one.\n    clone: function() {\n      return new this.constructor(this.models);\n    },\n\n    // Private method to reset all internal state. Called when the collection\n    // is first initialized or reset.\n    _reset: function() {\n      this.length = 0;\n      this.models = [];\n      this._byId  = {};\n    },\n\n    // Prepare a hash of attributes (or other model) to be added to this\n    // collection.\n    _prepareModel: function(attrs, options) {\n      if (attrs instanceof Model) return attrs;\n      options = options ? _.clone(options) : {};\n      options.collection = this;\n      var model = new this.model(attrs, options);\n      if (!model.validationError) return model;\n      this.trigger(\'invalid\', this, model.validationError, options);\n      return false;\n    },\n\n    // Internal method to create a model\'s ties to a collection.\n    _addReference: function(model, options) {\n      this._byId[model.cid] = model;\n      if (model.id != null) this._byId[model.id] = model;\n      if (!model.collection) model.collection = this;\n      model.on(\'all\', this._onModelEvent, this);\n    },\n\n    // Internal method to sever a model\'s ties to a collection.\n    _removeReference: function(model, options) {\n      if (this === model.collection) delete model.collection;\n      model.off(\'all\', this._onModelEvent, this);\n    },\n\n    // Internal method called every time a model in the set fires an event.\n    // Sets need to update their indexes when models change ids. All other\n    // events simply proxy through. "add" and "remove" events that originate\n    // in other collections are ignored.\n    _onModelEvent: function(event, model, collection, options) {\n      if ((event === \'add\' || event === \'remove\') && collection !== this) return;\n      if (event === \'destroy\') this.remove(model, options);\n      if (model && event === \'change:\' + model.idAttribute) {\n        delete this._byId[model.previous(model.idAttribute)];\n        if (model.id != null) this._byId[model.id] = model;\n      }\n      this.trigger.apply(this, arguments);\n    }\n\n  });\n\n  // Underscore methods that we want to implement on the Collection.\n  // 90% of the core usefulness of Backbone Collections is actually implemented\n  // right here:\n  var methods = [\'forEach\', \'each\', \'map\', \'collect\', \'reduce\', \'foldl\',\n    \'inject\', \'reduceRight\', \'foldr\', \'find\', \'detect\', \'filter\', \'select\',\n    \'reject\', \'every\', \'all\', \'some\', \'any\', \'include\', \'contains\', \'invoke\',\n    \'max\', \'min\', \'toArray\', \'size\', \'first\', \'head\', \'take\', \'initial\', \'rest\',\n    \'tail\', \'drop\', \'last\', \'without\', \'difference\', \'indexOf\', \'shuffle\',\n    \'lastIndexOf\', \'isEmpty\', \'chain\', \'sample\'];\n\n  // Mix in each Underscore method as a proxy to `Collection#models`.\n  _.each(methods, function(method) {\n    Collection.prototype[method] = function() {\n      var args = slice.call(arguments);\n      args.unshift(this.models);\n      return _[method].apply(_, args);\n    };\n  });\n\n  // Underscore methods that take a property name as an argument.\n  var attributeMethods = [\'groupBy\', \'countBy\', \'sortBy\', \'indexBy\'];\n\n  // Use attributes instead of properties.\n  _.each(attributeMethods, function(method) {\n    Collection.prototype[method] = function(value, context) {\n      var iterator = _.isFunction(value) ? value : function(model) {\n        return model.get(value);\n      };\n      return _[method](this.models, iterator, context);\n    };\n  });\n\n  // Backbone.View\n  // -------------\n\n  // Backbone Views are almost more convention than they are actual code. A View\n  // is simply a JavaScript object that represents a logical chunk of UI in the\n  // DOM. This might be a single item, an entire list, a sidebar or panel, or\n  // even the surrounding frame which wraps your whole app. Defining a chunk of\n  // UI as a **View** allows you to define your DOM events declaratively, without\n  // having to worry about render order ... and makes it easy for the view to\n  // react to specific changes in the state of your models.\n\n  // Creating a Backbone.View creates its initial element outside of the DOM,\n  // if an existing element is not provided...\n  var View = Backbone.View = function(options) {\n    this.cid = _.uniqueId(\'view\');\n    options || (options = {});\n    _.extend(this, _.pick(options, viewOptions));\n    this._ensureElement();\n    this.initialize.apply(this, arguments);\n    this.delegateEvents();\n  };\n\n  // Cached regex to split keys for `delegate`.\n  var delegateEventSplitter = /^(\\S+)\\s*(.*)$/;\n\n  // List of view options to be merged as properties.\n  var viewOptions = [\'model\', \'collection\', \'el\', \'id\', \'attributes\', \'className\', \'tagName\', \'events\'];\n\n  // Set up all inheritable **Backbone.View** properties and methods.\n  _.extend(View.prototype, Events, {\n\n    // The default `tagName` of a View\'s element is `"div"`.\n    tagName: \'div\',\n\n    // jQuery delegate for element lookup, scoped to DOM elements within the\n    // current view. This should be preferred to global lookups where possible.\n    $: function(selector) {\n      return this.$el.find(selector);\n    },\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // **render** is the core function that your view should override, in order\n    // to populate its element (`this.el`), with the appropriate HTML. The\n    // convention is for **render** to always return `this`.\n    render: function() {\n      return this;\n    },\n\n    // Remove this view by taking the element out of the DOM, and removing any\n    // applicable Backbone.Events listeners.\n    remove: function() {\n      this.$el.remove();\n      this.stopListening();\n      return this;\n    },\n\n    // Change the view\'s element (`this.el` property), including event\n    // re-delegation.\n    setElement: function(element, delegate) {\n      if (this.$el) this.undelegateEvents();\n      this.$el = element instanceof Backbone.$ ? element : Backbone.$(element);\n      this.el = this.$el[0];\n      if (delegate !== false) this.delegateEvents();\n      return this;\n    },\n\n    // Set callbacks, where `this.events` is a hash of\n    //\n    // *{"event selector": "callback"}*\n    //\n    //     {\n    //       \'mousedown .title\':  \'edit\',\n    //       \'click .button\':     \'save\',\n    //       \'click .open\':       function(e) { ... }\n    //     }\n    //\n    // pairs. Callbacks will be bound to the view, with `this` set properly.\n    // Uses event delegation for efficiency.\n    // Omitting the selector binds the event to `this.el`.\n    // This only works for delegate-able events: not `focus`, `blur`, and\n    // not `change`, `submit`, and `reset` in Internet Explorer.\n    delegateEvents: function(events) {\n      if (!(events || (events = _.result(this, \'events\')))) return this;\n      this.undelegateEvents();\n      for (var key in events) {\n        var method = events[key];\n        if (!_.isFunction(method)) method = this[events[key]];\n        if (!method) continue;\n\n        var match = key.match(delegateEventSplitter);\n        var eventName = match[1], selector = match[2];\n        method = _.bind(method, this);\n        eventName += \'.delegateEvents\' + this.cid;\n        if (selector === \'\') {\n          this.$el.on(eventName, method);\n        } else {\n          this.$el.on(eventName, selector, method);\n        }\n      }\n      return this;\n    },\n\n    // Clears all callbacks previously bound to the view with `delegateEvents`.\n    // You usually don\'t need to use this, but may wish to if you have multiple\n    // Backbone views attached to the same DOM element.\n    undelegateEvents: function() {\n      this.$el.off(\'.delegateEvents\' + this.cid);\n      return this;\n    },\n\n    // Ensure that the View has a DOM element to render into.\n    // If `this.el` is a string, pass it through `$()`, take the first\n    // matching element, and re-assign it to `el`. Otherwise, create\n    // an element from the `id`, `className` and `tagName` properties.\n    _ensureElement: function() {\n      if (!this.el) {\n        var attrs = _.extend({}, _.result(this, \'attributes\'));\n        if (this.id) attrs.id = _.result(this, \'id\');\n        if (this.className) attrs[\'class\'] = _.result(this, \'className\');\n        var $el = Backbone.$(\'<\' + _.result(this, \'tagName\') + \'>\').attr(attrs);\n        this.setElement($el, false);\n      } else {\n        this.setElement(_.result(this, \'el\'), false);\n      }\n    }\n\n  });\n\n  // Backbone.sync\n  // -------------\n\n  // Override this function to change the manner in which Backbone persists\n  // models to the server. You will be passed the type of request, and the\n  // model in question. By default, makes a RESTful Ajax request\n  // to the model\'s `url()`. Some possible customizations could be:\n  //\n  // * Use `setTimeout` to batch rapid-fire updates into a single request.\n  // * Send up the models as XML instead of JSON.\n  // * Persist models via WebSockets instead of Ajax.\n  //\n  // Turn on `Backbone.emulateHTTP` in order to send `PUT` and `DELETE` requests\n  // as `POST`, with a `_method` parameter containing the true HTTP method,\n  // as well as all requests with the body as `application/x-www-form-urlencoded`\n  // instead of `application/json` with the model in a param named `model`.\n  // Useful when interfacing with server-side languages like **PHP** that make\n  // it difficult to read the body of `PUT` requests.\n  Backbone.sync = function(method, model, options) {\n    var type = methodMap[method];\n\n    // Default options, unless specified.\n    _.defaults(options || (options = {}), {\n      emulateHTTP: Backbone.emulateHTTP,\n      emulateJSON: Backbone.emulateJSON\n    });\n\n    // Default JSON-request options.\n    var params = {type: type, dataType: \'json\'};\n\n    // Ensure that we have a URL.\n    if (!options.url) {\n      params.url = _.result(model, \'url\') || urlError();\n    }\n\n    // Ensure that we have the appropriate request data.\n    if (options.data == null && model && (method === \'create\' || method === \'update\' || method === \'patch\')) {\n      params.contentType = \'application/json\';\n      params.data = JSON.stringify(options.attrs || model.toJSON(options));\n    }\n\n    // For older servers, emulate JSON by encoding the request into an HTML-form.\n    if (options.emulateJSON) {\n      params.contentType = \'application/x-www-form-urlencoded\';\n      params.data = params.data ? {model: params.data} : {};\n    }\n\n    // For older servers, emulate HTTP by mimicking the HTTP method with `_method`\n    // And an `X-HTTP-Method-Override` header.\n    if (options.emulateHTTP && (type === \'PUT\' || type === \'DELETE\' || type === \'PATCH\')) {\n      params.type = \'POST\';\n      if (options.emulateJSON) params.data._method = type;\n      var beforeSend = options.beforeSend;\n      options.beforeSend = function(xhr) {\n        xhr.setRequestHeader(\'X-HTTP-Method-Override\', type);\n        if (beforeSend) return beforeSend.apply(this, arguments);\n      };\n    }\n\n    // Don\'t process data on a non-GET request.\n    if (params.type !== \'GET\' && !options.emulateJSON) {\n      params.processData = false;\n    }\n\n    // If we\'re sending a `PATCH` request, and we\'re in an old Internet Explorer\n    // that still has ActiveX enabled by default, override jQuery to use that\n    // for XHR instead. Remove this line when jQuery supports `PATCH` on IE8.\n    if (params.type === \'PATCH\' && noXhrPatch) {\n      params.xhr = function() {\n        return new ActiveXObject("Microsoft.XMLHTTP");\n      };\n    }\n\n    // Make the request, allowing the user to override any Ajax options.\n    var xhr = options.xhr = Backbone.ajax(_.extend(params, options));\n    model.trigger(\'request\', model, xhr, options);\n    return xhr;\n  };\n\n  var noXhrPatch =\n    typeof window !== \'undefined\' && !!window.ActiveXObject &&\n      !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);\n\n  // Map from CRUD to HTTP for our default `Backbone.sync` implementation.\n  var methodMap = {\n    \'create\': \'POST\',\n    \'update\': \'PUT\',\n    \'patch\':  \'PATCH\',\n    \'delete\': \'DELETE\',\n    \'read\':   \'GET\'\n  };\n\n  // Set the default implementation of `Backbone.ajax` to proxy through to `$`.\n  // Override this if you\'d like to use a different library.\n  Backbone.ajax = function() {\n    return Backbone.$.ajax.apply(Backbone.$, arguments);\n  };\n\n  // Backbone.Router\n  // ---------------\n\n  // Routers map faux-URLs to actions, and fire events when routes are\n  // matched. Creating a new one sets its `routes` hash, if not set statically.\n  var Router = Backbone.Router = function(options) {\n    options || (options = {});\n    if (options.routes) this.routes = options.routes;\n    this._bindRoutes();\n    this.initialize.apply(this, arguments);\n  };\n\n  // Cached regular expressions for matching named param parts and splatted\n  // parts of route strings.\n  var optionalParam = /\\((.*?)\\)/g;\n  var namedParam    = /(\\(\\?)?:\\w+/g;\n  var splatParam    = /\\*\\w+/g;\n  var escapeRegExp  = /[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;\n\n  // Set up all inheritable **Backbone.Router** properties and methods.\n  _.extend(Router.prototype, Events, {\n\n    // Initialize is an empty function by default. Override it with your own\n    // initialization logic.\n    initialize: function(){},\n\n    // Manually bind a single named route to a callback. For example:\n    //\n    //     this.route(\'search/:query/p:num\', \'search\', function(query, num) {\n    //       ...\n    //     });\n    //\n    route: function(route, name, callback) {\n      if (!_.isRegExp(route)) route = this._routeToRegExp(route);\n      if (_.isFunction(name)) {\n        callback = name;\n        name = \'\';\n      }\n      if (!callback) callback = this[name];\n      var router = this;\n      Backbone.history.route(route, function(fragment) {\n        var args = router._extractParameters(route, fragment);\n        router.execute(callback, args);\n        router.trigger.apply(router, [\'route:\' + name].concat(args));\n        router.trigger(\'route\', name, args);\n        Backbone.history.trigger(\'route\', router, name, args);\n      });\n      return this;\n    },\n\n    // Execute a route handler with the provided parameters.  This is an\n    // excellent place to do pre-route setup or post-route cleanup.\n    execute: function(callback, args) {\n      if (callback) callback.apply(this, args);\n    },\n\n    // Simple proxy to `Backbone.history` to save a fragment into the history.\n    navigate: function(fragment, options) {\n      Backbone.history.navigate(fragment, options);\n      return this;\n    },\n\n    // Bind all defined routes to `Backbone.history`. We have to reverse the\n    // order of the routes here to support behavior where the most general\n    // routes can be defined at the bottom of the route map.\n    _bindRoutes: function() {\n      if (!this.routes) return;\n      this.routes = _.result(this, \'routes\');\n      var route, routes = _.keys(this.routes);\n      while ((route = routes.pop()) != null) {\n        this.route(route, this.routes[route]);\n      }\n    },\n\n    // Convert a route string into a regular expression, suitable for matching\n    // against the current location hash.\n    _routeToRegExp: function(route) {\n      route = route.replace(escapeRegExp, \'\\\\$&\')\n                   .replace(optionalParam, \'(?:$1)?\')\n                   .replace(namedParam, function(match, optional) {\n                     return optional ? match : \'([^/?]+)\';\n                   })\n                   .replace(splatParam, \'([^?]*?)\');\n      return new RegExp(\'^\' + route + \'(?:\\\\?([\\\\s\\\\S]*))?$\');\n    },\n\n    // Given a route, and a URL fragment that it matches, return the array of\n    // extracted decoded parameters. Empty or unmatched parameters will be\n    // treated as `null` to normalize cross-browser behavior.\n    _extractParameters: function(route, fragment) {\n      var params = route.exec(fragment).slice(1);\n      return _.map(params, function(param, i) {\n        // Don\'t decode the search params.\n        if (i === params.length - 1) return param || null;\n        return param ? decodeURIComponent(param) : null;\n      });\n    }\n\n  });\n\n  // Backbone.History\n  // ----------------\n\n  // Handles cross-browser history management, based on either\n  // [pushState](http://diveintohtml5.info/history.html) and real URLs, or\n  // [onhashchange](https://developer.mozilla.org/en-US/docs/DOM/window.onhashchange)\n  // and URL fragments. If the browser supports neither (old IE, natch),\n  // falls back to polling.\n  var History = Backbone.History = function() {\n    this.handlers = [];\n    _.bindAll(this, \'checkUrl\');\n\n    // Ensure that `History` can be used outside of the browser.\n    if (typeof window !== \'undefined\') {\n      this.location = window.location;\n      this.history = window.history;\n    }\n  };\n\n  // Cached regex for stripping a leading hash/slash and trailing space.\n  var routeStripper = /^[#\\/]|\\s+$/g;\n\n  // Cached regex for stripping leading and trailing slashes.\n  var rootStripper = /^\\/+|\\/+$/g;\n\n  // Cached regex for detecting MSIE.\n  var isExplorer = /msie [\\w.]+/;\n\n  // Cached regex for removing a trailing slash.\n  var trailingSlash = /\\/$/;\n\n  // Cached regex for stripping urls of hash.\n  var pathStripper = /#.*$/;\n\n  // Has the history handling already been started?\n  History.started = false;\n\n  // Set up all inheritable **Backbone.History** properties and methods.\n  _.extend(History.prototype, Events, {\n\n    // The default interval to poll for hash changes, if necessary, is\n    // twenty times a second.\n    interval: 50,\n\n    // Are we at the app root?\n    atRoot: function() {\n      return this.location.pathname.replace(/[^\\/]$/, \'$&/\') === this.root;\n    },\n\n    // Gets the true hash value. Cannot use location.hash directly due to bug\n    // in Firefox where location.hash will always be decoded.\n    getHash: function(window) {\n      var match = (window || this).location.href.match(/#(.*)$/);\n      return match ? match[1] : \'\';\n    },\n\n    // Get the cross-browser normalized URL fragment, either from the URL,\n    // the hash, or the override.\n    getFragment: function(fragment, forcePushState) {\n      if (fragment == null) {\n        if (this._hasPushState || !this._wantsHashChange || forcePushState) {\n          fragment = decodeURI(this.location.pathname + this.location.search);\n          var root = this.root.replace(trailingSlash, \'\');\n          if (!fragment.indexOf(root)) fragment = fragment.slice(root.length);\n        } else {\n          fragment = this.getHash();\n        }\n      }\n      return fragment.replace(routeStripper, \'\');\n    },\n\n    // Start the hash change handling, returning `true` if the current URL matches\n    // an existing route, and `false` otherwise.\n    start: function(options) {\n      if (History.started) throw new Error("Backbone.history has already been started");\n      History.started = true;\n\n      // Figure out the initial configuration. Do we need an iframe?\n      // Is pushState desired ... is it available?\n      this.options          = _.extend({root: \'/\'}, this.options, options);\n      this.root             = this.options.root;\n      this._wantsHashChange = this.options.hashChange !== false;\n      this._wantsPushState  = !!this.options.pushState;\n      this._hasPushState    = !!(this.options.pushState && this.history && this.history.pushState);\n      var fragment          = this.getFragment();\n      var docMode           = document.documentMode;\n      var oldIE             = (isExplorer.exec(navigator.userAgent.toLowerCase()) && (!docMode || docMode <= 7));\n\n      // Normalize root to always include a leading and trailing slash.\n      this.root = (\'/\' + this.root + \'/\').replace(rootStripper, \'/\');\n\n      if (oldIE && this._wantsHashChange) {\n        var frame = Backbone.$(\'<iframe src="javascript:0" tabindex="-1">\');\n        this.iframe = frame.hide().appendTo(\'body\')[0].contentWindow;\n        this.navigate(fragment);\n      }\n\n      // Depending on whether we\'re using pushState or hashes, and whether\n      // \'onhashchange\' is supported, determine how we check the URL state.\n      if (this._hasPushState) {\n        Backbone.$(window).on(\'popstate\', this.checkUrl);\n      } else if (this._wantsHashChange && (\'onhashchange\' in window) && !oldIE) {\n        Backbone.$(window).on(\'hashchange\', this.checkUrl);\n      } else if (this._wantsHashChange) {\n        this._checkUrlInterval = setInterval(this.checkUrl, this.interval);\n      }\n\n      // Determine if we need to change the base url, for a pushState link\n      // opened by a non-pushState browser.\n      this.fragment = fragment;\n      var loc = this.location;\n\n      // Transition from hashChange to pushState or vice versa if both are\n      // requested.\n      if (this._wantsHashChange && this._wantsPushState) {\n\n        // If we\'ve started off with a route from a `pushState`-enabled\n        // browser, but we\'re currently in a browser that doesn\'t support it...\n        if (!this._hasPushState && !this.atRoot()) {\n          this.fragment = this.getFragment(null, true);\n          this.location.replace(this.root + \'#\' + this.fragment);\n          // Return immediately as browser will do redirect to new url\n          return true;\n\n        // Or if we\'ve started out with a hash-based route, but we\'re currently\n        // in a browser where it could be `pushState`-based instead...\n        } else if (this._hasPushState && this.atRoot() && loc.hash) {\n          this.fragment = this.getHash().replace(routeStripper, \'\');\n          this.history.replaceState({}, document.title, this.root + this.fragment);\n        }\n\n      }\n\n      if (!this.options.silent) return this.loadUrl();\n    },\n\n    // Disable Backbone.history, perhaps temporarily. Not useful in a real app,\n    // but possibly useful for unit testing Routers.\n    stop: function() {\n      Backbone.$(window).off(\'popstate\', this.checkUrl).off(\'hashchange\', this.checkUrl);\n      if (this._checkUrlInterval) clearInterval(this._checkUrlInterval);\n      History.started = false;\n    },\n\n    // Add a route to be tested when the fragment changes. Routes added later\n    // may override previous routes.\n    route: function(route, callback) {\n      this.handlers.unshift({route: route, callback: callback});\n    },\n\n    // Checks the current URL to see if it has changed, and if it has,\n    // calls `loadUrl`, normalizing across the hidden iframe.\n    checkUrl: function(e) {\n      var current = this.getFragment();\n      if (current === this.fragment && this.iframe) {\n        current = this.getFragment(this.getHash(this.iframe));\n      }\n      if (current === this.fragment) return false;\n      if (this.iframe) this.navigate(current);\n      this.loadUrl();\n    },\n\n    // Attempt to load the current URL fragment. If a route succeeds with a\n    // match, returns `true`. If no defined routes matches the fragment,\n    // returns `false`.\n    loadUrl: function(fragment) {\n      fragment = this.fragment = this.getFragment(fragment);\n      return _.any(this.handlers, function(handler) {\n        if (handler.route.test(fragment)) {\n          handler.callback(fragment);\n          return true;\n        }\n      });\n    },\n\n    // Save a fragment into the hash history, or replace the URL state if the\n    // \'replace\' option is passed. You are responsible for properly URL-encoding\n    // the fragment in advance.\n    //\n    // The options object can contain `trigger: true` if you wish to have the\n    // route callback be fired (not usually desirable), or `replace: true`, if\n    // you wish to modify the current URL without adding an entry to the history.\n    navigate: function(fragment, options) {\n      if (!History.started) return false;\n      if (!options || options === true) options = {trigger: !!options};\n\n      var url = this.root + (fragment = this.getFragment(fragment || \'\'));\n\n      // Strip the hash for matching.\n      fragment = fragment.replace(pathStripper, \'\');\n\n      if (this.fragment === fragment) return;\n      this.fragment = fragment;\n\n      // Don\'t include a trailing slash on the root.\n      if (fragment === \'\' && url !== \'/\') url = url.slice(0, -1);\n\n      // If pushState is available, we use it to set the fragment as a real URL.\n      if (this._hasPushState) {\n        this.history[options.replace ? \'replaceState\' : \'pushState\']({}, document.title, url);\n\n      // If hash changes haven\'t been explicitly disabled, update the hash\n      // fragment to store history.\n      } else if (this._wantsHashChange) {\n        this._updateHash(this.location, fragment, options.replace);\n        if (this.iframe && (fragment !== this.getFragment(this.getHash(this.iframe)))) {\n          // Opening and closing the iframe tricks IE7 and earlier to push a\n          // history entry on hash-tag change.  When replace is true, we don\'t\n          // want this.\n          if(!options.replace) this.iframe.document.open().close();\n          this._updateHash(this.iframe.location, fragment, options.replace);\n        }\n\n      // If you\'ve told us that you explicitly don\'t want fallback hashchange-\n      // based history, then `navigate` becomes a page refresh.\n      } else {\n        return this.location.assign(url);\n      }\n      if (options.trigger) return this.loadUrl(fragment);\n    },\n\n    // Update the hash location, either replacing the current entry, or adding\n    // a new one to the browser history.\n    _updateHash: function(location, fragment, replace) {\n      if (replace) {\n        var href = location.href.replace(/(javascript:|#).*$/, \'\');\n        location.replace(href + \'#\' + fragment);\n      } else {\n        // Some browsers require that `hash` contains a leading #.\n        location.hash = \'#\' + fragment;\n      }\n    }\n\n  });\n\n  // Create the default Backbone.history.\n  Backbone.history = new History;\n\n  // Helpers\n  // -------\n\n  // Helper function to correctly set up the prototype chain, for subclasses.\n  // Similar to `goog.inherits`, but uses a hash of prototype properties and\n  // class properties to be extended.\n  var extend = function(protoProps, staticProps) {\n    var parent = this;\n    var child;\n\n    // The constructor function for the new subclass is either defined by you\n    // (the "constructor" property in your `extend` definition), or defaulted\n    // by us to simply call the parent\'s constructor.\n    if (protoProps && _.has(protoProps, \'constructor\')) {\n      child = protoProps.constructor;\n    } else {\n      child = function(){ return parent.apply(this, arguments); };\n    }\n\n    // Add static properties to the constructor function, if supplied.\n    _.extend(child, parent, staticProps);\n\n    // Set the prototype chain to inherit from `parent`, without calling\n    // `parent`\'s constructor function.\n    var Surrogate = function(){ this.constructor = child; };\n    Surrogate.prototype = parent.prototype;\n    child.prototype = new Surrogate;\n\n    // Add prototype properties (instance properties) to the subclass,\n    // if supplied.\n    if (protoProps) _.extend(child.prototype, protoProps);\n\n    // Set a convenience property in case the parent\'s prototype is needed\n    // later.\n    child.__super__ = parent.prototype;\n\n    return child;\n  };\n\n  // Set up inheritance for the model, collection, router, view and history.\n  Model.extend = Collection.extend = Router.extend = View.extend = History.extend = extend;\n\n  // Throw an error when a URL is needed, and none is supplied.\n  var urlError = function() {\n    throw new Error(\'A "url" property or function must be specified\');\n  };\n\n  // Wrap an optional error callback with a fallback error event.\n  var wrapError = function(model, options) {\n    var error = options.error;\n    options.error = function(resp) {\n      if (error) error(model, resp, options);\n      model.trigger(\'error\', model, resp, options);\n    };\n  };\n\n  return Backbone;\n\n}));\n\n\n//@filename {Foo} fileName ./html/lib/bootstrap-3.2.0-dist/js/bootstrap.js\n\n/*!\n * Bootstrap v3.2.0 (http://getbootstrap.com)\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\n\nif (typeof jQuery === \'undefined\') { throw new Error(\'Bootstrap\\\'s JavaScript requires jQuery\') }\n\n/* ========================================================================\n * Bootstrap: transition.js v3.2.0\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement(\'bootstrap\')\n\n    var transEndEventNames = {\n      WebkitTransition : \'webkitTransitionEnd\',\n      MozTransition    : \'transitionend\',\n      OTransition      : \'oTransitionEnd otransitionend\',\n      transition       : \'transitionend\'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // http://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one(\'bsTransitionEnd\', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: alert.js v3.2.0\n * http://getbootstrap.com/javascript/#alerts\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // ALERT CLASS DEFINITION\n  // ======================\n\n  var dismiss = \'[data-dismiss="alert"]\'\n  var Alert   = function (el) {\n    $(el).on(\'click\', dismiss, this.close)\n  }\n\n  Alert.VERSION = \'3.2.0\'\n\n  Alert.prototype.close = function (e) {\n    var $this    = $(this)\n    var selector = $this.attr(\'data-target\')\n\n    if (!selector) {\n      selector = $this.attr(\'href\')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, \'\') // strip for ie7\n    }\n\n    var $parent = $(selector)\n\n    if (e) e.preventDefault()\n\n    if (!$parent.length) {\n      $parent = $this.hasClass(\'alert\') ? $this : $this.parent()\n    }\n\n    $parent.trigger(e = $.Event(\'close.bs.alert\'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass(\'in\')\n\n    function removeElement() {\n      // detach from parent, fire event then clean up data\n      $parent.detach().trigger(\'closed.bs.alert\').remove()\n    }\n\n    $.support.transition && $parent.hasClass(\'fade\') ?\n      $parent\n        .one(\'bsTransitionEnd\', removeElement)\n        .emulateTransitionEnd(150) :\n      removeElement()\n  }\n\n\n  // ALERT PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data(\'bs.alert\')\n\n      if (!data) $this.data(\'bs.alert\', (data = new Alert(this)))\n      if (typeof option == \'string\') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.alert\n\n  $.fn.alert             = Plugin\n  $.fn.alert.Constructor = Alert\n\n\n  // ALERT NO CONFLICT\n  // =================\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n  // ALERT DATA-API\n  // ==============\n\n  $(document).on(\'click.bs.alert.data-api\', dismiss, Alert.prototype.close)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: button.js v3.2.0\n * http://getbootstrap.com/javascript/#buttons\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element)\n    this.options   = $.extend({}, Button.DEFAULTS, options)\n    this.isLoading = false\n  }\n\n  Button.VERSION  = \'3.2.0\'\n\n  Button.DEFAULTS = {\n    loadingText: \'loading...\'\n  }\n\n  Button.prototype.setState = function (state) {\n    var d    = \'disabled\'\n    var $el  = this.$element\n    var val  = $el.is(\'input\') ? \'val\' : \'html\'\n    var data = $el.data()\n\n    state = state + \'Text\'\n\n    if (data.resetText == null) $el.data(\'resetText\', $el[val]())\n\n    $el[val](data[state] == null ? this.options[state] : data[state])\n\n    // push to event loop to allow forms to submit\n    setTimeout($.proxy(function () {\n      if (state == \'loadingText\') {\n        this.isLoading = true\n        $el.addClass(d).attr(d, d)\n      } else if (this.isLoading) {\n        this.isLoading = false\n        $el.removeClass(d).removeAttr(d)\n      }\n    }, this), 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var changed = true\n    var $parent = this.$element.closest(\'[data-toggle="buttons"]\')\n\n    if ($parent.length) {\n      var $input = this.$element.find(\'input\')\n      if ($input.prop(\'type\') == \'radio\') {\n        if ($input.prop(\'checked\') && this.$element.hasClass(\'active\')) changed = false\n        else $parent.find(\'.active\').removeClass(\'active\')\n      }\n      if (changed) $input.prop(\'checked\', !this.$element.hasClass(\'active\')).trigger(\'change\')\n    }\n\n    if (changed) this.$element.toggleClass(\'active\')\n  }\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data(\'bs.button\')\n      var options = typeof option == \'object\' && option\n\n      if (!data) $this.data(\'bs.button\', (data = new Button(this, options)))\n\n      if (option == \'toggle\') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  var old = $.fn.button\n\n  $.fn.button             = Plugin\n  $.fn.button.Constructor = Button\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n  // BUTTON DATA-API\n  // ===============\n\n  $(document).on(\'click.bs.button.data-api\', \'[data-toggle^="button"]\', function (e) {\n    var $btn = $(e.target)\n    if (!$btn.hasClass(\'btn\')) $btn = $btn.closest(\'.btn\')\n    Plugin.call($btn, \'toggle\')\n    e.preventDefault()\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: carousel.js v3.2.0\n * http://getbootstrap.com/javascript/#carousel\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // CAROUSEL CLASS DEFINITION\n  // =========================\n\n  var Carousel = function (element, options) {\n    this.$element    = $(element).on(\'keydown.bs.carousel\', $.proxy(this.keydown, this))\n    this.$indicators = this.$element.find(\'.carousel-indicators\')\n    this.options     = options\n    this.paused      =\n    this.sliding     =\n    this.interval    =\n    this.$active     =\n    this.$items      = null\n\n    this.options.pause == \'hover\' && this.$element\n      .on(\'mouseenter.bs.carousel\', $.proxy(this.pause, this))\n      .on(\'mouseleave.bs.carousel\', $.proxy(this.cycle, this))\n  }\n\n  Carousel.VERSION  = \'3.2.0\'\n\n  Carousel.DEFAULTS = {\n    interval: 5000,\n    pause: \'hover\',\n    wrap: true\n  }\n\n  Carousel.prototype.keydown = function (e) {\n    switch (e.which) {\n      case 37: this.prev(); break\n      case 39: this.next(); break\n      default: return\n    }\n\n    e.preventDefault()\n  }\n\n  Carousel.prototype.cycle = function (e) {\n    e || (this.paused = false)\n\n    this.interval && clearInterval(this.interval)\n\n    this.options.interval\n      && !this.paused\n      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n\n    return this\n  }\n\n  Carousel.prototype.getItemIndex = function (item) {\n    this.$items = item.parent().children(\'.item\')\n    return this.$items.index(item || this.$active)\n  }\n\n  Carousel.prototype.to = function (pos) {\n    var that        = this\n    var activeIndex = this.getItemIndex(this.$active = this.$element.find(\'.item.active\'))\n\n    if (pos > (this.$items.length - 1) || pos < 0) return\n\n    if (this.sliding)       return this.$element.one(\'slid.bs.carousel\', function () { that.to(pos) }) // yes, "slid"\n    if (activeIndex == pos) return this.pause().cycle()\n\n    return this.slide(pos > activeIndex ? \'next\' : \'prev\', $(this.$items[pos]))\n  }\n\n  Carousel.prototype.pause = function (e) {\n    e || (this.paused = true)\n\n    if (this.$element.find(\'.next, .prev\').length && $.support.transition) {\n      this.$element.trigger($.support.transition.end)\n      this.cycle(true)\n    }\n\n    this.interval = clearInterval(this.interval)\n\n    return this\n  }\n\n  Carousel.prototype.next = function () {\n    if (this.sliding) return\n    return this.slide(\'next\')\n  }\n\n  Carousel.prototype.prev = function () {\n    if (this.sliding) return\n    return this.slide(\'prev\')\n  }\n\n  Carousel.prototype.slide = function (type, next) {\n    var $active   = this.$element.find(\'.item.active\')\n    var $next     = next || $active[type]()\n    var isCycling = this.interval\n    var direction = type == \'next\' ? \'left\' : \'right\'\n    var fallback  = type == \'next\' ? \'first\' : \'last\'\n    var that      = this\n\n    if (!$next.length) {\n      if (!this.options.wrap) return\n      $next = this.$element.find(\'.item\')[fallback]()\n    }\n\n    if ($next.hasClass(\'active\')) return (this.sliding = false)\n\n    var relatedTarget = $next[0]\n    var slideEvent = $.Event(\'slide.bs.carousel\', {\n      relatedTarget: relatedTarget,\n      direction: direction\n    })\n    this.$element.trigger(slideEvent)\n    if (slideEvent.isDefaultPrevented()) return\n\n    this.sliding = true\n\n    isCycling && this.pause()\n\n    if (this.$indicators.length) {\n      this.$indicators.find(\'.active\').removeClass(\'active\')\n      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\n      $nextIndicator && $nextIndicator.addClass(\'active\')\n    }\n\n    var slidEvent = $.Event(\'slid.bs.carousel\', { relatedTarget: relatedTarget, direction: direction }) // yes, "slid"\n    if ($.support.transition && this.$element.hasClass(\'slide\')) {\n      $next.addClass(type)\n      $next[0].offsetWidth // force reflow\n      $active.addClass(direction)\n      $next.addClass(direction)\n      $active\n        .one(\'bsTransitionEnd\', function () {\n          $next.removeClass([type, direction].join(\' \')).addClass(\'active\')\n          $active.removeClass([\'active\', direction].join(\' \'))\n          that.sliding = false\n          setTimeout(function () {\n            that.$element.trigger(slidEvent)\n          }, 0)\n        })\n        .emulateTransitionEnd($active.css(\'transition-duration\').slice(0, -1) * 1000)\n    } else {\n      $active.removeClass(\'active\')\n      $next.addClass(\'active\')\n      this.sliding = false\n      this.$element.trigger(slidEvent)\n    }\n\n    isCycling && this.cycle()\n\n    return this\n  }\n\n\n  // CAROUSEL PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data(\'bs.carousel\')\n      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == \'object\' && option)\n      var action  = typeof option == \'string\' ? option : options.slide\n\n      if (!data) $this.data(\'bs.carousel\', (data = new Carousel(this, options)))\n      if (typeof option == \'number\') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.pause().cycle()\n    })\n  }\n\n  var old = $.fn.carousel\n\n  $.fn.carousel             = Plugin\n  $.fn.carousel.Constructor = Carousel\n\n\n  // CAROUSEL NO CONFLICT\n  // ====================\n\n  $.fn.carousel.noConflict = function () {\n    $.fn.carousel = old\n    return this\n  }\n\n\n  // CAROUSEL DATA-API\n  // =================\n\n  $(document).on(\'click.bs.carousel.data-api\', \'[data-slide], [data-slide-to]\', function (e) {\n    var href\n    var $this   = $(this)\n    var $target = $($this.attr(\'data-target\') || (href = $this.attr(\'href\')) && href.replace(/.*(?=#[^\\s]+$)/, \'\')) // strip for ie7\n    if (!$target.hasClass(\'carousel\')) return\n    var options = $.extend({}, $target.data(), $this.data())\n    var slideIndex = $this.attr(\'data-slide-to\')\n    if (slideIndex) options.interval = false\n\n    Plugin.call($target, options)\n\n    if (slideIndex) {\n      $target.data(\'bs.carousel\').to(slideIndex)\n    }\n\n    e.preventDefault()\n  })\n\n  $(window).on(\'load\', function () {\n    $(\'[data-ride="carousel"]\').each(function () {\n      var $carousel = $(this)\n      Plugin.call($carousel, $carousel.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: collapse.js v3.2.0\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // COLLAPSE PUBLIC CLASS DEFINITION\n  // ================================\n\n  var Collapse = function (element, options) {\n    this.$element      = $(element)\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\n    this.transitioning = null\n\n    if (this.options.parent) this.$parent = $(this.options.parent)\n    if (this.options.toggle) this.toggle()\n  }\n\n  Collapse.VERSION  = \'3.2.0\'\n\n  Collapse.DEFAULTS = {\n    toggle: true\n  }\n\n  Collapse.prototype.dimension = function () {\n    var hasWidth = this.$element.hasClass(\'width\')\n    return hasWidth ? \'width\' : \'height\'\n  }\n\n  Collapse.prototype.show = function () {\n    if (this.transitioning || this.$element.hasClass(\'in\')) return\n\n    var startEvent = $.Event(\'show.bs.collapse\')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var actives = this.$parent && this.$parent.find(\'> .panel > .in\')\n\n    if (actives && actives.length) {\n      var hasData = actives.data(\'bs.collapse\')\n      if (hasData && hasData.transitioning) return\n      Plugin.call(actives, \'hide\')\n      hasData || actives.data(\'bs.collapse\', null)\n    }\n\n    var dimension = this.dimension()\n\n    this.$element\n      .removeClass(\'collapse\')\n      .addClass(\'collapsing\')[dimension](0)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.$element\n        .removeClass(\'collapsing\')\n        .addClass(\'collapse in\')[dimension](\'\')\n      this.transitioning = 0\n      this.$element\n        .trigger(\'shown.bs.collapse\')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    var scrollSize = $.camelCase([\'scroll\', dimension].join(\'-\'))\n\n    this.$element\n      .one(\'bsTransitionEnd\', $.proxy(complete, this))\n      .emulateTransitionEnd(350)[dimension](this.$element[0][scrollSize])\n  }\n\n  Collapse.prototype.hide = function () {\n    if (this.transitioning || !this.$element.hasClass(\'in\')) return\n\n    var startEvent = $.Event(\'hide.bs.collapse\')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var dimension = this.dimension()\n\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n    this.$element\n      .addClass(\'collapsing\')\n      .removeClass(\'collapse\')\n      .removeClass(\'in\')\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.transitioning = 0\n      this.$element\n        .trigger(\'hidden.bs.collapse\')\n        .removeClass(\'collapsing\')\n        .addClass(\'collapse\')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    this.$element\n      [dimension](0)\n      .one(\'bsTransitionEnd\', $.proxy(complete, this))\n      .emulateTransitionEnd(350)\n  }\n\n  Collapse.prototype.toggle = function () {\n    this[this.$element.hasClass(\'in\') ? \'hide\' : \'show\']()\n  }\n\n\n  // COLLAPSE PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data(\'bs.collapse\')\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == \'object\' && option)\n\n      if (!data && options.toggle && option == \'show\') option = !option\n      if (!data) $this.data(\'bs.collapse\', (data = new Collapse(this, options)))\n      if (typeof option == \'string\') data[option]()\n    })\n  }\n\n  var old = $.fn.collapse\n\n  $.fn.collapse             = Plugin\n  $.fn.collapse.Constructor = Collapse\n\n\n  // COLLAPSE NO CONFLICT\n  // ====================\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n  // COLLAPSE DATA-API\n  // =================\n\n  $(document).on(\'click.bs.collapse.data-api\', \'[data-toggle="collapse"]\', function (e) {\n    var href\n    var $this   = $(this)\n    var target  = $this.attr(\'data-target\')\n        || e.preventDefault()\n        || (href = $this.attr(\'href\')) && href.replace(/.*(?=#[^\\s]+$)/, \'\') // strip for ie7\n    var $target = $(target)\n    var data    = $target.data(\'bs.collapse\')\n    var option  = data ? \'toggle\' : $this.data()\n    var parent  = $this.attr(\'data-parent\')\n    var $parent = parent && $(parent)\n\n    if (!data || !data.transitioning) {\n      if ($parent) $parent.find(\'[data-toggle="collapse"][data-parent="\' + parent + \'"]\').not($this).addClass(\'collapsed\')\n      $this[$target.hasClass(\'in\') ? \'addClass\' : \'removeClass\'](\'collapsed\')\n    }\n\n    Plugin.call($target, option)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: dropdown.js v3.2.0\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = \'.dropdown-backdrop\'\n  var toggle   = \'[data-toggle="dropdown"]\'\n  var Dropdown = function (element) {\n    $(element).on(\'click.bs.dropdown\', this.toggle)\n  }\n\n  Dropdown.VERSION = \'3.2.0\'\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is(\'.disabled, :disabled\')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass(\'open\')\n\n    clearMenus()\n\n    if (!isActive) {\n      if (\'ontouchstart\' in document.documentElement && !$parent.closest(\'.navbar-nav\').length) {\n        // if mobile we use a backdrop because click events don\'t delegate\n        $(\'<div class="dropdown-backdrop"/>\').insertAfter($(this)).on(\'click\', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event(\'show.bs.dropdown\', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.trigger(\'focus\')\n\n      $parent\n        .toggleClass(\'open\')\n        .trigger(\'shown.bs.dropdown\', relatedTarget)\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27)/.test(e.keyCode)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is(\'.disabled, :disabled\')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass(\'open\')\n\n    if (!isActive || (isActive && e.keyCode == 27)) {\n      if (e.which == 27) $parent.find(toggle).trigger(\'focus\')\n      return $this.trigger(\'click\')\n    }\n\n    var desc = \' li:not(.divider):visible a\'\n    var $items = $parent.find(\'[role="menu"]\' + desc + \', [role="listbox"]\' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index($items.filter(\':focus\'))\n\n    if (e.keyCode == 38 && index > 0)                 index--                        // up\n    if (e.keyCode == 40 && index < $items.length - 1) index++                        // down\n    if (!~index)                                      index = 0\n\n    $items.eq(index).trigger(\'focus\')\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $parent = getParent($(this))\n      var relatedTarget = { relatedTarget: this }\n      if (!$parent.hasClass(\'open\')) return\n      $parent.trigger(e = $.Event(\'hide.bs.dropdown\', relatedTarget))\n      if (e.isDefaultPrevented()) return\n      $parent.removeClass(\'open\').trigger(\'hidden.bs.dropdown\', relatedTarget)\n    })\n  }\n\n  function getParent($this) {\n    var selector = $this.attr(\'data-target\')\n\n    if (!selector) {\n      selector = $this.attr(\'href\')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, \'\') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data(\'bs.dropdown\')\n\n      if (!data) $this.data(\'bs.dropdown\', (data = new Dropdown(this)))\n      if (typeof option == \'string\') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on(\'click.bs.dropdown.data-api\', clearMenus)\n    .on(\'click.bs.dropdown.data-api\', \'.dropdown form\', function (e) { e.stopPropagation() })\n    .on(\'click.bs.dropdown.data-api\', toggle, Dropdown.prototype.toggle)\n    .on(\'keydown.bs.dropdown.data-api\', toggle + \', [role="menu"], [role="listbox"]\', Dropdown.prototype.keydown)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: modal.js v3.2.0\n * http://getbootstrap.com/javascript/#modals\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // MODAL CLASS DEFINITION\n  // ======================\n\n  var Modal = function (element, options) {\n    this.options        = options\n    this.$body          = $(document.body)\n    this.$element       = $(element)\n    this.$backdrop      =\n    this.isShown        = null\n    this.scrollbarWidth = 0\n\n    if (this.options.remote) {\n      this.$element\n        .find(\'.modal-content\')\n        .load(this.options.remote, $.proxy(function () {\n          this.$element.trigger(\'loaded.bs.modal\')\n        }, this))\n    }\n  }\n\n  Modal.VERSION  = \'3.2.0\'\n\n  Modal.DEFAULTS = {\n    backdrop: true,\n    keyboard: true,\n    show: true\n  }\n\n  Modal.prototype.toggle = function (_relatedTarget) {\n    return this.isShown ? this.hide() : this.show(_relatedTarget)\n  }\n\n  Modal.prototype.show = function (_relatedTarget) {\n    var that = this\n    var e    = $.Event(\'show.bs.modal\', { relatedTarget: _relatedTarget })\n\n    this.$element.trigger(e)\n\n    if (this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = true\n\n    this.checkScrollbar()\n    this.$body.addClass(\'modal-open\')\n\n    this.setScrollbar()\n    this.escape()\n\n    this.$element.on(\'click.dismiss.bs.modal\', \'[data-dismiss="modal"]\', $.proxy(this.hide, this))\n\n    this.backdrop(function () {\n      var transition = $.support.transition && that.$element.hasClass(\'fade\')\n\n      if (!that.$element.parent().length) {\n        that.$element.appendTo(that.$body) // don\'t move modals dom position\n      }\n\n      that.$element\n        .show()\n        .scrollTop(0)\n\n      if (transition) {\n        that.$element[0].offsetWidth // force reflow\n      }\n\n      that.$element\n        .addClass(\'in\')\n        .attr(\'aria-hidden\', false)\n\n      that.enforceFocus()\n\n      var e = $.Event(\'shown.bs.modal\', { relatedTarget: _relatedTarget })\n\n      transition ?\n        that.$element.find(\'.modal-dialog\') // wait for modal to slide in\n          .one(\'bsTransitionEnd\', function () {\n            that.$element.trigger(\'focus\').trigger(e)\n          })\n          .emulateTransitionEnd(300) :\n        that.$element.trigger(\'focus\').trigger(e)\n    })\n  }\n\n  Modal.prototype.hide = function (e) {\n    if (e) e.preventDefault()\n\n    e = $.Event(\'hide.bs.modal\')\n\n    this.$element.trigger(e)\n\n    if (!this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = false\n\n    this.$body.removeClass(\'modal-open\')\n\n    this.resetScrollbar()\n    this.escape()\n\n    $(document).off(\'focusin.bs.modal\')\n\n    this.$element\n      .removeClass(\'in\')\n      .attr(\'aria-hidden\', true)\n      .off(\'click.dismiss.bs.modal\')\n\n    $.support.transition && this.$element.hasClass(\'fade\') ?\n      this.$element\n        .one(\'bsTransitionEnd\', $.proxy(this.hideModal, this))\n        .emulateTransitionEnd(300) :\n      this.hideModal()\n  }\n\n  Modal.prototype.enforceFocus = function () {\n    $(document)\n      .off(\'focusin.bs.modal\') // guard against infinite focus loop\n      .on(\'focusin.bs.modal\', $.proxy(function (e) {\n        if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\n          this.$element.trigger(\'focus\')\n        }\n      }, this))\n  }\n\n  Modal.prototype.escape = function () {\n    if (this.isShown && this.options.keyboard) {\n      this.$element.on(\'keyup.dismiss.bs.modal\', $.proxy(function (e) {\n        e.which == 27 && this.hide()\n      }, this))\n    } else if (!this.isShown) {\n      this.$element.off(\'keyup.dismiss.bs.modal\')\n    }\n  }\n\n  Modal.prototype.hideModal = function () {\n    var that = this\n    this.$element.hide()\n    this.backdrop(function () {\n      that.$element.trigger(\'hidden.bs.modal\')\n    })\n  }\n\n  Modal.prototype.removeBackdrop = function () {\n    this.$backdrop && this.$backdrop.remove()\n    this.$backdrop = null\n  }\n\n  Modal.prototype.backdrop = function (callback) {\n    var that = this\n    var animate = this.$element.hasClass(\'fade\') ? \'fade\' : \'\'\n\n    if (this.isShown && this.options.backdrop) {\n      var doAnimate = $.support.transition && animate\n\n      this.$backdrop = $(\'<div class="modal-backdrop \' + animate + \'" />\')\n        .appendTo(this.$body)\n\n      this.$element.on(\'click.dismiss.bs.modal\', $.proxy(function (e) {\n        if (e.target !== e.currentTarget) return\n        this.options.backdrop == \'static\'\n          ? this.$element[0].focus.call(this.$element[0])\n          : this.hide.call(this)\n      }, this))\n\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n      this.$backdrop.addClass(\'in\')\n\n      if (!callback) return\n\n      doAnimate ?\n        this.$backdrop\n          .one(\'bsTransitionEnd\', callback)\n          .emulateTransitionEnd(150) :\n        callback()\n\n    } else if (!this.isShown && this.$backdrop) {\n      this.$backdrop.removeClass(\'in\')\n\n      var callbackRemove = function () {\n        that.removeBackdrop()\n        callback && callback()\n      }\n      $.support.transition && this.$element.hasClass(\'fade\') ?\n        this.$backdrop\n          .one(\'bsTransitionEnd\', callbackRemove)\n          .emulateTransitionEnd(150) :\n        callbackRemove()\n\n    } else if (callback) {\n      callback()\n    }\n  }\n\n  Modal.prototype.checkScrollbar = function () {\n    if (document.body.clientWidth >= window.innerWidth) return\n    this.scrollbarWidth = this.scrollbarWidth || this.measureScrollbar()\n  }\n\n  Modal.prototype.setScrollbar = function () {\n    var bodyPad = parseInt((this.$body.css(\'padding-right\') || 0), 10)\n    if (this.scrollbarWidth) this.$body.css(\'padding-right\', bodyPad + this.scrollbarWidth)\n  }\n\n  Modal.prototype.resetScrollbar = function () {\n    this.$body.css(\'padding-right\', \'\')\n  }\n\n  Modal.prototype.measureScrollbar = function () { // thx walsh\n    var scrollDiv = document.createElement(\'div\')\n    scrollDiv.className = \'modal-scrollbar-measure\'\n    this.$body.append(scrollDiv)\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n    this.$body[0].removeChild(scrollDiv)\n    return scrollbarWidth\n  }\n\n\n  // MODAL PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option, _relatedTarget) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data(\'bs.modal\')\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == \'object\' && option)\n\n      if (!data) $this.data(\'bs.modal\', (data = new Modal(this, options)))\n      if (typeof option == \'string\') data[option](_relatedTarget)\n      else if (options.show) data.show(_relatedTarget)\n    })\n  }\n\n  var old = $.fn.modal\n\n  $.fn.modal             = Plugin\n  $.fn.modal.Constructor = Modal\n\n\n  // MODAL NO CONFLICT\n  // =================\n\n  $.fn.modal.noConflict = function () {\n    $.fn.modal = old\n    return this\n  }\n\n\n  // MODAL DATA-API\n  // ==============\n\n  $(document).on(\'click.bs.modal.data-api\', \'[data-toggle="modal"]\', function (e) {\n    var $this   = $(this)\n    var href    = $this.attr(\'href\')\n    var $target = $($this.attr(\'data-target\') || (href && href.replace(/.*(?=#[^\\s]+$)/, \'\'))) // strip for ie7\n    var option  = $target.data(\'bs.modal\') ? \'toggle\' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n    if ($this.is(\'a\')) e.preventDefault()\n\n    $target.one(\'show.bs.modal\', function (showEvent) {\n      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n      $target.one(\'hidden.bs.modal\', function () {\n        $this.is(\':visible\') && $this.trigger(\'focus\')\n      })\n    })\n    Plugin.call($target, option, this)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tooltip.js v3.2.0\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = function (element, options) {\n    this.type       =\n    this.options    =\n    this.enabled    =\n    this.timeout    =\n    this.hoverState =\n    this.$element   = null\n\n    this.init(\'tooltip\', element, options)\n  }\n\n  Tooltip.VERSION  = \'3.2.0\'\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: \'top\',\n    selector: false,\n    template: \'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>\',\n    trigger: \'hover focus\',\n    title: \'\',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: \'body\',\n      padding: 0\n    }\n  }\n\n  Tooltip.prototype.init = function (type, element, options) {\n    this.enabled   = true\n    this.type      = type\n    this.$element  = $(element)\n    this.options   = this.getOptions(options)\n    this.$viewport = this.options.viewport && $(this.options.viewport.selector || this.options.viewport)\n\n    var triggers = this.options.trigger.split(\' \')\n\n    for (var i = triggers.length; i--;) {\n      var trigger = triggers[i]\n\n      if (trigger == \'click\') {\n        this.$element.on(\'click.\' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (trigger != \'manual\') {\n        var eventIn  = trigger == \'hover\' ? \'mouseenter\' : \'focusin\'\n        var eventOut = trigger == \'hover\' ? \'mouseleave\' : \'focusout\'\n\n        this.$element.on(eventIn  + \'.\' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + \'.\' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n    }\n\n    this.options.selector ?\n      (this._options = $.extend({}, this.options, { trigger: \'manual\', selector: \'\' })) :\n      this.fixTitle()\n  }\n\n  Tooltip.prototype.getDefaults = function () {\n    return Tooltip.DEFAULTS\n  }\n\n  Tooltip.prototype.getOptions = function (options) {\n    options = $.extend({}, this.getDefaults(), this.$element.data(), options)\n\n    if (options.delay && typeof options.delay == \'number\') {\n      options.delay = {\n        show: options.delay,\n        hide: options.delay\n      }\n    }\n\n    return options\n  }\n\n  Tooltip.prototype.getDelegateOptions = function () {\n    var options  = {}\n    var defaults = this.getDefaults()\n\n    this._options && $.each(this._options, function (key, value) {\n      if (defaults[key] != value) options[key] = value\n    })\n\n    return options\n  }\n\n  Tooltip.prototype.enter = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data(\'bs.\' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data(\'bs.\' + this.type, self)\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = \'in\'\n\n    if (!self.options.delay || !self.options.delay.show) return self.show()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == \'in\') self.show()\n    }, self.options.delay.show)\n  }\n\n  Tooltip.prototype.leave = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data(\'bs.\' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data(\'bs.\' + this.type, self)\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = \'out\'\n\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == \'out\') self.hide()\n    }, self.options.delay.hide)\n  }\n\n  Tooltip.prototype.show = function () {\n    var e = $.Event(\'show.bs.\' + this.type)\n\n    if (this.hasContent() && this.enabled) {\n      this.$element.trigger(e)\n\n      var inDom = $.contains(document.documentElement, this.$element[0])\n      if (e.isDefaultPrevented() || !inDom) return\n      var that = this\n\n      var $tip = this.tip()\n\n      var tipId = this.getUID(this.type)\n\n      this.setContent()\n      $tip.attr(\'id\', tipId)\n      this.$element.attr(\'aria-describedby\', tipId)\n\n      if (this.options.animation) $tip.addClass(\'fade\')\n\n      var placement = typeof this.options.placement == \'function\' ?\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\n        this.options.placement\n\n      var autoToken = /\\s?auto?\\s?/i\n      var autoPlace = autoToken.test(placement)\n      if (autoPlace) placement = placement.replace(autoToken, \'\') || \'top\'\n\n      $tip\n        .detach()\n        .css({ top: 0, left: 0, display: \'block\' })\n        .addClass(placement)\n        .data(\'bs.\' + this.type, this)\n\n      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n\n      var pos          = this.getPosition()\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (autoPlace) {\n        var orgPlacement = placement\n        var $parent      = this.$element.parent()\n        var parentDim    = this.getPosition($parent)\n\n        placement = placement == \'bottom\' && pos.top   + pos.height       + actualHeight - parentDim.scroll > parentDim.height ? \'top\'    :\n                    placement == \'top\'    && pos.top   - parentDim.scroll - actualHeight < 0                                   ? \'bottom\' :\n                    placement == \'right\'  && pos.right + actualWidth      > parentDim.width                                    ? \'left\'   :\n                    placement == \'left\'   && pos.left  - actualWidth      < parentDim.left                                     ? \'right\'  :\n                    placement\n\n        $tip\n          .removeClass(orgPlacement)\n          .addClass(placement)\n      }\n\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n      this.applyPlacement(calculatedOffset, placement)\n\n      var complete = function () {\n        that.$element.trigger(\'shown.bs.\' + that.type)\n        that.hoverState = null\n      }\n\n      $.support.transition && this.$tip.hasClass(\'fade\') ?\n        $tip\n          .one(\'bsTransitionEnd\', complete)\n          .emulateTransitionEnd(150) :\n        complete()\n    }\n  }\n\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\n    var $tip   = this.tip()\n    var width  = $tip[0].offsetWidth\n    var height = $tip[0].offsetHeight\n\n    // manually read margins because getBoundingClientRect includes difference\n    var marginTop = parseInt($tip.css(\'margin-top\'), 10)\n    var marginLeft = parseInt($tip.css(\'margin-left\'), 10)\n\n    // we must check for NaN for ie 8/9\n    if (isNaN(marginTop))  marginTop  = 0\n    if (isNaN(marginLeft)) marginLeft = 0\n\n    offset.top  = offset.top  + marginTop\n    offset.left = offset.left + marginLeft\n\n    // $.fn.offset doesn\'t round pixel values\n    // so we use setOffset directly with our own function B-0\n    $.offset.setOffset($tip[0], $.extend({\n      using: function (props) {\n        $tip.css({\n          top: Math.round(props.top),\n          left: Math.round(props.left)\n        })\n      }\n    }, offset), 0)\n\n    $tip.addClass(\'in\')\n\n    // check to see if placing tip in new offset caused the tip to resize itself\n    var actualWidth  = $tip[0].offsetWidth\n    var actualHeight = $tip[0].offsetHeight\n\n    if (placement == \'top\' && actualHeight != height) {\n      offset.top = offset.top + height - actualHeight\n    }\n\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n    if (delta.left) offset.left += delta.left\n    else offset.top += delta.top\n\n    var arrowDelta          = delta.left ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n    var arrowPosition       = delta.left ? \'left\'        : \'top\'\n    var arrowOffsetPosition = delta.left ? \'offsetWidth\' : \'offsetHeight\'\n\n    $tip.offset(offset)\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], arrowPosition)\n  }\n\n  Tooltip.prototype.replaceArrow = function (delta, dimension, position) {\n    this.arrow().css(position, delta ? (50 * (1 - delta / dimension) + \'%\') : \'\')\n  }\n\n  Tooltip.prototype.setContent = function () {\n    var $tip  = this.tip()\n    var title = this.getTitle()\n\n    $tip.find(\'.tooltip-inner\')[this.options.html ? \'html\' : \'text\'](title)\n    $tip.removeClass(\'fade in top bottom left right\')\n  }\n\n  Tooltip.prototype.hide = function () {\n    var that = this\n    var $tip = this.tip()\n    var e    = $.Event(\'hide.bs.\' + this.type)\n\n    this.$element.removeAttr(\'aria-describedby\')\n\n    function complete() {\n      if (that.hoverState != \'in\') $tip.detach()\n      that.$element.trigger(\'hidden.bs.\' + that.type)\n    }\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    $tip.removeClass(\'in\')\n\n    $.support.transition && this.$tip.hasClass(\'fade\') ?\n      $tip\n        .one(\'bsTransitionEnd\', complete)\n        .emulateTransitionEnd(150) :\n      complete()\n\n    this.hoverState = null\n\n    return this\n  }\n\n  Tooltip.prototype.fixTitle = function () {\n    var $e = this.$element\n    if ($e.attr(\'title\') || typeof ($e.attr(\'data-original-title\')) != \'string\') {\n      $e.attr(\'data-original-title\', $e.attr(\'title\') || \'\').attr(\'title\', \'\')\n    }\n  }\n\n  Tooltip.prototype.hasContent = function () {\n    return this.getTitle()\n  }\n\n  Tooltip.prototype.getPosition = function ($element) {\n    $element   = $element || this.$element\n    var el     = $element[0]\n    var isBody = el.tagName == \'BODY\'\n    return $.extend({}, (typeof el.getBoundingClientRect == \'function\') ? el.getBoundingClientRect() : null, {\n      scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop(),\n      width:  isBody ? $(window).width()  : $element.outerWidth(),\n      height: isBody ? $(window).height() : $element.outerHeight()\n    }, isBody ? { top: 0, left: 0 } : $element.offset())\n  }\n\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n    return placement == \'bottom\' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2  } :\n           placement == \'top\'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2  } :\n           placement == \'left\'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n        /* placement == \'right\' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width   }\n\n  }\n\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n    var delta = { top: 0, left: 0 }\n    if (!this.$viewport) return delta\n\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n    var viewportDimensions = this.getPosition(this.$viewport)\n\n    if (/right|left/.test(placement)) {\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\n        delta.top = viewportDimensions.top - topEdgeOffset\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n      }\n    } else {\n      var leftEdgeOffset  = pos.left - viewportPadding\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n        delta.left = viewportDimensions.left - leftEdgeOffset\n      } else if (rightEdgeOffset > viewportDimensions.width) { // right overflow\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n      }\n    }\n\n    return delta\n  }\n\n  Tooltip.prototype.getTitle = function () {\n    var title\n    var $e = this.$element\n    var o  = this.options\n\n    title = $e.attr(\'data-original-title\')\n      || (typeof o.title == \'function\' ? o.title.call($e[0]) :  o.title)\n\n    return title\n  }\n\n  Tooltip.prototype.getUID = function (prefix) {\n    do prefix += ~~(Math.random() * 1000000)\n    while (document.getElementById(prefix))\n    return prefix\n  }\n\n  Tooltip.prototype.tip = function () {\n    return (this.$tip = this.$tip || $(this.options.template))\n  }\n\n  Tooltip.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find(\'.tooltip-arrow\'))\n  }\n\n  Tooltip.prototype.validate = function () {\n    if (!this.$element[0].parentNode) {\n      this.hide()\n      this.$element = null\n      this.options  = null\n    }\n  }\n\n  Tooltip.prototype.enable = function () {\n    this.enabled = true\n  }\n\n  Tooltip.prototype.disable = function () {\n    this.enabled = false\n  }\n\n  Tooltip.prototype.toggleEnabled = function () {\n    this.enabled = !this.enabled\n  }\n\n  Tooltip.prototype.toggle = function (e) {\n    var self = this\n    if (e) {\n      self = $(e.currentTarget).data(\'bs.\' + this.type)\n      if (!self) {\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n        $(e.currentTarget).data(\'bs.\' + this.type, self)\n      }\n    }\n\n    self.tip().hasClass(\'in\') ? self.leave(self) : self.enter(self)\n  }\n\n  Tooltip.prototype.destroy = function () {\n    clearTimeout(this.timeout)\n    this.hide().$element.off(\'.\' + this.type).removeData(\'bs.\' + this.type)\n  }\n\n\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data(\'bs.tooltip\')\n      var options = typeof option == \'object\' && option\n\n      if (!data && option == \'destroy\') return\n      if (!data) $this.data(\'bs.tooltip\', (data = new Tooltip(this, options)))\n      if (typeof option == \'string\') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin\n  $.fn.tooltip.Constructor = Tooltip\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: popover.js v3.2.0\n * http://getbootstrap.com/javascript/#popovers\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // POPOVER PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Popover = function (element, options) {\n    this.init(\'popover\', element, options)\n  }\n\n  if (!$.fn.tooltip) throw new Error(\'Popover requires tooltip.js\')\n\n  Popover.VERSION  = \'3.2.0\'\n\n  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n    placement: \'right\',\n    trigger: \'click\',\n    content: \'\',\n    template: \'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>\'\n  })\n\n\n  // NOTE: POPOVER EXTENDS tooltip.js\n  // ================================\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\n\n  Popover.prototype.constructor = Popover\n\n  Popover.prototype.getDefaults = function () {\n    return Popover.DEFAULTS\n  }\n\n  Popover.prototype.setContent = function () {\n    var $tip    = this.tip()\n    var title   = this.getTitle()\n    var content = this.getContent()\n\n    $tip.find(\'.popover-title\')[this.options.html ? \'html\' : \'text\'](title)\n    $tip.find(\'.popover-content\').empty()[ // we use append for html objects to maintain js events\n      this.options.html ? (typeof content == \'string\' ? \'html\' : \'append\') : \'text\'\n    ](content)\n\n    $tip.removeClass(\'fade top bottom left right in\')\n\n    // IE8 doesn\'t accept hiding via the `:empty` pseudo selector, we have to do\n    // this manually by checking the contents.\n    if (!$tip.find(\'.popover-title\').html()) $tip.find(\'.popover-title\').hide()\n  }\n\n  Popover.prototype.hasContent = function () {\n    return this.getTitle() || this.getContent()\n  }\n\n  Popover.prototype.getContent = function () {\n    var $e = this.$element\n    var o  = this.options\n\n    return $e.attr(\'data-content\')\n      || (typeof o.content == \'function\' ?\n            o.content.call($e[0]) :\n            o.content)\n  }\n\n  Popover.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find(\'.arrow\'))\n  }\n\n  Popover.prototype.tip = function () {\n    if (!this.$tip) this.$tip = $(this.options.template)\n    return this.$tip\n  }\n\n\n  // POPOVER PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data(\'bs.popover\')\n      var options = typeof option == \'object\' && option\n\n      if (!data && option == \'destroy\') return\n      if (!data) $this.data(\'bs.popover\', (data = new Popover(this, options)))\n      if (typeof option == \'string\') data[option]()\n    })\n  }\n\n  var old = $.fn.popover\n\n  $.fn.popover             = Plugin\n  $.fn.popover.Constructor = Popover\n\n\n  // POPOVER NO CONFLICT\n  // ===================\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: scrollspy.js v3.2.0\n * http://getbootstrap.com/javascript/#scrollspy\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // SCROLLSPY CLASS DEFINITION\n  // ==========================\n\n  function ScrollSpy(element, options) {\n    var process  = $.proxy(this.process, this)\n\n    this.$body          = $(\'body\')\n    this.$scrollElement = $(element).is(\'body\') ? $(window) : $(element)\n    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\n    this.selector       = (this.options.target || \'\') + \' .nav li > a\'\n    this.offsets        = []\n    this.targets        = []\n    this.activeTarget   = null\n    this.scrollHeight   = 0\n\n    this.$scrollElement.on(\'scroll.bs.scrollspy\', process)\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.VERSION  = \'3.2.0\'\n\n  ScrollSpy.DEFAULTS = {\n    offset: 10\n  }\n\n  ScrollSpy.prototype.getScrollHeight = function () {\n    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\n  }\n\n  ScrollSpy.prototype.refresh = function () {\n    var offsetMethod = \'offset\'\n    var offsetBase   = 0\n\n    if (!$.isWindow(this.$scrollElement[0])) {\n      offsetMethod = \'position\'\n      offsetBase   = this.$scrollElement.scrollTop()\n    }\n\n    this.offsets = []\n    this.targets = []\n    this.scrollHeight = this.getScrollHeight()\n\n    var self     = this\n\n    this.$body\n      .find(this.selector)\n      .map(function () {\n        var $el   = $(this)\n        var href  = $el.data(\'target\') || $el.attr(\'href\')\n        var $href = /^#./.test(href) && $(href)\n\n        return ($href\n          && $href.length\n          && $href.is(\':visible\')\n          && [[$href[offsetMethod]().top + offsetBase, href]]) || null\n      })\n      .sort(function (a, b) { return a[0] - b[0] })\n      .each(function () {\n        self.offsets.push(this[0])\n        self.targets.push(this[1])\n      })\n  }\n\n  ScrollSpy.prototype.process = function () {\n    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\n    var scrollHeight = this.getScrollHeight()\n    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\n    var offsets      = this.offsets\n    var targets      = this.targets\n    var activeTarget = this.activeTarget\n    var i\n\n    if (this.scrollHeight != scrollHeight) {\n      this.refresh()\n    }\n\n    if (scrollTop >= maxScroll) {\n      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\n    }\n\n    if (activeTarget && scrollTop <= offsets[0]) {\n      return activeTarget != (i = targets[0]) && this.activate(i)\n    }\n\n    for (i = offsets.length; i--;) {\n      activeTarget != targets[i]\n        && scrollTop >= offsets[i]\n        && (!offsets[i + 1] || scrollTop <= offsets[i + 1])\n        && this.activate(targets[i])\n    }\n  }\n\n  ScrollSpy.prototype.activate = function (target) {\n    this.activeTarget = target\n\n    $(this.selector)\n      .parentsUntil(this.options.target, \'.active\')\n      .removeClass(\'active\')\n\n    var selector = this.selector +\n        \'[data-target="\' + target + \'"],\' +\n        this.selector + \'[href="\' + target + \'"]\'\n\n    var active = $(selector)\n      .parents(\'li\')\n      .addClass(\'active\')\n\n    if (active.parent(\'.dropdown-menu\').length) {\n      active = active\n        .closest(\'li.dropdown\')\n        .addClass(\'active\')\n    }\n\n    active.trigger(\'activate.bs.scrollspy\')\n  }\n\n\n  // SCROLLSPY PLUGIN DEFINITION\n  // ===========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data(\'bs.scrollspy\')\n      var options = typeof option == \'object\' && option\n\n      if (!data) $this.data(\'bs.scrollspy\', (data = new ScrollSpy(this, options)))\n      if (typeof option == \'string\') data[option]()\n    })\n  }\n\n  var old = $.fn.scrollspy\n\n  $.fn.scrollspy             = Plugin\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n\n  // SCROLLSPY NO CONFLICT\n  // =====================\n\n  $.fn.scrollspy.noConflict = function () {\n    $.fn.scrollspy = old\n    return this\n  }\n\n\n  // SCROLLSPY DATA-API\n  // ==================\n\n  $(window).on(\'load.bs.scrollspy.data-api\', function () {\n    $(\'[data-spy="scroll"]\').each(function () {\n      var $spy = $(this)\n      Plugin.call($spy, $spy.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tab.js v3.2.0\n * http://getbootstrap.com/javascript/#tabs\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // TAB CLASS DEFINITION\n  // ====================\n\n  var Tab = function (element) {\n    this.element = $(element)\n  }\n\n  Tab.VERSION = \'3.2.0\'\n\n  Tab.prototype.show = function () {\n    var $this    = this.element\n    var $ul      = $this.closest(\'ul:not(.dropdown-menu)\')\n    var selector = $this.data(\'target\')\n\n    if (!selector) {\n      selector = $this.attr(\'href\')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, \'\') // strip for ie7\n    }\n\n    if ($this.parent(\'li\').hasClass(\'active\')) return\n\n    var previous = $ul.find(\'.active:last a\')[0]\n    var e        = $.Event(\'show.bs.tab\', {\n      relatedTarget: previous\n    })\n\n    $this.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    var $target = $(selector)\n\n    this.activate($this.closest(\'li\'), $ul)\n    this.activate($target, $target.parent(), function () {\n      $this.trigger({\n        type: \'shown.bs.tab\',\n        relatedTarget: previous\n      })\n    })\n  }\n\n  Tab.prototype.activate = function (element, container, callback) {\n    var $active    = container.find(\'> .active\')\n    var transition = callback\n      && $.support.transition\n      && $active.hasClass(\'fade\')\n\n    function next() {\n      $active\n        .removeClass(\'active\')\n        .find(\'> .dropdown-menu > .active\')\n        .removeClass(\'active\')\n\n      element.addClass(\'active\')\n\n      if (transition) {\n        element[0].offsetWidth // reflow for transition\n        element.addClass(\'in\')\n      } else {\n        element.removeClass(\'fade\')\n      }\n\n      if (element.parent(\'.dropdown-menu\')) {\n        element.closest(\'li.dropdown\').addClass(\'active\')\n      }\n\n      callback && callback()\n    }\n\n    transition ?\n      $active\n        .one(\'bsTransitionEnd\', next)\n        .emulateTransitionEnd(150) :\n      next()\n\n    $active.removeClass(\'in\')\n  }\n\n\n  // TAB PLUGIN DEFINITION\n  // =====================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data(\'bs.tab\')\n\n      if (!data) $this.data(\'bs.tab\', (data = new Tab(this)))\n      if (typeof option == \'string\') data[option]()\n    })\n  }\n\n  var old = $.fn.tab\n\n  $.fn.tab             = Plugin\n  $.fn.tab.Constructor = Tab\n\n\n  // TAB NO CONFLICT\n  // ===============\n\n  $.fn.tab.noConflict = function () {\n    $.fn.tab = old\n    return this\n  }\n\n\n  // TAB DATA-API\n  // ============\n\n  $(document).on(\'click.bs.tab.data-api\', \'[data-toggle="tab"], [data-toggle="pill"]\', function (e) {\n    e.preventDefault()\n    Plugin.call($(this), \'show\')\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: affix.js v3.2.0\n * http://getbootstrap.com/javascript/#affix\n * ========================================================================\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  \'use strict\';\n\n  // AFFIX CLASS DEFINITION\n  // ======================\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, Affix.DEFAULTS, options)\n\n    this.$target = $(this.options.target)\n      .on(\'scroll.bs.affix.data-api\', $.proxy(this.checkPosition, this))\n      .on(\'click.bs.affix.data-api\',  $.proxy(this.checkPositionWithEventLoop, this))\n\n    this.$element     = $(element)\n    this.affixed      =\n    this.unpin        =\n    this.pinnedOffset = null\n\n    this.checkPosition()\n  }\n\n  Affix.VERSION  = \'3.2.0\'\n\n  Affix.RESET    = \'affix affix-top affix-bottom\'\n\n  Affix.DEFAULTS = {\n    offset: 0,\n    target: window\n  }\n\n  Affix.prototype.getPinnedOffset = function () {\n    if (this.pinnedOffset) return this.pinnedOffset\n    this.$element.removeClass(Affix.RESET).addClass(\'affix\')\n    var scrollTop = this.$target.scrollTop()\n    var position  = this.$element.offset()\n    return (this.pinnedOffset = position.top - scrollTop)\n  }\n\n  Affix.prototype.checkPositionWithEventLoop = function () {\n    setTimeout($.proxy(this.checkPosition, this), 1)\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(\':visible\')) return\n\n    var scrollHeight = $(document).height()\n    var scrollTop    = this.$target.scrollTop()\n    var position     = this.$element.offset()\n    var offset       = this.options.offset\n    var offsetTop    = offset.top\n    var offsetBottom = offset.bottom\n\n    if (typeof offset != \'object\')         offsetBottom = offsetTop = offset\n    if (typeof offsetTop == \'function\')    offsetTop    = offset.top(this.$element)\n    if (typeof offsetBottom == \'function\') offsetBottom = offset.bottom(this.$element)\n\n    var affix = this.unpin   != null && (scrollTop + this.unpin <= position.top) ? false :\n                offsetBottom != null && (position.top + this.$element.height() >= scrollHeight - offsetBottom) ? \'bottom\' :\n                offsetTop    != null && (scrollTop <= offsetTop) ? \'top\' : false\n\n    if (this.affixed === affix) return\n    if (this.unpin != null) this.$element.css(\'top\', \'\')\n\n    var affixType = \'affix\' + (affix ? \'-\' + affix : \'\')\n    var e         = $.Event(affixType + \'.bs.affix\')\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    this.affixed = affix\n    this.unpin = affix == \'bottom\' ? this.getPinnedOffset() : null\n\n    this.$element\n      .removeClass(Affix.RESET)\n      .addClass(affixType)\n      .trigger($.Event(affixType.replace(\'affix\', \'affixed\')))\n\n    if (affix == \'bottom\') {\n      this.$element.offset({\n        top: scrollHeight - this.$element.height() - offsetBottom\n      })\n    }\n  }\n\n\n  // AFFIX PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data(\'bs.affix\')\n      var options = typeof option == \'object\' && option\n\n      if (!data) $this.data(\'bs.affix\', (data = new Affix(this, options)))\n      if (typeof option == \'string\') data[option]()\n    })\n  }\n\n  var old = $.fn.affix\n\n  $.fn.affix             = Plugin\n  $.fn.affix.Constructor = Affix\n\n\n  // AFFIX NO CONFLICT\n  // =================\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n  // AFFIX DATA-API\n  // ==============\n\n  $(window).on(\'load\', function () {\n    $(\'[data-spy="affix"]\').each(function () {\n      var $spy = $(this)\n      var data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      if (data.offsetBottom) data.offset.bottom = data.offsetBottom\n      if (data.offsetTop)    data.offset.top    = data.offsetTop\n\n      Plugin.call($spy, data)\n    })\n  })\n\n}(jQuery);\n\n\n//@filename {Foo} fileName ./html/lib/bootstrap-3.2.0-dist/js/bootstrap.min.js\n\n/*!\n * Bootstrap v3.2.0 (http://getbootstrap.com)\n * Copyright 2011-2014 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n */\nif("undefined"==typeof jQuery)throw new Error("Bootstrap\'s JavaScript requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c=\'[data-dismiss="alert"]\',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.2.0",d.prototype.close=function(b){function c(){f.detach().trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",c).emulateTransitionEnd(150):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.2.0",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),d[e](null==f[b]?this.options[b]:f[b]),setTimeout(a.proxy(function(){"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest(\'[data-toggle="buttons"]\');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",\'[data-toggle^="button"]\',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b).on("keydown.bs.carousel",a.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.2.0",c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},c.prototype.keydown=function(a){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.to=function(b){var c=this,d=this.getItemIndex(this.$active=this.$element.find(".item.active"));return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}if(e.hasClass("active"))return this.sliding=!1;var j=e[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:g});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(e)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:g});return a.support.transition&&this.$element.hasClass("slide")?(e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one("bsTransitionEnd",function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(1e3*d.css("transition-duration").slice(0,-1))):(d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger(m)),f&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}}),a(window).on("load",function(){a(\'[data-ride="carousel"]\').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b);!e&&f.toggle&&"show"==b&&(b=!b),e||d.data("bs.collapse",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};c.VERSION="3.2.0",c.DEFAULTS={toggle:!0},c.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},c.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var c=a.Event("show.bs.collapse");if(this.$element.trigger(c),!c.isDefaultPrevented()){var d=this.$parent&&this.$parent.find("> .panel > .in");if(d&&d.length){var e=d.data("bs.collapse");if(e&&e.transitioning)return;b.call(d,"hide"),e||d.data("bs.collapse",null)}var f=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[f](0),this.transitioning=1;var g=function(){this.$element.removeClass("collapsing").addClass("collapse in")[f](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return g.call(this);var h=a.camelCase(["scroll",f].join("-"));this.$element.one("bsTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(350)[f](this.$element[0][h])}}},c.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},c.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var d=a.fn.collapse;a.fn.collapse=b,a.fn.collapse.Constructor=c,a.fn.collapse.noConflict=function(){return a.fn.collapse=d,this},a(document).on("click.bs.collapse.data-api",\'[data-toggle="collapse"]\',function(c){var d,e=a(this),f=e.attr("data-target")||c.preventDefault()||(d=e.attr("href"))&&d.replace(/.*(?=#[^\\s]+$)/,""),g=a(f),h=g.data("bs.collapse"),i=h?"toggle":e.data(),j=e.attr("data-parent"),k=j&&a(j);h&&h.transitioning||(k&&k.find(\'[data-toggle="collapse"][data-parent="\'+j+\'"]\').not(e).addClass("collapsed"),e[g.hasClass("in")?"addClass":"removeClass"]("collapsed")),b.call(g,i)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=c(a(this)),e={relatedTarget:this};d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown",e)),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown",e))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f=\'[data-toggle="dropdown"]\',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.2.0",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(\'<div class="dropdown-backdrop"/>\').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.divider):visible a",i=e.find(\'[role="menu"]\'+h+\', [role="listbox"]\'+h);if(i.length){var j=i.index(i.filter(":focus"));38==b.keyCode&&j>0&&j--,40==b.keyCode&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f+\', [role="menu"], [role="listbox"]\',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.2.0",c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",\'[data-dismiss="modal"]\',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(c.$body),c.$element.show().scrollTop(0),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one("bsTransitionEnd",function(){c.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(300):c.$element.trigger("focus").trigger(e)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var c=this,d=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var e=a.support.transition&&d;if(this.$backdrop=a(\'<div class="modal-backdrop \'+d+\'" />\').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),e&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;e?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(150):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var f=function(){c.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(150):f()}else b&&b()},c.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",\'[data-toggle="modal"]\',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.2.0",c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:\'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>\',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var c=a.contains(document.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!c)return;var d=this,e=this.tip(),f=this.getUID(this.type);this.setContent(),e.attr("id",f),this.$element.attr("aria-describedby",f),this.options.animation&&e.addClass("fade");var g="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,h=/\\s?auto?\\s?/i,i=h.test(g);i&&(g=g.replace(h,"")||"top"),e.detach().css({top:0,left:0,display:"block"}).addClass(g).data("bs."+this.type,this),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element);var j=this.getPosition(),k=e[0].offsetWidth,l=e[0].offsetHeight;if(i){var m=g,n=this.$element.parent(),o=this.getPosition(n);g="bottom"==g&&j.top+j.height+l-o.scroll>o.height?"top":"top"==g&&j.top-o.scroll-l<0?"bottom":"right"==g&&j.right+k>o.width?"left":"left"==g&&j.left-k<o.left?"right":g,e.removeClass(m).addClass(g)}var p=this.getCalculatedOffset(g,j,k,l);this.applyPlacement(p,g);var q=function(){d.$element.trigger("shown.bs."+d.type),d.hoverState=null};a.support.transition&&this.$tip.hasClass("fade")?e.one("bsTransitionEnd",q).emulateTransitionEnd(150):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=k.left?2*k.left-e+i:2*k.top-f+j,m=k.left?"left":"top",n=k.left?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(l,d[0][n],m)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach(),c.$element.trigger("hidden.bs."+c.type)}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one("bsTransitionEnd",b).emulateTransitionEnd(150):b(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName;return a.extend({},"function"==typeof c.getBoundingClientRect?c.getBoundingClientRect():null,{scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop(),width:d?a(window).width():b.outerWidth(),height:d?a(window).height():b.outerHeight()},d?{top:0,left:0}:b.offset())},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||"destroy"!=b)&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.2.0",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:\'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>\'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").empty()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},c.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){var e=a.proxy(this.process,this);this.$body=a("body"),this.$scrollElement=a(a(c).is("body")?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.2.0",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b="offset",c=0;a.isWindow(this.$scrollElement[0])||(b="position",c=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var d=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[b]().top+c,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){d.offsets.push(this[0]),d.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<=e[0])return g!=(a=f[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var c=this.selector+\'[data-target="\'+b+\'"],\'+this.selector+\'[href="\'+b+\'"]\',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a(\'[data-spy="scroll"]\').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.2.0",c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.closest("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},c.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),f.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this},a(document).on("click.bs.tab.data-api",\'[data-toggle="tab"], [data-toggle="pill"]\',function(c){c.preventDefault(),b.call(a(this),"show")})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.2.0",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=a(document).height(),d=this.$target.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top(this.$element)),"function"==typeof h&&(h=f.bottom(this.$element));var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=b-h?"bottom":null!=g&&g>=d?"top":!1;if(this.affixed!==i){null!=this.unpin&&this.$element.css("top","");var j="affix"+(i?"-"+i:""),k=a.Event(j+".bs.affix");this.$element.trigger(k),k.isDefaultPrevented()||(this.affixed=i,this.unpin="bottom"==i?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(j).trigger(a.Event(j.replace("affix","affixed"))),"bottom"==i&&this.$element.offset({top:b-this.$element.height()-h}))}}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a(\'[data-spy="affix"]\').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},d.offsetBottom&&(d.offset.bottom=d.offsetBottom),d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);\n\n//@filename {Foo} fileName ./html/lib/jquery/jquery-2.0.3.min.js\n\n/*! jQuery v2.0.3 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license\n//@ sourceMappingURL=jquery-2.0.3.min.map\n*/\n(function(e,undefined){var t,n,r=typeof undefined,i=e.location,o=e.document,s=o.documentElement,a=e.jQuery,u=e.$,l={},c=[],p="2.0.3",f=c.concat,h=c.push,d=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,x=function(e,n){return new x.fn.init(e,n,t)},b=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,w=/\\S+/g,T=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,C=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,k=/^-ms-/,N=/-([\\da-z])/gi,E=function(e,t){return t.toUpperCase()},S=function(){o.removeEventListener("DOMContentLoaded",S,!1),e.removeEventListener("load",S,!1),x.ready()};x.fn=x.prototype={jquery:p,constructor:x,init:function(e,t,n){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:T.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:o,!0)),C.test(r[1])&&x.isPlainObject(t))for(r in t)x.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=o.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):x.isFunction(e)?n.ready(e):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),x.makeArray(e,this))},selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return x.each(this,e,t)},ready:function(e){return x.ready.promise().done(e),this},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(x.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},x.fn.init.prototype=x.fn,x.extend=x.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[1]||{},a=2),"object"==typeof s||x.isFunction(s)||(s={}),u===a&&(s=this,--a);u>a;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],r=e[t],s!==r&&(l&&r&&(x.isPlainObject(r)||(i=x.isArray(r)))?(i?(i=!1,o=n&&x.isArray(n)?n:[]):o=n&&x.isPlainObject(n)?n:{},s[t]=x.extend(l,o,r)):r!==undefined&&(s[t]=r));return s},x.extend({expando:"jQuery"+(p+Math.random()).replace(/\\D/g,""),noConflict:function(t){return e.$===x&&(e.$=u),t&&e.jQuery===x&&(e.jQuery=a),x},isReady:!1,readyWait:1,holdReady:function(e){e?x.readyWait++:x.ready(!0)},ready:function(e){(e===!0?--x.readyWait:x.isReady)||(x.isReady=!0,e!==!0&&--x.readyWait>0||(n.resolveWith(o,[x]),x.fn.trigger&&x(o).trigger("ready").off("ready")))},isFunction:function(e){return"function"===x.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if("object"!==x.type(e)||e.nodeType||x.isWindow(e))return!1;try{if(e.constructor&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=x.buildFragment([e],t,i),i&&x(i).remove(),x.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&x.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){var t,n=eval;e=x.trim(e),e&&(1===e.indexOf("use strict")?(t=o.createElement("script"),t.text=e,o.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(k,"ms-").replace(N,E)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,s=j(e);if(n){if(s){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(s){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":v.call(e)},makeArray:function(e,t){var n=t||[];return null!=e&&(j(Object(e))?x.merge(n,"string"==typeof e?[e]:e):h.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){var n=t.length,r=e.length,i=0;if("number"==typeof n)for(;n>i;i++)e[r++]=t[i];else while(t[i]!==undefined)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){var r,i=[],o=0,s=e.length;for(n=!!n;s>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,s=j(e),a=[];if(s)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(a[a.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(a[a.length]=r);return f.apply([],a)},guid:1,proxy:function(e,t){var n,r,i;return"string"==typeof t&&(n=e[t],t=e,e=n),x.isFunction(e)?(r=d.call(arguments,2),i=function(){return e.apply(t||this,r.concat(d.call(arguments)))},i.guid=e.guid=e.guid||x.guid++,i):undefined},access:function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===x.type(n)){i=!0;for(a in n)x.access(e,t,a,n[a],!0,o,s)}else if(r!==undefined&&(i=!0,x.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(x(e),n)})),t))for(;u>a;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o},now:Date.now,swap:function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=s[o];return i}}),x.ready.promise=function(t){return n||(n=x.Deferred(),"complete"===o.readyState?setTimeout(x.ready):(o.addEventListener("DOMContentLoaded",S,!1),e.addEventListener("load",S,!1))),n.promise(t)},x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function j(e){var t=e.length,n=x.type(e);return x.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}t=x(o),function(e,undefined){var t,n,r,i,o,s,a,u,l,c,p,f,h,d,g,m,y,v="sizzle"+-new Date,b=e.document,w=0,T=0,C=st(),k=st(),N=st(),E=!1,S=function(e,t){return e===t?(E=!0,0):0},j=typeof undefined,D=1<<31,A={}.hasOwnProperty,L=[],q=L.pop,H=L.push,O=L.push,F=L.slice,P=L.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\\\x20\\\\t\\\\r\\\\n\\\\f]",W="(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+",$=W.replace("w","w#"),B="\\\\["+M+"*("+W+")"+M+"*(?:([*^$|!~]?=)"+M+"*(?:([\'\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|("+$+")|)|)"+M+"*\\\\]",I=":("+W+")(?:\\\\((([\'\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|"+B.replace(3,8)+")*)|.*)\\\\)|)",z=RegExp("^"+M+"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)"+M+"+$","g"),_=RegExp("^"+M+"*,"+M+"*"),X=RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=RegExp(M+"*[+~]"),Y=RegExp("="+M+"*([^\\\\]\'\\"]*)"+M+"*\\\\]","g"),V=RegExp(I),G=RegExp("^"+$+"$"),J={ID:RegExp("^#("+W+")"),CLASS:RegExp("^\\\\.("+W+")"),TAG:RegExp("^("+W.replace("w","w*")+")"),ATTR:RegExp("^"+B),PSEUDO:RegExp("^"+I),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\("+M+"*(even|odd|(([+-]|)(\\\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\\\d+)|))"+M+"*\\\\)|)","i"),bool:RegExp("^(?:"+R+")$","i"),needsContext:RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\("+M+"*((?:-\\\\d)?\\\\d*)"+M+"*\\\\)|)(?=[^-]|$)","i")},Q=/^[^{]+\\{\\s*\\[native \\w/,K=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,Z=/^(?:input|select|textarea|button)$/i,et=/^h\\d$/i,tt=/\'|\\\\/g,nt=RegExp("\\\\\\\\([\\\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{O.apply(L=F.call(b.childNodes),b.childNodes),L[b.childNodes.length].nodeType}catch(it){O={apply:L.length?function(e,t){H.apply(e,F.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function ot(e,t,r,i){var o,s,a,u,l,f,g,m,x,w;if((t?t.ownerDocument||t:b)!==p&&c(t),t=t||p,r=r||[],!e||"string"!=typeof e)return r;if(1!==(u=t.nodeType)&&9!==u)return[];if(h&&!i){if(o=K.exec(e))if(a=o[1]){if(9===u){if(s=t.getElementById(a),!s||!s.parentNode)return r;if(s.id===a)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(a))&&y(t,s)&&s.id===a)return r.push(s),r}else{if(o[2])return O.apply(r,t.getElementsByTagName(e)),r;if((a=o[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(a)),r}if(n.qsa&&(!d||!d.test(e))){if(m=g=v,x=t,w=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){f=gt(e),(g=t.getAttribute("id"))?m=g.replace(tt,"\\\\$&"):t.setAttribute("id",m),m="[id=\'"+m+"\'] ",l=f.length;while(l--)f[l]=m+mt(f[l]);x=U.test(e)&&t.parentNode||t,w=f.join(",")}if(w)try{return O.apply(r,x.querySelectorAll(w)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return kt(e.replace(z,"$1"),t,r,i)}function st(){var e=[];function t(n,r){return e.push(n+=" ")>i.cacheLength&&delete t[e.shift()],t[n]=r}return t}function at(e){return e[v]=!0,e}function ut(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),r=e.length;while(r--)i.attrHandle[n[r]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ht(e){return at(function(t){return t=+t,at(function(n,r){var i,o=e([],n.length,t),s=o.length;while(s--)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},n=ot.support={},c=ot.setDocument=function(e){var t=e?e.ownerDocument||e:b,r=t.defaultView;return t!==p&&9===t.nodeType&&t.documentElement?(p=t,f=t.documentElement,h=!s(t),r&&r.attachEvent&&r!==r.top&&r.attachEvent("onbeforeunload",function(){c()}),n.attributes=ut(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ut(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=ut(function(e){return e.innerHTML="<div class=\'a\'></div><div class=\'a i\'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),n.getById=ut(function(e){return f.appendChild(e).id=v,!t.getElementsByName||!t.getElementsByName(v).length}),n.getById?(i.find.ID=function(e,t){if(typeof t.getElementById!==j&&h){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==j&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==j?t.getElementsByTagName(e):undefined}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==j&&h?t.getElementsByClassName(e):undefined},g=[],d=[],(n.qsa=Q.test(t.querySelectorAll))&&(ut(function(e){e.innerHTML="<select><option selected=\'\'></option></select>",e.querySelectorAll("[selected]").length||d.push("\\\\["+M+"*(?:value|"+R+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ut(function(e){var n=t.createElement("input");n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^=\'\']").length&&d.push("[*^$]="+M+"*(?:\'\'|\\"\\")"),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")})),(n.matchesSelector=Q.test(m=f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&ut(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!=\'\']:x"),g.push("!=",I)}),d=d.length&&RegExp(d.join("|")),g=g.length&&RegExp(g.join("|")),y=Q.test(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},S=f.compareDocumentPosition?function(e,r){if(e===r)return E=!0,0;var i=r.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(r);return i?1&i||!n.sortDetached&&r.compareDocumentPosition(e)===i?e===t||y(b,e)?-1:r===t||y(b,r)?1:l?P.call(l,e)-P.call(l,r):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var r,i=0,o=e.parentNode,s=n.parentNode,a=[e],u=[n];if(e===n)return E=!0,0;if(!o||!s)return e===t?-1:n===t?1:o?-1:s?1:l?P.call(l,e)-P.call(l,n):0;if(o===s)return ct(e,n);r=e;while(r=r.parentNode)a.unshift(r);r=n;while(r=r.parentNode)u.unshift(r);while(a[i]===u[i])i++;return i?ct(a[i],u[i]):a[i]===b?-1:u[i]===b?1:0},t):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Y,"=\'$1\']"),!(!n.matchesSelector||!h||g&&g.test(t)||d&&d.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&c(e);var r=i.attrHandle[t.toLowerCase()],o=r&&A.call(i.attrHandle,t.toLowerCase())?r(e,t,!h):undefined;return o===undefined?n.attributes||!h?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null:o},ot.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,o=0;if(E=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(S),E){while(t=e[o++])t===e[o]&&(i=r.push(o));while(i--)e.splice(r[i],1)}return e},o=ot.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=ot.selectors={cacheLength:50,createPseudo:at,match:J,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return J.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&V.test(n)&&(t=gt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=C[e+" "];return t||(t=RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&C(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==j&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,h,d,g=o!==s?"nextSibling":"previousSibling",m=t.parentNode,y=a&&t.nodeName.toLowerCase(),x=!u&&!a;if(m){if(o){while(g){p=t;while(p=p[g])if(a?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;d=g="only"===e&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&x){c=m[v]||(m[v]={}),l=c[e]||[],h=l[0]===w&&l[1],f=l[0]===w&&l[2],p=h&&m.childNodes[h];while(p=++h&&p&&p[g]||(f=h=0)||d.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[w,h,f];break}}else if(x&&(l=(t[v]||(t[v]={}))[e])&&l[0]===w)f=l[1];else while(p=++h&&p&&p[g]||(f=h=0)||d.pop())if((a?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(x&&((p[v]||(p[v]={}))[e]=[w,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return r[v]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var i,o=r(e,t),s=o.length;while(s--)i=P.call(e,o[s]),e[i]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:at(function(e){var t=[],n=[],r=a(e.replace(z,"$1"));return r[v]?at(function(e,t,n,i){var o,s=r(e,null,i,[]),a=e.length;while(a--)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:at(function(e){return G.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=h?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return et.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:ht(function(){return[0]}),last:ht(function(e,t){return[t-1]}),eq:ht(function(e,t,n){return[0>n?n+t:n]}),even:ht(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:ht(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:ht(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ht(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}},i.pseudos.nth=i.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pt(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=ft(t);function dt(){}dt.prototype=i.filters=i.pseudos,i.setFilters=new dt;function gt(e,t){var n,r,o,s,a,u,l,c=k[e+" "];if(c)return t?0:c.slice(0);a=e,u=[],l=i.preFilter;while(a){(!n||(r=_.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=X.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(z," ")}),a=a.slice(n.length));for(s in i.filter)!(r=J[s].exec(a))||l[s]&&!(r=l[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ot.error(e):k(e,u).slice(0)}function mt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var i=t.dir,o=n&&"parentNode"===i,s=T++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,a){var u,l,c,p=w+" "+s;if(a){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,a))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[v]||(t[v]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,a)||r,l[1]===!0)return!0}}function vt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function xt(e,t,n,r,i){var o,s=[],a=0,u=e.length,l=null!=t;for(;u>a;a++)(o=e[a])&&(!n||n(o,r,i))&&(s.push(o),l&&t.push(a));return s}function bt(e,t,n,r,i,o){return r&&!r[v]&&(r=bt(r)),i&&!i[v]&&(i=bt(i,o)),at(function(o,s,a,u){var l,c,p,f=[],h=[],d=s.length,g=o||Ct(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?g:xt(g,f,e,a,u),y=n?i||(o?e:d||r)?[]:s:m;if(n&&n(m,y,a,u),r){l=xt(y,h),r(l,[],a,u),c=l.length;while(c--)(p=l[c])&&(y[h[c]]=!(m[h[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?P.call(o,p):f[c])>-1&&(o[l]=!(s[l]=p))}}else y=xt(y===s?y.splice(d,y.length):y),i?i(null,s,y,u):O.apply(s,y)})}function wt(e){var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,c=yt(function(e){return e===t},a,!0),p=yt(function(e){return P.call(t,e)>-1},a,!0),f=[function(e,n,r){return!s&&(r||n!==u)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>l;l++)if(n=i.relative[e[l].type])f=[yt(vt(f),n)];else{if(n=i.filter[e[l].type].apply(null,e[l].matches),n[v]){for(r=++l;o>r;r++)if(i.relative[e[r].type])break;return bt(l>1&&vt(f),l>1&&mt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,r>l&&wt(e.slice(l,r)),o>r&&wt(e=e.slice(r)),o>r&&mt(e))}f.push(n)}return vt(f)}function Tt(e,t){var n=0,o=t.length>0,s=e.length>0,a=function(a,l,c,f,h){var d,g,m,y=[],v=0,x="0",b=a&&[],T=null!=h,C=u,k=a||s&&i.find.TAG("*",h&&l.parentNode||l),N=w+=null==C?1:Math.random()||.1;for(T&&(u=l!==p&&l,r=n);null!=(d=k[x]);x++){if(s&&d){g=0;while(m=e[g++])if(m(d,l,c)){f.push(d);break}T&&(w=N,r=++n)}o&&((d=!m&&d)&&v--,a&&b.push(d))}if(v+=x,o&&x!==v){g=0;while(m=t[g++])m(b,y,l,c);if(a){if(v>0)while(x--)b[x]||y[x]||(y[x]=q.call(f));y=xt(y)}O.apply(f,y),T&&!a&&y.length>0&&v+t.length>1&&ot.uniqueSort(f)}return T&&(w=N,u=C),b};return o?at(a):a}a=ot.compile=function(e,t){var n,r=[],i=[],o=N[e+" "];if(!o){t||(t=gt(e)),n=t.length;while(n--)o=wt(t[n]),o[v]?r.push(o):i.push(o);o=N(e,Tt(i,r))}return o};function Ct(e,t,n){var r=0,i=t.length;for(;i>r;r++)ot(e,t[r],n);return n}function kt(e,t,r,o){var s,u,l,c,p,f=gt(e);if(!o&&1===f.length){if(u=f[0]=f[0].slice(0),u.length>2&&"ID"===(l=u[0]).type&&n.getById&&9===t.nodeType&&h&&i.relative[u[1].type]){if(t=(i.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return r;e=e.slice(u.shift().value.length)}s=J.needsContext.test(e)?0:u.length;while(s--){if(l=u[s],i.relative[c=l.type])break;if((p=i.find[c])&&(o=p(l.matches[0].replace(nt,rt),U.test(u[0].type)&&t.parentNode||t))){if(u.splice(s,1),e=o.length&&mt(u),!e)return O.apply(r,o),r;break}}}return a(e,f)(o,t,!h,r,U.test(e)),r}n.sortStable=v.split("").sort(S).join("")===v,n.detectDuplicates=E,c(),n.sortDetached=ut(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ut(function(e){return e.innerHTML="<a href=\'#\'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){return n?undefined:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ut(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?undefined:e.defaultValue}),ut(function(e){return null==e.getAttribute("disabled")})||lt(R,function(e,t,n){var r;return n?undefined:(r=e.getAttributeNode(t))&&r.specified?r.value:e[t]===!0?t.toLowerCase():null}),x.find=ot,x.expr=ot.selectors,x.expr[":"]=x.expr.pseudos,x.unique=ot.uniqueSort,x.text=ot.getText,x.isXMLDoc=ot.isXML,x.contains=ot.contains}(e);var D={};function A(e){var t=D[e]={};return x.each(e.match(w)||[],function(e,n){t[n]=!0}),t}x.Callbacks=function(e){e="string"==typeof e?D[e]||A(e):x.extend({},e);var t,n,r,i,o,s,a=[],u=!e.once&&[],l=function(p){for(t=e.memory&&p,n=!0,s=i||0,i=0,o=a.length,r=!0;a&&o>s;s++)if(a[s].apply(p[0],p[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,a&&(u?u.length&&l(u.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var n=a.length;(function s(t){x.each(t,function(t,n){var r=x.type(n);"function"===r?e.unique&&c.has(n)||a.push(n):n&&n.length&&"string"!==r&&s(n)})})(arguments),r?o=a.length:t&&(i=n,l(t))}return this},remove:function(){return a&&x.each(arguments,function(e,t){var n;while((n=x.inArray(t,a,n))>-1)a.splice(n,1),r&&(o>=n&&o--,s>=n&&s--)}),this},has:function(e){return e?x.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=u=t=undefined,this},disabled:function(){return!a},lock:function(){return u=undefined,t||c.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!a||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],r?u.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},x.extend({Deferred:function(e){var t=[["resolve","done",x.Callbacks("once memory"),"resolved"],["reject","fail",x.Callbacks("once memory"),"rejected"],["notify","progress",x.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return x.Deferred(function(n){x.each(t,function(t,o){var s=o[0],a=x.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&x.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},i={};return r.pipe=r.then,x.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=d.call(arguments),r=n.length,i=1!==r||e&&x.isFunction(e.promise)?r:0,o=1===i?e:x.Deferred(),s=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},a,u,l;if(r>1)for(a=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&x.isFunction(n[t].promise)?n[t].promise().done(s(t,l,n)).fail(o.reject).progress(s(t,u,a)):--i;return i||o.resolveWith(l,n),o.promise()}}),x.support=function(t){var n=o.createElement("input"),r=o.createDocumentFragment(),i=o.createElement("div"),s=o.createElement("select"),a=s.appendChild(o.createElement("option"));return n.type?(n.type="checkbox",t.checkOn=""!==n.value,t.optSelected=a.selected,t.reliableMarginRight=!0,t.boxSizingReliable=!0,t.pixelPosition=!1,n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled,n=o.createElement("input"),n.value="t",n.type="radio",t.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,t.focusinBubbles="onfocusin"in e,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===i.style.backgroundClip,x(function(){var n,r,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",a=o.getElementsByTagName("body")[0];a&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",x.swap(a,null!=a.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===i.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(o.createElement("div")),r.style.cssText=i.style.cssText=s,r.style.marginRight=r.style.width="0",i.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),a.removeChild(n))}),t):t}({});var L,q,H=/(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,O=/([A-Z])/g;function F(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=x.expando+Math.random()}F.uid=1,F.accepts=function(e){return e.nodeType?1===e.nodeType||9===e.nodeType:!0},F.prototype={key:function(e){if(!F.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=F.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,x.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(x.isEmptyObject(o))x.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&"string"==typeof t&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,x.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),s=this.cache[o];if(t===undefined)this.cache[o]={};else{x.isArray(t)?r=t.concat(t.map(x.camelCase)):(i=x.camelCase(t),t in s?r=[t,i]:(r=i,r=r in s?[r]:r.match(w)||[])),n=r.length;while(n--)delete s[r[n]]}},hasData:function(e){return!x.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}},L=new F,q=new F,x.extend({acceptData:F.accepts,hasData:function(e){return L.hasData(e)||q.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return q.access(e,t,n)},_removeData:function(e,t){q.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i=this[0],o=0,s=null;if(e===undefined){if(this.length&&(s=L.get(i),1===i.nodeType&&!q.get(i,"hasDataAttrs"))){for(n=i.attributes;n.length>o;o++)r=n[o].name,0===r.indexOf("data-")&&(r=x.camelCase(r.slice(5)),P(i,r,s[r]));q.set(i,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){L.set(this,e)}):x.access(this,function(t){var n,r=x.camelCase(e);if(i&&t===undefined){if(n=L.get(i,e),n!==undefined)return n;if(n=L.get(i,r),n!==undefined)return n;if(n=P(i,r,undefined),n!==undefined)return n}else this.each(function(){var n=L.get(this,r);L.set(this,r,t),-1!==e.indexOf("-")&&n!==undefined&&L.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){L.remove(this,e)})}});function P(e,t,n){var r;if(n===undefined&&1===e.nodeType)if(r="data-"+t.replace(O,"-$1").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:H.test(n)?JSON.parse(n):n}catch(i){}L.set(e,t,n)}else n=undefined;return n}x.extend({queue:function(e,t,n){var r;return e?(t=(t||"fx")+"queue",r=q.get(e,t),n&&(!r||x.isArray(n)?r=q.access(e,t,x.makeArray(n)):r.push(n)),r||[]):undefined},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t),s=function(){x.dequeue(e,t)\n};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return q.get(e,n)||q.access(e,n,{empty:x.Callbacks("once memory").add(function(){q.remove(e,[t+"queue",n])})})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),n>arguments.length?x.queue(this[0],e):t===undefined?this:this.each(function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)})},dequeue:function(e){return this.each(function(){x.dequeue(this,e)})},delay:function(e,t){return e=x.fx?x.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=undefined),e=e||"fx";while(s--)n=q.get(o[s],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var R,M,W=/[\\t\\r\\n\\f]/g,$=/\\r/g,B=/^(?:input|select|textarea|button)$/i;x.fn.extend({attr:function(e,t){return x.access(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){x.removeAttr(this,e)})},prop:function(e,t){return x.access(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[x.propFix[e]||e]})},addClass:function(e){var t,n,r,i,o,s=0,a=this.length,u="string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=x.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,s=0,a=this.length,u=0===arguments.length||"string"==typeof e&&e;if(x.isFunction(e))return this.each(function(t){x(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(W," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?x.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):x.isFunction(e)?this.each(function(n){x(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var t,i=0,o=x(this),s=e.match(w)||[];while(t=s[i++])o.hasClass(t)?o.removeClass(t):o.addClass(t)}else(n===r||"boolean"===n)&&(this.className&&q.set(this,"__className__",this.className),this.className=this.className||e===!1?"":q.get(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(W," ").indexOf(t)>=0)return!0;return!1},val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=x.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,x(this).val()):e,null==i?i="":"number"==typeof i?i+="":x.isArray(i)&&(i=x.map(i,function(e){return null==e?"":e+""})),t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&t.set(this,i,"value")!==undefined||(this.value=i))});if(i)return t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,"string"==typeof n?n.replace($,""):null==n?"":n)}}}),x.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;for(;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(x.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&x.nodeName(n.parentNode,"optgroup"))){if(t=x(n).val(),o)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=x.makeArray(t),s=i.length;while(s--)r=i[s],(r.selected=x.inArray(x(r).val(),o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}},attr:function(e,t,n){var i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===r?x.prop(e,t,n):(1===s&&x.isXMLDoc(e)||(t=t.toLowerCase(),i=x.attrHooks[t]||(x.expr.match.bool.test(t)?M:R)),n===undefined?i&&"get"in i&&null!==(o=i.get(e,t))?o:(o=x.find.attr(e,t),null==o?undefined:o):null!==n?i&&"set"in i&&(o=i.set(e,n,t))!==undefined?o:(e.setAttribute(t,n+""),n):(x.removeAttr(e,t),undefined))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=x.propFix[n]||n,x.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!x.support.radioValue&&"radio"===t&&x.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return o=1!==s||!x.isXMLDoc(e),o&&(t=x.propFix[t]||t,i=x.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||B.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),M={set:function(e,t,n){return t===!1?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\\w+/g),function(e,t){var n=x.expr.attrHandle[t]||x.find.attr;x.expr.attrHandle[t]=function(e,t,r){var i=x.expr.attrHandle[t],o=r?undefined:(x.expr.attrHandle[t]=undefined)!=n(e,t,r)?t.toLowerCase():null;return x.expr.attrHandle[t]=i,o}}),x.support.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){x.propFix[this.toLowerCase()]=this}),x.each(["radio","checkbox"],function(){x.valHooks[this]={set:function(e,t){return x.isArray(t)?e.checked=x.inArray(x(e).val(),t)>=0:undefined}},x.support.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var I=/^key/,z=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\\.(.+)|)$/;function U(){return!0}function Y(){return!1}function V(){try{return o.activeElement}catch(e){}}x.event={global:{},add:function(e,t,n,i,o){var s,a,u,l,c,p,f,h,d,g,m,y=q.get(e);if(y){n.handler&&(s=n,n=s.handler,o=s.selector),n.guid||(n.guid=x.guid++),(l=y.events)||(l=y.events={}),(a=y.handle)||(a=y.handle=function(e){return typeof x===r||e&&x.event.triggered===e.type?undefined:x.event.dispatch.apply(a.elem,arguments)},a.elem=e),t=(t||"").match(w)||[""],c=t.length;while(c--)u=X.exec(t[c])||[],d=m=u[1],g=(u[2]||"").split(".").sort(),d&&(f=x.event.special[d]||{},d=(o?f.delegateType:f.bindType)||d,f=x.event.special[d]||{},p=x.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&x.expr.match.needsContext.test(o),namespace:g.join(".")},s),(h=l[d])||(h=l[d]=[],h.delegateCount=0,f.setup&&f.setup.call(e,i,g,a)!==!1||e.addEventListener&&e.addEventListener(d,a,!1)),f.add&&(f.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,p):h.push(p),x.event.global[d]=!0);e=null}},remove:function(e,t,n,r,i){var o,s,a,u,l,c,p,f,h,d,g,m=q.hasData(e)&&q.get(e);if(m&&(u=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(a=X.exec(t[l])||[],h=g=a[1],d=(a[2]||"").split(".").sort(),h){p=x.event.special[h]||{},h=(r?p.delegateType:p.bindType)||h,f=u[h]||[],a=a[2]&&RegExp("(^|\\\\.)"+d.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"),s=o=f.length;while(o--)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,p.remove&&p.remove.call(e,c));s&&!f.length&&(p.teardown&&p.teardown.call(e,d,m.handle)!==!1||x.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)x.event.remove(e,h+t[l],n,r,!0);x.isEmptyObject(u)&&(delete m.handle,q.remove(e,"events"))}},trigger:function(t,n,r,i){var s,a,u,l,c,p,f,h=[r||o],d=y.call(t,"type")?t.type:t,g=y.call(t,"namespace")?t.namespace.split("."):[];if(a=u=r=r||o,3!==r.nodeType&&8!==r.nodeType&&!_.test(d+x.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),c=0>d.indexOf(":")&&"on"+d,t=t[x.expando]?t:new x.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.namespace_re=t.namespace?RegExp("(^|\\\\.)"+g.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null,t.result=undefined,t.target||(t.target=r),n=null==n?[t]:x.makeArray(n,[t]),f=x.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!x.isWindow(r)){for(l=f.delegateType||d,_.test(l+d)||(a=a.parentNode);a;a=a.parentNode)h.push(a),u=a;u===(r.ownerDocument||o)&&h.push(u.defaultView||u.parentWindow||e)}s=0;while((a=h[s++])&&!t.isPropagationStopped())t.type=s>1?l:f.bindType||d,p=(q.get(a,"events")||{})[t.type]&&q.get(a,"handle"),p&&p.apply(a,n),p=c&&a[c],p&&x.acceptData(a)&&p.apply&&p.apply(a,n)===!1&&t.preventDefault();return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!x.acceptData(r)||c&&x.isFunction(r[d])&&!x.isWindow(r)&&(u=r[c],u&&(r[c]=null),x.event.triggered=d,r[d](),x.event.triggered=undefined,u&&(r[c]=u)),t.result}},dispatch:function(e){e=x.event.fix(e);var t,n,r,i,o,s=[],a=d.call(arguments),u=(q.get(this,"events")||{})[e.type]||[],l=x.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){s=x.event.handlers.call(this,e,u),t=0;while((i=s[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==e.type){for(r=[],n=0;a>n;n++)o=t[n],i=o.selector+" ",r[i]===undefined&&(r[i]=o.needsContext?x(i,this).index(u)>=0:x.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return t.length>a&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||o,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||s===undefined||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[x.expando])return e;var t,n,r,i=e.type,s=e,a=this.fixHooks[i];a||(this.fixHooks[i]=a=z.test(i)?this.mouseHooks:I.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new x.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=o),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==V()&&this.focus?(this.focus(),!1):undefined},delegateType:"focusin"},blur:{trigger:function(){return this===V()&&this.blur?(this.blur(),!1):undefined},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&x.nodeName(this,"input")?(this.click(),!1):undefined},_default:function(e){return x.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?x.event.trigger(i,null,t):x.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},x.Event=function(e,t){return this instanceof x.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.getPreventDefault&&e.getPreventDefault()?U:Y):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||x.now(),this[x.expando]=!0,undefined):new x.Event(e,t)},x.Event.prototype={isDefaultPrevented:Y,isPropagationStopped:Y,isImmediatePropagationStopped:Y,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=U,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=U,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=U,this.stopPropagation()}},x.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!x.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),x.support.focusinBubbles||x.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){x.event.simulate(t,e.target,x.event.fix(e),!0)};x.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),x.fn.extend({on:function(e,t,n,r,i){var o,s;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=undefined);for(s in e)this.on(s,t,n,e[s],i);return this}if(null==n&&null==r?(r=t,n=t=undefined):null==r&&("string"==typeof t?(r=n,n=undefined):(r=n,n=t,t=undefined)),r===!1)r=Y;else if(!r)return this;return 1===i&&(o=r,r=function(e){return x().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=x.guid++)),this.each(function(){x.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=undefined),n===!1&&(n=Y),this.each(function(){x.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){x.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?x.event.trigger(e,t,n,!0):undefined}});var G=/^.[^:#\\[\\.,]*$/,J=/^(?:parents|prev(?:Until|All))/,Q=x.expr.match.needsContext,K={children:!0,contents:!0,next:!0,prev:!0};x.fn.extend({find:function(e){var t,n=[],r=this,i=r.length;if("string"!=typeof e)return this.pushStack(x(e).filter(function(){for(t=0;i>t;t++)if(x.contains(r[t],this))return!0}));for(t=0;i>t;t++)x.find(e,r[t],n);return n=this.pushStack(i>1?x.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t=x(e,this),n=t.length;return this.filter(function(){var e=0;for(;n>e;e++)if(x.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(et(this,e||[],!0))},filter:function(e){return this.pushStack(et(this,e||[],!1))},is:function(e){return!!et(this,"string"==typeof e&&Q.test(e)?x(e):e||[],!1).length},closest:function(e,t){var n,r=0,i=this.length,o=[],s=Q.test(e)||"string"!=typeof e?x(e,t||this.context):0;for(;i>r;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){n=o.push(n);break}return this.pushStack(o.length>1?x.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(x(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?x(e,t):x.makeArray(e&&e.nodeType?[e]:e),r=x.merge(this.get(),n);return this.pushStack(x.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}});function Z(e,t){while((e=e[t])&&1!==e.nodeType);return e}x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x.dir(e,"parentNode")},parentsUntil:function(e,t,n){return x.dir(e,"parentNode",n)},next:function(e){return Z(e,"nextSibling")},prev:function(e){return Z(e,"previousSibling")},nextAll:function(e){return x.dir(e,"nextSibling")},prevAll:function(e){return x.dir(e,"previousSibling")},nextUntil:function(e,t,n){return x.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return x.dir(e,"previousSibling",n)},siblings:function(e){return x.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return x.sibling(e.firstChild)},contents:function(e){return e.contentDocument||x.merge([],e.childNodes)}},function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(K[e]||x.unique(i),J.test(e)&&i.reverse()),this.pushStack(i)}}),x.extend({filter:function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&x(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function et(e,t,n){if(x.isFunction(t))return x.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return x.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(G.test(t))return x.filter(t,e,n);t=x.filter(t,e)}return x.grep(e,function(e){return g.call(t,e)>=0!==n})}var tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,nt=/<([\\w:]+)/,rt=/<|&#?\\w+;/,it=/<(?:script|style|link)/i,ot=/^(?:checkbox|radio)$/i,st=/checked\\s*(?:[^=]|=\\s*.checked.)/i,at=/^$|\\/(?:java|ecma)script/i,ut=/^true\\/(.*)/,lt=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,ct={option:[1,"<select multiple=\'multiple\'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ct.optgroup=ct.option,ct.tbody=ct.tfoot=ct.colgroup=ct.caption=ct.thead,ct.th=ct.td,x.fn.extend({text:function(e){return x.access(this,function(e){return e===undefined?x.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=pt(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?x.filter(e,this):this,i=0;for(;null!=(n=r[i]);i++)t||1!==n.nodeType||x.cleanData(mt(n)),n.parentNode&&(t&&x.contains(n.ownerDocument,n)&&dt(mt(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(mt(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return x.clone(this,e,t)})},html:function(e){return x.access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!it.test(e)&&!ct[(nt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(tt,"<$1></$2>");try{for(;r>n;n++)t=this[n]||{},1===t.nodeType&&(x.cleanData(mt(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=x.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(n){var r=e[t++],i=e[t++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),x(this).remove(),i.insertBefore(n,r))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=f.apply([],e);var r,i,o,s,a,u,l=0,c=this.length,p=this,h=c-1,d=e[0],g=x.isFunction(d);if(g||!(1>=c||"string"!=typeof d||x.support.checkClone)&&st.test(d))return this.each(function(r){var i=p.eq(r);g&&(e[0]=d.call(this,r,i.html())),i.domManip(e,t,n)});if(c&&(r=x.buildFragment(e,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(o=x.map(mt(r,"script"),ft),s=o.length;c>l;l++)a=r,l!==h&&(a=x.clone(a,!0,!0),s&&x.merge(o,mt(a,"script"))),t.call(this[l],a,l);if(s)for(u=o[o.length-1].ownerDocument,x.map(o,ht),l=0;s>l;l++)a=o[l],at.test(a.type||"")&&!q.access(a,"globalEval")&&x.contains(u,a)&&(a.src?x._evalUrl(a.src):x.globalEval(a.textContent.replace(lt,"")))}return this}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){x.fn[e]=function(e){var n,r=[],i=x(e),o=i.length-1,s=0;for(;o>=s;s++)n=s===o?this:this.clone(!0),x(i[s])[t](n),h.apply(r,n.get());return this.pushStack(r)}}),x.extend({clone:function(e,t,n){var r,i,o,s,a=e.cloneNode(!0),u=x.contains(e.ownerDocument,e);if(!(x.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=mt(a),o=mt(e),r=0,i=o.length;i>r;r++)yt(o[r],s[r]);if(t)if(n)for(o=o||mt(e),s=s||mt(a),r=0,i=o.length;i>r;r++)gt(o[r],s[r]);else gt(e,a);return s=mt(a,"script"),s.length>0&&dt(s,!u&&mt(e,"script")),a},buildFragment:function(e,t,n,r){var i,o,s,a,u,l,c=0,p=e.length,f=t.createDocumentFragment(),h=[];for(;p>c;c++)if(i=e[c],i||0===i)if("object"===x.type(i))x.merge(h,i.nodeType?[i]:i);else if(rt.test(i)){o=o||f.appendChild(t.createElement("div")),s=(nt.exec(i)||["",""])[1].toLowerCase(),a=ct[s]||ct._default,o.innerHTML=a[1]+i.replace(tt,"<$1></$2>")+a[2],l=a[0];while(l--)o=o.lastChild;x.merge(h,o.childNodes),o=f.firstChild,o.textContent=""}else h.push(t.createTextNode(i));f.textContent="",c=0;while(i=h[c++])if((!r||-1===x.inArray(i,r))&&(u=x.contains(i.ownerDocument,i),o=mt(f.appendChild(i),"script"),u&&dt(o),n)){l=0;while(i=o[l++])at.test(i.type||"")&&n.push(i)}return f},cleanData:function(e){var t,n,r,i,o,s,a=x.event.special,u=0;for(;(n=e[u])!==undefined;u++){if(F.accepts(n)&&(o=n[q.expando],o&&(t=q.cache[o]))){if(r=Object.keys(t.events||{}),r.length)for(s=0;(i=r[s])!==undefined;s++)a[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);q.cache[o]&&delete q.cache[o]}delete L.cache[n[L.expando]]}},_evalUrl:function(e){return x.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}});function pt(e,t){return x.nodeName(e,"table")&&x.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ht(e){var t=ut.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function dt(e,t){var n=e.length,r=0;for(;n>r;r++)q.set(e[r],"globalEval",!t||q.get(t[r],"globalEval"))}function gt(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(q.hasData(e)&&(o=q.access(e),s=q.set(t,o),l=o.events)){delete s.handle,s.events={};for(i in l)for(n=0,r=l[i].length;r>n;n++)x.event.add(t,i,l[i][n])}L.hasData(e)&&(a=L.access(e),u=x.extend({},a),L.set(t,u))}}function mt(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&x.nodeName(e,t)?x.merge([e],n):n}function yt(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ot.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}x.fn.extend({wrapAll:function(e){var t;return x.isFunction(e)?this.each(function(t){x(this).wrapAll(e.call(this,t))}):(this[0]&&(t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return x.isFunction(e)?this.each(function(t){x(this).wrapInner(e.call(this,t))}):this.each(function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=x.isFunction(e);return this.each(function(n){x(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){x.nodeName(this,"body")||x(this).replaceWith(this.childNodes)}).end()}});var vt,xt,bt=/^(none|table(?!-c[ea]).+)/,wt=/^margin/,Tt=RegExp("^("+b+")(.*)$","i"),Ct=RegExp("^("+b+")(?!px)[a-z%]+$","i"),kt=RegExp("^([+-])=("+b+")","i"),Nt={BODY:"block"},Et={position:"absolute",visibility:"hidden",display:"block"},St={letterSpacing:0,fontWeight:400},jt=["Top","Right","Bottom","Left"],Dt=["Webkit","O","Moz","ms"];function At(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Dt.length;while(i--)if(t=Dt[i]+n,t in e)return t;return r}function Lt(e,t){return e=t||e,"none"===x.css(e,"display")||!x.contains(e.ownerDocument,e)}function qt(t){return e.getComputedStyle(t,null)}function Ht(e,t){var n,r,i,o=[],s=0,a=e.length;for(;a>s;s++)r=e[s],r.style&&(o[s]=q.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&Lt(r)&&(o[s]=q.access(r,"olddisplay",Rt(r.nodeName)))):o[s]||(i=Lt(r),(n&&"none"!==n||!i)&&q.set(r,"olddisplay",i?n:x.css(r,"display"))));for(s=0;a>s;s++)r=e[s],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}x.fn.extend({css:function(e,t){return x.access(this,function(e,t,n){var r,i,o={},s=0;if(x.isArray(t)){for(r=qt(e),i=t.length;i>s;s++)o[t[s]]=x.css(e,t[s],!1,r);return o}return n!==undefined?x.style(e,t,n):x.css(e,t)},e,t,arguments.length>1)},show:function(){return Ht(this,!0)},hide:function(){return Ht(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Lt(this)?x(this).show():x(this).hide()})}}),x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=vt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=x.camelCase(t),u=e.style;return t=x.cssProps[a]||(x.cssProps[a]=At(u,a)),s=x.cssHooks[t]||x.cssHooks[a],n===undefined?s&&"get"in s&&(i=s.get(e,!1,r))!==undefined?i:u[t]:(o=typeof n,"string"===o&&(i=kt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(x.css(e,t)),o="number"),null==n||"number"===o&&isNaN(n)||("number"!==o||x.cssNumber[a]||(n+="px"),x.support.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&(n=s.set(e,n,r))===undefined||(u[t]=n)),undefined)}},css:function(e,t,n,r){var i,o,s,a=x.camelCase(t);return t=x.cssProps[a]||(x.cssProps[a]=At(e.style,a)),s=x.cssHooks[t]||x.cssHooks[a],s&&"get"in s&&(i=s.get(e,!0,n)),i===undefined&&(i=vt(e,t,r)),"normal"===i&&t in St&&(i=St[t]),""===n||n?(o=parseFloat(i),n===!0||x.isNumeric(o)?o||0:i):i}}),vt=function(e,t,n){var r,i,o,s=n||qt(e),a=s?s.getPropertyValue(t)||s[t]:undefined,u=e.style;return s&&(""!==a||x.contains(e.ownerDocument,e)||(a=x.style(e,t)),Ct.test(a)&&wt.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=s.width,u.width=r,u.minWidth=i,u.maxWidth=o)),a};function Ot(e,t,n){var r=Tt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ft(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;for(;4>o;o+=2)"margin"===n&&(s+=x.css(e,n+jt[o],!0,i)),r?("content"===n&&(s-=x.css(e,"padding"+jt[o],!0,i)),"margin"!==n&&(s-=x.css(e,"border"+jt[o]+"Width",!0,i))):(s+=x.css(e,"padding"+jt[o],!0,i),"padding"!==n&&(s+=x.css(e,"border"+jt[o]+"Width",!0,i)));return s}function Pt(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=qt(e),s=x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=vt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Ct.test(i))return i;r=s&&(x.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+Ft(e,t,n||(s?"border":"content"),r,o)+"px"}function Rt(e){var t=o,n=Nt[e];return n||(n=Mt(e,t),"none"!==n&&n||(xt=(xt||x("<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(xt[0].contentWindow||xt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=Mt(e,t),xt.detach()),Nt[e]=n),n}function Mt(e,t){var n=x(t.createElement(e)).appendTo(t.body),r=x.css(n[0],"display");return n.remove(),r}x.each(["height","width"],function(e,t){x.cssHooks[t]={get:function(e,n,r){return n?0===e.offsetWidth&&bt.test(x.css(e,"display"))?x.swap(e,Et,function(){return Pt(e,t,r)}):Pt(e,t,r):undefined},set:function(e,n,r){var i=r&&qt(e);return Ot(e,n,r?Ft(e,t,r,x.support.boxSizing&&"border-box"===x.css(e,"boxSizing",!1,i),i):0)}}}),x(function(){x.support.reliableMarginRight||(x.cssHooks.marginRight={get:function(e,t){return t?x.swap(e,{display:"inline-block"},vt,[e,"marginRight"]):undefined}}),!x.support.pixelPosition&&x.fn.position&&x.each(["top","left"],function(e,t){x.cssHooks[t]={get:function(e,n){return n?(n=vt(e,t),Ct.test(n)?x(e).position()[t]+"px":n):undefined}}})}),x.expr&&x.expr.filters&&(x.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight},x.expr.filters.visible=function(e){return!x.expr.filters.hidden(e)}),x.each({margin:"",padding:"",border:"Width"},function(e,t){x.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+jt[r]+t]=o[r]||o[r-2]||o[0];return i}},wt.test(e)||(x.cssHooks[e+t].set=Ot)});var Wt=/%20/g,$t=/\\[\\]$/,Bt=/\\r?\\n/g,It=/^(?:submit|button|image|reset|file)$/i,zt=/^(?:input|select|textarea|keygen)/i;x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&zt.test(this.nodeName)&&!It.test(e)&&(this.checked||!ot.test(e))}).map(function(e,t){var n=x(this).val();return null==n?null:x.isArray(n)?x.map(n,function(e){return{name:t.name,value:e.replace(Bt,"\\r\\n")}}):{name:t.name,value:n.replace(Bt,"\\r\\n")}}).get()}}),x.param=function(e,t){var n,r=[],i=function(e,t){t=x.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined&&(t=x.ajaxSettings&&x.ajaxSettings.traditional),x.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,function(){i(this.name,this.value)});else for(n in e)_t(n,e[n],t,i);return r.join("&").replace(Wt,"+")};function _t(e,t,n,r){var i;if(x.isArray(t))x.each(t,function(t,i){n||$t.test(e)?r(e,i):_t(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==x.type(t))r(e,t);else for(i in t)_t(e+"["+i+"]",t[i],n,r)}x.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)\n},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Xt,Ut,Yt=x.now(),Vt=/\\?/,Gt=/#.*$/,Jt=/([?&])_=[^&]*/,Qt=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,Kt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Zt=/^(?:GET|HEAD)$/,en=/^\\/\\//,tn=/^([\\w.+-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,nn=x.fn.load,rn={},on={},sn="*/".concat("*");try{Ut=i.href}catch(an){Ut=o.createElement("a"),Ut.href="",Ut=Ut.href}Xt=tn.exec(Ut.toLowerCase())||[];function un(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(x.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ln(e,t,n,r){var i={},o=e===on;function s(a){var u;return i[a]=!0,x.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):undefined:(t.dataTypes.unshift(l),s(l),!1)}),u}return s(t.dataTypes[0])||!i["*"]&&s("*")}function cn(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}x.fn.load=function(e,t,n){if("string"!=typeof e&&nn)return nn.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>=0&&(r=e.slice(a),e=e.slice(0,a)),x.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(i="POST"),s.length>0&&x.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){s.each(n,o||[e.responseText,t,e])}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){x.fn[t]=function(e){return this.on(t,e)}}),x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut,type:"GET",isLocal:Kt.test(Xt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":sn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":x.parseJSON,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?cn(cn(e,x.ajaxSettings),t):cn(x.ajaxSettings,e)},ajaxPrefilter:un(rn),ajaxTransport:un(on),ajax:function(e,t){"object"==typeof e&&(t=e,e=undefined),t=t||{};var n,r,i,o,s,a,u,l,c=x.ajaxSetup({},t),p=c.context||c,f=c.context&&(p.nodeType||p.jquery)?x(p):x.event,h=x.Deferred(),d=x.Callbacks("once memory"),g=c.statusCode||{},m={},y={},v=0,b="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(2===v){if(!o){o={};while(t=Qt.exec(i))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===v?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return v||(e=y[n]=y[n]||e,m[e]=t),this},overrideMimeType:function(e){return v||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>v)for(t in e)g[t]=[g[t],e[t]];else T.always(e[T.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),k(0,t),this}};if(h.promise(T).complete=d.add,T.success=T.done,T.error=T.fail,c.url=((e||c.url||Ut)+"").replace(Gt,"").replace(en,Xt[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=x.trim(c.dataType||"*").toLowerCase().match(w)||[""],null==c.crossDomain&&(a=tn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===Xt[1]&&a[2]===Xt[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Xt[3]||("http:"===Xt[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=x.param(c.data,c.traditional)),ln(rn,c,t,T),2===v)return T;u=c.global,u&&0===x.active++&&x.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!Zt.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(Vt.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=Jt.test(r)?r.replace(Jt,"$1_="+Yt++):r+(Vt.test(r)?"&":"?")+"_="+Yt++)),c.ifModified&&(x.lastModified[r]&&T.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&T.setRequestHeader("If-None-Match",x.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&T.setRequestHeader("Content-Type",c.contentType),T.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+sn+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)T.setRequestHeader(l,c.headers[l]);if(c.beforeSend&&(c.beforeSend.call(p,T,c)===!1||2===v))return T.abort();b="abort";for(l in{success:1,error:1,complete:1})T[l](c[l]);if(n=ln(on,c,t,T)){T.readyState=1,u&&f.trigger("ajaxSend",[T,c]),c.async&&c.timeout>0&&(s=setTimeout(function(){T.abort("timeout")},c.timeout));try{v=1,n.send(m,k)}catch(C){if(!(2>v))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,t,o,a){var l,m,y,b,w,C=t;2!==v&&(v=2,s&&clearTimeout(s),n=undefined,i=a||"",T.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(b=pn(c,T,o)),b=fn(c,b,T,l),l?(c.ifModified&&(w=T.getResponseHeader("Last-Modified"),w&&(x.lastModified[r]=w),w=T.getResponseHeader("etag"),w&&(x.etag[r]=w)),204===e||"HEAD"===c.type?C="nocontent":304===e?C="notmodified":(C=b.state,m=b.data,y=b.error,l=!y)):(y=C,(e||!C)&&(C="error",0>e&&(e=0))),T.status=e,T.statusText=(t||C)+"",l?h.resolveWith(p,[m,C,T]):h.rejectWith(p,[T,C,y]),T.statusCode(g),g=undefined,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[T,c,l?m:y]),d.fireWith(p,[T,C]),u&&(f.trigger("ajaxComplete",[T,c]),--x.active||x.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,undefined,t,"script")}}),x.each(["get","post"],function(e,t){x[t]=function(e,n,r,i){return x.isFunction(n)&&(i=i||r,r=n,n=undefined),x.ajax({url:e,type:t,dataType:i,data:n,success:r})}});function pn(e,t,n){var r,i,o,s,a=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):undefined}function fn(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=l[u+" "+o]||l["* "+o],!s)for(i in l)if(a=i.split(" "),a[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[i]:l[i]!==!0&&(o=a[0],c.unshift(a[1]));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(p){return{state:"parsererror",error:s?p:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),x.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=x("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),o.head.appendChild(t[0])},abort:function(){n&&n()}}}});var hn=[],dn=/(=)\\?(?=&|$)|\\?\\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=hn.pop()||x.expando+"_"+Yt++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=t.jsonp!==!1&&(dn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&dn.test(t.data)&&"data");return a||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=x.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(dn,"$1"+i):t.jsonp!==!1&&(t.url+=(Vt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||x.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,hn.push(i)),s&&x.isFunction(o)&&o(s[0]),s=o=undefined}),"script"):undefined}),x.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var gn=x.ajaxSettings.xhr(),mn={0:200,1223:204},yn=0,vn={};e.ActiveXObject&&x(e).on("unload",function(){for(var e in vn)vn[e]();vn=undefined}),x.support.cors=!!gn&&"withCredentials"in gn,x.support.ajax=gn=!!gn,x.ajaxTransport(function(e){var t;return x.support.cors||gn&&!e.crossDomain?{send:function(n,r){var i,o,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete vn[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status||404,s.statusText):r(mn[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=vn[o=yn++]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}:undefined});var xn,bn,wn=/^(?:toggle|show|hide)$/,Tn=RegExp("^(?:([+-])=|)("+b+")([a-z%]*)$","i"),Cn=/queueHooks$/,kn=[An],Nn={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Tn.exec(t),o=i&&i[3]||(x.cssNumber[e]?"":"px"),s=(x.cssNumber[e]||"px"!==o&&+r)&&Tn.exec(x.css(n.elem,e)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,x.style(n.elem,e,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};function En(){return setTimeout(function(){xn=undefined}),xn=x.now()}function Sn(e,t,n){var r,i=(Nn[t]||[]).concat(Nn["*"]),o=0,s=i.length;for(;s>o;o++)if(r=i[o].call(n,t,e))return r}function jn(e,t,n){var r,i,o=0,s=kn.length,a=x.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=xn||En(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,s=0,u=l.tweens.length;for(;u>s;s++)l.tweens[s].run(o);return a.notifyWith(e,[l,o,n]),1>o&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:xn||En(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(Dn(c,l.opts.specialEasing);s>o;o++)if(r=kn[o].call(l,e,c,l.opts))return r;return x.map(c,Sn,l),x.isFunction(l.opts.start)&&l.opts.start.call(e,l),x.fx.timer(x.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function Dn(e,t){var n,r,i,o,s;for(n in e)if(r=x.camelCase(n),i=t[r],o=e[n],x.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),s=x.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}x.Animation=x.extend(jn,{tweener:function(e,t){x.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Nn[n]=Nn[n]||[],Nn[n].unshift(t)},prefilter:function(e,t){t?kn.unshift(e):kn.push(e)}});function An(e,t,n){var r,i,o,s,a,u,l=this,c={},p=e.style,f=e.nodeType&&Lt(e),h=q.get(e,"fxshow");n.queue||(a=x._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,l.always(function(){l.always(function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===x.css(e,"display")&&"none"===x.css(e,"float")&&(p.display="inline-block")),n.overflow&&(p.overflow="hidden",l.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],wn.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(f?"hide":"show")){if("show"!==i||!h||h[r]===undefined)continue;f=!0}c[r]=h&&h[r]||x.style(e,r)}if(!x.isEmptyObject(c)){h?"hidden"in h&&(f=h.hidden):h=q.access(e,"fxshow",{}),o&&(h.hidden=!f),f?x(e).show():l.done(function(){x(e).hide()}),l.done(function(){var t;q.remove(e,"fxshow");for(t in c)x.style(e,t,c[t])});for(r in c)s=Sn(f?h[r]:0,r,l),r in h||(h[r]=s.start,f&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function Ln(e,t,n,r,i){return new Ln.prototype.init(e,t,n,r,i)}x.Tween=Ln,Ln.prototype={constructor:Ln,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=Ln.propHooks[this.prop];return e&&e.get?e.get(this):Ln.propHooks._default.get(this)},run:function(e){var t,n=Ln.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ln.propHooks._default.set(this),this}},Ln.prototype.init.prototype=Ln.prototype,Ln.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=x.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[x.cssProps[e.prop]]||x.cssHooks[e.prop])?x.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ln.propHooks.scrollTop=Ln.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.each(["toggle","show","hide"],function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(qn(t,!0),e,r,i)}}),x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Lt).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),s=function(){var t=jn(this,x.extend({},e),o);(i||q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=x.timers,s=q.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&Cn.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));(t||!n)&&x.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=q.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,s=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;s>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function qn(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=jt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}x.each({slideDown:qn("show"),slideUp:qn("hide"),slideToggle:qn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||x.isFunction(e)&&e,duration:e,easing:n&&t||t&&!x.isFunction(t)&&t};return r.duration=x.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in x.fx.speeds?x.fx.speeds[r.duration]:x.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){x.isFunction(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},x.timers=[],x.fx=Ln.prototype.init,x.fx.tick=function(){var e,t=x.timers,n=0;for(xn=x.now();t.length>n;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||x.fx.stop(),xn=undefined},x.fx.timer=function(e){e()&&x.timers.push(e)&&x.fx.start()},x.fx.interval=13,x.fx.start=function(){bn||(bn=setInterval(x.fx.tick,x.fx.interval))},x.fx.stop=function(){clearInterval(bn),bn=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fx.step={},x.expr&&x.expr.filters&&(x.expr.filters.animated=function(e){return x.grep(x.timers,function(t){return e===t.elem}).length}),x.fn.offset=function(e){if(arguments.length)return e===undefined?this:this.each(function(t){x.offset.setOffset(this,e,t)});var t,n,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;if(s)return t=s.documentElement,x.contains(t,i)?(typeof i.getBoundingClientRect!==r&&(o=i.getBoundingClientRect()),n=Hn(s),{top:o.top+n.pageYOffset-t.clientTop,left:o.left+n.pageXOffset-t.clientLeft}):o},x.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l,c=x.css(e,"position"),p=x(e),f={};"static"===c&&(e.style.position="relative"),a=p.offset(),o=x.css(e,"top"),u=x.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=p.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),x.isFunction(t)&&(t=t.call(e,n,a)),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using"in t?t.using.call(e,f):p.css(f)}},x.fn.extend({position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===x.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),x.nodeName(e[0],"html")||(r=e.offset()),r.top+=x.css(e[0],"borderTopWidth",!0),r.left+=x.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-x.css(n,"marginTop",!0),left:t.left-r.left-x.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||s;while(e&&!x.nodeName(e,"html")&&"static"===x.css(e,"position"))e=e.offsetParent;return e||s})}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;x.fn[t]=function(i){return x.access(this,function(t,i,o){var s=Hn(t);return o===undefined?s?s[n]:t[i]:(s?s.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o,undefined)},t,i,arguments.length,null)}});function Hn(e){return x.isWindow(e)?e:9===e.nodeType&&e.defaultView}x.each({Height:"height",Width:"width"},function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){x.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return x.access(this,function(t,n,r){var i;return x.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?x.css(t,n,s):x.style(t,n,r,s)},t,o?r:undefined,o,null)}})}),x.fn.size=function(){return this.length},x.fn.andSelf=x.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=x:"function"==typeof define&&define.amd&&define("jquery",[],function(){return x}),"object"==typeof e&&"object"==typeof e.document&&(e.jQuery=e.$=x)})(window);\n\n\n//@filename {Foo} fileName ./html/lib/marked/marked.js\n\n/**\n * marked - a markdown parser\n * Copyright (c) 2011-2014, Christopher Jeffrey. (MIT Licensed)\n * https://github.com/chjj/marked\n */\n\n;(function() {\n\n/**\n * Block-Level Grammar\n */\n\nvar block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: noop,\n  hr: /^( *[-*_]){3,} *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,\n  nptable: noop,\n  lheading: /^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,\n  blockquote: /^( *>[^\\n]+(\\n(?!def)[^\\n]+)*\\n*)+/,\n  list: /^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: /^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +["(]([^\\n]+)[")])? *(?:\\n+|$)/,\n  table: noop,\n  paragraph: /^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,\n  text: /^[^\\n]+/\n};\n\nblock.bullet = /(?:[*+-]|\\d+\\.)/;\nblock.item = /^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/;\nblock.item = replace(block.item, \'gm\')\n  (/bull/g, block.bullet)\n  ();\n\nblock.list = replace(block.list)\n  (/bull/g, block.bullet)\n  (\'hr\', \'\\\\n+(?=\\\\1?(?:[-*_] *){3,}(?:\\\\n+|$))\')\n  (\'def\', \'\\\\n+(?=\' + block.def.source + \')\')\n  ();\n\nblock.blockquote = replace(block.blockquote)\n  (\'def\', block.def)\n  ();\n\nblock._tag = \'(?!(?:\'\n  + \'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code\'\n  + \'|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo\'\n  + \'|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|[^\\\\w\\\\s@]*@)\\\\b\';\n\nblock.html = replace(block.html)\n  (\'comment\', /\x3c!--[\\s\\S]*?--\x3e/)\n  (\'closed\', /<(tag)[\\s\\S]+?<\\/\\1>/)\n  (\'closing\', /<tag(?:"[^"]*"|\'[^\']*\'|[^\'">])*?>/)\n  (/tag/g, block._tag)\n  ();\n\nblock.paragraph = replace(block.paragraph)\n  (\'hr\', block.hr)\n  (\'heading\', block.heading)\n  (\'lheading\', block.lheading)\n  (\'blockquote\', block.blockquote)\n  (\'tag\', \'<\' + block._tag)\n  (\'def\', block.def)\n  ();\n\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  fences: /^ *(`{3,}|~{3,}) *(\\S+)? *\\n([\\s\\S]+?)\\s*\\1 *(?:\\n+|$)/,\n  paragraph: /^/\n});\n\nblock.gfm.paragraph = replace(block.paragraph)\n  (\'(?!\', \'(?!\'\n    + block.gfm.fences.source.replace(\'\\\\1\', \'\\\\2\') + \'|\'\n    + block.list.source.replace(\'\\\\1\', \'\\\\3\') + \'|\')\n  ();\n\n/**\n * GFM + Tables Block Grammar\n */\n\nblock.tables = merge({}, block.gfm, {\n  nptable: /^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,\n  table: /^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/\n});\n\n/**\n * Block Lexer\n */\n\nfunction Lexer(options) {\n  this.tokens = [];\n  this.tokens.links = {};\n  this.options = options || marked.defaults;\n  this.rules = block.normal;\n\n  if (this.options.gfm) {\n    if (this.options.tables) {\n      this.rules = block.tables;\n    } else {\n      this.rules = block.gfm;\n    }\n  }\n}\n\n/**\n * Expose Block Rules\n */\n\nLexer.rules = block;\n\n/**\n * Static Lex Method\n */\n\nLexer.lex = function(src, options) {\n  var lexer = new Lexer(options);\n  return lexer.lex(src);\n};\n\n/**\n * Preprocessing\n */\n\nLexer.prototype.lex = function(src) {\n  src = src\n    .replace(/\\r\\n|\\r/g, \'\\n\')\n    .replace(/\\t/g, \'    \')\n    .replace(/\\u00a0/g, \' \')\n    .replace(/\\u2424/g, \'\\n\');\n\n  return this.token(src, true);\n};\n\n/**\n * Lexing\n */\n\nLexer.prototype.token = function(src, top, bq) {\n  var src = src.replace(/^ +$/gm, \'\')\n    , next\n    , loose\n    , cap\n    , bull\n    , b\n    , item\n    , space\n    , i\n    , l;\n\n  while (src) {\n    // newline\n    if (cap = this.rules.newline.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[0].length > 1) {\n        this.tokens.push({\n          type: \'space\'\n        });\n      }\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      cap = cap[0].replace(/^ {4}/gm, \'\');\n      this.tokens.push({\n        type: \'code\',\n        text: !this.options.pedantic\n          ? cap.replace(/\\n+$/, \'\')\n          : cap\n      });\n      continue;\n    }\n\n    // fences (gfm)\n    if (cap = this.rules.fences.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: \'code\',\n        lang: cap[2],\n        text: cap[3]\n      });\n      continue;\n    }\n\n    // heading\n    if (cap = this.rules.heading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: \'heading\',\n        depth: cap[1].length,\n        text: cap[2]\n      });\n      continue;\n    }\n\n    // table no leading pipe (gfm)\n    if (top && (cap = this.rules.nptable.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: \'table\',\n        header: cap[1].replace(/^ *| *\\| *$/g, \'\').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, \'\').split(/ *\\| */),\n        cells: cap[3].replace(/\\n$/, \'\').split(\'\\n\')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = \'right\';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = \'center\';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = \'left\';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i].split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // lheading\n    if (cap = this.rules.lheading.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: \'heading\',\n        depth: cap[2] === \'=\' ? 1 : 2,\n        text: cap[1]\n      });\n      continue;\n    }\n\n    // hr\n    if (cap = this.rules.hr.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: \'hr\'\n      });\n      continue;\n    }\n\n    // blockquote\n    if (cap = this.rules.blockquote.exec(src)) {\n      src = src.substring(cap[0].length);\n\n      this.tokens.push({\n        type: \'blockquote_start\'\n      });\n\n      cap = cap[0].replace(/^ *> ?/gm, \'\');\n\n      // Pass `top` to keep the current\n      // "toplevel" state. This is exactly\n      // how markdown.pl works.\n      this.token(cap, top, true);\n\n      this.tokens.push({\n        type: \'blockquote_end\'\n      });\n\n      continue;\n    }\n\n    // list\n    if (cap = this.rules.list.exec(src)) {\n      src = src.substring(cap[0].length);\n      bull = cap[2];\n\n      this.tokens.push({\n        type: \'list_start\',\n        ordered: bull.length > 1\n      });\n\n      // Get each top-level item.\n      cap = cap[0].match(this.rules.item);\n\n      next = false;\n      l = cap.length;\n      i = 0;\n\n      for (; i < l; i++) {\n        item = cap[i];\n\n        // Remove the list item\'s bullet\n        // so it is seen as the next token.\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) +/, \'\');\n\n        // Outdent whatever the\n        // list item contains. Hacky.\n        if (~item.indexOf(\'\\n \')) {\n          space -= item.length;\n          item = !this.options.pedantic\n            ? item.replace(new RegExp(\'^ {1,\' + space + \'}\', \'gm\'), \'\')\n            : item.replace(/^ {1,4}/gm, \'\');\n        }\n\n        // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n        if (this.options.smartLists && i !== l - 1) {\n          b = block.bullet.exec(cap[i + 1])[0];\n          if (bull !== b && !(bull.length > 1 && b.length > 1)) {\n            src = cap.slice(i + 1).join(\'\\n\') + src;\n            i = l - 1;\n          }\n        }\n\n        // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === \'\\n\';\n          if (!loose) loose = next;\n        }\n\n        this.tokens.push({\n          type: loose\n            ? \'loose_item_start\'\n            : \'list_item_start\'\n        });\n\n        // Recurse.\n        this.token(item, false, bq);\n\n        this.tokens.push({\n          type: \'list_item_end\'\n        });\n      }\n\n      this.tokens.push({\n        type: \'list_end\'\n      });\n\n      continue;\n    }\n\n    // html\n    if (cap = this.rules.html.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: this.options.sanitize\n          ? \'paragraph\'\n          : \'html\',\n        pre: cap[1] === \'pre\' || cap[1] === \'script\' || cap[1] === \'style\',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    // def\n    if ((!bq && top) && (cap = this.rules.def.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.links[cap[1].toLowerCase()] = {\n        href: cap[2],\n        title: cap[3]\n      };\n      continue;\n    }\n\n    // table (gfm)\n    if (top && (cap = this.rules.table.exec(src))) {\n      src = src.substring(cap[0].length);\n\n      item = {\n        type: \'table\',\n        header: cap[1].replace(/^ *| *\\| *$/g, \'\').split(/ *\\| */),\n        align: cap[2].replace(/^ *|\\| *$/g, \'\').split(/ *\\| */),\n        cells: cap[3].replace(/(?: *\\| *)?\\n$/, \'\').split(\'\\n\')\n      };\n\n      for (i = 0; i < item.align.length; i++) {\n        if (/^ *-+: *$/.test(item.align[i])) {\n          item.align[i] = \'right\';\n        } else if (/^ *:-+: *$/.test(item.align[i])) {\n          item.align[i] = \'center\';\n        } else if (/^ *:-+ *$/.test(item.align[i])) {\n          item.align[i] = \'left\';\n        } else {\n          item.align[i] = null;\n        }\n      }\n\n      for (i = 0; i < item.cells.length; i++) {\n        item.cells[i] = item.cells[i]\n          .replace(/^ *\\| *| *\\| *$/g, \'\')\n          .split(/ *\\| */);\n      }\n\n      this.tokens.push(item);\n\n      continue;\n    }\n\n    // top-level paragraph\n    if (top && (cap = this.rules.paragraph.exec(src))) {\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: \'paragraph\',\n        text: cap[1].charAt(cap[1].length - 1) === \'\\n\'\n          ? cap[1].slice(0, -1)\n          : cap[1]\n      });\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      // Top-level should never reach here.\n      src = src.substring(cap[0].length);\n      this.tokens.push({\n        type: \'text\',\n        text: cap[0]\n      });\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error(\'Infinite loop on byte: \' + src.charCodeAt(0));\n    }\n  }\n\n  return this.tokens;\n};\n\n/**\n * Inline-Level Grammar\n */\n\nvar inline = {\n  escape: /^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,\n  autolink: /^<([^ >]+(@|:\\/)[^ >]+)>/,\n  url: noop,\n  tag: /^\x3c!--[\\s\\S]*?--\x3e|^<\\/?\\w+(?:"[^"]*"|\'[^\']*\'|[^\'">])*?>/,\n  link: /^!?\\[(inside)\\]\\(href\\)/,\n  reflink: /^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,\n  nolink: /^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,\n  strong: /^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,\n  em: /^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,\n  code: /^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,\n  br: /^ {2,}\\n(?!\\s*$)/,\n  del: noop,\n  text: /^[\\s\\S]+?(?=[\\\\<!\\[_*`]| {2,}\\n|$)/\n};\n\ninline._inside = /(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/;\ninline._href = /\\s*<?([\\s\\S]*?)>?(?:\\s+[\'"]([\\s\\S]*?)[\'"])?\\s*/;\n\ninline.link = replace(inline.link)\n  (\'inside\', inline._inside)\n  (\'href\', inline._href)\n  ();\n\ninline.reflink = replace(inline.reflink)\n  (\'inside\', inline._inside)\n  ();\n\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/\n});\n\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: replace(inline.escape)(\'])\', \'~|])\')(),\n  url: /^(https?:\\/\\/[^\\s<]+[^<.,:;"\')\\]\\s])/,\n  del: /^~~(?=\\S)([\\s\\S]*?\\S)~~/,\n  text: replace(inline.text)\n    (\']|\', \'~]|\')\n    (\'|\', \'|https?://|\')\n    ()\n});\n\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: replace(inline.br)(\'{2,}\', \'*\')(),\n  text: replace(inline.gfm.text)(\'{2,}\', \'*\')()\n});\n\n/**\n * Inline Lexer & Compiler\n */\n\nfunction InlineLexer(links, options) {\n  this.options = options || marked.defaults;\n  this.links = links;\n  this.rules = inline.normal;\n  this.renderer = this.options.renderer || new Renderer;\n  this.renderer.options = this.options;\n\n  if (!this.links) {\n    throw new\n      Error(\'Tokens array requires a `links` property.\');\n  }\n\n  if (this.options.gfm) {\n    if (this.options.breaks) {\n      this.rules = inline.breaks;\n    } else {\n      this.rules = inline.gfm;\n    }\n  } else if (this.options.pedantic) {\n    this.rules = inline.pedantic;\n  }\n}\n\n/**\n * Expose Inline Rules\n */\n\nInlineLexer.rules = inline;\n\n/**\n * Static Lexing/Compiling Method\n */\n\nInlineLexer.output = function(src, links, options) {\n  var inline = new InlineLexer(links, options);\n  return inline.output(src);\n};\n\n/**\n * Lexing/Compiling\n */\n\nInlineLexer.prototype.output = function(src) {\n  var out = \'\'\n    , link\n    , text\n    , href\n    , cap;\n\n  while (src) {\n    // escape\n    if (cap = this.rules.escape.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += cap[1];\n      continue;\n    }\n\n    // autolink\n    if (cap = this.rules.autolink.exec(src)) {\n      src = src.substring(cap[0].length);\n      if (cap[2] === \'@\') {\n        text = cap[1].charAt(6) === \':\'\n          ? this.mangle(cap[1].substring(7))\n          : this.mangle(cap[1]);\n        href = this.mangle(\'mailto:\') + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // url (gfm)\n    if (!this.inLink && (cap = this.rules.url.exec(src))) {\n      src = src.substring(cap[0].length);\n      text = escape(cap[1]);\n      href = text;\n      out += this.renderer.link(href, null, text);\n      continue;\n    }\n\n    // tag\n    if (cap = this.rules.tag.exec(src)) {\n      if (!this.inLink && /^<a /i.test(cap[0])) {\n        this.inLink = true;\n      } else if (this.inLink && /^<\\/a>/i.test(cap[0])) {\n        this.inLink = false;\n      }\n      src = src.substring(cap[0].length);\n      out += this.options.sanitize\n        ? escape(cap[0])\n        : cap[0];\n      continue;\n    }\n\n    // link\n    if (cap = this.rules.link.exec(src)) {\n      src = src.substring(cap[0].length);\n      this.inLink = true;\n      out += this.outputLink(cap, {\n        href: cap[2],\n        title: cap[3]\n      });\n      this.inLink = false;\n      continue;\n    }\n\n    // reflink, nolink\n    if ((cap = this.rules.reflink.exec(src))\n        || (cap = this.rules.nolink.exec(src))) {\n      src = src.substring(cap[0].length);\n      link = (cap[2] || cap[1]).replace(/\\s+/g, \' \');\n      link = this.links[link.toLowerCase()];\n      if (!link || !link.href) {\n        out += cap[0].charAt(0);\n        src = cap[0].substring(1) + src;\n        continue;\n      }\n      this.inLink = true;\n      out += this.outputLink(cap, link);\n      this.inLink = false;\n      continue;\n    }\n\n    // strong\n    if (cap = this.rules.strong.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.strong(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // em\n    if (cap = this.rules.em.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.em(this.output(cap[2] || cap[1]));\n      continue;\n    }\n\n    // code\n    if (cap = this.rules.code.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.codespan(escape(cap[2], true));\n      continue;\n    }\n\n    // br\n    if (cap = this.rules.br.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.br();\n      continue;\n    }\n\n    // del (gfm)\n    if (cap = this.rules.del.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += this.renderer.del(this.output(cap[1]));\n      continue;\n    }\n\n    // text\n    if (cap = this.rules.text.exec(src)) {\n      src = src.substring(cap[0].length);\n      out += escape(this.smartypants(cap[0]));\n      continue;\n    }\n\n    if (src) {\n      throw new\n        Error(\'Infinite loop on byte: \' + src.charCodeAt(0));\n    }\n  }\n\n  return out;\n};\n\n/**\n * Compile Link\n */\n\nInlineLexer.prototype.outputLink = function(cap, link) {\n  var href = escape(link.href)\n    , title = link.title ? escape(link.title) : null;\n\n  return cap[0].charAt(0) !== \'!\'\n    ? this.renderer.link(href, title, this.output(cap[1]))\n    : this.renderer.image(href, title, escape(cap[1]));\n};\n\n/**\n * Smartypants Transformations\n */\n\nInlineLexer.prototype.smartypants = function(text) {\n  if (!this.options.smartypants) return text;\n  return text\n    // em-dashes\n    .replace(/--/g, \'\\u2014\')\n    // opening singles\n    .replace(/(^|[-\\u2014/(\\[{"\\s])\'/g, \'$1\\u2018\')\n    // closing singles & apostrophes\n    .replace(/\'/g, \'\\u2019\')\n    // opening doubles\n    .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])"/g, \'$1\\u201c\')\n    // closing doubles\n    .replace(/"/g, \'\\u201d\')\n    // ellipses\n    .replace(/\\.{3}/g, \'\\u2026\');\n};\n\n/**\n * Mangle Links\n */\n\nInlineLexer.prototype.mangle = function(text) {\n  var out = \'\'\n    , l = text.length\n    , i = 0\n    , ch;\n\n  for (; i < l; i++) {\n    ch = text.charCodeAt(i);\n    if (Math.random() > 0.5) {\n      ch = \'x\' + ch.toString(16);\n    }\n    out += \'&#\' + ch + \';\';\n  }\n\n  return out;\n};\n\n/**\n * Renderer\n */\n\nfunction Renderer(options) {\n  this.options = options || {};\n}\n\nRenderer.prototype.code = function(code, lang, escaped) {\n  if (this.options.highlight) {\n    var out = this.options.highlight(code, lang);\n    if (out != null && out !== code) {\n      escaped = true;\n      code = out;\n    }\n  }\n\n  if (!lang) {\n    return \'<pre><code>\'\n      + (escaped ? code : escape(code, true))\n      + \'\\n</code></pre>\';\n  }\n\n  return \'<pre><code class="\'\n    + this.options.langPrefix\n    + escape(lang, true)\n    + \'">\'\n    + (escaped ? code : escape(code, true))\n    + \'\\n</code></pre>\\n\';\n};\n\nRenderer.prototype.blockquote = function(quote) {\n  return \'<blockquote>\\n\' + quote + \'</blockquote>\\n\';\n};\n\nRenderer.prototype.html = function(html) {\n  return html;\n};\n\nRenderer.prototype.heading = function(text, level, raw) {\n  return \'<h\'\n    + level\n    + \' id="\'\n    + this.options.headerPrefix\n    + raw.toLowerCase().replace(/[^\\w]+/g, \'-\')\n    + \'">\'\n    + text\n    + \'</h\'\n    + level\n    + \'>\\n\';\n};\n\nRenderer.prototype.hr = function() {\n  return this.options.xhtml ? \'<hr/>\\n\' : \'<hr>\\n\';\n};\n\nRenderer.prototype.list = function(body, ordered) {\n  var type = ordered ? \'ol\' : \'ul\';\n  return \'<\' + type + \'>\\n\' + body + \'</\' + type + \'>\\n\';\n};\n\nRenderer.prototype.listitem = function(text) {\n  return \'<li>\' + text + \'</li>\\n\';\n};\n\nRenderer.prototype.paragraph = function(text) {\n  return \'<p>\' + text + \'</p>\\n\';\n};\n\nRenderer.prototype.table = function(header, body) {\n  return \'<table>\\n\'\n    + \'<thead>\\n\'\n    + header\n    + \'</thead>\\n\'\n    + \'<tbody>\\n\'\n    + body\n    + \'</tbody>\\n\'\n    + \'</table>\\n\';\n};\n\nRenderer.prototype.tablerow = function(content) {\n  return \'<tr>\\n\' + content + \'</tr>\\n\';\n};\n\nRenderer.prototype.tablecell = function(content, flags) {\n  var type = flags.header ? \'th\' : \'td\';\n  var tag = flags.align\n    ? \'<\' + type + \' style="text-align:\' + flags.align + \'">\'\n    : \'<\' + type + \'>\';\n  return tag + content + \'</\' + type + \'>\\n\';\n};\n\n// span level renderer\nRenderer.prototype.strong = function(text) {\n  return \'<strong>\' + text + \'</strong>\';\n};\n\nRenderer.prototype.em = function(text) {\n  return \'<em>\' + text + \'</em>\';\n};\n\nRenderer.prototype.codespan = function(text) {\n  return \'<code>\' + text + \'</code>\';\n};\n\nRenderer.prototype.br = function() {\n  return this.options.xhtml ? \'<br/>\' : \'<br>\';\n};\n\nRenderer.prototype.del = function(text) {\n  return \'<del>\' + text + \'</del>\';\n};\n\nRenderer.prototype.link = function(href, title, text) {\n  if (this.options.sanitize) {\n    try {\n      var prot = decodeURIComponent(unescape(href))\n        .replace(/[^\\w:]/g, \'\')\n        .toLowerCase();\n    } catch (e) {\n      return \'\';\n    }\n    if (prot.indexOf(\'javascript:\') === 0) {\n      return \'\';\n    }\n  }\n  var out = \'<a href="\' + href + \'"\';\n  if (title) {\n    out += \' title="\' + title + \'"\';\n  }\n  out += \'>\' + text + \'</a>\';\n  return out;\n};\n\nRenderer.prototype.image = function(href, title, text) {\n  var out = \'<img src="\' + href + \'" alt="\' + text + \'"\';\n  if (title) {\n    out += \' title="\' + title + \'"\';\n  }\n  out += this.options.xhtml ? \'/>\' : \'>\';\n  return out;\n};\n\n/**\n * Parsing & Compiling\n */\n\nfunction Parser(options) {\n  this.tokens = [];\n  this.token = null;\n  this.options = options || marked.defaults;\n  this.options.renderer = this.options.renderer || new Renderer;\n  this.renderer = this.options.renderer;\n  this.renderer.options = this.options;\n}\n\n/**\n * Static Parse Method\n */\n\nParser.parse = function(src, options, renderer) {\n  var parser = new Parser(options, renderer);\n  return parser.parse(src);\n};\n\n/**\n * Parse Loop\n */\n\nParser.prototype.parse = function(src) {\n  this.inline = new InlineLexer(src.links, this.options, this.renderer);\n  this.tokens = src.reverse();\n\n  var out = \'\';\n  while (this.next()) {\n    out += this.tok();\n  }\n\n  return out;\n};\n\n/**\n * Next Token\n */\n\nParser.prototype.next = function() {\n  return this.token = this.tokens.pop();\n};\n\n/**\n * Preview Next Token\n */\n\nParser.prototype.peek = function() {\n  return this.tokens[this.tokens.length - 1] || 0;\n};\n\n/**\n * Parse Text Tokens\n */\n\nParser.prototype.parseText = function() {\n  var body = this.token.text;\n\n  while (this.peek().type === \'text\') {\n    body += \'\\n\' + this.next().text;\n  }\n\n  return this.inline.output(body);\n};\n\n/**\n * Parse Current Token\n */\n\nParser.prototype.tok = function() {\n  switch (this.token.type) {\n    case \'space\': {\n      return \'\';\n    }\n    case \'hr\': {\n      return this.renderer.hr();\n    }\n    case \'heading\': {\n      return this.renderer.heading(\n        this.inline.output(this.token.text),\n        this.token.depth,\n        this.token.text);\n    }\n    case \'code\': {\n      return this.renderer.code(this.token.text,\n        this.token.lang,\n        this.token.escaped);\n    }\n    case \'table\': {\n      var header = \'\'\n        , body = \'\'\n        , i\n        , row\n        , cell\n        , flags\n        , j;\n\n      // header\n      cell = \'\';\n      for (i = 0; i < this.token.header.length; i++) {\n        flags = { header: true, align: this.token.align[i] };\n        cell += this.renderer.tablecell(\n          this.inline.output(this.token.header[i]),\n          { header: true, align: this.token.align[i] }\n        );\n      }\n      header += this.renderer.tablerow(cell);\n\n      for (i = 0; i < this.token.cells.length; i++) {\n        row = this.token.cells[i];\n\n        cell = \'\';\n        for (j = 0; j < row.length; j++) {\n          cell += this.renderer.tablecell(\n            this.inline.output(row[j]),\n            { header: false, align: this.token.align[j] }\n          );\n        }\n\n        body += this.renderer.tablerow(cell);\n      }\n      return this.renderer.table(header, body);\n    }\n    case \'blockquote_start\': {\n      var body = \'\';\n\n      while (this.next().type !== \'blockquote_end\') {\n        body += this.tok();\n      }\n\n      return this.renderer.blockquote(body);\n    }\n    case \'list_start\': {\n      var body = \'\'\n        , ordered = this.token.ordered;\n\n      while (this.next().type !== \'list_end\') {\n        body += this.tok();\n      }\n\n      return this.renderer.list(body, ordered);\n    }\n    case \'list_item_start\': {\n      var body = \'\';\n\n      while (this.next().type !== \'list_item_end\') {\n        body += this.token.type === \'text\'\n          ? this.parseText()\n          : this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case \'loose_item_start\': {\n      var body = \'\';\n\n      while (this.next().type !== \'list_item_end\') {\n        body += this.tok();\n      }\n\n      return this.renderer.listitem(body);\n    }\n    case \'html\': {\n      var html = !this.token.pre && !this.options.pedantic\n        ? this.inline.output(this.token.text)\n        : this.token.text;\n      return this.renderer.html(html);\n    }\n    case \'paragraph\': {\n      return this.renderer.paragraph(this.inline.output(this.token.text));\n    }\n    case \'text\': {\n      return this.renderer.paragraph(this.parseText());\n    }\n  }\n};\n\n/**\n * Helpers\n */\n\nfunction escape(html, encode) {\n  return html\n    .replace(!encode ? /&(?!#?\\w+;)/g : /&/g, \'&amp;\')\n    .replace(/</g, \'&lt;\')\n    .replace(/>/g, \'&gt;\')\n    .replace(/"/g, \'&quot;\')\n    .replace(/\'/g, \'&#39;\');\n}\n\nfunction unescape(html) {\n  return html.replace(/&([#\\w]+);/g, function(_, n) {\n    n = n.toLowerCase();\n    if (n === \'colon\') return \':\';\n    if (n.charAt(0) === \'#\') {\n      return n.charAt(1) === \'x\'\n        ? String.fromCharCode(parseInt(n.substring(2), 16))\n        : String.fromCharCode(+n.substring(1));\n    }\n    return \'\';\n  });\n}\n\nfunction replace(regex, opt) {\n  regex = regex.source;\n  opt = opt || \'\';\n  return function self(name, val) {\n    if (!name) return new RegExp(regex, opt);\n    val = val.source || val;\n    val = val.replace(/(^|[^\\[])\\^/g, \'$1\');\n    regex = regex.replace(name, val);\n    return self;\n  };\n}\n\nfunction noop() {}\nnoop.exec = noop;\n\nfunction merge(obj) {\n  var i = 1\n    , target\n    , key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\n\n/**\n * Marked\n */\n\nfunction marked(src, opt, callback) {\n  if (callback || typeof opt === \'function\') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n\n    var highlight = opt.highlight\n      , tokens\n      , pending\n      , i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt)\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    var done = function(err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      var out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n\n      return err\n        ? callback(err)\n        : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function(token) {\n        if (token.type !== \'code\') {\n          return --pending || done();\n        }\n        return highlight(token.text, token.lang, function(err, code) {\n          if (err) return done(err);\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n  try {\n    if (opt) opt = merge({}, marked.defaults, opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += \'\\nPlease report this to https://github.com/chjj/marked.\';\n    if ((opt || marked.defaults).silent) {\n      return \'<p>An error occured:</p><pre>\'\n        + escape(e.message + \'\', true)\n        + \'</pre>\';\n    }\n    throw e;\n  }\n}\n\n/**\n * Options\n */\n\nmarked.options =\nmarked.setOptions = function(opt) {\n  merge(marked.defaults, opt);\n  return marked;\n};\n\nmarked.defaults = {\n  gfm: true,\n  tables: true,\n  breaks: false,\n  pedantic: false,\n  sanitize: false,\n  smartLists: false,\n  silent: false,\n  highlight: null,\n  langPrefix: \'lang-\',\n  smartypants: false,\n  headerPrefix: \'\',\n  renderer: new Renderer,\n  xhtml: false\n};\n\n/**\n * Expose\n */\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\n\nmarked.Renderer = Renderer;\n\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\n\nmarked.InlineLexer = InlineLexer;\nmarked.inlineLexer = InlineLexer.output;\n\nmarked.parse = marked;\n\nif (typeof module !== \'undefined\' && typeof exports === \'object\') {\n  module.exports = marked;\n} else if (typeof define === \'function\' && define.amd) {\n  define(function() { return marked; });\n} else {\n  this.marked = marked;\n}\n\n}).call(function() {\n  return this || (typeof window !== \'undefined\' ? window : global);\n}());\n\n//@filename {Foo} fileName ./html/lib/prettify/prettify.js\n\n!function(){var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;\n(function(){function S(a){function d(e){var b=e.charCodeAt(0);if(b!==92)return b;var a=e.charAt(1);return(b=r[a])?b:"0"<=a&&a<="7"?parseInt(e.substring(1),8):a==="u"||a==="x"?parseInt(e.substring(2),16):e.charCodeAt(1)}function g(e){if(e<32)return(e<16?"\\\\x0":"\\\\x")+e.toString(16);e=String.fromCharCode(e);return e==="\\\\"||e==="-"||e==="]"||e==="^"?"\\\\"+e:e}function b(e){var b=e.substring(1,e.length-1).match(/\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\S\\s]|[^\\\\]/g),e=[],a=\nb[0]==="^",c=["["];a&&c.push("^");for(var a=a?1:0,f=b.length;a<f;++a){var h=b[a];if(/\\\\[bdsw]/i.test(h))c.push(h);else{var h=d(h),l;a+2<f&&"-"===b[a+1]?(l=d(b[a+2]),a+=2):l=h;e.push([h,l]);l<65||h>122||(l<65||h>90||e.push([Math.max(65,h)|32,Math.min(l,90)|32]),l<97||h>122||e.push([Math.max(97,h)&-33,Math.min(l,122)&-33]))}}e.sort(function(e,a){return e[0]-a[0]||a[1]-e[1]});b=[];f=[];for(a=0;a<e.length;++a)h=e[a],h[0]<=f[1]+1?f[1]=Math.max(f[1],h[1]):b.push(f=h);for(a=0;a<b.length;++a)h=b[a],c.push(g(h[0])),\nh[1]>h[0]&&(h[1]+1>h[0]&&c.push("-"),c.push(g(h[1])));c.push("]");return c.join("")}function s(e){for(var a=e.source.match(/\\[(?:[^\\\\\\]]|\\\\[\\S\\s])*]|\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\\\d+|\\\\[^\\dux]|\\(\\?[!:=]|[()^]|[^()[\\\\^]+/g),c=a.length,d=[],f=0,h=0;f<c;++f){var l=a[f];l==="("?++h:"\\\\"===l.charAt(0)&&(l=+l.substring(1))&&(l<=h?d[l]=-1:a[f]=g(l))}for(f=1;f<d.length;++f)-1===d[f]&&(d[f]=++x);for(h=f=0;f<c;++f)l=a[f],l==="("?(++h,d[h]||(a[f]="(?:")):"\\\\"===l.charAt(0)&&(l=+l.substring(1))&&l<=h&&\n(a[f]="\\\\"+d[l]);for(f=0;f<c;++f)"^"===a[f]&&"^"!==a[f+1]&&(a[f]="");if(e.ignoreCase&&m)for(f=0;f<c;++f)l=a[f],e=l.charAt(0),l.length>=2&&e==="["?a[f]=b(l):e!=="\\\\"&&(a[f]=l.replace(/[A-Za-z]/g,function(a){a=a.charCodeAt(0);return"["+String.fromCharCode(a&-33,a|32)+"]"}));return a.join("")}for(var x=0,m=!1,j=!1,k=0,c=a.length;k<c;++k){var i=a[k];if(i.ignoreCase)j=!0;else if(/[a-z]/i.test(i.source.replace(/\\\\u[\\da-f]{4}|\\\\x[\\da-f]{2}|\\\\[^UXux]/gi,""))){m=!0;j=!1;break}}for(var r={b:8,t:9,n:10,v:11,\nf:12,r:13},n=[],k=0,c=a.length;k<c;++k){i=a[k];if(i.global||i.multiline)throw Error(""+i);n.push("(?:"+s(i)+")")}return RegExp(n.join("|"),j?"gi":"g")}function T(a,d){function g(a){var c=a.nodeType;if(c==1){if(!b.test(a.className)){for(c=a.firstChild;c;c=c.nextSibling)g(c);c=a.nodeName.toLowerCase();if("br"===c||"li"===c)s[j]="\\n",m[j<<1]=x++,m[j++<<1|1]=a}}else if(c==3||c==4)c=a.nodeValue,c.length&&(c=d?c.replace(/\\r\\n?/g,"\\n"):c.replace(/[\\t\\n\\r ]+/g," "),s[j]=c,m[j<<1]=x,x+=c.length,m[j++<<1|1]=\na)}var b=/(?:^|\\s)nocode(?:\\s|$)/,s=[],x=0,m=[],j=0;g(a);return{a:s.join("").replace(/\\n$/,""),d:m}}function H(a,d,g,b){d&&(a={a:d,e:a},g(a),b.push.apply(b,a.g))}function U(a){for(var d=void 0,g=a.firstChild;g;g=g.nextSibling)var b=g.nodeType,d=b===1?d?a:g:b===3?V.test(g.nodeValue)?a:d:d;return d===a?void 0:d}function C(a,d){function g(a){for(var j=a.e,k=[j,"pln"],c=0,i=a.a.match(s)||[],r={},n=0,e=i.length;n<e;++n){var z=i[n],w=r[z],t=void 0,f;if(typeof w==="string")f=!1;else{var h=b[z.charAt(0)];\nif(h)t=z.match(h[1]),w=h[0];else{for(f=0;f<x;++f)if(h=d[f],t=z.match(h[1])){w=h[0];break}t||(w="pln")}if((f=w.length>=5&&"lang-"===w.substring(0,5))&&!(t&&typeof t[1]==="string"))f=!1,w="src";f||(r[z]=w)}h=c;c+=z.length;if(f){f=t[1];var l=z.indexOf(f),B=l+f.length;t[2]&&(B=z.length-t[2].length,l=B-f.length);w=w.substring(5);H(j+h,z.substring(0,l),g,k);H(j+h+l,f,I(w,f),k);H(j+h+B,z.substring(B),g,k)}else k.push(j+h,w)}a.g=k}var b={},s;(function(){for(var g=a.concat(d),j=[],k={},c=0,i=g.length;c<i;++c){var r=\ng[c],n=r[3];if(n)for(var e=n.length;--e>=0;)b[n.charAt(e)]=r;r=r[1];n=""+r;k.hasOwnProperty(n)||(j.push(r),k[n]=q)}j.push(/[\\S\\s]/);s=S(j)})();var x=d.length;return g}function v(a){var d=[],g=[];a.tripleQuotedStrings?d.push(["str",/^(?:\'\'\'(?:[^\'\\\\]|\\\\[\\S\\s]|\'\'?(?=[^\']))*(?:\'\'\'|$)|"""(?:[^"\\\\]|\\\\[\\S\\s]|""?(?=[^"]))*(?:"""|$)|\'(?:[^\'\\\\]|\\\\[\\S\\s])*(?:\'|$)|"(?:[^"\\\\]|\\\\[\\S\\s])*(?:"|$))/,q,"\'\\""]):a.multiLineStrings?d.push(["str",/^(?:\'(?:[^\'\\\\]|\\\\[\\S\\s])*(?:\'|$)|"(?:[^"\\\\]|\\\\[\\S\\s])*(?:"|$)|`(?:[^\\\\`]|\\\\[\\S\\s])*(?:`|$))/,\nq,"\'\\"`"]):d.push(["str",/^(?:\'(?:[^\\n\\r\'\\\\]|\\\\.)*(?:\'|$)|"(?:[^\\n\\r"\\\\]|\\\\.)*(?:"|$))/,q,"\\"\'"]);a.verbatimStrings&&g.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var b=a.hashComments;b&&(a.cStyleComments?(b>1?d.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):d.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\\b|[^\\n\\r]*)/,q,"#"]),g.push(["str",/^<(?:(?:(?:\\.\\.\\/)*|\\/?)(?:[\\w-]+(?:\\/[\\w-]+)+)?[\\w-]+\\.h(?:h|pp|\\+\\+)?|[a-z]\\w*)>/,q])):d.push(["com",\n/^#[^\\n\\r]*/,q,"#"]));a.cStyleComments&&(g.push(["com",/^\\/\\/[^\\n\\r]*/,q]),g.push(["com",/^\\/\\*[\\S\\s]*?(?:\\*\\/|$)/,q]));if(b=a.regexLiterals){var s=(b=b>1?"":"\\n\\r")?".":"[\\\\S\\\\s]";g.push(["lang-regex",RegExp("^(?:^^\\\\.?|[+-]|[!=]=?=?|\\\\#|%=?|&&?=?|\\\\(|\\\\*=?|[+\\\\-]=|->|\\\\/=?|::?|<<?=?|>>?>?=?|,|;|\\\\?|@|\\\\[|~|{|\\\\^\\\\^?=?|\\\\|\\\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\\\s*("+("/(?=[^/*"+b+"])(?:[^/\\\\x5B\\\\x5C"+b+"]|\\\\x5C"+s+"|\\\\x5B(?:[^\\\\x5C\\\\x5D"+b+"]|\\\\x5C"+\ns+")*(?:\\\\x5D|$))+/")+")")])}(b=a.types)&&g.push(["typ",b]);b=(""+a.keywords).replace(/^ | $/g,"");b.length&&g.push(["kwd",RegExp("^(?:"+b.replace(/[\\s,]+/g,"|")+")\\\\b"),q]);d.push(["pln",/^\\s+/,q," \\r\\n\\t\\u00a0"]);b="^.[^\\\\s\\\\w.$@\'\\"`/\\\\\\\\]*";a.regexLiterals&&(b+="(?!s*/)");g.push(["lit",/^@[$_a-z][\\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\\w$@]*|\\w+_t\\b)/,q],["pln",/^[$_a-z][\\w$@]*/i,q],["lit",/^(?:0x[\\da-f]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+-]?\\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\\\[\\S\\s]?/,\nq],["pun",RegExp(b),q]);return C(d,g)}function J(a,d,g){function b(a){var c=a.nodeType;if(c==1&&!x.test(a.className))if("br"===a.nodeName)s(a),a.parentNode&&a.parentNode.removeChild(a);else for(a=a.firstChild;a;a=a.nextSibling)b(a);else if((c==3||c==4)&&g){var d=a.nodeValue,i=d.match(m);if(i)c=d.substring(0,i.index),a.nodeValue=c,(d=d.substring(i.index+i[0].length))&&a.parentNode.insertBefore(j.createTextNode(d),a.nextSibling),s(a),c||a.parentNode.removeChild(a)}}function s(a){function b(a,c){var d=\nc?a.cloneNode(!1):a,e=a.parentNode;if(e){var e=b(e,1),g=a.nextSibling;e.appendChild(d);for(var i=g;i;i=g)g=i.nextSibling,e.appendChild(i)}return d}for(;!a.nextSibling;)if(a=a.parentNode,!a)return;for(var a=b(a.nextSibling,0),d;(d=a.parentNode)&&d.nodeType===1;)a=d;c.push(a)}for(var x=/(?:^|\\s)nocode(?:\\s|$)/,m=/\\r\\n?|\\n/,j=a.ownerDocument,k=j.createElement("li");a.firstChild;)k.appendChild(a.firstChild);for(var c=[k],i=0;i<c.length;++i)b(c[i]);d===(d|0)&&c[0].setAttribute("value",d);var r=j.createElement("ol");\nr.className="linenums";for(var d=Math.max(0,d-1|0)||0,i=0,n=c.length;i<n;++i)k=c[i],k.className="L"+(i+d)%10,k.firstChild||k.appendChild(j.createTextNode("\\u00a0")),r.appendChild(k);a.appendChild(r)}function p(a,d){for(var g=d.length;--g>=0;){var b=d[g];F.hasOwnProperty(b)?D.console&&console.warn("cannot override language handler %s",b):F[b]=a}}function I(a,d){if(!a||!F.hasOwnProperty(a))a=/^\\s*</.test(d)?"default-markup":"default-code";return F[a]}function K(a){var d=a.h;try{var g=T(a.c,a.i),b=g.a;\na.a=b;a.d=g.d;a.e=0;I(d,b)(a);var s=/\\bMSIE\\s(\\d+)/.exec(navigator.userAgent),s=s&&+s[1]<=8,d=/\\n/g,x=a.a,m=x.length,g=0,j=a.d,k=j.length,b=0,c=a.g,i=c.length,r=0;c[i]=m;var n,e;for(e=n=0;e<i;)c[e]!==c[e+2]?(c[n++]=c[e++],c[n++]=c[e++]):e+=2;i=n;for(e=n=0;e<i;){for(var p=c[e],w=c[e+1],t=e+2;t+2<=i&&c[t+1]===w;)t+=2;c[n++]=p;c[n++]=w;e=t}c.length=n;var f=a.c,h;if(f)h=f.style.display,f.style.display="none";try{for(;b<k;){var l=j[b+2]||m,B=c[r+2]||m,t=Math.min(l,B),A=j[b+1],G;if(A.nodeType!==1&&(G=x.substring(g,\nt))){s&&(G=G.replace(d,"\\r"));A.nodeValue=G;var L=A.ownerDocument,o=L.createElement("span");o.className=c[r+1];var v=A.parentNode;v.replaceChild(o,A);o.appendChild(A);g<l&&(j[b+1]=A=L.createTextNode(x.substring(t,l)),v.insertBefore(A,o.nextSibling))}g=t;g>=l&&(b+=2);g>=B&&(r+=2)}}finally{if(f)f.style.display=h}}catch(u){D.console&&console.log(u&&u.stack||u)}}var D=window,y=["break,continue,do,else,for,if,return,while"],E=[[y,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],\n"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],M=[E,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],N=[E,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],\nO=[N,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],E=[E,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],P=[y,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],\nQ=[y,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],W=[y,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],y=[y,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],R=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\\d*)\\b/,\nV=/\\S/,X=v({keywords:[M,O,E,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",P,Q,y],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),F={};p(X,["default-code"]);p(C([],[["pln",/^[^<?]+/],["dec",/^<!\\w[^>]*(?:>|$)/],["com",/^<\\!--[\\S\\s]*?(?:--\\>|$)/],["lang-",/^<\\?([\\S\\s]+?)(?:\\?>|$)/],["lang-",/^<%([\\S\\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",\n/^<xmp\\b[^>]*>([\\S\\s]+?)<\\/xmp\\b[^>]*>/i],["lang-js",/^<script\\b[^>]*>([\\S\\s]*?)(<\\/script\\b[^>]*>)/i],["lang-css",/^<style\\b[^>]*>([\\S\\s]*?)(<\\/style\\b[^>]*>)/i],["lang-in.tag",/^(<\\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]);p(C([["pln",/^\\s+/,q," \\t\\r\\n"],["atv",/^(?:"[^"]*"?|\'[^\']*\'?)/,q,"\\"\'"]],[["tag",/^^<\\/?[a-z](?:[\\w-.:]*\\w)?|\\/?>$/i],["atn",/^(?!style[\\s=]|on)[a-z](?:[\\w:-]*\\w)?/i],["lang-uq.val",/^=\\s*([^\\s"\'>]*(?:[^\\s"\'/>]|\\/(?=\\s)))/],["pun",/^[/<->]+/],\n["lang-js",/^on\\w+\\s*=\\s*"([^"]+)"/i],["lang-js",/^on\\w+\\s*=\\s*\'([^\']+)\'/i],["lang-js",/^on\\w+\\s*=\\s*([^\\s"\'>]+)/i],["lang-css",/^style\\s*=\\s*"([^"]+)"/i],["lang-css",/^style\\s*=\\s*\'([^\']+)\'/i],["lang-css",/^style\\s*=\\s*([^\\s"\'>]+)/i]]),["in.tag"]);p(C([],[["atv",/^[\\S\\s]+/]]),["uq.val"]);p(v({keywords:M,hashComments:!0,cStyleComments:!0,types:R}),["c","cc","cpp","cxx","cyc","m"]);p(v({keywords:"null,true,false"}),["json"]);p(v({keywords:O,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:R}),\n["cs"]);p(v({keywords:N,cStyleComments:!0}),["java"]);p(v({keywords:y,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]);p(v({keywords:P,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]);p(v({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]);p(v({keywords:Q,\nhashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]);p(v({keywords:E,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]);p(v({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);p(v({keywords:W,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]);\np(C([],[["str",/^[\\S\\s]+/]]),["regex"]);var Y=D.PR={createSimpleLexer:C,registerLangHandler:p,sourceDecorator:v,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:D.prettyPrintOne=function(a,d,g){var b=document.createElement("div");b.innerHTML="<pre>"+a+"</pre>";b=b.firstChild;g&&J(b,g,!0);K({h:d,j:g,c:b,i:1});\nreturn b.innerHTML},prettyPrint:D.prettyPrint=function(a,d){function g(){for(var b=D.PR_SHOULD_USE_CONTINUATION?c.now()+250:Infinity;i<p.length&&c.now()<b;i++){for(var d=p[i],j=h,k=d;k=k.previousSibling;){var m=k.nodeType,o=(m===7||m===8)&&k.nodeValue;if(o?!/^\\??prettify\\b/.test(o):m!==3||/\\S/.test(k.nodeValue))break;if(o){j={};o.replace(/\\b(\\w+)=([\\w%+\\-.:]+)/g,function(a,b,c){j[b]=c});break}}k=d.className;if((j!==h||e.test(k))&&!v.test(k)){m=!1;for(o=d.parentNode;o;o=o.parentNode)if(f.test(o.tagName)&&\no.className&&e.test(o.className)){m=!0;break}if(!m){d.className+=" prettyprinted";m=j.lang;if(!m){var m=k.match(n),y;if(!m&&(y=U(d))&&t.test(y.tagName))m=y.className.match(n);m&&(m=m[1])}if(w.test(d.tagName))o=1;else var o=d.currentStyle,u=s.defaultView,o=(o=o?o.whiteSpace:u&&u.getComputedStyle?u.getComputedStyle(d,q).getPropertyValue("white-space"):0)&&"pre"===o.substring(0,3);u=j.linenums;if(!(u=u==="true"||+u))u=(u=k.match(/\\blinenums\\b(?::(\\d+))?/))?u[1]&&u[1].length?+u[1]:!0:!1;u&&J(d,u,o);r=\n{h:m,c:d,j:u,i:o};K(r)}}}i<p.length?setTimeout(g,250):"function"===typeof a&&a()}for(var b=d||document.body,s=b.ownerDocument||document,b=[b.getElementsByTagName("pre"),b.getElementsByTagName("code"),b.getElementsByTagName("xmp")],p=[],m=0;m<b.length;++m)for(var j=0,k=b[m].length;j<k;++j)p.push(b[m][j]);var b=q,c=Date;c.now||(c={now:function(){return+new Date}});var i=0,r,n=/\\blang(?:uage)?-([\\w.]+)(?!\\S)/,e=/\\bprettyprint\\b/,v=/\\bprettyprinted\\b/,w=/pre|xmp/i,t=/^code$/i,f=/^(?:pre|code|xmp)$/i,\nh={};g()}};typeof define==="function"&&define.amd&&define("google-code-prettify",[],function(){return Y})})();}()\n\n\n//@filename {Foo} fileName ./html/lib/toast/toast.min.js\n\n/*! toast 1.2.4 (https://github.com/pyrsmk/toast) */\n!function(a,b,c){"undefined"!=typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd?define(c):a[b]=c}(this,"toast",function(){var a={};return function(){var b,c=document,d=c.getElementsByTagName("head")[0],e=this.setTimeout,f="createElement",g="appendChild",h="onreadystatechange",i="styleSheet",j=0,k=function(){--j},l=function(a,c,f,g){if(d){if(a.length){for(b=-1;f=a[++b];){if("function"==(g=typeof f)){c=function(){return f(),!0};break}if("string"==g)m(f);else if(f.pop){m(f[0]),c=f[1];break}}n(c,Array.prototype.slice.call(a,b+1))}}else e(function(){l(a)},10)},m=function(b,e,l){l=/(^.+\\.\\w+)(\\?.*)?$/.exec(b)[1],a[l]||(a[l]=1,++j,/\\.js$/.test(l)?(e=c[f]("script"),e.src=b,d[g](e),null===e[h]?e[h]=p:e.onload=k):(e=c[f]("link"),e.rel=i,e.href=b,d[g](e),o(e)))},n=function(a,b){return j||a&&!a()?void e(function(){n(a,b)},10):void l(b)},o=function(a){return a.sheet||a[i]?void k():void e(function(){o(a)},10)},p=function(){/ded|co/.test(this.readyState)&&k()};l(arguments)}}());\n\n//@filename {Foo} fileName ./html/lib/twitter-typeahead/typeahead.bundle.js\n\n/*!\n * typeahead.js 0.10.4\n * https://github.com/twitter/typeahead.js\n * Copyright 2013-2014 Twitter, Inc. and other contributors; Licensed MIT\n */\n\n(function($) {\n    var _ = function() {\n        "use strict";\n        return {\n            isMsie: function() {\n                return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n            },\n            isBlankString: function(str) {\n                return !str || /^\\s*$/.test(str);\n            },\n            escapeRegExChars: function(str) {\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, "\\\\$&");\n            },\n            isString: function(obj) {\n                return typeof obj === "string";\n            },\n            isNumber: function(obj) {\n                return typeof obj === "number";\n            },\n            isArray: $.isArray,\n            isFunction: $.isFunction,\n            isObject: $.isPlainObject,\n            isUndefined: function(obj) {\n                return typeof obj === "undefined";\n            },\n            toStr: function toStr(s) {\n                return _.isUndefined(s) || s === null ? "" : s + "";\n            },\n            bind: $.proxy,\n            each: function(collection, cb) {\n                $.each(collection, reverseArgs);\n                function reverseArgs(index, value) {\n                    return cb(value, index);\n                }\n            },\n            map: $.map,\n            filter: $.grep,\n            every: function(obj, test) {\n                var result = true;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (!(result = test.call(null, val, key, obj))) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            some: function(obj, test) {\n                var result = false;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (result = test.call(null, val, key, obj)) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            mixin: $.extend,\n            getUniqueId: function() {\n                var counter = 0;\n                return function() {\n                    return counter++;\n                };\n            }(),\n            templatify: function templatify(obj) {\n                return $.isFunction(obj) ? obj : template;\n                function template() {\n                    return String(obj);\n                }\n            },\n            defer: function(fn) {\n                setTimeout(fn, 0);\n            },\n            debounce: function(func, wait, immediate) {\n                var timeout, result;\n                return function() {\n                    var context = this, args = arguments, later, callNow;\n                    later = function() {\n                        timeout = null;\n                        if (!immediate) {\n                            result = func.apply(context, args);\n                        }\n                    };\n                    callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) {\n                        result = func.apply(context, args);\n                    }\n                    return result;\n                };\n            },\n            throttle: function(func, wait) {\n                var context, args, timeout, result, previous, later;\n                previous = 0;\n                later = function() {\n                    previous = new Date();\n                    timeout = null;\n                    result = func.apply(context, args);\n                };\n                return function() {\n                    var now = new Date(), remaining = wait - (now - previous);\n                    context = this;\n                    args = arguments;\n                    if (remaining <= 0) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = now;\n                        result = func.apply(context, args);\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n                    return result;\n                };\n            },\n            noop: function() {}\n        };\n    }();\n    var VERSION = "0.10.4";\n    var tokenizers = function() {\n        "use strict";\n        return {\n            nonword: nonword,\n            whitespace: whitespace,\n            obj: {\n                nonword: getObjTokenizer(nonword),\n                whitespace: getObjTokenizer(whitespace)\n            }\n        };\n        function whitespace(str) {\n            str = _.toStr(str);\n            return str ? str.split(/\\s+/) : [];\n        }\n        function nonword(str) {\n            str = _.toStr(str);\n            return str ? str.split(/\\W+/) : [];\n        }\n        function getObjTokenizer(tokenizer) {\n            return function setKey() {\n                var args = [].slice.call(arguments, 0);\n                return function tokenize(o) {\n                    var tokens = [];\n                    _.each(args, function(k) {\n                        tokens = tokens.concat(tokenizer(_.toStr(o[k])));\n                    });\n                    return tokens;\n                };\n            };\n        }\n    }();\n    var LruCache = function() {\n        "use strict";\n        function LruCache(maxSize) {\n            this.maxSize = _.isNumber(maxSize) ? maxSize : 100;\n            this.reset();\n            if (this.maxSize <= 0) {\n                this.set = this.get = $.noop;\n            }\n        }\n        _.mixin(LruCache.prototype, {\n            set: function set(key, val) {\n                var tailItem = this.list.tail, node;\n                if (this.size >= this.maxSize) {\n                    this.list.remove(tailItem);\n                    delete this.hash[tailItem.key];\n                }\n                if (node = this.hash[key]) {\n                    node.val = val;\n                    this.list.moveToFront(node);\n                } else {\n                    node = new Node(key, val);\n                    this.list.add(node);\n                    this.hash[key] = node;\n                    this.size++;\n                }\n            },\n            get: function get(key) {\n                var node = this.hash[key];\n                if (node) {\n                    this.list.moveToFront(node);\n                    return node.val;\n                }\n            },\n            reset: function reset() {\n                this.size = 0;\n                this.hash = {};\n                this.list = new List();\n            }\n        });\n        function List() {\n            this.head = this.tail = null;\n        }\n        _.mixin(List.prototype, {\n            add: function add(node) {\n                if (this.head) {\n                    node.next = this.head;\n                    this.head.prev = node;\n                }\n                this.head = node;\n                this.tail = this.tail || node;\n            },\n            remove: function remove(node) {\n                node.prev ? node.prev.next = node.next : this.head = node.next;\n                node.next ? node.next.prev = node.prev : this.tail = node.prev;\n            },\n            moveToFront: function(node) {\n                this.remove(node);\n                this.add(node);\n            }\n        });\n        function Node(key, val) {\n            this.key = key;\n            this.val = val;\n            this.prev = this.next = null;\n        }\n        return LruCache;\n    }();\n    var PersistentStorage = function() {\n        "use strict";\n        var ls, methods;\n        try {\n            ls = window.localStorage;\n            ls.setItem("~~~", "!");\n            ls.removeItem("~~~");\n        } catch (err) {\n            ls = null;\n        }\n        function PersistentStorage(namespace) {\n            this.prefix = [ "__", namespace, "__" ].join("");\n            this.ttlKey = "__ttl__";\n            this.keyMatcher = new RegExp("^" + _.escapeRegExChars(this.prefix));\n        }\n        if (ls && window.JSON) {\n            methods = {\n                _prefix: function(key) {\n                    return this.prefix + key;\n                },\n                _ttlKey: function(key) {\n                    return this._prefix(key) + this.ttlKey;\n                },\n                get: function(key) {\n                    if (this.isExpired(key)) {\n                        this.remove(key);\n                    }\n                    return decode(ls.getItem(this._prefix(key)));\n                },\n                set: function(key, val, ttl) {\n                    if (_.isNumber(ttl)) {\n                        ls.setItem(this._ttlKey(key), encode(now() + ttl));\n                    } else {\n                        ls.removeItem(this._ttlKey(key));\n                    }\n                    return ls.setItem(this._prefix(key), encode(val));\n                },\n                remove: function(key) {\n                    ls.removeItem(this._ttlKey(key));\n                    ls.removeItem(this._prefix(key));\n                    return this;\n                },\n                clear: function() {\n                    var i, key, keys = [], len = ls.length;\n                    for (i = 0; i < len; i++) {\n                        if ((key = ls.key(i)).match(this.keyMatcher)) {\n                            keys.push(key.replace(this.keyMatcher, ""));\n                        }\n                    }\n                    for (i = keys.length; i--; ) {\n                        this.remove(keys[i]);\n                    }\n                    return this;\n                },\n                isExpired: function(key) {\n                    var ttl = decode(ls.getItem(this._ttlKey(key)));\n                    return _.isNumber(ttl) && now() > ttl ? true : false;\n                }\n            };\n        } else {\n            methods = {\n                get: _.noop,\n                set: _.noop,\n                remove: _.noop,\n                clear: _.noop,\n                isExpired: _.noop\n            };\n        }\n        _.mixin(PersistentStorage.prototype, methods);\n        return PersistentStorage;\n        function now() {\n            return new Date().getTime();\n        }\n        function encode(val) {\n            return JSON.stringify(_.isUndefined(val) ? null : val);\n        }\n        function decode(val) {\n            return JSON.parse(val);\n        }\n    }();\n    var Transport = function() {\n        "use strict";\n        var pendingRequestsCount = 0, pendingRequests = {}, maxPendingRequests = 6, sharedCache = new LruCache(10);\n        function Transport(o) {\n            o = o || {};\n            this.cancelled = false;\n            this.lastUrl = null;\n            this._send = o.transport ? callbackToDeferred(o.transport) : $.ajax;\n            this._get = o.rateLimiter ? o.rateLimiter(this._get) : this._get;\n            this._cache = o.cache === false ? new LruCache(0) : sharedCache;\n        }\n        Transport.setMaxPendingRequests = function setMaxPendingRequests(num) {\n            maxPendingRequests = num;\n        };\n        Transport.resetCache = function resetCache() {\n            sharedCache.reset();\n        };\n        _.mixin(Transport.prototype, {\n            _get: function(url, o, cb) {\n                var that = this, jqXhr;\n                if (this.cancelled || url !== this.lastUrl) {\n                    return;\n                }\n                if (jqXhr = pendingRequests[url]) {\n                    jqXhr.done(done).fail(fail);\n                } else if (pendingRequestsCount < maxPendingRequests) {\n                    pendingRequestsCount++;\n                    pendingRequests[url] = this._send(url, o).done(done).fail(fail).always(always);\n                } else {\n                    this.onDeckRequestArgs = [].slice.call(arguments, 0);\n                }\n                function done(resp) {\n                    cb && cb(null, resp);\n                    that._cache.set(url, resp);\n                }\n                function fail() {\n                    cb && cb(true);\n                }\n                function always() {\n                    pendingRequestsCount--;\n                    delete pendingRequests[url];\n                    if (that.onDeckRequestArgs) {\n                        that._get.apply(that, that.onDeckRequestArgs);\n                        that.onDeckRequestArgs = null;\n                    }\n                }\n            },\n            get: function(url, o, cb) {\n                var resp;\n                if (_.isFunction(o)) {\n                    cb = o;\n                    o = {};\n                }\n                this.cancelled = false;\n                this.lastUrl = url;\n                if (resp = this._cache.get(url)) {\n                    _.defer(function() {\n                        cb && cb(null, resp);\n                    });\n                } else {\n                    this._get(url, o, cb);\n                }\n                return !!resp;\n            },\n            cancel: function() {\n                this.cancelled = true;\n            }\n        });\n        return Transport;\n        function callbackToDeferred(fn) {\n            return function customSendWrapper(url, o) {\n                var deferred = $.Deferred();\n                fn(url, o, onSuccess, onError);\n                return deferred;\n                function onSuccess(resp) {\n                    _.defer(function() {\n                        deferred.resolve(resp);\n                    });\n                }\n                function onError(err) {\n                    _.defer(function() {\n                        deferred.reject(err);\n                    });\n                }\n            };\n        }\n    }();\n    var SearchIndex = function() {\n        "use strict";\n        function SearchIndex(o) {\n            o = o || {};\n            if (!o.datumTokenizer || !o.queryTokenizer) {\n                $.error("datumTokenizer and queryTokenizer are both required");\n            }\n            this.datumTokenizer = o.datumTokenizer;\n            this.queryTokenizer = o.queryTokenizer;\n            this.reset();\n        }\n        _.mixin(SearchIndex.prototype, {\n            bootstrap: function bootstrap(o) {\n                this.datums = o.datums;\n                this.trie = o.trie;\n            },\n            add: function(data) {\n                var that = this;\n                data = _.isArray(data) ? data : [ data ];\n                _.each(data, function(datum) {\n                    var id, tokens;\n                    id = that.datums.push(datum) - 1;\n                    tokens = normalizeTokens(that.datumTokenizer(datum));\n                    _.each(tokens, function(token) {\n                        var node, chars, ch;\n                        node = that.trie;\n                        chars = token.split("");\n                        while (ch = chars.shift()) {\n                            node = node.children[ch] || (node.children[ch] = newNode());\n                            node.ids.push(id);\n                        }\n                    });\n                });\n            },\n            get: function get(query) {\n                var that = this, tokens, matches;\n                tokens = normalizeTokens(this.queryTokenizer(query));\n                _.each(tokens, function(token) {\n                    var node, chars, ch, ids;\n                    if (matches && matches.length === 0) {\n                        return false;\n                    }\n                    node = that.trie;\n                    chars = token.split("");\n                    while (node && (ch = chars.shift())) {\n                        node = node.children[ch];\n                    }\n                    if (node && chars.length === 0) {\n                        ids = node.ids.slice(0);\n                        matches = matches ? getIntersection(matches, ids) : ids;\n                    } else {\n                        matches = [];\n                        return false;\n                    }\n                });\n                return matches ? _.map(unique(matches), function(id) {\n                    return that.datums[id];\n                }) : [];\n            },\n            reset: function reset() {\n                this.datums = [];\n                this.trie = newNode();\n            },\n            serialize: function serialize() {\n                return {\n                    datums: this.datums,\n                    trie: this.trie\n                };\n            }\n        });\n        return SearchIndex;\n        function normalizeTokens(tokens) {\n            tokens = _.filter(tokens, function(token) {\n                return !!token;\n            });\n            tokens = _.map(tokens, function(token) {\n                return token.toLowerCase();\n            });\n            return tokens;\n        }\n        function newNode() {\n            return {\n                ids: [],\n                children: {}\n            };\n        }\n        function unique(array) {\n            var seen = {}, uniques = [];\n            for (var i = 0, len = array.length; i < len; i++) {\n                if (!seen[array[i]]) {\n                    seen[array[i]] = true;\n                    uniques.push(array[i]);\n                }\n            }\n            return uniques;\n        }\n        function getIntersection(arrayA, arrayB) {\n            var ai = 0, bi = 0, intersection = [];\n            arrayA = arrayA.sort(compare);\n            arrayB = arrayB.sort(compare);\n            var lenArrayA = arrayA.length, lenArrayB = arrayB.length;\n            while (ai < lenArrayA && bi < lenArrayB) {\n                if (arrayA[ai] < arrayB[bi]) {\n                    ai++;\n                } else if (arrayA[ai] > arrayB[bi]) {\n                    bi++;\n                } else {\n                    intersection.push(arrayA[ai]);\n                    ai++;\n                    bi++;\n                }\n            }\n            return intersection;\n            function compare(a, b) {\n                return a - b;\n            }\n        }\n    }();\n    var oParser = function() {\n        "use strict";\n        return {\n            local: getLocal,\n            prefetch: getPrefetch,\n            remote: getRemote\n        };\n        function getLocal(o) {\n            return o.local || null;\n        }\n        function getPrefetch(o) {\n            var prefetch, defaults;\n            defaults = {\n                url: null,\n                thumbprint: "",\n                ttl: 24 * 60 * 60 * 1e3,\n                filter: null,\n                ajax: {}\n            };\n            if (prefetch = o.prefetch || null) {\n                prefetch = _.isString(prefetch) ? {\n                    url: prefetch\n                } : prefetch;\n                prefetch = _.mixin(defaults, prefetch);\n                prefetch.thumbprint = VERSION + prefetch.thumbprint;\n                prefetch.ajax.type = prefetch.ajax.type || "GET";\n                prefetch.ajax.dataType = prefetch.ajax.dataType || "json";\n                !prefetch.url && $.error("prefetch requires url to be set");\n            }\n            return prefetch;\n        }\n        function getRemote(o) {\n            var remote, defaults;\n            defaults = {\n                url: null,\n                cache: true,\n                wildcard: "%QUERY",\n                replace: null,\n                rateLimitBy: "debounce",\n                rateLimitWait: 300,\n                send: null,\n                filter: null,\n                ajax: {}\n            };\n            if (remote = o.remote || null) {\n                remote = _.isString(remote) ? {\n                    url: remote\n                } : remote;\n                remote = _.mixin(defaults, remote);\n                remote.rateLimiter = /^throttle$/i.test(remote.rateLimitBy) ? byThrottle(remote.rateLimitWait) : byDebounce(remote.rateLimitWait);\n                remote.ajax.type = remote.ajax.type || "GET";\n                remote.ajax.dataType = remote.ajax.dataType || "json";\n                delete remote.rateLimitBy;\n                delete remote.rateLimitWait;\n                !remote.url && $.error("remote requires url to be set");\n            }\n            return remote;\n            function byDebounce(wait) {\n                return function(fn) {\n                    return _.debounce(fn, wait);\n                };\n            }\n            function byThrottle(wait) {\n                return function(fn) {\n                    return _.throttle(fn, wait);\n                };\n            }\n        }\n    }();\n    (function(root) {\n        "use strict";\n        var old, keys;\n        old = root.Bloodhound;\n        keys = {\n            data: "data",\n            protocol: "protocol",\n            thumbprint: "thumbprint"\n        };\n        root.Bloodhound = Bloodhound;\n        function Bloodhound(o) {\n            if (!o || !o.local && !o.prefetch && !o.remote) {\n                $.error("one of local, prefetch, or remote is required");\n            }\n            this.limit = o.limit || 5;\n            this.sorter = getSorter(o.sorter);\n            this.dupDetector = o.dupDetector || ignoreDuplicates;\n            this.local = oParser.local(o);\n            this.prefetch = oParser.prefetch(o);\n            this.remote = oParser.remote(o);\n            this.cacheKey = this.prefetch ? this.prefetch.cacheKey || this.prefetch.url : null;\n            this.index = new SearchIndex({\n                datumTokenizer: o.datumTokenizer,\n                queryTokenizer: o.queryTokenizer\n            });\n            this.storage = this.cacheKey ? new PersistentStorage(this.cacheKey) : null;\n        }\n        Bloodhound.noConflict = function noConflict() {\n            root.Bloodhound = old;\n            return Bloodhound;\n        };\n        Bloodhound.tokenizers = tokenizers;\n        _.mixin(Bloodhound.prototype, {\n            _loadPrefetch: function loadPrefetch(o) {\n                var that = this, serialized, deferred;\n                if (serialized = this._readFromStorage(o.thumbprint)) {\n                    this.index.bootstrap(serialized);\n                    deferred = $.Deferred().resolve();\n                } else {\n                    deferred = $.ajax(o.url, o.ajax).done(handlePrefetchResponse);\n                }\n                return deferred;\n                function handlePrefetchResponse(resp) {\n                    that.clear();\n                    that.add(o.filter ? o.filter(resp) : resp);\n                    that._saveToStorage(that.index.serialize(), o.thumbprint, o.ttl);\n                }\n            },\n            _getFromRemote: function getFromRemote(query, cb) {\n                var that = this, url, uriEncodedQuery;\n                if (!this.transport) {\n                    return;\n                }\n                query = query || "";\n                uriEncodedQuery = encodeURIComponent(query);\n                url = this.remote.replace ? this.remote.replace(this.remote.url, query) : this.remote.url.replace(this.remote.wildcard, uriEncodedQuery);\n                return this.transport.get(url, this.remote.ajax, handleRemoteResponse);\n                function handleRemoteResponse(err, resp) {\n                    err ? cb([]) : cb(that.remote.filter ? that.remote.filter(resp) : resp);\n                }\n            },\n            _cancelLastRemoteRequest: function cancelLastRemoteRequest() {\n                this.transport && this.transport.cancel();\n            },\n            _saveToStorage: function saveToStorage(data, thumbprint, ttl) {\n                if (this.storage) {\n                    this.storage.set(keys.data, data, ttl);\n                    this.storage.set(keys.protocol, location.protocol, ttl);\n                    this.storage.set(keys.thumbprint, thumbprint, ttl);\n                }\n            },\n            _readFromStorage: function readFromStorage(thumbprint) {\n                var stored = {}, isExpired;\n                if (this.storage) {\n                    stored.data = this.storage.get(keys.data);\n                    stored.protocol = this.storage.get(keys.protocol);\n                    stored.thumbprint = this.storage.get(keys.thumbprint);\n                }\n                isExpired = stored.thumbprint !== thumbprint || stored.protocol !== location.protocol;\n                return stored.data && !isExpired ? stored.data : null;\n            },\n            _initialize: function initialize() {\n                var that = this, local = this.local, deferred;\n                deferred = this.prefetch ? this._loadPrefetch(this.prefetch) : $.Deferred().resolve();\n                local && deferred.done(addLocalToIndex);\n                this.transport = this.remote ? new Transport(this.remote) : null;\n                return this.initPromise = deferred.promise();\n                function addLocalToIndex() {\n                    that.add(_.isFunction(local) ? local() : local);\n                }\n            },\n            initialize: function initialize(force) {\n                return !this.initPromise || force ? this._initialize() : this.initPromise;\n            },\n            add: function add(data) {\n                this.index.add(data);\n            },\n            get: function get(query, cb) {\n                var that = this, matches = [], cacheHit = false;\n                matches = this.index.get(query);\n                matches = this.sorter(matches).slice(0, this.limit);\n                matches.length < this.limit ? cacheHit = this._getFromRemote(query, returnRemoteMatches) : this._cancelLastRemoteRequest();\n                if (!cacheHit) {\n                    (matches.length > 0 || !this.transport) && cb && cb(matches);\n                }\n                function returnRemoteMatches(remoteMatches) {\n                    var matchesWithBackfill = matches.slice(0);\n                    _.each(remoteMatches, function(remoteMatch) {\n                        var isDuplicate;\n                        isDuplicate = _.some(matchesWithBackfill, function(match) {\n                            return that.dupDetector(remoteMatch, match);\n                        });\n                        !isDuplicate && matchesWithBackfill.push(remoteMatch);\n                        return matchesWithBackfill.length < that.limit;\n                    });\n                    cb && cb(that.sorter(matchesWithBackfill));\n                }\n            },\n            clear: function clear() {\n                this.index.reset();\n            },\n            clearPrefetchCache: function clearPrefetchCache() {\n                this.storage && this.storage.clear();\n            },\n            clearRemoteCache: function clearRemoteCache() {\n                this.transport && Transport.resetCache();\n            },\n            ttAdapter: function ttAdapter() {\n                return _.bind(this.get, this);\n            }\n        });\n        return Bloodhound;\n        function getSorter(sortFn) {\n            return _.isFunction(sortFn) ? sort : noSort;\n            function sort(array) {\n                return array.sort(sortFn);\n            }\n            function noSort(array) {\n                return array;\n            }\n        }\n        function ignoreDuplicates() {\n            return false;\n        }\n    })(this);\n    var html = function() {\n        return {\n            wrapper: \'<span class="twitter-typeahead"></span>\',\n            dropdown: \'<span class="tt-dropdown-menu"></span>\',\n            dataset: \'<div class="tt-dataset-%CLASS%"></div>\',\n            suggestions: \'<span class="tt-suggestions"></span>\',\n            suggestion: \'<div class="tt-suggestion"></div>\'\n        };\n    }();\n    var css = function() {\n        "use strict";\n        var css = {\n            wrapper: {\n                position: "relative",\n                display: "inline-block"\n            },\n            hint: {\n                position: "absolute",\n                top: "0",\n                left: "0",\n                borderColor: "transparent",\n                boxShadow: "none",\n                opacity: "1"\n            },\n            input: {\n                position: "relative",\n                verticalAlign: "top",\n                backgroundColor: "transparent"\n            },\n            inputWithNoHint: {\n                position: "relative",\n                verticalAlign: "top"\n            },\n            dropdown: {\n                position: "absolute",\n                top: "100%",\n                left: "0",\n                zIndex: "100",\n                display: "none"\n            },\n            suggestions: {\n                display: "block"\n            },\n            suggestion: {\n                whiteSpace: "nowrap",\n                cursor: "pointer"\n            },\n            suggestionChild: {\n                whiteSpace: "normal"\n            },\n            ltr: {\n                left: "0",\n                right: "auto"\n            },\n            rtl: {\n                left: "auto",\n                right: " 0"\n            }\n        };\n        if (_.isMsie()) {\n            _.mixin(css.input, {\n                backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"\n            });\n        }\n        if (_.isMsie() && _.isMsie() <= 7) {\n            _.mixin(css.input, {\n                marginTop: "-1px"\n            });\n        }\n        return css;\n    }();\n    var EventBus = function() {\n        "use strict";\n        var namespace = "typeahead:";\n        function EventBus(o) {\n            if (!o || !o.el) {\n                $.error("EventBus initialized without el");\n            }\n            this.$el = $(o.el);\n        }\n        _.mixin(EventBus.prototype, {\n            trigger: function(type) {\n                var args = [].slice.call(arguments, 1);\n                this.$el.trigger(namespace + type, args);\n            }\n        });\n        return EventBus;\n    }();\n    var EventEmitter = function() {\n        "use strict";\n        var splitter = /\\s+/, nextTick = getNextTick();\n        return {\n            onSync: onSync,\n            onAsync: onAsync,\n            off: off,\n            trigger: trigger\n        };\n        function on(method, types, cb, context) {\n            var type;\n            if (!cb) {\n                return this;\n            }\n            types = types.split(splitter);\n            cb = context ? bindContext(cb, context) : cb;\n            this._callbacks = this._callbacks || {};\n            while (type = types.shift()) {\n                this._callbacks[type] = this._callbacks[type] || {\n                    sync: [],\n                    async: []\n                };\n                this._callbacks[type][method].push(cb);\n            }\n            return this;\n        }\n        function onAsync(types, cb, context) {\n            return on.call(this, "async", types, cb, context);\n        }\n        function onSync(types, cb, context) {\n            return on.call(this, "sync", types, cb, context);\n        }\n        function off(types) {\n            var type;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            while (type = types.shift()) {\n                delete this._callbacks[type];\n            }\n            return this;\n        }\n        function trigger(types) {\n            var type, callbacks, args, syncFlush, asyncFlush;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            args = [].slice.call(arguments, 1);\n            while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\n                syncFlush = getFlush(callbacks.sync, this, [ type ].concat(args));\n                asyncFlush = getFlush(callbacks.async, this, [ type ].concat(args));\n                syncFlush() && nextTick(asyncFlush);\n            }\n            return this;\n        }\n        function getFlush(callbacks, context, args) {\n            return flush;\n            function flush() {\n                var cancelled;\n                for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\n                    cancelled = callbacks[i].apply(context, args) === false;\n                }\n                return !cancelled;\n            }\n        }\n        function getNextTick() {\n            var nextTickFn;\n            if (window.setImmediate) {\n                nextTickFn = function nextTickSetImmediate(fn) {\n                    setImmediate(function() {\n                        fn();\n                    });\n                };\n            } else {\n                nextTickFn = function nextTickSetTimeout(fn) {\n                    setTimeout(function() {\n                        fn();\n                    }, 0);\n                };\n            }\n            return nextTickFn;\n        }\n        function bindContext(fn, context) {\n            return fn.bind ? fn.bind(context) : function() {\n                fn.apply(context, [].slice.call(arguments, 0));\n            };\n        }\n    }();\n    var highlight = function(doc) {\n        "use strict";\n        var defaults = {\n            node: null,\n            pattern: null,\n            tagName: "strong",\n            className: null,\n            wordsOnly: false,\n            caseSensitive: false\n        };\n        return function hightlight(o) {\n            var regex;\n            o = _.mixin({}, defaults, o);\n            if (!o.node || !o.pattern) {\n                return;\n            }\n            o.pattern = _.isArray(o.pattern) ? o.pattern : [ o.pattern ];\n            regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly);\n            traverse(o.node, hightlightTextNode);\n            function hightlightTextNode(textNode) {\n                var match, patternNode, wrapperNode;\n                if (match = regex.exec(textNode.data)) {\n                    wrapperNode = doc.createElement(o.tagName);\n                    o.className && (wrapperNode.className = o.className);\n                    patternNode = textNode.splitText(match.index);\n                    patternNode.splitText(match[0].length);\n                    wrapperNode.appendChild(patternNode.cloneNode(true));\n                    textNode.parentNode.replaceChild(wrapperNode, patternNode);\n                }\n                return !!match;\n            }\n            function traverse(el, hightlightTextNode) {\n                var childNode, TEXT_NODE_TYPE = 3;\n                for (var i = 0; i < el.childNodes.length; i++) {\n                    childNode = el.childNodes[i];\n                    if (childNode.nodeType === TEXT_NODE_TYPE) {\n                        i += hightlightTextNode(childNode) ? 1 : 0;\n                    } else {\n                        traverse(childNode, hightlightTextNode);\n                    }\n                }\n            }\n        };\n        function getRegex(patterns, caseSensitive, wordsOnly) {\n            var escapedPatterns = [], regexStr;\n            for (var i = 0, len = patterns.length; i < len; i++) {\n                escapedPatterns.push(_.escapeRegExChars(patterns[i]));\n            }\n            regexStr = wordsOnly ? "\\\\b(" + escapedPatterns.join("|") + ")\\\\b" : "(" + escapedPatterns.join("|") + ")";\n            return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, "i");\n        }\n    }(window.document);\n    var Input = function() {\n        "use strict";\n        var specialKeyCodeMap;\n        specialKeyCodeMap = {\n            9: "tab",\n            27: "esc",\n            37: "left",\n            39: "right",\n            13: "enter",\n            38: "up",\n            40: "down"\n        };\n        function Input(o) {\n            var that = this, onBlur, onFocus, onKeydown, onInput;\n            o = o || {};\n            if (!o.input) {\n                $.error("input is missing");\n            }\n            onBlur = _.bind(this._onBlur, this);\n            onFocus = _.bind(this._onFocus, this);\n            onKeydown = _.bind(this._onKeydown, this);\n            onInput = _.bind(this._onInput, this);\n            this.$hint = $(o.hint);\n            this.$input = $(o.input).on("blur.tt", onBlur).on("focus.tt", onFocus).on("keydown.tt", onKeydown);\n            if (this.$hint.length === 0) {\n                this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n            }\n            if (!_.isMsie()) {\n                this.$input.on("input.tt", onInput);\n            } else {\n                this.$input.on("keydown.tt keypress.tt cut.tt paste.tt", function($e) {\n                    if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n                        return;\n                    }\n                    _.defer(_.bind(that._onInput, that, $e));\n                });\n            }\n            this.query = this.$input.val();\n            this.$overflowHelper = buildOverflowHelper(this.$input);\n        }\n        Input.normalizeQuery = function(str) {\n            return (str || "").replace(/^\\s*/g, "").replace(/\\s{2,}/g, " ");\n        };\n        _.mixin(Input.prototype, EventEmitter, {\n            _onBlur: function onBlur() {\n                this.resetInputValue();\n                this.trigger("blurred");\n            },\n            _onFocus: function onFocus() {\n                this.trigger("focused");\n            },\n            _onKeydown: function onKeydown($e) {\n                var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n                this._managePreventDefault(keyName, $e);\n                if (keyName && this._shouldTrigger(keyName, $e)) {\n                    this.trigger(keyName + "Keyed", $e);\n                }\n            },\n            _onInput: function onInput() {\n                this._checkInputValue();\n            },\n            _managePreventDefault: function managePreventDefault(keyName, $e) {\n                var preventDefault, hintValue, inputValue;\n                switch (keyName) {\n                  case "tab":\n                    hintValue = this.getHint();\n                    inputValue = this.getInputValue();\n                    preventDefault = hintValue && hintValue !== inputValue && !withModifier($e);\n                    break;\n\n                  case "up":\n                  case "down":\n                    preventDefault = !withModifier($e);\n                    break;\n\n                  default:\n                    preventDefault = false;\n                }\n                preventDefault && $e.preventDefault();\n            },\n            _shouldTrigger: function shouldTrigger(keyName, $e) {\n                var trigger;\n                switch (keyName) {\n                  case "tab":\n                    trigger = !withModifier($e);\n                    break;\n\n                  default:\n                    trigger = true;\n                }\n                return trigger;\n            },\n            _checkInputValue: function checkInputValue() {\n                var inputValue, areEquivalent, hasDifferentWhitespace;\n                inputValue = this.getInputValue();\n                areEquivalent = areQueriesEquivalent(inputValue, this.query);\n                hasDifferentWhitespace = areEquivalent ? this.query.length !== inputValue.length : false;\n                this.query = inputValue;\n                if (!areEquivalent) {\n                    this.trigger("queryChanged", this.query);\n                } else if (hasDifferentWhitespace) {\n                    this.trigger("whitespaceChanged", this.query);\n                }\n            },\n            focus: function focus() {\n                this.$input.focus();\n            },\n            blur: function blur() {\n                this.$input.blur();\n            },\n            getQuery: function getQuery() {\n                return this.query;\n            },\n            setQuery: function setQuery(query) {\n                this.query = query;\n            },\n            getInputValue: function getInputValue() {\n                return this.$input.val();\n            },\n            setInputValue: function setInputValue(value, silent) {\n                this.$input.val(value);\n                silent ? this.clearHint() : this._checkInputValue();\n            },\n            resetInputValue: function resetInputValue() {\n                this.setInputValue(this.query, true);\n            },\n            getHint: function getHint() {\n                return this.$hint.val();\n            },\n            setHint: function setHint(value) {\n                this.$hint.val(value);\n            },\n            clearHint: function clearHint() {\n                this.setHint("");\n            },\n            clearHintIfInvalid: function clearHintIfInvalid() {\n                var val, hint, valIsPrefixOfHint, isValid;\n                val = this.getInputValue();\n                hint = this.getHint();\n                valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n                isValid = val !== "" && valIsPrefixOfHint && !this.hasOverflow();\n                !isValid && this.clearHint();\n            },\n            getLanguageDirection: function getLanguageDirection() {\n                return (this.$input.css("direction") || "ltr").toLowerCase();\n            },\n            hasOverflow: function hasOverflow() {\n                var constraint = this.$input.width() - 2;\n                this.$overflowHelper.text(this.getInputValue());\n                return this.$overflowHelper.width() >= constraint;\n            },\n            isCursorAtEnd: function() {\n                var valueLength, selectionStart, range;\n                valueLength = this.$input.val().length;\n                selectionStart = this.$input[0].selectionStart;\n                if (_.isNumber(selectionStart)) {\n                    return selectionStart === valueLength;\n                } else if (document.selection) {\n                    range = document.selection.createRange();\n                    range.moveStart("character", -valueLength);\n                    return valueLength === range.text.length;\n                }\n                return true;\n            },\n            destroy: function destroy() {\n                this.$hint.off(".tt");\n                this.$input.off(".tt");\n                this.$hint = this.$input = this.$overflowHelper = null;\n            }\n        });\n        return Input;\n        function buildOverflowHelper($input) {\n            return $(\'<pre aria-hidden="true"></pre>\').css({\n                position: "absolute",\n                visibility: "hidden",\n                whiteSpace: "pre",\n                fontFamily: $input.css("font-family"),\n                fontSize: $input.css("font-size"),\n                fontStyle: $input.css("font-style"),\n                fontVariant: $input.css("font-variant"),\n                fontWeight: $input.css("font-weight"),\n                wordSpacing: $input.css("word-spacing"),\n                letterSpacing: $input.css("letter-spacing"),\n                textIndent: $input.css("text-indent"),\n                textRendering: $input.css("text-rendering"),\n                textTransform: $input.css("text-transform")\n            }).insertAfter($input);\n        }\n        function areQueriesEquivalent(a, b) {\n            return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n        }\n        function withModifier($e) {\n            return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n        }\n    }();\n    var Dataset = function() {\n        "use strict";\n        var datasetKey = "ttDataset", valueKey = "ttValue", datumKey = "ttDatum";\n        function Dataset(o) {\n            o = o || {};\n            o.templates = o.templates || {};\n            if (!o.source) {\n                $.error("missing source");\n            }\n            if (o.name && !isValidName(o.name)) {\n                $.error("invalid dataset name: " + o.name);\n            }\n            this.query = null;\n            this.highlight = !!o.highlight;\n            this.name = o.name || _.getUniqueId();\n            this.source = o.source;\n            this.displayFn = getDisplayFn(o.display || o.displayKey);\n            this.templates = getTemplates(o.templates, this.displayFn);\n            this.$el = $(html.dataset.replace("%CLASS%", this.name));\n        }\n        Dataset.extractDatasetName = function extractDatasetName(el) {\n            return $(el).data(datasetKey);\n        };\n        Dataset.extractValue = function extractDatum(el) {\n            return $(el).data(valueKey);\n        };\n        Dataset.extractDatum = function extractDatum(el) {\n            return $(el).data(datumKey);\n        };\n        _.mixin(Dataset.prototype, EventEmitter, {\n            _render: function render(query, suggestions) {\n                if (!this.$el) {\n                    return;\n                }\n                var that = this, hasSuggestions;\n                this.$el.empty();\n                hasSuggestions = suggestions && suggestions.length;\n                if (!hasSuggestions && this.templates.empty) {\n                    this.$el.html(getEmptyHtml()).prepend(that.templates.header ? getHeaderHtml() : null).append(that.templates.footer ? getFooterHtml() : null);\n                } else if (hasSuggestions) {\n                    this.$el.html(getSuggestionsHtml()).prepend(that.templates.header ? getHeaderHtml() : null).append(that.templates.footer ? getFooterHtml() : null);\n                }\n                this.trigger("rendered");\n                function getEmptyHtml() {\n                    return that.templates.empty({\n                        query: query,\n                        isEmpty: true\n                    });\n                }\n                function getSuggestionsHtml() {\n                    var $suggestions, nodes;\n                    $suggestions = $(html.suggestions).css(css.suggestions);\n                    nodes = _.map(suggestions, getSuggestionNode);\n                    $suggestions.append.apply($suggestions, nodes);\n                    that.highlight && highlight({\n                        className: "tt-highlight",\n                        node: $suggestions[0],\n                        pattern: query\n                    });\n                    return $suggestions;\n                    function getSuggestionNode(suggestion) {\n                        var $el;\n                        $el = $(html.suggestion).append(that.templates.suggestion(suggestion)).data(datasetKey, that.name).data(valueKey, that.displayFn(suggestion)).data(datumKey, suggestion);\n                        $el.children().each(function() {\n                            $(this).css(css.suggestionChild);\n                        });\n                        return $el;\n                    }\n                }\n                function getHeaderHtml() {\n                    return that.templates.header({\n                        query: query,\n                        isEmpty: !hasSuggestions\n                    });\n                }\n                function getFooterHtml() {\n                    return that.templates.footer({\n                        query: query,\n                        isEmpty: !hasSuggestions\n                    });\n                }\n            },\n            getRoot: function getRoot() {\n                return this.$el;\n            },\n            update: function update(query) {\n                var that = this;\n                this.query = query;\n                this.canceled = false;\n                this.source(query, render);\n                function render(suggestions) {\n                    if (!that.canceled && query === that.query) {\n                        that._render(query, suggestions);\n                    }\n                }\n            },\n            cancel: function cancel() {\n                this.canceled = true;\n            },\n            clear: function clear() {\n                this.cancel();\n                this.$el.empty();\n                this.trigger("rendered");\n            },\n            isEmpty: function isEmpty() {\n                return this.$el.is(":empty");\n            },\n            destroy: function destroy() {\n                this.$el = null;\n            }\n        });\n        return Dataset;\n        function getDisplayFn(display) {\n            display = display || "value";\n            return _.isFunction(display) ? display : displayFn;\n            function displayFn(obj) {\n                return obj[display];\n            }\n        }\n        function getTemplates(templates, displayFn) {\n            return {\n                empty: templates.empty && _.templatify(templates.empty),\n                header: templates.header && _.templatify(templates.header),\n                footer: templates.footer && _.templatify(templates.footer),\n                suggestion: templates.suggestion || suggestionTemplate\n            };\n            function suggestionTemplate(context) {\n                return "<p>" + displayFn(context) + "</p>";\n            }\n        }\n        function isValidName(str) {\n            return /^[_a-zA-Z0-9-]+$/.test(str);\n        }\n    }();\n    var Dropdown = function() {\n        "use strict";\n        function Dropdown(o) {\n            var that = this, onSuggestionClick, onSuggestionMouseEnter, onSuggestionMouseLeave;\n            o = o || {};\n            if (!o.menu) {\n                $.error("menu is required");\n            }\n            this.isOpen = false;\n            this.isEmpty = true;\n            this.datasets = _.map(o.datasets, initializeDataset);\n            onSuggestionClick = _.bind(this._onSuggestionClick, this);\n            onSuggestionMouseEnter = _.bind(this._onSuggestionMouseEnter, this);\n            onSuggestionMouseLeave = _.bind(this._onSuggestionMouseLeave, this);\n            this.$menu = $(o.menu).on("click.tt", ".tt-suggestion", onSuggestionClick).on("mouseenter.tt", ".tt-suggestion", onSuggestionMouseEnter).on("mouseleave.tt", ".tt-suggestion", onSuggestionMouseLeave);\n            _.each(this.datasets, function(dataset) {\n                that.$menu.append(dataset.getRoot());\n                dataset.onSync("rendered", that._onRendered, that);\n            });\n        }\n        _.mixin(Dropdown.prototype, EventEmitter, {\n            _onSuggestionClick: function onSuggestionClick($e) {\n                this.trigger("suggestionClicked", $($e.currentTarget));\n            },\n            _onSuggestionMouseEnter: function onSuggestionMouseEnter($e) {\n                this._removeCursor();\n                this._setCursor($($e.currentTarget), true);\n            },\n            _onSuggestionMouseLeave: function onSuggestionMouseLeave() {\n                this._removeCursor();\n            },\n            _onRendered: function onRendered() {\n                this.isEmpty = _.every(this.datasets, isDatasetEmpty);\n                this.isEmpty ? this._hide() : this.isOpen && this._show();\n                this.trigger("datasetRendered");\n                function isDatasetEmpty(dataset) {\n                    return dataset.isEmpty();\n                }\n            },\n            _hide: function() {\n                this.$menu.hide();\n            },\n            _show: function() {\n                this.$menu.css("display", "block");\n            },\n            _getSuggestions: function getSuggestions() {\n                return this.$menu.find(".tt-suggestion");\n            },\n            _getCursor: function getCursor() {\n                return this.$menu.find(".tt-cursor").first();\n            },\n            _setCursor: function setCursor($el, silent) {\n                $el.first().addClass("tt-cursor");\n                !silent && this.trigger("cursorMoved");\n            },\n            _removeCursor: function removeCursor() {\n                this._getCursor().removeClass("tt-cursor");\n            },\n            _moveCursor: function moveCursor(increment) {\n                var $suggestions, $oldCursor, newCursorIndex, $newCursor;\n                if (!this.isOpen) {\n                    return;\n                }\n                $oldCursor = this._getCursor();\n                $suggestions = this._getSuggestions();\n                this._removeCursor();\n                newCursorIndex = $suggestions.index($oldCursor) + increment;\n                newCursorIndex = (newCursorIndex + 1) % ($suggestions.length + 1) - 1;\n                if (newCursorIndex === -1) {\n                    this.trigger("cursorRemoved");\n                    return;\n                } else if (newCursorIndex < -1) {\n                    newCursorIndex = $suggestions.length - 1;\n                }\n                this._setCursor($newCursor = $suggestions.eq(newCursorIndex));\n                this._ensureVisible($newCursor);\n            },\n            _ensureVisible: function ensureVisible($el) {\n                var elTop, elBottom, menuScrollTop, menuHeight;\n                elTop = $el.position().top;\n                elBottom = elTop + $el.outerHeight(true);\n                menuScrollTop = this.$menu.scrollTop();\n                menuHeight = this.$menu.height() + parseInt(this.$menu.css("paddingTop"), 10) + parseInt(this.$menu.css("paddingBottom"), 10);\n                if (elTop < 0) {\n                    this.$menu.scrollTop(menuScrollTop + elTop);\n                } else if (menuHeight < elBottom) {\n                    this.$menu.scrollTop(menuScrollTop + (elBottom - menuHeight));\n                }\n            },\n            close: function close() {\n                if (this.isOpen) {\n                    this.isOpen = false;\n                    this._removeCursor();\n                    this._hide();\n                    this.trigger("closed");\n                }\n            },\n            open: function open() {\n                if (!this.isOpen) {\n                    this.isOpen = true;\n                    !this.isEmpty && this._show();\n                    this.trigger("opened");\n                }\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$menu.css(dir === "ltr" ? css.ltr : css.rtl);\n            },\n            moveCursorUp: function moveCursorUp() {\n                this._moveCursor(-1);\n            },\n            moveCursorDown: function moveCursorDown() {\n                this._moveCursor(+1);\n            },\n            getDatumForSuggestion: function getDatumForSuggestion($el) {\n                var datum = null;\n                if ($el.length) {\n                    datum = {\n                        raw: Dataset.extractDatum($el),\n                        value: Dataset.extractValue($el),\n                        datasetName: Dataset.extractDatasetName($el)\n                    };\n                }\n                return datum;\n            },\n            getDatumForCursor: function getDatumForCursor() {\n                return this.getDatumForSuggestion(this._getCursor().first());\n            },\n            getDatumForTopSuggestion: function getDatumForTopSuggestion() {\n                return this.getDatumForSuggestion(this._getSuggestions().first());\n            },\n            update: function update(query) {\n                _.each(this.datasets, updateDataset);\n                function updateDataset(dataset) {\n                    dataset.update(query);\n                }\n            },\n            empty: function empty() {\n                _.each(this.datasets, clearDataset);\n                this.isEmpty = true;\n                function clearDataset(dataset) {\n                    dataset.clear();\n                }\n            },\n            isVisible: function isVisible() {\n                return this.isOpen && !this.isEmpty;\n            },\n            destroy: function destroy() {\n                this.$menu.off(".tt");\n                this.$menu = null;\n                _.each(this.datasets, destroyDataset);\n                function destroyDataset(dataset) {\n                    dataset.destroy();\n                }\n            }\n        });\n        return Dropdown;\n        function initializeDataset(oDataset) {\n            return new Dataset(oDataset);\n        }\n    }();\n    var Typeahead = function() {\n        "use strict";\n        var attrsKey = "ttAttrs";\n        function Typeahead(o) {\n            var $menu, $input, $hint;\n            o = o || {};\n            if (!o.input) {\n                $.error("missing input");\n            }\n            this.isActivated = false;\n            this.autoselect = !!o.autoselect;\n            this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n            this.$node = buildDom(o.input, o.withHint);\n            $menu = this.$node.find(".tt-dropdown-menu");\n            $input = this.$node.find(".tt-input");\n            $hint = this.$node.find(".tt-hint");\n            $input.on("blur.tt", function($e) {\n                var active, isActive, hasActive;\n                active = document.activeElement;\n                isActive = $menu.is(active);\n                hasActive = $menu.has(active).length > 0;\n                if (_.isMsie() && (isActive || hasActive)) {\n                    $e.preventDefault();\n                    $e.stopImmediatePropagation();\n                    _.defer(function() {\n                        $input.focus();\n                    });\n                }\n            });\n            $menu.on("mousedown.tt", function($e) {\n                $e.preventDefault();\n            });\n            this.eventBus = o.eventBus || new EventBus({\n                el: $input\n            });\n            this.dropdown = new Dropdown({\n                menu: $menu,\n                datasets: o.datasets\n            }).onSync("suggestionClicked", this._onSuggestionClicked, this).onSync("cursorMoved", this._onCursorMoved, this).onSync("cursorRemoved", this._onCursorRemoved, this).onSync("opened", this._onOpened, this).onSync("closed", this._onClosed, this).onAsync("datasetRendered", this._onDatasetRendered, this);\n            this.input = new Input({\n                input: $input,\n                hint: $hint\n            }).onSync("focused", this._onFocused, this).onSync("blurred", this._onBlurred, this).onSync("enterKeyed", this._onEnterKeyed, this).onSync("tabKeyed", this._onTabKeyed, this).onSync("escKeyed", this._onEscKeyed, this).onSync("upKeyed", this._onUpKeyed, this).onSync("downKeyed", this._onDownKeyed, this).onSync("leftKeyed", this._onLeftKeyed, this).onSync("rightKeyed", this._onRightKeyed, this).onSync("queryChanged", this._onQueryChanged, this).onSync("whitespaceChanged", this._onWhitespaceChanged, this);\n            this._setLanguageDirection();\n        }\n        _.mixin(Typeahead.prototype, {\n            _onSuggestionClicked: function onSuggestionClicked(type, $el) {\n                var datum;\n                if (datum = this.dropdown.getDatumForSuggestion($el)) {\n                    this._select(datum);\n                }\n            },\n            _onCursorMoved: function onCursorMoved() {\n                var datum = this.dropdown.getDatumForCursor();\n                this.input.setInputValue(datum.value, true);\n                this.eventBus.trigger("cursorchanged", datum.raw, datum.datasetName);\n            },\n            _onCursorRemoved: function onCursorRemoved() {\n                this.input.resetInputValue();\n                this._updateHint();\n            },\n            _onDatasetRendered: function onDatasetRendered() {\n                this._updateHint();\n            },\n            _onOpened: function onOpened() {\n                this._updateHint();\n                this.eventBus.trigger("opened");\n            },\n            _onClosed: function onClosed() {\n                this.input.clearHint();\n                this.eventBus.trigger("closed");\n            },\n            _onFocused: function onFocused() {\n                this.isActivated = true;\n                this.dropdown.open();\n            },\n            _onBlurred: function onBlurred() {\n                this.isActivated = false;\n                this.dropdown.empty();\n                this.dropdown.close();\n            },\n            _onEnterKeyed: function onEnterKeyed(type, $e) {\n                var cursorDatum, topSuggestionDatum;\n                cursorDatum = this.dropdown.getDatumForCursor();\n                topSuggestionDatum = this.dropdown.getDatumForTopSuggestion();\n                if (cursorDatum) {\n                    this._select(cursorDatum);\n                    $e.preventDefault();\n                } else if (this.autoselect && topSuggestionDatum) {\n                    this._select(topSuggestionDatum);\n                    $e.preventDefault();\n                }\n            },\n            _onTabKeyed: function onTabKeyed(type, $e) {\n                var datum;\n                if (datum = this.dropdown.getDatumForCursor()) {\n                    this._select(datum);\n                    $e.preventDefault();\n                } else {\n                    this._autocomplete(true);\n                }\n            },\n            _onEscKeyed: function onEscKeyed() {\n                this.dropdown.close();\n                this.input.resetInputValue();\n            },\n            _onUpKeyed: function onUpKeyed() {\n                var query = this.input.getQuery();\n                this.dropdown.isEmpty && query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.moveCursorUp();\n                this.dropdown.open();\n            },\n            _onDownKeyed: function onDownKeyed() {\n                var query = this.input.getQuery();\n                this.dropdown.isEmpty && query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.moveCursorDown();\n                this.dropdown.open();\n            },\n            _onLeftKeyed: function onLeftKeyed() {\n                this.dir === "rtl" && this._autocomplete();\n            },\n            _onRightKeyed: function onRightKeyed() {\n                this.dir === "ltr" && this._autocomplete();\n            },\n            _onQueryChanged: function onQueryChanged(e, query) {\n                this.input.clearHintIfInvalid();\n                query.length >= this.minLength ? this.dropdown.update(query) : this.dropdown.empty();\n                this.dropdown.open();\n                this._setLanguageDirection();\n            },\n            _onWhitespaceChanged: function onWhitespaceChanged() {\n                this._updateHint();\n                this.dropdown.open();\n            },\n            _setLanguageDirection: function setLanguageDirection() {\n                var dir;\n                if (this.dir !== (dir = this.input.getLanguageDirection())) {\n                    this.dir = dir;\n                    this.$node.css("direction", dir);\n                    this.dropdown.setLanguageDirection(dir);\n                }\n            },\n            _updateHint: function updateHint() {\n                var datum, val, query, escapedQuery, frontMatchRegEx, match;\n                datum = this.dropdown.getDatumForTopSuggestion();\n                if (datum && this.dropdown.isVisible() && !this.input.hasOverflow()) {\n                    val = this.input.getInputValue();\n                    query = Input.normalizeQuery(val);\n                    escapedQuery = _.escapeRegExChars(query);\n                    frontMatchRegEx = new RegExp("^(?:" + escapedQuery + ")(.+$)", "i");\n                    match = frontMatchRegEx.exec(datum.value);\n                    match ? this.input.setHint(val + match[1]) : this.input.clearHint();\n                } else {\n                    this.input.clearHint();\n                }\n            },\n            _autocomplete: function autocomplete(laxCursor) {\n                var hint, query, isCursorAtEnd, datum;\n                hint = this.input.getHint();\n                query = this.input.getQuery();\n                isCursorAtEnd = laxCursor || this.input.isCursorAtEnd();\n                if (hint && query !== hint && isCursorAtEnd) {\n                    datum = this.dropdown.getDatumForTopSuggestion();\n                    datum && this.input.setInputValue(datum.value);\n                    this.eventBus.trigger("autocompleted", datum.raw, datum.datasetName);\n                }\n            },\n            _select: function select(datum) {\n                this.input.setQuery(datum.value);\n                this.input.setInputValue(datum.value, true);\n                this._setLanguageDirection();\n                this.eventBus.trigger("selected", datum.raw, datum.datasetName);\n                this.dropdown.close();\n                _.defer(_.bind(this.dropdown.empty, this.dropdown));\n            },\n            open: function open() {\n                this.dropdown.open();\n            },\n            close: function close() {\n                this.dropdown.close();\n            },\n            setVal: function setVal(val) {\n                val = _.toStr(val);\n                if (this.isActivated) {\n                    this.input.setInputValue(val);\n                } else {\n                    this.input.setQuery(val);\n                    this.input.setInputValue(val, true);\n                }\n                this._setLanguageDirection();\n            },\n            getVal: function getVal() {\n                return this.input.getQuery();\n            },\n            destroy: function destroy() {\n                this.input.destroy();\n                this.dropdown.destroy();\n                destroyDomStructure(this.$node);\n                this.$node = null;\n            }\n        });\n        return Typeahead;\n        function buildDom(input, withHint) {\n            var $input, $wrapper, $dropdown, $hint;\n            $input = $(input);\n            $wrapper = $(html.wrapper).css(css.wrapper);\n            $dropdown = $(html.dropdown).css(css.dropdown);\n            $hint = $input.clone().css(css.hint).css(getBackgroundStyles($input));\n            $hint.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly", true).attr({\n                autocomplete: "off",\n                spellcheck: "false",\n                tabindex: -1\n            });\n            $input.data(attrsKey, {\n                dir: $input.attr("dir"),\n                autocomplete: $input.attr("autocomplete"),\n                spellcheck: $input.attr("spellcheck"),\n                style: $input.attr("style")\n            });\n            $input.addClass("tt-input").attr({\n                autocomplete: "off",\n                spellcheck: false\n            }).css(withHint ? css.input : css.inputWithNoHint);\n            try {\n                !$input.attr("dir") && $input.attr("dir", "auto");\n            } catch (e) {}\n            return $input.wrap($wrapper).parent().prepend(withHint ? $hint : null).append($dropdown);\n        }\n        function getBackgroundStyles($el) {\n            return {\n                backgroundAttachment: $el.css("background-attachment"),\n                backgroundClip: $el.css("background-clip"),\n                backgroundColor: $el.css("background-color"),\n                backgroundImage: $el.css("background-image"),\n                backgroundOrigin: $el.css("background-origin"),\n                backgroundPosition: $el.css("background-position"),\n                backgroundRepeat: $el.css("background-repeat"),\n                backgroundSize: $el.css("background-size")\n            };\n        }\n        function destroyDomStructure($node) {\n            var $input = $node.find(".tt-input");\n            _.each($input.data(attrsKey), function(val, key) {\n                _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\n            });\n            $input.detach().removeData(attrsKey).removeClass("tt-input").insertAfter($node);\n            $node.remove();\n        }\n    }();\n    (function() {\n        "use strict";\n        var old, typeaheadKey, methods;\n        old = $.fn.typeahead;\n        typeaheadKey = "ttTypeahead";\n        methods = {\n            initialize: function initialize(o, datasets) {\n                datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\n                o = o || {};\n                return this.each(attach);\n                function attach() {\n                    var $input = $(this), eventBus, typeahead;\n                    _.each(datasets, function(d) {\n                        d.highlight = !!o.highlight;\n                    });\n                    typeahead = new Typeahead({\n                        input: $input,\n                        eventBus: eventBus = new EventBus({\n                            el: $input\n                        }),\n                        withHint: _.isUndefined(o.hint) ? true : !!o.hint,\n                        minLength: o.minLength,\n                        autoselect: o.autoselect,\n                        datasets: datasets\n                    });\n                    $input.data(typeaheadKey, typeahead);\n                }\n            },\n            open: function open() {\n                return this.each(openTypeahead);\n                function openTypeahead() {\n                    var $input = $(this), typeahead;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        typeahead.open();\n                    }\n                }\n            },\n            close: function close() {\n                return this.each(closeTypeahead);\n                function closeTypeahead() {\n                    var $input = $(this), typeahead;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        typeahead.close();\n                    }\n                }\n            },\n            val: function val(newVal) {\n                return !arguments.length ? getVal(this.first()) : this.each(setVal);\n                function setVal() {\n                    var $input = $(this), typeahead;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        typeahead.setVal(newVal);\n                    }\n                }\n                function getVal($input) {\n                    var typeahead, query;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        query = typeahead.getVal();\n                    }\n                    return query;\n                }\n            },\n            destroy: function destroy() {\n                return this.each(unattach);\n                function unattach() {\n                    var $input = $(this), typeahead;\n                    if (typeahead = $input.data(typeaheadKey)) {\n                        typeahead.destroy();\n                        $input.removeData(typeaheadKey);\n                    }\n                }\n            }\n        };\n        $.fn.typeahead = function(method) {\n            var tts;\n            if (methods[method] && method !== "initialize") {\n                tts = this.filter(function() {\n                    return !!$(this).data(typeaheadKey);\n                });\n                return methods[method].apply(tts, [].slice.call(arguments, 1));\n            } else {\n                return methods.initialize.apply(this, arguments);\n            }\n        };\n        $.fn.typeahead.noConflict = function noConflict() {\n            $.fn.typeahead = old;\n            return this;\n        };\n    })();\n})(window.jQuery);\n\n//@filename {Foo} fileName ./html/lib/vis/dist/vis.js\n\n/**\n * vis.js\n * https://github.com/almende/vis\n *\n * A dynamic, browser-based visualization library.\n *\n * @version 3.12.0\n * @date    2015-04-07\n *\n * @license\n * Copyright (C) 2011-2014 Almende B.V, http://almende.com\n *\n * Vis.js is dual licensed under both\n *\n * * The Apache 2.0 License\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * and\n *\n * * The MIT License\n *   http://opensource.org/licenses/MIT\n *\n * Vis.js may be distributed under either license.\n */\n\n"use strict";\n\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === \'object\' && typeof module === \'object\')\n\t\tmodule.exports = factory();\n\telse if(typeof define === \'function\' && define.amd)\n\t\tdefine(factory);\n\telse if(typeof exports === \'object\')\n\t\texports["vis"] = factory();\n\telse\n\t\troot["vis"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n\n\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = "";\n\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // utils\n  exports.util = __webpack_require__(1);\n  exports.DOMutil = __webpack_require__(2);\n\n  // data\n  exports.DataSet = __webpack_require__(3);\n  exports.DataView = __webpack_require__(4);\n  exports.Queue = __webpack_require__(5);\n\n  // Graph3d\n  exports.Graph3d = __webpack_require__(6);\n  exports.graph3d = {\n    Camera: __webpack_require__(7),\n    Filter: __webpack_require__(8),\n    Point2d: __webpack_require__(9),\n    Point3d: __webpack_require__(10),\n    Slider: __webpack_require__(11),\n    StepNumber: __webpack_require__(12)\n  };\n\n  // Timeline\n  exports.Timeline = __webpack_require__(13);\n  exports.Graph2d = __webpack_require__(14);\n  exports.timeline = {\n    DateUtil: __webpack_require__(15),\n    DataStep: __webpack_require__(16),\n    Range: __webpack_require__(17),\n    stack: __webpack_require__(18),\n    TimeStep: __webpack_require__(19),\n\n    components: {\n      items: {\n        Item: __webpack_require__(20),\n        BackgroundItem: __webpack_require__(21),\n        BoxItem: __webpack_require__(22),\n        PointItem: __webpack_require__(23),\n        RangeItem: __webpack_require__(24)\n      },\n\n      Component: __webpack_require__(25),\n      CurrentTime: __webpack_require__(26),\n      CustomTime: __webpack_require__(27),\n      DataAxis: __webpack_require__(28),\n      GraphGroup: __webpack_require__(29),\n      Group: __webpack_require__(30),\n      BackgroundGroup: __webpack_require__(31),\n      ItemSet: __webpack_require__(32),\n      Legend: __webpack_require__(33),\n      LineGraph: __webpack_require__(34),\n      TimeAxis: __webpack_require__(35)\n    }\n  };\n\n  // Network\n  exports.Network = __webpack_require__(36);\n  exports.network = {\n    Edge: __webpack_require__(37),\n    Groups: __webpack_require__(38),\n    Images: __webpack_require__(39),\n    Node: __webpack_require__(40),\n    Popup: __webpack_require__(41),\n    dotparser: __webpack_require__(42),\n    gephiParser: __webpack_require__(43)\n  };\n\n  // Deprecated since v3.0.0\n  exports.Graph = function () {\n    throw new Error(\'Graph is renamed to Network. Please create a graph as new vis.Network(...)\');\n  };\n\n  // bundled external libraries\n  exports.moment = __webpack_require__(44);\n  exports.hammer = __webpack_require__(45);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // utility functions\n\n  // first check if moment.js is already loaded in the browser window, if so,\n  // use this instance. Else, load via commonjs.\n  var moment = __webpack_require__(44);\n\n  /**\n   * Test whether given object is a number\n   * @param {*} object\n   * @return {Boolean} isNumber\n   */\n  exports.isNumber = function(object) {\n    return (object instanceof Number || typeof object == \'number\');\n  };\n\n\n  /**\n   * this function gives you a range between 0 and 1 based on the min and max values in the set, the total sum of all values and the current value.\n   *\n   * @param min\n   * @param max\n   * @param total\n   * @param value\n   * @returns {number}\n   */\n  exports.giveRange = function(min,max,total,value) {\n    if (max == min) {\n      return 0.5;\n    }\n    else {\n      var scale = 1 / (max - min);\n      return Math.max(0,(value - min)*scale);\n    }\n  }\n\n  /**\n   * Test whether given object is a string\n   * @param {*} object\n   * @return {Boolean} isString\n   */\n  exports.isString = function(object) {\n    return (object instanceof String || typeof object == \'string\');\n  };\n\n  /**\n   * Test whether given object is a Date, or a String containing a Date\n   * @param {Date | String} object\n   * @return {Boolean} isDate\n   */\n  exports.isDate = function(object) {\n    if (object instanceof Date) {\n      return true;\n    }\n    else if (exports.isString(object)) {\n      // test whether this string contains a date\n      var match = ASPDateRegex.exec(object);\n      if (match) {\n        return true;\n      }\n      else if (!isNaN(Date.parse(object))) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  /**\n   * Test whether given object is an instance of google.visualization.DataTable\n   * @param {*} object\n   * @return {Boolean} isDataTable\n   */\n  exports.isDataTable = function(object) {\n    return (typeof (google) !== \'undefined\') &&\n        (google.visualization) &&\n        (google.visualization.DataTable) &&\n        (object instanceof google.visualization.DataTable);\n  };\n\n  /**\n   * Create a semi UUID\n   * source: http://stackoverflow.com/a/105074/1262753\n   * @return {String} uuid\n   */\n  exports.randomUUID = function() {\n    var S4 = function () {\n      return Math.floor(\n          Math.random() * 0x10000 /* 65536 */\n      ).toString(16);\n    };\n\n    return (\n        S4() + S4() + \'-\' +\n            S4() + \'-\' +\n            S4() + \'-\' +\n            S4() + \'-\' +\n            S4() + S4() + S4()\n        );\n  };\n\n  /**\n   * Extend object a with the properties of object b or a series of objects\n   * Only properties with defined values are copied\n   * @param {Object} a\n   * @param {... Object} b\n   * @return {Object} a\n   */\n  exports.extend = function (a, b) {\n    for (var i = 1, len = arguments.length; i < len; i++) {\n      var other = arguments[i];\n      for (var prop in other) {\n        if (other.hasOwnProperty(prop)) {\n          a[prop] = other[prop];\n        }\n      }\n    }\n\n    return a;\n  };\n\n  /**\n   * Extend object a with selected properties of object b or a series of objects\n   * Only properties with defined values are copied\n   * @param {Array.<String>} props\n   * @param {Object} a\n   * @param {... Object} b\n   * @return {Object} a\n   */\n  exports.selectiveExtend = function (props, a, b) {\n    if (!Array.isArray(props)) {\n      throw new Error(\'Array with property names expected as first argument\');\n    }\n\n    for (var i = 2; i < arguments.length; i++) {\n      var other = arguments[i];\n\n      for (var p = 0; p < props.length; p++) {\n        var prop = props[p];\n        if (other.hasOwnProperty(prop)) {\n          a[prop] = other[prop];\n        }\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Extend object a with selected properties of object b or a series of objects\n   * Only properties with defined values are copied\n   * @param {Array.<String>} props\n   * @param {Object} a\n   * @param {... Object} b\n   * @return {Object} a\n   */\n  exports.selectiveDeepExtend = function (props, a, b) {\n    // TODO: add support for Arrays to deepExtend\n    if (Array.isArray(b)) {\n      throw new TypeError(\'Arrays are not supported by deepExtend\');\n    }\n    for (var i = 2; i < arguments.length; i++) {\n      var other = arguments[i];\n      for (var p = 0; p < props.length; p++) {\n        var prop = props[p];\n        if (other.hasOwnProperty(prop)) {\n          if (b[prop] && b[prop].constructor === Object) {\n            if (a[prop] === undefined) {\n              a[prop] = {};\n            }\n            if (a[prop].constructor === Object) {\n              exports.deepExtend(a[prop], b[prop]);\n            }\n            else {\n              a[prop] = b[prop];\n            }\n          } else if (Array.isArray(b[prop])) {\n            throw new TypeError(\'Arrays are not supported by deepExtend\');\n          } else {\n            a[prop] = b[prop];\n          }\n\n        }\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Extend object a with selected properties of object b or a series of objects\n   * Only properties with defined values are copied\n   * @param {Array.<String>} props\n   * @param {Object} a\n   * @param {... Object} b\n   * @return {Object} a\n   */\n  exports.selectiveNotDeepExtend = function (props, a, b) {\n    // TODO: add support for Arrays to deepExtend\n    if (Array.isArray(b)) {\n      throw new TypeError(\'Arrays are not supported by deepExtend\');\n    }\n    for (var prop in b) {\n      if (b.hasOwnProperty(prop)) {\n        if (props.indexOf(prop) == -1) {\n          if (b[prop] && b[prop].constructor === Object) {\n            if (a[prop] === undefined) {\n              a[prop] = {};\n            }\n            if (a[prop].constructor === Object) {\n              exports.deepExtend(a[prop], b[prop]);\n            }\n            else {\n              a[prop] = b[prop];\n            }\n          } else if (Array.isArray(b[prop])) {\n            throw new TypeError(\'Arrays are not supported by deepExtend\');\n          } else {\n            a[prop] = b[prop];\n          }\n        }\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Deep extend an object a with the properties of object b\n   * @param {Object} a\n   * @param {Object} b\n   * @returns {Object}\n   */\n  exports.deepExtend = function(a, b) {\n    // TODO: add support for Arrays to deepExtend\n    if (Array.isArray(b)) {\n      throw new TypeError(\'Arrays are not supported by deepExtend\');\n    }\n\n    for (var prop in b) {\n      if (b.hasOwnProperty(prop)) {\n        if (b[prop] && b[prop].constructor === Object) {\n          if (a[prop] === undefined) {\n            a[prop] = {};\n          }\n          if (a[prop].constructor === Object) {\n            exports.deepExtend(a[prop], b[prop]);\n          }\n          else {\n            a[prop] = b[prop];\n          }\n        } else if (Array.isArray(b[prop])) {\n          throw new TypeError(\'Arrays are not supported by deepExtend\');\n        } else {\n          a[prop] = b[prop];\n        }\n      }\n    }\n    return a;\n  };\n\n  /**\n   * Test whether all elements in two arrays are equal.\n   * @param {Array} a\n   * @param {Array} b\n   * @return {boolean} Returns true if both arrays have the same length and same\n   *                   elements.\n   */\n  exports.equalArray = function (a, b) {\n    if (a.length != b.length) return false;\n\n    for (var i = 0, len = a.length; i < len; i++) {\n      if (a[i] != b[i]) return false;\n    }\n\n    return true;\n  };\n\n  /**\n   * Convert an object to another type\n   * @param {Boolean | Number | String | Date | Moment | Null | undefined} object\n   * @param {String | undefined} type   Name of the type. Available types:\n   *                                    \'Boolean\', \'Number\', \'String\',\n   *                                    \'Date\', \'Moment\', ISODate\', \'ASPDate\'.\n   * @return {*} object\n   * @throws Error\n   */\n  exports.convert = function(object, type) {\n    var match;\n\n    if (object === undefined) {\n      return undefined;\n    }\n    if (object === null) {\n      return null;\n    }\n\n    if (!type) {\n      return object;\n    }\n    if (!(typeof type === \'string\') && !(type instanceof String)) {\n      throw new Error(\'Type must be a string\');\n    }\n\n    //noinspection FallthroughInSwitchStatementJS\n    switch (type) {\n      case \'boolean\':\n      case \'Boolean\':\n        return Boolean(object);\n\n      case \'number\':\n      case \'Number\':\n        return Number(object.valueOf());\n\n      case \'string\':\n      case \'String\':\n        return String(object);\n\n      case \'Date\':\n        if (exports.isNumber(object)) {\n          return new Date(object);\n        }\n        if (object instanceof Date) {\n          return new Date(object.valueOf());\n        }\n        else if (moment.isMoment(object)) {\n          return new Date(object.valueOf());\n        }\n        if (exports.isString(object)) {\n          match = ASPDateRegex.exec(object);\n          if (match) {\n            // object is an ASP date\n            return new Date(Number(match[1])); // parse number\n          }\n          else {\n            return moment(object).toDate(); // parse string\n          }\n        }\n        else {\n          throw new Error(\n              \'Cannot convert object of type \' + exports.getType(object) +\n                  \' to type Date\');\n        }\n\n      case \'Moment\':\n        if (exports.isNumber(object)) {\n          return moment(object);\n        }\n        if (object instanceof Date) {\n          return moment(object.valueOf());\n        }\n        else if (moment.isMoment(object)) {\n          return moment(object);\n        }\n        if (exports.isString(object)) {\n          match = ASPDateRegex.exec(object);\n          if (match) {\n            // object is an ASP date\n            return moment(Number(match[1])); // parse number\n          }\n          else {\n            return moment(object); // parse string\n          }\n        }\n        else {\n          throw new Error(\n              \'Cannot convert object of type \' + exports.getType(object) +\n                  \' to type Date\');\n        }\n\n      case \'ISODate\':\n        if (exports.isNumber(object)) {\n          return new Date(object);\n        }\n        else if (object instanceof Date) {\n          return object.toISOString();\n        }\n        else if (moment.isMoment(object)) {\n          return object.toDate().toISOString();\n        }\n        else if (exports.isString(object)) {\n          match = ASPDateRegex.exec(object);\n          if (match) {\n            // object is an ASP date\n            return new Date(Number(match[1])).toISOString(); // parse number\n          }\n          else {\n            return new Date(object).toISOString(); // parse string\n          }\n        }\n        else {\n          throw new Error(\n              \'Cannot convert object of type \' + exports.getType(object) +\n                  \' to type ISODate\');\n        }\n\n      case \'ASPDate\':\n        if (exports.isNumber(object)) {\n          return \'/Date(\' + object + \')/\';\n        }\n        else if (object instanceof Date) {\n          return \'/Date(\' + object.valueOf() + \')/\';\n        }\n        else if (exports.isString(object)) {\n          match = ASPDateRegex.exec(object);\n          var value;\n          if (match) {\n            // object is an ASP date\n            value = new Date(Number(match[1])).valueOf(); // parse number\n          }\n          else {\n            value = new Date(object).valueOf(); // parse string\n          }\n          return \'/Date(\' + value + \')/\';\n        }\n        else {\n          throw new Error(\n              \'Cannot convert object of type \' + exports.getType(object) +\n                  \' to type ASPDate\');\n        }\n\n      default:\n        throw new Error(\'Unknown type "\' + type + \'"\');\n    }\n  };\n\n  // parse ASP.Net Date pattern,\n  // for example \'/Date(1198908717056)/\' or \'/Date(1198908717056-0700)/\'\n  // code from http://momentjs.com/\n  var ASPDateRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n  /**\n   * Get the type of an object, for example exports.getType([]) returns \'Array\'\n   * @param {*} object\n   * @return {String} type\n   */\n  exports.getType = function(object) {\n    var type = typeof object;\n\n    if (type == \'object\') {\n      if (object == null) {\n        return \'null\';\n      }\n      if (object instanceof Boolean) {\n        return \'Boolean\';\n      }\n      if (object instanceof Number) {\n        return \'Number\';\n      }\n      if (object instanceof String) {\n        return \'String\';\n      }\n      if (Array.isArray(object)) {\n        return \'Array\';\n      }\n      if (object instanceof Date) {\n        return \'Date\';\n      }\n      return \'Object\';\n    }\n    else if (type == \'number\') {\n      return \'Number\';\n    }\n    else if (type == \'boolean\') {\n      return \'Boolean\';\n    }\n    else if (type == \'string\') {\n      return \'String\';\n    }\n\n    return type;\n  };\n\n  /**\n   * Retrieve the absolute left value of a DOM element\n   * @param {Element} elem        A dom element, for example a div\n   * @return {number} left        The absolute left position of this element\n   *                              in the browser page.\n   */\n  exports.getAbsoluteLeft = function(elem) {\n    return elem.getBoundingClientRect().left + window.pageXOffset;\n  };\n\n  /**\n   * Retrieve the absolute top value of a DOM element\n   * @param {Element} elem        A dom element, for example a div\n   * @return {number} top        The absolute top position of this element\n   *                              in the browser page.\n   */\n  exports.getAbsoluteTop = function(elem) {\n    return elem.getBoundingClientRect().top + window.pageYOffset;\n  };\n\n  /**\n   * add a className to the given elements style\n   * @param {Element} elem\n   * @param {String} className\n   */\n  exports.addClassName = function(elem, className) {\n    var classes = elem.className.split(\' \');\n    if (classes.indexOf(className) == -1) {\n      classes.push(className); // add the class to the array\n      elem.className = classes.join(\' \');\n    }\n  };\n\n  /**\n   * add a className to the given elements style\n   * @param {Element} elem\n   * @param {String} className\n   */\n  exports.removeClassName = function(elem, className) {\n    var classes = elem.className.split(\' \');\n    var index = classes.indexOf(className);\n    if (index != -1) {\n      classes.splice(index, 1); // remove the class from the array\n      elem.className = classes.join(\' \');\n    }\n  };\n\n  /**\n   * For each method for both arrays and objects.\n   * In case of an array, the built-in Array.forEach() is applied.\n   * In case of an Object, the method loops over all properties of the object.\n   * @param {Object | Array} object   An Object or Array\n   * @param {function} callback       Callback method, called for each item in\n   *                                  the object or array with three parameters:\n   *                                  callback(value, index, object)\n   */\n  exports.forEach = function(object, callback) {\n    var i,\n        len;\n    if (Array.isArray(object)) {\n      // array\n      for (i = 0, len = object.length; i < len; i++) {\n        callback(object[i], i, object);\n      }\n    }\n    else {\n      // object\n      for (i in object) {\n        if (object.hasOwnProperty(i)) {\n          callback(object[i], i, object);\n        }\n      }\n    }\n  };\n\n  /**\n   * Convert an object into an array: all objects properties are put into the\n   * array. The resulting array is unordered.\n   * @param {Object} object\n   * @param {Array} array\n   */\n  exports.toArray = function(object) {\n    var array = [];\n\n    for (var prop in object) {\n      if (object.hasOwnProperty(prop)) array.push(object[prop]);\n    }\n\n    return array;\n  }\n\n  /**\n   * Update a property in an object\n   * @param {Object} object\n   * @param {String} key\n   * @param {*} value\n   * @return {Boolean} changed\n   */\n  exports.updateProperty = function(object, key, value) {\n    if (object[key] !== value) {\n      object[key] = value;\n      return true;\n    }\n    else {\n      return false;\n    }\n  };\n\n  /**\n   * Add and event listener. Works for all browsers\n   * @param {Element}     element    An html element\n   * @param {string}      action     The action, for example "click",\n   *                                 without the prefix "on"\n   * @param {function}    listener   The callback function to be executed\n   * @param {boolean}     [useCapture]\n   */\n  exports.addEventListener = function(element, action, listener, useCapture) {\n    if (element.addEventListener) {\n      if (useCapture === undefined)\n        useCapture = false;\n\n      if (action === "mousewheel" && navigator.userAgent.indexOf("Firefox") >= 0) {\n        action = "DOMMouseScroll";  // For Firefox\n      }\n\n      element.addEventListener(action, listener, useCapture);\n    } else {\n      element.attachEvent("on" + action, listener);  // IE browsers\n    }\n  };\n\n  /**\n   * Remove an event listener from an element\n   * @param {Element}     element         An html dom element\n   * @param {string}      action          The name of the event, for example "mousedown"\n   * @param {function}    listener        The listener function\n   * @param {boolean}     [useCapture]\n   */\n  exports.removeEventListener = function(element, action, listener, useCapture) {\n    if (element.removeEventListener) {\n      // non-IE browsers\n      if (useCapture === undefined)\n        useCapture = false;\n\n      if (action === "mousewheel" && navigator.userAgent.indexOf("Firefox") >= 0) {\n        action = "DOMMouseScroll";  // For Firefox\n      }\n\n      element.removeEventListener(action, listener, useCapture);\n    } else {\n      // IE browsers\n      element.detachEvent("on" + action, listener);\n    }\n  };\n\n  /**\n   * Cancels the event if it is cancelable, without stopping further propagation of the event.\n   */\n  exports.preventDefault = function (event) {\n    if (!event)\n      event = window.event;\n\n    if (event.preventDefault) {\n      event.preventDefault();  // non-IE browsers\n    }\n    else {\n      event.returnValue = false;  // IE browsers\n    }\n  };\n\n  /**\n   * Get HTML element which is the target of the event\n   * @param {Event} event\n   * @return {Element} target element\n   */\n  exports.getTarget = function(event) {\n    // code from http://www.quirksmode.org/js/events_properties.html\n    if (!event) {\n      event = window.event;\n    }\n\n    var target;\n\n    if (event.target) {\n      target = event.target;\n    }\n    else if (event.srcElement) {\n      target = event.srcElement;\n    }\n\n    if (target.nodeType != undefined && target.nodeType == 3) {\n      // defeat Safari bug\n      target = target.parentNode;\n    }\n\n    return target;\n  };\n\n  /**\n   * Check if given element contains given parent somewhere in the DOM tree\n   * @param {Element} element\n   * @param {Element} parent\n   */\n  exports.hasParent = function (element, parent) {\n    var e = element;\n\n    while (e) {\n      if (e === parent) {\n        return true;\n      }\n      e = e.parentNode;\n    }\n\n    return false;\n  };\n\n  exports.option = {};\n\n  /**\n   * Convert a value into a boolean\n   * @param {Boolean | function | undefined} value\n   * @param {Boolean} [defaultValue]\n   * @returns {Boolean} bool\n   */\n  exports.option.asBoolean = function (value, defaultValue) {\n    if (typeof value == \'function\') {\n      value = value();\n    }\n\n    if (value != null) {\n      return (value != false);\n    }\n\n    return defaultValue || null;\n  };\n\n  /**\n   * Convert a value into a number\n   * @param {Boolean | function | undefined} value\n   * @param {Number} [defaultValue]\n   * @returns {Number} number\n   */\n  exports.option.asNumber = function (value, defaultValue) {\n    if (typeof value == \'function\') {\n      value = value();\n    }\n\n    if (value != null) {\n      return Number(value) || defaultValue || null;\n    }\n\n    return defaultValue || null;\n  };\n\n  /**\n   * Convert a value into a string\n   * @param {String | function | undefined} value\n   * @param {String} [defaultValue]\n   * @returns {String} str\n   */\n  exports.option.asString = function (value, defaultValue) {\n    if (typeof value == \'function\') {\n      value = value();\n    }\n\n    if (value != null) {\n      return String(value);\n    }\n\n    return defaultValue || null;\n  };\n\n  /**\n   * Convert a size or location into a string with pixels or a percentage\n   * @param {String | Number | function | undefined} value\n   * @param {String} [defaultValue]\n   * @returns {String} size\n   */\n  exports.option.asSize = function (value, defaultValue) {\n    if (typeof value == \'function\') {\n      value = value();\n    }\n\n    if (exports.isString(value)) {\n      return value;\n    }\n    else if (exports.isNumber(value)) {\n      return value + \'px\';\n    }\n    else {\n      return defaultValue || null;\n    }\n  };\n\n  /**\n   * Convert a value into a DOM element\n   * @param {HTMLElement | function | undefined} value\n   * @param {HTMLElement} [defaultValue]\n   * @returns {HTMLElement | null} dom\n   */\n  exports.option.asElement = function (value, defaultValue) {\n    if (typeof value == \'function\') {\n      value = value();\n    }\n\n    return value || defaultValue || null;\n  };\n\n  /**\n   * http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\n   *\n   * @param {String} hex\n   * @returns {{r: *, g: *, b: *}} | 255 range\n   */\n  exports.hexToRGB = function(hex) {\n    // Expand shorthand form (e.g. "03F") to full form (e.g. "0033FF")\n    var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    hex = hex.replace(shorthandRegex, function(m, r, g, b) {\n        return r + r + g + g + b + b;\n    });\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : null;\n  };\n\n  /**\n   * This function takes color in hex format or rgb() or rgba() format and overrides the opacity. Returns rgba() string.\n   * @param color\n   * @param opacity\n   * @returns {*}\n   */\n  exports.overrideOpacity = function(color,opacity) {\n    if (color.indexOf("rgb") != -1) {\n      var rgb = color.substr(color.indexOf("(")+1).replace(")","").split(",");\n      return "rgba(" + rgb[0] + "," + rgb[1] + "," + rgb[2] + "," + opacity + ")"\n    }\n    else {\n      var rgb = exports.hexToRGB(color);\n      if (rgb == null) {\n        return color;\n      }\n      else {\n        return "rgba(" + rgb.r + "," + rgb.g + "," + rgb.b + "," + opacity + ")"\n      }\n    }\n  }\n\n  /**\n   *\n   * @param red     0 -- 255\n   * @param green   0 -- 255\n   * @param blue    0 -- 255\n   * @returns {string}\n   * @constructor\n   */\n  exports.RGBToHex = function(red,green,blue) {\n    return "#" + ((1 << 24) + (red << 16) + (green << 8) + blue).toString(16).slice(1);\n  };\n\n  /**\n   * Parse a color property into an object with border, background, and\n   * highlight colors\n   * @param {Object | String} color\n   * @return {Object} colorObject\n   */\n  exports.parseColor = function(color) {\n    var c;\n    if (exports.isString(color)) {\n      if (exports.isValidRGB(color)) {\n        var rgb = color.substr(4).substr(0,color.length-5).split(\',\');\n        color = exports.RGBToHex(rgb[0],rgb[1],rgb[2]);\n      }\n      if (exports.isValidHex(color)) {\n        var hsv = exports.hexToHSV(color);\n        var lighterColorHSV = {h:hsv.h,s:hsv.s * 0.45,v:Math.min(1,hsv.v * 1.05)};\n        var darkerColorHSV  = {h:hsv.h,s:Math.min(1,hsv.v * 1.25),v:hsv.v*0.6};\n        var darkerColorHex  = exports.HSVToHex(darkerColorHSV.h ,darkerColorHSV.h ,darkerColorHSV.v);\n        var lighterColorHex = exports.HSVToHex(lighterColorHSV.h,lighterColorHSV.s,lighterColorHSV.v);\n\n        c = {\n          background: color,\n          border:darkerColorHex,\n          highlight: {\n            background:lighterColorHex,\n            border:darkerColorHex\n          },\n          hover: {\n            background:lighterColorHex,\n            border:darkerColorHex\n          }\n        };\n      }\n      else {\n        c = {\n          background:color,\n          border:color,\n          highlight: {\n            background:color,\n            border:color\n          },\n          hover: {\n            background:color,\n            border:color\n          }\n        };\n      }\n    }\n    else {\n      c = {};\n      c.background = color.background || \'white\';\n      c.border = color.border || c.background;\n\n      if (exports.isString(color.highlight)) {\n        c.highlight = {\n          border: color.highlight,\n          background: color.highlight\n        }\n      }\n      else {\n        c.highlight = {};\n        c.highlight.background = color.highlight && color.highlight.background || c.background;\n        c.highlight.border = color.highlight && color.highlight.border || c.border;\n      }\n\n      if (exports.isString(color.hover)) {\n        c.hover = {\n          border: color.hover,\n          background: color.hover\n        }\n      }\n      else {\n        c.hover = {};\n        c.hover.background = color.hover && color.hover.background || c.background;\n        c.hover.border = color.hover && color.hover.border || c.border;\n      }\n    }\n\n    return c;\n  };\n\n  /**\n   * http://www.javascripter.net/faq/rgb2hsv.htm\n   *\n   * @param red\n   * @param green\n   * @param blue\n   * @returns {*}\n   * @constructor\n   */\n  exports.RGBToHSV = function(red,green,blue) {\n    red=red/255; green=green/255; blue=blue/255;\n    var minRGB = Math.min(red,Math.min(green,blue));\n    var maxRGB = Math.max(red,Math.max(green,blue));\n\n    // Black-gray-white\n    if (minRGB == maxRGB) {\n      return {h:0,s:0,v:minRGB};\n    }\n\n    // Colors other than black-gray-white:\n    var d = (red==minRGB) ? green-blue : ((blue==minRGB) ? red-green : blue-red);\n    var h = (red==minRGB) ? 3 : ((blue==minRGB) ? 1 : 5);\n    var hue = 60*(h - d/(maxRGB - minRGB))/360;\n    var saturation = (maxRGB - minRGB)/maxRGB;\n    var value = maxRGB;\n    return {h:hue,s:saturation,v:value};\n  };\n\n  var cssUtil = {\n    // split a string with css styles into an object with key/values\n    split: function (cssText) {\n      var styles = {};\n\n      cssText.split(\';\').forEach(function (style) {\n        if (style.trim() != \'\') {\n          var parts = style.split(\':\');\n          var key = parts[0].trim();\n          var value = parts[1].trim();\n          styles[key] = value;\n        }\n      });\n\n      return styles;\n    },\n\n    // build a css text string from an object with key/values\n    join: function (styles) {\n      return Object.keys(styles)\n          .map(function (key) {\n            return key + \': \' + styles[key];\n          })\n          .join(\'; \');\n    }\n  };\n\n  /**\n   * Append a string with css styles to an element\n   * @param {Element} element\n   * @param {String} cssText\n   */\n  exports.addCssText = function (element, cssText) {\n    var currentStyles = cssUtil.split(element.style.cssText);\n    var newStyles = cssUtil.split(cssText);\n    var styles = exports.extend(currentStyles, newStyles);\n\n    element.style.cssText = cssUtil.join(styles);\n  };\n\n  /**\n   * Remove a string with css styles from an element\n   * @param {Element} element\n   * @param {String} cssText\n   */\n  exports.removeCssText = function (element, cssText) {\n    var styles = cssUtil.split(element.style.cssText);\n    var removeStyles = cssUtil.split(cssText);\n\n    for (var key in removeStyles) {\n      if (removeStyles.hasOwnProperty(key)) {\n        delete styles[key];\n      }\n    }\n\n    element.style.cssText = cssUtil.join(styles);\n  };\n\n  /**\n   * https://gist.github.com/mjijackson/5311256\n   * @param h\n   * @param s\n   * @param v\n   * @returns {{r: number, g: number, b: number}}\n   * @constructor\n   */\n  exports.HSVToRGB = function(h, s, v) {\n    var r, g, b;\n\n    var i = Math.floor(h * 6);\n    var f = h * 6 - i;\n    var p = v * (1 - s);\n    var q = v * (1 - f * s);\n    var t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0: r = v, g = t, b = p; break;\n      case 1: r = q, g = v, b = p; break;\n      case 2: r = p, g = v, b = t; break;\n      case 3: r = p, g = q, b = v; break;\n      case 4: r = t, g = p, b = v; break;\n      case 5: r = v, g = p, b = q; break;\n    }\n\n    return {r:Math.floor(r * 255), g:Math.floor(g * 255), b:Math.floor(b * 255) };\n  };\n\n  exports.HSVToHex = function(h, s, v) {\n    var rgb = exports.HSVToRGB(h, s, v);\n    return exports.RGBToHex(rgb.r, rgb.g, rgb.b);\n  };\n\n  exports.hexToHSV = function(hex) {\n    var rgb = exports.hexToRGB(hex);\n    return exports.RGBToHSV(rgb.r, rgb.g, rgb.b);\n  };\n\n  exports.isValidHex = function(hex) {\n    var isOk = /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(hex);\n    return isOk;\n  };\n\n  exports.isValidRGB = function(rgb) {\n    rgb = rgb.replace(" ","");\n    var isOk = /rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/i.test(rgb);\n    return isOk;\n  }\n\n  /**\n   * This recursively redirects the prototype of JSON objects to the referenceObject\n   * This is used for default options.\n   *\n   * @param referenceObject\n   * @returns {*}\n   */\n  exports.selectiveBridgeObject = function(fields, referenceObject) {\n    if (typeof referenceObject == "object") {\n      var objectTo = Object.create(referenceObject);\n      for (var i = 0; i < fields.length; i++) {\n        if (referenceObject.hasOwnProperty(fields[i])) {\n          if (typeof referenceObject[fields[i]] == "object") {\n            objectTo[fields[i]] = exports.bridgeObject(referenceObject[fields[i]]);\n          }\n        }\n      }\n      return objectTo;\n    }\n    else {\n      return null;\n    }\n  };\n\n  /**\n   * This recursively redirects the prototype of JSON objects to the referenceObject\n   * This is used for default options.\n   *\n   * @param referenceObject\n   * @returns {*}\n   */\n  exports.bridgeObject = function(referenceObject) {\n    if (typeof referenceObject == "object") {\n      var objectTo = Object.create(referenceObject);\n      for (var i in referenceObject) {\n        if (referenceObject.hasOwnProperty(i)) {\n          if (typeof referenceObject[i] == "object") {\n            objectTo[i] = exports.bridgeObject(referenceObject[i]);\n          }\n        }\n      }\n      return objectTo;\n    }\n    else {\n      return null;\n    }\n  };\n\n\n  /**\n   * this is used to set the options of subobjects in the options object. A requirement of these subobjects\n   * is that they have an \'enabled\' element which is optional for the user but mandatory for the program.\n   *\n   * @param [object] mergeTarget | this is either this.options or the options used for the groups.\n   * @param [object] options     | options\n   * @param [String] option      | this is the option key in the options argument\n   * @private\n   */\n  exports.mergeOptions = function (mergeTarget, options, option) {\n    if (options[option] !== undefined) {\n      if (typeof options[option] == \'boolean\') {\n        mergeTarget[option].enabled = options[option];\n      }\n      else {\n        mergeTarget[option].enabled = true;\n        for (var prop in options[option]) {\n          if (options[option].hasOwnProperty(prop)) {\n            mergeTarget[option][prop] = options[option][prop];\n          }\n        }\n      }\n    }\n  }\n\n\n  /**\n   * This function does a binary search for a visible item in a sorted list. If we find a visible item, the code that uses\n   * this function will then iterate in both directions over this sorted list to find all visible items.\n   *\n   * @param {Item[]} orderedItems       | Items ordered by start\n   * @param {function} searchFunction   | -1 is lower, 0 is found, 1 is higher\n   * @param {String} field\n   * @param {String} field2\n   * @returns {number}\n   * @private\n   */\n  exports.binarySearchCustom = function(orderedItems, searchFunction, field, field2) {\n    var maxIterations = 10000;\n    var iteration = 0;\n    var low = 0;\n    var high = orderedItems.length - 1;\n\n    while (low <= high && iteration < maxIterations) {\n      var middle = Math.floor((low + high) / 2);\n\n      var item = orderedItems[middle];\n      var value = (field2 === undefined) ? item[field] : item[field][field2];\n\n      var searchResult = searchFunction(value);\n      if (searchResult == 0) { // jihaa, found a visible item!\n        return middle;\n      }\n      else if (searchResult == -1) {  // it is too small --\x3e increase low\n        low = middle + 1;\n      }\n      else {  // it is too big --\x3e decrease high\n        high = middle - 1;\n      }\n\n      iteration++;\n    }\n\n    return -1;\n  };\n\n  /**\n   * This function does a binary search for a specific value in a sorted array. If it does not exist but is in between of\n   * two values, we return either the one before or the one after, depending on user input\n   * If it is found, we return the index, else -1.\n   *\n   * @param {Array} orderedItems\n   * @param {{start: number, end: number}} target\n   * @param {String} field\n   * @param {String} sidePreference   \'before\' or \'after\'\n   * @returns {number}\n   * @private\n   */\n  exports.binarySearchValue = function(orderedItems, target, field, sidePreference) {\n    var maxIterations = 10000;\n    var iteration = 0;\n    var low = 0;\n    var high = orderedItems.length - 1;\n    var prevValue, value, nextValue, middle;\n\n    while (low <= high && iteration < maxIterations) {\n      // get a new guess\n      middle = Math.floor(0.5*(high+low));\n      prevValue = orderedItems[Math.max(0,middle - 1)][field];\n      value     = orderedItems[middle][field];\n      nextValue = orderedItems[Math.min(orderedItems.length-1,middle + 1)][field];\n\n      if (value == target) { // we found the target\n        return middle;\n      }\n      else if (prevValue < target && value > target) {  // target is in between of the previous and the current\n        return sidePreference == \'before\' ? Math.max(0,middle - 1) : middle;\n      }\n      else if (value < target && nextValue > target) { // target is in between of the current and the next\n        return sidePreference == \'before\' ? middle : Math.min(orderedItems.length-1,middle + 1);\n      }\n      else {  // didnt find the target, we need to change our boundaries.\n        if (value < target) { // it is too small --\x3e increase low\n          low = middle + 1;\n        }\n        else {  // it is too big --\x3e decrease high\n          high = middle - 1;\n        }\n      }\n      iteration++;\n    }\n\n    // didnt find anything. Return -1.\n    return -1;\n  };\n\n  /**\n   * Quadratic ease-in-out\n   * http://gizma.com/easing/\n   * @param {number} t        Current time\n   * @param {number} start    Start value\n   * @param {number} end      End value\n   * @param {number} duration Duration\n   * @returns {number} Value corresponding with current time\n   */\n  exports.easeInOutQuad = function (t, start, end, duration) {\n    var change = end - start;\n    t /= duration/2;\n    if (t < 1) return change/2*t*t + start;\n    t--;\n    return -change/2 * (t*(t-2) - 1) + start;\n  };\n\n\n\n  /*\n   * Easing Functions - inspired from http://gizma.com/easing/\n   * only considering the t value for the range [0, 1] => [0, 1]\n   * https://gist.github.com/gre/1650294\n   */\n  exports.easingFunctions = {\n    // no easing, no acceleration\n    linear: function (t) {\n      return t\n    },\n    // accelerating from zero velocity\n    easeInQuad: function (t) {\n      return t * t\n    },\n    // decelerating to zero velocity\n    easeOutQuad: function (t) {\n      return t * (2 - t)\n    },\n    // acceleration until halfway, then deceleration\n    easeInOutQuad: function (t) {\n      return t < .5 ? 2 * t * t : -1 + (4 - 2 * t) * t\n    },\n    // accelerating from zero velocity\n    easeInCubic: function (t) {\n      return t * t * t\n    },\n    // decelerating to zero velocity\n    easeOutCubic: function (t) {\n      return (--t) * t * t + 1\n    },\n    // acceleration until halfway, then deceleration\n    easeInOutCubic: function (t) {\n      return t < .5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1\n    },\n    // accelerating from zero velocity\n    easeInQuart: function (t) {\n      return t * t * t * t\n    },\n    // decelerating to zero velocity\n    easeOutQuart: function (t) {\n      return 1 - (--t) * t * t * t\n    },\n    // acceleration until halfway, then deceleration\n    easeInOutQuart: function (t) {\n      return t < .5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t\n    },\n    // accelerating from zero velocity\n    easeInQuint: function (t) {\n      return t * t * t * t * t\n    },\n    // decelerating to zero velocity\n    easeOutQuint: function (t) {\n      return 1 + (--t) * t * t * t * t\n    },\n    // acceleration until halfway, then deceleration\n    easeInOutQuint: function (t) {\n      return t < .5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t\n    }\n  };\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // DOM utility methods\n\n  /**\n   * this prepares the JSON container for allocating SVG elements\n   * @param JSONcontainer\n   * @private\n   */\n  exports.prepareElements = function(JSONcontainer) {\n    // cleanup the redundant svgElements;\n    for (var elementType in JSONcontainer) {\n      if (JSONcontainer.hasOwnProperty(elementType)) {\n        JSONcontainer[elementType].redundant = JSONcontainer[elementType].used;\n        JSONcontainer[elementType].used = [];\n      }\n    }\n  };\n\n  /**\n   * this cleans up all the unused SVG elements. By asking for the parentNode, we only need to supply the JSON container from\n   * which to remove the redundant elements.\n   *\n   * @param JSONcontainer\n   * @private\n   */\n  exports.cleanupElements = function(JSONcontainer) {\n    // cleanup the redundant svgElements;\n    for (var elementType in JSONcontainer) {\n      if (JSONcontainer.hasOwnProperty(elementType)) {\n        if (JSONcontainer[elementType].redundant) {\n          for (var i = 0; i < JSONcontainer[elementType].redundant.length; i++) {\n            JSONcontainer[elementType].redundant[i].parentNode.removeChild(JSONcontainer[elementType].redundant[i]);\n          }\n          JSONcontainer[elementType].redundant = [];\n        }\n      }\n    }\n  };\n\n  /**\n   * Allocate or generate an SVG element if needed. Store a reference to it in the JSON container and draw it in the svgContainer\n   * the JSON container and the SVG container have to be supplied so other svg containers (like the legend) can use this.\n   *\n   * @param elementType\n   * @param JSONcontainer\n   * @param svgContainer\n   * @returns {*}\n   * @private\n   */\n  exports.getSVGElement = function (elementType, JSONcontainer, svgContainer) {\n    var element;\n    // allocate SVG element, if it doesnt yet exist, create one.\n    if (JSONcontainer.hasOwnProperty(elementType)) { // this element has been created before\n      // check if there is an redundant element\n      if (JSONcontainer[elementType].redundant.length > 0) {\n        element = JSONcontainer[elementType].redundant[0];\n        JSONcontainer[elementType].redundant.shift();\n      }\n      else {\n        // create a new element and add it to the SVG\n        element = document.createElementNS(\'http://www.w3.org/2000/svg\', elementType);\n        svgContainer.appendChild(element);\n      }\n    }\n    else {\n      // create a new element and add it to the SVG, also create a new object in the svgElements to keep track of it.\n      element = document.createElementNS(\'http://www.w3.org/2000/svg\', elementType);\n      JSONcontainer[elementType] = {used: [], redundant: []};\n      svgContainer.appendChild(element);\n    }\n    JSONcontainer[elementType].used.push(element);\n    return element;\n  };\n\n\n  /**\n   * Allocate or generate an SVG element if needed. Store a reference to it in the JSON container and draw it in the svgContainer\n   * the JSON container and the SVG container have to be supplied so other svg containers (like the legend) can use this.\n   *\n   * @param elementType\n   * @param JSONcontainer\n   * @param DOMContainer\n   * @returns {*}\n   * @private\n   */\n  exports.getDOMElement = function (elementType, JSONcontainer, DOMContainer, insertBefore) {\n    var element;\n    // allocate DOM element, if it doesnt yet exist, create one.\n    if (JSONcontainer.hasOwnProperty(elementType)) { // this element has been created before\n      // check if there is an redundant element\n      if (JSONcontainer[elementType].redundant.length > 0) {\n        element = JSONcontainer[elementType].redundant[0];\n        JSONcontainer[elementType].redundant.shift();\n      }\n      else {\n        // create a new element and add it to the SVG\n        element = document.createElement(elementType);\n        if (insertBefore !== undefined) {\n          DOMContainer.insertBefore(element, insertBefore);\n        }\n        else {\n          DOMContainer.appendChild(element);\n        }\n      }\n    }\n    else {\n      // create a new element and add it to the SVG, also create a new object in the svgElements to keep track of it.\n      element = document.createElement(elementType);\n      JSONcontainer[elementType] = {used: [], redundant: []};\n      if (insertBefore !== undefined) {\n        DOMContainer.insertBefore(element, insertBefore);\n      }\n      else {\n        DOMContainer.appendChild(element);\n      }\n    }\n    JSONcontainer[elementType].used.push(element);\n    return element;\n  };\n\n\n\n\n  /**\n   * draw a point object. this is a seperate function because it can also be called by the legend.\n   * The reason the JSONcontainer and the target SVG svgContainer have to be supplied is so the legend can use these functions\n   * as well.\n   *\n   * @param x\n   * @param y\n   * @param group\n   * @param JSONcontainer\n   * @param svgContainer\n   * @param labelObj\n   * @returns {*}\n   */\n  exports.drawPoint = function(x, y, group, JSONcontainer, svgContainer, labelObj) {\n    var point;\n    if (group.options.drawPoints.style == \'circle\') {\n      point = exports.getSVGElement(\'circle\',JSONcontainer,svgContainer);\n      point.setAttributeNS(null, "cx", x);\n      point.setAttributeNS(null, "cy", y);\n      point.setAttributeNS(null, "r", 0.5 * group.options.drawPoints.size);\n    }\n    else {\n      point = exports.getSVGElement(\'rect\',JSONcontainer,svgContainer);\n      point.setAttributeNS(null, "x", x - 0.5*group.options.drawPoints.size);\n      point.setAttributeNS(null, "y", y - 0.5*group.options.drawPoints.size);\n      point.setAttributeNS(null, "width", group.options.drawPoints.size);\n      point.setAttributeNS(null, "height", group.options.drawPoints.size);\n    }\n\n    if(group.options.drawPoints.styles !== undefined) {\n      point.setAttributeNS(null, "style", group.group.options.drawPoints.styles);\n    }\n    point.setAttributeNS(null, "class", group.className + " point");\n    //handle label \n    var label = exports.getSVGElement(\'text\',JSONcontainer,svgContainer);\n    if (labelObj){\n        if (labelObj.xOffset) {\n          x = x + labelObj.xOffset;\n        }\n\n        if (labelObj.yOffset) {\n          y = y + labelObj.yOffset;\n        }\n        if (labelObj.content) {\n          label.textContent = labelObj.content;\n        }\n\n        if (labelObj.className) {\n          label.setAttributeNS(null, "class", labelObj.className  + " label");\n        }\n\n\n    }\n    label.setAttributeNS(null, "x", x);\n    label.setAttributeNS(null, "y", y);\n    return point;\n  };\n\n  /**\n   * draw a bar SVG element centered on the X coordinate\n   *\n   * @param x\n   * @param y\n   * @param className\n   */\n  exports.drawBar = function (x, y, width, height, className, JSONcontainer, svgContainer) {\n    if (height != 0) {\n      if (height < 0) {\n        height *= -1;\n        y -= height;\n      }\n      var rect = exports.getSVGElement(\'rect\',JSONcontainer, svgContainer);\n      rect.setAttributeNS(null, "x", x - 0.5 * width);\n      rect.setAttributeNS(null, "y", y);\n      rect.setAttributeNS(null, "width", width);\n      rect.setAttributeNS(null, "height", height);\n      rect.setAttributeNS(null, "class", className);\n    }\n  };\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var Queue = __webpack_require__(5);\n\n  /**\n   * DataSet\n   *\n   * Usage:\n   *     var dataSet = new DataSet({\n   *         fieldId: \'_id\',\n   *         type: {\n   *             // ...\n   *         }\n   *     });\n   *\n   *     dataSet.add(item);\n   *     dataSet.add(data);\n   *     dataSet.update(item);\n   *     dataSet.update(data);\n   *     dataSet.remove(id);\n   *     dataSet.remove(ids);\n   *     var data = dataSet.get();\n   *     var data = dataSet.get(id);\n   *     var data = dataSet.get(ids);\n   *     var data = dataSet.get(ids, options, data);\n   *     dataSet.clear();\n   *\n   * A data set can:\n   * - add/remove/update data\n   * - gives triggers upon changes in the data\n   * - can  import/export data in various data formats\n   *\n   * @param {Array | DataTable} [data]    Optional array with initial data\n   * @param {Object} [options]   Available options:\n   *                             {String} fieldId Field name of the id in the\n   *                                              items, \'id\' by default.\n   *                             {Object.<String, String} type\n   *                                              A map with field names as key,\n   *                                              and the field type as value.\n   *                             {Object} queue   Queue changes to the DataSet,\n   *                                              flush them all at once.\n   *                                              Queue options:\n   *                                              - {number} delay  Delay in ms, null by default\n   *                                              - {number} max    Maximum number of entries in the queue, Infinity by default\n   * @constructor DataSet\n   */\n  // TODO: add a DataSet constructor DataSet(data, options)\n  function DataSet (data, options) {\n    // correctly read optional arguments\n    if (data && !Array.isArray(data) && !util.isDataTable(data)) {\n      options = data;\n      data = null;\n    }\n\n    this._options = options || {};\n    this._data = {};                                 // map with data indexed by id\n    this.length = 0;                                 // number of items in the DataSet\n    this._fieldId = this._options.fieldId || \'id\';   // name of the field containing id\n    this._type = {};                                 // internal field types (NOTE: this can differ from this._options.type)\n\n    // all variants of a Date are internally stored as Date, so we can convert\n    // from everything to everything (also from ISODate to Number for example)\n    if (this._options.type) {\n      for (var field in this._options.type) {\n        if (this._options.type.hasOwnProperty(field)) {\n          var value = this._options.type[field];\n          if (value == \'Date\' || value == \'ISODate\' || value == \'ASPDate\') {\n            this._type[field] = \'Date\';\n          }\n          else {\n            this._type[field] = value;\n          }\n        }\n      }\n    }\n\n    // TODO: deprecated since version 1.1.1 (or 2.0.0?)\n    if (this._options.convert) {\n      throw new Error(\'Option "convert" is deprecated. Use "type" instead.\');\n    }\n\n    this._subscribers = {};  // event subscribers\n\n    // add initial data when provided\n    if (data) {\n      this.add(data);\n    }\n\n    this.setOptions(options);\n  }\n\n  /**\n   * @param {Object} [options]   Available options:\n   *                             {Object} queue   Queue changes to the DataSet,\n   *                                              flush them all at once.\n   *                                              Queue options:\n   *                                              - {number} delay  Delay in ms, null by default\n   *                                              - {number} max    Maximum number of entries in the queue, Infinity by default\n   * @param options\n   */\n  DataSet.prototype.setOptions = function(options) {\n    if (options && options.queue !== undefined) {\n      if (options.queue === false) {\n        // delete queue if loaded\n        if (this._queue) {\n          this._queue.destroy();\n          delete this._queue;\n        }\n      }\n      else {\n        // create queue and update its options\n        if (!this._queue) {\n          this._queue = Queue.extend(this, {\n            replace: [\'add\', \'update\', \'remove\']\n          });\n        }\n\n        if (typeof options.queue === \'object\') {\n          this._queue.setOptions(options.queue);\n        }\n      }\n    }\n  };\n\n  /**\n   * Subscribe to an event, add an event listener\n   * @param {String} event        Event name. Available events: \'put\', \'update\',\n   *                              \'remove\'\n   * @param {function} callback   Callback method. Called with three parameters:\n   *                                  {String} event\n   *                                  {Object | null} params\n   *                                  {String | Number} senderId\n   */\n  DataSet.prototype.on = function(event, callback) {\n    var subscribers = this._subscribers[event];\n    if (!subscribers) {\n      subscribers = [];\n      this._subscribers[event] = subscribers;\n    }\n\n    subscribers.push({\n      callback: callback\n    });\n  };\n\n  // TODO: make this function deprecated (replaced with `on` since version 0.5)\n  DataSet.prototype.subscribe = DataSet.prototype.on;\n\n  /**\n   * Unsubscribe from an event, remove an event listener\n   * @param {String} event\n   * @param {function} callback\n   */\n  DataSet.prototype.off = function(event, callback) {\n    var subscribers = this._subscribers[event];\n    if (subscribers) {\n      this._subscribers[event] = subscribers.filter(function (listener) {\n        return (listener.callback != callback);\n      });\n    }\n  };\n\n  // TODO: make this function deprecated (replaced with `on` since version 0.5)\n  DataSet.prototype.unsubscribe = DataSet.prototype.off;\n\n  /**\n   * Trigger an event\n   * @param {String} event\n   * @param {Object | null} params\n   * @param {String} [senderId]       Optional id of the sender.\n   * @private\n   */\n  DataSet.prototype._trigger = function (event, params, senderId) {\n    if (event == \'*\') {\n      throw new Error(\'Cannot trigger event *\');\n    }\n\n    var subscribers = [];\n    if (event in this._subscribers) {\n      subscribers = subscribers.concat(this._subscribers[event]);\n    }\n    if (\'*\' in this._subscribers) {\n      subscribers = subscribers.concat(this._subscribers[\'*\']);\n    }\n\n    for (var i = 0; i < subscribers.length; i++) {\n      var subscriber = subscribers[i];\n      if (subscriber.callback) {\n        subscriber.callback(event, params, senderId || null);\n      }\n    }\n  };\n\n  /**\n   * Add data.\n   * Adding an item will fail when there already is an item with the same id.\n   * @param {Object | Array | DataTable} data\n   * @param {String} [senderId] Optional sender id\n   * @return {Array} addedIds      Array with the ids of the added items\n   */\n  DataSet.prototype.add = function (data, senderId) {\n    var addedIds = [],\n        id,\n        me = this;\n\n    if (Array.isArray(data)) {\n      // Array\n      for (var i = 0, len = data.length; i < len; i++) {\n        id = me._addItem(data[i]);\n        addedIds.push(id);\n      }\n    }\n    else if (util.isDataTable(data)) {\n      // Google DataTable\n      var columns = this._getColumnNames(data);\n      for (var row = 0, rows = data.getNumberOfRows(); row < rows; row++) {\n        var item = {};\n        for (var col = 0, cols = columns.length; col < cols; col++) {\n          var field = columns[col];\n          item[field] = data.getValue(row, col);\n        }\n\n        id = me._addItem(item);\n        addedIds.push(id);\n      }\n    }\n    else if (data instanceof Object) {\n      // Single item\n      id = me._addItem(data);\n      addedIds.push(id);\n    }\n    else {\n      throw new Error(\'Unknown dataType\');\n    }\n\n    if (addedIds.length) {\n      this._trigger(\'add\', {items: addedIds}, senderId);\n    }\n\n    return addedIds;\n  };\n\n  /**\n   * Update existing items. When an item does not exist, it will be created\n   * @param {Object | Array | DataTable} data\n   * @param {String} [senderId] Optional sender id\n   * @return {Array} updatedIds     The ids of the added or updated items\n   */\n  DataSet.prototype.update = function (data, senderId) {\n    var addedIds = [];\n    var updatedIds = [];\n    var updatedData = [];\n    var me = this;\n    var fieldId = me._fieldId;\n\n    var addOrUpdate = function (item) {\n      var id = item[fieldId];\n      if (me._data[id]) {\n        // update item\n        id = me._updateItem(item);\n        updatedIds.push(id);\n        updatedData.push(item);\n      }\n      else {\n        // add new item\n        id = me._addItem(item);\n        addedIds.push(id);\n      }\n    };\n\n    if (Array.isArray(data)) {\n      // Array\n      for (var i = 0, len = data.length; i < len; i++) {\n        addOrUpdate(data[i]);\n      }\n    }\n    else if (util.isDataTable(data)) {\n      // Google DataTable\n      var columns = this._getColumnNames(data);\n      for (var row = 0, rows = data.getNumberOfRows(); row < rows; row++) {\n        var item = {};\n        for (var col = 0, cols = columns.length; col < cols; col++) {\n          var field = columns[col];\n          item[field] = data.getValue(row, col);\n        }\n\n        addOrUpdate(item);\n      }\n    }\n    else if (data instanceof Object) {\n      // Single item\n      addOrUpdate(data);\n    }\n    else {\n      throw new Error(\'Unknown dataType\');\n    }\n\n    if (addedIds.length) {\n      this._trigger(\'add\', {items: addedIds}, senderId);\n    }\n    if (updatedIds.length) {\n      this._trigger(\'update\', {items: updatedIds, data: updatedData}, senderId);\n    }\n\n    return addedIds.concat(updatedIds);\n  };\n\n  /**\n   * Get a data item or multiple items.\n   *\n   * Usage:\n   *\n   *     get()\n   *     get(options: Object)\n   *     get(options: Object, data: Array | DataTable)\n   *\n   *     get(id: Number | String)\n   *     get(id: Number | String, options: Object)\n   *     get(id: Number | String, options: Object, data: Array | DataTable)\n   *\n   *     get(ids: Number[] | String[])\n   *     get(ids: Number[] | String[], options: Object)\n   *     get(ids: Number[] | String[], options: Object, data: Array | DataTable)\n   *\n   * Where:\n   *\n   * {Number | String} id         The id of an item\n   * {Number[] | String{}} ids    An array with ids of items\n   * {Object} options             An Object with options. Available options:\n   *                              {String} [returnType] Type of data to be\n   *                                  returned. Can be \'DataTable\' or \'Array\' (default)\n   *                              {Object.<String, String>} [type]\n   *                              {String[]} [fields] field names to be returned\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * {Array | DataTable} [data]   If provided, items will be appended to this\n   *                              array or table. Required in case of Google\n   *                              DataTable.\n   *\n   * @throws Error\n   */\n  DataSet.prototype.get = function (args) {\n    var me = this;\n\n    // parse the arguments\n    var id, ids, options, data;\n    var firstType = util.getType(arguments[0]);\n    if (firstType == \'String\' || firstType == \'Number\') {\n      // get(id [, options] [, data])\n      id = arguments[0];\n      options = arguments[1];\n      data = arguments[2];\n    }\n    else if (firstType == \'Array\') {\n      // get(ids [, options] [, data])\n      ids = arguments[0];\n      options = arguments[1];\n      data = arguments[2];\n    }\n    else {\n      // get([, options] [, data])\n      options = arguments[0];\n      data = arguments[1];\n    }\n\n    // determine the return type\n    var returnType;\n    if (options && options.returnType) {\n      var allowedValues = ["DataTable", "Array", "Object"];\n      returnType = allowedValues.indexOf(options.returnType) == -1 ? "Array" : options.returnType;\n\n      if (data && (returnType != util.getType(data))) {\n        throw new Error(\'Type of parameter "data" (\' + util.getType(data) + \') \' +\n            \'does not correspond with specified options.type (\' + options.type + \')\');\n      }\n      if (returnType == \'DataTable\' && !util.isDataTable(data)) {\n        throw new Error(\'Parameter "data" must be a DataTable \' +\n            \'when options.type is "DataTable"\');\n      }\n    }\n    else if (data) {\n      returnType = (util.getType(data) == \'DataTable\') ? \'DataTable\' : \'Array\';\n    }\n    else {\n      returnType = \'Array\';\n    }\n\n    // build options\n    var type = options && options.type || this._options.type;\n    var filter = options && options.filter;\n    var items = [], item, itemId, i, len;\n\n    // convert items\n    if (id != undefined) {\n      // return a single item\n      item = me._getItem(id, type);\n      if (filter && !filter(item)) {\n        item = null;\n      }\n    }\n    else if (ids != undefined) {\n      // return a subset of items\n      for (i = 0, len = ids.length; i < len; i++) {\n        item = me._getItem(ids[i], type);\n        if (!filter || filter(item)) {\n          items.push(item);\n        }\n      }\n    }\n    else {\n      // return all items\n      for (itemId in this._data) {\n        if (this._data.hasOwnProperty(itemId)) {\n          item = me._getItem(itemId, type);\n          if (!filter || filter(item)) {\n            items.push(item);\n          }\n        }\n      }\n    }\n\n    // order the results\n    if (options && options.order && id == undefined) {\n      this._sort(items, options.order);\n    }\n\n    // filter fields of the items\n    if (options && options.fields) {\n      var fields = options.fields;\n      if (id != undefined) {\n        item = this._filterFields(item, fields);\n      }\n      else {\n        for (i = 0, len = items.length; i < len; i++) {\n          items[i] = this._filterFields(items[i], fields);\n        }\n      }\n    }\n\n    // return the results\n    if (returnType == \'DataTable\') {\n      var columns = this._getColumnNames(data);\n      if (id != undefined) {\n        // append a single item to the data table\n        me._appendRow(data, columns, item);\n      }\n      else {\n        // copy the items to the provided data table\n        for (i = 0; i < items.length; i++) {\n          me._appendRow(data, columns, items[i]);\n        }\n      }\n      return data;\n    }\n    else if (returnType == "Object") {\n      var result = {};\n      for (i = 0; i < items.length; i++) {\n        result[items[i].id] = items[i];\n      }\n      return result;\n    }\n    else {\n      // return an array\n      if (id != undefined) {\n        // a single item\n        return item;\n      }\n      else {\n        // multiple items\n        if (data) {\n          // copy the items to the provided array\n          for (i = 0, len = items.length; i < len; i++) {\n            data.push(items[i]);\n          }\n          return data;\n        }\n        else {\n          // just return our array\n          return items;\n        }\n      }\n    }\n  };\n\n  /**\n   * Get ids of all items or from a filtered set of items.\n   * @param {Object} [options]    An Object with options. Available options:\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * @return {Array} ids\n   */\n  DataSet.prototype.getIds = function (options) {\n    var data = this._data,\n        filter = options && options.filter,\n        order = options && options.order,\n        type = options && options.type || this._options.type,\n        i,\n        len,\n        id,\n        item,\n        items,\n        ids = [];\n\n    if (filter) {\n      // get filtered items\n      if (order) {\n        // create ordered list\n        items = [];\n        for (id in data) {\n          if (data.hasOwnProperty(id)) {\n            item = this._getItem(id, type);\n            if (filter(item)) {\n              items.push(item);\n            }\n          }\n        }\n\n        this._sort(items, order);\n\n        for (i = 0, len = items.length; i < len; i++) {\n          ids[i] = items[i][this._fieldId];\n        }\n      }\n      else {\n        // create unordered list\n        for (id in data) {\n          if (data.hasOwnProperty(id)) {\n            item = this._getItem(id, type);\n            if (filter(item)) {\n              ids.push(item[this._fieldId]);\n            }\n          }\n        }\n      }\n    }\n    else {\n      // get all items\n      if (order) {\n        // create an ordered list\n        items = [];\n        for (id in data) {\n          if (data.hasOwnProperty(id)) {\n            items.push(data[id]);\n          }\n        }\n\n        this._sort(items, order);\n\n        for (i = 0, len = items.length; i < len; i++) {\n          ids[i] = items[i][this._fieldId];\n        }\n      }\n      else {\n        // create unordered list\n        for (id in data) {\n          if (data.hasOwnProperty(id)) {\n            item = data[id];\n            ids.push(item[this._fieldId]);\n          }\n        }\n      }\n    }\n\n    return ids;\n  };\n\n  /**\n   * Returns the DataSet itself. Is overwritten for example by the DataView,\n   * which returns the DataSet it is connected to instead.\n   */\n  DataSet.prototype.getDataSet = function () {\n    return this;\n  };\n\n  /**\n   * Execute a callback function for every item in the dataset.\n   * @param {function} callback\n   * @param {Object} [options]    Available options:\n   *                              {Object.<String, String>} [type]\n   *                              {String[]} [fields] filter fields\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   */\n  DataSet.prototype.forEach = function (callback, options) {\n    var filter = options && options.filter,\n        type = options && options.type || this._options.type,\n        data = this._data,\n        item,\n        id;\n\n    if (options && options.order) {\n      // execute forEach on ordered list\n      var items = this.get(options);\n\n      for (var i = 0, len = items.length; i < len; i++) {\n        item = items[i];\n        id = item[this._fieldId];\n        callback(item, id);\n      }\n    }\n    else {\n      // unordered\n      for (id in data) {\n        if (data.hasOwnProperty(id)) {\n          item = this._getItem(id, type);\n          if (!filter || filter(item)) {\n            callback(item, id);\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * Map every item in the dataset.\n   * @param {function} callback\n   * @param {Object} [options]    Available options:\n   *                              {Object.<String, String>} [type]\n   *                              {String[]} [fields] filter fields\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * @return {Object[]} mappedItems\n   */\n  DataSet.prototype.map = function (callback, options) {\n    var filter = options && options.filter,\n        type = options && options.type || this._options.type,\n        mappedItems = [],\n        data = this._data,\n        item;\n\n    // convert and filter items\n    for (var id in data) {\n      if (data.hasOwnProperty(id)) {\n        item = this._getItem(id, type);\n        if (!filter || filter(item)) {\n          mappedItems.push(callback(item, id));\n        }\n      }\n    }\n\n    // order items\n    if (options && options.order) {\n      this._sort(mappedItems, options.order);\n    }\n\n    return mappedItems;\n  };\n\n  /**\n   * Filter the fields of an item\n   * @param {Object | null} item\n   * @param {String[]} fields     Field names\n   * @return {Object | null} filteredItem or null if no item is provided\n   * @private\n   */\n  DataSet.prototype._filterFields = function (item, fields) {\n    if (!item) { // item is null\n      return item;\n    }\n\n    var filteredItem = {};\n\n    if(Array.isArray(fields)){\n      for (var field in item) {\n        if (item.hasOwnProperty(field) && (fields.indexOf(field) != -1)) {\n          filteredItem[field] = item[field];\n        }\n      }\n    }else{\n      for (var field in item) {\n        if (item.hasOwnProperty(field) && fields.hasOwnProperty(field)) {\n          filteredItem[fields[field]] = item[field];\n        }\n      }\n    }\n\n    return filteredItem;\n  };\n\n  /**\n   * Sort the provided array with items\n   * @param {Object[]} items\n   * @param {String | function} order      A field name or custom sort function.\n   * @private\n   */\n  DataSet.prototype._sort = function (items, order) {\n    if (util.isString(order)) {\n      // order by provided field name\n      var name = order; // field name\n      items.sort(function (a, b) {\n        var av = a[name];\n        var bv = b[name];\n        return (av > bv) ? 1 : ((av < bv) ? -1 : 0);\n      });\n    }\n    else if (typeof order === \'function\') {\n      // order by sort function\n      items.sort(order);\n    }\n    // TODO: extend order by an Object {field:String, direction:String}\n    //       where direction can be \'asc\' or \'desc\'\n    else {\n      throw new TypeError(\'Order must be a function or a string\');\n    }\n  };\n\n  /**\n   * Remove an object by pointer or by id\n   * @param {String | Number | Object | Array} id Object or id, or an array with\n   *                                              objects or ids to be removed\n   * @param {String} [senderId] Optional sender id\n   * @return {Array} removedIds\n   */\n  DataSet.prototype.remove = function (id, senderId) {\n    var removedIds = [],\n        i, len, removedId;\n\n    if (Array.isArray(id)) {\n      for (i = 0, len = id.length; i < len; i++) {\n        removedId = this._remove(id[i]);\n        if (removedId != null) {\n          removedIds.push(removedId);\n        }\n      }\n    }\n    else {\n      removedId = this._remove(id);\n      if (removedId != null) {\n        removedIds.push(removedId);\n      }\n    }\n\n    if (removedIds.length) {\n      this._trigger(\'remove\', {items: removedIds}, senderId);\n    }\n\n    return removedIds;\n  };\n\n  /**\n   * Remove an item by its id\n   * @param {Number | String | Object} id   id or item\n   * @returns {Number | String | null} id\n   * @private\n   */\n  DataSet.prototype._remove = function (id) {\n    if (util.isNumber(id) || util.isString(id)) {\n      if (this._data[id]) {\n        delete this._data[id];\n        this.length--;\n        return id;\n      }\n    }\n    else if (id instanceof Object) {\n      var itemId = id[this._fieldId];\n      if (itemId && this._data[itemId]) {\n        delete this._data[itemId];\n        this.length--;\n        return itemId;\n      }\n    }\n    return null;\n  };\n\n  /**\n   * Clear the data\n   * @param {String} [senderId] Optional sender id\n   * @return {Array} removedIds    The ids of all removed items\n   */\n  DataSet.prototype.clear = function (senderId) {\n    var ids = Object.keys(this._data);\n\n    this._data = {};\n    this.length = 0;\n\n    this._trigger(\'remove\', {items: ids}, senderId);\n\n    return ids;\n  };\n\n  /**\n   * Find the item with maximum value of a specified field\n   * @param {String} field\n   * @return {Object | null} item  Item containing max value, or null if no items\n   */\n  DataSet.prototype.max = function (field) {\n    var data = this._data,\n        max = null,\n        maxField = null;\n\n    for (var id in data) {\n      if (data.hasOwnProperty(id)) {\n        var item = data[id];\n        var itemField = item[field];\n        if (itemField != null && (!max || itemField > maxField)) {\n          max = item;\n          maxField = itemField;\n        }\n      }\n    }\n\n    return max;\n  };\n\n  /**\n   * Find the item with minimum value of a specified field\n   * @param {String} field\n   * @return {Object | null} item  Item containing max value, or null if no items\n   */\n  DataSet.prototype.min = function (field) {\n    var data = this._data,\n        min = null,\n        minField = null;\n\n    for (var id in data) {\n      if (data.hasOwnProperty(id)) {\n        var item = data[id];\n        var itemField = item[field];\n        if (itemField != null && (!min || itemField < minField)) {\n          min = item;\n          minField = itemField;\n        }\n      }\n    }\n\n    return min;\n  };\n\n  /**\n   * Find all distinct values of a specified field\n   * @param {String} field\n   * @return {Array} values  Array containing all distinct values. If data items\n   *                         do not contain the specified field are ignored.\n   *                         The returned array is unordered.\n   */\n  DataSet.prototype.distinct = function (field) {\n    var data = this._data;\n    var values = [];\n    var fieldType = this._options.type && this._options.type[field] || null;\n    var count = 0;\n    var i;\n\n    for (var prop in data) {\n      if (data.hasOwnProperty(prop)) {\n        var item = data[prop];\n        var value = item[field];\n        var exists = false;\n        for (i = 0; i < count; i++) {\n          if (values[i] == value) {\n            exists = true;\n            break;\n          }\n        }\n        if (!exists && (value !== undefined)) {\n          values[count] = value;\n          count++;\n        }\n      }\n    }\n\n    if (fieldType) {\n      for (i = 0; i < values.length; i++) {\n        values[i] = util.convert(values[i], fieldType);\n      }\n    }\n\n    return values;\n  };\n\n  /**\n   * Add a single item. Will fail when an item with the same id already exists.\n   * @param {Object} item\n   * @return {String} id\n   * @private\n   */\n  DataSet.prototype._addItem = function (item) {\n    var id = item[this._fieldId];\n\n    if (id != undefined) {\n      // check whether this id is already taken\n      if (this._data[id]) {\n        // item already exists\n        throw new Error(\'Cannot add item: item with id \' + id + \' already exists\');\n      }\n    }\n    else {\n      // generate an id\n      id = util.randomUUID();\n      item[this._fieldId] = id;\n    }\n\n    var d = {};\n    for (var field in item) {\n      if (item.hasOwnProperty(field)) {\n        var fieldType = this._type[field];  // type may be undefined\n        d[field] = util.convert(item[field], fieldType);\n      }\n    }\n    this._data[id] = d;\n    this.length++;\n\n    return id;\n  };\n\n  /**\n   * Get an item. Fields can be converted to a specific type\n   * @param {String} id\n   * @param {Object.<String, String>} [types]  field types to convert\n   * @return {Object | null} item\n   * @private\n   */\n  DataSet.prototype._getItem = function (id, types) {\n    var field, value;\n\n    // get the item from the dataset\n    var raw = this._data[id];\n    if (!raw) {\n      return null;\n    }\n\n    // convert the items field types\n    var converted = {};\n    if (types) {\n      for (field in raw) {\n        if (raw.hasOwnProperty(field)) {\n          value = raw[field];\n          converted[field] = util.convert(value, types[field]);\n        }\n      }\n    }\n    else {\n      // no field types specified, no converting needed\n      for (field in raw) {\n        if (raw.hasOwnProperty(field)) {\n          value = raw[field];\n          converted[field] = value;\n        }\n      }\n    }\n    return converted;\n  };\n\n  /**\n   * Update a single item: merge with existing item.\n   * Will fail when the item has no id, or when there does not exist an item\n   * with the same id.\n   * @param {Object} item\n   * @return {String} id\n   * @private\n   */\n  DataSet.prototype._updateItem = function (item) {\n    var id = item[this._fieldId];\n    if (id == undefined) {\n      throw new Error(\'Cannot update item: item has no id (item: \' + JSON.stringify(item) + \')\');\n    }\n    var d = this._data[id];\n    if (!d) {\n      // item doesn\'t exist\n      throw new Error(\'Cannot update item: no item with id \' + id + \' found\');\n    }\n\n    // merge with current item\n    for (var field in item) {\n      if (item.hasOwnProperty(field)) {\n        var fieldType = this._type[field];  // type may be undefined\n        d[field] = util.convert(item[field], fieldType);\n      }\n    }\n\n    return id;\n  };\n\n  /**\n   * Get an array with the column names of a Google DataTable\n   * @param {DataTable} dataTable\n   * @return {String[]} columnNames\n   * @private\n   */\n  DataSet.prototype._getColumnNames = function (dataTable) {\n    var columns = [];\n    for (var col = 0, cols = dataTable.getNumberOfColumns(); col < cols; col++) {\n      columns[col] = dataTable.getColumnId(col) || dataTable.getColumnLabel(col);\n    }\n    return columns;\n  };\n\n  /**\n   * Append an item as a row to the dataTable\n   * @param dataTable\n   * @param columns\n   * @param item\n   * @private\n   */\n  DataSet.prototype._appendRow = function (dataTable, columns, item) {\n    var row = dataTable.addRow();\n\n    for (var col = 0, cols = columns.length; col < cols; col++) {\n      var field = columns[col];\n      dataTable.setValue(row, col, item[field]);\n    }\n  };\n\n  module.exports = DataSet;\n\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(3);\n\n  /**\n   * DataView\n   *\n   * a dataview offers a filtered view on a dataset or an other dataview.\n   *\n   * @param {DataSet | DataView} data\n   * @param {Object} [options]   Available options: see method get\n   *\n   * @constructor DataView\n   */\n  function DataView (data, options) {\n    this._data = null;\n    this._ids = {}; // ids of the items currently in memory (just contains a boolean true)\n    this.length = 0; // number of items in the DataView\n    this._options = options || {};\n    this._fieldId = \'id\'; // name of the field containing id\n    this._subscribers = {}; // event subscribers\n\n    var me = this;\n    this.listener = function () {\n      me._onEvent.apply(me, arguments);\n    };\n\n    this.setData(data);\n  }\n\n  // TODO: implement a function .config() to dynamically update things like configured filter\n  // and trigger changes accordingly\n\n  /**\n   * Set a data source for the view\n   * @param {DataSet | DataView} data\n   */\n  DataView.prototype.setData = function (data) {\n    var ids, i, len;\n\n    if (this._data) {\n      // unsubscribe from current dataset\n      if (this._data.unsubscribe) {\n        this._data.unsubscribe(\'*\', this.listener);\n      }\n\n      // trigger a remove of all items in memory\n      ids = [];\n      for (var id in this._ids) {\n        if (this._ids.hasOwnProperty(id)) {\n          ids.push(id);\n        }\n      }\n      this._ids = {};\n      this.length = 0;\n      this._trigger(\'remove\', {items: ids});\n    }\n\n    this._data = data;\n\n    if (this._data) {\n      // update fieldId\n      this._fieldId = this._options.fieldId ||\n          (this._data && this._data.options && this._data.options.fieldId) ||\n          \'id\';\n\n      // trigger an add of all added items\n      ids = this._data.getIds({filter: this._options && this._options.filter});\n      for (i = 0, len = ids.length; i < len; i++) {\n        id = ids[i];\n        this._ids[id] = true;\n      }\n      this.length = ids.length;\n      this._trigger(\'add\', {items: ids});\n\n      // subscribe to new dataset\n      if (this._data.on) {\n        this._data.on(\'*\', this.listener);\n      }\n    }\n  };\n\n  /**\n   * Refresh the DataView. Useful when the DataView has a filter function\n   * containing a variable parameter.\n   */\n  DataView.prototype.refresh = function () {\n    var id;\n    var ids = this._data.getIds({filter: this._options && this._options.filter});\n    var newIds = {};\n    var added = [];\n    var removed = [];\n\n    // check for additions\n    for (var i = 0; i < ids.length; i++) {\n      id = ids[i];\n      newIds[id] = true;\n      if (!this._ids[id]) {\n        added.push(id);\n        this._ids[id] = true;\n        this.length++;\n      }\n    }\n\n    // check for removals\n    for (id in this._ids) {\n      if (this._ids.hasOwnProperty(id)) {\n        if (!newIds[id]) {\n          removed.push(id);\n          delete this._ids[id];\n          this.length--;\n        }\n      }\n    }\n\n    // trigger events\n    if (added.length) {\n      this._trigger(\'add\', {items: added});\n    }\n    if (removed.length) {\n      this._trigger(\'remove\', {items: removed});\n    }\n  };\n\n  /**\n   * Get data from the data view\n   *\n   * Usage:\n   *\n   *     get()\n   *     get(options: Object)\n   *     get(options: Object, data: Array | DataTable)\n   *\n   *     get(id: Number)\n   *     get(id: Number, options: Object)\n   *     get(id: Number, options: Object, data: Array | DataTable)\n   *\n   *     get(ids: Number[])\n   *     get(ids: Number[], options: Object)\n   *     get(ids: Number[], options: Object, data: Array | DataTable)\n   *\n   * Where:\n   *\n   * {Number | String} id         The id of an item\n   * {Number[] | String{}} ids    An array with ids of items\n   * {Object} options             An Object with options. Available options:\n   *                              {String} [type] Type of data to be returned. Can\n   *                                              be \'DataTable\' or \'Array\' (default)\n   *                              {Object.<String, String>} [convert]\n   *                              {String[]} [fields] field names to be returned\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * {Array | DataTable} [data]   If provided, items will be appended to this\n   *                              array or table. Required in case of Google\n   *                              DataTable.\n   * @param args\n   */\n  DataView.prototype.get = function (args) {\n    var me = this;\n\n    // parse the arguments\n    var ids, options, data;\n    var firstType = util.getType(arguments[0]);\n    if (firstType == \'String\' || firstType == \'Number\' || firstType == \'Array\') {\n      // get(id(s) [, options] [, data])\n      ids = arguments[0];  // can be a single id or an array with ids\n      options = arguments[1];\n      data = arguments[2];\n    }\n    else {\n      // get([, options] [, data])\n      options = arguments[0];\n      data = arguments[1];\n    }\n\n    // extend the options with the default options and provided options\n    var viewOptions = util.extend({}, this._options, options);\n\n    // create a combined filter method when needed\n    if (this._options.filter && options && options.filter) {\n      viewOptions.filter = function (item) {\n        return me._options.filter(item) && options.filter(item);\n      }\n    }\n\n    // build up the call to the linked data set\n    var getArguments = [];\n    if (ids != undefined) {\n      getArguments.push(ids);\n    }\n    getArguments.push(viewOptions);\n    getArguments.push(data);\n\n    return this._data && this._data.get.apply(this._data, getArguments);\n  };\n\n  /**\n   * Get ids of all items or from a filtered set of items.\n   * @param {Object} [options]    An Object with options. Available options:\n   *                              {function} [filter] filter items\n   *                              {String | function} [order] Order the items by\n   *                                  a field name or custom sort function.\n   * @return {Array} ids\n   */\n  DataView.prototype.getIds = function (options) {\n    var ids;\n\n    if (this._data) {\n      var defaultFilter = this._options.filter;\n      var filter;\n\n      if (options && options.filter) {\n        if (defaultFilter) {\n          filter = function (item) {\n            return defaultFilter(item) && options.filter(item);\n          }\n        }\n        else {\n          filter = options.filter;\n        }\n      }\n      else {\n        filter = defaultFilter;\n      }\n\n      ids = this._data.getIds({\n        filter: filter,\n        order: options && options.order\n      });\n    }\n    else {\n      ids = [];\n    }\n\n    return ids;\n  };\n\n  /**\n   * Get the DataSet to which this DataView is connected. In case there is a chain\n   * of multiple DataViews, the root DataSet of this chain is returned.\n   * @return {DataSet} dataSet\n   */\n  DataView.prototype.getDataSet = function () {\n    var dataSet = this;\n    while (dataSet instanceof DataView) {\n      dataSet = dataSet._data;\n    }\n    return dataSet || null;\n  };\n\n  /**\n   * Event listener. Will propagate all events from the connected data set to\n   * the subscribers of the DataView, but will filter the items and only trigger\n   * when there are changes in the filtered data set.\n   * @param {String} event\n   * @param {Object | null} params\n   * @param {String} senderId\n   * @private\n   */\n  DataView.prototype._onEvent = function (event, params, senderId) {\n    var i, len, id, item;\n    var ids = params && params.items;\n    var data = this._data;\n    var updatedData = [];\n    var added = [];\n    var updated = [];\n    var removed = [];\n\n    if (ids && data) {\n      switch (event) {\n        case \'add\':\n          // filter the ids of the added items\n          for (i = 0, len = ids.length; i < len; i++) {\n            id = ids[i];\n            item = this.get(id);\n            if (item) {\n              this._ids[id] = true;\n              added.push(id);\n            }\n          }\n\n          break;\n\n        case \'update\':\n          // determine the event from the views viewpoint: an updated\n          // item can be added, updated, or removed from this view.\n          for (i = 0, len = ids.length; i < len; i++) {\n            id = ids[i];\n            item = this.get(id);\n\n            if (item) {\n              if (this._ids[id]) {\n                updated.push(id);\n                updatedData.push(params.data[i]);\n              }\n              else {\n                this._ids[id] = true;\n                added.push(id);\n              }\n            }\n            else {\n              if (this._ids[id]) {\n                delete this._ids[id];\n                removed.push(id);\n              }\n              else {\n                // nothing interesting for me :-(\n              }\n            }\n          }\n\n          break;\n\n        case \'remove\':\n          // filter the ids of the removed items\n          for (i = 0, len = ids.length; i < len; i++) {\n            id = ids[i];\n            if (this._ids[id]) {\n              delete this._ids[id];\n              removed.push(id);\n            }\n          }\n\n          break;\n      }\n\n      this.length += added.length - removed.length;\n\n      if (added.length) {\n        this._trigger(\'add\', {items: added}, senderId);\n      }\n      if (updated.length) {\n        this._trigger(\'update\', {items: updated, data: updatedData}, senderId);\n      }\n      if (removed.length) {\n        this._trigger(\'remove\', {items: removed}, senderId);\n      }\n    }\n  };\n\n  // copy subscription functionality from DataSet\n  DataView.prototype.on = DataSet.prototype.on;\n  DataView.prototype.off = DataSet.prototype.off;\n  DataView.prototype._trigger = DataSet.prototype._trigger;\n\n  // TODO: make these functions deprecated (replaced with `on` and `off` since version 0.5)\n  DataView.prototype.subscribe = DataView.prototype.on;\n  DataView.prototype.unsubscribe = DataView.prototype.off;\n\n  module.exports = DataView;\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * A queue\n   * @param {Object} options\n   *            Available options:\n   *            - delay: number    When provided, the queue will be flushed\n   *                               automatically after an inactivity of this delay\n   *                               in milliseconds.\n   *                               Default value is null.\n   *            - max: number      When the queue exceeds the given maximum number\n   *                               of entries, the queue is flushed automatically.\n   *                               Default value of max is Infinity.\n   * @constructor\n   */\n  function Queue(options) {\n    // options\n    this.delay = null;\n    this.max = Infinity;\n\n    // properties\n    this._queue = [];\n    this._timeout = null;\n    this._extended = null;\n\n    this.setOptions(options);\n  }\n\n  /**\n   * Update the configuration of the queue\n   * @param {Object} options\n   *            Available options:\n   *            - delay: number    When provided, the queue will be flushed\n   *                               automatically after an inactivity of this delay\n   *                               in milliseconds.\n   *                               Default value is null.\n   *            - max: number      When the queue exceeds the given maximum number\n   *                               of entries, the queue is flushed automatically.\n   *                               Default value of max is Infinity.\n   * @param options\n   */\n  Queue.prototype.setOptions = function (options) {\n    if (options && typeof options.delay !== \'undefined\') {\n      this.delay = options.delay;\n    }\n    if (options && typeof options.max !== \'undefined\') {\n      this.max = options.max;\n    }\n\n    this._flushIfNeeded();\n  };\n\n  /**\n   * Extend an object with queuing functionality.\n   * The object will be extended with a function flush, and the methods provided\n   * in options.replace will be replaced with queued ones.\n   * @param {Object} object\n   * @param {Object} options\n   *            Available options:\n   *            - replace: Array.<string>\n   *                               A list with method names of the methods\n   *                               on the object to be replaced with queued ones.\n   *            - delay: number    When provided, the queue will be flushed\n   *                               automatically after an inactivity of this delay\n   *                               in milliseconds.\n   *                               Default value is null.\n   *            - max: number      When the queue exceeds the given maximum number\n   *                               of entries, the queue is flushed automatically.\n   *                               Default value of max is Infinity.\n   * @return {Queue} Returns the created queue\n   */\n  Queue.extend = function (object, options) {\n    var queue = new Queue(options);\n\n    if (object.flush !== undefined) {\n      throw new Error(\'Target object already has a property flush\');\n    }\n    object.flush = function () {\n      queue.flush();\n    };\n\n    var methods = [{\n      name: \'flush\',\n      original: undefined\n    }];\n\n    if (options && options.replace) {\n      for (var i = 0; i < options.replace.length; i++) {\n        var name = options.replace[i];\n        methods.push({\n          name: name,\n          original: object[name]\n        });\n        queue.replace(object, name);\n      }\n    }\n\n    queue._extended = {\n      object: object,\n      methods: methods\n    };\n\n    return queue;\n  };\n\n  /**\n   * Destroy the queue. The queue will first flush all queued actions, and in\n   * case it has extended an object, will restore the original object.\n   */\n  Queue.prototype.destroy = function () {\n    this.flush();\n\n    if (this._extended) {\n      var object = this._extended.object;\n      var methods = this._extended.methods;\n      for (var i = 0; i < methods.length; i++) {\n        var method = methods[i];\n        if (method.original) {\n          object[method.name] = method.original;\n        }\n        else {\n          delete object[method.name];\n        }\n      }\n      this._extended = null;\n    }\n  };\n\n  /**\n   * Replace a method on an object with a queued version\n   * @param {Object} object   Object having the method\n   * @param {string} method   The method name\n   */\n  Queue.prototype.replace = function(object, method) {\n    var me = this;\n    var original = object[method];\n    if (!original) {\n      throw new Error(\'Method \' + method + \' undefined\');\n    }\n\n    object[method] = function () {\n      // create an Array with the arguments\n      var args = [];\n      for (var i = 0; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n\n      // add this call to the queue\n      me.queue({\n        args: args,\n        fn: original,\n        context: this\n      });\n    };\n  };\n\n  /**\n   * Queue a call\n   * @param {function | {fn: function, args: Array} | {fn: function, args: Array, context: Object}} entry\n   */\n  Queue.prototype.queue = function(entry) {\n    if (typeof entry === \'function\') {\n      this._queue.push({fn: entry});\n    }\n    else {\n      this._queue.push(entry);\n    }\n\n    this._flushIfNeeded();\n  };\n\n  /**\n   * Check whether the queue needs to be flushed\n   * @private\n   */\n  Queue.prototype._flushIfNeeded = function () {\n    // flush when the maximum is exceeded.\n    if (this._queue.length > this.max) {\n      this.flush();\n    }\n\n    // flush after a period of inactivity when a delay is configured\n    clearTimeout(this._timeout);\n    if (this.queue.length > 0 && typeof this.delay === \'number\') {\n      var me = this;\n      this._timeout = setTimeout(function () {\n        me.flush();\n      }, this.delay);\n    }\n  };\n\n  /**\n   * Flush all queued calls\n   */\n  Queue.prototype.flush = function () {\n    while (this._queue.length > 0) {\n      var entry = this._queue.shift();\n      entry.fn.apply(entry.context || entry.fn, entry.args || []);\n    }\n  };\n\n  module.exports = Queue;\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Emitter = __webpack_require__(56);\n  var DataSet = __webpack_require__(3);\n  var DataView = __webpack_require__(4);\n  var util = __webpack_require__(1);\n  var Point3d = __webpack_require__(10);\n  var Point2d = __webpack_require__(9);\n  var Camera = __webpack_require__(7);\n  var Filter = __webpack_require__(8);\n  var Slider = __webpack_require__(11);\n  var StepNumber = __webpack_require__(12);\n\n  /**\n   * @constructor Graph3d\n   * Graph3d displays data in 3d.\n   *\n   * Graph3d is developed in javascript as a Google Visualization Chart.\n   *\n   * @param {Element} container   The DOM element in which the Graph3d will\n   *                              be created. Normally a div element.\n   * @param {DataSet | DataView | Array} [data]\n   * @param {Object} [options]\n   */\n  function Graph3d(container, data, options) {\n    if (!(this instanceof Graph3d)) {\n      throw new SyntaxError(\'Constructor must be called with the new operator\');\n    }\n\n    // create variables and set default values\n    this.containerElement = container;\n    this.width = \'400px\';\n    this.height = \'400px\';\n    this.margin = 10; // px\n    this.defaultXCenter = \'55%\';\n    this.defaultYCenter = \'50%\';\n\n    this.xLabel = \'x\';\n    this.yLabel = \'y\';\n    this.zLabel = \'z\';\n\n    var passValueFn = function(v) { return v; };\n    this.xValueLabel = passValueFn;\n    this.yValueLabel = passValueFn;\n    this.zValueLabel = passValueFn;\n    \n    this.filterLabel = \'time\';\n    this.legendLabel = \'value\';\n\n    this.style = Graph3d.STYLE.DOT;\n    this.showPerspective = true;\n    this.showGrid = true;\n    this.keepAspectRatio = true;\n    this.showShadow = false;\n    this.showGrayBottom = false; // TODO: this does not work correctly\n    this.showTooltip = false;\n    this.verticalRatio = 0.5; // 0.1 to 1.0, where 1.0 results in a \'cube\'\n\n    this.animationInterval = 1000; // milliseconds\n    this.animationPreload = false;\n\n    this.camera = new Camera();\n    this.eye = new Point3d(0, 0, -1);  // TODO: set eye.z about 3/4 of the width of the window?\n\n    this.dataTable = null;  // The original data table\n    this.dataPoints = null; // The table with point objects\n\n    // the column indexes\n    this.colX = undefined;\n    this.colY = undefined;\n    this.colZ = undefined;\n    this.colValue = undefined;\n    this.colFilter = undefined;\n\n    this.xMin = 0;\n    this.xStep = undefined; // auto by default\n    this.xMax = 1;\n    this.yMin = 0;\n    this.yStep = undefined; // auto by default\n    this.yMax = 1;\n    this.zMin = 0;\n    this.zStep = undefined; // auto by default\n    this.zMax = 1;\n    this.valueMin = 0;\n    this.valueMax = 1;\n    this.xBarWidth = 1;\n    this.yBarWidth = 1;\n    // TODO: customize axis range\n\n    // constants\n    this.colorAxis = \'#4D4D4D\';\n    this.colorGrid = \'#D3D3D3\';\n    this.colorDot = \'#7DC1FF\';\n    this.colorDotBorder = \'#3267D2\';\n\n    // create a frame and canvas\n    this.create();\n\n    // apply options (also when undefined)\n    this.setOptions(options);\n\n    // apply data\n    if (data) {\n      this.setData(data);\n    }\n  }\n\n  // Extend Graph3d with an Emitter mixin\n  Emitter(Graph3d.prototype);\n\n  /**\n   * Calculate the scaling values, dependent on the range in x, y, and z direction\n   */\n  Graph3d.prototype._setScale = function() {\n    this.scale = new Point3d(1 / (this.xMax - this.xMin),\n      1 / (this.yMax - this.yMin),\n      1 / (this.zMax - this.zMin));\n\n    // keep aspect ration between x and y scale if desired\n    if (this.keepAspectRatio) {\n      if (this.scale.x < this.scale.y) {\n        //noinspection JSSuspiciousNameCombination\n        this.scale.y = this.scale.x;\n      }\n      else {\n        //noinspection JSSuspiciousNameCombination\n        this.scale.x = this.scale.y;\n      }\n    }\n\n    // scale the vertical axis\n    this.scale.z *= this.verticalRatio;\n    // TODO: can this be automated? verticalRatio?\n\n    // determine scale for (optional) value\n    this.scale.value = 1 / (this.valueMax - this.valueMin);\n\n    // position the camera arm\n    var xCenter = (this.xMax + this.xMin) / 2 * this.scale.x;\n    var yCenter = (this.yMax + this.yMin) / 2 * this.scale.y;\n    var zCenter = (this.zMax + this.zMin) / 2 * this.scale.z;\n    this.camera.setArmLocation(xCenter, yCenter, zCenter);\n  };\n\n\n  /**\n   * Convert a 3D location to a 2D location on screen\n   * http://en.wikipedia.org/wiki/3D_projection\n   * @param {Point3d} point3d   A 3D point with parameters x, y, z\n   * @return {Point2d} point2d  A 2D point with parameters x, y\n   */\n  Graph3d.prototype._convert3Dto2D = function(point3d) {\n    var translation = this._convertPointToTranslation(point3d);\n    return this._convertTranslationToScreen(translation);\n  };\n\n  /**\n   * Convert a 3D location its translation seen from the camera\n   * http://en.wikipedia.org/wiki/3D_projection\n   * @param {Point3d} point3d    A 3D point with parameters x, y, z\n   * @return {Point3d} translation A 3D point with parameters x, y, z This is\n   *                   the translation of the point, seen from the\n   *                   camera\n   */\n  Graph3d.prototype._convertPointToTranslation = function(point3d) {\n    var ax = point3d.x * this.scale.x,\n      ay = point3d.y * this.scale.y,\n      az = point3d.z * this.scale.z,\n\n      cx = this.camera.getCameraLocation().x,\n      cy = this.camera.getCameraLocation().y,\n      cz = this.camera.getCameraLocation().z,\n\n    // calculate angles\n      sinTx = Math.sin(this.camera.getCameraRotation().x),\n      cosTx = Math.cos(this.camera.getCameraRotation().x),\n      sinTy = Math.sin(this.camera.getCameraRotation().y),\n      cosTy = Math.cos(this.camera.getCameraRotation().y),\n      sinTz = Math.sin(this.camera.getCameraRotation().z),\n      cosTz = Math.cos(this.camera.getCameraRotation().z),\n\n    // calculate translation\n      dx = cosTy * (sinTz * (ay - cy) + cosTz * (ax - cx)) - sinTy * (az - cz),\n      dy = sinTx * (cosTy * (az - cz) + sinTy * (sinTz * (ay - cy) + cosTz * (ax - cx))) + cosTx * (cosTz * (ay - cy) - sinTz * (ax-cx)),\n      dz = cosTx * (cosTy * (az - cz) + sinTy * (sinTz * (ay - cy) + cosTz * (ax - cx))) - sinTx * (cosTz * (ay - cy) - sinTz * (ax-cx));\n\n    return new Point3d(dx, dy, dz);\n  };\n\n  /**\n   * Convert a translation point to a point on the screen\n   * @param {Point3d} translation   A 3D point with parameters x, y, z This is\n   *                    the translation of the point, seen from the\n   *                    camera\n   * @return {Point2d} point2d    A 2D point with parameters x, y\n   */\n  Graph3d.prototype._convertTranslationToScreen = function(translation) {\n    var ex = this.eye.x,\n      ey = this.eye.y,\n      ez = this.eye.z,\n      dx = translation.x,\n      dy = translation.y,\n      dz = translation.z;\n\n    // calculate position on screen from translation\n    var bx;\n    var by;\n    if (this.showPerspective) {\n      bx = (dx - ex) * (ez / dz);\n      by = (dy - ey) * (ez / dz);\n    }\n    else {\n      bx = dx * -(ez / this.camera.getArmLength());\n      by = dy * -(ez / this.camera.getArmLength());\n    }\n\n    // shift and scale the point to the center of the screen\n    // use the width of the graph to scale both horizontally and vertically.\n    return new Point2d(\n      this.xcenter + bx * this.frame.canvas.clientWidth,\n      this.ycenter - by * this.frame.canvas.clientWidth);\n  };\n\n  /**\n   * Set the background styling for the graph\n   * @param {string | {fill: string, stroke: string, strokeWidth: string}} backgroundColor\n   */\n  Graph3d.prototype._setBackgroundColor = function(backgroundColor) {\n    var fill = \'white\';\n    var stroke = \'gray\';\n    var strokeWidth = 1;\n\n    if (typeof(backgroundColor) === \'string\') {\n      fill = backgroundColor;\n      stroke = \'none\';\n      strokeWidth = 0;\n    }\n    else if (typeof(backgroundColor) === \'object\') {\n      if (backgroundColor.fill !== undefined)    fill = backgroundColor.fill;\n      if (backgroundColor.stroke !== undefined)    stroke = backgroundColor.stroke;\n      if (backgroundColor.strokeWidth !== undefined) strokeWidth = backgroundColor.strokeWidth;\n    }\n    else if  (backgroundColor === undefined) {\n      // use use defaults\n    }\n    else {\n      throw \'Unsupported type of backgroundColor\';\n    }\n\n    this.frame.style.backgroundColor = fill;\n    this.frame.style.borderColor = stroke;\n    this.frame.style.borderWidth = strokeWidth + \'px\';\n    this.frame.style.borderStyle = \'solid\';\n  };\n\n\n  /// enumerate the available styles\n  Graph3d.STYLE = {\n    BAR: 0,\n    BARCOLOR: 1,\n    BARSIZE: 2,\n    DOT : 3,\n    DOTLINE : 4,\n    DOTCOLOR: 5,\n    DOTSIZE: 6,\n    GRID : 7,\n    LINE: 8,\n    SURFACE : 9\n  };\n\n  /**\n   * Retrieve the style index from given styleName\n   * @param {string} styleName  Style name such as \'dot\', \'grid\', \'dot-line\'\n   * @return {Number} styleNumber Enumeration value representing the style, or -1\n   *                when not found\n   */\n  Graph3d.prototype._getStyleNumber = function(styleName) {\n    switch (styleName) {\n      case \'dot\':     return Graph3d.STYLE.DOT;\n      case \'dot-line\':  return Graph3d.STYLE.DOTLINE;\n      case \'dot-color\':   return Graph3d.STYLE.DOTCOLOR;\n      case \'dot-size\':  return Graph3d.STYLE.DOTSIZE;\n      case \'line\':    return Graph3d.STYLE.LINE;\n      case \'grid\':    return Graph3d.STYLE.GRID;\n      case \'surface\':   return Graph3d.STYLE.SURFACE;\n      case \'bar\':     return Graph3d.STYLE.BAR;\n      case \'bar-color\':   return Graph3d.STYLE.BARCOLOR;\n      case \'bar-size\':  return Graph3d.STYLE.BARSIZE;\n    }\n\n    return -1;\n  };\n\n  /**\n   * Determine the indexes of the data columns, based on the given style and data\n   * @param {DataSet} data\n   * @param {Number}  style\n   */\n  Graph3d.prototype._determineColumnIndexes = function(data, style) {\n    if (this.style === Graph3d.STYLE.DOT ||\n      this.style === Graph3d.STYLE.DOTLINE ||\n      this.style === Graph3d.STYLE.LINE ||\n      this.style === Graph3d.STYLE.GRID ||\n      this.style === Graph3d.STYLE.SURFACE ||\n      this.style === Graph3d.STYLE.BAR) {\n      // 3 columns expected, and optionally a 4th with filter values\n      this.colX = 0;\n      this.colY = 1;\n      this.colZ = 2;\n      this.colValue = undefined;\n\n      if (data.getNumberOfColumns() > 3) {\n        this.colFilter = 3;\n      }\n    }\n    else if (this.style === Graph3d.STYLE.DOTCOLOR ||\n      this.style === Graph3d.STYLE.DOTSIZE ||\n      this.style === Graph3d.STYLE.BARCOLOR ||\n      this.style === Graph3d.STYLE.BARSIZE) {\n      // 4 columns expected, and optionally a 5th with filter values\n      this.colX = 0;\n      this.colY = 1;\n      this.colZ = 2;\n      this.colValue = 3;\n\n      if (data.getNumberOfColumns() > 4) {\n        this.colFilter = 4;\n      }\n    }\n    else {\n      throw \'Unknown style "\' + this.style + \'"\';\n    }\n  };\n\n  Graph3d.prototype.getNumberOfRows = function(data) {\n    return data.length;\n  }\n\n\n  Graph3d.prototype.getNumberOfColumns = function(data) {\n    var counter = 0;\n    for (var column in data[0]) {\n      if (data[0].hasOwnProperty(column)) {\n        counter++;\n      }\n    }\n    return counter;\n  }\n\n\n  Graph3d.prototype.getDistinctValues = function(data, column) {\n    var distinctValues = [];\n    for (var i = 0; i < data.length; i++) {\n      if (distinctValues.indexOf(data[i][column]) == -1) {\n        distinctValues.push(data[i][column]);\n      }\n    }\n    return distinctValues;\n  }\n\n\n  Graph3d.prototype.getColumnRange = function(data,column) {\n    var minMax = {min:data[0][column],max:data[0][column]};\n    for (var i = 0; i < data.length; i++) {\n      if (minMax.min > data[i][column]) { minMax.min = data[i][column]; }\n      if (minMax.max < data[i][column]) { minMax.max = data[i][column]; }\n    }\n    return minMax;\n  };\n\n  /**\n   * Initialize the data from the data table. Calculate minimum and maximum values\n   * and column index values\n   * @param {Array | DataSet | DataView} rawData   The data containing the items for the Graph.\n   * @param {Number}     style   Style Number\n   */\n  Graph3d.prototype._dataInitialize = function (rawData, style) {\n    var me = this;\n\n    // unsubscribe from the dataTable\n    if (this.dataSet) {\n      this.dataSet.off(\'*\', this._onChange);\n    }\n\n    if (rawData === undefined)\n      return;\n\n    if (Array.isArray(rawData)) {\n      rawData = new DataSet(rawData);\n    }\n\n    var data;\n    if (rawData instanceof DataSet || rawData instanceof DataView) {\n      data = rawData.get();\n    }\n    else {\n      throw new Error(\'Array, DataSet, or DataView expected\');\n    }\n\n    if (data.length == 0)\n      return;\n\n    this.dataSet = rawData;\n    this.dataTable = data;\n\n    // subscribe to changes in the dataset\n    this._onChange = function () {\n      me.setData(me.dataSet);\n    };\n    this.dataSet.on(\'*\', this._onChange);\n\n    // _determineColumnIndexes\n    // getNumberOfRows (points)\n    // getNumberOfColumns (x,y,z,v,t,t1,t2...)\n    // getDistinctValues (unique values?)\n    // getColumnRange\n\n    // determine the location of x,y,z,value,filter columns\n    this.colX = \'x\';\n    this.colY = \'y\';\n    this.colZ = \'z\';\n    this.colValue = \'style\';\n    this.colFilter = \'filter\';\n\n\n\n    // check if a filter column is provided\n    if (data[0].hasOwnProperty(\'filter\')) {\n      if (this.dataFilter === undefined) {\n        this.dataFilter = new Filter(rawData, this.colFilter, this);\n        this.dataFilter.setOnLoadCallback(function() {me.redraw();});\n      }\n    }\n\n\n    var withBars = this.style == Graph3d.STYLE.BAR ||\n      this.style == Graph3d.STYLE.BARCOLOR ||\n      this.style == Graph3d.STYLE.BARSIZE;\n\n    // determine barWidth from data\n    if (withBars) {\n      if (this.defaultXBarWidth !== undefined) {\n        this.xBarWidth = this.defaultXBarWidth;\n      }\n      else {\n        var dataX = this.getDistinctValues(data,this.colX);\n        this.xBarWidth = (dataX[1] - dataX[0]) || 1;\n      }\n\n      if (this.defaultYBarWidth !== undefined) {\n        this.yBarWidth = this.defaultYBarWidth;\n      }\n      else {\n        var dataY = this.getDistinctValues(data,this.colY);\n        this.yBarWidth = (dataY[1] - dataY[0]) || 1;\n      }\n    }\n\n    // calculate minimums and maximums\n    var xRange = this.getColumnRange(data,this.colX);\n    if (withBars) {\n      xRange.min -= this.xBarWidth / 2;\n      xRange.max += this.xBarWidth / 2;\n    }\n    this.xMin = (this.defaultXMin !== undefined) ? this.defaultXMin : xRange.min;\n    this.xMax = (this.defaultXMax !== undefined) ? this.defaultXMax : xRange.max;\n    if (this.xMax <= this.xMin) this.xMax = this.xMin + 1;\n    this.xStep = (this.defaultXStep !== undefined) ? this.defaultXStep : (this.xMax-this.xMin)/5;\n\n    var yRange = this.getColumnRange(data,this.colY);\n    if (withBars) {\n      yRange.min -= this.yBarWidth / 2;\n      yRange.max += this.yBarWidth / 2;\n    }\n    this.yMin = (this.defaultYMin !== undefined) ? this.defaultYMin : yRange.min;\n    this.yMax = (this.defaultYMax !== undefined) ? this.defaultYMax : yRange.max;\n    if (this.yMax <= this.yMin) this.yMax = this.yMin + 1;\n    this.yStep = (this.defaultYStep !== undefined) ? this.defaultYStep : (this.yMax-this.yMin)/5;\n\n    var zRange = this.getColumnRange(data,this.colZ);\n    this.zMin = (this.defaultZMin !== undefined) ? this.defaultZMin : zRange.min;\n    this.zMax = (this.defaultZMax !== undefined) ? this.defaultZMax : zRange.max;\n    if (this.zMax <= this.zMin) this.zMax = this.zMin + 1;\n    this.zStep = (this.defaultZStep !== undefined) ? this.defaultZStep : (this.zMax-this.zMin)/5;\n\n    if (this.colValue !== undefined) {\n      var valueRange = this.getColumnRange(data,this.colValue);\n      this.valueMin = (this.defaultValueMin !== undefined) ? this.defaultValueMin : valueRange.min;\n      this.valueMax = (this.defaultValueMax !== undefined) ? this.defaultValueMax : valueRange.max;\n      if (this.valueMax <= this.valueMin) this.valueMax = this.valueMin + 1;\n    }\n\n    // set the scale dependent on the ranges.\n    this._setScale();\n  };\n\n\n\n  /**\n   * Filter the data based on the current filter\n   * @param {Array} data\n   * @return {Array} dataPoints   Array with point objects which can be drawn on screen\n   */\n  Graph3d.prototype._getDataPoints = function (data) {\n    // TODO: store the created matrix dataPoints in the filters instead of reloading each time\n    var x, y, i, z, obj, point;\n\n    var dataPoints = [];\n\n    if (this.style === Graph3d.STYLE.GRID ||\n      this.style === Graph3d.STYLE.SURFACE) {\n      // copy all values from the google data table to a matrix\n      // the provided values are supposed to form a grid of (x,y) positions\n\n      // create two lists with all present x and y values\n      var dataX = [];\n      var dataY = [];\n      for (i = 0; i < this.getNumberOfRows(data); i++) {\n        x = data[i][this.colX] || 0;\n        y = data[i][this.colY] || 0;\n\n        if (dataX.indexOf(x) === -1) {\n          dataX.push(x);\n        }\n        if (dataY.indexOf(y) === -1) {\n          dataY.push(y);\n        }\n      }\n\n      var sortNumber = function (a, b) {\n        return a - b;\n      };\n      dataX.sort(sortNumber);\n      dataY.sort(sortNumber);\n\n      // create a grid, a 2d matrix, with all values.\n      var dataMatrix = [];   // temporary data matrix\n      for (i = 0; i < data.length; i++) {\n        x = data[i][this.colX] || 0;\n        y = data[i][this.colY] || 0;\n        z = data[i][this.colZ] || 0;\n\n        var xIndex = dataX.indexOf(x);  // TODO: implement Array().indexOf() for Internet Explorer\n        var yIndex = dataY.indexOf(y);\n\n        if (dataMatrix[xIndex] === undefined) {\n          dataMatrix[xIndex] = [];\n        }\n\n        var point3d = new Point3d();\n        point3d.x = x;\n        point3d.y = y;\n        point3d.z = z;\n\n        obj = {};\n        obj.point = point3d;\n        obj.trans = undefined;\n        obj.screen = undefined;\n        obj.bottom = new Point3d(x, y, this.zMin);\n\n        dataMatrix[xIndex][yIndex] = obj;\n\n        dataPoints.push(obj);\n      }\n\n      // fill in the pointers to the neighbors.\n      for (x = 0; x < dataMatrix.length; x++) {\n        for (y = 0; y < dataMatrix[x].length; y++) {\n          if (dataMatrix[x][y]) {\n            dataMatrix[x][y].pointRight = (x < dataMatrix.length-1) ? dataMatrix[x+1][y] : undefined;\n            dataMatrix[x][y].pointTop   = (y < dataMatrix[x].length-1) ? dataMatrix[x][y+1] : undefined;\n            dataMatrix[x][y].pointCross =\n              (x < dataMatrix.length-1 && y < dataMatrix[x].length-1) ?\n                dataMatrix[x+1][y+1] :\n                undefined;\n          }\n        }\n      }\n    }\n    else {  // \'dot\', \'dot-line\', etc.\n      // copy all values from the google data table to a list with Point3d objects\n      for (i = 0; i < data.length; i++) {\n        point = new Point3d();\n        point.x = data[i][this.colX] || 0;\n        point.y = data[i][this.colY] || 0;\n        point.z = data[i][this.colZ] || 0;\n\n        if (this.colValue !== undefined) {\n          point.value = data[i][this.colValue] || 0;\n        }\n\n        obj = {};\n        obj.point = point;\n        obj.bottom = new Point3d(point.x, point.y, this.zMin);\n        obj.trans = undefined;\n        obj.screen = undefined;\n\n        dataPoints.push(obj);\n      }\n    }\n\n    return dataPoints;\n  };\n\n  /**\n   * Create the main frame for the Graph3d.\n   * This function is executed once when a Graph3d object is created. The frame\n   * contains a canvas, and this canvas contains all objects like the axis and\n   * nodes.\n   */\n  Graph3d.prototype.create = function () {\n    // remove all elements from the container element.\n    while (this.containerElement.hasChildNodes()) {\n      this.containerElement.removeChild(this.containerElement.firstChild);\n    }\n\n    this.frame = document.createElement(\'div\');\n    this.frame.style.position = \'relative\';\n    this.frame.style.overflow = \'hidden\';\n\n    // create the graph canvas (HTML canvas element)\n    this.frame.canvas = document.createElement( \'canvas\' );\n    this.frame.canvas.style.position = \'relative\';\n    this.frame.appendChild(this.frame.canvas);\n    //if (!this.frame.canvas.getContext) {\n    {\n      var noCanvas = document.createElement( \'DIV\' );\n      noCanvas.style.color = \'red\';\n      noCanvas.style.fontWeight =  \'bold\' ;\n      noCanvas.style.padding =  \'10px\';\n      noCanvas.innerHTML =  \'Error: your browser does not support HTML canvas\';\n      this.frame.canvas.appendChild(noCanvas);\n    }\n\n    this.frame.filter = document.createElement( \'div\' );\n    this.frame.filter.style.position = \'absolute\';\n    this.frame.filter.style.bottom = \'0px\';\n    this.frame.filter.style.left = \'0px\';\n    this.frame.filter.style.width = \'100%\';\n    this.frame.appendChild(this.frame.filter);\n\n    // add event listeners to handle moving and zooming the contents\n    var me = this;\n    var onmousedown = function (event) {me._onMouseDown(event);};\n    var ontouchstart = function (event) {me._onTouchStart(event);};\n    var onmousewheel = function (event) {me._onWheel(event);};\n    var ontooltip = function (event) {me._onTooltip(event);};\n    // TODO: these events are never cleaned up... can give a \'memory leakage\'\n\n    util.addEventListener(this.frame.canvas, \'keydown\', onkeydown);\n    util.addEventListener(this.frame.canvas, \'mousedown\', onmousedown);\n    util.addEventListener(this.frame.canvas, \'touchstart\', ontouchstart);\n    util.addEventListener(this.frame.canvas, \'mousewheel\', onmousewheel);\n    util.addEventListener(this.frame.canvas, \'mousemove\', ontooltip);\n\n    // add the new graph to the container element\n    this.containerElement.appendChild(this.frame);\n  };\n\n\n  /**\n   * Set a new size for the graph\n   * @param {string} width   Width in pixels or percentage (for example \'800px\'\n   *             or \'50%\')\n   * @param {string} height  Height in pixels or percentage  (for example \'400px\'\n   *             or \'30%\')\n   */\n  Graph3d.prototype.setSize = function(width, height) {\n    this.frame.style.width = width;\n    this.frame.style.height = height;\n\n    this._resizeCanvas();\n  };\n\n  /**\n   * Resize the canvas to the current size of the frame\n   */\n  Graph3d.prototype._resizeCanvas = function() {\n    this.frame.canvas.style.width = \'100%\';\n    this.frame.canvas.style.height = \'100%\';\n\n    this.frame.canvas.width = this.frame.canvas.clientWidth;\n    this.frame.canvas.height = this.frame.canvas.clientHeight;\n\n    // adjust with for margin\n    this.frame.filter.style.width = (this.frame.canvas.clientWidth - 2 * 10) + \'px\';\n  };\n\n  /**\n   * Start animation\n   */\n  Graph3d.prototype.animationStart = function() {\n    if (!this.frame.filter || !this.frame.filter.slider)\n      throw \'No animation available\';\n\n    this.frame.filter.slider.play();\n  };\n\n\n  /**\n   * Stop animation\n   */\n  Graph3d.prototype.animationStop = function() {\n    if (!this.frame.filter || !this.frame.filter.slider) return;\n\n    this.frame.filter.slider.stop();\n  };\n\n\n  /**\n   * Resize the center position based on the current values in this.defaultXCenter\n   * and this.defaultYCenter (which are strings with a percentage or a value\n   * in pixels). The center positions are the variables this.xCenter\n   * and this.yCenter\n   */\n  Graph3d.prototype._resizeCenter = function() {\n    // calculate the horizontal center position\n    if (this.defaultXCenter.charAt(this.defaultXCenter.length-1) === \'%\') {\n      this.xcenter =\n        parseFloat(this.defaultXCenter) / 100 *\n          this.frame.canvas.clientWidth;\n    }\n    else {\n      this.xcenter = parseFloat(this.defaultXCenter); // supposed to be in px\n    }\n\n    // calculate the vertical center position\n    if (this.defaultYCenter.charAt(this.defaultYCenter.length-1) === \'%\') {\n      this.ycenter =\n        parseFloat(this.defaultYCenter) / 100 *\n          (this.frame.canvas.clientHeight - this.frame.filter.clientHeight);\n    }\n    else {\n      this.ycenter = parseFloat(this.defaultYCenter); // supposed to be in px\n    }\n  };\n\n  /**\n   * Set the rotation and distance of the camera\n   * @param {Object} pos   An object with the camera position. The object\n   *             contains three parameters:\n   *             - horizontal {Number}\n   *             The horizontal rotation, between 0 and 2*PI.\n   *             Optional, can be left undefined.\n   *             - vertical {Number}\n   *             The vertical rotation, between 0 and 0.5*PI\n   *             if vertical=0.5*PI, the graph is shown from the\n   *             top. Optional, can be left undefined.\n   *             - distance {Number}\n   *             The (normalized) distance of the camera to the\n   *             center of the graph, a value between 0.71 and 5.0.\n   *             Optional, can be left undefined.\n   */\n  Graph3d.prototype.setCameraPosition = function(pos) {\n    if (pos === undefined) {\n      return;\n    }\n\n    if (pos.horizontal !== undefined && pos.vertical !== undefined) {\n      this.camera.setArmRotation(pos.horizontal, pos.vertical);\n    }\n\n    if (pos.distance !== undefined) {\n      this.camera.setArmLength(pos.distance);\n    }\n\n    this.redraw();\n  };\n\n\n  /**\n   * Retrieve the current camera rotation\n   * @return {object}   An object with parameters horizontal, vertical, and\n   *          distance\n   */\n  Graph3d.prototype.getCameraPosition = function() {\n    var pos = this.camera.getArmRotation();\n    pos.distance = this.camera.getArmLength();\n    return pos;\n  };\n\n  /**\n   * Load data into the 3D Graph\n   */\n  Graph3d.prototype._readData = function(data) {\n    // read the data\n    this._dataInitialize(data, this.style);\n\n\n    if (this.dataFilter) {\n      // apply filtering\n      this.dataPoints = this.dataFilter._getDataPoints();\n    }\n    else {\n      // no filtering. load all data\n      this.dataPoints = this._getDataPoints(this.dataTable);\n    }\n\n    // draw the filter\n    this._redrawFilter();\n  };\n\n  /**\n   * Replace the dataset of the Graph3d\n   * @param {Array | DataSet | DataView} data\n   */\n  Graph3d.prototype.setData = function (data) {\n    this._readData(data);\n    this.redraw();\n\n    // start animation when option is true\n    if (this.animationAutoStart && this.dataFilter) {\n      this.animationStart();\n    }\n  };\n\n  /**\n   * Update the options. Options will be merged with current options\n   * @param {Object} options\n   */\n  Graph3d.prototype.setOptions = function (options) {\n    var cameraPosition = undefined;\n\n    this.animationStop();\n\n    if (options !== undefined) {\n      // retrieve parameter values\n      if (options.width !== undefined)       this.width = options.width;\n      if (options.height !== undefined)      this.height = options.height;\n\n      if (options.xCenter !== undefined)     this.defaultXCenter = options.xCenter;\n      if (options.yCenter !== undefined)     this.defaultYCenter = options.yCenter;\n\n      if (options.filterLabel !== undefined)     this.filterLabel = options.filterLabel;\n      if (options.legendLabel !== undefined)     this.legendLabel = options.legendLabel;\n      if (options.xLabel !== undefined)     this.xLabel = options.xLabel;\n      if (options.yLabel !== undefined)     this.yLabel = options.yLabel;\n      if (options.zLabel !== undefined)     this.zLabel = options.zLabel;\n\n      if (options.xValueLabel !== undefined)     this.xValueLabel = options.xValueLabel;\n      if (options.yValueLabel !== undefined)     this.yValueLabel = options.yValueLabel;\n      if (options.zValueLabel !== undefined)     this.zValueLabel = options.zValueLabel;\n\n      if (options.style !== undefined) {\n        var styleNumber = this._getStyleNumber(options.style);\n        if (styleNumber !== -1) {\n          this.style = styleNumber;\n        }\n      }\n      if (options.showGrid !== undefined)      this.showGrid = options.showGrid;\n      if (options.showPerspective !== undefined)   this.showPerspective = options.showPerspective;\n      if (options.showShadow !== undefined)    this.showShadow = options.showShadow;\n      if (options.tooltip !== undefined)       this.showTooltip = options.tooltip;\n      if (options.showAnimationControls !== undefined) this.showAnimationControls = options.showAnimationControls;\n      if (options.keepAspectRatio !== undefined)   this.keepAspectRatio = options.keepAspectRatio;\n      if (options.verticalRatio !== undefined)   this.verticalRatio = options.verticalRatio;\n\n      if (options.animationInterval !== undefined) this.animationInterval = options.animationInterval;\n      if (options.animationPreload !== undefined)  this.animationPreload = options.animationPreload;\n      if (options.animationAutoStart !== undefined)this.animationAutoStart = options.animationAutoStart;\n\n      if (options.xBarWidth !== undefined) this.defaultXBarWidth = options.xBarWidth;\n      if (options.yBarWidth !== undefined) this.defaultYBarWidth = options.yBarWidth;\n\n      if (options.xMin !== undefined) this.defaultXMin = options.xMin;\n      if (options.xStep !== undefined) this.defaultXStep = options.xStep;\n      if (options.xMax !== undefined) this.defaultXMax = options.xMax;\n      if (options.yMin !== undefined) this.defaultYMin = options.yMin;\n      if (options.yStep !== undefined) this.defaultYStep = options.yStep;\n      if (options.yMax !== undefined) this.defaultYMax = options.yMax;\n      if (options.zMin !== undefined) this.defaultZMin = options.zMin;\n      if (options.zStep !== undefined) this.defaultZStep = options.zStep;\n      if (options.zMax !== undefined) this.defaultZMax = options.zMax;\n      if (options.valueMin !== undefined) this.defaultValueMin = options.valueMin;\n      if (options.valueMax !== undefined) this.defaultValueMax = options.valueMax;\n\n      if (options.cameraPosition !== undefined) cameraPosition = options.cameraPosition;\n\n      if (cameraPosition !== undefined) {\n        this.camera.setArmRotation(cameraPosition.horizontal, cameraPosition.vertical);\n        this.camera.setArmLength(cameraPosition.distance);\n      }\n      else {\n        this.camera.setArmRotation(1.0, 0.5);\n        this.camera.setArmLength(1.7);\n      }\n    }\n\n    this._setBackgroundColor(options && options.backgroundColor);\n\n    this.setSize(this.width, this.height);\n\n    // re-load the data\n    if (this.dataTable) {\n      this.setData(this.dataTable);\n    }\n\n    // start animation when option is true\n    if (this.animationAutoStart && this.dataFilter) {\n      this.animationStart();\n    }\n  };\n\n  /**\n   * Redraw the Graph.\n   */\n  Graph3d.prototype.redraw = function() {\n    if (this.dataPoints === undefined) {\n      throw \'Error: graph data not initialized\';\n    }\n\n    this._resizeCanvas();\n    this._resizeCenter();\n    this._redrawSlider();\n    this._redrawClear();\n    this._redrawAxis();\n\n    if (this.style === Graph3d.STYLE.GRID ||\n      this.style === Graph3d.STYLE.SURFACE) {\n      this._redrawDataGrid();\n    }\n    else if (this.style === Graph3d.STYLE.LINE) {\n      this._redrawDataLine();\n    }\n    else if (this.style === Graph3d.STYLE.BAR ||\n      this.style === Graph3d.STYLE.BARCOLOR ||\n      this.style === Graph3d.STYLE.BARSIZE) {\n      this._redrawDataBar();\n    }\n    else {\n      // style is DOT, DOTLINE, DOTCOLOR, DOTSIZE\n      this._redrawDataDot();\n    }\n\n    this._redrawInfo();\n    this._redrawLegend();\n  };\n\n  /**\n   * Clear the canvas before redrawing\n   */\n  Graph3d.prototype._redrawClear = function() {\n    var canvas = this.frame.canvas;\n    var ctx = canvas.getContext(\'2d\');\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n\n  /**\n   * Redraw the legend showing the colors\n   */\n  Graph3d.prototype._redrawLegend = function() {\n    var y;\n\n    if (this.style === Graph3d.STYLE.DOTCOLOR ||\n      this.style === Graph3d.STYLE.DOTSIZE) {\n\n      var dotSize = this.frame.clientWidth * 0.02;\n\n      var widthMin, widthMax;\n      if (this.style === Graph3d.STYLE.DOTSIZE) {\n        widthMin = dotSize / 2; // px\n        widthMax = dotSize / 2 + dotSize * 2; // Todo: put this in one function\n      }\n      else {\n        widthMin = 20; // px\n        widthMax = 20; // px\n      }\n\n      var height = Math.max(this.frame.clientHeight * 0.25, 100);\n      var top = this.margin;\n      var right = this.frame.clientWidth - this.margin;\n      var left = right - widthMax;\n      var bottom = top + height;\n    }\n\n    var canvas = this.frame.canvas;\n    var ctx = canvas.getContext(\'2d\');\n    ctx.lineWidth = 1;\n    ctx.font = \'14px arial\'; // TODO: put in options\n\n    if (this.style === Graph3d.STYLE.DOTCOLOR) {\n      // draw the color bar\n      var ymin = 0;\n      var ymax = height; // Todo: make height customizable\n      for (y = ymin; y < ymax; y++) {\n        var f = (y - ymin) / (ymax - ymin);\n\n        //var width = (dotSize / 2 + (1-f) * dotSize * 2); // Todo: put this in one function\n        var hue = f * 240;\n        var color = this._hsv2rgb(hue, 1, 1);\n\n        ctx.strokeStyle = color;\n        ctx.beginPath();\n        ctx.moveTo(left, top + y);\n        ctx.lineTo(right, top + y);\n        ctx.stroke();\n      }\n\n      ctx.strokeStyle =  this.colorAxis;\n      ctx.strokeRect(left, top, widthMax, height);\n    }\n\n    if (this.style === Graph3d.STYLE.DOTSIZE) {\n      // draw border around color bar\n      ctx.strokeStyle =  this.colorAxis;\n      ctx.fillStyle =  this.colorDot;\n      ctx.beginPath();\n      ctx.moveTo(left, top);\n      ctx.lineTo(right, top);\n      ctx.lineTo(right - widthMax + widthMin, bottom);\n      ctx.lineTo(left, bottom);\n      ctx.closePath();\n      ctx.fill();\n      ctx.stroke();\n    }\n\n    if (this.style === Graph3d.STYLE.DOTCOLOR ||\n      this.style === Graph3d.STYLE.DOTSIZE) {\n      // print values along the color bar\n      var gridLineLen = 5; // px\n      var step = new StepNumber(this.valueMin, this.valueMax, (this.valueMax-this.valueMin)/5, true);\n      step.start();\n      if (step.getCurrent() < this.valueMin) {\n        step.next();\n      }\n      while (!step.end()) {\n        y = bottom - (step.getCurrent() - this.valueMin) / (this.valueMax - this.valueMin) * height;\n\n        ctx.beginPath();\n        ctx.moveTo(left - gridLineLen, y);\n        ctx.lineTo(left, y);\n        ctx.stroke();\n\n        ctx.textAlign = \'right\';\n        ctx.textBaseline = \'middle\';\n        ctx.fillStyle = this.colorAxis;\n        ctx.fillText(step.getCurrent(), left - 2 * gridLineLen, y);\n\n        step.next();\n      }\n\n      ctx.textAlign = \'right\';\n      ctx.textBaseline = \'top\';\n      var label = this.legendLabel;\n      ctx.fillText(label, right, bottom + this.margin);\n    }\n  };\n\n  /**\n   * Redraw the filter\n   */\n  Graph3d.prototype._redrawFilter = function() {\n    this.frame.filter.innerHTML = \'\';\n\n    if (this.dataFilter) {\n      var options = {\n        \'visible\': this.showAnimationControls\n      };\n      var slider = new Slider(this.frame.filter, options);\n      this.frame.filter.slider = slider;\n\n      // TODO: css here is not nice here...\n      this.frame.filter.style.padding = \'10px\';\n      //this.frame.filter.style.backgroundColor = \'#EFEFEF\';\n\n      slider.setValues(this.dataFilter.values);\n      slider.setPlayInterval(this.animationInterval);\n\n      // create an event handler\n      var me = this;\n      var onchange = function () {\n        var index = slider.getIndex();\n\n        me.dataFilter.selectValue(index);\n        me.dataPoints = me.dataFilter._getDataPoints();\n\n        me.redraw();\n      };\n      slider.setOnChangeCallback(onchange);\n    }\n    else {\n      this.frame.filter.slider = undefined;\n    }\n  };\n\n  /**\n   * Redraw the slider\n   */\n  Graph3d.prototype._redrawSlider = function() {\n    if ( this.frame.filter.slider !== undefined) {\n      this.frame.filter.slider.redraw();\n    }\n  };\n\n\n  /**\n   * Redraw common information\n   */\n  Graph3d.prototype._redrawInfo = function() {\n    if (this.dataFilter) {\n      var canvas = this.frame.canvas;\n      var ctx = canvas.getContext(\'2d\');\n\n      ctx.font = \'14px arial\'; // TODO: put in options\n      ctx.lineStyle = \'gray\';\n      ctx.fillStyle = \'gray\';\n      ctx.textAlign = \'left\';\n      ctx.textBaseline = \'top\';\n\n      var x = this.margin;\n      var y = this.margin;\n      ctx.fillText(this.dataFilter.getLabel() + \': \' + this.dataFilter.getSelectedValue(), x, y);\n    }\n  };\n\n\n  /**\n   * Redraw the axis\n   */\n  Graph3d.prototype._redrawAxis = function() {\n    var canvas = this.frame.canvas,\n      ctx = canvas.getContext(\'2d\'),\n      from, to, step, prettyStep,\n      text, xText, yText, zText,\n      offset, xOffset, yOffset,\n      xMin2d, xMax2d;\n\n    // TODO: get the actual rendered style of the containerElement\n    //ctx.font = this.containerElement.style.font;\n    ctx.font = 24 / this.camera.getArmLength() + \'px arial\';\n\n    // calculate the length for the short grid lines\n    var gridLenX = 0.025 / this.scale.x;\n    var gridLenY = 0.025 / this.scale.y;\n    var textMargin = 5 / this.camera.getArmLength(); // px\n    var armAngle = this.camera.getArmRotation().horizontal;\n\n    // draw x-grid lines\n    ctx.lineWidth = 1;\n    prettyStep = (this.defaultXStep === undefined);\n    step = new StepNumber(this.xMin, this.xMax, this.xStep, prettyStep);\n    step.start();\n    if (step.getCurrent() < this.xMin) {\n      step.next();\n    }\n    while (!step.end()) {\n      var x = step.getCurrent();\n\n      if (this.showGrid) {\n        from = this._convert3Dto2D(new Point3d(x, this.yMin, this.zMin));\n        to = this._convert3Dto2D(new Point3d(x, this.yMax, this.zMin));\n        ctx.strokeStyle = this.colorGrid;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n      }\n      else {\n        from = this._convert3Dto2D(new Point3d(x, this.yMin, this.zMin));\n        to = this._convert3Dto2D(new Point3d(x, this.yMin+gridLenX, this.zMin));\n        ctx.strokeStyle = this.colorAxis;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n\n        from = this._convert3Dto2D(new Point3d(x, this.yMax, this.zMin));\n        to = this._convert3Dto2D(new Point3d(x, this.yMax-gridLenX, this.zMin));\n        ctx.strokeStyle = this.colorAxis;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n      }\n\n      yText = (Math.cos(armAngle) > 0) ? this.yMin : this.yMax;\n      text = this._convert3Dto2D(new Point3d(x, yText, this.zMin));\n      if (Math.cos(armAngle * 2) > 0) {\n        ctx.textAlign = \'center\';\n        ctx.textBaseline = \'top\';\n        text.y += textMargin;\n      }\n      else if (Math.sin(armAngle * 2) < 0){\n        ctx.textAlign = \'right\';\n        ctx.textBaseline = \'middle\';\n      }\n      else {\n        ctx.textAlign = \'left\';\n        ctx.textBaseline = \'middle\';\n      }\n      ctx.fillStyle = this.colorAxis;\n      ctx.fillText(\'  \' + this.xValueLabel(step.getCurrent()) + \'  \', text.x, text.y);    \n\n      step.next();\n    }\n\n    // draw y-grid lines\n    ctx.lineWidth = 1;\n    prettyStep = (this.defaultYStep === undefined);\n    step = new StepNumber(this.yMin, this.yMax, this.yStep, prettyStep);\n    step.start();\n    if (step.getCurrent() < this.yMin) {\n      step.next();\n    }\n    while (!step.end()) {\n      if (this.showGrid) {\n        from = this._convert3Dto2D(new Point3d(this.xMin, step.getCurrent(), this.zMin));\n        to = this._convert3Dto2D(new Point3d(this.xMax, step.getCurrent(), this.zMin));\n        ctx.strokeStyle = this.colorGrid;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n      }\n      else {\n        from = this._convert3Dto2D(new Point3d(this.xMin, step.getCurrent(), this.zMin));\n        to = this._convert3Dto2D(new Point3d(this.xMin+gridLenY, step.getCurrent(), this.zMin));\n        ctx.strokeStyle = this.colorAxis;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n\n        from = this._convert3Dto2D(new Point3d(this.xMax, step.getCurrent(), this.zMin));\n        to = this._convert3Dto2D(new Point3d(this.xMax-gridLenY, step.getCurrent(), this.zMin));\n        ctx.strokeStyle = this.colorAxis;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n      }\n\n      xText = (Math.sin(armAngle ) > 0) ? this.xMin : this.xMax;\n      text = this._convert3Dto2D(new Point3d(xText, step.getCurrent(), this.zMin));\n      if (Math.cos(armAngle * 2) < 0) {\n        ctx.textAlign = \'center\';\n        ctx.textBaseline = \'top\';\n        text.y += textMargin;\n      }\n      else if (Math.sin(armAngle * 2) > 0){\n        ctx.textAlign = \'right\';\n        ctx.textBaseline = \'middle\';\n      }\n      else {\n        ctx.textAlign = \'left\';\n        ctx.textBaseline = \'middle\';\n      }\n      ctx.fillStyle = this.colorAxis;\n      ctx.fillText(\'  \' + this.yValueLabel(step.getCurrent()) + \'  \', text.x, text.y);    \n\n      step.next();\n    }\n\n    // draw z-grid lines and axis\n    ctx.lineWidth = 1;\n    prettyStep = (this.defaultZStep === undefined);\n    step = new StepNumber(this.zMin, this.zMax, this.zStep, prettyStep);\n    step.start();\n    if (step.getCurrent() < this.zMin) {\n      step.next();\n    }\n    xText = (Math.cos(armAngle ) > 0) ? this.xMin : this.xMax;\n    yText = (Math.sin(armAngle ) < 0) ? this.yMin : this.yMax;\n    while (!step.end()) {\n      // TODO: make z-grid lines really 3d?\n      from = this._convert3Dto2D(new Point3d(xText, yText, step.getCurrent()));\n      ctx.strokeStyle = this.colorAxis;\n      ctx.beginPath();\n      ctx.moveTo(from.x, from.y);\n      ctx.lineTo(from.x - textMargin, from.y);\n      ctx.stroke();\n\n      ctx.textAlign = \'right\';\n      ctx.textBaseline = \'middle\';\n      ctx.fillStyle = this.colorAxis;\n      ctx.fillText(this.zValueLabel(step.getCurrent()) + \' \', from.x - 5, from.y);\n\n      step.next();\n    }\n    ctx.lineWidth = 1;\n    from = this._convert3Dto2D(new Point3d(xText, yText, this.zMin));\n    to = this._convert3Dto2D(new Point3d(xText, yText, this.zMax));\n    ctx.strokeStyle = this.colorAxis;\n    ctx.beginPath();\n    ctx.moveTo(from.x, from.y);\n    ctx.lineTo(to.x, to.y);\n    ctx.stroke();\n\n    // draw x-axis\n    ctx.lineWidth = 1;\n    // line at yMin\n    xMin2d = this._convert3Dto2D(new Point3d(this.xMin, this.yMin, this.zMin));\n    xMax2d = this._convert3Dto2D(new Point3d(this.xMax, this.yMin, this.zMin));\n    ctx.strokeStyle = this.colorAxis;\n    ctx.beginPath();\n    ctx.moveTo(xMin2d.x, xMin2d.y);\n    ctx.lineTo(xMax2d.x, xMax2d.y);\n    ctx.stroke();\n    // line at ymax\n    xMin2d = this._convert3Dto2D(new Point3d(this.xMin, this.yMax, this.zMin));\n    xMax2d = this._convert3Dto2D(new Point3d(this.xMax, this.yMax, this.zMin));\n    ctx.strokeStyle = this.colorAxis;\n    ctx.beginPath();\n    ctx.moveTo(xMin2d.x, xMin2d.y);\n    ctx.lineTo(xMax2d.x, xMax2d.y);\n    ctx.stroke();\n\n    // draw y-axis\n    ctx.lineWidth = 1;\n    // line at xMin\n    from = this._convert3Dto2D(new Point3d(this.xMin, this.yMin, this.zMin));\n    to = this._convert3Dto2D(new Point3d(this.xMin, this.yMax, this.zMin));\n    ctx.strokeStyle = this.colorAxis;\n    ctx.beginPath();\n    ctx.moveTo(from.x, from.y);\n    ctx.lineTo(to.x, to.y);\n    ctx.stroke();\n    // line at xMax\n    from = this._convert3Dto2D(new Point3d(this.xMax, this.yMin, this.zMin));\n    to = this._convert3Dto2D(new Point3d(this.xMax, this.yMax, this.zMin));\n    ctx.strokeStyle = this.colorAxis;\n    ctx.beginPath();\n    ctx.moveTo(from.x, from.y);\n    ctx.lineTo(to.x, to.y);\n    ctx.stroke();\n\n    // draw x-label\n    var xLabel = this.xLabel;\n    if (xLabel.length > 0) {\n      yOffset = 0.1 / this.scale.y;\n      xText = (this.xMin + this.xMax) / 2;\n      yText = (Math.cos(armAngle) > 0) ? this.yMin - yOffset: this.yMax + yOffset;\n      text = this._convert3Dto2D(new Point3d(xText, yText, this.zMin));\n      if (Math.cos(armAngle * 2) > 0) {\n        ctx.textAlign = \'center\';\n        ctx.textBaseline = \'top\';\n      }\n      else if (Math.sin(armAngle * 2) < 0){\n        ctx.textAlign = \'right\';\n        ctx.textBaseline = \'middle\';\n      }\n      else {\n        ctx.textAlign = \'left\';\n        ctx.textBaseline = \'middle\';\n      }\n      ctx.fillStyle = this.colorAxis;\n      ctx.fillText(xLabel, text.x, text.y);\n    }\n\n    // draw y-label\n    var yLabel = this.yLabel;\n    if (yLabel.length > 0) {\n      xOffset = 0.1 / this.scale.x;\n      xText = (Math.sin(armAngle ) > 0) ? this.xMin - xOffset : this.xMax + xOffset;\n      yText = (this.yMin + this.yMax) / 2;\n      text = this._convert3Dto2D(new Point3d(xText, yText, this.zMin));\n      if (Math.cos(armAngle * 2) < 0) {\n        ctx.textAlign = \'center\';\n        ctx.textBaseline = \'top\';\n      }\n      else if (Math.sin(armAngle * 2) > 0){\n        ctx.textAlign = \'right\';\n        ctx.textBaseline = \'middle\';\n      }\n      else {\n        ctx.textAlign = \'left\';\n        ctx.textBaseline = \'middle\';\n      }\n      ctx.fillStyle = this.colorAxis;\n      ctx.fillText(yLabel, text.x, text.y);\n    }\n\n    // draw z-label\n    var zLabel = this.zLabel;\n    if (zLabel.length > 0) {\n      offset = 30;  // pixels.  // TODO: relate to the max width of the values on the z axis?\n      xText = (Math.cos(armAngle ) > 0) ? this.xMin : this.xMax;\n      yText = (Math.sin(armAngle ) < 0) ? this.yMin : this.yMax;\n      zText = (this.zMin + this.zMax) / 2;\n      text = this._convert3Dto2D(new Point3d(xText, yText, zText));\n      ctx.textAlign = \'right\';\n      ctx.textBaseline = \'middle\';\n      ctx.fillStyle = this.colorAxis;\n      ctx.fillText(zLabel, text.x - offset, text.y);\n    }\n  };\n\n  /**\n   * Calculate the color based on the given value.\n   * @param {Number} H   Hue, a value be between 0 and 360\n   * @param {Number} S   Saturation, a value between 0 and 1\n   * @param {Number} V   Value, a value between 0 and 1\n   */\n  Graph3d.prototype._hsv2rgb = function(H, S, V) {\n    var R, G, B, C, Hi, X;\n\n    C = V * S;\n    Hi = Math.floor(H/60);  // hi = 0,1,2,3,4,5\n    X = C * (1 - Math.abs(((H/60) % 2) - 1));\n\n    switch (Hi) {\n      case 0: R = C; G = X; B = 0; break;\n      case 1: R = X; G = C; B = 0; break;\n      case 2: R = 0; G = C; B = X; break;\n      case 3: R = 0; G = X; B = C; break;\n      case 4: R = X; G = 0; B = C; break;\n      case 5: R = C; G = 0; B = X; break;\n\n      default: R = 0; G = 0; B = 0; break;\n    }\n\n    return \'RGB(\' + parseInt(R*255) + \',\' + parseInt(G*255) + \',\' + parseInt(B*255) + \')\';\n  };\n\n\n  /**\n   * Draw all datapoints as a grid\n   * This function can be used when the style is \'grid\'\n   */\n  Graph3d.prototype._redrawDataGrid = function() {\n    var canvas = this.frame.canvas,\n      ctx = canvas.getContext(\'2d\'),\n      point, right, top, cross,\n      i,\n      topSideVisible, fillStyle, strokeStyle, lineWidth,\n      h, s, v, zAvg;\n\n\n    if (this.dataPoints === undefined || this.dataPoints.length <= 0)\n      return; // TODO: throw exception?\n\n    // calculate the translations and screen position of all points\n    for (i = 0; i < this.dataPoints.length; i++) {\n      var trans = this._convertPointToTranslation(this.dataPoints[i].point);\n      var screen = this._convertTranslationToScreen(trans);\n\n      this.dataPoints[i].trans = trans;\n      this.dataPoints[i].screen = screen;\n\n      // calculate the translation of the point at the bottom (needed for sorting)\n      var transBottom = this._convertPointToTranslation(this.dataPoints[i].bottom);\n      this.dataPoints[i].dist = this.showPerspective ? transBottom.length() : -transBottom.z;\n    }\n\n    // sort the points on depth of their (x,y) position (not on z)\n    var sortDepth = function (a, b) {\n      return b.dist - a.dist;\n    };\n    this.dataPoints.sort(sortDepth);\n\n    if (this.style === Graph3d.STYLE.SURFACE) {\n      for (i = 0; i < this.dataPoints.length; i++) {\n        point = this.dataPoints[i];\n        right = this.dataPoints[i].pointRight;\n        top   = this.dataPoints[i].pointTop;\n        cross = this.dataPoints[i].pointCross;\n\n        if (point !== undefined && right !== undefined && top !== undefined && cross !== undefined) {\n\n          if (this.showGrayBottom || this.showShadow) {\n            // calculate the cross product of the two vectors from center\n            // to left and right, in order to know whether we are looking at the\n            // bottom or at the top side. We can also use the cross product\n            // for calculating light intensity\n            var aDiff = Point3d.subtract(cross.trans, point.trans);\n            var bDiff = Point3d.subtract(top.trans, right.trans);\n            var crossproduct = Point3d.crossProduct(aDiff, bDiff);\n            var len = crossproduct.length();\n            // FIXME: there is a bug with determining the surface side (shadow or colored)\n\n            topSideVisible = (crossproduct.z > 0);\n          }\n          else {\n            topSideVisible = true;\n          }\n\n          if (topSideVisible) {\n            // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n            zAvg = (point.point.z + right.point.z + top.point.z + cross.point.z) / 4;\n            h = (1 - (zAvg - this.zMin) * this.scale.z  / this.verticalRatio) * 240;\n            s = 1; // saturation\n\n            if (this.showShadow) {\n              v = Math.min(1 + (crossproduct.x / len) / 2, 1);  // value. TODO: scale\n              fillStyle = this._hsv2rgb(h, s, v);\n              strokeStyle = fillStyle;\n            }\n            else  {\n              v = 1;\n              fillStyle = this._hsv2rgb(h, s, v);\n              strokeStyle = this.colorAxis;\n            }\n          }\n          else {\n            fillStyle = \'gray\';\n            strokeStyle = this.colorAxis;\n          }\n          lineWidth = 0.5;\n\n          ctx.lineWidth = lineWidth;\n          ctx.fillStyle = fillStyle;\n          ctx.strokeStyle = strokeStyle;\n          ctx.beginPath();\n          ctx.moveTo(point.screen.x, point.screen.y);\n          ctx.lineTo(right.screen.x, right.screen.y);\n          ctx.lineTo(cross.screen.x, cross.screen.y);\n          ctx.lineTo(top.screen.x, top.screen.y);\n          ctx.closePath();\n          ctx.fill();\n          ctx.stroke();\n        }\n      }\n    }\n    else { // grid style\n      for (i = 0; i < this.dataPoints.length; i++) {\n        point = this.dataPoints[i];\n        right = this.dataPoints[i].pointRight;\n        top   = this.dataPoints[i].pointTop;\n\n        if (point !== undefined) {\n          if (this.showPerspective) {\n            lineWidth = 2 / -point.trans.z;\n          }\n          else {\n            lineWidth = 2 * -(this.eye.z / this.camera.getArmLength());\n          }\n        }\n\n        if (point !== undefined && right !== undefined) {\n          // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n          zAvg = (point.point.z + right.point.z) / 2;\n          h = (1 - (zAvg - this.zMin) * this.scale.z  / this.verticalRatio) * 240;\n\n          ctx.lineWidth = lineWidth;\n          ctx.strokeStyle = this._hsv2rgb(h, 1, 1);\n          ctx.beginPath();\n          ctx.moveTo(point.screen.x, point.screen.y);\n          ctx.lineTo(right.screen.x, right.screen.y);\n          ctx.stroke();\n        }\n\n        if (point !== undefined && top !== undefined) {\n          // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n          zAvg = (point.point.z + top.point.z) / 2;\n          h = (1 - (zAvg - this.zMin) * this.scale.z  / this.verticalRatio) * 240;\n\n          ctx.lineWidth = lineWidth;\n          ctx.strokeStyle = this._hsv2rgb(h, 1, 1);\n          ctx.beginPath();\n          ctx.moveTo(point.screen.x, point.screen.y);\n          ctx.lineTo(top.screen.x, top.screen.y);\n          ctx.stroke();\n        }\n      }\n    }\n  };\n\n\n  /**\n   * Draw all datapoints as dots.\n   * This function can be used when the style is \'dot\' or \'dot-line\'\n   */\n  Graph3d.prototype._redrawDataDot = function() {\n    var canvas = this.frame.canvas;\n    var ctx = canvas.getContext(\'2d\');\n    var i;\n\n    if (this.dataPoints === undefined || this.dataPoints.length <= 0)\n      return;  // TODO: throw exception?\n\n    // calculate the translations of all points\n    for (i = 0; i < this.dataPoints.length; i++) {\n      var trans = this._convertPointToTranslation(this.dataPoints[i].point);\n      var screen = this._convertTranslationToScreen(trans);\n      this.dataPoints[i].trans = trans;\n      this.dataPoints[i].screen = screen;\n\n      // calculate the distance from the point at the bottom to the camera\n      var transBottom = this._convertPointToTranslation(this.dataPoints[i].bottom);\n      this.dataPoints[i].dist = this.showPerspective ? transBottom.length() : -transBottom.z;\n    }\n\n    // order the translated points by depth\n    var sortDepth = function (a, b) {\n      return b.dist - a.dist;\n    };\n    this.dataPoints.sort(sortDepth);\n\n    // draw the datapoints as colored circles\n    var dotSize = this.frame.clientWidth * 0.02;  // px\n    for (i = 0; i < this.dataPoints.length; i++) {\n      var point = this.dataPoints[i];\n\n      if (this.style === Graph3d.STYLE.DOTLINE) {\n        // draw a vertical line from the bottom to the graph value\n        //var from = this._convert3Dto2D(new Point3d(point.point.x, point.point.y, this.zMin));\n        var from = this._convert3Dto2D(point.bottom);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = this.colorGrid;\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(point.screen.x, point.screen.y);\n        ctx.stroke();\n      }\n\n      // calculate radius for the circle\n      var size;\n      if (this.style === Graph3d.STYLE.DOTSIZE) {\n        size = dotSize/2 + 2*dotSize * (point.point.value - this.valueMin) / (this.valueMax - this.valueMin);\n      }\n      else {\n        size = dotSize;\n      }\n\n      var radius;\n      if (this.showPerspective) {\n        radius = size / -point.trans.z;\n      }\n      else {\n        radius = size * -(this.eye.z / this.camera.getArmLength());\n      }\n      if (radius < 0) {\n        radius = 0;\n      }\n\n      var hue, color, borderColor;\n      if (this.style === Graph3d.STYLE.DOTCOLOR ) {\n        // calculate the color based on the value\n        hue = (1 - (point.point.value - this.valueMin) * this.scale.value) * 240;\n        color = this._hsv2rgb(hue, 1, 1);\n        borderColor = this._hsv2rgb(hue, 1, 0.8);\n      }\n      else if (this.style === Graph3d.STYLE.DOTSIZE) {\n        color = this.colorDot;\n        borderColor = this.colorDotBorder;\n      }\n      else {\n        // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n        hue = (1 - (point.point.z - this.zMin) * this.scale.z  / this.verticalRatio) * 240;\n        color = this._hsv2rgb(hue, 1, 1);\n        borderColor = this._hsv2rgb(hue, 1, 0.8);\n      }\n\n      // draw the circle\n      ctx.lineWidth = 1.0;\n      ctx.strokeStyle = borderColor;\n      ctx.fillStyle = color;\n      ctx.beginPath();\n      ctx.arc(point.screen.x, point.screen.y, radius, 0, Math.PI*2, true);\n      ctx.fill();\n      ctx.stroke();\n    }\n  };\n\n  /**\n   * Draw all datapoints as bars.\n   * This function can be used when the style is \'bar\', \'bar-color\', or \'bar-size\'\n   */\n  Graph3d.prototype._redrawDataBar = function() {\n    var canvas = this.frame.canvas;\n    var ctx = canvas.getContext(\'2d\');\n    var i, j, surface, corners;\n\n    if (this.dataPoints === undefined || this.dataPoints.length <= 0)\n      return;  // TODO: throw exception?\n\n    // calculate the translations of all points\n    for (i = 0; i < this.dataPoints.length; i++) {\n      var trans = this._convertPointToTranslation(this.dataPoints[i].point);\n      var screen = this._convertTranslationToScreen(trans);\n      this.dataPoints[i].trans = trans;\n      this.dataPoints[i].screen = screen;\n\n      // calculate the distance from the point at the bottom to the camera\n      var transBottom = this._convertPointToTranslation(this.dataPoints[i].bottom);\n      this.dataPoints[i].dist = this.showPerspective ? transBottom.length() : -transBottom.z;\n    }\n\n    // order the translated points by depth\n    var sortDepth = function (a, b) {\n      return b.dist - a.dist;\n    };\n    this.dataPoints.sort(sortDepth);\n\n    // draw the datapoints as bars\n    var xWidth = this.xBarWidth / 2;\n    var yWidth = this.yBarWidth / 2;\n    for (i = 0; i < this.dataPoints.length; i++) {\n      var point = this.dataPoints[i];\n\n      // determine color\n      var hue, color, borderColor;\n      if (this.style === Graph3d.STYLE.BARCOLOR ) {\n        // calculate the color based on the value\n        hue = (1 - (point.point.value - this.valueMin) * this.scale.value) * 240;\n        color = this._hsv2rgb(hue, 1, 1);\n        borderColor = this._hsv2rgb(hue, 1, 0.8);\n      }\n      else if (this.style === Graph3d.STYLE.BARSIZE) {\n        color = this.colorDot;\n        borderColor = this.colorDotBorder;\n      }\n      else {\n        // calculate Hue from the current value. At zMin the hue is 240, at zMax the hue is 0\n        hue = (1 - (point.point.z - this.zMin) * this.scale.z  / this.verticalRatio) * 240;\n        color = this._hsv2rgb(hue, 1, 1);\n        borderColor = this._hsv2rgb(hue, 1, 0.8);\n      }\n\n      // calculate size for the bar\n      if (this.style === Graph3d.STYLE.BARSIZE) {\n        xWidth = (this.xBarWidth / 2) * ((point.point.value - this.valueMin) / (this.valueMax - this.valueMin) * 0.8 + 0.2);\n        yWidth = (this.yBarWidth / 2) * ((point.point.value - this.valueMin) / (this.valueMax - this.valueMin) * 0.8 + 0.2);\n      }\n\n      // calculate all corner points\n      var me = this;\n      var point3d = point.point;\n      var top = [\n        {point: new Point3d(point3d.x - xWidth, point3d.y - yWidth, point3d.z)},\n        {point: new Point3d(point3d.x + xWidth, point3d.y - yWidth, point3d.z)},\n        {point: new Point3d(point3d.x + xWidth, point3d.y + yWidth, point3d.z)},\n        {point: new Point3d(point3d.x - xWidth, point3d.y + yWidth, point3d.z)}\n      ];\n      var bottom = [\n        {point: new Point3d(point3d.x - xWidth, point3d.y - yWidth, this.zMin)},\n        {point: new Point3d(point3d.x + xWidth, point3d.y - yWidth, this.zMin)},\n        {point: new Point3d(point3d.x + xWidth, point3d.y + yWidth, this.zMin)},\n        {point: new Point3d(point3d.x - xWidth, point3d.y + yWidth, this.zMin)}\n      ];\n\n      // calculate screen location of the points\n      top.forEach(function (obj) {\n        obj.screen = me._convert3Dto2D(obj.point);\n      });\n      bottom.forEach(function (obj) {\n        obj.screen = me._convert3Dto2D(obj.point);\n      });\n\n      // create five sides, calculate both corner points and center points\n      var surfaces = [\n        {corners: top, center: Point3d.avg(bottom[0].point, bottom[2].point)},\n        {corners: [top[0], top[1], bottom[1], bottom[0]], center: Point3d.avg(bottom[1].point, bottom[0].point)},\n        {corners: [top[1], top[2], bottom[2], bottom[1]], center: Point3d.avg(bottom[2].point, bottom[1].point)},\n        {corners: [top[2], top[3], bottom[3], bottom[2]], center: Point3d.avg(bottom[3].point, bottom[2].point)},\n        {corners: [top[3], top[0], bottom[0], bottom[3]], center: Point3d.avg(bottom[0].point, bottom[3].point)}\n      ];\n      point.surfaces = surfaces;\n\n      // calculate the distance of each of the surface centers to the camera\n      for (j = 0; j < surfaces.length; j++) {\n        surface = surfaces[j];\n        var transCenter = this._convertPointToTranslation(surface.center);\n        surface.dist = this.showPerspective ? transCenter.length() : -transCenter.z;\n        // TODO: this dept calculation doesn\'t work 100% of the cases due to perspective,\n        //     but the current solution is fast/simple and works in 99.9% of all cases\n        //     the issue is visible in example 14, with graph.setCameraPosition({horizontal: 2.97, vertical: 0.5, distance: 0.9})\n      }\n\n      // order the surfaces by their (translated) depth\n      surfaces.sort(function (a, b) {\n        var diff = b.dist - a.dist;\n        if (diff) return diff;\n\n        // if equal depth, sort the top surface last\n        if (a.corners === top) return 1;\n        if (b.corners === top) return -1;\n\n        // both are equal\n        return 0;\n      });\n\n      // draw the ordered surfaces\n      ctx.lineWidth = 1;\n      ctx.strokeStyle = borderColor;\n      ctx.fillStyle = color;\n      // NOTE: we start at j=2 instead of j=0 as we don\'t need to draw the two surfaces at the backside\n      for (j = 2; j < surfaces.length; j++) {\n        surface = surfaces[j];\n        corners = surface.corners;\n        ctx.beginPath();\n        ctx.moveTo(corners[3].screen.x, corners[3].screen.y);\n        ctx.lineTo(corners[0].screen.x, corners[0].screen.y);\n        ctx.lineTo(corners[1].screen.x, corners[1].screen.y);\n        ctx.lineTo(corners[2].screen.x, corners[2].screen.y);\n        ctx.lineTo(corners[3].screen.x, corners[3].screen.y);\n        ctx.fill();\n        ctx.stroke();\n      }\n    }\n  };\n\n\n  /**\n   * Draw a line through all datapoints.\n   * This function can be used when the style is \'line\'\n   */\n  Graph3d.prototype._redrawDataLine = function() {\n    var canvas = this.frame.canvas,\n      ctx = canvas.getContext(\'2d\'),\n      point, i;\n\n    if (this.dataPoints === undefined || this.dataPoints.length <= 0)\n      return;  // TODO: throw exception?\n\n    // calculate the translations of all points\n    for (i = 0; i < this.dataPoints.length; i++) {\n      var trans = this._convertPointToTranslation(this.dataPoints[i].point);\n      var screen = this._convertTranslationToScreen(trans);\n\n      this.dataPoints[i].trans = trans;\n      this.dataPoints[i].screen = screen;\n    }\n\n    // start the line\n    if (this.dataPoints.length > 0) {\n      point = this.dataPoints[0];\n\n      ctx.lineWidth = 1;    // TODO: make customizable\n      ctx.strokeStyle = \'blue\'; // TODO: make customizable\n      ctx.beginPath();\n      ctx.moveTo(point.screen.x, point.screen.y);\n    }\n\n    // draw the datapoints as colored circles\n    for (i = 1; i < this.dataPoints.length; i++) {\n      point = this.dataPoints[i];\n      ctx.lineTo(point.screen.x, point.screen.y);\n    }\n\n    // finish the line\n    if (this.dataPoints.length > 0) {\n      ctx.stroke();\n    }\n  };\n\n  /**\n   * Start a moving operation inside the provided parent element\n   * @param {Event}     event     The event that occurred (required for\n   *                  retrieving the  mouse position)\n   */\n  Graph3d.prototype._onMouseDown = function(event) {\n    event = event || window.event;\n\n    // check if mouse is still down (may be up when focus is lost for example\n    // in an iframe)\n    if (this.leftButtonDown) {\n      this._onMouseUp(event);\n    }\n\n    // only react on left mouse button down\n    this.leftButtonDown = event.which ? (event.which === 1) : (event.button === 1);\n    if (!this.leftButtonDown && !this.touchDown) return;\n\n    // get mouse position (different code for IE and all other browsers)\n    this.startMouseX = getMouseX(event);\n    this.startMouseY = getMouseY(event);\n\n    this.startStart = new Date(this.start);\n    this.startEnd = new Date(this.end);\n    this.startArmRotation = this.camera.getArmRotation();\n\n    this.frame.style.cursor = \'move\';\n\n    // add event listeners to handle moving the contents\n    // we store the function onmousemove and onmouseup in the graph, so we can\n    // remove the eventlisteners lateron in the function mouseUp()\n    var me = this;\n    this.onmousemove = function (event) {me._onMouseMove(event);};\n    this.onmouseup   = function (event) {me._onMouseUp(event);};\n    util.addEventListener(document, \'mousemove\', me.onmousemove);\n    util.addEventListener(document, \'mouseup\', me.onmouseup);\n    util.preventDefault(event);\n  };\n\n\n  /**\n   * Perform moving operating.\n   * This function activated from within the funcion Graph.mouseDown().\n   * @param {Event}   event  Well, eehh, the event\n   */\n  Graph3d.prototype._onMouseMove = function (event) {\n    event = event || window.event;\n\n    // calculate change in mouse position\n    var diffX = parseFloat(getMouseX(event)) - this.startMouseX;\n    var diffY = parseFloat(getMouseY(event)) - this.startMouseY;\n\n    var horizontalNew = this.startArmRotation.horizontal + diffX / 200;\n    var verticalNew = this.startArmRotation.vertical + diffY / 200;\n\n    var snapAngle = 4; // degrees\n    var snapValue = Math.sin(snapAngle / 360 * 2 * Math.PI);\n\n    // snap horizontally to nice angles at 0pi, 0.5pi, 1pi, 1.5pi, etc...\n    // the -0.001 is to take care that the vertical axis is always drawn at the left front corner\n    if (Math.abs(Math.sin(horizontalNew)) < snapValue) {\n      horizontalNew = Math.round((horizontalNew / Math.PI)) * Math.PI - 0.001;\n    }\n    if (Math.abs(Math.cos(horizontalNew)) < snapValue) {\n      horizontalNew = (Math.round((horizontalNew/ Math.PI - 0.5)) + 0.5) * Math.PI - 0.001;\n    }\n\n    // snap vertically to nice angles\n    if (Math.abs(Math.sin(verticalNew)) < snapValue) {\n      verticalNew = Math.round((verticalNew / Math.PI)) * Math.PI;\n    }\n    if (Math.abs(Math.cos(verticalNew)) < snapValue) {\n      verticalNew = (Math.round((verticalNew/ Math.PI - 0.5)) + 0.5) * Math.PI;\n    }\n\n    this.camera.setArmRotation(horizontalNew, verticalNew);\n    this.redraw();\n\n    // fire a cameraPositionChange event\n    var parameters = this.getCameraPosition();\n    this.emit(\'cameraPositionChange\', parameters);\n\n    util.preventDefault(event);\n  };\n\n\n  /**\n   * Stop moving operating.\n   * This function activated from within the funcion Graph.mouseDown().\n   * @param {event}  event   The event\n   */\n  Graph3d.prototype._onMouseUp = function (event) {\n    this.frame.style.cursor = \'auto\';\n    this.leftButtonDown = false;\n\n    // remove event listeners here\n    util.removeEventListener(document, \'mousemove\', this.onmousemove);\n    util.removeEventListener(document, \'mouseup\',   this.onmouseup);\n    util.preventDefault(event);\n  };\n\n  /**\n   * After having moved the mouse, a tooltip should pop up when the mouse is resting on a data point\n   * @param {Event}  event   A mouse move event\n   */\n  Graph3d.prototype._onTooltip = function (event) {\n    var delay = 300; // ms\n    var boundingRect = this.frame.getBoundingClientRect();\n    var mouseX = getMouseX(event) - boundingRect.left;\n    var mouseY = getMouseY(event) - boundingRect.top;\n\n    if (!this.showTooltip) {\n      return;\n    }\n\n    if (this.tooltipTimeout) {\n      clearTimeout(this.tooltipTimeout);\n    }\n\n    // (delayed) display of a tooltip only if no mouse button is down\n    if (this.leftButtonDown) {\n      this._hideTooltip();\n      return;\n    }\n\n    if (this.tooltip && this.tooltip.dataPoint) {\n      // tooltip is currently visible\n      var dataPoint = this._dataPointFromXY(mouseX, mouseY);\n      if (dataPoint !== this.tooltip.dataPoint) {\n        // datapoint changed\n        if (dataPoint) {\n          this._showTooltip(dataPoint);\n        }\n        else {\n          this._hideTooltip();\n        }\n      }\n    }\n    else {\n      // tooltip is currently not visible\n      var me = this;\n      this.tooltipTimeout = setTimeout(function () {\n        me.tooltipTimeout = null;\n\n        // show a tooltip if we have a data point\n        var dataPoint = me._dataPointFromXY(mouseX, mouseY);\n        if (dataPoint) {\n          me._showTooltip(dataPoint);\n        }\n      }, delay);\n    }\n  };\n\n  /**\n   * Event handler for touchstart event on mobile devices\n   */\n  Graph3d.prototype._onTouchStart = function(event) {\n    this.touchDown = true;\n\n    var me = this;\n    this.ontouchmove = function (event) {me._onTouchMove(event);};\n    this.ontouchend  = function (event) {me._onTouchEnd(event);};\n    util.addEventListener(document, \'touchmove\', me.ontouchmove);\n    util.addEventListener(document, \'touchend\', me.ontouchend);\n\n    this._onMouseDown(event);\n  };\n\n  /**\n   * Event handler for touchmove event on mobile devices\n   */\n  Graph3d.prototype._onTouchMove = function(event) {\n    this._onMouseMove(event);\n  };\n\n  /**\n   * Event handler for touchend event on mobile devices\n   */\n  Graph3d.prototype._onTouchEnd = function(event) {\n    this.touchDown = false;\n\n    util.removeEventListener(document, \'touchmove\', this.ontouchmove);\n    util.removeEventListener(document, \'touchend\',   this.ontouchend);\n\n    this._onMouseUp(event);\n  };\n\n\n  /**\n   * Event handler for mouse wheel event, used to zoom the graph\n   * Code from http://adomas.org/javascript-mouse-wheel/\n   * @param {event}  event   The event\n   */\n  Graph3d.prototype._onWheel = function(event) {\n    if (!event) /* For IE. */\n      event = window.event;\n\n    // retrieve delta\n    var delta = 0;\n    if (event.wheelDelta) { /* IE/Opera. */\n      delta = event.wheelDelta/120;\n    } else if (event.detail) { /* Mozilla case. */\n      // In Mozilla, sign of delta is different than in IE.\n      // Also, delta is multiple of 3.\n      delta = -event.detail/3;\n    }\n\n    // If delta is nonzero, handle it.\n    // Basically, delta is now positive if wheel was scrolled up,\n    // and negative, if wheel was scrolled down.\n    if (delta) {\n      var oldLength = this.camera.getArmLength();\n      var newLength = oldLength * (1 - delta / 10);\n\n      this.camera.setArmLength(newLength);\n      this.redraw();\n\n      this._hideTooltip();\n    }\n\n    // fire a cameraPositionChange event\n    var parameters = this.getCameraPosition();\n    this.emit(\'cameraPositionChange\', parameters);\n\n    // Prevent default actions caused by mouse wheel.\n    // That might be ugly, but we handle scrolls somehow\n    // anyway, so don\'t bother here..\n    util.preventDefault(event);\n  };\n\n  /**\n   * Test whether a point lies inside given 2D triangle\n   * @param {Point2d} point\n   * @param {Point2d[]} triangle\n   * @return {boolean} Returns true if given point lies inside or on the edge of the triangle\n   * @private\n   */\n  Graph3d.prototype._insideTriangle = function (point, triangle) {\n    var a = triangle[0],\n      b = triangle[1],\n      c = triangle[2];\n\n    function sign (x) {\n      return x > 0 ? 1 : x < 0 ? -1 : 0;\n    }\n\n    var as = sign((b.x - a.x) * (point.y - a.y) - (b.y - a.y) * (point.x - a.x));\n    var bs = sign((c.x - b.x) * (point.y - b.y) - (c.y - b.y) * (point.x - b.x));\n    var cs = sign((a.x - c.x) * (point.y - c.y) - (a.y - c.y) * (point.x - c.x));\n\n    // each of the three signs must be either equal to each other or zero\n    return (as == 0 || bs == 0 || as == bs) &&\n      (bs == 0 || cs == 0 || bs == cs) &&\n      (as == 0 || cs == 0 || as == cs);\n  };\n\n  /**\n   * Find a data point close to given screen position (x, y)\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object | null} The closest data point or null if not close to any data point\n   * @private\n   */\n  Graph3d.prototype._dataPointFromXY = function (x, y) {\n    var i,\n      distMax = 100, // px\n      dataPoint = null,\n      closestDataPoint = null,\n      closestDist = null,\n      center = new Point2d(x, y);\n\n    if (this.style === Graph3d.STYLE.BAR ||\n      this.style === Graph3d.STYLE.BARCOLOR ||\n      this.style === Graph3d.STYLE.BARSIZE) {\n      // the data points are ordered from far away to closest\n      for (i = this.dataPoints.length - 1; i >= 0; i--) {\n        dataPoint = this.dataPoints[i];\n        var surfaces  = dataPoint.surfaces;\n        if (surfaces) {\n          for (var s = surfaces.length - 1; s >= 0; s--) {\n            // split each surface in two triangles, and see if the center point is inside one of these\n            var surface = surfaces[s];\n            var corners = surface.corners;\n            var triangle1 = [corners[0].screen, corners[1].screen, corners[2].screen];\n            var triangle2 = [corners[2].screen, corners[3].screen, corners[0].screen];\n            if (this._insideTriangle(center, triangle1) ||\n              this._insideTriangle(center, triangle2)) {\n              // return immediately at the first hit\n              return dataPoint;\n            }\n          }\n        }\n      }\n    }\n    else {\n      // find the closest data point, using distance to the center of the point on 2d screen\n      for (i = 0; i < this.dataPoints.length; i++) {\n        dataPoint = this.dataPoints[i];\n        var point = dataPoint.screen;\n        if (point) {\n          var distX = Math.abs(x - point.x);\n          var distY = Math.abs(y - point.y);\n          var dist  = Math.sqrt(distX * distX + distY * distY);\n\n          if ((closestDist === null || dist < closestDist) && dist < distMax) {\n            closestDist = dist;\n            closestDataPoint = dataPoint;\n          }\n        }\n      }\n    }\n\n\n    return closestDataPoint;\n  };\n\n  /**\n   * Display a tooltip for given data point\n   * @param {Object} dataPoint\n   * @private\n   */\n  Graph3d.prototype._showTooltip = function (dataPoint) {\n    var content, line, dot;\n\n    if (!this.tooltip) {\n      content = document.createElement(\'div\');\n      content.style.position = \'absolute\';\n      content.style.padding = \'10px\';\n      content.style.border = \'1px solid #4d4d4d\';\n      content.style.color = \'#1a1a1a\';\n      content.style.background = \'rgba(255,255,255,0.7)\';\n      content.style.borderRadius = \'2px\';\n      content.style.boxShadow = \'5px 5px 10px rgba(128,128,128,0.5)\';\n\n      line = document.createElement(\'div\');\n      line.style.position = \'absolute\';\n      line.style.height = \'40px\';\n      line.style.width = \'0\';\n      line.style.borderLeft = \'1px solid #4d4d4d\';\n\n      dot = document.createElement(\'div\');\n      dot.style.position = \'absolute\';\n      dot.style.height = \'0\';\n      dot.style.width = \'0\';\n      dot.style.border = \'5px solid #4d4d4d\';\n      dot.style.borderRadius = \'5px\';\n\n      this.tooltip = {\n        dataPoint: null,\n        dom: {\n          content: content,\n          line: line,\n          dot: dot\n        }\n      };\n    }\n    else {\n      content = this.tooltip.dom.content;\n      line  = this.tooltip.dom.line;\n      dot   = this.tooltip.dom.dot;\n    }\n\n    this._hideTooltip();\n\n    this.tooltip.dataPoint = dataPoint;\n    if (typeof this.showTooltip === \'function\') {\n      content.innerHTML = this.showTooltip(dataPoint.point);\n    }\n    else {\n      content.innerHTML = \'<table>\' +\n        \'<tr><td>x:</td><td>\' + dataPoint.point.x + \'</td></tr>\' +\n        \'<tr><td>y:</td><td>\' + dataPoint.point.y + \'</td></tr>\' +\n        \'<tr><td>z:</td><td>\' + dataPoint.point.z + \'</td></tr>\' +\n        \'</table>\';\n    }\n\n    content.style.left  = \'0\';\n    content.style.top   = \'0\';\n    this.frame.appendChild(content);\n    this.frame.appendChild(line);\n    this.frame.appendChild(dot);\n\n    // calculate sizes\n    var contentWidth  = content.offsetWidth;\n    var contentHeight   = content.offsetHeight;\n    var lineHeight    = line.offsetHeight;\n    var dotWidth    = dot.offsetWidth;\n    var dotHeight     = dot.offsetHeight;\n\n    var left = dataPoint.screen.x - contentWidth / 2;\n    left = Math.min(Math.max(left, 10), this.frame.clientWidth - 10 - contentWidth);\n\n    line.style.left   = dataPoint.screen.x + \'px\';\n    line.style.top    = (dataPoint.screen.y - lineHeight) + \'px\';\n    content.style.left  = left + \'px\';\n    content.style.top   = (dataPoint.screen.y - lineHeight - contentHeight) + \'px\';\n    dot.style.left    = (dataPoint.screen.x - dotWidth / 2) + \'px\';\n    dot.style.top     = (dataPoint.screen.y - dotHeight / 2) + \'px\';\n  };\n\n  /**\n   * Hide the tooltip when displayed\n   * @private\n   */\n  Graph3d.prototype._hideTooltip = function () {\n    if (this.tooltip) {\n      this.tooltip.dataPoint = null;\n\n      for (var prop in this.tooltip.dom) {\n        if (this.tooltip.dom.hasOwnProperty(prop)) {\n          var elem = this.tooltip.dom[prop];\n          if (elem && elem.parentNode) {\n            elem.parentNode.removeChild(elem);\n          }\n        }\n      }\n    }\n  };\n\n  /**--------------------------------------------------------------------------**/\n\n\n  /**\n   * Get the horizontal mouse position from a mouse event\n   * @param {Event} event\n   * @return {Number} mouse x\n   */\n  function getMouseX (event) {\n    if (\'clientX\' in event) return event.clientX;\n    return event.targetTouches[0] && event.targetTouches[0].clientX || 0;\n  }\n\n  /**\n   * Get the vertical mouse position from a mouse event\n   * @param {Event} event\n   * @return {Number} mouse y\n   */\n  function getMouseY (event) {\n    if (\'clientY\' in event) return event.clientY;\n    return event.targetTouches[0] && event.targetTouches[0].clientY || 0;\n  }\n\n  module.exports = Graph3d;\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Point3d = __webpack_require__(10);\n\n  /**\n   * @class Camera\n   * The camera is mounted on a (virtual) camera arm. The camera arm can rotate\n   * The camera is always looking in the direction of the origin of the arm.\n   * This way, the camera always rotates around one fixed point, the location\n   * of the camera arm.\n   *\n   * Documentation:\n   *   http://en.wikipedia.org/wiki/3D_projection\n   */\n  function Camera() {\n    this.armLocation = new Point3d();\n    this.armRotation = {};\n    this.armRotation.horizontal = 0;\n    this.armRotation.vertical = 0;\n    this.armLength = 1.7;\n\n    this.cameraLocation = new Point3d();\n    this.cameraRotation =  new Point3d(0.5*Math.PI, 0, 0);\n\n    this.calculateCameraOrientation();\n  }\n\n  /**\n   * Set the location (origin) of the arm\n   * @param {Number} x  Normalized value of x\n   * @param {Number} y  Normalized value of y\n   * @param {Number} z  Normalized value of z\n   */\n  Camera.prototype.setArmLocation = function(x, y, z) {\n    this.armLocation.x = x;\n    this.armLocation.y = y;\n    this.armLocation.z = z;\n\n    this.calculateCameraOrientation();\n  };\n\n  /**\n   * Set the rotation of the camera arm\n   * @param {Number} horizontal   The horizontal rotation, between 0 and 2*PI.\n   *                Optional, can be left undefined.\n   * @param {Number} vertical   The vertical rotation, between 0 and 0.5*PI\n   *                if vertical=0.5*PI, the graph is shown from the\n   *                top. Optional, can be left undefined.\n   */\n  Camera.prototype.setArmRotation = function(horizontal, vertical) {\n    if (horizontal !== undefined) {\n      this.armRotation.horizontal = horizontal;\n    }\n\n    if (vertical !== undefined) {\n      this.armRotation.vertical = vertical;\n      if (this.armRotation.vertical < 0) this.armRotation.vertical = 0;\n      if (this.armRotation.vertical > 0.5*Math.PI) this.armRotation.vertical = 0.5*Math.PI;\n    }\n\n    if (horizontal !== undefined || vertical !== undefined) {\n      this.calculateCameraOrientation();\n    }\n  };\n\n  /**\n   * Retrieve the current arm rotation\n   * @return {object}   An object with parameters horizontal and vertical\n   */\n  Camera.prototype.getArmRotation = function() {\n    var rot = {};\n    rot.horizontal = this.armRotation.horizontal;\n    rot.vertical = this.armRotation.vertical;\n\n    return rot;\n  };\n\n  /**\n   * Set the (normalized) length of the camera arm.\n   * @param {Number} length A length between 0.71 and 5.0\n   */\n  Camera.prototype.setArmLength = function(length) {\n    if (length === undefined)\n      return;\n\n    this.armLength = length;\n\n    // Radius must be larger than the corner of the graph,\n    // which has a distance of sqrt(0.5^2+0.5^2) = 0.71 from the center of the\n    // graph\n    if (this.armLength < 0.71) this.armLength = 0.71;\n    if (this.armLength > 5.0) this.armLength = 5.0;\n\n    this.calculateCameraOrientation();\n  };\n\n  /**\n   * Retrieve the arm length\n   * @return {Number} length\n   */\n  Camera.prototype.getArmLength = function() {\n    return this.armLength;\n  };\n\n  /**\n   * Retrieve the camera location\n   * @return {Point3d} cameraLocation\n   */\n  Camera.prototype.getCameraLocation = function() {\n    return this.cameraLocation;\n  };\n\n  /**\n   * Retrieve the camera rotation\n   * @return {Point3d} cameraRotation\n   */\n  Camera.prototype.getCameraRotation = function() {\n    return this.cameraRotation;\n  };\n\n  /**\n   * Calculate the location and rotation of the camera based on the\n   * position and orientation of the camera arm\n   */\n  Camera.prototype.calculateCameraOrientation = function() {\n    // calculate location of the camera\n    this.cameraLocation.x = this.armLocation.x - this.armLength * Math.sin(this.armRotation.horizontal) * Math.cos(this.armRotation.vertical);\n    this.cameraLocation.y = this.armLocation.y - this.armLength * Math.cos(this.armRotation.horizontal) * Math.cos(this.armRotation.vertical);\n    this.cameraLocation.z = this.armLocation.z + this.armLength * Math.sin(this.armRotation.vertical);\n\n    // calculate rotation of the camera\n    this.cameraRotation.x = Math.PI/2 - this.armRotation.vertical;\n    this.cameraRotation.y = 0;\n    this.cameraRotation.z = -this.armRotation.horizontal;\n  };\n\n  module.exports = Camera;\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var DataView = __webpack_require__(4);\n\n  /**\n   * @class Filter\n   *\n   * @param {DataSet} data The google data table\n   * @param {Number}  column             The index of the column to be filtered\n   * @param {Graph} graph           The graph\n   */\n  function Filter (data, column, graph) {\n    this.data = data;\n    this.column = column;\n    this.graph = graph; // the parent graph\n\n    this.index = undefined;\n    this.value = undefined;\n\n    // read all distinct values and select the first one\n    this.values = graph.getDistinctValues(data.get(), this.column);\n\n    // sort both numeric and string values correctly\n    this.values.sort(function (a, b) {\n      return a > b ? 1 : a < b ? -1 : 0;\n    });\n\n    if (this.values.length > 0) {\n      this.selectValue(0);\n    }\n\n    // create an array with the filtered datapoints. this will be loaded afterwards\n    this.dataPoints = [];\n\n    this.loaded = false;\n    this.onLoadCallback = undefined;\n\n    if (graph.animationPreload) {\n      this.loaded = false;\n      this.loadInBackground();\n    }\n    else {\n      this.loaded = true;\n    }\n  };\n\n\n  /**\n   * Return the label\n   * @return {string} label\n   */\n  Filter.prototype.isLoaded = function() {\n    return this.loaded;\n  };\n\n\n  /**\n   * Return the loaded progress\n   * @return {Number} percentage between 0 and 100\n   */\n  Filter.prototype.getLoadedProgress = function() {\n    var len = this.values.length;\n\n    var i = 0;\n    while (this.dataPoints[i]) {\n      i++;\n    }\n\n    return Math.round(i / len * 100);\n  };\n\n\n  /**\n   * Return the label\n   * @return {string} label\n   */\n  Filter.prototype.getLabel = function() {\n    return this.graph.filterLabel;\n  };\n\n\n  /**\n   * Return the columnIndex of the filter\n   * @return {Number} columnIndex\n   */\n  Filter.prototype.getColumn = function() {\n    return this.column;\n  };\n\n  /**\n   * Return the currently selected value. Returns undefined if there is no selection\n   * @return {*} value\n   */\n  Filter.prototype.getSelectedValue = function() {\n    if (this.index === undefined)\n      return undefined;\n\n    return this.values[this.index];\n  };\n\n  /**\n   * Retrieve all values of the filter\n   * @return {Array} values\n   */\n  Filter.prototype.getValues = function() {\n    return this.values;\n  };\n\n  /**\n   * Retrieve one value of the filter\n   * @param {Number}  index\n   * @return {*} value\n   */\n  Filter.prototype.getValue = function(index) {\n    if (index >= this.values.length)\n      throw \'Error: index out of range\';\n\n    return this.values[index];\n  };\n\n\n  /**\n   * Retrieve the (filtered) dataPoints for the currently selected filter index\n   * @param {Number} [index] (optional)\n   * @return {Array} dataPoints\n   */\n  Filter.prototype._getDataPoints = function(index) {\n    if (index === undefined)\n      index = this.index;\n\n    if (index === undefined)\n      return [];\n\n    var dataPoints;\n    if (this.dataPoints[index]) {\n      dataPoints = this.dataPoints[index];\n    }\n    else {\n      var f = {};\n      f.column = this.column;\n      f.value = this.values[index];\n\n      var dataView = new DataView(this.data,{filter: function (item) {return (item[f.column] == f.value);}}).get();\n      dataPoints = this.graph._getDataPoints(dataView);\n\n      this.dataPoints[index] = dataPoints;\n    }\n\n    return dataPoints;\n  };\n\n\n\n  /**\n   * Set a callback function when the filter is fully loaded.\n   */\n  Filter.prototype.setOnLoadCallback = function(callback) {\n    this.onLoadCallback = callback;\n  };\n\n\n  /**\n   * Add a value to the list with available values for this filter\n   * No double entries will be created.\n   * @param {Number} index\n   */\n  Filter.prototype.selectValue = function(index) {\n    if (index >= this.values.length)\n      throw \'Error: index out of range\';\n\n    this.index = index;\n    this.value = this.values[index];\n  };\n\n  /**\n   * Load all filtered rows in the background one by one\n   * Start this method without providing an index!\n   */\n  Filter.prototype.loadInBackground = function(index) {\n    if (index === undefined)\n      index = 0;\n\n    var frame = this.graph.frame;\n\n    if (index < this.values.length) {\n      var dataPointsTemp = this._getDataPoints(index);\n      //this.graph.redrawInfo(); // TODO: not neat\n\n      // create a progress box\n      if (frame.progress === undefined) {\n        frame.progress = document.createElement(\'DIV\');\n        frame.progress.style.position = \'absolute\';\n        frame.progress.style.color = \'gray\';\n        frame.appendChild(frame.progress);\n      }\n      var progress = this.getLoadedProgress();\n      frame.progress.innerHTML = \'Loading animation... \' + progress + \'%\';\n      // TODO: this is no nice solution...\n      frame.progress.style.bottom = 60 + \'px\'; // TODO: use height of slider\n      frame.progress.style.left = 10 + \'px\';\n\n      var me = this;\n      setTimeout(function() {me.loadInBackground(index+1);}, 10);\n      this.loaded = false;\n    }\n    else {\n      this.loaded = true;\n\n      // remove the progress box\n      if (frame.progress !== undefined) {\n        frame.removeChild(frame.progress);\n        frame.progress = undefined;\n      }\n\n      if (this.onLoadCallback)\n        this.onLoadCallback();\n    }\n  };\n\n  module.exports = Filter;\n\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * @prototype Point2d\n   * @param {Number} [x]\n   * @param {Number} [y]\n   */\n  function Point2d (x, y) {\n    this.x = x !== undefined ? x : 0;\n    this.y = y !== undefined ? y : 0;\n  }\n\n  module.exports = Point2d;\n\n\n/***/ },\n/* 10 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * @prototype Point3d\n   * @param {Number} [x]\n   * @param {Number} [y]\n   * @param {Number} [z]\n   */\n  function Point3d(x, y, z) {\n    this.x = x !== undefined ? x : 0;\n    this.y = y !== undefined ? y : 0;\n    this.z = z !== undefined ? z : 0;\n  };\n\n  /**\n   * Subtract the two provided points, returns a-b\n   * @param {Point3d} a\n   * @param {Point3d} b\n   * @return {Point3d} a-b\n   */\n  Point3d.subtract = function(a, b) {\n    var sub = new Point3d();\n    sub.x = a.x - b.x;\n    sub.y = a.y - b.y;\n    sub.z = a.z - b.z;\n    return sub;\n  };\n\n  /**\n   * Add the two provided points, returns a+b\n   * @param {Point3d} a\n   * @param {Point3d} b\n   * @return {Point3d} a+b\n   */\n  Point3d.add = function(a, b) {\n    var sum = new Point3d();\n    sum.x = a.x + b.x;\n    sum.y = a.y + b.y;\n    sum.z = a.z + b.z;\n    return sum;\n  };\n\n  /**\n   * Calculate the average of two 3d points\n   * @param {Point3d} a\n   * @param {Point3d} b\n   * @return {Point3d} The average, (a+b)/2\n   */\n  Point3d.avg = function(a, b) {\n    return new Point3d(\n            (a.x + b.x) / 2,\n            (a.y + b.y) / 2,\n            (a.z + b.z) / 2\n    );\n  };\n\n  /**\n   * Calculate the cross product of the two provided points, returns axb\n   * Documentation: http://en.wikipedia.org/wiki/Cross_product\n   * @param {Point3d} a\n   * @param {Point3d} b\n   * @return {Point3d} cross product axb\n   */\n  Point3d.crossProduct = function(a, b) {\n    var crossproduct = new Point3d();\n\n    crossproduct.x = a.y * b.z - a.z * b.y;\n    crossproduct.y = a.z * b.x - a.x * b.z;\n    crossproduct.z = a.x * b.y - a.y * b.x;\n\n    return crossproduct;\n  };\n\n\n  /**\n   * Rtrieve the length of the vector (or the distance from this point to the origin\n   * @return {Number}  length\n   */\n  Point3d.prototype.length = function() {\n    return Math.sqrt(\n            this.x * this.x +\n            this.y * this.y +\n            this.z * this.z\n    );\n  };\n\n  module.exports = Point3d;\n\n\n/***/ },\n/* 11 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n\n  /**\n   * @constructor Slider\n   *\n   * An html slider control with start/stop/prev/next buttons\n   * @param {Element} container  The element where the slider will be created\n   * @param {Object} options   Available options:\n   *                 {boolean} visible   If true (default) the\n   *                           slider is visible.\n   */\n  function Slider(container, options) {\n    if (container === undefined) {\n      throw \'Error: No container element defined\';\n    }\n    this.container = container;\n    this.visible = (options && options.visible != undefined) ? options.visible : true;\n\n    if (this.visible) {\n      this.frame = document.createElement(\'DIV\');\n      //this.frame.style.backgroundColor = \'#E5E5E5\';\n      this.frame.style.width = \'100%\';\n      this.frame.style.position = \'relative\';\n      this.container.appendChild(this.frame);\n\n      this.frame.prev = document.createElement(\'INPUT\');\n      this.frame.prev.type = \'BUTTON\';\n      this.frame.prev.value = \'Prev\';\n      this.frame.appendChild(this.frame.prev);\n\n      this.frame.play = document.createElement(\'INPUT\');\n      this.frame.play.type = \'BUTTON\';\n      this.frame.play.value = \'Play\';\n      this.frame.appendChild(this.frame.play);\n\n      this.frame.next = document.createElement(\'INPUT\');\n      this.frame.next.type = \'BUTTON\';\n      this.frame.next.value = \'Next\';\n      this.frame.appendChild(this.frame.next);\n\n      this.frame.bar = document.createElement(\'INPUT\');\n      this.frame.bar.type = \'BUTTON\';\n      this.frame.bar.style.position = \'absolute\';\n      this.frame.bar.style.border = \'1px solid red\';\n      this.frame.bar.style.width = \'100px\';\n      this.frame.bar.style.height = \'6px\';\n      this.frame.bar.style.borderRadius = \'2px\';\n      this.frame.bar.style.MozBorderRadius = \'2px\';\n      this.frame.bar.style.border = \'1px solid #7F7F7F\';\n      this.frame.bar.style.backgroundColor = \'#E5E5E5\';\n      this.frame.appendChild(this.frame.bar);\n\n      this.frame.slide = document.createElement(\'INPUT\');\n      this.frame.slide.type = \'BUTTON\';\n      this.frame.slide.style.margin = \'0px\';\n      this.frame.slide.value = \' \';\n      this.frame.slide.style.position = \'relative\';\n      this.frame.slide.style.left = \'-100px\';\n      this.frame.appendChild(this.frame.slide);\n\n      // create events\n      var me = this;\n      this.frame.slide.onmousedown = function (event) {me._onMouseDown(event);};\n      this.frame.prev.onclick = function (event) {me.prev(event);};\n      this.frame.play.onclick = function (event) {me.togglePlay(event);};\n      this.frame.next.onclick = function (event) {me.next(event);};\n    }\n\n    this.onChangeCallback = undefined;\n\n    this.values = [];\n    this.index = undefined;\n\n    this.playTimeout = undefined;\n    this.playInterval = 1000; // milliseconds\n    this.playLoop = true;\n  }\n\n  /**\n   * Select the previous index\n   */\n  Slider.prototype.prev = function() {\n    var index = this.getIndex();\n    if (index > 0) {\n      index--;\n      this.setIndex(index);\n    }\n  };\n\n  /**\n   * Select the next index\n   */\n  Slider.prototype.next = function() {\n    var index = this.getIndex();\n    if (index < this.values.length - 1) {\n      index++;\n      this.setIndex(index);\n    }\n  };\n\n  /**\n   * Select the next index\n   */\n  Slider.prototype.playNext = function() {\n    var start = new Date();\n\n    var index = this.getIndex();\n    if (index < this.values.length - 1) {\n      index++;\n      this.setIndex(index);\n    }\n    else if (this.playLoop) {\n      // jump to the start\n      index = 0;\n      this.setIndex(index);\n    }\n\n    var end = new Date();\n    var diff = (end - start);\n\n    // calculate how much time it to to set the index and to execute the callback\n    // function.\n    var interval = Math.max(this.playInterval - diff, 0);\n    // document.title = diff // TODO: cleanup\n\n    var me = this;\n    this.playTimeout = setTimeout(function() {me.playNext();}, interval);\n  };\n\n  /**\n   * Toggle start or stop playing\n   */\n  Slider.prototype.togglePlay = function() {\n    if (this.playTimeout === undefined) {\n      this.play();\n    } else {\n      this.stop();\n    }\n  };\n\n  /**\n   * Start playing\n   */\n  Slider.prototype.play = function() {\n    // Test whether already playing\n    if (this.playTimeout) return;\n\n    this.playNext();\n\n    if (this.frame) {\n      this.frame.play.value = \'Stop\';\n    }\n  };\n\n  /**\n   * Stop playing\n   */\n  Slider.prototype.stop = function() {\n    clearInterval(this.playTimeout);\n    this.playTimeout = undefined;\n\n    if (this.frame) {\n      this.frame.play.value = \'Play\';\n    }\n  };\n\n  /**\n   * Set a callback function which will be triggered when the value of the\n   * slider bar has changed.\n   */\n  Slider.prototype.setOnChangeCallback = function(callback) {\n    this.onChangeCallback = callback;\n  };\n\n  /**\n   * Set the interval for playing the list\n   * @param {Number} interval   The interval in milliseconds\n   */\n  Slider.prototype.setPlayInterval = function(interval) {\n    this.playInterval = interval;\n  };\n\n  /**\n   * Retrieve the current play interval\n   * @return {Number} interval   The interval in milliseconds\n   */\n  Slider.prototype.getPlayInterval = function(interval) {\n    return this.playInterval;\n  };\n\n  /**\n   * Set looping on or off\n   * @pararm {boolean} doLoop  If true, the slider will jump to the start when\n   *               the end is passed, and will jump to the end\n   *               when the start is passed.\n   */\n  Slider.prototype.setPlayLoop = function(doLoop) {\n    this.playLoop = doLoop;\n  };\n\n\n  /**\n   * Execute the onchange callback function\n   */\n  Slider.prototype.onChange = function() {\n    if (this.onChangeCallback !== undefined) {\n      this.onChangeCallback();\n    }\n  };\n\n  /**\n   * redraw the slider on the correct place\n   */\n  Slider.prototype.redraw = function() {\n    if (this.frame) {\n      // resize the bar\n      this.frame.bar.style.top = (this.frame.clientHeight/2 -\n          this.frame.bar.offsetHeight/2) + \'px\';\n      this.frame.bar.style.width = (this.frame.clientWidth -\n          this.frame.prev.clientWidth -\n          this.frame.play.clientWidth -\n          this.frame.next.clientWidth - 30)  + \'px\';\n\n      // position the slider button\n      var left = this.indexToLeft(this.index);\n      this.frame.slide.style.left = (left) + \'px\';\n    }\n  };\n\n\n  /**\n   * Set the list with values for the slider\n   * @param {Array} values   A javascript array with values (any type)\n   */\n  Slider.prototype.setValues = function(values) {\n    this.values = values;\n\n    if (this.values.length > 0)\n      this.setIndex(0);\n    else\n      this.index = undefined;\n  };\n\n  /**\n   * Select a value by its index\n   * @param {Number} index\n   */\n  Slider.prototype.setIndex = function(index) {\n    if (index < this.values.length) {\n      this.index = index;\n\n      this.redraw();\n      this.onChange();\n    }\n    else {\n      throw \'Error: index out of range\';\n    }\n  };\n\n  /**\n   * retrieve the index of the currently selected vaue\n   * @return {Number} index\n   */\n  Slider.prototype.getIndex = function() {\n    return this.index;\n  };\n\n\n  /**\n   * retrieve the currently selected value\n   * @return {*} value\n   */\n  Slider.prototype.get = function() {\n    return this.values[this.index];\n  };\n\n\n  Slider.prototype._onMouseDown = function(event) {\n    // only react on left mouse button down\n    var leftButtonDown = event.which ? (event.which === 1) : (event.button === 1);\n    if (!leftButtonDown) return;\n\n    this.startClientX = event.clientX;\n    this.startSlideX = parseFloat(this.frame.slide.style.left);\n\n    this.frame.style.cursor = \'move\';\n\n    // add event listeners to handle moving the contents\n    // we store the function onmousemove and onmouseup in the graph, so we can\n    // remove the eventlisteners lateron in the function mouseUp()\n    var me = this;\n    this.onmousemove = function (event) {me._onMouseMove(event);};\n    this.onmouseup   = function (event) {me._onMouseUp(event);};\n    util.addEventListener(document, \'mousemove\', this.onmousemove);\n    util.addEventListener(document, \'mouseup\',   this.onmouseup);\n    util.preventDefault(event);\n  };\n\n\n  Slider.prototype.leftToIndex = function (left) {\n    var width = parseFloat(this.frame.bar.style.width) -\n        this.frame.slide.clientWidth - 10;\n    var x = left - 3;\n\n    var index = Math.round(x / width * (this.values.length-1));\n    if (index < 0) index = 0;\n    if (index > this.values.length-1) index = this.values.length-1;\n\n    return index;\n  };\n\n  Slider.prototype.indexToLeft = function (index) {\n    var width = parseFloat(this.frame.bar.style.width) -\n        this.frame.slide.clientWidth - 10;\n\n    var x = index / (this.values.length-1) * width;\n    var left = x + 3;\n\n    return left;\n  };\n\n\n\n  Slider.prototype._onMouseMove = function (event) {\n    var diff = event.clientX - this.startClientX;\n    var x = this.startSlideX + diff;\n\n    var index = this.leftToIndex(x);\n\n    this.setIndex(index);\n\n    util.preventDefault();\n  };\n\n\n  Slider.prototype._onMouseUp = function (event) {\n    this.frame.style.cursor = \'auto\';\n\n    // remove event listeners\n    util.removeEventListener(document, \'mousemove\', this.onmousemove);\n    util.removeEventListener(document, \'mouseup\', this.onmouseup);\n\n    util.preventDefault();\n  };\n\n  module.exports = Slider;\n\n\n/***/ },\n/* 12 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * @prototype StepNumber\n   * The class StepNumber is an iterator for Numbers. You provide a start and end\n   * value, and a best step size. StepNumber itself rounds to fixed values and\n   * a finds the step that best fits the provided step.\n   *\n   * If prettyStep is true, the step size is chosen as close as possible to the\n   * provided step, but being a round value like 1, 2, 5, 10, 20, 50, ....\n   *\n   * Example usage:\n   *   var step = new StepNumber(0, 10, 2.5, true);\n   *   step.start();\n   *   while (!step.end()) {\n   *   alert(step.getCurrent());\n   *   step.next();\n   *   }\n   *\n   * Version: 1.0\n   *\n   * @param {Number} start     The start value\n   * @param {Number} end     The end value\n   * @param {Number} step    Optional. Step size. Must be a positive value.\n   * @param {boolean} prettyStep Optional. If true, the step size is rounded\n   *               To a pretty step size (like 1, 2, 5, 10, 20, 50, ...)\n   */\n  function StepNumber(start, end, step, prettyStep) {\n    // set default values\n    this._start = 0;\n    this._end = 0;\n    this._step = 1;\n    this.prettyStep = true;\n    this.precision = 5;\n\n    this._current = 0;\n    this.setRange(start, end, step, prettyStep);\n  };\n\n  /**\n   * Set a new range: start, end and step.\n   *\n   * @param {Number} start     The start value\n   * @param {Number} end     The end value\n   * @param {Number} step    Optional. Step size. Must be a positive value.\n   * @param {boolean} prettyStep Optional. If true, the step size is rounded\n   *               To a pretty step size (like 1, 2, 5, 10, 20, 50, ...)\n   */\n  StepNumber.prototype.setRange = function(start, end, step, prettyStep) {\n    this._start = start ? start : 0;\n    this._end = end ? end : 0;\n\n    this.setStep(step, prettyStep);\n  };\n\n  /**\n   * Set a new step size\n   * @param {Number} step    New step size. Must be a positive value\n   * @param {boolean} prettyStep Optional. If true, the provided step is rounded\n   *               to a pretty step size (like 1, 2, 5, 10, 20, 50, ...)\n   */\n  StepNumber.prototype.setStep = function(step, prettyStep) {\n    if (step === undefined || step <= 0)\n      return;\n\n    if (prettyStep !== undefined)\n      this.prettyStep = prettyStep;\n\n    if (this.prettyStep === true)\n      this._step = StepNumber.calculatePrettyStep(step);\n    else\n      this._step = step;\n  };\n\n  /**\n   * Calculate a nice step size, closest to the desired step size.\n   * Returns a value in one of the ranges 1*10^n, 2*10^n, or 5*10^n, where n is an\n   * integer Number. For example 1, 2, 5, 10, 20, 50, etc...\n   * @param {Number}  step  Desired step size\n   * @return {Number}     Nice step size\n   */\n  StepNumber.calculatePrettyStep = function (step) {\n    var log10 = function (x) {return Math.log(x) / Math.LN10;};\n\n    // try three steps (multiple of 1, 2, or 5\n    var step1 = Math.pow(10, Math.round(log10(step))),\n        step2 = 2 * Math.pow(10, Math.round(log10(step / 2))),\n        step5 = 5 * Math.pow(10, Math.round(log10(step / 5)));\n\n    // choose the best step (closest to minimum step)\n    var prettyStep = step1;\n    if (Math.abs(step2 - step) <= Math.abs(prettyStep - step)) prettyStep = step2;\n    if (Math.abs(step5 - step) <= Math.abs(prettyStep - step)) prettyStep = step5;\n\n    // for safety\n    if (prettyStep <= 0) {\n      prettyStep = 1;\n    }\n\n    return prettyStep;\n  };\n\n  /**\n   * returns the current value of the step\n   * @return {Number} current value\n   */\n  StepNumber.prototype.getCurrent = function () {\n    return parseFloat(this._current.toPrecision(this.precision));\n  };\n\n  /**\n   * returns the current step size\n   * @return {Number} current step size\n   */\n  StepNumber.prototype.getStep = function () {\n    return this._step;\n  };\n\n  /**\n   * Set the current value to the largest value smaller than start, which\n   * is a multiple of the step size\n   */\n  StepNumber.prototype.start = function() {\n    this._current = this._start - this._start % this._step;\n  };\n\n  /**\n   * Do a step, add the step size to the current value\n   */\n  StepNumber.prototype.next = function () {\n    this._current += this._step;\n  };\n\n  /**\n   * Returns true whether the end is reached\n   * @return {boolean}  True if the current value has passed the end value.\n   */\n  StepNumber.prototype.end = function () {\n    return (this._current > this._end);\n  };\n\n  module.exports = StepNumber;\n\n\n/***/ },\n/* 13 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Emitter = __webpack_require__(56);\n  var Hammer = __webpack_require__(45);\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(3);\n  var DataView = __webpack_require__(4);\n  var Range = __webpack_require__(17);\n  var Core = __webpack_require__(46);\n  var TimeAxis = __webpack_require__(35);\n  var CurrentTime = __webpack_require__(26);\n  var CustomTime = __webpack_require__(27);\n  var ItemSet = __webpack_require__(32);\n\n  /**\n   * Create a timeline visualization\n   * @param {HTMLElement} container\n   * @param {vis.DataSet | vis.DataView | Array | google.visualization.DataTable} [items]\n   * @param {vis.DataSet | vis.DataView | Array | google.visualization.DataTable} [groups]\n   * @param {Object} [options]  See Timeline.setOptions for the available options.\n   * @constructor\n   * @extends Core\n   */\n  function Timeline (container, items, groups, options) {\n    if (!(this instanceof Timeline)) {\n      throw new SyntaxError(\'Constructor must be called with the new operator\');\n    }\n\n    // if the third element is options, the forth is groups (optionally);\n    if (!(Array.isArray(groups) || groups instanceof DataSet || groups instanceof DataView) && groups instanceof Object) {\n      var forthArgument = options;\n      options = groups;\n      groups = forthArgument;\n    }\n\n    var me = this;\n    this.defaultOptions = {\n      start: null,\n      end:   null,\n\n      autoResize: true,\n\n      orientation: \'bottom\',  // axis orientation: \'bottom\', \'top\', or \'both\'\n      width: null,\n      height: null,\n      maxHeight: null,\n      minHeight: null\n    };\n    this.options = util.deepExtend({}, this.defaultOptions);\n\n    // Create the DOM, props, and emitter\n    this._create(container);\n\n    // all components listed here will be repainted automatically\n    this.components = [];\n\n    this.body = {\n      dom: this.dom,\n      domProps: this.props,\n      emitter: {\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        emit: this.emit.bind(this)\n      },\n      hiddenDates: [],\n      util: {\n        getScale: function () {\n          return me.timeAxis.step.scale;\n        },\n        getStep: function () {\n          return me.timeAxis.step.step;\n        },\n\n        toScreen: me._toScreen.bind(me),\n        toGlobalScreen: me._toGlobalScreen.bind(me), // this refers to the root.width\n        toTime: me._toTime.bind(me),\n        toGlobalTime : me._toGlobalTime.bind(me)\n      }\n    };\n\n    // range\n    this.range = new Range(this.body);\n    this.components.push(this.range);\n    this.body.range = this.range;\n\n    // time axis\n    this.timeAxis = new TimeAxis(this.body);\n    this.timeAxis2 = null; // used in case of orientation option \'both\'\n    this.components.push(this.timeAxis);\n\n    // current time bar\n    this.currentTime = new CurrentTime(this.body);\n    this.components.push(this.currentTime);\n\n    // custom time bar\n    // Note: time bar will be attached in this.setOptions when selected\n    this.customTime = new CustomTime(this.body);\n    this.components.push(this.customTime);\n\n    // item set\n    this.itemSet = new ItemSet(this.body);\n    this.components.push(this.itemSet);\n\n    this.itemsData = null;      // DataSet\n    this.groupsData = null;     // DataSet\n\n    this.on(\'tap\', function (event) {\n      me.emit(\'click\', me.getEventProperties(event))\n    });\n    this.on(\'doubletap\', function (event) {\n      me.emit(\'doubleClick\', me.getEventProperties(event))\n    });\n    this.dom.root.oncontextmenu = function (event) {\n      me.emit(\'contextmenu\', me.getEventProperties(event))\n    };\n\n    // apply options\n    if (options) {\n      this.setOptions(options);\n    }\n\n    // IMPORTANT: THIS HAPPENS BEFORE SET ITEMS!\n    if (groups) {\n      this.setGroups(groups);\n    }\n\n    // create itemset\n    if (items) {\n      this.setItems(items);\n    }\n    else {\n      this._redraw();\n    }\n  }\n\n  // Extend the functionality from Core\n  Timeline.prototype = new Core();\n\n  /**\n   * Force a redraw. The size of all items will be recalculated.\n   * Can be useful to manually redraw when option autoResize=false and the window\n   * has been resized, or when the items CSS has been changed.\n   */\n  Timeline.prototype.redraw = function() {\n    this.itemSet && this.itemSet.markDirty({refreshItems: true});\n    this._redraw();\n  };\n\n  /**\n   * Set items\n   * @param {vis.DataSet | Array | google.visualization.DataTable | null} items\n   */\n  Timeline.prototype.setItems = function(items) {\n    var initialLoad = (this.itemsData == null);\n\n    // convert to type DataSet when needed\n    var newDataSet;\n    if (!items) {\n      newDataSet = null;\n    }\n    else if (items instanceof DataSet || items instanceof DataView) {\n      newDataSet = items;\n    }\n    else {\n      // turn an array into a dataset\n      newDataSet = new DataSet(items, {\n        type: {\n          start: \'Date\',\n          end: \'Date\'\n        }\n      });\n    }\n\n    // set items\n    this.itemsData = newDataSet;\n    this.itemSet && this.itemSet.setItems(newDataSet);\n\n    if (initialLoad) {\n      if (this.options.start != undefined || this.options.end != undefined) {\n        if (this.options.start == undefined || this.options.end == undefined) {\n          var dataRange = this._getDataRange();\n        }\n\n        var start = this.options.start != undefined ? this.options.start : dataRange.start;\n        var end   = this.options.end != undefined   ? this.options.end   : dataRange.end;\n\n        this.setWindow(start, end, {animate: false});\n      }\n      else {\n        this.fit({animate: false});\n      }\n    }\n  };\n\n  /**\n   * Set groups\n   * @param {vis.DataSet | Array | google.visualization.DataTable} groups\n   */\n  Timeline.prototype.setGroups = function(groups) {\n    // convert to type DataSet when needed\n    var newDataSet;\n    if (!groups) {\n      newDataSet = null;\n    }\n    else if (groups instanceof DataSet || groups instanceof DataView) {\n      newDataSet = groups;\n    }\n    else {\n      // turn an array into a dataset\n      newDataSet = new DataSet(groups);\n    }\n\n    this.groupsData = newDataSet;\n    this.itemSet.setGroups(newDataSet);\n  };\n\n  /**\n   * Set selected items by their id. Replaces the current selection\n   * Unknown id\'s are silently ignored.\n   * @param {string[] | string} [ids]  An array with zero or more id\'s of the items to be\n   *                                selected. If ids is an empty array, all items will be\n   *                                unselected.\n   * @param {Object} [options]      Available options:\n   *                                `focus: boolean`\n   *                                    If true, focus will be set to the selected item(s)\n   *                                `animate: boolean | number`\n   *                                    If true (default), the range is animated\n   *                                    smoothly to the new window.\n   *                                    If a number, the number is taken as duration\n   *                                    for the animation. Default duration is 500 ms.\n   *                                    Only applicable when option focus is true.\n   */\n  Timeline.prototype.setSelection = function(ids, options) {\n    this.itemSet && this.itemSet.setSelection(ids);\n\n    if (options && options.focus) {\n      this.focus(ids, options);\n    }\n  };\n\n  /**\n   * Get the selected items by their id\n   * @return {Array} ids  The ids of the selected items\n   */\n  Timeline.prototype.getSelection = function() {\n    return this.itemSet && this.itemSet.getSelection() || [];\n  };\n\n  /**\n   * Adjust the visible window such that the selected item (or multiple items)\n   * are centered on screen.\n   * @param {String | String[]} id     An item id or array with item ids\n   * @param {Object} [options]      Available options:\n   *                                `animate: boolean | number`\n   *                                    If true (default), the range is animated\n   *                                    smoothly to the new window.\n   *                                    If a number, the number is taken as duration\n   *                                    for the animation. Default duration is 500 ms.\n   *                                    Only applicable when option focus is true\n   */\n  Timeline.prototype.focus = function(id, options) {\n    if (!this.itemsData || id == undefined) return;\n\n    var ids = Array.isArray(id) ? id : [id];\n\n    // get the specified item(s)\n    var itemsData = this.itemsData.getDataSet().get(ids, {\n      type: {\n        start: \'Date\',\n        end: \'Date\'\n      }\n    });\n\n    // calculate minimum start and maximum end of specified items\n    var start = null;\n    var end = null;\n    itemsData.forEach(function (itemData) {\n      var s = itemData.start.valueOf();\n      var e = \'end\' in itemData ? itemData.end.valueOf() : itemData.start.valueOf();\n\n      if (start === null || s < start) {\n        start = s;\n      }\n\n      if (end === null || e > end) {\n        end = e;\n      }\n    });\n\n    if (start !== null && end !== null) {\n      // calculate the new middle and interval for the window\n      var middle = (start + end) / 2;\n      var interval = Math.max((this.range.end - this.range.start), (end - start) * 1.1);\n\n      var animate = (options && options.animate !== undefined) ? options.animate : true;\n      this.range.setRange(middle - interval / 2, middle + interval / 2, animate);\n    }\n  };\n\n  /**\n   * Get the data range of the item set.\n   * @returns {{min: Date, max: Date}} range  A range with a start and end Date.\n   *                                          When no minimum is found, min==null\n   *                                          When no maximum is found, max==null\n   */\n  Timeline.prototype.getItemRange = function() {\n    // calculate min from start filed\n    var dataset = this.itemsData.getDataSet(),\n      min = null,\n      max = null;\n\n    if (dataset) {\n      // calculate the minimum value of the field \'start\'\n      var minItem = dataset.min(\'start\');\n      min = minItem ? util.convert(minItem.start, \'Date\').valueOf() : null;\n      // Note: we convert first to Date and then to number because else\n      // a conversion from ISODate to Number will fail\n\n      // calculate maximum value of fields \'start\' and \'end\'\n      var maxStartItem = dataset.max(\'start\');\n      if (maxStartItem) {\n        max = util.convert(maxStartItem.start, \'Date\').valueOf();\n      }\n      var maxEndItem = dataset.max(\'end\');\n      if (maxEndItem) {\n        if (max == null) {\n          max = util.convert(maxEndItem.end, \'Date\').valueOf();\n        }\n        else {\n          max = Math.max(max, util.convert(maxEndItem.end, \'Date\').valueOf());\n        }\n      }\n    }\n\n    return {\n      min: (min != null) ? new Date(min) : null,\n      max: (max != null) ? new Date(max) : null\n    };\n  };\n\n  /**\n   * Generate Timeline related information from an event\n   * @param {Event} event\n   * @return {Object} An object with related information, like on which area\n   *                  The event happened, whether clicked on an item, etc.\n   */\n  Timeline.prototype.getEventProperties = function (event) {\n    var item  = this.itemSet.itemFromTarget(event);\n    var group = this.itemSet.groupFromTarget(event);\n    var pageX = event.gesture ? event.gesture.center.pageX : event.pageX;\n    var pageY = event.gesture ? event.gesture.center.pageY : event.pageY;\n    var x = pageX - util.getAbsoluteLeft(this.dom.centerContainer);\n    var y = pageY - util.getAbsoluteTop(this.dom.centerContainer);\n\n    var snap = this.itemSet.options.snap || null;\n    var scale = this.body.util.getScale();\n    var step = this.body.util.getStep();\n    var time = this._toTime(x);\n    var snappedTime = snap ? snap(time, scale, step) : time;\n\n    var element = util.getTarget(event);\n    var what = null;\n    if (item != null)                                                    {what = \'item\';}\n    else if (util.hasParent(element, this.timeAxis.dom.foreground))      {what = \'axis\';}\n    else if (this.timeAxis2 && util.hasParent(element, this.timeAxis2.dom.foreground)) {what = \'axis\';}\n    else if (util.hasParent(element, this.itemSet.dom.labelSet))         {what = \'group-label\';}\n    else if (util.hasParent(element, this.customTime.bar))               {what = \'custom-time\';} // TODO: fix for multiple custom time bars\n    else if (util.hasParent(element, this.currentTime.bar))              {what = \'current-time\';}\n    else if (util.hasParent(element, this.dom.center))                   {what = \'background\';}\n\n    return {\n      event: event,\n      item: item ? item.id : null,\n      group: group ? group.groupId : null,\n      what: what,\n      pageX: pageX,\n      pageY: pageY,\n      x: x,\n      y: y,\n      time: time,\n      snappedTime: snappedTime\n    }\n  };\n\n  module.exports = Timeline;\n\n\n/***/ },\n/* 14 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Emitter = __webpack_require__(56);\n  var Hammer = __webpack_require__(45);\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(3);\n  var DataView = __webpack_require__(4);\n  var Range = __webpack_require__(17);\n  var Core = __webpack_require__(46);\n  var TimeAxis = __webpack_require__(35);\n  var CurrentTime = __webpack_require__(26);\n  var CustomTime = __webpack_require__(27);\n  var LineGraph = __webpack_require__(34);\n\n  /**\n   * Create a timeline visualization\n   * @param {HTMLElement} container\n   * @param {vis.DataSet | Array | google.visualization.DataTable} [items]\n   * @param {Object} [options]  See Graph2d.setOptions for the available options.\n   * @constructor\n   * @extends Core\n   */\n  function Graph2d (container, items, groups, options) {\n    // if the third element is options, the forth is groups (optionally);\n    if (!(Array.isArray(groups) || groups instanceof DataSet) && groups instanceof Object) {\n      var forthArgument = options;\n      options = groups;\n      groups = forthArgument;\n    }\n\n    var me = this;\n    this.defaultOptions = {\n      start: null,\n      end:   null,\n\n      autoResize: true,\n\n      orientation: \'bottom\',\n      width: null,\n      height: null,\n      maxHeight: null,\n      minHeight: null\n    };\n    this.options = util.deepExtend({}, this.defaultOptions);\n\n    // Create the DOM, props, and emitter\n    this._create(container);\n\n    // all components listed here will be repainted automatically\n    this.components = [];\n\n    this.body = {\n      dom: this.dom,\n      domProps: this.props,\n      emitter: {\n        on: this.on.bind(this),\n        off: this.off.bind(this),\n        emit: this.emit.bind(this)\n      },\n      hiddenDates: [],\n      util: {\n        toScreen: me._toScreen.bind(me),\n        toGlobalScreen: me._toGlobalScreen.bind(me), // this refers to the root.width\n        toTime: me._toTime.bind(me),\n        toGlobalTime : me._toGlobalTime.bind(me)\n      }\n    };\n\n    // range\n    this.range = new Range(this.body);\n    this.components.push(this.range);\n    this.body.range = this.range;\n\n    // time axis\n    this.timeAxis = new TimeAxis(this.body);\n    this.components.push(this.timeAxis);\n    //this.body.util.snap = this.timeAxis.snap.bind(this.timeAxis);\n\n    // current time bar\n    this.currentTime = new CurrentTime(this.body);\n    this.components.push(this.currentTime);\n\n    // custom time bar\n    // Note: time bar will be attached in this.setOptions when selected\n    this.customTime = new CustomTime(this.body);\n    this.components.push(this.customTime);\n\n    // item set\n    this.linegraph = new LineGraph(this.body);\n    this.components.push(this.linegraph);\n\n    this.itemsData = null;      // DataSet\n    this.groupsData = null;     // DataSet\n\n    this.on(\'tap\', function (event) {\n      me.emit(\'click\', me.getEventProperties(event))\n    });\n    this.on(\'doubletap\', function (event) {\n      me.emit(\'doubleClick\', me.getEventProperties(event))\n    });\n    this.dom.root.oncontextmenu = function (event) {\n      me.emit(\'contextmenu\', me.getEventProperties(event))\n    };\n\n    // apply options\n    if (options) {\n      this.setOptions(options);\n    }\n\n    // IMPORTANT: THIS HAPPENS BEFORE SET ITEMS!\n    if (groups) {\n      this.setGroups(groups);\n    }\n\n    // create itemset\n    if (items) {\n      this.setItems(items);\n    }\n    else {\n      this._redraw();\n    }\n  }\n\n  // Extend the functionality from Core\n  Graph2d.prototype = new Core();\n\n  /**\n   * Set items\n   * @param {vis.DataSet | Array | google.visualization.DataTable | null} items\n   */\n  Graph2d.prototype.setItems = function(items) {\n    var initialLoad = (this.itemsData == null);\n\n    // convert to type DataSet when needed\n    var newDataSet;\n    if (!items) {\n      newDataSet = null;\n    }\n    else if (items instanceof DataSet || items instanceof DataView) {\n      newDataSet = items;\n    }\n    else {\n      // turn an array into a dataset\n      newDataSet = new DataSet(items, {\n        type: {\n          start: \'Date\',\n          end: \'Date\'\n        }\n      });\n    }\n\n    // set items\n    this.itemsData = newDataSet;\n    this.linegraph && this.linegraph.setItems(newDataSet);\n\n    if (initialLoad) {\n      if (this.options.start != undefined || this.options.end != undefined) {\n        var start = this.options.start != undefined ? this.options.start : null;\n        var end   = this.options.end != undefined   ? this.options.end : null;\n\n        this.setWindow(start, end, {animate: false});\n      }\n      else {\n        this.fit({animate: false});\n      }\n    }\n  };\n\n  /**\n   * Set groups\n   * @param {vis.DataSet | Array | google.visualization.DataTable} groups\n   */\n  Graph2d.prototype.setGroups = function(groups) {\n    // convert to type DataSet when needed\n    var newDataSet;\n    if (!groups) {\n      newDataSet = null;\n    }\n    else if (groups instanceof DataSet || groups instanceof DataView) {\n      newDataSet = groups;\n    }\n    else {\n      // turn an array into a dataset\n      newDataSet = new DataSet(groups);\n    }\n\n    this.groupsData = newDataSet;\n    this.linegraph.setGroups(newDataSet);\n  };\n\n  /**\n   * Returns an object containing an SVG element with the icon of the group (size determined by iconWidth and iconHeight), the label of the group (content) and the yAxisOrientation of the group (left or right).\n   * @param groupId\n   * @param width\n   * @param height\n   */\n  Graph2d.prototype.getLegend = function(groupId, width, height) {\n    if (width  === undefined) {width  = 15;}\n    if (height === undefined) {height = 15;}\n    if (this.linegraph.groups[groupId] !== undefined) {\n      return this.linegraph.groups[groupId].getLegend(width,height);\n    }\n    else {\n      return "cannot find group:" +  groupId;\n    }\n  };\n\n  /**\n   * This checks if the visible option of the supplied group (by ID) is true or false.\n   * @param groupId\n   * @returns {*}\n   */\n  Graph2d.prototype.isGroupVisible = function(groupId) {\n    if (this.linegraph.groups[groupId] !== undefined) {\n      return (this.linegraph.groups[groupId].visible && (this.linegraph.options.groups.visibility[groupId] === undefined || this.linegraph.options.groups.visibility[groupId] == true));\n    }\n    else {\n      return false;\n    }\n  };\n\n\n  /**\n   * Get the data range of the item set.\n   * @returns {{min: Date, max: Date}} range  A range with a start and end Date.\n   *                                          When no minimum is found, min==null\n   *                                          When no maximum is found, max==null\n   */\n  Graph2d.prototype.getItemRange = function() {\n    var min = null;\n    var max = null;\n\n    // calculate min from start filed\n    for (var groupId in this.linegraph.groups) {\n      if (this.linegraph.groups.hasOwnProperty(groupId)) {\n        if (this.linegraph.groups[groupId].visible == true) {\n          for (var i = 0; i < this.linegraph.groups[groupId].itemsData.length; i++) {\n            var item = this.linegraph.groups[groupId].itemsData[i];\n            var value = util.convert(item.x, \'Date\').valueOf();\n            min = min == null ? value : min > value ? value : min;\n            max = max == null ? value : max < value ? value : max;\n          }\n        }\n      }\n    }\n\n    return {\n      min: (min != null) ? new Date(min) : null,\n      max: (max != null) ? new Date(max) : null\n    };\n  };\n\n\n  /**\n   * Generate Timeline related information from an event\n   * @param {Event} event\n   * @return {Object} An object with related information, like on which area\n   *                  The event happened, whether clicked on an item, etc.\n   */\n  Graph2d.prototype.getEventProperties = function (event) {\n    var pageX = event.gesture ? event.gesture.center.pageX : event.pageX;\n    var pageY = event.gesture ? event.gesture.center.pageY : event.pageY;\n    var x = pageX - util.getAbsoluteLeft(this.dom.centerContainer);\n    var y = pageY - util.getAbsoluteTop(this.dom.centerContainer);\n    var time = this._toTime(x);\n\n    var element = util.getTarget(event);\n    var what = null;\n    if (util.hasParent(element, this.timeAxis.dom.foreground))              {what = \'axis\';}\n    else if (this.timeAxis2 && util.hasParent(element, this.timeAxis2.dom.foreground)) {what = \'axis\';}\n    else if (util.hasParent(element, this.linegraph.yAxisLeft.dom.frame))   {what = \'data-axis\';}\n    else if (util.hasParent(element, this.linegraph.yAxisRight.dom.frame))  {what = \'data-axis\';}\n    else if (util.hasParent(element, this.linegraph.legendLeft.dom.frame))  {what = \'legend\';}\n    else if (util.hasParent(element, this.linegraph.legendRight.dom.frame)) {what = \'legend\';}\n    else if (util.hasParent(element, this.customTime.bar))                  {what = \'custom-time\';} // TODO: fix for multiple custom time bars\n    else if (util.hasParent(element, this.currentTime.bar))                 {what = \'current-time\';}\n    else if (util.hasParent(element, this.dom.center))                      {what = \'background\';}\n\n    var value = [];\n    var yAxisLeft = this.linegraph.yAxisLeft;\n    var yAxisRight = this.linegraph.yAxisRight;\n    if (!yAxisLeft.hidden) {\n      value.push(yAxisLeft.screenToValue(y));\n    }\n    if (!yAxisRight.hidden) {\n      value.push(yAxisRight.screenToValue(y));\n    }\n\n    return {\n      event: event,\n      what: what,\n      pageX: pageX,\n      pageY: pageY,\n      x: x,\n      y: y,\n      time: time,\n      value: value\n    }\n  };\n\n\n  module.exports = Graph2d;\n\n\n/***/ },\n/* 15 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Created by Alex on 10/3/2014.\n   */\n  var moment = __webpack_require__(44);\n\n\n  /**\n   * used in Core to convert the options into a volatile variable\n   * \n   * @param Core\n   */\n  exports.convertHiddenOptions = function(body, hiddenDates) {\n    body.hiddenDates = [];\n    if (hiddenDates) {\n      if (Array.isArray(hiddenDates) == true) {\n        for (var i = 0; i < hiddenDates.length; i++) {\n          if (hiddenDates[i].repeat === undefined) {\n            var dateItem = {};\n            dateItem.start = moment(hiddenDates[i].start).toDate().valueOf();\n            dateItem.end = moment(hiddenDates[i].end).toDate().valueOf();\n            body.hiddenDates.push(dateItem);\n          }\n        }\n        body.hiddenDates.sort(function (a, b) {\n          return a.start - b.start;\n        }); // sort by start time\n      }\n    }\n  };\n\n\n  /**\n   * create new entrees for the repeating hidden dates\n   * @param body\n   * @param hiddenDates\n   */\n  exports.updateHiddenDates = function (body, hiddenDates) {\n    if (hiddenDates && body.domProps.centerContainer.width !== undefined) {\n      exports.convertHiddenOptions(body, hiddenDates);\n\n      var start = moment(body.range.start);\n      var end = moment(body.range.end);\n\n      var totalRange = (body.range.end - body.range.start);\n      var pixelTime = totalRange / body.domProps.centerContainer.width;\n\n      for (var i = 0; i < hiddenDates.length; i++) {\n        if (hiddenDates[i].repeat !== undefined) {\n          var startDate = moment(hiddenDates[i].start);\n          var endDate = moment(hiddenDates[i].end);\n\n          if (startDate._d == "Invalid Date") {\n            throw new Error("Supplied start date is not valid: " + hiddenDates[i].start);\n          }\n          if (endDate._d == "Invalid Date") {\n            throw new Error("Supplied end date is not valid: " + hiddenDates[i].end);\n          }\n\n          var duration = endDate - startDate;\n          if (duration >= 4 * pixelTime) {\n\n            var offset = 0;\n            var runUntil = end.clone();\n            switch (hiddenDates[i].repeat) {\n              case "daily": // case of time\n                if (startDate.day() != endDate.day()) {\n                  offset = 1;\n                }\n                startDate.dayOfYear(start.dayOfYear());\n                startDate.year(start.year());\n                startDate.subtract(7,\'days\');\n\n                endDate.dayOfYear(start.dayOfYear());\n                endDate.year(start.year());\n                endDate.subtract(7 - offset,\'days\');\n\n                runUntil.add(1, \'weeks\');\n                break;\n              case "weekly":\n                var dayOffset = endDate.diff(startDate,\'days\')\n                var day = startDate.day();\n\n                // set the start date to the range.start\n                startDate.date(start.date());\n                startDate.month(start.month());\n                startDate.year(start.year());\n                endDate = startDate.clone();\n\n                // force\n                startDate.day(day);\n                endDate.day(day);\n                endDate.add(dayOffset,\'days\');\n\n                startDate.subtract(1,\'weeks\');\n                endDate.subtract(1,\'weeks\');\n\n                runUntil.add(1, \'weeks\');\n                break\n              case "monthly":\n                if (startDate.month() != endDate.month()) {\n                  offset = 1;\n                }\n                startDate.month(start.month());\n                startDate.year(start.year());\n                startDate.subtract(1,\'months\');\n\n                endDate.month(start.month());\n                endDate.year(start.year());\n                endDate.subtract(1,\'months\');\n                endDate.add(offset,\'months\');\n\n                runUntil.add(1, \'months\');\n                break;\n              case "yearly":\n                if (startDate.year() != endDate.year()) {\n                  offset = 1;\n                }\n                startDate.year(start.year());\n                startDate.subtract(1,\'years\');\n                endDate.year(start.year());\n                endDate.subtract(1,\'years\');\n                endDate.add(offset,\'years\');\n\n                runUntil.add(1, \'years\');\n                break;\n              default:\n                console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:", hiddenDates[i].repeat);\n                return;\n            }\n            while (startDate < runUntil) {\n              body.hiddenDates.push({start: startDate.valueOf(), end: endDate.valueOf()});\n              switch (hiddenDates[i].repeat) {\n                case "daily":\n                  startDate.add(1, \'days\');\n                  endDate.add(1, \'days\');\n                  break;\n                case "weekly":\n                  startDate.add(1, \'weeks\');\n                  endDate.add(1, \'weeks\');\n                  break\n                case "monthly":\n                  startDate.add(1, \'months\');\n                  endDate.add(1, \'months\');\n                  break;\n                case "yearly":\n                  startDate.add(1, \'y\');\n                  endDate.add(1, \'y\');\n                  break;\n                default:\n                  console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:", hiddenDates[i].repeat);\n                  return;\n              }\n            }\n            body.hiddenDates.push({start: startDate.valueOf(), end: endDate.valueOf()});\n          }\n        }\n      }\n      // remove duplicates, merge where possible\n      exports.removeDuplicates(body);\n      // ensure the new positions are not on hidden dates\n      var startHidden = exports.isHidden(body.range.start, body.hiddenDates);\n      var endHidden = exports.isHidden(body.range.end,body.hiddenDates);\n      var rangeStart = body.range.start;\n      var rangeEnd = body.range.end;\n      if (startHidden.hidden == true) {rangeStart = body.range.startToFront == true ? startHidden.startDate - 1 : startHidden.endDate + 1;}\n      if (endHidden.hidden == true)   {rangeEnd   = body.range.endToFront == true ?   endHidden.startDate - 1   : endHidden.endDate + 1;}\n      if (startHidden.hidden == true || endHidden.hidden == true) {\n        body.range._applyRange(rangeStart, rangeEnd);\n      }\n    }\n\n  }\n\n\n  /**\n   * remove duplicates from the hidden dates list. Duplicates are evil. They mess everything up.\n   * Scales with N^2\n   * @param body\n   */\n  exports.removeDuplicates = function(body) {\n    var hiddenDates = body.hiddenDates;\n    var safeDates = [];\n    for (var i = 0; i < hiddenDates.length; i++) {\n      for (var j = 0; j < hiddenDates.length; j++) {\n        if (i != j && hiddenDates[j].remove != true && hiddenDates[i].remove != true) {\n          // j inside i\n          if (hiddenDates[j].start >= hiddenDates[i].start && hiddenDates[j].end <= hiddenDates[i].end) {\n            hiddenDates[j].remove = true;\n          }\n          // j start inside i\n          else if (hiddenDates[j].start >= hiddenDates[i].start && hiddenDates[j].start <= hiddenDates[i].end) {\n            hiddenDates[i].end = hiddenDates[j].end;\n            hiddenDates[j].remove = true;\n          }\n          // j end inside i\n          else if (hiddenDates[j].end >= hiddenDates[i].start && hiddenDates[j].end <= hiddenDates[i].end) {\n            hiddenDates[i].start = hiddenDates[j].start;\n            hiddenDates[j].remove = true;\n          }\n        }\n      }\n    }\n\n    for (var i = 0; i < hiddenDates.length; i++) {\n      if (hiddenDates[i].remove !== true) {\n        safeDates.push(hiddenDates[i]);\n      }\n    }\n\n    body.hiddenDates = safeDates;\n    body.hiddenDates.sort(function (a, b) {\n      return a.start - b.start;\n    }); // sort by start time\n  }\n\n  exports.printDates = function(dates) {\n    for (var i =0; i < dates.length; i++) {\n      console.log(i, new Date(dates[i].start),new Date(dates[i].end), dates[i].start, dates[i].end, dates[i].remove);\n    }\n  }\n\n  /**\n   * Used in TimeStep to avoid the hidden times.\n   * @param timeStep\n   * @param previousTime\n   */\n  exports.stepOverHiddenDates = function(timeStep, previousTime) {\n    var stepInHidden = false;\n    var currentValue = timeStep.current.valueOf();\n    for (var i = 0; i < timeStep.hiddenDates.length; i++) {\n      var startDate = timeStep.hiddenDates[i].start;\n      var endDate = timeStep.hiddenDates[i].end;\n      if (currentValue >= startDate && currentValue < endDate) {\n        stepInHidden = true;\n        break;\n      }\n    }\n\n    if (stepInHidden == true && currentValue < timeStep._end.valueOf() && currentValue != previousTime) {\n      var prevValue = moment(previousTime);\n      var newValue = moment(endDate);\n      //check if the next step should be major\n      if (prevValue.year() != newValue.year()) {timeStep.switchedYear = true;}\n      else if (prevValue.month() != newValue.month()) {timeStep.switchedMonth = true;}\n      else if (prevValue.dayOfYear() != newValue.dayOfYear()) {timeStep.switchedDay = true;}\n\n      timeStep.current = newValue.toDate();\n    }\n  };\n\n\n  ///**\n  // * Used in TimeStep to avoid the hidden times.\n  // * @param timeStep\n  // * @param previousTime\n  // */\n  //exports.checkFirstStep = function(timeStep) {\n  //  var stepInHidden = false;\n  //  var currentValue = timeStep.current.valueOf();\n  //  for (var i = 0; i < timeStep.hiddenDates.length; i++) {\n  //    var startDate = timeStep.hiddenDates[i].start;\n  //    var endDate = timeStep.hiddenDates[i].end;\n  //    if (currentValue >= startDate && currentValue < endDate) {\n  //      stepInHidden = true;\n  //      break;\n  //    }\n  //  }\n  //\n  //  if (stepInHidden == true && currentValue <= timeStep._end.valueOf()) {\n  //    var newValue = moment(endDate);\n  //    timeStep.current = newValue.toDate();\n  //  }\n  //};\n\n  /**\n   * replaces the Core toScreen methods\n   * @param Core\n   * @param time\n   * @param width\n   * @returns {number}\n   */\n  exports.toScreen = function(Core, time, width) {\n    if (Core.body.hiddenDates.length == 0) {\n      var conversion = Core.range.conversion(width);\n      return (time.valueOf() - conversion.offset) * conversion.scale;\n    }\n    else {\n      var hidden = exports.isHidden(time, Core.body.hiddenDates)\n      if (hidden.hidden == true) {\n        time = hidden.startDate;\n      }\n\n      var duration = exports.getHiddenDurationBetween(Core.body.hiddenDates, Core.range.start, Core.range.end);\n      time = exports.correctTimeForHidden(Core.body.hiddenDates, Core.range, time);\n\n      var conversion = Core.range.conversion(width, duration);\n      return (time.valueOf() - conversion.offset) * conversion.scale;\n    }\n  };\n\n\n  /**\n   * Replaces the core toTime methods\n   * @param body\n   * @param range\n   * @param x\n   * @param width\n   * @returns {Date}\n   */\n  exports.toTime = function(Core, x, width) {\n    if (Core.body.hiddenDates.length == 0) {\n      var conversion = Core.range.conversion(width);\n      return new Date(x / conversion.scale + conversion.offset);\n    }\n    else {\n      var hiddenDuration = exports.getHiddenDurationBetween(Core.body.hiddenDates, Core.range.start, Core.range.end);\n      var totalDuration = Core.range.end - Core.range.start - hiddenDuration;\n      var partialDuration = totalDuration * x / width;\n      var accumulatedHiddenDuration = exports.getAccumulatedHiddenDuration(Core.body.hiddenDates, Core.range, partialDuration);\n\n      var newTime = new Date(accumulatedHiddenDuration + partialDuration + Core.range.start);\n      return newTime;\n    }\n  };\n\n\n  /**\n   * Support function\n   *\n   * @param hiddenDates\n   * @param range\n   * @returns {number}\n   */\n  exports.getHiddenDurationBetween = function(hiddenDates, start, end) {\n    var duration = 0;\n    for (var i = 0; i < hiddenDates.length; i++) {\n      var startDate = hiddenDates[i].start;\n      var endDate = hiddenDates[i].end;\n      // if time after the cutout, and the\n      if (startDate >= start && endDate < end) {\n        duration += endDate - startDate;\n      }\n    }\n    return duration;\n  };\n\n\n  /**\n   * Support function\n   * @param hiddenDates\n   * @param range\n   * @param time\n   * @returns {{duration: number, time: *, offset: number}}\n   */\n  exports.correctTimeForHidden = function(hiddenDates, range, time) {\n    time = moment(time).toDate().valueOf();\n    time -= exports.getHiddenDurationBefore(hiddenDates,range,time);\n    return time;\n  };\n\n  exports.getHiddenDurationBefore = function(hiddenDates, range, time) {\n    var timeOffset = 0;\n    time = moment(time).toDate().valueOf();\n\n    for (var i = 0; i < hiddenDates.length; i++) {\n      var startDate = hiddenDates[i].start;\n      var endDate = hiddenDates[i].end;\n      // if time after the cutout, and the\n      if (startDate >= range.start && endDate < range.end) {\n        if (time >= endDate) {\n          timeOffset += (endDate - startDate);\n        }\n      }\n    }\n    return timeOffset;\n  }\n\n  /**\n   * sum the duration from start to finish, including the hidden duration,\n   * until the required amount has been reached, return the accumulated hidden duration\n   * @param hiddenDates\n   * @param range\n   * @param time\n   * @returns {{duration: number, time: *, offset: number}}\n   */\n  exports.getAccumulatedHiddenDuration = function(hiddenDates, range, requiredDuration) {\n    var hiddenDuration = 0;\n    var duration = 0;\n    var previousPoint = range.start;\n    //exports.printDates(hiddenDates)\n    for (var i = 0; i < hiddenDates.length; i++) {\n      var startDate = hiddenDates[i].start;\n      var endDate = hiddenDates[i].end;\n      // if time after the cutout, and the\n      if (startDate >= range.start && endDate < range.end) {\n        duration += startDate - previousPoint;\n        previousPoint = endDate;\n        if (duration >= requiredDuration) {\n          break;\n        }\n        else {\n          hiddenDuration += endDate - startDate;\n        }\n      }\n    }\n\n    return hiddenDuration;\n  };\n\n\n\n  /**\n   * used to step over to either side of a hidden block. Correction is disabled on tablets, might be set to true\n   * @param hiddenDates\n   * @param time\n   * @param direction\n   * @param correctionEnabled\n   * @returns {*}\n   */\n  exports.snapAwayFromHidden = function(hiddenDates, time, direction, correctionEnabled) {\n    var isHidden = exports.isHidden(time, hiddenDates);\n    if (isHidden.hidden == true) {\n      if (direction < 0) {\n        if (correctionEnabled == true) {\n          return isHidden.startDate - (isHidden.endDate - time) - 1;\n        }\n        else {\n          return isHidden.startDate - 1;\n        }\n      }\n      else {\n        if (correctionEnabled == true) {\n          return isHidden.endDate + (time - isHidden.startDate) + 1;\n        }\n        else {\n          return isHidden.endDate + 1;\n        }\n      }\n    }\n    else {\n      return time;\n    }\n\n  }\n\n\n  /**\n   * Check if a time is hidden\n   *\n   * @param time\n   * @param hiddenDates\n   * @returns {{hidden: boolean, startDate: Window.start, endDate: *}}\n   */\n  exports.isHidden = function(time, hiddenDates) {\n    for (var i = 0; i < hiddenDates.length; i++) {\n      var startDate = hiddenDates[i].start;\n      var endDate = hiddenDates[i].end;\n\n      if (time >= startDate && time < endDate) { // if the start is entering a hidden zone\n        return {hidden: true, startDate: startDate, endDate: endDate};\n        break;\n      }\n    }\n    return {hidden: false, startDate: startDate, endDate: endDate};\n  }\n\n/***/ },\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * @constructor  DataStep\n   * The class DataStep is an iterator for data for the lineGraph. You provide a start data point and an\n   * end data point. The class itself determines the best scale (step size) based on the\n   * provided start Date, end Date, and minimumStep.\n   *\n   * If minimumStep is provided, the step size is chosen as close as possible\n   * to the minimumStep but larger than minimumStep. If minimumStep is not\n   * provided, the scale is set to 1 DAY.\n   * The minimumStep should correspond with the onscreen size of about 6 characters\n   *\n   * Alternatively, you can set a scale by hand.\n   * After creation, you can initialize the class by executing first(). Then you\n   * can iterate from the start date to the end date via next(). You can check if\n   * the end date is reached with the function hasNext(). After each step, you can\n   * retrieve the current date via getCurrent().\n   * The DataStep has scales ranging from milliseconds, seconds, minutes, hours,\n   * days, to years.\n   *\n   * Version: 1.2\n   *\n   * @param {Date} [start]         The start date, for example new Date(2010, 9, 21)\n   *                               or new Date(2010, 9, 21, 23, 45, 00)\n   * @param {Date} [end]           The end date\n   * @param {Number} [minimumStep] Optional. Minimum step size in milliseconds\n   */\n  function DataStep(start, end, minimumStep, containerHeight, customRange, alignZeros) {\n    // variables\n    this.current = 0;\n\n    this.autoScale = true;\n    this.stepIndex = 0;\n    this.step = 1;\n    this.scale = 1;\n\n    this.marginStart;\n    this.marginEnd;\n    this.deadSpace = 0;\n\n    this.majorSteps = [1,     2,    5,  10];\n    this.minorSteps = [0.25,  0.5,  1,  2];\n\n    this.alignZeros = alignZeros;\n\n    this.setRange(start, end, minimumStep, containerHeight, customRange);\n  }\n\n\n\n  /**\n   * Set a new range\n   * If minimumStep is provided, the step size is chosen as close as possible\n   * to the minimumStep but larger than minimumStep. If minimumStep is not\n   * provided, the scale is set to 1 DAY.\n   * The minimumStep should correspond with the onscreen size of about 6 characters\n   * @param {Number} [start]      The start date and time.\n   * @param {Number} [end]        The end date and time.\n   * @param {Number} [minimumStep] Optional. Minimum step size in milliseconds\n   */\n  DataStep.prototype.setRange = function(start, end, minimumStep, containerHeight, customRange) {\n    this._start = customRange.min === undefined ? start : customRange.min;\n    this._end = customRange.max === undefined ? end : customRange.max;\n\n    if (this._start == this._end) {\n      this._start -= 0.75;\n      this._end += 1;\n    }\n\n    if (this.autoScale == true) {\n      this.setMinimumStep(minimumStep, containerHeight);\n    }\n\n    this.setFirst(customRange);\n  };\n\n  /**\n   * Automatically determine the scale that bests fits the provided minimum step\n   * @param {Number} [minimumStep]  The minimum step size in milliseconds\n   */\n  DataStep.prototype.setMinimumStep = function(minimumStep, containerHeight) {\n    // round to floor\n    var size = this._end - this._start;\n    var safeSize = size * 1.2;\n    var minimumStepValue = minimumStep * (safeSize / containerHeight);\n    var orderOfMagnitude = Math.round(Math.log(safeSize)/Math.LN10);\n\n    var minorStepIdx = -1;\n    var magnitudefactor = Math.pow(10,orderOfMagnitude);\n\n    var start = 0;\n    if (orderOfMagnitude < 0) {\n      start = orderOfMagnitude;\n    }\n\n    var solutionFound = false;\n    for (var i = start; Math.abs(i) <= Math.abs(orderOfMagnitude); i++) {\n      magnitudefactor = Math.pow(10,i);\n      for (var j = 0; j < this.minorSteps.length; j++) {\n        var stepSize = magnitudefactor * this.minorSteps[j];\n        if (stepSize >= minimumStepValue) {\n          solutionFound = true;\n          minorStepIdx = j;\n          break;\n        }\n      }\n      if (solutionFound == true) {\n        break;\n      }\n    }\n    this.stepIndex = minorStepIdx;\n    this.scale = magnitudefactor;\n    this.step = magnitudefactor * this.minorSteps[minorStepIdx];\n  };\n\n\n\n  /**\n   * Round the current date to the first minor date value\n   * This must be executed once when the current date is set to start Date\n   */\n  DataStep.prototype.setFirst = function(customRange) {\n    if (customRange === undefined) {\n      customRange = {};\n    }\n\n    var niceStart = customRange.min === undefined ? this._start - (this.scale * 2 * this.minorSteps[this.stepIndex]) : customRange.min;\n    var niceEnd = customRange.max === undefined ? this._end + (this.scale * this.minorSteps[this.stepIndex]) : customRange.max;\n\n    this.marginEnd = customRange.max === undefined ? this.roundToMinor(niceEnd) : customRange.max;\n    this.marginStart = customRange.min === undefined ? this.roundToMinor(niceStart) : customRange.min;\n\n    // if we need to align the zero\'s we need to make sure that there is a zero to use.\n    if (this.alignZeros == true && (this.marginEnd - this.marginStart) % this.step != 0) {\n      this.marginEnd += this.marginEnd % this.step;\n    }\n\n    this.deadSpace = this.roundToMinor(niceEnd) - niceEnd + this.roundToMinor(niceStart) - niceStart;\n    this.marginRange = this.marginEnd - this.marginStart;\n\n\n    this.current = this.marginEnd;\n  };\n\n  DataStep.prototype.roundToMinor = function(value) {\n    var rounded = value - (value % (this.scale * this.minorSteps[this.stepIndex]));\n    if (value % (this.scale * this.minorSteps[this.stepIndex]) > 0.5 * (this.scale * this.minorSteps[this.stepIndex])) {\n      return rounded + (this.scale * this.minorSteps[this.stepIndex]);\n    }\n    else {\n      return rounded;\n    }\n  }\n\n\n  /**\n   * Check if the there is a next step\n   * @return {boolean}  true if the current date has not passed the end date\n   */\n  DataStep.prototype.hasNext = function () {\n    return (this.current >= this.marginStart);\n  };\n\n  /**\n   * Do the next step\n   */\n  DataStep.prototype.next = function() {\n    var prev = this.current;\n    this.current -= this.step;\n\n    // safety mechanism: if current time is still unchanged, move to the end\n    if (this.current == prev) {\n      this.current = this._end;\n    }\n  };\n\n  /**\n   * Do the next step\n   */\n  DataStep.prototype.previous = function() {\n    this.current += this.step;\n    this.marginEnd += this.step;\n    this.marginRange = this.marginEnd - this.marginStart;\n  };\n\n\n\n  /**\n   * Get the current datetime\n   * @return {String}  current The current date\n   */\n  DataStep.prototype.getCurrent = function(decimals) {\n    // prevent round-off errors when close to zero\n    var current = (Math.abs(this.current) < this.step / 2) ? 0 : this.current;\n    var toPrecision = \'\' + Number(current).toPrecision(5);\n\n    // If decimals is specified, then limit or extend the string as required\n    if(decimals !== undefined && !isNaN(Number(decimals))) {\n      // If string includes exponent, then we need to add it to the end\n      var exp = "";\n      var index = toPrecision.indexOf("e");\n      if(index != -1) {\n        // Get the exponent\n        exp = toPrecision.slice(index);\n        // Remove the exponent in case we need to zero-extend\n        toPrecision = toPrecision.slice(0, index);\n      }\n      index = Math.max(toPrecision.indexOf(","), toPrecision.indexOf("."));\n      if(index === -1) {\n        // No decimal found - if we want decimals, then we need to add it\n        if(decimals !== 0) {\n          toPrecision += \'.\';\n        }\n        // Calculate how long the string should be\n        index = toPrecision.length + decimals;\n      }\n      else if(decimals !== 0) {\n        // Calculate how long the string should be - accounting for the decimal place\n        index += decimals + 1;\n      }\n      if(index > toPrecision.length) {\n        // We need to add zeros!\n        for(var cnt = index - toPrecision.length; cnt > 0; cnt--) {\n          toPrecision += \'0\';\n        }\n      }\n      else {\n        // we need to remove characters\n        toPrecision = toPrecision.slice(0, index);\n      }\n      // Add the exponent if there is one\n      toPrecision += exp;\n    }\n    else {\n      if (toPrecision.indexOf(",") != -1 || toPrecision.indexOf(".") != -1) {\n        // If no decimal is specified, and there are decimal places, remove trailing zeros\n        for (var i = toPrecision.length - 1; i > 0; i--) {\n          if (toPrecision[i] == "0") {\n            toPrecision = toPrecision.slice(0, i);\n          }\n          else if (toPrecision[i] == "." || toPrecision[i] == ",") {\n            toPrecision = toPrecision.slice(0, i);\n            break;\n          }\n          else {\n            break;\n          }\n        }\n      }\n    }\n\n    return toPrecision;\n  };\n\n  /**\n   * Check if the current value is a major value (for example when the step\n   * is DAY, a major value is each first day of the MONTH)\n   * @return {boolean} true if current date is major, else false.\n   */\n  DataStep.prototype.isMajor = function() {\n    return (this.current % (this.scale * this.majorSteps[this.stepIndex]) == 0);\n  };\n\n  module.exports = DataStep;\n\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var hammerUtil = __webpack_require__(47);\n  var moment = __webpack_require__(44);\n  var Component = __webpack_require__(25);\n  var DateUtil = __webpack_require__(15);\n\n  /**\n   * @constructor Range\n   * A Range controls a numeric range with a start and end value.\n   * The Range adjusts the range based on mouse events or programmatic changes,\n   * and triggers events when the range is changing or has been changed.\n   * @param {{dom: Object, domProps: Object, emitter: Emitter}} body\n   * @param {Object} [options]    See description at Range.setOptions\n   */\n  function Range(body, options) {\n    var now = moment().hours(0).minutes(0).seconds(0).milliseconds(0);\n    this.start = now.clone().add(-3, \'days\').valueOf(); // Number\n    this.end = now.clone().add(4, \'days\').valueOf();   // Number\n\n    this.body = body;\n    this.deltaDifference = 0;\n    this.scaleOffset = 0;\n    this.startToFront = false;\n    this.endToFront = true;\n\n    // default options\n    this.defaultOptions = {\n      start: null,\n      end: null,\n      direction: \'horizontal\', // \'horizontal\' or \'vertical\'\n      moveable: true,\n      zoomable: true,\n      min: null,\n      max: null,\n      zoomMin: 10,                                // milliseconds\n      zoomMax: 1000 * 60 * 60 * 24 * 365 * 10000  // milliseconds\n    };\n    this.options = util.extend({}, this.defaultOptions);\n\n    this.props = {\n      touch: {}\n    };\n    this.animateTimer = null;\n\n    // drag listeners for dragging\n    this.body.emitter.on(\'dragstart\', this._onDragStart.bind(this));\n    this.body.emitter.on(\'drag\',      this._onDrag.bind(this));\n    this.body.emitter.on(\'dragend\',   this._onDragEnd.bind(this));\n\n    // ignore dragging when holding\n    this.body.emitter.on(\'hold\', this._onHold.bind(this));\n\n    // mouse wheel for zooming\n    this.body.emitter.on(\'mousewheel\',      this._onMouseWheel.bind(this));\n    this.body.emitter.on(\'DOMMouseScroll\',  this._onMouseWheel.bind(this)); // For FF\n\n    // pinch to zoom\n    this.body.emitter.on(\'touch\', this._onTouch.bind(this));\n    this.body.emitter.on(\'pinch\', this._onPinch.bind(this));\n\n    this.setOptions(options);\n  }\n\n  Range.prototype = new Component();\n\n  /**\n   * Set options for the range controller\n   * @param {Object} options      Available options:\n   *                              {Number | Date | String} start  Start date for the range\n   *                              {Number | Date | String} end    End date for the range\n   *                              {Number} min    Minimum value for start\n   *                              {Number} max    Maximum value for end\n   *                              {Number} zoomMin    Set a minimum value for\n   *                                                  (end - start).\n   *                              {Number} zoomMax    Set a maximum value for\n   *                                                  (end - start).\n   *                              {Boolean} moveable Enable moving of the range\n   *                                                 by dragging. True by default\n   *                              {Boolean} zoomable Enable zooming of the range\n   *                                                 by pinching/scrolling. True by default\n   */\n  Range.prototype.setOptions = function (options) {\n    if (options) {\n      // copy the options that we know\n      var fields = [\'direction\', \'min\', \'max\', \'zoomMin\', \'zoomMax\', \'moveable\', \'zoomable\', \'activate\', \'hiddenDates\'];\n      util.selectiveExtend(fields, this.options, options);\n\n      if (\'start\' in options || \'end\' in options) {\n        // apply a new range. both start and end are optional\n        this.setRange(options.start, options.end);\n      }\n    }\n  };\n\n  /**\n   * Test whether direction has a valid value\n   * @param {String} direction    \'horizontal\' or \'vertical\'\n   */\n  function validateDirection (direction) {\n    if (direction != \'horizontal\' && direction != \'vertical\') {\n      throw new TypeError(\'Unknown direction "\' + direction + \'". \' +\n          \'Choose "horizontal" or "vertical".\');\n    }\n  }\n\n  /**\n   * Set a new start and end range\n   * @param {Date | Number | String} [start]\n   * @param {Date | Number | String} [end]\n   * @param {boolean | number} [animate=false]     If true, the range is animated\n   *                                               smoothly to the new window.\n   *                                               If animate is a number, the\n   *                                               number is taken as duration\n   *                                               Default duration is 500 ms.\n   * @param {Boolean} [byUser=false]\n   *\n   */\n  Range.prototype.setRange = function(start, end, animate, byUser) {\n    if (byUser !== true) {\n      byUser = false;\n    }\n    var _start = start != undefined ? util.convert(start, \'Date\').valueOf() : null;\n    var _end   = end != undefined   ? util.convert(end, \'Date\').valueOf()   : null;\n    this._cancelAnimation();\n\n    if (animate) {\n      var me = this;\n      var initStart = this.start;\n      var initEnd = this.end;\n      var duration = typeof animate === \'number\' ? animate : 500;\n      var initTime = new Date().valueOf();\n      var anyChanged = false;\n\n      var next = function () {\n        if (!me.props.touch.dragging) {\n          var now = new Date().valueOf();\n          var time = now - initTime;\n          var done = time > duration;\n          var s = (done || _start === null) ? _start : util.easeInOutQuad(time, initStart, _start, duration);\n          var e = (done || _end === null)   ? _end   : util.easeInOutQuad(time, initEnd, _end, duration);\n\n          changed = me._applyRange(s, e);\n          DateUtil.updateHiddenDates(me.body, me.options.hiddenDates);\n          anyChanged = anyChanged || changed;\n          if (changed) {\n            me.body.emitter.emit(\'rangechange\', {start: new Date(me.start), end: new Date(me.end), byUser:byUser});\n          }\n\n          if (done) {\n            if (anyChanged) {\n              me.body.emitter.emit(\'rangechanged\', {start: new Date(me.start), end: new Date(me.end), byUser:byUser});\n            }\n          }\n          else {\n            // animate with as high as possible frame rate, leave 20 ms in between\n            // each to prevent the browser from blocking\n            me.animateTimer = setTimeout(next, 20);\n          }\n        }\n      };\n\n      return next();\n    }\n    else {\n      var changed = this._applyRange(_start, _end);\n      DateUtil.updateHiddenDates(this.body, this.options.hiddenDates);\n      if (changed) {\n        var params = {start: new Date(this.start), end: new Date(this.end), byUser:byUser};\n        this.body.emitter.emit(\'rangechange\', params);\n        this.body.emitter.emit(\'rangechanged\', params);\n      }\n    }\n  };\n\n  /**\n   * Stop an animation\n   * @private\n   */\n  Range.prototype._cancelAnimation = function () {\n    if (this.animateTimer) {\n      clearTimeout(this.animateTimer);\n      this.animateTimer = null;\n    }\n  };\n\n  /**\n   * Set a new start and end range. This method is the same as setRange, but\n   * does not trigger a range change and range changed event, and it returns\n   * true when the range is changed\n   * @param {Number} [start]\n   * @param {Number} [end]\n   * @return {Boolean} changed\n   * @private\n   */\n  Range.prototype._applyRange = function(start, end) {\n    var newStart = (start != null) ? util.convert(start, \'Date\').valueOf() : this.start,\n        newEnd   = (end != null)   ? util.convert(end, \'Date\').valueOf()   : this.end,\n        max = (this.options.max != null) ? util.convert(this.options.max, \'Date\').valueOf() : null,\n        min = (this.options.min != null) ? util.convert(this.options.min, \'Date\').valueOf() : null,\n        diff;\n\n    // check for valid number\n    if (isNaN(newStart) || newStart === null) {\n      throw new Error(\'Invalid start "\' + start + \'"\');\n    }\n    if (isNaN(newEnd) || newEnd === null) {\n      throw new Error(\'Invalid end "\' + end + \'"\');\n    }\n\n    // prevent start < end\n    if (newEnd < newStart) {\n      newEnd = newStart;\n    }\n\n    // prevent start < min\n    if (min !== null) {\n      if (newStart < min) {\n        diff = (min - newStart);\n        newStart += diff;\n        newEnd += diff;\n\n        // prevent end > max\n        if (max != null) {\n          if (newEnd > max) {\n            newEnd = max;\n          }\n        }\n      }\n    }\n\n    // prevent end > max\n    if (max !== null) {\n      if (newEnd > max) {\n        diff = (newEnd - max);\n        newStart -= diff;\n        newEnd -= diff;\n\n        // prevent start < min\n        if (min != null) {\n          if (newStart < min) {\n            newStart = min;\n          }\n        }\n      }\n    }\n\n    // prevent (end-start) < zoomMin\n    if (this.options.zoomMin !== null) {\n      var zoomMin = parseFloat(this.options.zoomMin);\n      if (zoomMin < 0) {\n        zoomMin = 0;\n      }\n      if ((newEnd - newStart) < zoomMin) {\n        if ((this.end - this.start) === zoomMin && newStart > this.start && newEnd < this.end) {\n          // ignore this action, we are already zoomed to the minimum\n          newStart = this.start;\n          newEnd = this.end;\n        }\n        else {\n          // zoom to the minimum\n          diff = (zoomMin - (newEnd - newStart));\n          newStart -= diff / 2;\n          newEnd += diff / 2;\n        }\n      }\n    }\n\n    // prevent (end-start) > zoomMax\n    if (this.options.zoomMax !== null) {\n      var zoomMax = parseFloat(this.options.zoomMax);\n      if (zoomMax < 0) {\n        zoomMax = 0;\n      }\n\n      if ((newEnd - newStart) > zoomMax) {\n        if ((this.end - this.start) === zoomMax && newStart < this.start && newEnd > this.end) {\n          // ignore this action, we are already zoomed to the maximum\n          newStart = this.start;\n          newEnd = this.end;\n        }\n        else {\n          // zoom to the maximum\n          diff = ((newEnd - newStart) - zoomMax);\n          newStart += diff / 2;\n          newEnd -= diff / 2;\n        }\n      }\n    }\n\n    var changed = (this.start != newStart || this.end != newEnd);\n\n    // if the new range does NOT overlap with the old range, emit checkRangedItems to avoid not showing ranged items (ranged meaning has end time, not necessarily of type Range)\n    if (!((newStart >= this.start && newStart   <= this.end) || (newEnd   >= this.start && newEnd   <= this.end)) &&\n        !((this.start >= newStart && this.start <= newEnd)   || (this.end >= newStart   && this.end <= newEnd) )) {\n      this.body.emitter.emit(\'checkRangedItems\');\n    }\n\n    this.start = newStart;\n    this.end = newEnd;\n    return changed;\n  };\n\n  /**\n   * Retrieve the current range.\n   * @return {Object} An object with start and end properties\n   */\n  Range.prototype.getRange = function() {\n    return {\n      start: this.start,\n      end: this.end\n    };\n  };\n\n  /**\n   * Calculate the conversion offset and scale for current range, based on\n   * the provided width\n   * @param {Number} width\n   * @returns {{offset: number, scale: number}} conversion\n   */\n  Range.prototype.conversion = function (width, totalHidden) {\n    return Range.conversion(this.start, this.end, width, totalHidden);\n  };\n\n  /**\n   * Static method to calculate the conversion offset and scale for a range,\n   * based on the provided start, end, and width\n   * @param {Number} start\n   * @param {Number} end\n   * @param {Number} width\n   * @returns {{offset: number, scale: number}} conversion\n   */\n  Range.conversion = function (start, end, width, totalHidden) {\n    if (totalHidden === undefined) {\n      totalHidden = 0;\n    }\n    if (width != 0 && (end - start != 0)) {\n      return {\n        offset: start,\n        scale: width / (end - start - totalHidden)\n      }\n    }\n    else {\n      return {\n        offset: 0,\n        scale: 1\n      };\n    }\n  };\n\n  /**\n   * Start dragging horizontally or vertically\n   * @param {Event} event\n   * @private\n   */\n  Range.prototype._onDragStart = function(event) {\n    this.deltaDifference = 0;\n    this.previousDelta = 0;\n    // only allow dragging when configured as movable\n    if (!this.options.moveable) return;\n\n    // refuse to drag when we where pinching to prevent the timeline make a jump\n    // when releasing the fingers in opposite order from the touch screen\n    if (!this.props.touch.allowDragging) return;\n\n    this.props.touch.start = this.start;\n    this.props.touch.end = this.end;\n    this.props.touch.dragging = true;\n\n    if (this.body.dom.root) {\n      this.body.dom.root.style.cursor = \'move\';\n    }\n  };\n\n  /**\n   * Perform dragging operation\n   * @param {Event} event\n   * @private\n   */\n  Range.prototype._onDrag = function (event) {\n    // only allow dragging when configured as movable\n    if (!this.options.moveable) return;\n    // refuse to drag when we where pinching to prevent the timeline make a jump\n    // when releasing the fingers in opposite order from the touch screen\n    if (!this.props.touch.allowDragging) return;\n\n    var direction = this.options.direction;\n    validateDirection(direction);\n\n    var delta = (direction == \'horizontal\') ? event.gesture.deltaX : event.gesture.deltaY;\n    delta -= this.deltaDifference;\n    var interval = (this.props.touch.end - this.props.touch.start);\n\n    // normalize dragging speed if cutout is in between.\n    var duration = DateUtil.getHiddenDurationBetween(this.body.hiddenDates, this.start, this.end);\n    interval -= duration;\n\n    var width = (direction == \'horizontal\') ? this.body.domProps.center.width : this.body.domProps.center.height;\n    var diffRange = -delta / width * interval;\n    var newStart = this.props.touch.start + diffRange;\n    var newEnd = this.props.touch.end + diffRange;\n\n\n    // snapping times away from hidden zones\n    var safeStart = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newStart, this.previousDelta-delta, true);\n    var safeEnd = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newEnd, this.previousDelta-delta, true);\n    if (safeStart != newStart || safeEnd != newEnd) {\n      this.deltaDifference += delta;\n      this.props.touch.start = safeStart;\n      this.props.touch.end = safeEnd;\n      this._onDrag(event);\n      return;\n    }\n\n    this.previousDelta = delta;\n    this._applyRange(newStart, newEnd);\n\n    // fire a rangechange event\n    this.body.emitter.emit(\'rangechange\', {\n      start: new Date(this.start),\n      end:   new Date(this.end),\n      byUser: true\n    });\n  };\n\n  /**\n   * Stop dragging operation\n   * @param {event} event\n   * @private\n   */\n  Range.prototype._onDragEnd = function (event) {\n    // only allow dragging when configured as movable\n    if (!this.options.moveable) return;\n\n    // refuse to drag when we where pinching to prevent the timeline make a jump\n    // when releasing the fingers in opposite order from the touch screen\n    if (!this.props.touch.allowDragging) return;\n\n    this.props.touch.dragging = false;\n    if (this.body.dom.root) {\n      this.body.dom.root.style.cursor = \'auto\';\n    }\n\n    // fire a rangechanged event\n    this.body.emitter.emit(\'rangechanged\', {\n      start: new Date(this.start),\n      end:   new Date(this.end),\n      byUser: true\n    });\n  };\n\n  /**\n   * Event handler for mouse wheel event, used to zoom\n   * Code from http://adomas.org/javascript-mouse-wheel/\n   * @param {Event} event\n   * @private\n   */\n  Range.prototype._onMouseWheel = function(event) {\n    // only allow zooming when configured as zoomable and moveable\n    if (!(this.options.zoomable && this.options.moveable)) return;\n\n    // retrieve delta\n    var delta = 0;\n    if (event.wheelDelta) { /* IE/Opera. */\n      delta = event.wheelDelta / 120;\n    } else if (event.detail) { /* Mozilla case. */\n      // In Mozilla, sign of delta is different than in IE.\n      // Also, delta is multiple of 3.\n      delta = -event.detail / 3;\n    }\n\n    // If delta is nonzero, handle it.\n    // Basically, delta is now positive if wheel was scrolled up,\n    // and negative, if wheel was scrolled down.\n    if (delta) {\n      // perform the zoom action. Delta is normally 1 or -1\n\n      // adjust a negative delta such that zooming in with delta 0.1\n      // equals zooming out with a delta -0.1\n      var scale;\n      if (delta < 0) {\n        scale = 1 - (delta / 5);\n      }\n      else {\n        scale = 1 / (1 + (delta / 5)) ;\n      }\n\n      // calculate center, the date to zoom around\n      var gesture = hammerUtil.fakeGesture(this, event),\n          pointer = getPointer(gesture.center, this.body.dom.center),\n          pointerDate = this._pointerToDate(pointer);\n\n      this.zoom(scale, pointerDate, delta);\n    }\n\n    // Prevent default actions caused by mouse wheel\n    // (else the page and timeline both zoom and scroll)\n    event.preventDefault();\n  };\n\n  /**\n   * Start of a touch gesture\n   * @private\n   */\n  Range.prototype._onTouch = function (event) {\n    this.props.touch.start = this.start;\n    this.props.touch.end = this.end;\n    this.props.touch.allowDragging = true;\n    this.props.touch.center = null;\n    this.scaleOffset = 0;\n    this.deltaDifference = 0;\n  };\n\n  /**\n   * On start of a hold gesture\n   * @private\n   */\n  Range.prototype._onHold = function () {\n    this.props.touch.allowDragging = false;\n  };\n\n  /**\n   * Handle pinch event\n   * @param {Event} event\n   * @private\n   */\n  Range.prototype._onPinch = function (event) {\n    // only allow zooming when configured as zoomable and moveable\n    if (!(this.options.zoomable && this.options.moveable)) return;\n\n    this.props.touch.allowDragging = false;\n\n    if (event.gesture.touches.length > 1) {\n      if (!this.props.touch.center) {\n        this.props.touch.center = getPointer(event.gesture.center, this.body.dom.center);\n      }\n\n      var scale = 1 / (event.gesture.scale + this.scaleOffset);\n      var centerDate = this._pointerToDate(this.props.touch.center);\n\n      var hiddenDuration = DateUtil.getHiddenDurationBetween(this.body.hiddenDates, this.start, this.end);\n      var hiddenDurationBefore = DateUtil.getHiddenDurationBefore(this.body.hiddenDates, this, centerDate);\n      var hiddenDurationAfter = hiddenDuration - hiddenDurationBefore;\n\n      // calculate new start and end\n      var newStart = (centerDate - hiddenDurationBefore) + (this.props.touch.start - (centerDate - hiddenDurationBefore)) * scale;\n      var newEnd = (centerDate + hiddenDurationAfter) + (this.props.touch.end - (centerDate + hiddenDurationAfter)) * scale;\n\n      // snapping times away from hidden zones\n      this.startToFront = 1 - scale > 0 ? false : true; // used to do the right autocorrection with periodic hidden times\n      this.endToFront = scale - 1 > 0 ? false : true; // used to do the right autocorrection with periodic hidden times\n\n      var safeStart = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newStart, 1 - scale, true);\n      var safeEnd = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newEnd, scale - 1, true);\n      if (safeStart != newStart || safeEnd != newEnd) {\n        this.props.touch.start = safeStart;\n        this.props.touch.end = safeEnd;\n        this.scaleOffset = 1 - event.gesture.scale;\n        newStart = safeStart;\n        newEnd = safeEnd;\n      }\n\n      this.setRange(newStart, newEnd, false, true);\n\n      this.startToFront = false; // revert to default\n      this.endToFront = true; // revert to default\n    }\n  };\n\n  /**\n   * Helper function to calculate the center date for zooming\n   * @param {{x: Number, y: Number}} pointer\n   * @return {number} date\n   * @private\n   */\n  Range.prototype._pointerToDate = function (pointer) {\n    var conversion;\n    var direction = this.options.direction;\n\n    validateDirection(direction);\n\n    if (direction == \'horizontal\') {\n      return this.body.util.toTime(pointer.x).valueOf();\n    }\n    else {\n      var height = this.body.domProps.center.height;\n      conversion = this.conversion(height);\n      return pointer.y / conversion.scale + conversion.offset;\n    }\n  };\n\n  /**\n   * Get the pointer location relative to the location of the dom element\n   * @param {{pageX: Number, pageY: Number}} touch\n   * @param {Element} element   HTML DOM element\n   * @return {{x: Number, y: Number}} pointer\n   * @private\n   */\n  function getPointer (touch, element) {\n    return {\n      x: touch.pageX - util.getAbsoluteLeft(element),\n      y: touch.pageY - util.getAbsoluteTop(element)\n    };\n  }\n\n  /**\n   * Zoom the range the given scale in or out. Start and end date will\n   * be adjusted, and the timeline will be redrawn. You can optionally give a\n   * date around which to zoom.\n   * For example, try scale = 0.9 or 1.1\n   * @param {Number} scale      Scaling factor. Values above 1 will zoom out,\n   *                            values below 1 will zoom in.\n   * @param {Number} [center]   Value representing a date around which will\n   *                            be zoomed.\n   */\n  Range.prototype.zoom = function(scale, center, delta) {\n    // if centerDate is not provided, take it half between start Date and end Date\n    if (center == null) {\n      center = (this.start + this.end) / 2;\n    }\n\n    var hiddenDuration = DateUtil.getHiddenDurationBetween(this.body.hiddenDates, this.start, this.end);\n    var hiddenDurationBefore = DateUtil.getHiddenDurationBefore(this.body.hiddenDates, this, center);\n    var hiddenDurationAfter = hiddenDuration - hiddenDurationBefore;\n\n    // calculate new start and end\n    var newStart = (center-hiddenDurationBefore) + (this.start - (center-hiddenDurationBefore)) * scale;\n    var newEnd   = (center+hiddenDurationAfter) + (this.end - (center+hiddenDurationAfter)) * scale;\n\n    // snapping times away from hidden zones\n    this.startToFront = delta > 0 ? false : true; // used to do the right autocorrection with periodic hidden times\n    this.endToFront = -delta  > 0 ? false : true; // used to do the right autocorrection with periodic hidden times\n    var safeStart = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newStart, delta, true);\n    var safeEnd = DateUtil.snapAwayFromHidden(this.body.hiddenDates, newEnd, -delta, true);\n    if (safeStart != newStart || safeEnd != newEnd) {\n      newStart = safeStart;\n      newEnd = safeEnd;\n    }\n\n    this.setRange(newStart, newEnd, false, true);\n\n    this.startToFront = false; // revert to default\n    this.endToFront = true; // revert to default\n  };\n\n\n\n  /**\n   * Move the range with a given delta to the left or right. Start and end\n   * value will be adjusted. For example, try delta = 0.1 or -0.1\n   * @param {Number}  delta     Moving amount. Positive value will move right,\n   *                            negative value will move left\n   */\n  Range.prototype.move = function(delta) {\n    // zoom start Date and end Date relative to the centerDate\n    var diff = (this.end - this.start);\n\n    // apply new values\n    var newStart = this.start + diff * delta;\n    var newEnd = this.end + diff * delta;\n\n    // TODO: reckon with min and max range\n\n    this.start = newStart;\n    this.end = newEnd;\n  };\n\n  /**\n   * Move the range to a new center point\n   * @param {Number} moveTo      New center point of the range\n   */\n  Range.prototype.moveTo = function(moveTo) {\n    var center = (this.start + this.end) / 2;\n\n    var diff = center - moveTo;\n\n    // calculate new start and end\n    var newStart = this.start - diff;\n    var newEnd = this.end - diff;\n\n    this.setRange(newStart, newEnd);\n  };\n\n  module.exports = Range;\n\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // Utility functions for ordering and stacking of items\n  var EPSILON = 0.001; // used when checking collisions, to prevent round-off errors\n\n  /**\n   * Order items by their start data\n   * @param {Item[]} items\n   */\n  exports.orderByStart = function(items) {\n    items.sort(function (a, b) {\n      return a.data.start - b.data.start;\n    });\n  };\n\n  /**\n   * Order items by their end date. If they have no end date, their start date\n   * is used.\n   * @param {Item[]} items\n   */\n  exports.orderByEnd = function(items) {\n    items.sort(function (a, b) {\n      var aTime = (\'end\' in a.data) ? a.data.end : a.data.start,\n          bTime = (\'end\' in b.data) ? b.data.end : b.data.start;\n\n      return aTime - bTime;\n    });\n  };\n\n  /**\n   * Adjust vertical positions of the items such that they don\'t overlap each\n   * other.\n   * @param {Item[]} items\n   *            All visible items\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   *            Margins between items and between items and the axis.\n   * @param {boolean} [force=false]\n   *            If true, all items will be repositioned. If false (default), only\n   *            items having a top===null will be re-stacked\n   */\n  exports.stack = function(items, margin, force) {\n    var i, iMax;\n\n    if (force) {\n      // reset top position of all items\n      for (i = 0, iMax = items.length; i < iMax; i++) {\n        items[i].top = null;\n      }\n    }\n\n    // calculate new, non-overlapping positions\n    for (i = 0, iMax = items.length; i < iMax; i++) {\n      var item = items[i];\n      if (item.stack && item.top === null) {\n        // initialize top position\n        item.top = margin.axis;\n\n        do {\n          // TODO: optimize checking for overlap. when there is a gap without items,\n          //       you only need to check for items from the next item on, not from zero\n          var collidingItem = null;\n          for (var j = 0, jj = items.length; j < jj; j++) {\n            var other = items[j];\n            if (other.top !== null && other !== item && other.stack && exports.collision(item, other, margin.item)) {\n              collidingItem = other;\n              break;\n            }\n          }\n\n          if (collidingItem != null) {\n            // There is a collision. Reposition the items above the colliding element\n            item.top = collidingItem.top + collidingItem.height + margin.item.vertical;\n          }\n        } while (collidingItem);\n      }\n    }\n  };\n\n\n  /**\n   * Adjust vertical positions of the items without stacking them\n   * @param {Item[]} items\n   *            All visible items\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   *            Margins between items and between items and the axis.\n   */\n  exports.nostack = function(items, margin, subgroups) {\n    var i, iMax, newTop;\n\n    // reset top position of all items\n    for (i = 0, iMax = items.length; i < iMax; i++) {\n      if (items[i].data.subgroup !== undefined) {\n        newTop = margin.axis;\n        for (var subgroup in subgroups) {\n          if (subgroups.hasOwnProperty(subgroup)) {\n            if (subgroups[subgroup].visible == true && subgroups[subgroup].index < subgroups[items[i].data.subgroup].index) {\n              newTop += subgroups[subgroup].height + margin.item.vertical;\n            }\n          }\n        }\n        items[i].top = newTop;\n      }\n      else {\n        items[i].top = margin.axis;\n      }\n    }\n  };\n\n  /**\n   * Test if the two provided items collide\n   * The items must have parameters left, width, top, and height.\n   * @param {Item} a          The first item\n   * @param {Item} b          The second item\n   * @param {{horizontal: number, vertical: number}} margin\n   *                          An object containing a horizontal and vertical\n   *                          minimum required margin.\n   * @return {boolean}        true if a and b collide, else false\n   */\n  exports.collision = function(a, b, margin) {\n    return ((a.left - margin.horizontal + EPSILON)       < (b.left + b.width) &&\n        (a.left + a.width + margin.horizontal - EPSILON) > b.left &&\n        (a.top - margin.vertical + EPSILON)              < (b.top + b.height) &&\n        (a.top + a.height + margin.vertical - EPSILON)   > b.top);\n  };\n\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var moment = __webpack_require__(44);\n  var DateUtil = __webpack_require__(15);\n  var util = __webpack_require__(1);\n\n  /**\n   * @constructor  TimeStep\n   * The class TimeStep is an iterator for dates. You provide a start date and an\n   * end date. The class itself determines the best scale (step size) based on the\n   * provided start Date, end Date, and minimumStep.\n   *\n   * If minimumStep is provided, the step size is chosen as close as possible\n   * to the minimumStep but larger than minimumStep. If minimumStep is not\n   * provided, the scale is set to 1 DAY.\n   * The minimumStep should correspond with the onscreen size of about 6 characters\n   *\n   * Alternatively, you can set a scale by hand.\n   * After creation, you can initialize the class by executing first(). Then you\n   * can iterate from the start date to the end date via next(). You can check if\n   * the end date is reached with the function hasNext(). After each step, you can\n   * retrieve the current date via getCurrent().\n   * The TimeStep has scales ranging from milliseconds, seconds, minutes, hours,\n   * days, to years.\n   *\n   * Version: 1.2\n   *\n   * @param {Date} [start]         The start date, for example new Date(2010, 9, 21)\n   *                               or new Date(2010, 9, 21, 23, 45, 00)\n   * @param {Date} [end]           The end date\n   * @param {Number} [minimumStep] Optional. Minimum step size in milliseconds\n   */\n  function TimeStep(start, end, minimumStep, hiddenDates) {\n    // variables\n    this.current = new Date();\n    this._start = new Date();\n    this._end = new Date();\n\n    this.autoScale  = true;\n    this.scale = \'day\';\n    this.step = 1;\n\n    // initialize the range\n    this.setRange(start, end, minimumStep);\n\n    // hidden Dates options\n    this.switchedDay = false;\n    this.switchedMonth = false;\n    this.switchedYear = false;\n    this.hiddenDates = hiddenDates;\n    if (hiddenDates === undefined) {\n      this.hiddenDates = [];\n    }\n\n    this.format = TimeStep.FORMAT; // default formatting\n  }\n\n  // Time formatting\n  TimeStep.FORMAT = {\n    minorLabels: {\n      millisecond:\'SSS\',\n      second:     \'s\',\n      minute:     \'HH:mm\',\n      hour:       \'HH:mm\',\n      weekday:    \'ddd D\',\n      day:        \'D\',\n      month:      \'MMM\',\n      year:       \'YYYY\'\n    },\n    majorLabels: {\n      millisecond:\'HH:mm:ss\',\n      second:     \'D MMMM HH:mm\',\n      minute:     \'ddd D MMMM\',\n      hour:       \'ddd D MMMM\',\n      weekday:    \'MMMM YYYY\',\n      day:        \'MMMM YYYY\',\n      month:      \'YYYY\',\n      year:       \'\'\n    }\n  };\n\n  /**\n   * Set custom formatting for the minor an major labels of the TimeStep.\n   * Both `minorLabels` and `majorLabels` are an Object with properties:\n   * \'millisecond, \'second, \'minute\', \'hour\', \'weekday, \'day, \'month, \'year\'.\n   * @param {{minorLabels: Object, majorLabels: Object}} format\n   */\n  TimeStep.prototype.setFormat = function (format) {\n    var defaultFormat = util.deepExtend({}, TimeStep.FORMAT);\n    this.format = util.deepExtend(defaultFormat, format);\n  };\n\n  /**\n   * Set a new range\n   * If minimumStep is provided, the step size is chosen as close as possible\n   * to the minimumStep but larger than minimumStep. If minimumStep is not\n   * provided, the scale is set to 1 DAY.\n   * The minimumStep should correspond with the onscreen size of about 6 characters\n   * @param {Date} [start]      The start date and time.\n   * @param {Date} [end]        The end date and time.\n   * @param {int} [minimumStep] Optional. Minimum step size in milliseconds\n   */\n  TimeStep.prototype.setRange = function(start, end, minimumStep) {\n    if (!(start instanceof Date) || !(end instanceof Date)) {\n      throw  "No legal start or end date in method setRange";\n    }\n\n    this._start = (start != undefined) ? new Date(start.valueOf()) : new Date();\n    this._end = (end != undefined) ? new Date(end.valueOf()) : new Date();\n\n    if (this.autoScale) {\n      this.setMinimumStep(minimumStep);\n    }\n  };\n\n  /**\n   * Set the range iterator to the start date.\n   */\n  TimeStep.prototype.first = function() {\n    this.current = new Date(this._start.valueOf());\n    this.roundToMinor();\n  };\n\n  /**\n   * Round the current date to the first minor date value\n   * This must be executed once when the current date is set to start Date\n   */\n  TimeStep.prototype.roundToMinor = function() {\n    // round to floor\n    // IMPORTANT: we have no breaks in this switch! (this is no bug)\n    // noinspection FallThroughInSwitchStatementJS\n    switch (this.scale) {\n      case \'year\':\n        this.current.setFullYear(this.step * Math.floor(this.current.getFullYear() / this.step));\n        this.current.setMonth(0);\n      case \'month\':        this.current.setDate(1);\n      case \'day\':          // intentional fall through\n      case \'weekday\':      this.current.setHours(0);\n      case \'hour\':         this.current.setMinutes(0);\n      case \'minute\':       this.current.setSeconds(0);\n      case \'second\':       this.current.setMilliseconds(0);\n      //case \'millisecond\': // nothing to do for milliseconds\n    }\n\n    if (this.step != 1) {\n      // round down to the first minor value that is a multiple of the current step size\n      switch (this.scale) {\n        case \'millisecond\':  this.current.setMilliseconds(this.current.getMilliseconds() - this.current.getMilliseconds() % this.step);  break;\n        case \'second\':       this.current.setSeconds(this.current.getSeconds() - this.current.getSeconds() % this.step); break;\n        case \'minute\':       this.current.setMinutes(this.current.getMinutes() - this.current.getMinutes() % this.step); break;\n        case \'hour\':         this.current.setHours(this.current.getHours() - this.current.getHours() % this.step); break;\n        case \'weekday\':      // intentional fall through\n        case \'day\':          this.current.setDate((this.current.getDate()-1) - (this.current.getDate()-1) % this.step + 1); break;\n        case \'month\':        this.current.setMonth(this.current.getMonth() - this.current.getMonth() % this.step);  break;\n        case \'year\':         this.current.setFullYear(this.current.getFullYear() - this.current.getFullYear() % this.step); break;\n        default: break;\n      }\n    }\n  };\n\n  /**\n   * Check if the there is a next step\n   * @return {boolean}  true if the current date has not passed the end date\n   */\n  TimeStep.prototype.hasNext = function () {\n    return (this.current.valueOf() <= this._end.valueOf());\n  };\n\n  /**\n   * Do the next step\n   */\n  TimeStep.prototype.next = function() {\n    var prev = this.current.valueOf();\n\n    // Two cases, needed to prevent issues with switching daylight savings\n    // (end of March and end of October)\n    if (this.current.getMonth() < 6)   {\n      switch (this.scale) {\n        case \'millisecond\':\n\n          this.current = new Date(this.current.valueOf() + this.step); break;\n        case \'second\':       this.current = new Date(this.current.valueOf() + this.step * 1000); break;\n        case \'minute\':       this.current = new Date(this.current.valueOf() + this.step * 1000 * 60); break;\n        case \'hour\':\n          this.current = new Date(this.current.valueOf() + this.step * 1000 * 60 * 60);\n          // in case of skipping an hour for daylight savings, adjust the hour again (else you get: 0h 5h 9h ... instead of 0h 4h 8h ...)\n          var h = this.current.getHours();\n          this.current.setHours(h - (h % this.step));\n          break;\n        case \'weekday\':      // intentional fall through\n        case \'day\':          this.current.setDate(this.current.getDate() + this.step); break;\n        case \'month\':        this.current.setMonth(this.current.getMonth() + this.step); break;\n        case \'year\':         this.current.setFullYear(this.current.getFullYear() + this.step); break;\n        default:                      break;\n      }\n    }\n    else {\n      switch (this.scale) {\n        case \'millisecond\':  this.current = new Date(this.current.valueOf() + this.step); break;\n        case \'second\':       this.current.setSeconds(this.current.getSeconds() + this.step); break;\n        case \'minute\':       this.current.setMinutes(this.current.getMinutes() + this.step); break;\n        case \'hour\':         this.current.setHours(this.current.getHours() + this.step); break;\n        case \'weekday\':      // intentional fall through\n        case \'day\':          this.current.setDate(this.current.getDate() + this.step); break;\n        case \'month\':        this.current.setMonth(this.current.getMonth() + this.step); break;\n        case \'year\':         this.current.setFullYear(this.current.getFullYear() + this.step); break;\n        default:                      break;\n      }\n    }\n\n    if (this.step != 1) {\n      // round down to the correct major value\n      switch (this.scale) {\n        case \'millisecond\':  if(this.current.getMilliseconds() < this.step) this.current.setMilliseconds(0);  break;\n        case \'second\':       if(this.current.getSeconds() < this.step) this.current.setSeconds(0);  break;\n        case \'minute\':       if(this.current.getMinutes() < this.step) this.current.setMinutes(0);  break;\n        case \'hour\':         if(this.current.getHours() < this.step) this.current.setHours(0);  break;\n        case \'weekday\':      // intentional fall through\n        case \'day\':          if(this.current.getDate() < this.step+1) this.current.setDate(1); break;\n        case \'month\':        if(this.current.getMonth() < this.step) this.current.setMonth(0);  break;\n        case \'year\':         break; // nothing to do for year\n        default:                break;\n      }\n    }\n\n    // safety mechanism: if current time is still unchanged, move to the end\n    if (this.current.valueOf() == prev) {\n      this.current = new Date(this._end.valueOf());\n    }\n\n    DateUtil.stepOverHiddenDates(this, prev);\n  };\n\n\n  /**\n   * Get the current datetime\n   * @return {Date}  current The current date\n   */\n  TimeStep.prototype.getCurrent = function() {\n    return this.current;\n  };\n\n  /**\n   * Set a custom scale. Autoscaling will be disabled.\n   * For example setScale(\'minute\', 5) will result\n   * in minor steps of 5 minutes, and major steps of an hour.\n   *\n   * @param {{scale: string, step: number}} params\n   *                               An object containing two properties:\n   *                               - A string \'scale\'. Choose from \'millisecond\', \'second\',\n   *                                 \'minute\', \'hour\', \'weekday, \'day, \'month, \'year\'.\n   *                               - A number \'step\'. A step size, by default 1.\n   *                                 Choose for example 1, 2, 5, or 10.\n   */\n  TimeStep.prototype.setScale = function(params) {\n    if (params && typeof params.scale == \'string\') {\n      this.scale = params.scale;\n      this.step = params.step > 0 ? params.step : 1;\n      this.autoScale = false;\n    }\n  };\n\n  /**\n   * Enable or disable autoscaling\n   * @param {boolean} enable  If true, autoascaling is set true\n   */\n  TimeStep.prototype.setAutoScale = function (enable) {\n    this.autoScale = enable;\n  };\n\n\n  /**\n   * Automatically determine the scale that bests fits the provided minimum step\n   * @param {Number} [minimumStep]  The minimum step size in milliseconds\n   */\n  TimeStep.prototype.setMinimumStep = function(minimumStep) {\n    if (minimumStep == undefined) {\n      return;\n    }\n\n    //var b = asc + ds;\n\n    var stepYear       = (1000 * 60 * 60 * 24 * 30 * 12);\n    var stepMonth      = (1000 * 60 * 60 * 24 * 30);\n    var stepDay        = (1000 * 60 * 60 * 24);\n    var stepHour       = (1000 * 60 * 60);\n    var stepMinute     = (1000 * 60);\n    var stepSecond     = (1000);\n    var stepMillisecond= (1);\n\n    // find the smallest step that is larger than the provided minimumStep\n    if (stepYear*1000 > minimumStep)        {this.scale = \'year\';        this.step = 1000;}\n    if (stepYear*500 > minimumStep)         {this.scale = \'year\';        this.step = 500;}\n    if (stepYear*100 > minimumStep)         {this.scale = \'year\';        this.step = 100;}\n    if (stepYear*50 > minimumStep)          {this.scale = \'year\';        this.step = 50;}\n    if (stepYear*10 > minimumStep)          {this.scale = \'year\';        this.step = 10;}\n    if (stepYear*5 > minimumStep)           {this.scale = \'year\';        this.step = 5;}\n    if (stepYear > minimumStep)             {this.scale = \'year\';        this.step = 1;}\n    if (stepMonth*3 > minimumStep)          {this.scale = \'month\';       this.step = 3;}\n    if (stepMonth > minimumStep)            {this.scale = \'month\';       this.step = 1;}\n    if (stepDay*5 > minimumStep)            {this.scale = \'day\';         this.step = 5;}\n    if (stepDay*2 > minimumStep)            {this.scale = \'day\';         this.step = 2;}\n    if (stepDay > minimumStep)              {this.scale = \'day\';         this.step = 1;}\n    if (stepDay/2 > minimumStep)            {this.scale = \'weekday\';     this.step = 1;}\n    if (stepHour*4 > minimumStep)           {this.scale = \'hour\';        this.step = 4;}\n    if (stepHour > minimumStep)             {this.scale = \'hour\';        this.step = 1;}\n    if (stepMinute*15 > minimumStep)        {this.scale = \'minute\';      this.step = 15;}\n    if (stepMinute*10 > minimumStep)        {this.scale = \'minute\';      this.step = 10;}\n    if (stepMinute*5 > minimumStep)         {this.scale = \'minute\';      this.step = 5;}\n    if (stepMinute > minimumStep)           {this.scale = \'minute\';      this.step = 1;}\n    if (stepSecond*15 > minimumStep)        {this.scale = \'second\';      this.step = 15;}\n    if (stepSecond*10 > minimumStep)        {this.scale = \'second\';      this.step = 10;}\n    if (stepSecond*5 > minimumStep)         {this.scale = \'second\';      this.step = 5;}\n    if (stepSecond > minimumStep)           {this.scale = \'second\';      this.step = 1;}\n    if (stepMillisecond*200 > minimumStep)  {this.scale = \'millisecond\'; this.step = 200;}\n    if (stepMillisecond*100 > minimumStep)  {this.scale = \'millisecond\'; this.step = 100;}\n    if (stepMillisecond*50 > minimumStep)   {this.scale = \'millisecond\'; this.step = 50;}\n    if (stepMillisecond*10 > minimumStep)   {this.scale = \'millisecond\'; this.step = 10;}\n    if (stepMillisecond*5 > minimumStep)    {this.scale = \'millisecond\'; this.step = 5;}\n    if (stepMillisecond > minimumStep)      {this.scale = \'millisecond\'; this.step = 1;}\n  };\n\n  /**\n   * Snap a date to a rounded value.\n   * The snap intervals are dependent on the current scale and step.\n   * Static function\n   * @param {Date} date    the date to be snapped.\n   * @param {string} scale Current scale, can be \'millisecond\', \'second\',\n   *                       \'minute\', \'hour\', \'weekday, \'day, \'month, \'year\'.\n   * @param {number} step  Current step (1, 2, 4, 5, ...\n   * @return {Date} snappedDate\n   */\n  TimeStep.snap = function(date, scale, step) {\n    var clone = new Date(date.valueOf());\n\n    if (scale == \'year\') {\n      var year = clone.getFullYear() + Math.round(clone.getMonth() / 12);\n      clone.setFullYear(Math.round(year / step) * step);\n      clone.setMonth(0);\n      clone.setDate(0);\n      clone.setHours(0);\n      clone.setMinutes(0);\n      clone.setSeconds(0);\n      clone.setMilliseconds(0);\n    }\n    else if (scale == \'month\') {\n      if (clone.getDate() > 15) {\n        clone.setDate(1);\n        clone.setMonth(clone.getMonth() + 1);\n        // important: first set Date to 1, after that change the month.\n      }\n      else {\n        clone.setDate(1);\n      }\n\n      clone.setHours(0);\n      clone.setMinutes(0);\n      clone.setSeconds(0);\n      clone.setMilliseconds(0);\n    }\n    else if (scale == \'day\') {\n      //noinspection FallthroughInSwitchStatementJS\n      switch (step) {\n        case 5:\n        case 2:\n          clone.setHours(Math.round(clone.getHours() / 24) * 24); break;\n        default:\n          clone.setHours(Math.round(clone.getHours() / 12) * 12); break;\n      }\n      clone.setMinutes(0);\n      clone.setSeconds(0);\n      clone.setMilliseconds(0);\n    }\n    else if (scale == \'weekday\') {\n      //noinspection FallthroughInSwitchStatementJS\n      switch (step) {\n        case 5:\n        case 2:\n          clone.setHours(Math.round(clone.getHours() / 12) * 12); break;\n        default:\n          clone.setHours(Math.round(clone.getHours() / 6) * 6); break;\n      }\n      clone.setMinutes(0);\n      clone.setSeconds(0);\n      clone.setMilliseconds(0);\n    }\n    else if (scale == \'hour\') {\n      switch (step) {\n        case 4:\n          clone.setMinutes(Math.round(clone.getMinutes() / 60) * 60); break;\n        default:\n          clone.setMinutes(Math.round(clone.getMinutes() / 30) * 30); break;\n      }\n      clone.setSeconds(0);\n      clone.setMilliseconds(0);\n    } else if (scale == \'minute\') {\n      //noinspection FallthroughInSwitchStatementJS\n      switch (step) {\n        case 15:\n        case 10:\n          clone.setMinutes(Math.round(clone.getMinutes() / 5) * 5);\n          clone.setSeconds(0);\n          break;\n        case 5:\n          clone.setSeconds(Math.round(clone.getSeconds() / 60) * 60); break;\n        default:\n          clone.setSeconds(Math.round(clone.getSeconds() / 30) * 30); break;\n      }\n      clone.setMilliseconds(0);\n    }\n    else if (scale == \'second\') {\n      //noinspection FallthroughInSwitchStatementJS\n      switch (step) {\n        case 15:\n        case 10:\n          clone.setSeconds(Math.round(clone.getSeconds() / 5) * 5);\n          clone.setMilliseconds(0);\n          break;\n        case 5:\n          clone.setMilliseconds(Math.round(clone.getMilliseconds() / 1000) * 1000); break;\n        default:\n          clone.setMilliseconds(Math.round(clone.getMilliseconds() / 500) * 500); break;\n      }\n    }\n    else if (scale == \'millisecond\') {\n      var _step = step > 5 ? step / 2 : 1;\n      clone.setMilliseconds(Math.round(clone.getMilliseconds() / _step) * _step);\n    }\n    \n    return clone;\n  };\n\n  /**\n   * Check if the current value is a major value (for example when the step\n   * is DAY, a major value is each first day of the MONTH)\n   * @return {boolean} true if current date is major, else false.\n   */\n  TimeStep.prototype.isMajor = function() {\n    if (this.switchedYear == true) {\n      this.switchedYear = false;\n      switch (this.scale) {\n        case \'year\':\n        case \'month\':\n        case \'weekday\':\n        case \'day\':\n        case \'hour\':\n        case \'minute\':\n        case \'second\':\n        case \'millisecond\':\n          return true;\n        default:\n          return false;\n      }\n    }\n    else if (this.switchedMonth == true) {\n      this.switchedMonth = false;\n      switch (this.scale) {\n        case \'weekday\':\n        case \'day\':\n        case \'hour\':\n        case \'minute\':\n        case \'second\':\n        case \'millisecond\':\n          return true;\n        default:\n          return false;\n      }\n    }\n    else if (this.switchedDay == true) {\n      this.switchedDay = false;\n      switch (this.scale) {\n        case \'millisecond\':\n        case \'second\':\n        case \'minute\':\n        case \'hour\':\n          return true;\n        default:\n          return false;\n      }\n    }\n\n    switch (this.scale) {\n      case \'millisecond\':\n        return (this.current.getMilliseconds() == 0);\n      case \'second\':\n        return (this.current.getSeconds() == 0);\n      case \'minute\':\n        return (this.current.getHours() == 0) && (this.current.getMinutes() == 0);\n      case \'hour\':\n        return (this.current.getHours() == 0);\n      case \'weekday\': // intentional fall through\n      case \'day\':\n        return (this.current.getDate() == 1);\n      case \'month\':\n        return (this.current.getMonth() == 0);\n      case \'year\':\n        return false;\n      default:\n        return false;\n    }\n  };\n\n\n  /**\n   * Returns formatted text for the minor axislabel, depending on the current\n   * date and the scale. For example when scale is MINUTE, the current time is\n   * formatted as "hh:mm".\n   * @param {Date} [date] custom date. if not provided, current date is taken\n   */\n  TimeStep.prototype.getLabelMinor = function(date) {\n    if (date == undefined) {\n      date = this.current;\n    }\n\n    var format = this.format.minorLabels[this.scale];\n    return (format && format.length > 0) ? moment(date).format(format) : \'\';\n  };\n\n  /**\n   * Returns formatted text for the major axis label, depending on the current\n   * date and the scale. For example when scale is MINUTE, the major scale is\n   * hours, and the hour will be formatted as "hh".\n   * @param {Date} [date] custom date. if not provided, current date is taken\n   */\n  TimeStep.prototype.getLabelMajor = function(date) {\n    if (date == undefined) {\n      date = this.current;\n    }\n\n    var format = this.format.majorLabels[this.scale];\n    return (format && format.length > 0) ? moment(date).format(format) : \'\';\n  };\n\n  TimeStep.prototype.getClassName = function() {\n    var m = moment(this.current);\n    var date = m.locale ? m.locale(\'en\') : m.lang(\'en\'); // old versions of moment have .lang() function\n    var step = this.step;\n\n    function even(value) {\n      return (value / step % 2 == 0) ? \' even\' : \' odd\';\n    }\n\n    function today(date) {\n      if (date.isSame(new Date(), \'day\')) {\n        return \' today\';\n      }\n      if (date.isSame(moment().add(1, \'day\'), \'day\')) {\n        return \' tomorrow\';\n      }\n      if (date.isSame(moment().add(-1, \'day\'), \'day\')) {\n        return \' yesterday\';\n      }\n      return \'\';\n    }\n\n    function currentWeek(date) {\n      return date.isSame(new Date(), \'week\') ? \' current-week\' : \'\';\n    }\n\n    function currentMonth(date) {\n      return date.isSame(new Date(), \'month\') ? \' current-month\' : \'\';\n    }\n\n    function currentYear(date) {\n      return date.isSame(new Date(), \'year\') ? \' current-year\' : \'\';\n    }\n\n    switch (this.scale) {\n      case \'millisecond\':\n        return even(date.milliseconds()).trim();\n\n      case \'second\':\n        return even(date.seconds()).trim();\n\n      case \'minute\':\n        return even(date.minutes()).trim();\n\n      case \'hour\':\n        var hours = date.hours();\n        if (this.step == 4) {\n          hours = hours + \'-\' + (hours + 4);\n        }\n        return hours + \'h\' + today(date) + even(date.hours());\n\n      case \'weekday\':\n        return date.format(\'dddd\').toLowerCase() +\n            today(date) + currentWeek(date) + even(date.date());\n\n      case \'day\':\n        var day = date.date();\n        var month = date.format(\'MMMM\').toLowerCase();\n        return \'day\' + day + \' \' + month + currentMonth(date) + even(day - 1);\n\n      case \'month\':\n        return date.format(\'MMMM\').toLowerCase() +\n            currentMonth(date) + even(date.month());\n\n      case \'year\':\n        var year = date.year();\n        return \'year\' + year + currentYear(date)+ even(year);\n\n      default:\n        return \'\';\n    }\n  };\n\n  module.exports = TimeStep;\n\n\n/***/ },\n/* 20 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Hammer = __webpack_require__(45);\n  var util = __webpack_require__(1);\n\n  /**\n   * @constructor Item\n   * @param {Object} data             Object containing (optional) parameters type,\n   *                                  start, end, content, group, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} options          Configuration options\n   *                                  // TODO: describe available options\n   */\n  function Item (data, conversion, options) {\n    this.id = null;\n    this.parent = null;\n    this.data = data;\n    this.dom = null;\n    this.conversion = conversion || {};\n    this.options = options || {};\n\n    this.selected = false;\n    this.displayed = false;\n    this.dirty = true;\n\n    this.top = null;\n    this.left = null;\n    this.width = null;\n    this.height = null;\n  }\n\n  Item.prototype.stack = true;\n\n  /**\n   * Select current item\n   */\n  Item.prototype.select = function() {\n    this.selected = true;\n    this.dirty = true;\n    if (this.displayed) this.redraw();\n  };\n\n  /**\n   * Unselect current item\n   */\n  Item.prototype.unselect = function() {\n    this.selected = false;\n    this.dirty = true;\n    if (this.displayed) this.redraw();\n  };\n\n  /**\n   * Set data for the item. Existing data will be updated. The id should not\n   * be changed. When the item is displayed, it will be redrawn immediately.\n   * @param {Object} data\n   */\n  Item.prototype.setData = function(data) {\n    var groupChanged = data.group != undefined && this.data.group != data.group;\n    if (groupChanged) {\n      this.parent.itemSet._moveToGroup(this, data.group);\n    }\n\n    this.data = data;\n    this.dirty = true;\n    if (this.displayed) this.redraw();\n  };\n\n  /**\n   * Set a parent for the item\n   * @param {ItemSet | Group} parent\n   */\n  Item.prototype.setParent = function(parent) {\n    if (this.displayed) {\n      this.hide();\n      this.parent = parent;\n      if (this.parent) {\n        this.show();\n      }\n    }\n    else {\n      this.parent = parent;\n    }\n  };\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  Item.prototype.isVisible = function(range) {\n    // Should be implemented by Item implementations\n    return false;\n  };\n\n  /**\n   * Show the Item in the DOM (when not already visible)\n   * @return {Boolean} changed\n   */\n  Item.prototype.show = function() {\n    return false;\n  };\n\n  /**\n   * Hide the Item from the DOM (when visible)\n   * @return {Boolean} changed\n   */\n  Item.prototype.hide = function() {\n    return false;\n  };\n\n  /**\n   * Repaint the item\n   */\n  Item.prototype.redraw = function() {\n    // should be implemented by the item\n  };\n\n  /**\n   * Reposition the Item horizontally\n   */\n  Item.prototype.repositionX = function() {\n    // should be implemented by the item\n  };\n\n  /**\n   * Reposition the Item vertically\n   */\n  Item.prototype.repositionY = function() {\n    // should be implemented by the item\n  };\n\n  /**\n   * Repaint a delete button on the top right of the item when the item is selected\n   * @param {HTMLElement} anchor\n   * @protected\n   */\n  Item.prototype._repaintDeleteButton = function (anchor) {\n    if (this.selected && this.options.editable.remove && !this.dom.deleteButton) {\n      // create and show button\n      var me = this;\n\n      var deleteButton = document.createElement(\'div\');\n      deleteButton.className = \'delete\';\n      deleteButton.title = \'Delete this item\';\n\n      Hammer(deleteButton, {\n        preventDefault: true\n      }).on(\'tap\', function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        me.parent.removeFromDataSet(me);\n      });\n\n      anchor.appendChild(deleteButton);\n      this.dom.deleteButton = deleteButton;\n    }\n    else if (!this.selected && this.dom.deleteButton) {\n      // remove button\n      if (this.dom.deleteButton.parentNode) {\n        this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton);\n      }\n      this.dom.deleteButton = null;\n    }\n  };\n\n  /**\n   * Set HTML contents for the item\n   * @param {Element} element   HTML element to fill with the contents\n   * @private\n   */\n  Item.prototype._updateContents = function (element) {\n    var content;\n    if (this.options.template) {\n      var itemData = this.parent.itemSet.itemsData.get(this.id); // get a clone of the data from the dataset\n      content = this.options.template(itemData);\n    }\n    else {\n      content = this.data.content;\n    }\n\n    if(content !== this.content) {\n      // only replace the content when changed\n      if (content instanceof Element) {\n        element.innerHTML = \'\';\n        element.appendChild(content);\n      }\n      else if (content != undefined) {\n        element.innerHTML = content;\n      }\n      else {\n        if (!(this.data.type == \'background\' && this.data.content === undefined)) {\n          throw new Error(\'Property "content" missing in item \' + this.id);\n        }\n      }\n\n      this.content = content;\n    }\n  };\n\n  /**\n   * Set HTML contents for the item\n   * @param {Element} element   HTML element to fill with the contents\n   * @private\n   */\n  Item.prototype._updateTitle = function (element) {\n    if (this.data.title != null) {\n      element.title = this.data.title || \'\';\n    }\n    else {\n      element.removeAttribute(\'title\');\n    }\n  };\n\n  /**\n   * Process dataAttributes timeline option and set as data- attributes on dom.content\n   * @param {Element} element   HTML element to which the attributes will be attached\n   * @private\n   */\n   Item.prototype._updateDataAttributes = function(element) {\n    if (this.options.dataAttributes && this.options.dataAttributes.length > 0) {\n      var attributes = [];\n\n      if (Array.isArray(this.options.dataAttributes)) {\n        attributes = this.options.dataAttributes;\n      }\n      else if (this.options.dataAttributes == \'all\') {\n        attributes = Object.keys(this.data);\n      }\n      else {\n        return;\n      }\n\n      for (var i = 0; i < attributes.length; i++) {\n        var name = attributes[i];\n        var value = this.data[name];\n\n        if (value != null) {\n          element.setAttribute(\'data-\' + name, value);\n        }\n        else {\n          element.removeAttribute(\'data-\' + name);\n        }\n      }\n    }\n  };\n\n  /**\n   * Update custom styles of the element\n   * @param element\n   * @private\n   */\n  Item.prototype._updateStyle = function(element) {\n    // remove old styles\n    if (this.style) {\n      util.removeCssText(element, this.style);\n      this.style = null;\n    }\n\n    // append new styles\n    if (this.data.style) {\n      util.addCssText(element, this.data.style);\n      this.style = this.data.style;\n    }\n  };\n\n  module.exports = Item;\n\n\n/***/ },\n/* 21 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Hammer = __webpack_require__(45);\n  var Item = __webpack_require__(20);\n  var BackgroundGroup = __webpack_require__(31);\n  var RangeItem = __webpack_require__(24);\n\n  /**\n   * @constructor BackgroundItem\n   * @extends Item\n   * @param {Object} data             Object containing parameters start, end\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options\n   */\n  // TODO: implement support for the BackgroundItem just having a start, then being displayed as a sort of an annotation\n  function BackgroundItem (data, conversion, options) {\n    this.props = {\n      content: {\n        width: 0\n      }\n    };\n    this.overflow = false; // if contents can overflow (css styling), this flag is set to true\n\n    // validate data\n    if (data) {\n      if (data.start == undefined) {\n        throw new Error(\'Property "start" missing in item \' + data.id);\n      }\n      if (data.end == undefined) {\n        throw new Error(\'Property "end" missing in item \' + data.id);\n      }\n    }\n\n    Item.call(this, data, conversion, options);\n\n    this.emptyContent = false;\n  }\n\n  BackgroundItem.prototype = new Item (null, null, null);\n\n  BackgroundItem.prototype.baseClassName = \'item background\';\n  BackgroundItem.prototype.stack = false;\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  BackgroundItem.prototype.isVisible = function(range) {\n    // determine visibility\n    return (this.data.start < range.end) && (this.data.end > range.start);\n  };\n\n  /**\n   * Repaint the item\n   */\n  BackgroundItem.prototype.redraw = function() {\n    var dom = this.dom;\n    if (!dom) {\n      // create DOM\n      this.dom = {};\n      dom = this.dom;\n\n      // background box\n      dom.box = document.createElement(\'div\');\n      // className is updated in redraw()\n\n      // contents box\n      dom.content = document.createElement(\'div\');\n      dom.content.className = \'content\';\n      dom.box.appendChild(dom.content);\n\n      // Note: we do NOT attach this item as attribute to the DOM,\n      //       such that background items cannot be selected\n      //dom.box[\'timeline-item\'] = this;\n\n      this.dirty = true;\n    }\n\n    // append DOM to parent DOM\n    if (!this.parent) {\n      throw new Error(\'Cannot redraw item: no parent attached\');\n    }\n    if (!dom.box.parentNode) {\n      var background = this.parent.dom.background;\n      if (!background) {\n        throw new Error(\'Cannot redraw item: parent has no background container element\');\n      }\n      background.appendChild(dom.box);\n    }\n    this.displayed = true;\n\n    // Update DOM when item is marked dirty. An item is marked dirty when:\n    // - the item is not yet rendered\n    // - the item\'s data is changed\n    // - the item is selected/deselected\n    if (this.dirty) {\n      this._updateContents(this.dom.content);\n      this._updateTitle(this.dom.content);\n      this._updateDataAttributes(this.dom.content);\n      this._updateStyle(this.dom.box);\n\n      // update class\n      var className = (this.data.className ? (\' \' + this.data.className) : \'\') +\n          (this.selected ? \' selected\' : \'\');\n      dom.box.className = this.baseClassName + className;\n\n      // determine from css whether this box has overflow\n      this.overflow = window.getComputedStyle(dom.content).overflow !== \'hidden\';\n\n      // recalculate size\n      this.props.content.width = this.dom.content.offsetWidth;\n      this.height = 0; // set height zero, so this item will be ignored when stacking items\n\n      this.dirty = false;\n    }\n  };\n\n  /**\n   * Show the item in the DOM (when not already visible). The items DOM will\n   * be created when needed.\n   */\n  BackgroundItem.prototype.show = RangeItem.prototype.show;\n\n  /**\n   * Hide the item from the DOM (when visible)\n   * @return {Boolean} changed\n   */\n  BackgroundItem.prototype.hide = RangeItem.prototype.hide;\n\n  /**\n   * Reposition the item horizontally\n   * @Override\n   */\n  BackgroundItem.prototype.repositionX = RangeItem.prototype.repositionX;\n\n  /**\n   * Reposition the item vertically\n   * @Override\n   */\n  BackgroundItem.prototype.repositionY = function(margin) {\n    var onTop = this.options.orientation === \'top\';\n    this.dom.content.style.top = onTop ? \'\' : \'0\';\n    this.dom.content.style.bottom = onTop ? \'0\' : \'\';\n    var height;\n\n    // special positioning for subgroups\n    if (this.data.subgroup !== undefined) {\n      // TODO: instead of calculating the top position of the subgroups here for every BackgroundItem, calculate the top of the subgroup once in Itemset\n\n      var itemSubgroup = this.data.subgroup;\n      var subgroups = this.parent.subgroups;\n      var subgroupIndex = subgroups[itemSubgroup].index;\n      // if the orientation is top, we need to take the difference in height into account.\n      if (onTop == true) {\n        // the first subgroup will have to account for the distance from the top to the first item.\n        height = this.parent.subgroups[itemSubgroup].height + margin.item.vertical;\n        height += subgroupIndex == 0 ? margin.axis - 0.5*margin.item.vertical : 0;\n        var newTop = this.parent.top;\n        for (var subgroup in subgroups) {\n          if (subgroups.hasOwnProperty(subgroup)) {\n            if (subgroups[subgroup].visible == true && subgroups[subgroup].index < subgroupIndex) {\n              newTop += subgroups[subgroup].height + margin.item.vertical;\n            }\n          }\n        }\n\n        // the others will have to be offset downwards with this same distance.\n        newTop += subgroupIndex != 0 ? margin.axis - 0.5 * margin.item.vertical : 0;\n        this.dom.box.style.top = newTop + \'px\';\n        this.dom.box.style.bottom = \'\';\n      }\n      // and when the orientation is bottom:\n      else {\n        var newTop = this.parent.top;\n        var totalHeight = 0;\n        for (var subgroup in subgroups) {\n          if (subgroups.hasOwnProperty(subgroup)) {\n            if (subgroups[subgroup].visible == true) {\n              var newHeight = subgroups[subgroup].height + margin.item.vertical;\n              totalHeight += newHeight;\n              if (subgroups[subgroup].index > subgroupIndex) {\n                newTop += newHeight;\n              }\n            }\n          }\n        }\n        height = this.parent.subgroups[itemSubgroup].height + margin.item.vertical;\n        this.dom.box.style.top = (this.parent.height - totalHeight + newTop) + \'px\';\n        this.dom.box.style.bottom = \'\';\n      }\n    }\n    // and in the case of no subgroups:\n    else {\n      // we want backgrounds with groups to only show in groups.\n      if (this.parent instanceof BackgroundGroup) {\n        // if the item is not in a group:\n        height = Math.max(this.parent.height,\n            this.parent.itemSet.body.domProps.center.height,\n            this.parent.itemSet.body.domProps.centerContainer.height);\n        this.dom.box.style.top = onTop ? \'0\' : \'\';\n        this.dom.box.style.bottom = onTop ? \'\' : \'0\';\n      }\n      else {\n        height = this.parent.height;\n        // same alignment for items when orientation is top or bottom\n        this.dom.box.style.top = this.parent.top + \'px\';\n        this.dom.box.style.bottom = \'\';\n      }\n    }\n    this.dom.box.style.height = height + \'px\';\n  };\n\n  module.exports = BackgroundItem;\n\n\n/***/ },\n/* 22 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Item = __webpack_require__(20);\n  var util = __webpack_require__(1);\n\n  /**\n   * @constructor BoxItem\n   * @extends Item\n   * @param {Object} data             Object containing parameters start\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options\n   */\n  function BoxItem (data, conversion, options) {\n    this.props = {\n      dot: {\n        width: 0,\n        height: 0\n      },\n      line: {\n        width: 0,\n        height: 0\n      }\n    };\n\n    // validate data\n    if (data) {\n      if (data.start == undefined) {\n        throw new Error(\'Property "start" missing in item \' + data);\n      }\n    }\n\n    Item.call(this, data, conversion, options);\n  }\n\n  BoxItem.prototype = new Item (null, null, null);\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  BoxItem.prototype.isVisible = function(range) {\n    // determine visibility\n    // TODO: account for the real width of the item. Right now we just add 1/4 to the window\n    var interval = (range.end - range.start) / 4;\n    return (this.data.start > range.start - interval) && (this.data.start < range.end + interval);\n  };\n\n  /**\n   * Repaint the item\n   */\n  BoxItem.prototype.redraw = function() {\n    var dom = this.dom;\n    if (!dom) {\n      // create DOM\n      this.dom = {};\n      dom = this.dom;\n\n      // create main box\n      dom.box = document.createElement(\'DIV\');\n\n      // contents box (inside the background box). used for making margins\n      dom.content = document.createElement(\'DIV\');\n      dom.content.className = \'content\';\n      dom.box.appendChild(dom.content);\n\n      // line to axis\n      dom.line = document.createElement(\'DIV\');\n      dom.line.className = \'line\';\n\n      // dot on axis\n      dom.dot = document.createElement(\'DIV\');\n      dom.dot.className = \'dot\';\n\n      // attach this item as attribute\n      dom.box[\'timeline-item\'] = this;\n\n      this.dirty = true;\n    }\n\n    // append DOM to parent DOM\n    if (!this.parent) {\n      throw new Error(\'Cannot redraw item: no parent attached\');\n    }\n    if (!dom.box.parentNode) {\n      var foreground = this.parent.dom.foreground;\n      if (!foreground) throw new Error(\'Cannot redraw item: parent has no foreground container element\');\n      foreground.appendChild(dom.box);\n    }\n    if (!dom.line.parentNode) {\n      var background = this.parent.dom.background;\n      if (!background) throw new Error(\'Cannot redraw item: parent has no background container element\');\n      background.appendChild(dom.line);\n    }\n    if (!dom.dot.parentNode) {\n      var axis = this.parent.dom.axis;\n      if (!background) throw new Error(\'Cannot redraw item: parent has no axis container element\');\n      axis.appendChild(dom.dot);\n    }\n    this.displayed = true;\n\n    // Update DOM when item is marked dirty. An item is marked dirty when:\n    // - the item is not yet rendered\n    // - the item\'s data is changed\n    // - the item is selected/deselected\n    if (this.dirty) {\n      this._updateContents(this.dom.content);\n      this._updateTitle(this.dom.box);\n      this._updateDataAttributes(this.dom.box);\n      this._updateStyle(this.dom.box);\n\n      // update class\n      var className = (this.data.className? \' \' + this.data.className : \'\') +\n          (this.selected ? \' selected\' : \'\');\n      dom.box.className = \'item box\' + className;\n      dom.line.className = \'item line\' + className;\n      dom.dot.className  = \'item dot\' + className;\n\n      // recalculate size\n      this.props.dot.height = dom.dot.offsetHeight;\n      this.props.dot.width = dom.dot.offsetWidth;\n      this.props.line.width = dom.line.offsetWidth;\n      this.width = dom.box.offsetWidth;\n      this.height = dom.box.offsetHeight;\n\n      this.dirty = false;\n    }\n\n    this._repaintDeleteButton(dom.box);\n  };\n\n  /**\n   * Show the item in the DOM (when not already displayed). The items DOM will\n   * be created when needed.\n   */\n  BoxItem.prototype.show = function() {\n    if (!this.displayed) {\n      this.redraw();\n    }\n  };\n\n  /**\n   * Hide the item from the DOM (when visible)\n   */\n  BoxItem.prototype.hide = function() {\n    if (this.displayed) {\n      var dom = this.dom;\n\n      if (dom.box.parentNode)   dom.box.parentNode.removeChild(dom.box);\n      if (dom.line.parentNode)  dom.line.parentNode.removeChild(dom.line);\n      if (dom.dot.parentNode)   dom.dot.parentNode.removeChild(dom.dot);\n\n      this.displayed = false;\n    }\n  };\n\n  /**\n   * Reposition the item horizontally\n   * @Override\n   */\n  BoxItem.prototype.repositionX = function() {\n    var start = this.conversion.toScreen(this.data.start);\n    var align = this.options.align;\n    var left;\n\n    // calculate left position of the box\n    if (align == \'right\') {\n      this.left = start - this.width;\n    }\n    else if (align == \'left\') {\n      this.left = start;\n    }\n    else {\n      // default or \'center\'\n      this.left = start - this.width / 2;\n    }\n\n    // reposition box\n    this.dom.box.style.left = this.left + \'px\';\n\n    // reposition line\n    this.dom.line.style.left = (start - this.props.line.width / 2) + \'px\';\n\n    // reposition dot\n    this.dom.dot.style.left = (start - this.props.dot.width / 2) + \'px\';\n  };\n\n  /**\n   * Reposition the item vertically\n   * @Override\n   */\n  BoxItem.prototype.repositionY = function() {\n    var orientation = this.options.orientation;\n    var box = this.dom.box;\n    var line = this.dom.line;\n    var dot = this.dom.dot;\n\n    if (orientation == \'top\') {\n      box.style.top     = (this.top || 0) + \'px\';\n\n      line.style.top    = \'0\';\n      line.style.height = (this.parent.top + this.top + 1) + \'px\';\n      line.style.bottom = \'\';\n    }\n    else { // orientation \'bottom\'\n      var itemSetHeight = this.parent.itemSet.props.height; // TODO: this is nasty\n      var lineHeight = itemSetHeight - this.parent.top - this.parent.height + this.top;\n\n      box.style.top     = (this.parent.height - this.top - this.height || 0) + \'px\';\n      line.style.top    = (itemSetHeight - lineHeight) + \'px\';\n      line.style.bottom = \'0\';\n    }\n\n    dot.style.top = (-this.props.dot.height / 2) + \'px\';\n  };\n\n  module.exports = BoxItem;\n\n\n/***/ },\n/* 23 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Item = __webpack_require__(20);\n\n  /**\n   * @constructor PointItem\n   * @extends Item\n   * @param {Object} data             Object containing parameters start\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options\n   */\n  function PointItem (data, conversion, options) {\n    this.props = {\n      dot: {\n        top: 0,\n        width: 0,\n        height: 0\n      },\n      content: {\n        height: 0,\n        marginLeft: 0\n      }\n    };\n\n    // validate data\n    if (data) {\n      if (data.start == undefined) {\n        throw new Error(\'Property "start" missing in item \' + data);\n      }\n    }\n\n    Item.call(this, data, conversion, options);\n  }\n\n  PointItem.prototype = new Item (null, null, null);\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  PointItem.prototype.isVisible = function(range) {\n    // determine visibility\n    // TODO: account for the real width of the item. Right now we just add 1/4 to the window\n    var interval = (range.end - range.start) / 4;\n    return (this.data.start > range.start - interval) && (this.data.start < range.end + interval);\n  };\n\n  /**\n   * Repaint the item\n   */\n  PointItem.prototype.redraw = function() {\n    var dom = this.dom;\n    if (!dom) {\n      // create DOM\n      this.dom = {};\n      dom = this.dom;\n\n      // background box\n      dom.point = document.createElement(\'div\');\n      // className is updated in redraw()\n\n      // contents box, right from the dot\n      dom.content = document.createElement(\'div\');\n      dom.content.className = \'content\';\n      dom.point.appendChild(dom.content);\n\n      // dot at start\n      dom.dot = document.createElement(\'div\');\n      dom.point.appendChild(dom.dot);\n\n      // attach this item as attribute\n      dom.point[\'timeline-item\'] = this;\n\n      this.dirty = true;\n    }\n\n    // append DOM to parent DOM\n    if (!this.parent) {\n      throw new Error(\'Cannot redraw item: no parent attached\');\n    }\n    if (!dom.point.parentNode) {\n      var foreground = this.parent.dom.foreground;\n      if (!foreground) {\n        throw new Error(\'Cannot redraw item: parent has no foreground container element\');\n      }\n      foreground.appendChild(dom.point);\n    }\n    this.displayed = true;\n\n    // Update DOM when item is marked dirty. An item is marked dirty when:\n    // - the item is not yet rendered\n    // - the item\'s data is changed\n    // - the item is selected/deselected\n    if (this.dirty) {\n      this._updateContents(this.dom.content);\n      this._updateTitle(this.dom.point);\n      this._updateDataAttributes(this.dom.point);\n      this._updateStyle(this.dom.point);\n\n      // update class\n      var className = (this.data.className? \' \' + this.data.className : \'\') +\n          (this.selected ? \' selected\' : \'\');\n      dom.point.className  = \'item point\' + className;\n      dom.dot.className  = \'item dot\' + className;\n\n      // recalculate size\n      this.width = dom.point.offsetWidth;\n      this.height = dom.point.offsetHeight;\n      this.props.dot.width = dom.dot.offsetWidth;\n      this.props.dot.height = dom.dot.offsetHeight;\n      this.props.content.height = dom.content.offsetHeight;\n\n      // resize contents\n      dom.content.style.marginLeft = 2 * this.props.dot.width + \'px\';\n      //dom.content.style.marginRight = ... + \'px\'; // TODO: margin right\n\n      dom.dot.style.top = ((this.height - this.props.dot.height) / 2) + \'px\';\n      dom.dot.style.left = (this.props.dot.width / 2) + \'px\';\n\n      this.dirty = false;\n    }\n\n    this._repaintDeleteButton(dom.point);\n  };\n\n  /**\n   * Show the item in the DOM (when not already visible). The items DOM will\n   * be created when needed.\n   */\n  PointItem.prototype.show = function() {\n    if (!this.displayed) {\n      this.redraw();\n    }\n  };\n\n  /**\n   * Hide the item from the DOM (when visible)\n   */\n  PointItem.prototype.hide = function() {\n    if (this.displayed) {\n      if (this.dom.point.parentNode) {\n        this.dom.point.parentNode.removeChild(this.dom.point);\n      }\n\n      this.displayed = false;\n    }\n  };\n\n  /**\n   * Reposition the item horizontally\n   * @Override\n   */\n  PointItem.prototype.repositionX = function() {\n    var start = this.conversion.toScreen(this.data.start);\n\n    this.left = start - this.props.dot.width;\n\n    // reposition point\n    this.dom.point.style.left = this.left + \'px\';\n  };\n\n  /**\n   * Reposition the item vertically\n   * @Override\n   */\n  PointItem.prototype.repositionY = function() {\n    var orientation = this.options.orientation,\n        point = this.dom.point;\n\n    if (orientation == \'top\') {\n      point.style.top = this.top + \'px\';\n    }\n    else {\n      point.style.top = (this.parent.height - this.top - this.height) + \'px\';\n    }\n  };\n\n  module.exports = PointItem;\n\n\n/***/ },\n/* 24 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Hammer = __webpack_require__(45);\n  var Item = __webpack_require__(20);\n\n  /**\n   * @constructor RangeItem\n   * @extends Item\n   * @param {Object} data             Object containing parameters start, end\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options\n   */\n  function RangeItem (data, conversion, options) {\n    this.props = {\n      content: {\n        width: 0\n      }\n    };\n    this.overflow = false; // if contents can overflow (css styling), this flag is set to true\n\n    // validate data\n    if (data) {\n      if (data.start == undefined) {\n        throw new Error(\'Property "start" missing in item \' + data.id);\n      }\n      if (data.end == undefined) {\n        throw new Error(\'Property "end" missing in item \' + data.id);\n      }\n    }\n\n    Item.call(this, data, conversion, options);\n  }\n\n  RangeItem.prototype = new Item (null, null, null);\n\n  RangeItem.prototype.baseClassName = \'item range\';\n\n  /**\n   * Check whether this item is visible inside given range\n   * @returns {{start: Number, end: Number}} range with a timestamp for start and end\n   * @returns {boolean} True if visible\n   */\n  RangeItem.prototype.isVisible = function(range) {\n    // determine visibility\n    return (this.data.start < range.end) && (this.data.end > range.start);\n  };\n\n  /**\n   * Repaint the item\n   */\n  RangeItem.prototype.redraw = function() {\n    var dom = this.dom;\n    if (!dom) {\n      // create DOM\n      this.dom = {};\n      dom = this.dom;\n\n        // background box\n      dom.box = document.createElement(\'div\');\n      // className is updated in redraw()\n\n      // contents box\n      dom.content = document.createElement(\'div\');\n      dom.content.className = \'content\';\n      dom.box.appendChild(dom.content);\n\n      // attach this item as attribute\n      dom.box[\'timeline-item\'] = this;\n\n      this.dirty = true;\n    }\n\n    // append DOM to parent DOM\n    if (!this.parent) {\n      throw new Error(\'Cannot redraw item: no parent attached\');\n    }\n    if (!dom.box.parentNode) {\n      var foreground = this.parent.dom.foreground;\n      if (!foreground) {\n        throw new Error(\'Cannot redraw item: parent has no foreground container element\');\n      }\n      foreground.appendChild(dom.box);\n    }\n    this.displayed = true;\n\n    // Update DOM when item is marked dirty. An item is marked dirty when:\n    // - the item is not yet rendered\n    // - the item\'s data is changed\n    // - the item is selected/deselected\n    if (this.dirty) {\n      this._updateContents(this.dom.content);\n      this._updateTitle(this.dom.box);\n      this._updateDataAttributes(this.dom.box);\n      this._updateStyle(this.dom.box);\n\n      // update class\n      var className = (this.data.className ? (\' \' + this.data.className) : \'\') +\n          (this.selected ? \' selected\' : \'\');\n      dom.box.className = this.baseClassName + className;\n\n      // determine from css whether this box has overflow\n      this.overflow = window.getComputedStyle(dom.content).overflow !== \'hidden\';\n\n      // recalculate size\n      // turn off max-width to be able to calculate the real width\n      // this causes an extra browser repaint/reflow, but so be it\n      this.dom.content.style.maxWidth = \'none\';\n      this.props.content.width = this.dom.content.offsetWidth;\n      this.height = this.dom.box.offsetHeight;\n      this.dom.content.style.maxWidth = \'\';\n\n      this.dirty = false;\n    }\n\n    this._repaintDeleteButton(dom.box);\n    this._repaintDragLeft();\n    this._repaintDragRight();\n  };\n\n  /**\n   * Show the item in the DOM (when not already visible). The items DOM will\n   * be created when needed.\n   */\n  RangeItem.prototype.show = function() {\n    if (!this.displayed) {\n      this.redraw();\n    }\n  };\n\n  /**\n   * Hide the item from the DOM (when visible)\n   * @return {Boolean} changed\n   */\n  RangeItem.prototype.hide = function() {\n    if (this.displayed) {\n      var box = this.dom.box;\n\n      if (box.parentNode) {\n        box.parentNode.removeChild(box);\n      }\n\n      this.displayed = false;\n    }\n  };\n\n  /**\n   * Reposition the item horizontally\n   * @param {boolean} [limitSize=true] If true (default), the width of the range\n   *                                   item will be limited, as the browser cannot\n   *                                   display very wide divs. This means though\n   *                                   that the applied left and width may\n   *                                   not correspond to the ranges start and end\n   * @Override\n   */\n  RangeItem.prototype.repositionX = function(limitSize) {\n    var parentWidth = this.parent.width;\n    var start = this.conversion.toScreen(this.data.start);\n    var end = this.conversion.toScreen(this.data.end);\n    var contentLeft;\n    var contentWidth;\n\n    // limit the width of the range, as browsers cannot draw very wide divs\n    if (limitSize === undefined || limitSize === true) {\n      if (start < -parentWidth) {\n        start = -parentWidth;\n      }\n      if (end > 2 * parentWidth) {\n        end = 2 * parentWidth;\n      }\n    }\n    var boxWidth = Math.max(end - start, 1);\n\n    if (this.overflow) {\n      this.left = start;\n      this.width = boxWidth + this.props.content.width;\n      contentWidth = this.props.content.width;\n\n      // Note: The calculation of width is an optimistic calculation, giving\n      //       a width which will not change when moving the Timeline\n      //       So no re-stacking needed, which is nicer for the eye;\n    }\n    else {\n      this.left = start;\n      this.width = boxWidth;\n      contentWidth = Math.min(end - start - 2 * this.options.padding, this.props.content.width);\n    }\n\n    this.dom.box.style.left = this.left + \'px\';\n    this.dom.box.style.width = boxWidth + \'px\';\n\n    switch (this.options.align) {\n      case \'left\':\n        this.dom.content.style.left = \'0\';\n        break;\n\n      case \'right\':\n        this.dom.content.style.left = Math.max((boxWidth - contentWidth - 2 * this.options.padding), 0) + \'px\';\n        break;\n\n      case \'center\':\n        this.dom.content.style.left = Math.max((boxWidth - contentWidth - 2 * this.options.padding) / 2, 0) + \'px\';\n        break;\n\n      default: // \'auto\'\n        // when range exceeds left of the window, position the contents at the left of the visible area\n        if (this.overflow) {\n          if (end > 0) {\n            contentLeft = Math.max(-start, 0);\n          }\n          else {\n            contentLeft = -contentWidth; // ensure it\'s not visible anymore\n          }\n        }\n        else {\n          if (start < 0) {\n            contentLeft = Math.min(-start,\n                (end - start - contentWidth - 2 * this.options.padding));\n            // TODO: remove the need for options.padding. it\'s terrible.\n          }\n          else {\n            contentLeft = 0;\n          }\n        }\n        this.dom.content.style.left = contentLeft + \'px\';\n    }\n  };\n\n  /**\n   * Reposition the item vertically\n   * @Override\n   */\n  RangeItem.prototype.repositionY = function() {\n    var orientation = this.options.orientation,\n        box = this.dom.box;\n\n    if (orientation == \'top\') {\n      box.style.top = this.top + \'px\';\n    }\n    else {\n      box.style.top = (this.parent.height - this.top - this.height) + \'px\';\n    }\n  };\n\n  /**\n   * Repaint a drag area on the left side of the range when the range is selected\n   * @protected\n   */\n  RangeItem.prototype._repaintDragLeft = function () {\n    if (this.selected && this.options.editable.updateTime && !this.dom.dragLeft) {\n      // create and show drag area\n      var dragLeft = document.createElement(\'div\');\n      dragLeft.className = \'drag-left\';\n      dragLeft.dragLeftItem = this;\n\n      // TODO: this should be redundant?\n      Hammer(dragLeft, {\n        preventDefault: true\n      }).on(\'drag\', function () {\n            //console.log(\'drag left\')\n          });\n\n      this.dom.box.appendChild(dragLeft);\n      this.dom.dragLeft = dragLeft;\n    }\n    else if (!this.selected && this.dom.dragLeft) {\n      // delete drag area\n      if (this.dom.dragLeft.parentNode) {\n        this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft);\n      }\n      this.dom.dragLeft = null;\n    }\n  };\n\n  /**\n   * Repaint a drag area on the right side of the range when the range is selected\n   * @protected\n   */\n  RangeItem.prototype._repaintDragRight = function () {\n    if (this.selected && this.options.editable.updateTime && !this.dom.dragRight) {\n      // create and show drag area\n      var dragRight = document.createElement(\'div\');\n      dragRight.className = \'drag-right\';\n      dragRight.dragRightItem = this;\n\n      // TODO: this should be redundant?\n      Hammer(dragRight, {\n        preventDefault: true\n      }).on(\'drag\', function () {\n        //console.log(\'drag right\')\n      });\n\n      this.dom.box.appendChild(dragRight);\n      this.dom.dragRight = dragRight;\n    }\n    else if (!this.selected && this.dom.dragRight) {\n      // delete drag area\n      if (this.dom.dragRight.parentNode) {\n        this.dom.dragRight.parentNode.removeChild(this.dom.dragRight);\n      }\n      this.dom.dragRight = null;\n    }\n  };\n\n  module.exports = RangeItem;\n\n\n/***/ },\n/* 25 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Prototype for visual components\n   * @param {{dom: Object, domProps: Object, emitter: Emitter, range: Range}} [body]\n   * @param {Object} [options]\n   */\n  function Component (body, options) {\n    this.options = null;\n    this.props = null;\n  }\n\n  /**\n   * Set options for the component. The new options will be merged into the\n   * current options.\n   * @param {Object} options\n   */\n  Component.prototype.setOptions = function(options) {\n    if (options) {\n      util.extend(this.options, options);\n    }\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  Component.prototype.redraw = function() {\n    // should be implemented by the component\n    return false;\n  };\n\n  /**\n   * Destroy the component. Cleanup DOM and event listeners\n   */\n  Component.prototype.destroy = function() {\n    // should be implemented by the component\n  };\n\n  /**\n   * Test whether the component is resized since the last time _isResized() was\n   * called.\n   * @return {Boolean} Returns true if the component is resized\n   * @protected\n   */\n  Component.prototype._isResized = function() {\n    var resized = (this.props._previousWidth !== this.props.width ||\n        this.props._previousHeight !== this.props.height);\n\n    this.props._previousWidth = this.props.width;\n    this.props._previousHeight = this.props.height;\n\n    return resized;\n  };\n\n  module.exports = Component;\n\n\n/***/ },\n/* 26 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var Component = __webpack_require__(25);\n  var moment = __webpack_require__(44);\n  var locales = __webpack_require__(48);\n\n  /**\n   * A current time bar\n   * @param {{range: Range, dom: Object, domProps: Object}} body\n   * @param {Object} [options]        Available parameters:\n   *                                  {Boolean} [showCurrentTime]\n   * @constructor CurrentTime\n   * @extends Component\n   */\n  function CurrentTime (body, options) {\n    this.body = body;\n\n    // default options\n    this.defaultOptions = {\n      showCurrentTime: true,\n\n      locales: locales,\n      locale: \'en\'\n    };\n    this.options = util.extend({}, this.defaultOptions);\n    this.offset = 0;\n\n    this._create();\n\n    this.setOptions(options);\n  }\n\n  CurrentTime.prototype = new Component();\n\n  /**\n   * Create the HTML DOM for the current time bar\n   * @private\n   */\n  CurrentTime.prototype._create = function() {\n    var bar = document.createElement(\'div\');\n    bar.className = \'currenttime\';\n    bar.style.position = \'absolute\';\n    bar.style.top = \'0px\';\n    bar.style.height = \'100%\';\n\n    this.bar = bar;\n  };\n\n  /**\n   * Destroy the CurrentTime bar\n   */\n  CurrentTime.prototype.destroy = function () {\n    this.options.showCurrentTime = false;\n    this.redraw(); // will remove the bar from the DOM and stop refreshing\n\n    this.body = null;\n  };\n\n  /**\n   * Set options for the component. Options will be merged in current options.\n   * @param {Object} options  Available parameters:\n   *                          {boolean} [showCurrentTime]\n   */\n  CurrentTime.prototype.setOptions = function(options) {\n    if (options) {\n      // copy all options that we know\n      util.selectiveExtend([\'showCurrentTime\', \'locale\', \'locales\'], this.options, options);\n    }\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  CurrentTime.prototype.redraw = function() {\n    if (this.options.showCurrentTime) {\n      var parent = this.body.dom.backgroundVertical;\n      if (this.bar.parentNode != parent) {\n        // attach to the dom\n        if (this.bar.parentNode) {\n          this.bar.parentNode.removeChild(this.bar);\n        }\n        parent.appendChild(this.bar);\n\n        this.start();\n      }\n\n      var now = new Date(new Date().valueOf() + this.offset);\n      var x = this.body.util.toScreen(now);\n\n      var locale = this.options.locales[this.options.locale];\n      var title = locale.current + \' \' + locale.time + \': \' + moment(now).format(\'dddd, MMMM Do YYYY, H:mm:ss\');\n      title = title.charAt(0).toUpperCase() + title.substring(1);\n\n      this.bar.style.left = x + \'px\';\n      this.bar.title = title;\n    }\n    else {\n      // remove the line from the DOM\n      if (this.bar.parentNode) {\n        this.bar.parentNode.removeChild(this.bar);\n      }\n      this.stop();\n    }\n\n    return false;\n  };\n\n  /**\n   * Start auto refreshing the current time bar\n   */\n  CurrentTime.prototype.start = function() {\n    var me = this;\n\n    function update () {\n      me.stop();\n\n      // determine interval to refresh\n      var scale = me.body.range.conversion(me.body.domProps.center.width).scale;\n      var interval = 1 / scale / 10;\n      if (interval < 30)   interval = 30;\n      if (interval > 1000) interval = 1000;\n\n      me.redraw();\n\n      // start a timer to adjust for the new time\n      me.currentTimeTimer = setTimeout(update, interval);\n    }\n\n    update();\n  };\n\n  /**\n   * Stop auto refreshing the current time bar\n   */\n  CurrentTime.prototype.stop = function() {\n    if (this.currentTimeTimer !== undefined) {\n      clearTimeout(this.currentTimeTimer);\n      delete this.currentTimeTimer;\n    }\n  };\n\n  /**\n   * Set a current time. This can be used for example to ensure that a client\'s\n   * time is synchronized with a shared server time.\n   * @param {Date | String | Number} time     A Date, unix timestamp, or\n   *                                          ISO date string.\n   */\n  CurrentTime.prototype.setCurrentTime = function(time) {\n    var t = util.convert(time, \'Date\').valueOf();\n    var now = new Date().valueOf();\n    this.offset = t - now;\n    this.redraw();\n  };\n\n  /**\n   * Get the current time.\n   * @return {Date} Returns the current time.\n   */\n  CurrentTime.prototype.getCurrentTime = function() {\n    return new Date(new Date().valueOf() + this.offset);\n  };\n\n  module.exports = CurrentTime;\n\n\n/***/ },\n/* 27 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Hammer = __webpack_require__(45);\n  var util = __webpack_require__(1);\n  var Component = __webpack_require__(25);\n  var moment = __webpack_require__(44);\n  var locales = __webpack_require__(48);\n\n  /**\n   * A custom time bar\n   * @param {{range: Range, dom: Object}} body\n   * @param {Object} [options]        Available parameters:\n   *                                  {Boolean} [showCustomTime]\n   * @constructor CustomTime\n   * @extends Component\n   */\n\n  function CustomTime (body, options) {\n    this.body = body;\n\n    // default options\n    this.defaultOptions = {\n      showCustomTime: false,\n      locales: locales,\n      locale: \'en\',\n      id: 0\n    };\n    this.options = util.extend({}, this.defaultOptions);\n\n    if (options && options.time) {\n      this.customTime = options.time;\n    } else {\n      this.customTime = new Date();  \n    }\n    \n    this.eventParams = {}; // stores state parameters while dragging the bar\n\n    // create the DOM\n    this._create();\n\n    this.setOptions(options);\n  }\n\n  CustomTime.prototype = new Component();\n\n  /**\n   * Set options for the component. Options will be merged in current options.\n   * @param {Object} options  Available parameters:\n   *                          {boolean} [showCustomTime]\n   */\n  CustomTime.prototype.setOptions = function(options) {\n    if (options) {\n      // copy all options that we know\n      util.selectiveExtend([\'showCustomTime\', \'locale\', \'locales\', \'id\'], this.options, options);\n\n      // Triggered by addCustomTimeBar, redraw to add new bar\n      if (this.options.id) {\n        this.redraw();\n      }\n    }\n  };\n\n  /**\n   * Create the DOM for the custom time\n   * @private\n   */\n  CustomTime.prototype._create = function() {\n    var bar = document.createElement(\'div\');\n    bar.className = \'customtime\';\n    bar.style.position = \'absolute\';\n    bar.style.top = \'0px\';\n    bar.style.height = \'100%\';\n    this.bar = bar;\n\n    var drag = document.createElement(\'div\');\n    drag.style.position = \'relative\';\n    drag.style.top = \'0px\';\n    drag.style.left = \'-10px\';\n    drag.style.height = \'100%\';\n    drag.style.width = \'20px\';\n    bar.appendChild(drag);\n\n    // attach event listeners\n    this.hammer = Hammer(bar, {\n      prevent_default: true\n    });\n    this.hammer.on(\'dragstart\', this._onDragStart.bind(this));\n    this.hammer.on(\'drag\',      this._onDrag.bind(this));\n    this.hammer.on(\'dragend\',   this._onDragEnd.bind(this));\n  };\n\n  /**\n   * Destroy the CustomTime bar\n   */\n  CustomTime.prototype.destroy = function () {\n    this.options.showCustomTime = false;\n    this.redraw(); // will remove the bar from the DOM\n\n    this.hammer.enable(false);\n    this.hammer = null;\n\n    this.body = null;\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  CustomTime.prototype.redraw = function () {\n    if (this.options.showCustomTime) {\n      var parent = this.body.dom.backgroundVertical;\n      if (this.bar.parentNode != parent) {\n        // attach to the dom\n        if (this.bar.parentNode) {\n          this.bar.parentNode.removeChild(this.bar);\n        }\n        parent.appendChild(this.bar);\n      }\n\n      var x = this.body.util.toScreen(this.customTime);\n\n      var locale = this.options.locales[this.options.locale];\n      var title = locale.time + \': \' + moment(this.customTime).format(\'dddd, MMMM Do YYYY, H:mm:ss\');\n      title = title.charAt(0).toUpperCase() + title.substring(1);\n\n      this.bar.style.left = x + \'px\';\n      this.bar.title = title;\n    }\n    else {\n      // remove the line from the DOM\n      if (this.bar.parentNode) {\n        this.bar.parentNode.removeChild(this.bar);\n      }\n    }\n\n    return false;\n  };\n\n  /**\n   * Set custom time.\n   * @param {Date | number | string} time\n   */\n  CustomTime.prototype.setCustomTime = function(time) {\n    this.customTime = util.convert(time, \'Date\');\n    this.redraw();\n  };\n\n  /**\n   * Retrieve the current custom time.\n   * @return {Date} customTime\n   */\n  CustomTime.prototype.getCustomTime = function() {\n    return new Date(this.customTime.valueOf());\n  };\n\n  /**\n   * Start moving horizontally\n   * @param {Event} event\n   * @private\n   */\n  CustomTime.prototype._onDragStart = function(event) {\n    this.eventParams.dragging = true;\n    this.eventParams.customTime = this.customTime;\n\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  /**\n   * Perform moving operating.\n   * @param {Event} event\n   * @private\n   */\n  CustomTime.prototype._onDrag = function (event) {\n    if (!this.eventParams.dragging) return;\n\n    var deltaX = event.gesture.deltaX,\n        x = this.body.util.toScreen(this.eventParams.customTime) + deltaX,\n        time = this.body.util.toTime(x);\n\n    this.setCustomTime(time);\n\n    // fire a timechange event\n    this.body.emitter.emit(\'timechange\', {\n      id: this.options.id,\n      time: new Date(this.customTime.valueOf())\n    });\n\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  /**\n   * Stop moving operating.\n   * @param {event} event\n   * @private\n   */\n  CustomTime.prototype._onDragEnd = function (event) {\n    if (!this.eventParams.dragging) return;\n\n    // fire a timechanged event\n    this.body.emitter.emit(\'timechanged\', {\n      id: this.options.id,\n      time: new Date(this.customTime.valueOf())\n    });\n\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  module.exports = CustomTime;\n\n\n/***/ },\n/* 28 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var DOMutil = __webpack_require__(2);\n  var Component = __webpack_require__(25);\n  var DataStep = __webpack_require__(16);\n\n  /**\n   * A horizontal time axis\n   * @param {Object} [options]        See DataAxis.setOptions for the available\n   *                                  options.\n   * @constructor DataAxis\n   * @extends Component\n   * @param body\n   */\n  function DataAxis (body, options, svg, linegraphOptions) {\n    this.id = util.randomUUID();\n    this.body = body;\n\n    this.defaultOptions = {\n      orientation: \'left\',  // supported: \'left\', \'right\'\n      showMinorLabels: true,\n      showMajorLabels: true,\n      icons: true,\n      majorLinesOffset: 7,\n      minorLinesOffset: 4,\n      labelOffsetX: 10,\n      labelOffsetY: 2,\n      iconWidth: 20,\n      width: \'40px\',\n      visible: true,\n      alignZeros: true,\n      customRange: {\n        left: {min:undefined, max:undefined},\n        right: {min:undefined, max:undefined}\n      },\n      title: {\n        left: {text:undefined},\n        right: {text:undefined}\n      },\n      format: {\n        left: {decimals: undefined},\n        right: {decimals: undefined}\n      }\n    };\n\n    this.linegraphOptions = linegraphOptions;\n    this.linegraphSVG = svg;\n    this.props = {};\n    this.DOMelements = { // dynamic elements\n      lines: {},\n      labels: {},\n      title: {}\n    };\n\n    this.dom = {};\n\n    this.range = {start:0, end:0};\n\n    this.options = util.extend({}, this.defaultOptions);\n    this.conversionFactor = 1;\n\n    this.setOptions(options);\n    this.width = Number((\'\' + this.options.width).replace("px",""));\n    this.minWidth = this.width;\n    this.height = this.linegraphSVG.offsetHeight;\n    this.hidden = false;\n\n    this.stepPixels = 25;\n    this.stepPixelsForced = 25;\n    this.zeroCrossing = -1;\n\n    this.lineOffset = 0;\n    this.master = true;\n    this.svgElements = {};\n    this.iconsRemoved = false;\n\n\n    this.groups = {};\n    this.amountOfGroups = 0;\n\n    // create the HTML DOM\n    this._create();\n\n    var me = this;\n    this.body.emitter.on("verticalDrag", function() {\n      me.dom.lineContainer.style.top = me.body.domProps.scrollTop + \'px\';\n    });\n  }\n\n  DataAxis.prototype = new Component();\n\n\n  DataAxis.prototype.addGroup = function(label, graphOptions) {\n    if (!this.groups.hasOwnProperty(label)) {\n      this.groups[label] = graphOptions;\n    }\n    this.amountOfGroups += 1;\n  };\n\n  DataAxis.prototype.updateGroup = function(label, graphOptions) {\n    this.groups[label] = graphOptions;\n  };\n\n  DataAxis.prototype.removeGroup = function(label) {\n    if (this.groups.hasOwnProperty(label)) {\n      delete this.groups[label];\n      this.amountOfGroups -= 1;\n    }\n  };\n\n\n  DataAxis.prototype.setOptions = function (options) {\n    if (options) {\n      var redraw = false;\n      if (this.options.orientation != options.orientation && options.orientation !== undefined) {\n        redraw = true;\n      }\n      var fields = [\n        \'orientation\',\n        \'showMinorLabels\',\n        \'showMajorLabels\',\n        \'icons\',\n        \'majorLinesOffset\',\n        \'minorLinesOffset\',\n        \'labelOffsetX\',\n        \'labelOffsetY\',\n        \'iconWidth\',\n        \'width\',\n        \'visible\',\n        \'customRange\',\n        \'title\',\n        \'format\',\n        \'alignZeros\'\n      ];\n      util.selectiveExtend(fields, this.options, options);\n\n      this.minWidth = Number((\'\' + this.options.width).replace("px",""));\n\n      if (redraw == true && this.dom.frame) {\n        this.hide();\n        this.show();\n      }\n    }\n  };\n\n\n  /**\n   * Create the HTML DOM for the DataAxis\n   */\n  DataAxis.prototype._create = function() {\n    this.dom.frame = document.createElement(\'div\');\n    this.dom.frame.style.width = this.options.width;\n    this.dom.frame.style.height = this.height;\n\n    this.dom.lineContainer = document.createElement(\'div\');\n    this.dom.lineContainer.style.width = \'100%\';\n    this.dom.lineContainer.style.height = this.height;\n    this.dom.lineContainer.style.position = \'relative\';\n\n    // create svg element for graph drawing.\n    this.svg = document.createElementNS(\'http://www.w3.org/2000/svg\',"svg");\n    this.svg.style.position = "absolute";\n    this.svg.style.top = \'0px\';\n    this.svg.style.height = \'100%\';\n    this.svg.style.width = \'100%\';\n    this.svg.style.display = "block";\n    this.dom.frame.appendChild(this.svg);\n  };\n\n  DataAxis.prototype._redrawGroupIcons = function () {\n    DOMutil.prepareElements(this.svgElements);\n\n    var x;\n    var iconWidth = this.options.iconWidth;\n    var iconHeight = 15;\n    var iconOffset = 4;\n    var y = iconOffset + 0.5 * iconHeight;\n\n    if (this.options.orientation == \'left\') {\n      x = iconOffset;\n    }\n    else {\n      x = this.width - iconWidth - iconOffset;\n    }\n\n    for (var groupId in this.groups) {\n      if (this.groups.hasOwnProperty(groupId)) {\n        if (this.groups[groupId].visible == true && (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] == true)) {\n          this.groups[groupId].drawIcon(x, y, this.svgElements, this.svg, iconWidth, iconHeight);\n          y += iconHeight + iconOffset;\n        }\n      }\n    }\n\n    DOMutil.cleanupElements(this.svgElements);\n    this.iconsRemoved = false;\n  };\n\n  DataAxis.prototype._cleanupIcons = function() {\n    if (this.iconsRemoved == false) {\n      DOMutil.prepareElements(this.svgElements);\n      DOMutil.cleanupElements(this.svgElements);\n      this.iconsRemoved = true;\n    }\n  }\n\n  /**\n   * Create the HTML DOM for the DataAxis\n   */\n  DataAxis.prototype.show = function() {\n    this.hidden = false;\n    if (!this.dom.frame.parentNode) {\n      if (this.options.orientation == \'left\') {\n        this.body.dom.left.appendChild(this.dom.frame);\n      }\n      else {\n        this.body.dom.right.appendChild(this.dom.frame);\n      }\n    }\n\n    if (!this.dom.lineContainer.parentNode) {\n      this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer);\n    }\n  };\n\n  /**\n   * Create the HTML DOM for the DataAxis\n   */\n  DataAxis.prototype.hide = function() {\n    this.hidden = true;\n    if (this.dom.frame.parentNode) {\n      this.dom.frame.parentNode.removeChild(this.dom.frame);\n    }\n\n    if (this.dom.lineContainer.parentNode) {\n      this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer);\n    }\n  };\n\n  /**\n   * Set a range (start and end)\n   * @param end\n   * @param start\n   * @param end\n   */\n  DataAxis.prototype.setRange = function (start, end) {\n    if (this.master == false && this.options.alignZeros == true && this.zeroCrossing != -1) {\n      if (start > 0) {\n        start = 0;\n      }\n    }\n    this.range.start = start;\n    this.range.end = end;\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  DataAxis.prototype.redraw = function () {\n    var resized = false;\n    var activeGroups = 0;\n    \n    // Make sure the line container adheres to the vertical scrolling.\n    this.dom.lineContainer.style.top = this.body.domProps.scrollTop + \'px\';\n\n    for (var groupId in this.groups) {\n      if (this.groups.hasOwnProperty(groupId)) {\n        if (this.groups[groupId].visible == true && (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] == true)) {\n          activeGroups++;\n        }\n      }\n    }\n    if (this.amountOfGroups == 0 || activeGroups == 0) {\n      this.hide();\n    }\n    else {\n      this.show();\n      this.height = Number(this.linegraphSVG.style.height.replace("px",""));\n\n      // svg offsetheight did not work in firefox and explorer...\n      this.dom.lineContainer.style.height = this.height + \'px\';\n      this.width = this.options.visible == true ? Number((\'\' + this.options.width).replace("px","")) : 0;\n\n      var props = this.props;\n      var frame = this.dom.frame;\n\n      // update classname\n      frame.className = \'dataaxis\';\n\n      // calculate character width and height\n      this._calculateCharSize();\n\n      var orientation = this.options.orientation;\n      var showMinorLabels = this.options.showMinorLabels;\n      var showMajorLabels = this.options.showMajorLabels;\n\n      // determine the width and height of the elements for the axis\n      props.minorLabelHeight = showMinorLabels ? props.minorCharHeight : 0;\n      props.majorLabelHeight = showMajorLabels ? props.majorCharHeight : 0;\n\n      props.minorLineWidth = this.body.dom.backgroundHorizontal.offsetWidth - this.lineOffset - this.width + 2 * this.options.minorLinesOffset;\n      props.minorLineHeight = 1;\n      props.majorLineWidth = this.body.dom.backgroundHorizontal.offsetWidth - this.lineOffset - this.width + 2 * this.options.majorLinesOffset;\n      props.majorLineHeight = 1;\n\n      //  take frame offline while updating (is almost twice as fast)\n      if (orientation == \'left\') {\n        frame.style.top = \'0\';\n        frame.style.left = \'0\';\n        frame.style.bottom = \'\';\n        frame.style.width = this.width + \'px\';\n        frame.style.height = this.height + "px";\n        this.props.width = this.body.domProps.left.width;\n        this.props.height = this.body.domProps.left.height;\n      }\n      else { // right\n        frame.style.top = \'\';\n        frame.style.bottom = \'0\';\n        frame.style.left = \'0\';\n        frame.style.width = this.width + \'px\';\n        frame.style.height = this.height + "px";\n        this.props.width = this.body.domProps.right.width;\n        this.props.height = this.body.domProps.right.height;\n      }\n\n      resized = this._redrawLabels();\n      resized = this._isResized() || resized;\n\n      if (this.options.icons == true) {\n        this._redrawGroupIcons();\n      }\n      else {\n        this._cleanupIcons();\n      }\n\n      this._redrawTitle(orientation);\n    }\n    return resized;\n  };\n\n  /**\n   * Repaint major and minor text labels and vertical grid lines\n   * @private\n   */\n  DataAxis.prototype._redrawLabels = function () {\n    var resized = false;\n    DOMutil.prepareElements(this.DOMelements.lines);\n    DOMutil.prepareElements(this.DOMelements.labels);\n\n    var orientation = this.options[\'orientation\'];\n\n    // calculate range and step (step such that we have space for 7 characters per label)\n    var minimumStep = this.master ? this.props.majorCharHeight || 10 : this.stepPixelsForced;\n\n    var step = new DataStep(\n      this.range.start,\n      this.range.end,\n      minimumStep,\n      this.dom.frame.offsetHeight,\n      this.options.customRange[this.options.orientation],\n      this.master == false && this.options.alignZeros       // doess the step have to align zeros? only if not master and the options is on\n    );\n\n    this.step = step;\n    // get the distance in pixels for a step\n    // dead space is space that is "left over" after a step\n    var stepPixels = (this.dom.frame.offsetHeight - (step.deadSpace * (this.dom.frame.offsetHeight / step.marginRange))) / (((step.marginRange - step.deadSpace) / step.step));\n\n    this.stepPixels = stepPixels;\n\n    var amountOfSteps = this.height / stepPixels;\n    var stepDifference = 0;\n\n    // the slave axis needs to use the same horizontal lines as the master axis.\n    if (this.master == false) {\n      stepPixels = this.stepPixelsForced;\n      stepDifference = Math.round((this.dom.frame.offsetHeight / stepPixels) - amountOfSteps);\n      for (var i = 0; i < 0.5 * stepDifference; i++) {\n        step.previous();\n      }\n      amountOfSteps = this.height / stepPixels;\n\n      if (this.zeroCrossing != -1 && this.options.alignZeros == true) {\n        var zeroStepDifference = (step.marginEnd / step.step) - this.zeroCrossing;\n        if (zeroStepDifference > 0) {\n          for (var i = 0; i < zeroStepDifference; i++) {step.next();}\n        }\n        else if (zeroStepDifference < 0) {\n          for (var i = 0; i < -zeroStepDifference; i++) {step.previous();}\n        }\n      }\n    }\n    else {\n      amountOfSteps += 0.25;\n    }\n\n\n    this.valueAtZero = step.marginEnd;\n    var marginStartPos = 0;\n\n    // do not draw the first label\n    var max = 1;\n\n    // Get the number of decimal places\n    var decimals;\n    if(this.options.format[orientation] !== undefined) {\n      decimals = this.options.format[orientation].decimals;\n    }\n\n    this.maxLabelSize = 0;\n    var y = 0;\n    while (max < Math.round(amountOfSteps)) {\n      step.next();\n      y = Math.round(max * stepPixels);\n      marginStartPos = max * stepPixels;\n      var isMajor = step.isMajor();\n\n      if (this.options[\'showMinorLabels\'] && isMajor == false || this.master == false && this.options[\'showMinorLabels\'] == true) {\n        this._redrawLabel(y - 2, step.getCurrent(decimals), orientation, \'yAxis minor\', this.props.minorCharHeight);\n      }\n\n      if (isMajor && this.options[\'showMajorLabels\'] && this.master == true ||\n          this.options[\'showMinorLabels\'] == false && this.master == false && isMajor == true) {\n        if (y >= 0) {\n          this._redrawLabel(y - 2, step.getCurrent(decimals), orientation, \'yAxis major\', this.props.majorCharHeight);\n        }\n        this._redrawLine(y, orientation, \'grid horizontal major\', this.options.majorLinesOffset, this.props.majorLineWidth);\n      }\n      else {\n        this._redrawLine(y, orientation, \'grid horizontal minor\', this.options.minorLinesOffset, this.props.minorLineWidth);\n      }\n\n      if (this.master == true && step.current == 0) {\n        this.zeroCrossing = max;\n      }\n\n      max++;\n    }\n\n    if (this.master == false) {\n      this.conversionFactor = y / (this.valueAtZero - step.current);\n    }\n    else {\n      this.conversionFactor = this.dom.frame.offsetHeight / step.marginRange;\n    }\n\n    // Note that title is rotated, so we\'re using the height, not width!\n    var titleWidth = 0;\n    if (this.options.title[orientation] !== undefined && this.options.title[orientation].text !== undefined) {\n      titleWidth = this.props.titleCharHeight;\n    }\n    var offset = this.options.icons == true ? Math.max(this.options.iconWidth, titleWidth) + this.options.labelOffsetX + 15 : titleWidth + this.options.labelOffsetX + 15;\n\n    // this will resize the yAxis to accommodate the labels.\n    if (this.maxLabelSize > (this.width - offset) && this.options.visible == true) {\n      this.width = this.maxLabelSize + offset;\n      this.options.width = this.width + "px";\n      DOMutil.cleanupElements(this.DOMelements.lines);\n      DOMutil.cleanupElements(this.DOMelements.labels);\n      this.redraw();\n      resized = true;\n    }\n    // this will resize the yAxis if it is too big for the labels.\n    else if (this.maxLabelSize < (this.width - offset) && this.options.visible == true && this.width > this.minWidth) {\n      this.width = Math.max(this.minWidth,this.maxLabelSize + offset);\n      this.options.width = this.width + "px";\n      DOMutil.cleanupElements(this.DOMelements.lines);\n      DOMutil.cleanupElements(this.DOMelements.labels);\n      this.redraw();\n      resized = true;\n    }\n    else {\n      DOMutil.cleanupElements(this.DOMelements.lines);\n      DOMutil.cleanupElements(this.DOMelements.labels);\n      resized = false;\n    }\n\n    return resized;\n  };\n\n  DataAxis.prototype.convertValue = function (value) {\n    var invertedValue = this.valueAtZero - value;\n    var convertedValue = invertedValue * this.conversionFactor;\n    return convertedValue;\n  };\n\n  DataAxis.prototype.screenToValue = function (x) {\n    return this.valueAtZero - (x / this.conversionFactor);\n  };\n\n  /**\n   * Create a label for the axis at position x\n   * @private\n   * @param y\n   * @param text\n   * @param orientation\n   * @param className\n   * @param characterHeight\n   */\n  DataAxis.prototype._redrawLabel = function (y, text, orientation, className, characterHeight) {\n    // reuse redundant label\n    var label = DOMutil.getDOMElement(\'div\',this.DOMelements.labels, this.dom.frame); //this.dom.redundant.labels.shift();\n    label.className = className;\n    label.innerHTML = text;\n    if (orientation == \'left\') {\n      label.style.left = \'-\' + this.options.labelOffsetX + \'px\';\n      label.style.textAlign = "right";\n    }\n    else {\n      label.style.right = \'-\' + this.options.labelOffsetX + \'px\';\n      label.style.textAlign = "left";\n    }\n\n    label.style.top = y - 0.5 * characterHeight + this.options.labelOffsetY + \'px\';\n\n    text += \'\';\n\n    var largestWidth = Math.max(this.props.majorCharWidth,this.props.minorCharWidth);\n    if (this.maxLabelSize < text.length * largestWidth) {\n      this.maxLabelSize = text.length * largestWidth;\n    }\n  };\n\n  /**\n   * Create a minor line for the axis at position y\n   * @param y\n   * @param orientation\n   * @param className\n   * @param offset\n   * @param width\n   */\n  DataAxis.prototype._redrawLine = function (y, orientation, className, offset, width) {\n    if (this.master == true) {\n      var line = DOMutil.getDOMElement(\'div\',this.DOMelements.lines, this.dom.lineContainer);//this.dom.redundant.lines.shift();\n      line.className = className;\n      line.innerHTML = \'\';\n\n      if (orientation == \'left\') {\n        line.style.left = (this.width - offset) + \'px\';\n      }\n      else {\n        line.style.right = (this.width - offset) + \'px\';\n      }\n\n      line.style.width = width + \'px\';\n      line.style.top = y + \'px\';\n    }\n  };\n\n  /**\n   * Create a title for the axis\n   * @private\n   * @param orientation\n   */\n  DataAxis.prototype._redrawTitle = function (orientation) {\n    DOMutil.prepareElements(this.DOMelements.title);\n\n    // Check if the title is defined for this axes\n    if (this.options.title[orientation] !== undefined && this.options.title[orientation].text !== undefined) {\n      var title = DOMutil.getDOMElement(\'div\', this.DOMelements.title, this.dom.frame);\n      title.className = \'yAxis title \' + orientation;\n      title.innerHTML = this.options.title[orientation].text;\n\n      // Add style - if provided\n      if (this.options.title[orientation].style !== undefined) {\n        util.addCssText(title, this.options.title[orientation].style);\n      }\n\n      if (orientation == \'left\') {\n        title.style.left = this.props.titleCharHeight + \'px\';\n      }\n      else {\n        title.style.right = this.props.titleCharHeight + \'px\';\n      }\n\n      title.style.width = this.height + \'px\';\n    }\n\n    // we need to clean up in case we did not use all elements.\n    DOMutil.cleanupElements(this.DOMelements.title);\n  };\n\n\n\n\n  /**\n   * Determine the size of text on the axis (both major and minor axis).\n   * The size is calculated only once and then cached in this.props.\n   * @private\n   */\n  DataAxis.prototype._calculateCharSize = function () {\n    // determine the char width and height on the minor axis\n    if (!(\'minorCharHeight\' in this.props)) {\n      var textMinor = document.createTextNode(\'0\');\n      var measureCharMinor = document.createElement(\'div\');\n      measureCharMinor.className = \'yAxis minor measure\';\n      measureCharMinor.appendChild(textMinor);\n      this.dom.frame.appendChild(measureCharMinor);\n\n      this.props.minorCharHeight = measureCharMinor.clientHeight;\n      this.props.minorCharWidth = measureCharMinor.clientWidth;\n\n      this.dom.frame.removeChild(measureCharMinor);\n    }\n\n    if (!(\'majorCharHeight\' in this.props)) {\n      var textMajor = document.createTextNode(\'0\');\n      var measureCharMajor = document.createElement(\'div\');\n      measureCharMajor.className = \'yAxis major measure\';\n      measureCharMajor.appendChild(textMajor);\n      this.dom.frame.appendChild(measureCharMajor);\n\n      this.props.majorCharHeight = measureCharMajor.clientHeight;\n      this.props.majorCharWidth = measureCharMajor.clientWidth;\n\n      this.dom.frame.removeChild(measureCharMajor);\n    }\n\n    if (!(\'titleCharHeight\' in this.props)) {\n      var textTitle = document.createTextNode(\'0\');\n      var measureCharTitle = document.createElement(\'div\');\n      measureCharTitle.className = \'yAxis title measure\';\n      measureCharTitle.appendChild(textTitle);\n      this.dom.frame.appendChild(measureCharTitle);\n\n      this.props.titleCharHeight = measureCharTitle.clientHeight;\n      this.props.titleCharWidth = measureCharTitle.clientWidth;\n\n      this.dom.frame.removeChild(measureCharTitle);\n    }\n  };\n\n  module.exports = DataAxis;\n\n\n/***/ },\n/* 29 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var DOMutil = __webpack_require__(2);\n  var Line = __webpack_require__(49);\n  var Bar = __webpack_require__(50);\n  var Points = __webpack_require__(51);\n\n  /**\n   * /**\n   * @param {object} group            | the object of the group from the dataset\n   * @param {string} groupId          | ID of the group\n   * @param {object} options          | the default options\n   * @param {array} groupsUsingDefaultStyles  | this array has one entree.\n   *                                            It is passed as an array so it is passed by reference.\n   *                                            It enumerates through the default styles\n   * @constructor\n   */\n  function GraphGroup (group, groupId, options, groupsUsingDefaultStyles) {\n    this.id = groupId;\n    var fields = [\'sampling\',\'style\',\'sort\',\'yAxisOrientation\',\'barChart\',\'drawPoints\',\'shaded\',\'catmullRom\']\n    this.options = util.selectiveBridgeObject(fields,options);\n    this.usingDefaultStyle = group.className === undefined;\n    this.groupsUsingDefaultStyles = groupsUsingDefaultStyles;\n    this.zeroPosition = 0;\n    this.update(group);\n    if (this.usingDefaultStyle == true) {\n      this.groupsUsingDefaultStyles[0] += 1;\n    }\n    this.itemsData = [];\n    this.visible = group.visible === undefined ? true : group.visible;\n  }\n\n\n  /**\n   * this loads a reference to all items in this group into this group.\n   * @param {array} items\n   */\n  GraphGroup.prototype.setItems = function(items) {\n    if (items != null) {\n      this.itemsData = items;\n      if (this.options.sort == true) {\n        this.itemsData.sort(function (a,b) {return a.x - b.x;})\n      }\n    }\n    else {\n      this.itemsData = [];\n    }\n  };\n\n\n  /**\n   * this is used for plotting barcharts, this way, we only have to calculate it once.\n   * @param pos\n   */\n  GraphGroup.prototype.setZeroPosition = function(pos) {\n    this.zeroPosition = pos;\n  };\n\n\n  /**\n   * set the options of the graph group over the default options.\n   * @param options\n   */\n  GraphGroup.prototype.setOptions = function(options) {\n    if (options !== undefined) {\n      var fields = [\'sampling\',\'style\',\'sort\',\'yAxisOrientation\',\'barChart\'];\n      util.selectiveDeepExtend(fields, this.options, options);\n\n      util.mergeOptions(this.options, options,\'catmullRom\');\n      util.mergeOptions(this.options, options,\'drawPoints\');\n      util.mergeOptions(this.options, options,\'shaded\');\n\n      if (options.catmullRom) {\n        if (typeof options.catmullRom == \'object\') {\n          if (options.catmullRom.parametrization) {\n            if (options.catmullRom.parametrization == \'uniform\') {\n              this.options.catmullRom.alpha = 0;\n            }\n            else if (options.catmullRom.parametrization == \'chordal\') {\n              this.options.catmullRom.alpha = 1.0;\n            }\n            else {\n              this.options.catmullRom.parametrization = \'centripetal\';\n              this.options.catmullRom.alpha = 0.5;\n            }\n          }\n        }\n      }\n    }\n\n    if (this.options.style == \'line\') {\n      this.type = new Line(this.id, this.options);\n    }\n    else if (this.options.style == \'bar\') {\n      this.type = new Bar(this.id, this.options);\n    }\n    else if (this.options.style == \'points\') {\n      this.type = new Points(this.id, this.options);\n    }\n  };\n\n\n  /**\n   * this updates the current group class with the latest group dataset entree, used in _updateGroup in linegraph\n   * @param group\n   */\n  GraphGroup.prototype.update = function(group) {\n    this.group = group;\n    this.content = group.content || \'graph\';\n    this.className = group.className || this.className || "graphGroup" + this.groupsUsingDefaultStyles[0] % 10;\n    this.visible = group.visible === undefined ? true : group.visible;\n    this.style = group.style;\n    this.setOptions(group.options);\n  };\n\n\n  /**\n   * draw the icon for the legend.\n   *\n   * @param x\n   * @param y\n   * @param JSONcontainer\n   * @param SVGcontainer\n   * @param iconWidth\n   * @param iconHeight\n   */\n  GraphGroup.prototype.drawIcon = function(x, y, JSONcontainer, SVGcontainer, iconWidth, iconHeight) {\n    var fillHeight = iconHeight * 0.5;\n    var path, fillPath;\n\n    var outline = DOMutil.getSVGElement("rect", JSONcontainer, SVGcontainer);\n    outline.setAttributeNS(null, "x", x);\n    outline.setAttributeNS(null, "y", y - fillHeight);\n    outline.setAttributeNS(null, "width", iconWidth);\n    outline.setAttributeNS(null, "height", 2*fillHeight);\n    outline.setAttributeNS(null, "class", "outline");\n\n    if (this.options.style == \'line\') {\n      path = DOMutil.getSVGElement("path", JSONcontainer, SVGcontainer);\n      path.setAttributeNS(null, "class", this.className);\n      if(this.style !== undefined) {\n        path.setAttributeNS(null, "style", this.style);\n      }\n\n      path.setAttributeNS(null, "d", "M" + x + ","+y+" L" + (x + iconWidth) + ","+y+"");\n      if (this.options.shaded.enabled == true) {\n        fillPath = DOMutil.getSVGElement("path", JSONcontainer, SVGcontainer);\n        if (this.options.shaded.orientation == \'top\') {\n          fillPath.setAttributeNS(null, "d", "M"+x+", " + (y - fillHeight) +\n            "L"+x+","+y+" L"+ (x + iconWidth) + ","+y+" L"+ (x + iconWidth) + "," + (y - fillHeight));\n        }\n        else {\n          fillPath.setAttributeNS(null, "d", "M"+x+","+y+" " +\n            "L"+x+"," + (y + fillHeight) + " " +\n            "L"+ (x + iconWidth) + "," + (y + fillHeight) +\n            "L"+ (x + iconWidth) + ","+y);\n        }\n        fillPath.setAttributeNS(null, "class", this.className + " iconFill");\n      }\n\n      if (this.options.drawPoints.enabled == true) {\n        DOMutil.drawPoint(x + 0.5 * iconWidth,y, this, JSONcontainer, SVGcontainer);\n      }\n    }\n    else {\n      var barWidth = Math.round(0.3 * iconWidth);\n      var bar1Height = Math.round(0.4 * iconHeight);\n      var bar2Height = Math.round(0.75 * iconHeight);\n\n      var offset = Math.round((iconWidth - (2 * barWidth))/3);\n\n      DOMutil.drawBar(x + 0.5*barWidth + offset    , y + fillHeight - bar1Height - 1, barWidth, bar1Height, this.className + \' bar\', JSONcontainer, SVGcontainer);\n      DOMutil.drawBar(x + 1.5*barWidth + offset + 2, y + fillHeight - bar2Height - 1, barWidth, bar2Height, this.className + \' bar\', JSONcontainer, SVGcontainer);\n    }\n  };\n\n\n  /**\n   * return the legend entree for this group.\n   *\n   * @param iconWidth\n   * @param iconHeight\n   * @returns {{icon: HTMLElement, label: (group.content|*|string), orientation: (.options.yAxisOrientation|*)}}\n   */\n  GraphGroup.prototype.getLegend = function(iconWidth, iconHeight) {\n    var svg = document.createElementNS(\'http://www.w3.org/2000/svg\',"svg");\n    this.drawIcon(0,0.5*iconHeight,[],svg,iconWidth,iconHeight);\n    return {icon: svg, label: this.content, orientation:this.options.yAxisOrientation};\n  }\n\n  GraphGroup.prototype.getYRange = function(groupData) {\n    return this.type.getYRange(groupData);\n  }\n\n  GraphGroup.prototype.draw = function(dataset, group, framework) {\n    this.type.draw(dataset, group, framework);\n  }\n\n\n  module.exports = GraphGroup;\n\n\n/***/ },\n/* 30 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var stack = __webpack_require__(18);\n  var RangeItem = __webpack_require__(24);\n\n  /**\n   * @constructor Group\n   * @param {Number | String} groupId\n   * @param {Object} data\n   * @param {ItemSet} itemSet\n   */\n  function Group (groupId, data, itemSet) {\n    this.groupId = groupId;\n    this.subgroups = {};\n    this.subgroupIndex = 0;\n    this.subgroupOrderer = data && data.subgroupOrder;\n    this.itemSet = itemSet;\n\n    this.dom = {};\n    this.props = {\n      label: {\n        width: 0,\n        height: 0\n      }\n    };\n    this.className = null;\n\n    this.items = {};        // items filtered by groupId of this group\n    this.visibleItems = []; // items currently visible in window\n    this.orderedItems = {\n      byStart: [],\n      byEnd: []\n    };\n    this.checkRangedItems = false; // needed to refresh the ranged items if the window is programatically changed with NO overlap.\n    var me = this;\n    this.itemSet.body.emitter.on("checkRangedItems", function () {\n      me.checkRangedItems = true;\n    })\n\n    this._create();\n\n    this.setData(data);\n  }\n\n  /**\n   * Create DOM elements for the group\n   * @private\n   */\n  Group.prototype._create = function() {\n    var label = document.createElement(\'div\');\n    label.className = \'vlabel\';\n    this.dom.label = label;\n\n    var inner = document.createElement(\'div\');\n    inner.className = \'inner\';\n    label.appendChild(inner);\n    this.dom.inner = inner;\n\n    var foreground = document.createElement(\'div\');\n    foreground.className = \'group\';\n    foreground[\'timeline-group\'] = this;\n    this.dom.foreground = foreground;\n\n    this.dom.background = document.createElement(\'div\');\n    this.dom.background.className = \'group\';\n\n    this.dom.axis = document.createElement(\'div\');\n    this.dom.axis.className = \'group\';\n\n    // create a hidden marker to detect when the Timelines container is attached\n    // to the DOM, or the style of a parent of the Timeline is changed from\n    // display:none is changed to visible.\n    this.dom.marker = document.createElement(\'div\');\n    this.dom.marker.style.visibility = \'hidden\'; // TODO: ask jos why this is not none?\n    this.dom.marker.innerHTML = \'?\';\n    this.dom.background.appendChild(this.dom.marker);\n  };\n\n  /**\n   * Set the group data for this group\n   * @param {Object} data   Group data, can contain properties content and className\n   */\n  Group.prototype.setData = function(data) {\n    // update contents\n    var content = data && data.content;\n    if (content instanceof Element) {\n      this.dom.inner.appendChild(content);\n    }\n    else if (content !== undefined && content !== null) {\n      this.dom.inner.innerHTML = content;\n    }\n    else {\n      this.dom.inner.innerHTML = this.groupId || \'\'; // groupId can be null\n    }\n\n    // update title\n    this.dom.label.title = data && data.title || \'\';\n\n    if (!this.dom.inner.firstChild) {\n      util.addClassName(this.dom.inner, \'hidden\');\n    }\n    else {\n      util.removeClassName(this.dom.inner, \'hidden\');\n    }\n\n    // update className\n    var className = data && data.className || null;\n    if (className != this.className) {\n      if (this.className) {\n        util.removeClassName(this.dom.label, this.className);\n        util.removeClassName(this.dom.foreground, this.className);\n        util.removeClassName(this.dom.background, this.className);\n        util.removeClassName(this.dom.axis, this.className);\n      }\n      util.addClassName(this.dom.label, className);\n      util.addClassName(this.dom.foreground, className);\n      util.addClassName(this.dom.background, className);\n      util.addClassName(this.dom.axis, className);\n      this.className = className;\n    }\n\n    // update style\n    if (this.style) {\n      util.removeCssText(this.dom.label, this.style);\n      this.style = null;\n    }\n    if (data && data.style) {\n      util.addCssText(this.dom.label, data.style);\n      this.style = data.style;\n    }\n  };\n\n  /**\n   * Get the width of the group label\n   * @return {number} width\n   */\n  Group.prototype.getLabelWidth = function() {\n    return this.props.label.width;\n  };\n\n\n  /**\n   * Repaint this group\n   * @param {{start: number, end: number}} range\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   * @param {boolean} [restack=false]  Force restacking of all items\n   * @return {boolean} Returns true if the group is resized\n   */\n  Group.prototype.redraw = function(range, margin, restack) {\n    var resized = false;\n\n    // force recalculation of the height of the items when the marker height changed\n    // (due to the Timeline being attached to the DOM or changed from display:none to visible)\n    var markerHeight = this.dom.marker.clientHeight;\n    if (markerHeight != this.lastMarkerHeight) {\n      this.lastMarkerHeight = markerHeight;\n\n      util.forEach(this.items, function (item) {\n        item.dirty = true;\n        if (item.displayed) item.redraw();\n      });\n\n      restack = true;\n    }\n\n    // reposition visible items vertically\n    if (typeof this.itemSet.options.order === \'function\') {\n      // a custom order function\n\n      if (restack) {\n        // brute force restack of all items\n\n        // show all items\n        var me = this;\n        var limitSize = false;\n        util.forEach(this.items, function (item) {\n          if (!item.displayed) {\n            item.redraw();\n            me.visibleItems.push(item);\n          }\n          item.repositionX(limitSize);\n        });\n\n        // order all items and force a restacking\n        var customOrderedItems = this.orderedItems.byStart.slice().sort(function (a, b) {\n          return me.itemSet.options.order(a.data, b.data);\n        });\n        stack.stack(customOrderedItems, margin, true /* restack=true */);\n      }\n\n      this.visibleItems = this._updateVisibleItems(this.orderedItems, this.visibleItems, range);\n    }\n    else {\n      // no custom order function, lazy stacking\n      this.visibleItems = this._updateVisibleItems(this.orderedItems, this.visibleItems, range);\n\n      if (this.itemSet.options.stack) { // TODO: ugly way to access options...\n        stack.stack(this.visibleItems, margin, restack);\n      }\n      else { // no stacking\n        stack.nostack(this.visibleItems, margin, this.subgroups);\n      }\n    }\n\n    // recalculate the height of the group\n    var height = this._calculateHeight(margin);\n\n    // calculate actual size and position\n    var foreground = this.dom.foreground;\n    this.top = foreground.offsetTop;\n    this.left = foreground.offsetLeft;\n    this.width = foreground.offsetWidth;\n    resized = util.updateProperty(this, \'height\', height) || resized;\n\n    // recalculate size of label\n    resized = util.updateProperty(this.props.label, \'width\', this.dom.inner.clientWidth) || resized;\n    resized = util.updateProperty(this.props.label, \'height\', this.dom.inner.clientHeight) || resized;\n\n    // apply new height\n    this.dom.background.style.height  = height + \'px\';\n    this.dom.foreground.style.height  = height + \'px\';\n    this.dom.label.style.height = height + \'px\';\n\n    // update vertical position of items after they are re-stacked and the height of the group is calculated\n    for (var i = 0, ii = this.visibleItems.length; i < ii; i++) {\n      var item = this.visibleItems[i];\n      item.repositionY(margin);\n    }\n\n    return resized;\n  };\n\n  /**\n   * recalculate the height of the group\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   * @returns {number} Returns the height\n   * @private\n   */\n  Group.prototype._calculateHeight = function (margin) {\n    // recalculate the height of the group\n    var height;\n    var visibleItems = this.visibleItems;\n    //var visibleSubgroups = [];\n    //this.visibleSubgroups = 0;\n    this.resetSubgroups();\n    var me = this;\n    if (visibleItems.length) {\n      var min = visibleItems[0].top;\n      var max = visibleItems[0].top + visibleItems[0].height;\n      util.forEach(visibleItems, function (item) {\n        min = Math.min(min, item.top);\n        max = Math.max(max, (item.top + item.height));\n        if (item.data.subgroup !== undefined) {\n          me.subgroups[item.data.subgroup].height = Math.max(me.subgroups[item.data.subgroup].height,item.height);\n          me.subgroups[item.data.subgroup].visible = true;\n          //if (visibleSubgroups.indexOf(item.data.subgroup) == -1){\n          //  visibleSubgroups.push(item.data.subgroup);\n          //  me.visibleSubgroups += 1;\n          //}\n        }\n      });\n      if (min > margin.axis) {\n        // there is an empty gap between the lowest item and the axis\n        var offset = min - margin.axis;\n        max -= offset;\n        util.forEach(visibleItems, function (item) {\n          item.top -= offset;\n        });\n      }\n      height = max + margin.item.vertical / 2;\n    }\n    else {\n      height = 0;\n    }\n    height = Math.max(height, this.props.label.height);\n\n    return height;\n  };\n\n  /**\n   * Show this group: attach to the DOM\n   */\n  Group.prototype.show = function() {\n    if (!this.dom.label.parentNode) {\n      this.itemSet.dom.labelSet.appendChild(this.dom.label);\n    }\n\n    if (!this.dom.foreground.parentNode) {\n      this.itemSet.dom.foreground.appendChild(this.dom.foreground);\n    }\n\n    if (!this.dom.background.parentNode) {\n      this.itemSet.dom.background.appendChild(this.dom.background);\n    }\n\n    if (!this.dom.axis.parentNode) {\n      this.itemSet.dom.axis.appendChild(this.dom.axis);\n    }\n  };\n\n  /**\n   * Hide this group: remove from the DOM\n   */\n  Group.prototype.hide = function() {\n    var label = this.dom.label;\n    if (label.parentNode) {\n      label.parentNode.removeChild(label);\n    }\n\n    var foreground = this.dom.foreground;\n    if (foreground.parentNode) {\n      foreground.parentNode.removeChild(foreground);\n    }\n\n    var background = this.dom.background;\n    if (background.parentNode) {\n      background.parentNode.removeChild(background);\n    }\n\n    var axis = this.dom.axis;\n    if (axis.parentNode) {\n      axis.parentNode.removeChild(axis);\n    }\n  };\n\n  /**\n   * Add an item to the group\n   * @param {Item} item\n   */\n  Group.prototype.add = function(item) {\n    this.items[item.id] = item;\n    item.setParent(this);\n\n    // add to\n    if (item.data.subgroup !== undefined) {\n      if (this.subgroups[item.data.subgroup] === undefined) {\n        this.subgroups[item.data.subgroup] = {height:0, visible: false, index:this.subgroupIndex, items: []};\n        this.subgroupIndex++;\n      }\n      this.subgroups[item.data.subgroup].items.push(item);\n    }\n    this.orderSubgroups();\n\n    if (this.visibleItems.indexOf(item) == -1) {\n      var range = this.itemSet.body.range; // TODO: not nice accessing the range like this\n      this._checkIfVisible(item, this.visibleItems, range);\n    }\n  };\n\n  Group.prototype.orderSubgroups = function() {\n    if (this.subgroupOrderer !== undefined) {\n      var sortArray = [];\n      if (typeof this.subgroupOrderer == \'string\') {\n        for (var subgroup in this.subgroups) {\n          sortArray.push({subgroup: subgroup, sortField: this.subgroups[subgroup].items[0].data[this.subgroupOrderer]})\n        }\n        sortArray.sort(function (a, b) {\n          return a.sortField - b.sortField;\n        })\n      }\n      else if (typeof this.subgroupOrderer == \'function\') {\n        for (var subgroup in this.subgroups) {\n          sortArray.push(this.subgroups[subgroup].items[0].data);\n        }\n        sortArray.sort(this.subgroupOrderer);\n      }\n\n      if (sortArray.length > 0) {\n        for (var i = 0; i < sortArray.length; i++) {\n          this.subgroups[sortArray[i].subgroup].index = i;\n        }\n      }\n    }\n  };\n\n  Group.prototype.resetSubgroups = function() {\n    for (var subgroup in this.subgroups) {\n      if (this.subgroups.hasOwnProperty(subgroup)) {\n        this.subgroups[subgroup].visible = false;\n      }\n    }\n  };\n\n  /**\n   * Remove an item from the group\n   * @param {Item} item\n   */\n  Group.prototype.remove = function(item) {\n    delete this.items[item.id];\n    item.setParent(null);\n\n    // remove from visible items\n    var index = this.visibleItems.indexOf(item);\n    if (index != -1) this.visibleItems.splice(index, 1);\n\n    // TODO: also remove from ordered items?\n  };\n\n\n  /**\n   * Remove an item from the corresponding DataSet\n   * @param {Item} item\n   */\n  Group.prototype.removeFromDataSet = function(item) {\n    this.itemSet.removeItem(item.id);\n  };\n\n\n  /**\n   * Reorder the items\n   */\n  Group.prototype.order = function() {\n    var array = util.toArray(this.items);\n    var startArray = [];\n    var endArray = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i].data.end !== undefined) {\n        endArray.push(array[i]);\n      }\n      startArray.push(array[i]);\n    }\n    this.orderedItems = {\n      byStart: startArray,\n      byEnd: endArray\n    };\n\n    stack.orderByStart(this.orderedItems.byStart);\n    stack.orderByEnd(this.orderedItems.byEnd);\n  };\n\n\n  /**\n   * Update the visible items\n   * @param {{byStart: Item[], byEnd: Item[]}} orderedItems   All items ordered by start date and by end date\n   * @param {Item[]} visibleItems                             The previously visible items.\n   * @param {{start: number, end: number}} range              Visible range\n   * @return {Item[]} visibleItems                            The new visible items.\n   * @private\n   */\n  Group.prototype._updateVisibleItems = function(orderedItems, oldVisibleItems, range) {\n    var visibleItems = [];\n    var visibleItemsLookup = {}; // we keep this to quickly look up if an item already exists in the list without using indexOf on visibleItems\n    var interval = (range.end - range.start) / 4;\n    var lowerBound = range.start - interval;\n    var upperBound = range.end + interval;\n    var item, i;\n\n    // this function is used to do the binary search.\n    var searchFunction = function (value) {\n      if      (value < lowerBound)  {return -1;}\n      else if (value <= upperBound) {return  0;}\n      else                          {return  1;}\n    }\n\n    // first check if the items that were in view previously are still in view.\n    // IMPORTANT: this handles the case for the items with startdate before the window and enddate after the window!\n    // also cleans up invisible items.\n    if (oldVisibleItems.length > 0) {\n      for (i = 0; i < oldVisibleItems.length; i++) {\n        this._checkIfVisibleWithReference(oldVisibleItems[i], visibleItems, visibleItemsLookup, range);\n      }\n    }\n\n    // we do a binary search for the items that have only start values.\n    var initialPosByStart = util.binarySearchCustom(orderedItems.byStart, searchFunction, \'data\',\'start\');\n\n    // trace the visible items from the inital start pos both ways until an invisible item is found, we only look at the start values.\n    this._traceVisible(initialPosByStart, orderedItems.byStart, visibleItems, visibleItemsLookup, function (item) {\n      return (item.data.start < lowerBound || item.data.start > upperBound);\n    });\n\n    // if the window has changed programmatically without overlapping the old window, the ranged items with start < lowerBound and end > upperbound are not shown.\n    // We therefore have to brute force check all items in the byEnd list\n    if (this.checkRangedItems == true) {\n      this.checkRangedItems = false;\n      for (i = 0; i < orderedItems.byEnd.length; i++) {\n        this._checkIfVisibleWithReference(orderedItems.byEnd[i], visibleItems, visibleItemsLookup, range);\n      }\n    }\n    else {\n      // we do a binary search for the items that have defined end times.\n      var initialPosByEnd = util.binarySearchCustom(orderedItems.byEnd, searchFunction, \'data\',\'end\');\n\n      // trace the visible items from the inital start pos both ways until an invisible item is found, we only look at the end values.\n      this._traceVisible(initialPosByEnd, orderedItems.byEnd, visibleItems, visibleItemsLookup, function (item) {\n        return (item.data.end < lowerBound || item.data.end > upperBound);\n      });\n    }\n\n\n    // finally, we reposition all the visible items.\n    for (i = 0; i < visibleItems.length; i++) {\n      item = visibleItems[i];\n      if (!item.displayed) item.show();\n      // reposition item horizontally\n      item.repositionX();\n    }\n\n    // debug\n    //console.log("new line")\n    //if (this.groupId == null) {\n    //  for (i = 0; i < orderedItems.byStart.length; i++) {\n    //    item = orderedItems.byStart[i].data;\n    //    console.log(\'start\',i,initialPosByStart, item.start.valueOf(), item.content, item.start >= lowerBound && item.start <= upperBound,i == initialPosByStart ? "<------------------- HEREEEE" : "")\n    //  }\n    //  for (i = 0; i < orderedItems.byEnd.length; i++) {\n    //    item = orderedItems.byEnd[i].data;\n    //    console.log(\'rangeEnd\',i,initialPosByEnd, item.end.valueOf(), item.content, item.end >= range.start && item.end <= range.end,i == initialPosByEnd ? "<------------------- HEREEEE" : "")\n    //  }\n    //}\n\n    return visibleItems;\n  };\n\n  Group.prototype._traceVisible = function (initialPos, items, visibleItems, visibleItemsLookup, breakCondition) {\n    var item;\n    var i;\n\n    if (initialPos != -1) {\n      for (i = initialPos; i >= 0; i--) {\n        item = items[i];\n        if (breakCondition(item)) {\n          break;\n        }\n        else {\n          if (visibleItemsLookup[item.id] === undefined) {\n            visibleItemsLookup[item.id] = true;\n            visibleItems.push(item);\n          }\n        }\n      }\n\n      for (i = initialPos + 1; i < items.length; i++) {\n        item = items[i];\n        if (breakCondition(item)) {\n          break;\n        }\n        else {\n          if (visibleItemsLookup[item.id] === undefined) {\n            visibleItemsLookup[item.id] = true;\n            visibleItems.push(item);\n          }\n        }\n      }\n    }\n  }\n\n\n  /**\n   * this function is very similar to the _checkIfInvisible() but it does not\n   * return booleans, hides the item if it should not be seen and always adds to\n   * the visibleItems.\n   * this one is for brute forcing and hiding.\n   *\n   * @param {Item} item\n   * @param {Array} visibleItems\n   * @param {{start:number, end:number}} range\n   * @private\n   */\n  Group.prototype._checkIfVisible = function(item, visibleItems, range) {\n      if (item.isVisible(range)) {\n        if (!item.displayed) item.show();\n        // reposition item horizontally\n        item.repositionX();\n        visibleItems.push(item);\n      }\n      else {\n        if (item.displayed) item.hide();\n      }\n  };\n\n\n  /**\n   * this function is very similar to the _checkIfInvisible() but it does not\n   * return booleans, hides the item if it should not be seen and always adds to\n   * the visibleItems.\n   * this one is for brute forcing and hiding.\n   *\n   * @param {Item} item\n   * @param {Array} visibleItems\n   * @param {{start:number, end:number}} range\n   * @private\n   */\n  Group.prototype._checkIfVisibleWithReference = function(item, visibleItems, visibleItemsLookup, range) {\n    if (item.isVisible(range)) {\n      if (visibleItemsLookup[item.id] === undefined) {\n        visibleItemsLookup[item.id] = true;\n        visibleItems.push(item);\n      }\n    }\n    else {\n      if (item.displayed) item.hide();\n    }\n  };\n\n\n\n  module.exports = Group;\n\n\n/***/ },\n/* 31 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var Group = __webpack_require__(30);\n\n  /**\n   * @constructor BackgroundGroup\n   * @param {Number | String} groupId\n   * @param {Object} data\n   * @param {ItemSet} itemSet\n   */\n  function BackgroundGroup (groupId, data, itemSet) {\n    Group.call(this, groupId, data, itemSet);\n\n    this.width = 0;\n    this.height = 0;\n    this.top = 0;\n    this.left = 0;\n  }\n\n  BackgroundGroup.prototype = Object.create(Group.prototype);\n\n  /**\n   * Repaint this group\n   * @param {{start: number, end: number}} range\n   * @param {{item: {horizontal: number, vertical: number}, axis: number}} margin\n   * @param {boolean} [restack=false]  Force restacking of all items\n   * @return {boolean} Returns true if the group is resized\n   */\n  BackgroundGroup.prototype.redraw = function(range, margin, restack) {\n    var resized = false;\n\n    this.visibleItems = this._updateVisibleItems(this.orderedItems, this.visibleItems, range);\n\n    // calculate actual size\n    this.width = this.dom.background.offsetWidth;\n\n    // apply new height (just always zero for BackgroundGroup\n    this.dom.background.style.height  = \'0\';\n\n    // update vertical position of items after they are re-stacked and the height of the group is calculated\n    for (var i = 0, ii = this.visibleItems.length; i < ii; i++) {\n      var item = this.visibleItems[i];\n      item.repositionY(margin);\n    }\n\n    return resized;\n  };\n\n  /**\n   * Show this group: attach to the DOM\n   */\n  BackgroundGroup.prototype.show = function() {\n    if (!this.dom.background.parentNode) {\n      this.itemSet.dom.background.appendChild(this.dom.background);\n    }\n  };\n\n  module.exports = BackgroundGroup;\n\n\n/***/ },\n/* 32 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Hammer = __webpack_require__(45);\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(3);\n  var DataView = __webpack_require__(4);\n  var TimeStep = __webpack_require__(19);\n  var Component = __webpack_require__(25);\n  var Group = __webpack_require__(30);\n  var BackgroundGroup = __webpack_require__(31);\n  var BoxItem = __webpack_require__(22);\n  var PointItem = __webpack_require__(23);\n  var RangeItem = __webpack_require__(24);\n  var BackgroundItem = __webpack_require__(21);\n\n\n  var UNGROUPED = \'__ungrouped__\';   // reserved group id for ungrouped items\n  var BACKGROUND = \'__background__\'; // reserved group id for background items without group\n\n  /**\n   * An ItemSet holds a set of items and ranges which can be displayed in a\n   * range. The width is determined by the parent of the ItemSet, and the height\n   * is determined by the size of the items.\n   * @param {{dom: Object, domProps: Object, emitter: Emitter, range: Range}} body\n   * @param {Object} [options]      See ItemSet.setOptions for the available options.\n   * @constructor ItemSet\n   * @extends Component\n   */\n  function ItemSet(body, options) {\n    this.body = body;\n\n    this.defaultOptions = {\n      type: null,  // \'box\', \'point\', \'range\', \'background\'\n      orientation: \'bottom\',  // item orientation: \'top\' or \'bottom\'\n      align: \'auto\', // alignment of box items\n      stack: true,\n      groupOrder: null,\n\n      selectable: true,\n      editable: {\n        updateTime: false,\n        updateGroup: false,\n        add: false,\n        remove: false\n      },\n\n      snap:  TimeStep.snap,\n\n      onAdd: function (item, callback) {\n        callback(item);\n      },\n      onUpdate: function (item, callback) {\n        callback(item);\n      },\n      onMove: function (item, callback) {\n        callback(item);\n      },\n      onRemove: function (item, callback) {\n        callback(item);\n      },\n      onMoving: function (item, callback) {\n        callback(item);\n      },\n\n      margin: {\n        item: {\n          horizontal: 10,\n          vertical: 10\n        },\n        axis: 20\n      },\n      padding: 5\n    };\n\n    // options is shared by this ItemSet and all its items\n    this.options = util.extend({}, this.defaultOptions);\n\n    // options for getting items from the DataSet with the correct type\n    this.itemOptions = {\n      type: {start: \'Date\', end: \'Date\'}\n    };\n\n    this.conversion = {\n      toScreen: body.util.toScreen,\n      toTime: body.util.toTime\n    };\n    this.dom = {};\n    this.props = {};\n    this.hammer = null;\n\n    var me = this;\n    this.itemsData = null;    // DataSet\n    this.groupsData = null;   // DataSet\n\n    // listeners for the DataSet of the items\n    this.itemListeners = {\n      \'add\': function (event, params, senderId) {\n        me._onAdd(params.items);\n      },\n      \'update\': function (event, params, senderId) {\n        me._onUpdate(params.items);\n      },\n      \'remove\': function (event, params, senderId) {\n        me._onRemove(params.items);\n      }\n    };\n\n    // listeners for the DataSet of the groups\n    this.groupListeners = {\n      \'add\': function (event, params, senderId) {\n        me._onAddGroups(params.items);\n      },\n      \'update\': function (event, params, senderId) {\n        me._onUpdateGroups(params.items);\n      },\n      \'remove\': function (event, params, senderId) {\n        me._onRemoveGroups(params.items);\n      }\n    };\n\n    this.items = {};      // object with an Item for every data item\n    this.groups = {};     // Group object for every group\n    this.groupIds = [];\n\n    this.selection = [];  // list with the ids of all selected nodes\n    this.stackDirty = true; // if true, all items will be restacked on next redraw\n\n    this.touchParams = {}; // stores properties while dragging\n    // create the HTML DOM\n\n    this._create();\n\n    this.setOptions(options);\n  }\n\n  ItemSet.prototype = new Component();\n\n  // available item types will be registered here\n  ItemSet.types = {\n    background: BackgroundItem,\n    box: BoxItem,\n    range: RangeItem,\n    point: PointItem\n  };\n\n  /**\n   * Create the HTML DOM for the ItemSet\n   */\n  ItemSet.prototype._create = function(){\n    var frame = document.createElement(\'div\');\n    frame.className = \'itemset\';\n    frame[\'timeline-itemset\'] = this;\n    this.dom.frame = frame;\n\n    // create background panel\n    var background = document.createElement(\'div\');\n    background.className = \'background\';\n    frame.appendChild(background);\n    this.dom.background = background;\n\n    // create foreground panel\n    var foreground = document.createElement(\'div\');\n    foreground.className = \'foreground\';\n    frame.appendChild(foreground);\n    this.dom.foreground = foreground;\n\n    // create axis panel\n    var axis = document.createElement(\'div\');\n    axis.className = \'axis\';\n    this.dom.axis = axis;\n\n    // create labelset\n    var labelSet = document.createElement(\'div\');\n    labelSet.className = \'labelset\';\n    this.dom.labelSet = labelSet;\n\n    // create ungrouped Group\n    this._updateUngrouped();\n\n    // create background Group\n    var backgroundGroup = new BackgroundGroup(BACKGROUND, null, this);\n    backgroundGroup.show();\n    this.groups[BACKGROUND] = backgroundGroup;\n\n    // attach event listeners\n    // Note: we bind to the centerContainer for the case where the height\n    //       of the center container is larger than of the ItemSet, so we\n    //       can click in the empty area to create a new item or deselect an item.\n    this.hammer = Hammer(this.body.dom.centerContainer, {\n      preventDefault: true\n    });\n\n    // drag items when selected\n    this.hammer.on(\'touch\',     this._onTouch.bind(this));\n    this.hammer.on(\'dragstart\', this._onDragStart.bind(this));\n    this.hammer.on(\'drag\',      this._onDrag.bind(this));\n    this.hammer.on(\'dragend\',   this._onDragEnd.bind(this));\n\n    // single select (or unselect) when tapping an item\n    this.hammer.on(\'tap\',  this._onSelectItem.bind(this));\n\n    // multi select when holding mouse/touch, or on ctrl+click\n    this.hammer.on(\'hold\', this._onMultiSelectItem.bind(this));\n\n    // add item on doubletap\n    this.hammer.on(\'doubletap\', this._onAddItem.bind(this));\n\n    // attach to the DOM\n    this.show();\n  };\n\n  /**\n   * Set options for the ItemSet. Existing options will be extended/overwritten.\n   * @param {Object} [options] The following options are available:\n   *                           {String} type\n   *                              Default type for the items. Choose from \'box\'\n   *                              (default), \'point\', \'range\', or \'background\'.\n   *                              The default style can be overwritten by\n   *                              individual items.\n   *                           {String} align\n   *                              Alignment for the items, only applicable for\n   *                              BoxItem. Choose \'center\' (default), \'left\', or\n   *                              \'right\'.\n   *                           {String} orientation\n   *                              Orientation of the item set. Choose \'top\' or\n   *                              \'bottom\' (default).\n   *                           {Function} groupOrder\n   *                              A sorting function for ordering groups\n   *                           {Boolean} stack\n   *                              If true (deafult), items will be stacked on\n   *                              top of each other.\n   *                           {Number} margin.axis\n   *                              Margin between the axis and the items in pixels.\n   *                              Default is 20.\n   *                           {Number} margin.item.horizontal\n   *                              Horizontal margin between items in pixels.\n   *                              Default is 10.\n   *                           {Number} margin.item.vertical\n   *                              Vertical Margin between items in pixels.\n   *                              Default is 10.\n   *                           {Number} margin.item\n   *                              Margin between items in pixels in both horizontal\n   *                              and vertical direction. Default is 10.\n   *                           {Number} margin\n   *                              Set margin for both axis and items in pixels.\n   *                           {Number} padding\n   *                              Padding of the contents of an item in pixels.\n   *                              Must correspond with the items css. Default is 5.\n   *                           {Boolean} selectable\n   *                              If true (default), items can be selected.\n   *                           {Boolean} editable\n   *                              Set all editable options to true or false\n   *                           {Boolean} editable.updateTime\n   *                              Allow dragging an item to an other moment in time\n   *                           {Boolean} editable.updateGroup\n   *                              Allow dragging an item to an other group\n   *                           {Boolean} editable.add\n   *                              Allow creating new items on double tap\n   *                           {Boolean} editable.remove\n   *                              Allow removing items by clicking the delete button\n   *                              top right of a selected item.\n   *                           {Function(item: Item, callback: Function)} onAdd\n   *                              Callback function triggered when an item is about to be added:\n   *                              when the user double taps an empty space in the Timeline.\n   *                           {Function(item: Item, callback: Function)} onUpdate\n   *                              Callback function fired when an item is about to be updated.\n   *                              This function typically has to show a dialog where the user\n   *                              change the item. If not implemented, nothing happens.\n   *                           {Function(item: Item, callback: Function)} onMove\n   *                              Fired when an item has been moved. If not implemented,\n   *                              the move action will be accepted.\n   *                           {Function(item: Item, callback: Function)} onRemove\n   *                              Fired when an item is about to be deleted.\n   *                              If not implemented, the item will be always removed.\n   */\n  ItemSet.prototype.setOptions = function(options) {\n    if (options) {\n      // copy all options that we know\n      var fields = [\'type\', \'align\', \'order\', \'padding\', \'stack\', \'selectable\', \'groupOrder\', \'dataAttributes\', \'template\',\'hide\', \'snap\'];\n      util.selectiveExtend(fields, this.options, options);\n\n      if (\'orientation\' in options) {\n        if (typeof options.orientation === \'string\') {\n          this.options.orientation = options.orientation;\n        }\n        else if (typeof options.orientation === \'object\' && \'item\' in options.orientation) {\n          this.options.orientation = options.orientation.item;\n        }\n      }\n\n      if (\'margin\' in options) {\n        if (typeof options.margin === \'number\') {\n          this.options.margin.axis = options.margin;\n          this.options.margin.item.horizontal = options.margin;\n          this.options.margin.item.vertical = options.margin;\n        }\n        else if (typeof options.margin === \'object\') {\n          util.selectiveExtend([\'axis\'], this.options.margin, options.margin);\n          if (\'item\' in options.margin) {\n            if (typeof options.margin.item === \'number\') {\n              this.options.margin.item.horizontal = options.margin.item;\n              this.options.margin.item.vertical = options.margin.item;\n            }\n            else if (typeof options.margin.item === \'object\') {\n              util.selectiveExtend([\'horizontal\', \'vertical\'], this.options.margin.item, options.margin.item);\n            }\n          }\n        }\n      }\n\n      if (\'editable\' in options) {\n        if (typeof options.editable === \'boolean\') {\n          this.options.editable.updateTime  = options.editable;\n          this.options.editable.updateGroup = options.editable;\n          this.options.editable.add         = options.editable;\n          this.options.editable.remove      = options.editable;\n        }\n        else if (typeof options.editable === \'object\') {\n          util.selectiveExtend([\'updateTime\', \'updateGroup\', \'add\', \'remove\'], this.options.editable, options.editable);\n        }\n      }\n\n      // callback functions\n      var addCallback = (function (name) {\n        var fn = options[name];\n        if (fn) {\n          if (!(fn instanceof Function)) {\n            throw new Error(\'option \' + name + \' must be a function \' + name + \'(item, callback)\');\n          }\n          this.options[name] = fn;\n        }\n      }).bind(this);\n      [\'onAdd\', \'onUpdate\', \'onRemove\', \'onMove\', \'onMoving\'].forEach(addCallback);\n\n      // force the itemSet to refresh: options like orientation and margins may be changed\n      this.markDirty();\n    }\n  };\n\n  /**\n   * Mark the ItemSet dirty so it will refresh everything with next redraw.\n   * Optionally, all items can be marked as dirty and be refreshed.\n   * @param {{refreshItems: boolean}} [options]\n   */\n  ItemSet.prototype.markDirty = function(options) {\n    this.groupIds = [];\n    this.stackDirty = true;\n\n    if (options && options.refreshItems) {\n      util.forEach(this.items, function (item) {\n        item.dirty = true;\n        if (item.displayed) item.redraw();\n      });\n    }\n  };\n\n  /**\n   * Destroy the ItemSet\n   */\n  ItemSet.prototype.destroy = function() {\n    this.hide();\n    this.setItems(null);\n    this.setGroups(null);\n\n    this.hammer = null;\n\n    this.body = null;\n    this.conversion = null;\n  };\n\n  /**\n   * Hide the component from the DOM\n   */\n  ItemSet.prototype.hide = function() {\n    // remove the frame containing the items\n    if (this.dom.frame.parentNode) {\n      this.dom.frame.parentNode.removeChild(this.dom.frame);\n    }\n\n    // remove the axis with dots\n    if (this.dom.axis.parentNode) {\n      this.dom.axis.parentNode.removeChild(this.dom.axis);\n    }\n\n    // remove the labelset containing all group labels\n    if (this.dom.labelSet.parentNode) {\n      this.dom.labelSet.parentNode.removeChild(this.dom.labelSet);\n    }\n  };\n\n  /**\n   * Show the component in the DOM (when not already visible).\n   * @return {Boolean} changed\n   */\n  ItemSet.prototype.show = function() {\n    // show frame containing the items\n    if (!this.dom.frame.parentNode) {\n      this.body.dom.center.appendChild(this.dom.frame);\n    }\n\n    // show axis with dots\n    if (!this.dom.axis.parentNode) {\n      this.body.dom.backgroundVertical.appendChild(this.dom.axis);\n    }\n\n    // show labelset containing labels\n    if (!this.dom.labelSet.parentNode) {\n      this.body.dom.left.appendChild(this.dom.labelSet);\n    }\n  };\n\n  /**\n   * Set selected items by their id. Replaces the current selection\n   * Unknown id\'s are silently ignored.\n   * @param {string[] | string} [ids] An array with zero or more id\'s of the items to be\n   *                                  selected, or a single item id. If ids is undefined\n   *                                  or an empty array, all items will be unselected.\n   */\n  ItemSet.prototype.setSelection = function(ids) {\n    var i, ii, id, item;\n\n    if (ids == undefined) ids = [];\n    if (!Array.isArray(ids)) ids = [ids];\n\n    // unselect currently selected items\n    for (i = 0, ii = this.selection.length; i < ii; i++) {\n      id = this.selection[i];\n      item = this.items[id];\n      if (item) item.unselect();\n    }\n\n    // select items\n    this.selection = [];\n    for (i = 0, ii = ids.length; i < ii; i++) {\n      id = ids[i];\n      item = this.items[id];\n      if (item) {\n        this.selection.push(id);\n        item.select();\n      }\n    }\n  };\n\n  /**\n   * Get the selected items by their id\n   * @return {Array} ids  The ids of the selected items\n   */\n  ItemSet.prototype.getSelection = function() {\n    return this.selection.concat([]);\n  };\n\n  /**\n   * Get the id\'s of the currently visible items.\n   * @returns {Array} The ids of the visible items\n   */\n  ItemSet.prototype.getVisibleItems = function() {\n    var range = this.body.range.getRange();\n    var left  = this.body.util.toScreen(range.start);\n    var right = this.body.util.toScreen(range.end);\n\n    var ids = [];\n    for (var groupId in this.groups) {\n      if (this.groups.hasOwnProperty(groupId)) {\n        var group = this.groups[groupId];\n        var rawVisibleItems = group.visibleItems;\n\n        // filter the "raw" set with visibleItems into a set which is really\n        // visible by pixels\n        for (var i = 0; i < rawVisibleItems.length; i++) {\n          var item = rawVisibleItems[i];\n          // TODO: also check whether visible vertically\n          if ((item.left < right) && (item.left + item.width > left)) {\n            ids.push(item.id);\n          }\n        }\n      }\n    }\n\n    return ids;\n  };\n\n  /**\n   * Deselect a selected item\n   * @param {String | Number} id\n   * @private\n   */\n  ItemSet.prototype._deselect = function(id) {\n    var selection = this.selection;\n    for (var i = 0, ii = selection.length; i < ii; i++) {\n      if (selection[i] == id) { // non-strict comparison!\n        selection.splice(i, 1);\n        break;\n      }\n    }\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  ItemSet.prototype.redraw = function() {\n    var margin = this.options.margin,\n        range = this.body.range,\n        asSize = util.option.asSize,\n        options = this.options,\n        orientation = options.orientation,\n        resized = false,\n        frame = this.dom.frame,\n        editable = options.editable.updateTime || options.editable.updateGroup;\n\n    // recalculate absolute position (before redrawing groups)\n    this.props.top = this.body.domProps.top.height + this.body.domProps.border.top;\n    this.props.left = this.body.domProps.left.width + this.body.domProps.border.left;\n\n    // update class name\n    frame.className = \'itemset\' + (editable ? \' editable\' : \'\');\n\n    // reorder the groups (if needed)\n    resized = this._orderGroups() || resized;\n\n    // check whether zoomed (in that case we need to re-stack everything)\n    // TODO: would be nicer to get this as a trigger from Range\n    var visibleInterval = range.end - range.start;\n    var zoomed = (visibleInterval != this.lastVisibleInterval) || (this.props.width != this.props.lastWidth);\n    if (zoomed) this.stackDirty = true;\n    this.lastVisibleInterval = visibleInterval;\n    this.props.lastWidth = this.props.width;\n\n    var restack = this.stackDirty;\n    var firstGroup = this._firstGroup();\n    var firstMargin = {\n      item: margin.item,\n      axis: margin.axis\n    };\n    var nonFirstMargin = {\n      item: margin.item,\n      axis: margin.item.vertical / 2\n    };\n    var height = 0;\n    var minHeight = margin.axis + margin.item.vertical;\n\n    // redraw the background group\n    this.groups[BACKGROUND].redraw(range, nonFirstMargin, restack);\n\n    // redraw all regular groups\n    util.forEach(this.groups, function (group) {\n      var groupMargin = (group == firstGroup) ? firstMargin : nonFirstMargin;\n      var groupResized = group.redraw(range, groupMargin, restack);\n      resized = groupResized || resized;\n      height += group.height;\n    });\n    height = Math.max(height, minHeight);\n    this.stackDirty = false;\n\n    // update frame height\n    frame.style.height  = asSize(height);\n\n    // calculate actual size\n    this.props.width = frame.offsetWidth;\n    this.props.height = height;\n\n    // reposition axis\n    this.dom.axis.style.top = asSize((orientation == \'top\') ?\n        (this.body.domProps.top.height + this.body.domProps.border.top) :\n        (this.body.domProps.top.height + this.body.domProps.centerContainer.height));\n    this.dom.axis.style.left = \'0\';\n\n    // check if this component is resized\n    resized = this._isResized() || resized;\n\n    return resized;\n  };\n\n  /**\n   * Get the first group, aligned with the axis\n   * @return {Group | null} firstGroup\n   * @private\n   */\n  ItemSet.prototype._firstGroup = function() {\n    var firstGroupIndex = (this.options.orientation == \'top\') ? 0 : (this.groupIds.length - 1);\n    var firstGroupId = this.groupIds[firstGroupIndex];\n    var firstGroup = this.groups[firstGroupId] || this.groups[UNGROUPED];\n\n    return firstGroup || null;\n  };\n\n  /**\n   * Create or delete the group holding all ungrouped items. This group is used when\n   * there are no groups specified.\n   * @protected\n   */\n  ItemSet.prototype._updateUngrouped = function() {\n    var ungrouped = this.groups[UNGROUPED];\n    var background = this.groups[BACKGROUND];\n    var item, itemId;\n\n    if (this.groupsData) {\n      // remove the group holding all ungrouped items\n      if (ungrouped) {\n        ungrouped.hide();\n        delete this.groups[UNGROUPED];\n\n        for (itemId in this.items) {\n          if (this.items.hasOwnProperty(itemId)) {\n            item = this.items[itemId];\n            item.parent && item.parent.remove(item);\n            var groupId = this._getGroupId(item.data);\n            var group = this.groups[groupId];\n            group && group.add(item) || item.hide();\n          }\n        }\n      }\n    }\n    else {\n      // create a group holding all (unfiltered) items\n      if (!ungrouped) {\n        var id = null;\n        var data = null;\n        ungrouped = new Group(id, data, this);\n        this.groups[UNGROUPED] = ungrouped;\n\n        for (itemId in this.items) {\n          if (this.items.hasOwnProperty(itemId)) {\n            item = this.items[itemId];\n            ungrouped.add(item);\n          }\n        }\n\n        ungrouped.show();\n      }\n    }\n  };\n\n  /**\n   * Get the element for the labelset\n   * @return {HTMLElement} labelSet\n   */\n  ItemSet.prototype.getLabelSet = function() {\n    return this.dom.labelSet;\n  };\n\n  /**\n   * Set items\n   * @param {vis.DataSet | null} items\n   */\n  ItemSet.prototype.setItems = function(items) {\n    var me = this,\n        ids,\n        oldItemsData = this.itemsData;\n\n    // replace the dataset\n    if (!items) {\n      this.itemsData = null;\n    }\n    else if (items instanceof DataSet || items instanceof DataView) {\n      this.itemsData = items;\n    }\n    else {\n      throw new TypeError(\'Data must be an instance of DataSet or DataView\');\n    }\n\n    if (oldItemsData) {\n      // unsubscribe from old dataset\n      util.forEach(this.itemListeners, function (callback, event) {\n        oldItemsData.off(event, callback);\n      });\n\n      // remove all drawn items\n      ids = oldItemsData.getIds();\n      this._onRemove(ids);\n    }\n\n    if (this.itemsData) {\n      // subscribe to new dataset\n      var id = this.id;\n      util.forEach(this.itemListeners, function (callback, event) {\n        me.itemsData.on(event, callback, id);\n      });\n\n      // add all new items\n      ids = this.itemsData.getIds();\n      this._onAdd(ids);\n\n      // update the group holding all ungrouped items\n      this._updateUngrouped();\n    }\n  };\n\n  /**\n   * Get the current items\n   * @returns {vis.DataSet | null}\n   */\n  ItemSet.prototype.getItems = function() {\n    return this.itemsData;\n  };\n\n  /**\n   * Set groups\n   * @param {vis.DataSet} groups\n   */\n  ItemSet.prototype.setGroups = function(groups) {\n    var me = this,\n        ids;\n\n    // unsubscribe from current dataset\n    if (this.groupsData) {\n      util.forEach(this.groupListeners, function (callback, event) {\n        me.groupsData.unsubscribe(event, callback);\n      });\n\n      // remove all drawn groups\n      ids = this.groupsData.getIds();\n      this.groupsData = null;\n      this._onRemoveGroups(ids); // note: this will cause a redraw\n    }\n\n    // replace the dataset\n    if (!groups) {\n      this.groupsData = null;\n    }\n    else if (groups instanceof DataSet || groups instanceof DataView) {\n      this.groupsData = groups;\n    }\n    else {\n      throw new TypeError(\'Data must be an instance of DataSet or DataView\');\n    }\n\n    if (this.groupsData) {\n      // subscribe to new dataset\n      var id = this.id;\n      util.forEach(this.groupListeners, function (callback, event) {\n        me.groupsData.on(event, callback, id);\n      });\n\n      // draw all ms\n      ids = this.groupsData.getIds();\n      this._onAddGroups(ids);\n    }\n\n    // update the group holding all ungrouped items\n    this._updateUngrouped();\n\n    // update the order of all items in each group\n    this._order();\n\n    this.body.emitter.emit(\'change\', {queue: true});\n  };\n\n  /**\n   * Get the current groups\n   * @returns {vis.DataSet | null} groups\n   */\n  ItemSet.prototype.getGroups = function() {\n    return this.groupsData;\n  };\n\n  /**\n   * Remove an item by its id\n   * @param {String | Number} id\n   */\n  ItemSet.prototype.removeItem = function(id) {\n    var item = this.itemsData.get(id),\n        dataset = this.itemsData.getDataSet();\n\n    if (item) {\n      // confirm deletion\n      this.options.onRemove(item, function (item) {\n        if (item) {\n          // remove by id here, it is possible that an item has no id defined\n          // itself, so better not delete by the item itself\n          dataset.remove(id);\n        }\n      });\n    }\n  };\n\n  /**\n   * Get the time of an item based on it\'s data and options.type\n   * @param {Object} itemData\n   * @returns {string} Returns the type\n   * @private\n   */\n  ItemSet.prototype._getType = function (itemData) {\n    return itemData.type || this.options.type || (itemData.end ? \'range\' : \'box\');\n  };\n\n\n  /**\n   * Get the group id for an item\n   * @param {Object} itemData\n   * @returns {string} Returns the groupId\n   * @private\n   */\n  ItemSet.prototype._getGroupId = function (itemData) {\n    var type = this._getType(itemData);\n    if (type == \'background\' && itemData.group == undefined) {\n     return BACKGROUND;\n    }\n    else {\n      return this.groupsData ? itemData.group : UNGROUPED;\n    }\n  };\n\n  /**\n   * Handle updated items\n   * @param {Number[]} ids\n   * @protected\n   */\n  ItemSet.prototype._onUpdate = function(ids) {\n    var me = this;\n\n    ids.forEach(function (id) {\n      var itemData = me.itemsData.get(id, me.itemOptions);\n      var item = me.items[id];\n      var type = me._getType(itemData);\n\n      var constructor = ItemSet.types[type];\n\n      if (item) {\n        // update item\n        if (!constructor || !(item instanceof constructor)) {\n          // item type has changed, delete the item and recreate it\n          me._removeItem(item);\n          item = null;\n        }\n        else {\n          me._updateItem(item, itemData);\n        }\n      }\n\n      if (!item) {\n        // create item\n        if (constructor) {\n          item = new constructor(itemData, me.conversion, me.options);\n          item.id = id; // TODO: not so nice setting id afterwards\n          me._addItem(item);\n        }\n        else if (type == \'rangeoverflow\') {\n          // TODO: deprecated since version 2.1.0 (or 3.0.0?). cleanup some day\n          throw new TypeError(\'Item type "rangeoverflow" is deprecated. Use css styling instead: \' +\n              \'.vis.timeline .item.range .content {overflow: visible;}\');\n        }\n        else {\n          throw new TypeError(\'Unknown item type "\' + type + \'"\');\n        }\n      }\n    });\n\n    this._order();\n    this.stackDirty = true; // force re-stacking of all items next redraw\n    this.body.emitter.emit(\'change\', {queue: true});\n  };\n\n  /**\n   * Handle added items\n   * @param {Number[]} ids\n   * @protected\n   */\n  ItemSet.prototype._onAdd = ItemSet.prototype._onUpdate;\n\n  /**\n   * Handle removed items\n   * @param {Number[]} ids\n   * @protected\n   */\n  ItemSet.prototype._onRemove = function(ids) {\n    var count = 0;\n    var me = this;\n    ids.forEach(function (id) {\n      var item = me.items[id];\n      if (item) {\n        count++;\n        me._removeItem(item);\n      }\n    });\n\n    if (count) {\n      // update order\n      this._order();\n      this.stackDirty = true; // force re-stacking of all items next redraw\n      this.body.emitter.emit(\'change\', {queue: true});\n    }\n  };\n\n  /**\n   * Update the order of item in all groups\n   * @private\n   */\n  ItemSet.prototype._order = function() {\n    // reorder the items in all groups\n    // TODO: optimization: only reorder groups affected by the changed items\n    util.forEach(this.groups, function (group) {\n      group.order();\n    });\n  };\n\n  /**\n   * Handle updated groups\n   * @param {Number[]} ids\n   * @private\n   */\n  ItemSet.prototype._onUpdateGroups = function(ids) {\n    this._onAddGroups(ids);\n  };\n\n  /**\n   * Handle changed groups (added or updated)\n   * @param {Number[]} ids\n   * @private\n   */\n  ItemSet.prototype._onAddGroups = function(ids) {\n    var me = this;\n\n    ids.forEach(function (id) {\n      var groupData = me.groupsData.get(id);\n      var group = me.groups[id];\n\n      if (!group) {\n        // check for reserved ids\n        if (id == UNGROUPED || id == BACKGROUND) {\n          throw new Error(\'Illegal group id. \' + id + \' is a reserved id.\');\n        }\n\n        var groupOptions = Object.create(me.options);\n        util.extend(groupOptions, {\n          height: null\n        });\n\n        group = new Group(id, groupData, me);\n        me.groups[id] = group;\n\n        // add items with this groupId to the new group\n        for (var itemId in me.items) {\n          if (me.items.hasOwnProperty(itemId)) {\n            var item = me.items[itemId];\n            if (item.data.group == id) {\n              group.add(item);\n            }\n          }\n        }\n\n        group.order();\n        group.show();\n      }\n      else {\n        // update group\n        group.setData(groupData);\n      }\n    });\n\n    this.body.emitter.emit(\'change\', {queue: true});\n  };\n\n  /**\n   * Handle removed groups\n   * @param {Number[]} ids\n   * @private\n   */\n  ItemSet.prototype._onRemoveGroups = function(ids) {\n    var groups = this.groups;\n    ids.forEach(function (id) {\n      var group = groups[id];\n\n      if (group) {\n        group.hide();\n        delete groups[id];\n      }\n    });\n\n    this.markDirty();\n\n    this.body.emitter.emit(\'change\', {queue: true});\n  };\n\n  /**\n   * Reorder the groups if needed\n   * @return {boolean} changed\n   * @private\n   */\n  ItemSet.prototype._orderGroups = function () {\n    if (this.groupsData) {\n      // reorder the groups\n      var groupIds = this.groupsData.getIds({\n        order: this.options.groupOrder\n      });\n\n      var changed = !util.equalArray(groupIds, this.groupIds);\n      if (changed) {\n        // hide all groups, removes them from the DOM\n        var groups = this.groups;\n        groupIds.forEach(function (groupId) {\n          groups[groupId].hide();\n        });\n\n        // show the groups again, attach them to the DOM in correct order\n        groupIds.forEach(function (groupId) {\n          groups[groupId].show();\n        });\n\n        this.groupIds = groupIds;\n      }\n\n      return changed;\n    }\n    else {\n      return false;\n    }\n  };\n\n  /**\n   * Add a new item\n   * @param {Item} item\n   * @private\n   */\n  ItemSet.prototype._addItem = function(item) {\n    this.items[item.id] = item;\n\n    // add to group\n    var groupId = this._getGroupId(item.data);\n    var group = this.groups[groupId];\n    if (group) group.add(item);\n  };\n\n  /**\n   * Update an existing item\n   * @param {Item} item\n   * @param {Object} itemData\n   * @private\n   */\n  ItemSet.prototype._updateItem = function(item, itemData) {\n    var oldGroupId = item.data.group;\n\n    // update the items data (will redraw the item when displayed)\n    item.setData(itemData);\n\n    // update group\n    if (oldGroupId != item.data.group) {\n      var oldGroup = this.groups[oldGroupId];\n      if (oldGroup) oldGroup.remove(item);\n\n      var groupId = this._getGroupId(item.data);\n      var group = this.groups[groupId];\n      if (group) group.add(item);\n    }\n  };\n\n  /**\n   * Delete an item from the ItemSet: remove it from the DOM, from the map\n   * with items, and from the map with visible items, and from the selection\n   * @param {Item} item\n   * @private\n   */\n  ItemSet.prototype._removeItem = function(item) {\n    // remove from DOM\n    item.hide();\n\n    // remove from items\n    delete this.items[item.id];\n\n    // remove from selection\n    var index = this.selection.indexOf(item.id);\n    if (index != -1) this.selection.splice(index, 1);\n\n    // remove from group\n    item.parent && item.parent.remove(item);\n  };\n\n  /**\n   * Create an array containing all items being a range (having an end date)\n   * @param array\n   * @returns {Array}\n   * @private\n   */\n  ItemSet.prototype._constructByEndArray = function(array) {\n    var endArray = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i] instanceof RangeItem) {\n        endArray.push(array[i]);\n      }\n    }\n    return endArray;\n  };\n\n  /**\n   * Register the clicked item on touch, before dragStart is initiated.\n   *\n   * dragStart is initiated from a mousemove event, which can have left the item\n   * already resulting in an item == null\n   *\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onTouch = function (event) {\n    // store the touched item, used in _onDragStart\n    this.touchParams.item = this.itemFromTarget(event);\n  };\n\n  /**\n   * Start dragging the selected events\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onDragStart = function (event) {\n    if (!this.options.editable.updateTime && !this.options.editable.updateGroup) {\n      return;\n    }\n\n    var item = this.touchParams.item || null;\n    var me = this;\n    var props;\n\n    if (item && item.selected) {\n      var dragLeftItem = event.target.dragLeftItem;\n      var dragRightItem = event.target.dragRightItem;\n\n      if (dragLeftItem) {\n        props = {\n          item: dragLeftItem,\n          initialX: event.gesture.center.pageX,\n          dragLeft:  true,\n          data: util.extend({}, item.data) // clone the items data\n        };\n\n        this.touchParams.itemProps = [props];\n      }\n      else if (dragRightItem) {\n        props = {\n          item: dragRightItem,\n          initialX: event.gesture.center.pageX,\n          dragRight: true,\n          data: util.extend({}, item.data) // clone the items data\n        };\n\n        this.touchParams.itemProps = [props];\n      }\n      else {\n        this.touchParams.itemProps = this.getSelection().map(function (id) {\n          var item = me.items[id];\n          var props = {\n            item: item,\n            initialX: event.gesture.center.pageX,\n            data: util.extend({}, item.data) // clone the items data\n          };\n\n          return props;\n        });\n      }\n\n      event.stopPropagation();\n    }\n    else if (this.options.editable.add && event.gesture.srcEvent.ctrlKey) {\n      // create a new range item when dragging with ctrl key down\n      this._onDragStartAddItem(event);\n    }\n  };\n\n  /**\n   * Start creating a new range item by dragging.\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onDragStartAddItem = function (event) {\n    var snap = this.options.snap || null;\n    var xAbs = util.getAbsoluteLeft(this.dom.frame);\n    var x = event.gesture.center.pageX - xAbs - 10;  // minus 10 to compensate for the drag starting as soon as you\'ve moved 10px\n    var time = this.body.util.toTime(x);\n    var scale = this.body.util.getScale();\n    var step = this.body.util.getStep();\n    var start = snap ? snap(time, scale, step) : start;\n    var end = start;\n\n    var itemData = {\n      type: \'range\',\n      start: start,\n      end: end,\n      content: \'new item\'\n    };\n\n    var id = util.randomUUID();\n    itemData[this.itemsData._fieldId] = id;\n\n    var group = this.groupFromTarget(event);\n    if (group) {\n      itemData.group = group.groupId;\n    }\n\n    var newItem = new RangeItem(itemData, this.conversion, this.options);\n    newItem.id = id; // TODO: not so nice setting id afterwards\n    newItem.data = itemData;\n    this._addItem(newItem);\n\n    var props = {\n      item: newItem,\n      dragRight: true,\n      initialX: event.gesture.center.pageX,\n      data: util.extend({}, itemData)\n    };\n    this.touchParams.itemProps = [props];\n\n    event.stopPropagation();\n  };\n\n  /**\n   * Drag selected items\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onDrag = function (event) {\n    event.preventDefault();\n\n    if (this.touchParams.itemProps) {\n      event.stopPropagation();\n\n      var me = this;\n      var snap = this.options.snap || null;\n      var xOffset = this.body.dom.root.offsetLeft + this.body.domProps.left.width;\n      var scale = this.body.util.getScale();\n      var step = this.body.util.getStep();\n\n      // move\n      this.touchParams.itemProps.forEach(function (props) {\n        var current = me.body.util.toTime(event.gesture.center.pageX - xOffset);\n        var initial = me.body.util.toTime(props.initialX - xOffset);\n        var offset = current - initial;\n\n        var itemData = util.extend({}, props.item.data); // clone the data\n\n        if (me.options.editable.updateTime) {\n          if (props.dragLeft) {\n            // drag left side of a range item\n            if (itemData.start != undefined) {\n              var initialStart = util.convert(props.data.start, \'Date\');\n              var start = new Date(initialStart.valueOf() + offset);\n              itemData.start = snap ? snap(start, scale, step) : start;\n            }\n          }\n          else if (props.dragRight) {\n            // drag right side of a range item\n            if (itemData.end != undefined) {\n              var initialEnd = util.convert(props.data.end, \'Date\');\n              var end = new Date(initialEnd.valueOf() + offset);\n              itemData.end = snap ? snap(end, scale, step) : end;\n            }\n          }\n          else {\n            // drag both start and end\n            if (itemData.start != undefined) {\n              var initialStart = util.convert(props.data.start, \'Date\').valueOf();\n              var start = new Date(initialStart + offset);\n\n              if (itemData.end != undefined) {\n                var initialEnd = util.convert(props.data.end, \'Date\');\n                var duration  = initialEnd.valueOf() - initialStart.valueOf();\n\n                itemData.start = snap ? snap(start, scale, step) : start;\n                itemData.end   = new Date(itemData.start.valueOf() + duration);\n              }\n              else {\n                itemData.start = snap ? snap(start, scale, step) : start;\n              }\n            }\n          }\n        }\n\n        if (me.options.editable.updateGroup && (!props.dragLeft && !props.dragRight)) {\n          if (itemData.group != undefined) {\n            // drag from one group to another\n            var group = me.groupFromTarget(event);\n            if (group) {\n              itemData.group = group.groupId;\n            }\n          }\n        }\n\n        // confirm moving the item\n        me.options.onMoving(itemData, function (itemData) {\n          if (itemData) {\n            props.item.setData(itemData);\n          }\n        });\n      });\n\n      this.stackDirty = true; // force re-stacking of all items next redraw\n      this.body.emitter.emit(\'change\');\n    }\n  };\n\n  /**\n   * Move an item to another group\n   * @param {Item} item\n   * @param {String | Number} groupId\n   * @private\n   */\n  ItemSet.prototype._moveToGroup = function(item, groupId) {\n    var group = this.groups[groupId];\n    if (group && group.groupId != item.data.group) {\n      var oldGroup = item.parent;\n      oldGroup.remove(item);\n      oldGroup.order();\n      group.add(item);\n      group.order();\n\n      item.data.group = group.groupId;\n    }\n  };\n\n  /**\n   * End of dragging selected items\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onDragEnd = function (event) {\n    event.preventDefault();\n\n    if (this.touchParams.itemProps) {\n      event.stopPropagation();\n\n      // prepare a change set for the changed items\n      var changes = [];\n      var me = this;\n      var dataset = this.itemsData.getDataSet();\n\n      var itemProps = this.touchParams.itemProps ;\n      this.touchParams.itemProps = null;\n      itemProps.forEach(function (props) {\n        var id = props.item.id;\n        var exists = me.itemsData.get(id, me.itemOptions) != null;\n\n        if (!exists) {\n          // add a new item\n          me.options.onAdd(props.item.data, function (itemData) {\n            me._removeItem(props.item); // remove temporary item\n            if (itemData) {\n              me.itemsData.getDataSet().add(itemData);\n            }\n\n            // force re-stacking of all items next redraw\n            me.stackDirty = true;\n            me.body.emitter.emit(\'change\');\n          });\n        }\n        else {\n          // update existing item\n          var itemData = util.extend({}, props.item.data); // clone the data\n          me.options.onMove(itemData, function (itemData) {\n            if (itemData) {\n              // apply changes\n              itemData[dataset._fieldId] = id; // ensure the item contains its id (can be undefined)\n              changes.push(itemData);\n            }\n            else {\n              // restore original values\n              props.item.setData(props.data);\n\n              me.stackDirty = true; // force re-stacking of all items next redraw\n              me.body.emitter.emit(\'change\');\n            }\n          });\n        }\n      });\n\n      // apply the changes to the data (if there are changes)\n      if (changes.length) {\n        dataset.update(changes);\n      }\n    }\n  };\n\n  /**\n   * Handle selecting/deselecting an item when tapping it\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onSelectItem = function (event) {\n    if (!this.options.selectable) return;\n\n    var ctrlKey  = event.gesture.srcEvent && event.gesture.srcEvent.ctrlKey;\n    var shiftKey = event.gesture.srcEvent && event.gesture.srcEvent.shiftKey;\n    if (ctrlKey || shiftKey) {\n      this._onMultiSelectItem(event);\n      return;\n    }\n\n    var oldSelection = this.getSelection();\n\n    var item = this.itemFromTarget(event);\n    var selection = item ? [item.id] : [];\n    this.setSelection(selection);\n\n    var newSelection = this.getSelection();\n\n    // emit a select event,\n    // except when old selection is empty and new selection is still empty\n    if (newSelection.length > 0 || oldSelection.length > 0) {\n      this.body.emitter.emit(\'select\', {\n        items: newSelection\n      });\n    }\n  };\n\n  /**\n   * Handle creation and updates of an item on double tap\n   * @param event\n   * @private\n   */\n  ItemSet.prototype._onAddItem = function (event) {\n    if (!this.options.selectable) return;\n    if (!this.options.editable.add) return;\n\n    var me = this,\n        snap = this.options.snap || null,\n        item = this.itemFromTarget(event);\n\n    if (item) {\n      // update item\n\n      // execute async handler to update the item (or cancel it)\n      var itemData = me.itemsData.get(item.id); // get a clone of the data from the dataset\n      this.options.onUpdate(itemData, function (itemData) {\n        if (itemData) {\n          me.itemsData.getDataSet().update(itemData);\n        }\n      });\n    }\n    else {\n      // add item\n      var xAbs = util.getAbsoluteLeft(this.dom.frame);\n      var x = event.gesture.center.pageX - xAbs;\n      var start = this.body.util.toTime(x);\n      var scale = this.body.util.getScale();\n      var step = this.body.util.getStep();\n\n      var newItem = {\n        start: snap ? snap(start, scale, step) : start,\n        content: \'new item\'\n      };\n\n      // when default type is a range, add a default end date to the new item\n      if (this.options.type === \'range\') {\n        var end = this.body.util.toTime(x + this.props.width / 5);\n        newItem.end = snap ? snap(end, scale, step) : end;\n      }\n\n      newItem[this.itemsData._fieldId] = util.randomUUID();\n\n      var group = this.groupFromTarget(event);\n      if (group) {\n        newItem.group = group.groupId;\n      }\n\n      // execute async handler to customize (or cancel) adding an item\n      this.options.onAdd(newItem, function (item) {\n        if (item) {\n          me.itemsData.getDataSet().add(item);\n          // TODO: need to trigger a redraw?\n        }\n      });\n    }\n  };\n\n  /**\n   * Handle selecting/deselecting multiple items when holding an item\n   * @param {Event} event\n   * @private\n   */\n  ItemSet.prototype._onMultiSelectItem = function (event) {\n    if (!this.options.selectable) return;\n\n    var selection,\n        item = this.itemFromTarget(event);\n\n    if (item) {\n      // multi select items\n      selection = this.getSelection(); // current selection\n\n      var shiftKey = event.gesture.touches[0] && event.gesture.touches[0].shiftKey || false;\n      if (shiftKey) {\n        // select all items between the old selection and the tapped item\n\n        // determine the selection range\n        selection.push(item.id);\n        var range = ItemSet._getItemRange(this.itemsData.get(selection, this.itemOptions));\n\n        // select all items within the selection range\n        selection = [];\n        for (var id in this.items) {\n          if (this.items.hasOwnProperty(id)) {\n            var _item = this.items[id];\n            var start = _item.data.start;\n            var end = (_item.data.end !== undefined) ? _item.data.end : start;\n\n            if (start >= range.min &&\n                end <= range.max &&\n                !(_item instanceof BackgroundItem)) {\n              selection.push(_item.id); // do not use id but item.id, id itself is stringified\n            }\n          }\n        }\n      }\n      else {\n        // add/remove this item from the current selection\n        var index = selection.indexOf(item.id);\n        if (index == -1) {\n          // item is not yet selected -> select it\n          selection.push(item.id);\n        }\n        else {\n          // item is already selected -> deselect it\n          selection.splice(index, 1);\n        }\n      }\n\n      this.setSelection(selection);\n\n      this.body.emitter.emit(\'select\', {\n        items: this.getSelection()\n      });\n    }\n  };\n\n  /**\n   * Calculate the time range of a list of items\n   * @param {Array.<Object>} itemsData\n   * @return {{min: Date, max: Date}} Returns the range of the provided items\n   * @private\n   */\n  ItemSet._getItemRange = function(itemsData) {\n    var max = null;\n    var min = null;\n\n    itemsData.forEach(function (data) {\n      if (min == null || data.start < min) {\n        min = data.start;\n      }\n\n      if (data.end != undefined) {\n        if (max == null || data.end > max) {\n          max = data.end;\n        }\n      }\n      else {\n        if (max == null || data.start > max) {\n          max = data.start;\n        }\n      }\n    });\n\n    return {\n      min: min,\n      max: max\n    }\n  };\n\n  /**\n   * Find an item from an event target:\n   * searches for the attribute \'timeline-item\' in the event target\'s element tree\n   * @param {Event} event\n   * @return {Item | null} item\n   */\n  ItemSet.prototype.itemFromTarget = function(event) {\n    var target = event.target;\n    while (target) {\n      if (target.hasOwnProperty(\'timeline-item\')) {\n        return target[\'timeline-item\'];\n      }\n      target = target.parentNode;\n    }\n\n    return null;\n  };\n\n  /**\n   * Find the Group from an event target:\n   * searches for the attribute \'timeline-group\' in the event target\'s element tree\n   * @param {Event} event\n   * @return {Group | null} group\n   */\n  ItemSet.prototype.groupFromTarget = function(event) {\n    var pageY = event.gesture ? event.gesture.center.pageY : event.pageY;\n    for (var i = 0; i < this.groupIds.length; i++) {\n      var groupId = this.groupIds[i];\n      var group = this.groups[groupId];\n      var foreground = group.dom.foreground;\n      var top = util.getAbsoluteTop(foreground);\n      if (pageY > top && pageY < top + foreground.offsetHeight) {\n        return group;\n      }\n\n      if (this.options.orientation === \'top\') {\n        if (i === this.groupIds.length - 1 && pageY > top) {\n          return group;\n        }\n      }\n      else {\n        if (i === 0 && pageY < top + foreground.offset) {\n          return group;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  /**\n   * Find the ItemSet from an event target:\n   * searches for the attribute \'timeline-itemset\' in the event target\'s element tree\n   * @param {Event} event\n   * @return {ItemSet | null} item\n   */\n  ItemSet.itemSetFromTarget = function(event) {\n    var target = event.target;\n    while (target) {\n      if (target.hasOwnProperty(\'timeline-itemset\')) {\n        return target[\'timeline-itemset\'];\n      }\n      target = target.parentNode;\n    }\n\n    return null;\n  };\n\n  module.exports = ItemSet;\n\n\n/***/ },\n/* 33 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var DOMutil = __webpack_require__(2);\n  var Component = __webpack_require__(25);\n\n  /**\n   * Legend for Graph2d\n   */\n  function Legend(body, options, side, linegraphOptions) {\n    this.body = body;\n    this.defaultOptions = {\n      enabled: true,\n      icons: true,\n      iconSize: 20,\n      iconSpacing: 6,\n      left: {\n        visible: true,\n        position: \'top-left\' // top/bottom - left,center,right\n      },\n      right: {\n        visible: true,\n        position: \'top-left\' // top/bottom - left,center,right\n      }\n    }\n    this.side = side;\n    this.options = util.extend({},this.defaultOptions);\n    this.linegraphOptions = linegraphOptions;\n\n    this.svgElements = {};\n    this.dom = {};\n    this.groups = {};\n    this.amountOfGroups = 0;\n    this._create();\n\n    this.setOptions(options);\n  }\n\n  Legend.prototype = new Component();\n\n  Legend.prototype.clear = function() {\n    this.groups = {};\n    this.amountOfGroups = 0;\n  }\n\n  Legend.prototype.addGroup = function(label, graphOptions) {\n\n    if (!this.groups.hasOwnProperty(label)) {\n      this.groups[label] = graphOptions;\n    }\n    this.amountOfGroups += 1;\n  };\n\n  Legend.prototype.updateGroup = function(label, graphOptions) {\n    this.groups[label] = graphOptions;\n  };\n\n  Legend.prototype.removeGroup = function(label) {\n    if (this.groups.hasOwnProperty(label)) {\n      delete this.groups[label];\n      this.amountOfGroups -= 1;\n    }\n  };\n\n  Legend.prototype._create = function() {\n    this.dom.frame = document.createElement(\'div\');\n    this.dom.frame.className = \'legend\';\n    this.dom.frame.style.position = "absolute";\n    this.dom.frame.style.top = "10px";\n    this.dom.frame.style.display = "block";\n\n    this.dom.textArea = document.createElement(\'div\');\n    this.dom.textArea.className = \'legendText\';\n    this.dom.textArea.style.position = "relative";\n    this.dom.textArea.style.top = "0px";\n\n    this.svg = document.createElementNS(\'http://www.w3.org/2000/svg\',"svg");\n    this.svg.style.position = \'absolute\';\n    this.svg.style.top = 0 +\'px\';\n    this.svg.style.width = this.options.iconSize + 5 + \'px\';\n    this.svg.style.height = \'100%\';\n\n    this.dom.frame.appendChild(this.svg);\n    this.dom.frame.appendChild(this.dom.textArea);\n  };\n\n  /**\n   * Hide the component from the DOM\n   */\n  Legend.prototype.hide = function() {\n    // remove the frame containing the items\n    if (this.dom.frame.parentNode) {\n      this.dom.frame.parentNode.removeChild(this.dom.frame);\n    }\n  };\n\n  /**\n   * Show the component in the DOM (when not already visible).\n   * @return {Boolean} changed\n   */\n  Legend.prototype.show = function() {\n    // show frame containing the items\n    if (!this.dom.frame.parentNode) {\n      this.body.dom.center.appendChild(this.dom.frame);\n    }\n  };\n\n  Legend.prototype.setOptions = function(options) {\n    var fields = [\'enabled\',\'orientation\',\'icons\',\'left\',\'right\'];\n    util.selectiveDeepExtend(fields, this.options, options);\n  };\n\n  Legend.prototype.redraw = function() {\n    var activeGroups = 0;\n    for (var groupId in this.groups) {\n      if (this.groups.hasOwnProperty(groupId)) {\n        if (this.groups[groupId].visible == true && (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] == true)) {\n          activeGroups++;\n        }\n      }\n    }\n\n    if (this.options[this.side].visible == false || this.amountOfGroups == 0 || this.options.enabled == false || activeGroups == 0) {\n      this.hide();\n    }\n    else {\n      this.show();\n      if (this.options[this.side].position == \'top-left\' || this.options[this.side].position == \'bottom-left\') {\n        this.dom.frame.style.left = \'4px\';\n        this.dom.frame.style.textAlign = "left";\n        this.dom.textArea.style.textAlign = "left";\n        this.dom.textArea.style.left = (this.options.iconSize + 15) + \'px\';\n        this.dom.textArea.style.right = \'\';\n        this.svg.style.left = 0 +\'px\';\n        this.svg.style.right = \'\';\n      }\n      else {\n        this.dom.frame.style.right = \'4px\';\n        this.dom.frame.style.textAlign = "right";\n        this.dom.textArea.style.textAlign = "right";\n        this.dom.textArea.style.right = (this.options.iconSize + 15) + \'px\';\n        this.dom.textArea.style.left = \'\';\n        this.svg.style.right = 0 +\'px\';\n        this.svg.style.left = \'\';\n      }\n\n      if (this.options[this.side].position == \'top-left\' || this.options[this.side].position == \'top-right\') {\n        this.dom.frame.style.top = 4 - Number(this.body.dom.center.style.top.replace("px","")) + \'px\';\n        this.dom.frame.style.bottom = \'\';\n      }\n      else {\n        var scrollableHeight = this.body.domProps.center.height - this.body.domProps.centerContainer.height;\n        this.dom.frame.style.bottom = 4 + scrollableHeight + Number(this.body.dom.center.style.top.replace("px","")) + \'px\';\n        this.dom.frame.style.top = \'\';\n      }\n\n      if (this.options.icons == false) {\n        this.dom.frame.style.width = this.dom.textArea.offsetWidth + 10 + \'px\';\n        this.dom.textArea.style.right = \'\';\n        this.dom.textArea.style.left = \'\';\n        this.svg.style.width = \'0px\';\n      }\n      else {\n        this.dom.frame.style.width = this.options.iconSize + 15 + this.dom.textArea.offsetWidth + 10 + \'px\'\n        this.drawLegendIcons();\n      }\n\n      var content = \'\';\n      for (var groupId in this.groups) {\n        if (this.groups.hasOwnProperty(groupId)) {\n          if (this.groups[groupId].visible == true && (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] == true)) {\n            content += this.groups[groupId].content + \'<br />\';\n          }\n        }\n      }\n      this.dom.textArea.innerHTML = content;\n      this.dom.textArea.style.lineHeight = ((0.75 * this.options.iconSize) + this.options.iconSpacing) + \'px\';\n    }\n  };\n\n  Legend.prototype.drawLegendIcons = function() {\n    if (this.dom.frame.parentNode) {\n      DOMutil.prepareElements(this.svgElements);\n      var padding = window.getComputedStyle(this.dom.frame).paddingTop;\n      var iconOffset = Number(padding.replace(\'px\',\'\'));\n      var x = iconOffset;\n      var iconWidth = this.options.iconSize;\n      var iconHeight = 0.75 * this.options.iconSize;\n      var y = iconOffset + 0.5 * iconHeight + 3;\n\n      this.svg.style.width = iconWidth + 5 + iconOffset + \'px\';\n\n      for (var groupId in this.groups) {\n        if (this.groups.hasOwnProperty(groupId)) {\n          if (this.groups[groupId].visible == true && (this.linegraphOptions.visibility[groupId] === undefined || this.linegraphOptions.visibility[groupId] == true)) {\n            this.groups[groupId].drawIcon(x, y, this.svgElements, this.svg, iconWidth, iconHeight);\n            y += iconHeight + this.options.iconSpacing;\n          }\n        }\n      }\n\n      DOMutil.cleanupElements(this.svgElements);\n    }\n  };\n\n  module.exports = Legend;\n\n\n/***/ },\n/* 34 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var DOMutil = __webpack_require__(2);\n  var DataSet = __webpack_require__(3);\n  var DataView = __webpack_require__(4);\n  var Component = __webpack_require__(25);\n  var DataAxis = __webpack_require__(28);\n  var GraphGroup = __webpack_require__(29);\n  var Legend = __webpack_require__(33);\n  var BarGraphFunctions = __webpack_require__(50);\n\n  var UNGROUPED = \'__ungrouped__\'; // reserved group id for ungrouped items\n\n  /**\n   * This is the constructor of the LineGraph. It requires a Timeline body and options.\n   *\n   * @param body\n   * @param options\n   * @constructor\n   */\n  function LineGraph(body, options) {\n    this.id = util.randomUUID();\n    this.body = body;\n\n    this.defaultOptions = {\n      yAxisOrientation: \'left\',\n      defaultGroup: \'default\',\n      sort: true,\n      sampling: true,\n      graphHeight: \'400px\',\n      shaded: {\n        enabled: false,\n        orientation: \'bottom\' // top, bottom\n      },\n      style: \'line\', // line, bar\n      barChart: {\n        width: 50,\n        handleOverlap: \'overlap\',\n        align: \'center\' // left, center, right\n      },\n      catmullRom: {\n        enabled: true,\n        parametrization: \'centripetal\', // uniform (alpha = 0.0), chordal (alpha = 1.0), centripetal (alpha = 0.5)\n        alpha: 0.5\n      },\n      drawPoints: {\n        enabled: true,\n        size: 6,\n        style: \'square\' // square, circle\n      },\n      dataAxis: {\n        showMinorLabels: true,\n        showMajorLabels: true,\n        icons: false,\n        width: \'40px\',\n        visible: true,\n        alignZeros: true,\n        customRange: {\n          left: {min:undefined, max:undefined},\n          right: {min:undefined, max:undefined}\n        }\n        //, these options are not set by default, but this shows the format they will be in\n        //format: {\n        //  left: {decimals: 2},\n        //  right: {decimals: 2}\n        //},\n        //title: {\n        //  left: {\n        //    text: \'left\',\n        //    style: \'color:black;\'\n        //  },\n        //  right: {\n        //    text: \'right\',\n        //    style: \'color:black;\'\n        //  }\n        //}\n      },\n      legend: {\n        enabled: false,\n        icons: true,\n        left: {\n          visible: true,\n          position: \'top-left\' // top/bottom - left,right\n        },\n        right: {\n          visible: true,\n          position: \'top-right\' // top/bottom - left,right\n        }\n      },\n      groups: {\n        visibility: {}\n      }\n    };\n\n    // options is shared by this ItemSet and all its items\n    this.options = util.extend({}, this.defaultOptions);\n    this.dom = {};\n    this.props = {};\n    this.hammer = null;\n    this.groups = {};\n    this.abortedGraphUpdate = false;\n    this.updateSVGheight = false;\n    this.updateSVGheightOnResize = false;\n\n    var me = this;\n    this.itemsData = null;    // DataSet\n    this.groupsData = null;   // DataSet\n\n    // listeners for the DataSet of the items\n    this.itemListeners = {\n      \'add\': function (event, params, senderId) {\n        me._onAdd(params.items);\n      },\n      \'update\': function (event, params, senderId) {\n        me._onUpdate(params.items);\n      },\n      \'remove\': function (event, params, senderId) {\n        me._onRemove(params.items);\n      }\n    };\n\n    // listeners for the DataSet of the groups\n    this.groupListeners = {\n      \'add\': function (event, params, senderId) {\n        me._onAddGroups(params.items);\n      },\n      \'update\': function (event, params, senderId) {\n        me._onUpdateGroups(params.items);\n      },\n      \'remove\': function (event, params, senderId) {\n        me._onRemoveGroups(params.items);\n      }\n    };\n\n    this.items = {};      // object with an Item for every data item\n    this.selection = [];  // list with the ids of all selected nodes\n    this.lastStart = this.body.range.start;\n    this.touchParams = {}; // stores properties while dragging\n\n    this.svgElements = {};\n    this.setOptions(options);\n    this.groupsUsingDefaultStyles = [0];\n    this.COUNTER = 0;\n    this.body.emitter.on(\'rangechanged\', function() {\n      me.lastStart = me.body.range.start;\n      me.svg.style.left = util.option.asSize(-me.props.width);\n      me.redraw.call(me,true);\n    });\n\n    // create the HTML DOM\n    this._create();\n    this.framework = {svg: this.svg, svgElements: this.svgElements, options: this.options, groups: this.groups};\n    this.body.emitter.emit(\'change\');\n\n  }\n\n  LineGraph.prototype = new Component();\n\n  /**\n   * Create the HTML DOM for the ItemSet\n   */\n  LineGraph.prototype._create = function(){\n    var frame = document.createElement(\'div\');\n    frame.className = \'LineGraph\';\n    this.dom.frame = frame;\n\n    // create svg element for graph drawing.\n    this.svg = document.createElementNS(\'http://www.w3.org/2000/svg\',\'svg\');\n    this.svg.style.position = \'relative\';\n    this.svg.style.height = (\'\' + this.options.graphHeight).replace(\'px\',\'\') + \'px\';\n    this.svg.style.display = \'block\';\n    frame.appendChild(this.svg);\n\n    // data axis\n    this.options.dataAxis.orientation = \'left\';\n    this.yAxisLeft = new DataAxis(this.body, this.options.dataAxis, this.svg, this.options.groups);\n\n    this.options.dataAxis.orientation = \'right\';\n    this.yAxisRight = new DataAxis(this.body, this.options.dataAxis, this.svg, this.options.groups);\n    delete this.options.dataAxis.orientation;\n\n    // legends\n    this.legendLeft = new Legend(this.body, this.options.legend, \'left\', this.options.groups);\n    this.legendRight = new Legend(this.body, this.options.legend, \'right\', this.options.groups);\n\n    this.show();\n  };\n\n  /**\n   * set the options of the LineGraph. the mergeOptions is used for subObjects that have an enabled element.\n   * @param {object} options\n   */\n  LineGraph.prototype.setOptions = function(options) {\n    if (options) {\n      var fields = [\'sampling\',\'defaultGroup\',\'height\',\'graphHeight\',\'yAxisOrientation\',\'style\',\'barChart\',\'dataAxis\',\'sort\',\'groups\'];\n      if (options.graphHeight === undefined && options.height !== undefined && this.body.domProps.centerContainer.height !== undefined) {\n        this.updateSVGheight = true;\n        this.updateSVGheightOnResize = true;\n      }\n      else if (this.body.domProps.centerContainer.height !== undefined && options.graphHeight !== undefined) {\n        if (parseInt((options.graphHeight + \'\').replace("px",\'\')) < this.body.domProps.centerContainer.height) {\n          this.updateSVGheight = true;\n        }\n      }\n      util.selectiveDeepExtend(fields, this.options, options);\n      util.mergeOptions(this.options, options,\'catmullRom\');\n      util.mergeOptions(this.options, options,\'drawPoints\');\n      util.mergeOptions(this.options, options,\'shaded\');\n      util.mergeOptions(this.options, options,\'legend\');\n\n      if (options.catmullRom) {\n        if (typeof options.catmullRom == \'object\') {\n          if (options.catmullRom.parametrization) {\n            if (options.catmullRom.parametrization == \'uniform\') {\n              this.options.catmullRom.alpha = 0;\n            }\n            else if (options.catmullRom.parametrization == \'chordal\') {\n              this.options.catmullRom.alpha = 1.0;\n            }\n            else {\n              this.options.catmullRom.parametrization = \'centripetal\';\n              this.options.catmullRom.alpha = 0.5;\n            }\n          }\n        }\n      }\n\n      if (this.yAxisLeft) {\n        if (options.dataAxis !== undefined) {\n          this.yAxisLeft.setOptions(this.options.dataAxis);\n          this.yAxisRight.setOptions(this.options.dataAxis);\n        }\n      }\n\n      if (this.legendLeft) {\n        if (options.legend !== undefined) {\n          this.legendLeft.setOptions(this.options.legend);\n          this.legendRight.setOptions(this.options.legend);\n        }\n      }\n\n      if (this.groups.hasOwnProperty(UNGROUPED)) {\n        this.groups[UNGROUPED].setOptions(options);\n      }\n    }\n\n    // this is used to redraw the graph if the visibility of the groups is changed.\n    if (this.dom.frame) {\n      this.redraw(true);\n    }\n  };\n\n  /**\n   * Hide the component from the DOM\n   */\n  LineGraph.prototype.hide = function() {\n    // remove the frame containing the items\n    if (this.dom.frame.parentNode) {\n      this.dom.frame.parentNode.removeChild(this.dom.frame);\n    }\n  };\n\n\n  /**\n   * Show the component in the DOM (when not already visible).\n   * @return {Boolean} changed\n   */\n  LineGraph.prototype.show = function() {\n    // show frame containing the items\n    if (!this.dom.frame.parentNode) {\n      this.body.dom.center.appendChild(this.dom.frame);\n    }\n  };\n\n\n  /**\n   * Set items\n   * @param {vis.DataSet | null} items\n   */\n  LineGraph.prototype.setItems = function(items) {\n    var me = this,\n      ids,\n      oldItemsData = this.itemsData;\n\n    // replace the dataset\n    if (!items) {\n      this.itemsData = null;\n    }\n    else if (items instanceof DataSet || items instanceof DataView) {\n      this.itemsData = items;\n    }\n    else {\n      throw new TypeError(\'Data must be an instance of DataSet or DataView\');\n    }\n\n    if (oldItemsData) {\n      // unsubscribe from old dataset\n      util.forEach(this.itemListeners, function (callback, event) {\n        oldItemsData.off(event, callback);\n      });\n\n      // remove all drawn items\n      ids = oldItemsData.getIds();\n      this._onRemove(ids);\n    }\n\n    if (this.itemsData) {\n      // subscribe to new dataset\n      var id = this.id;\n      util.forEach(this.itemListeners, function (callback, event) {\n        me.itemsData.on(event, callback, id);\n      });\n\n      // add all new items\n      ids = this.itemsData.getIds();\n      this._onAdd(ids);\n    }\n    this._updateUngrouped();\n    //this._updateGraph();\n    this.redraw(true);\n  };\n\n\n  /**\n   * Set groups\n   * @param {vis.DataSet} groups\n   */\n  LineGraph.prototype.setGroups = function(groups) {\n    var me = this;\n    var ids;\n\n    // unsubscribe from current dataset\n    if (this.groupsData) {\n      util.forEach(this.groupListeners, function (callback, event) {\n        me.groupsData.unsubscribe(event, callback);\n      });\n\n      // remove all drawn groups\n      ids = this.groupsData.getIds();\n      this.groupsData = null;\n      this._onRemoveGroups(ids); // note: this will cause a redraw\n    }\n\n    // replace the dataset\n    if (!groups) {\n      this.groupsData = null;\n    }\n    else if (groups instanceof DataSet || groups instanceof DataView) {\n      this.groupsData = groups;\n    }\n    else {\n      throw new TypeError(\'Data must be an instance of DataSet or DataView\');\n    }\n\n    if (this.groupsData) {\n      // subscribe to new dataset\n      var id = this.id;\n      util.forEach(this.groupListeners, function (callback, event) {\n        me.groupsData.on(event, callback, id);\n      });\n\n      // draw all ms\n      ids = this.groupsData.getIds();\n      this._onAddGroups(ids);\n    }\n    this._onUpdate();\n  };\n\n\n  /**\n   * Update the data\n   * @param [ids]\n   * @private\n   */\n  LineGraph.prototype._onUpdate = function(ids) {\n    this._updateUngrouped();\n    this._updateAllGroupData();\n    //this._updateGraph();\n    this.redraw(true);\n  };\n  LineGraph.prototype._onAdd          = function (ids) {this._onUpdate(ids);};\n  LineGraph.prototype._onRemove       = function (ids) {this._onUpdate(ids);};\n  LineGraph.prototype._onUpdateGroups  = function (groupIds) {\n    for (var i = 0; i < groupIds.length; i++) {\n      var group = this.groupsData.get(groupIds[i]);\n      this._updateGroup(group, groupIds[i]);\n    }\n\n    //this._updateGraph();\n    this.redraw(true);\n  };\n  LineGraph.prototype._onAddGroups = function (groupIds) {this._onUpdateGroups(groupIds);};\n\n\n  /**\n   * this cleans the group out off the legends and the dataaxis, updates the ungrouped and updates the graph\n   * @param {Array} groupIds\n   * @private\n   */\n  LineGraph.prototype._onRemoveGroups = function (groupIds) {\n    for (var i = 0; i < groupIds.length; i++) {\n      if (this.groups.hasOwnProperty(groupIds[i])) {\n        if (this.groups[groupIds[i]].options.yAxisOrientation == \'right\') {\n          this.yAxisRight.removeGroup(groupIds[i]);\n          this.legendRight.removeGroup(groupIds[i]);\n          this.legendRight.redraw();\n        }\n        else {\n          this.yAxisLeft.removeGroup(groupIds[i]);\n          this.legendLeft.removeGroup(groupIds[i]);\n          this.legendLeft.redraw();\n        }\n        delete this.groups[groupIds[i]];\n      }\n    }\n    this._updateUngrouped();\n    //this._updateGraph();\n    this.redraw(true);\n  };\n\n\n  /**\n   * update a group object with the group dataset entree\n   *\n   * @param group\n   * @param groupId\n   * @private\n   */\n  LineGraph.prototype._updateGroup = function (group, groupId) {\n    if (!this.groups.hasOwnProperty(groupId)) {\n      this.groups[groupId] = new GraphGroup(group, groupId, this.options, this.groupsUsingDefaultStyles);\n      if (this.groups[groupId].options.yAxisOrientation == \'right\') {\n        this.yAxisRight.addGroup(groupId, this.groups[groupId]);\n        this.legendRight.addGroup(groupId, this.groups[groupId]);\n      }\n      else {\n        this.yAxisLeft.addGroup(groupId, this.groups[groupId]);\n        this.legendLeft.addGroup(groupId, this.groups[groupId]);\n      }\n    }\n    else {\n      this.groups[groupId].update(group);\n      if (this.groups[groupId].options.yAxisOrientation == \'right\') {\n        this.yAxisRight.updateGroup(groupId, this.groups[groupId]);\n        this.legendRight.updateGroup(groupId, this.groups[groupId]);\n      }\n      else {\n        this.yAxisLeft.updateGroup(groupId, this.groups[groupId]);\n        this.legendLeft.updateGroup(groupId, this.groups[groupId]);\n      }\n    }\n    this.legendLeft.redraw();\n    this.legendRight.redraw();\n  };\n\n\n  /**\n   * this updates all groups, it is used when there is an update the the itemset.\n   *\n   * @private\n   */\n  LineGraph.prototype._updateAllGroupData = function () {\n    if (this.itemsData != null) {\n      var groupsContent = {};\n      var groupId;\n      for (groupId in this.groups) {\n        if (this.groups.hasOwnProperty(groupId)) {\n          groupsContent[groupId] = [];\n        }\n      }\n      for (var itemId in this.itemsData._data) {\n        if (this.itemsData._data.hasOwnProperty(itemId)) {\n          var item = this.itemsData._data[itemId];\n          if (groupsContent[item.group] === undefined) {\n            throw new Error(\'Cannot find referenced group. Possible reason: items added before groups? Groups need to be added before items, as items refer to groups.\')\n          }\n          item.x = util.convert(item.x,\'Date\');\n          groupsContent[item.group].push(item);\n        }\n      }\n      for (groupId in this.groups) {\n        if (this.groups.hasOwnProperty(groupId)) {\n          this.groups[groupId].setItems(groupsContent[groupId]);\n        }\n      }\n    }\n  };\n\n\n  /**\n   * Create or delete the group holding all ungrouped items. This group is used when\n   * there are no groups specified. This anonymous group is called \'graph\'.\n   * @protected\n   */\n  LineGraph.prototype._updateUngrouped = function() {\n    if (this.itemsData && this.itemsData != null) {\n      var ungroupedCounter = 0;\n      for (var itemId in this.itemsData._data) {\n        if (this.itemsData._data.hasOwnProperty(itemId)) {\n          var item = this.itemsData._data[itemId];\n          if (item != undefined) {\n            if (item.hasOwnProperty(\'group\')) {\n              if (item.group === undefined) {\n                item.group = UNGROUPED;\n              }\n            }\n            else {\n              item.group = UNGROUPED;\n            }\n            ungroupedCounter = item.group == UNGROUPED ? ungroupedCounter + 1 : ungroupedCounter;\n          }\n        }\n      }\n\n      if (ungroupedCounter == 0) {\n        delete this.groups[UNGROUPED];\n        this.legendLeft.removeGroup(UNGROUPED);\n        this.legendRight.removeGroup(UNGROUPED);\n        this.yAxisLeft.removeGroup(UNGROUPED);\n        this.yAxisRight.removeGroup(UNGROUPED);\n      }\n      else {\n        var group = {id: UNGROUPED, content: this.options.defaultGroup};\n        this._updateGroup(group, UNGROUPED);\n      }\n    }\n    else {\n      delete this.groups[UNGROUPED];\n      this.legendLeft.removeGroup(UNGROUPED);\n      this.legendRight.removeGroup(UNGROUPED);\n      this.yAxisLeft.removeGroup(UNGROUPED);\n      this.yAxisRight.removeGroup(UNGROUPED);\n    }\n\n    this.legendLeft.redraw();\n    this.legendRight.redraw();\n  };\n\n\n  /**\n   * Redraw the component, mandatory function\n   * @return {boolean} Returns true if the component is resized\n   */\n  LineGraph.prototype.redraw = function(forceGraphUpdate) {\n    var resized = false;\n\n    // calculate actual size and position\n    this.props.width = this.dom.frame.offsetWidth;\n    this.props.height = this.body.domProps.centerContainer.height;\n\n    // update the graph if there is no lastWidth or with, used for the initial draw\n    if (this.lastWidth === undefined && this.props.width) {\n      forceGraphUpdate = true;\n    }\n\n    // check if this component is resized\n    resized = this._isResized() || resized;\n\n    // check whether zoomed (in that case we need to re-stack everything)\n    var visibleInterval = this.body.range.end - this.body.range.start;\n    var zoomed = (visibleInterval != this.lastVisibleInterval);\n    this.lastVisibleInterval = visibleInterval;\n\n\n    // the svg element is three times as big as the width, this allows for fully dragging left and right\n    // without reloading the graph. the controls for this are bound to events in the constructor\n    if (resized == true) {\n      this.svg.style.width = util.option.asSize(3*this.props.width);\n      this.svg.style.left = util.option.asSize(-this.props.width);\n\n      // if the height of the graph is set as proportional, change the height of the svg\n      if ((this.options.height + \'\').indexOf("%") != -1 || this.updateSVGheightOnResize == true) {\n        this.updateSVGheight = true;\n      }\n    }\n\n    // update the height of the graph on each redraw of the graph.\n    if (this.updateSVGheight == true) {\n      if (this.options.graphHeight != this.body.domProps.centerContainer.height + \'px\') {\n        this.options.graphHeight = this.body.domProps.centerContainer.height + \'px\';\n        this.svg.style.height = this.body.domProps.centerContainer.height + \'px\';\n      }\n      this.updateSVGheight = false;\n    }\n    else {\n      this.svg.style.height = (\'\' + this.options.graphHeight).replace(\'px\',\'\') + \'px\';\n    }\n\n    // zoomed is here to ensure that animations are shown correctly.\n    if (resized == true || zoomed == true || this.abortedGraphUpdate == true || forceGraphUpdate == true) {\n      resized = this._updateGraph() || resized;\n    }\n    else {\n      // move the whole svg while dragging\n      if (this.lastStart != 0) {\n        var offset = this.body.range.start - this.lastStart;\n        var range = this.body.range.end - this.body.range.start;\n        if (this.props.width != 0) {\n          var rangePerPixelInv = this.props.width/range;\n          var xOffset = offset * rangePerPixelInv;\n          this.svg.style.left = (-this.props.width - xOffset) + \'px\';\n        }\n      }\n    }\n\n    this.legendLeft.redraw();\n    this.legendRight.redraw();\n    return resized;\n  };\n\n\n  /**\n   * Update and redraw the graph.\n   *\n   */\n  LineGraph.prototype._updateGraph = function () {\n    // reset the svg elements\n    DOMutil.prepareElements(this.svgElements);\n    if (this.props.width != 0 && this.itemsData != null) {\n      var group, i;\n      var preprocessedGroupData = {};\n      var processedGroupData = {};\n      var groupRanges = {};\n      var changeCalled = false;\n\n      // getting group Ids\n      var groupIds = [];\n      for (var groupId in this.groups) {\n        if (this.groups.hasOwnProperty(groupId)) {\n          group = this.groups[groupId];\n          if (group.visible == true && (this.options.groups.visibility[groupId] === undefined || this.options.groups.visibility[groupId] == true)) {\n            groupIds.push(groupId);\n          }\n        }\n      }\n      if (groupIds.length > 0) {\n        // this is the range of the SVG canvas\n        var minDate = this.body.util.toGlobalTime(-this.body.domProps.root.width);\n        var maxDate = this.body.util.toGlobalTime(2 * this.body.domProps.root.width);\n        var groupsData = {};\n        // fill groups data, this only loads the data we require based on the timewindow\n        this._getRelevantData(groupIds, groupsData, minDate, maxDate);\n\n        // apply sampling, if disabled, it will pass through this function.\n        this._applySampling(groupIds, groupsData);\n\n        // we transform the X coordinates to detect collisions\n        for (i = 0; i < groupIds.length; i++) {\n          preprocessedGroupData[groupIds[i]] = this._convertXcoordinates(groupsData[groupIds[i]]);\n        }\n\n        // now all needed data has been collected we start the processing.\n        this._getYRanges(groupIds, preprocessedGroupData, groupRanges);\n\n        // update the Y axis first, we use this data to draw at the correct Y points\n        // changeCalled is required to clean the SVG on a change emit.\n        changeCalled = this._updateYAxis(groupIds, groupRanges);\n        var MAX_CYCLES = 5;\n        if (changeCalled == true && this.COUNTER < MAX_CYCLES) {\n          DOMutil.cleanupElements(this.svgElements);\n          this.abortedGraphUpdate = true;\n          this.COUNTER++;\n          this.body.emitter.emit(\'change\');\n          return true;\n        }\n        else {\n          if (this.COUNTER > MAX_CYCLES) {\n            console.log("WARNING: there may be an infinite loop in the _updateGraph emitter cycle.")\n          }\n          this.COUNTER = 0;\n          this.abortedGraphUpdate = false;\n\n          // With the yAxis scaled correctly, use this to get the Y values of the points.\n          for (i = 0; i < groupIds.length; i++) {\n            group = this.groups[groupIds[i]];\n            processedGroupData[groupIds[i]] = this._convertYcoordinates(groupsData[groupIds[i]], group);\n          }\n\n          // draw the groups\n          for (i = 0; i < groupIds.length; i++) {\n            group = this.groups[groupIds[i]];\n            if (group.options.style != \'bar\') { // bar needs to be drawn enmasse\n              group.draw(processedGroupData[groupIds[i]], group, this.framework);\n            }\n          }\n          BarGraphFunctions.draw(groupIds, processedGroupData, this.framework);\n        }\n      }\n    }\n\n    // cleanup unused svg elements\n    DOMutil.cleanupElements(this.svgElements);\n    return false;\n  };\n\n\n  /**\n   * first select and preprocess the data from the datasets.\n   * the groups have their preselection of data, we now loop over this data to see\n   * what data we need to draw. Sorted data is much faster.\n   * more optimization is possible by doing the sampling before and using the binary search\n   * to find the end date to determine the increment.\n   *\n   * @param {array}  groupIds\n   * @param {object} groupsData\n   * @param {date}   minDate\n   * @param {date}   maxDate\n   * @private\n   */\n  LineGraph.prototype._getRelevantData = function (groupIds, groupsData, minDate, maxDate) {\n    var group, i, j, item;\n    if (groupIds.length > 0) {\n      for (i = 0; i < groupIds.length; i++) {\n        group = this.groups[groupIds[i]];\n        groupsData[groupIds[i]] = [];\n        var dataContainer = groupsData[groupIds[i]];\n        // optimization for sorted data\n        if (group.options.sort == true) {\n          var guess = Math.max(0, util.binarySearchValue(group.itemsData, minDate, \'x\', \'before\'));\n          for (j = guess; j < group.itemsData.length; j++) {\n            item = group.itemsData[j];\n            if (item !== undefined) {\n              if (item.x > maxDate) {\n                dataContainer.push(item);\n                break;\n              }\n              else {\n                dataContainer.push(item);\n              }\n            }\n          }\n        }\n        else {\n          for (j = 0; j < group.itemsData.length; j++) {\n            item = group.itemsData[j];\n            if (item !== undefined) {\n              if (item.x > minDate && item.x < maxDate) {\n                dataContainer.push(item);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n\n  /**\n   *\n   * @param groupIds\n   * @param groupsData\n   * @private\n   */\n  LineGraph.prototype._applySampling = function (groupIds, groupsData) {\n    var group;\n    if (groupIds.length > 0) {\n      for (var i = 0; i < groupIds.length; i++) {\n        group = this.groups[groupIds[i]];\n        if (group.options.sampling == true) {\n          var dataContainer = groupsData[groupIds[i]];\n          if (dataContainer.length > 0) {\n            var increment = 1;\n            var amountOfPoints = dataContainer.length;\n\n            // the global screen is used because changing the width of the yAxis may affect the increment, resulting in an endless loop\n            // of width changing of the yAxis.\n            var xDistance = this.body.util.toGlobalScreen(dataContainer[dataContainer.length - 1].x) - this.body.util.toGlobalScreen(dataContainer[0].x);\n            var pointsPerPixel = amountOfPoints / xDistance;\n            increment = Math.min(Math.ceil(0.2 * amountOfPoints), Math.max(1, Math.round(pointsPerPixel)));\n\n            var sampledData = [];\n            for (var j = 0; j < amountOfPoints; j += increment) {\n              sampledData.push(dataContainer[j]);\n\n            }\n            groupsData[groupIds[i]] = sampledData;\n          }\n        }\n      }\n    }\n  };\n\n\n  /**\n   *\n   *\n   * @param {array}  groupIds\n   * @param {object} groupsData\n   * @param {object} groupRanges  | this is being filled here\n   * @private\n   */\n  LineGraph.prototype._getYRanges = function (groupIds, groupsData, groupRanges) {\n    var groupData, group, i;\n    var barCombinedDataLeft = [];\n    var barCombinedDataRight = [];\n    var options;\n    if (groupIds.length > 0) {\n      for (i = 0; i < groupIds.length; i++) {\n        groupData = groupsData[groupIds[i]];\n        options = this.groups[groupIds[i]].options;\n        if (groupData.length > 0) {\n          group = this.groups[groupIds[i]];\n          // if bar graphs are stacked, their range need to be handled differently and accumulated over all groups.\n          if (options.barChart.handleOverlap == \'stack\' && options.style == \'bar\') {\n            if (options.yAxisOrientation == \'left\') {barCombinedDataLeft  = barCombinedDataLeft.concat(group.getYRange(groupData)) ;}\n            else                                    {barCombinedDataRight = barCombinedDataRight.concat(group.getYRange(groupData));}\n          }\n          else {\n            groupRanges[groupIds[i]] = group.getYRange(groupData,groupIds[i]);\n          }\n        }\n      }\n\n      // if bar graphs are stacked, their range need to be handled differently and accumulated over all groups.\n      BarGraphFunctions.getStackedBarYRange(barCombinedDataLeft , groupRanges, groupIds, \'__barchartLeft\' , \'left\' );\n      BarGraphFunctions.getStackedBarYRange(barCombinedDataRight, groupRanges, groupIds, \'__barchartRight\', \'right\');\n    }\n  };\n\n\n  /**\n   * this sets the Y ranges for the Y axis. It also determines which of the axis should be shown or hidden.\n   * @param {Array} groupIds\n   * @param {Object} groupRanges\n   * @private\n   */\n  LineGraph.prototype._updateYAxis = function (groupIds, groupRanges) {\n    var resized = false;\n    var yAxisLeftUsed = false;\n    var yAxisRightUsed = false;\n    var minLeft = 1e9, minRight = 1e9, maxLeft = -1e9, maxRight = -1e9, minVal, maxVal;\n    // if groups are present\n    if (groupIds.length > 0) {\n      // this is here to make sure that if there are no items in the axis but there are groups, that there is no infinite draw/redraw loop.\n      for (var i = 0; i < groupIds.length; i++) {\n        var group = this.groups[groupIds[i]];\n        if (group && group.options.yAxisOrientation != \'right\') {\n          yAxisLeftUsed = true;\n          minLeft = 0;\n          maxLeft = 0;\n        }\n        else if (group && group.options.yAxisOrientation) {\n          yAxisRightUsed = true;\n          minRight = 0;\n          maxRight = 0;\n        }\n      }\n\n      // if there are items:\n      for (var i = 0; i < groupIds.length; i++) {\n        if (groupRanges.hasOwnProperty(groupIds[i])) {\n          if (groupRanges[groupIds[i]].ignore !== true) {\n            minVal = groupRanges[groupIds[i]].min;\n            maxVal = groupRanges[groupIds[i]].max;\n\n            if (groupRanges[groupIds[i]].yAxisOrientation != \'right\') {\n              yAxisLeftUsed = true;\n              minLeft = minLeft > minVal ? minVal : minLeft;\n              maxLeft = maxLeft < maxVal ? maxVal : maxLeft;\n            }\n            else {\n              yAxisRightUsed = true;\n              minRight = minRight > minVal ? minVal : minRight;\n              maxRight = maxRight < maxVal ? maxVal : maxRight;\n            }\n          }\n        }\n      }\n\n      if (yAxisLeftUsed == true) {\n        this.yAxisLeft.setRange(minLeft, maxLeft);\n      }\n      if (yAxisRightUsed == true) {\n        this.yAxisRight.setRange(minRight, maxRight);\n      }\n    }\n    resized = this._toggleAxisVisiblity(yAxisLeftUsed , this.yAxisLeft)  || resized;\n    resized = this._toggleAxisVisiblity(yAxisRightUsed, this.yAxisRight) || resized;\n\n    if (yAxisRightUsed == true && yAxisLeftUsed == true) {\n      this.yAxisLeft.drawIcons = true;\n      this.yAxisRight.drawIcons = true;\n    }\n    else {\n      this.yAxisLeft.drawIcons = false;\n      this.yAxisRight.drawIcons = false;\n    }\n    this.yAxisRight.master = !yAxisLeftUsed;\n    if (this.yAxisRight.master == false) {\n      if (yAxisRightUsed == true) {this.yAxisLeft.lineOffset = this.yAxisRight.width;}\n      else                        {this.yAxisLeft.lineOffset = 0;}\n\n      resized = this.yAxisLeft.redraw() || resized;\n      this.yAxisRight.stepPixelsForced = this.yAxisLeft.stepPixels;\n      this.yAxisRight.zeroCrossing = this.yAxisLeft.zeroCrossing;\n      resized = this.yAxisRight.redraw() || resized;\n    }\n    else {\n      resized = this.yAxisRight.redraw() || resized;\n    }\n\n    // clean the accumulated lists\n    if (groupIds.indexOf(\'__barchartLeft\') != -1) {\n      groupIds.splice(groupIds.indexOf(\'__barchartLeft\'),1);\n    }\n    if (groupIds.indexOf(\'__barchartRight\') != -1) {\n      groupIds.splice(groupIds.indexOf(\'__barchartRight\'),1);\n    }\n\n    return resized;\n  };\n\n\n  /**\n   * This shows or hides the Y axis if needed. If there is a change, the changed event is emitted by the updateYAxis function\n   *\n   * @param {boolean} axisUsed\n   * @returns {boolean}\n   * @private\n   * @param axis\n   */\n  LineGraph.prototype._toggleAxisVisiblity = function (axisUsed, axis) {\n    var changed = false;\n    if (axisUsed == false) {\n      if (axis.dom.frame.parentNode && axis.hidden == false) {\n        axis.hide()\n        changed = true;\n      }\n    }\n    else {\n      if (!axis.dom.frame.parentNode && axis.hidden == true) {\n        axis.show();\n        changed = true;\n      }\n    }\n    return changed;\n  };\n\n\n  /**\n   * This uses the DataAxis object to generate the correct X coordinate on the SVG window. It uses the\n   * util function toScreen to get the x coordinate from the timestamp. It also pre-filters the data and get the minMax ranges for\n   * the yAxis.\n   *\n   * @param datapoints\n   * @returns {Array}\n   * @private\n   */\n  LineGraph.prototype._convertXcoordinates = function (datapoints) {\n    var extractedData = [];\n    var xValue, yValue;\n    var toScreen = this.body.util.toScreen;\n\n    for (var i = 0; i < datapoints.length; i++) {\n      xValue = toScreen(datapoints[i].x) + this.props.width;\n      yValue = datapoints[i].y;\n      extractedData.push({x: xValue, y: yValue});\n    }\n\n    return extractedData;\n  };\n\n\n  /**\n   * This uses the DataAxis object to generate the correct X coordinate on the SVG window. It uses the\n   * util function toScreen to get the x coordinate from the timestamp. It also pre-filters the data and get the minMax ranges for\n   * the yAxis.\n   *\n   * @param datapoints\n   * @param group\n   * @returns {Array}\n   * @private\n   */\n  LineGraph.prototype._convertYcoordinates = function (datapoints, group) {\n    var extractedData = [];\n    var xValue, yValue;\n    var toScreen = this.body.util.toScreen;\n    var axis = this.yAxisLeft;\n    var svgHeight = Number(this.svg.style.height.replace(\'px\',\'\'));\n    if (group.options.yAxisOrientation == \'right\') {\n      axis = this.yAxisRight;\n    }\n\n    for (var i = 0; i < datapoints.length; i++) {\n      var labelValue;\n      //if (datapoints[i].label) {\n      //    labelValue = datapoints[i].label;\n      //}\n      //else {\n      //  labelValue = null;\n      //}\n      labelValue = datapoints[i].label ? datapoints[i].label : null; \n      xValue = toScreen(datapoints[i].x) + this.props.width;\n      yValue = Math.round(axis.convertValue(datapoints[i].y));\n      extractedData.push({x: xValue, y: yValue, label:labelValue});\n    }\n\n    group.setZeroPosition(Math.min(svgHeight, axis.convertValue(0)));\n\n    return extractedData;\n  };\n\n\n  module.exports = LineGraph;\n\n\n/***/ },\n/* 35 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var Component = __webpack_require__(25);\n  var TimeStep = __webpack_require__(19);\n  var DateUtil = __webpack_require__(15);\n  var moment = __webpack_require__(44);\n\n  /**\n   * A horizontal time axis\n   * @param {{dom: Object, domProps: Object, emitter: Emitter, range: Range}} body\n   * @param {Object} [options]        See TimeAxis.setOptions for the available\n   *                                  options.\n   * @constructor TimeAxis\n   * @extends Component\n   */\n  function TimeAxis (body, options) {\n    this.dom = {\n      foreground: null,\n      lines: [],\n      majorTexts: [],\n      minorTexts: [],\n      redundant: {\n        lines: [],\n        majorTexts: [],\n        minorTexts: []\n      }\n    };\n    this.props = {\n      range: {\n        start: 0,\n        end: 0,\n        minimumStep: 0\n      },\n      lineTop: 0\n    };\n\n    this.defaultOptions = {\n      orientation: \'bottom\',  // axis orientation: \'top\' or \'bottom\'\n      showMinorLabels: true,\n      showMajorLabels: true,\n      format: null,\n      timeAxis: null\n    };\n    this.options = util.extend({}, this.defaultOptions);\n\n    this.body = body;\n\n    // create the HTML DOM\n    this._create();\n\n    this.setOptions(options);\n  }\n\n  TimeAxis.prototype = new Component();\n\n  /**\n   * Set options for the TimeAxis.\n   * Parameters will be merged in current options.\n   * @param {Object} options  Available options:\n   *                          {string} [orientation]\n   *                          {boolean} [showMinorLabels]\n   *                          {boolean} [showMajorLabels]\n   */\n  TimeAxis.prototype.setOptions = function(options) {\n    if (options) {\n      // copy all options that we know\n      util.selectiveExtend([\n        \'showMinorLabels\',\n        \'showMajorLabels\',\n        \'hiddenDates\',\n        \'format\',\n        \'timeAxis\'\n      ], this.options, options);\n\n      if (\'orientation\' in options) {\n        if (typeof options.orientation === \'string\') {\n          this.options.orientation = options.orientation;\n        }\n        else if (typeof options.orientation === \'object\' && \'axis\' in options.orientation) {\n          this.options.orientation = options.orientation.axis;\n        }\n      }\n\n      // apply locale to moment.js\n      // TODO: not so nice, this is applied globally to moment.js\n      if (\'locale\' in options) {\n        if (typeof moment.locale === \'function\') {\n          // moment.js 2.8.1+\n          moment.locale(options.locale);\n        }\n        else {\n          moment.lang(options.locale);\n        }\n      }\n    }\n  };\n\n  /**\n   * Create the HTML DOM for the TimeAxis\n   */\n  TimeAxis.prototype._create = function() {\n    this.dom.foreground = document.createElement(\'div\');\n    this.dom.background = document.createElement(\'div\');\n\n    this.dom.foreground.className = \'timeaxis foreground\';\n    this.dom.background.className = \'timeaxis background\';\n  };\n\n  /**\n   * Destroy the TimeAxis\n   */\n  TimeAxis.prototype.destroy = function() {\n    // remove from DOM\n    if (this.dom.foreground.parentNode) {\n      this.dom.foreground.parentNode.removeChild(this.dom.foreground);\n    }\n    if (this.dom.background.parentNode) {\n      this.dom.background.parentNode.removeChild(this.dom.background);\n    }\n\n    this.body = null;\n  };\n\n  /**\n   * Repaint the component\n   * @return {boolean} Returns true if the component is resized\n   */\n  TimeAxis.prototype.redraw = function () {\n    var options = this.options;\n    var props = this.props;\n    var foreground = this.dom.foreground;\n    var background = this.dom.background;\n\n    // determine the correct parent DOM element (depending on option orientation)\n    var parent = (options.orientation == \'top\') ? this.body.dom.top : this.body.dom.bottom;\n    var parentChanged = (foreground.parentNode !== parent);\n\n    // calculate character width and height\n    this._calculateCharSize();\n\n    // TODO: recalculate sizes only needed when parent is resized or options is changed\n    var showMinorLabels = this.options.showMinorLabels;\n    var showMajorLabels = this.options.showMajorLabels;\n\n    // determine the width and height of the elemens for the axis\n    props.minorLabelHeight = showMinorLabels ? props.minorCharHeight : 0;\n    props.majorLabelHeight = showMajorLabels ? props.majorCharHeight : 0;\n    props.height = props.minorLabelHeight + props.majorLabelHeight;\n    props.width = foreground.offsetWidth;\n\n    props.minorLineHeight = this.body.domProps.root.height - props.majorLabelHeight -\n        (options.orientation == \'top\' ? this.body.domProps.bottom.height : this.body.domProps.top.height);\n    props.minorLineWidth = 1; // TODO: really calculate width\n    props.majorLineHeight = props.minorLineHeight + props.majorLabelHeight;\n    props.majorLineWidth = 1; // TODO: really calculate width\n\n    //  take foreground and background offline while updating (is almost twice as fast)\n    var foregroundNextSibling = foreground.nextSibling;\n    var backgroundNextSibling = background.nextSibling;\n    foreground.parentNode && foreground.parentNode.removeChild(foreground);\n    background.parentNode && background.parentNode.removeChild(background);\n\n    foreground.style.height = this.props.height + \'px\';\n\n    this._repaintLabels();\n\n    // put DOM online again (at the same place)\n    if (foregroundNextSibling) {\n      parent.insertBefore(foreground, foregroundNextSibling);\n    }\n    else {\n      parent.appendChild(foreground)\n    }\n    if (backgroundNextSibling) {\n      this.body.dom.backgroundVertical.insertBefore(background, backgroundNextSibling);\n    }\n    else {\n      this.body.dom.backgroundVertical.appendChild(background)\n    }\n\n    return this._isResized() || parentChanged;\n  };\n\n  /**\n   * Repaint major and minor text labels and vertical grid lines\n   * @private\n   */\n  TimeAxis.prototype._repaintLabels = function () {\n    var orientation = this.options.orientation;\n\n    // calculate range and step (step such that we have space for 7 characters per label)\n    var start = util.convert(this.body.range.start, \'Number\');\n    var end = util.convert(this.body.range.end, \'Number\');\n    var timeLabelsize = this.body.util.toTime((this.props.minorCharWidth || 10) * 7).valueOf();\n    var minimumStep = timeLabelsize - DateUtil.getHiddenDurationBefore(this.body.hiddenDates, this.body.range, timeLabelsize);\n    minimumStep -= this.body.util.toTime(0).valueOf();\n\n    var step = new TimeStep(new Date(start), new Date(end), minimumStep, this.body.hiddenDates);\n    if (this.options.format) {\n      step.setFormat(this.options.format);\n    }\n    if (this.options.timeAxis) {\n      step.setScale(this.options.timeAxis);\n    }\n    this.step = step;\n\n    // Move all DOM elements to a "redundant" list, where they\n    // can be picked for re-use, and clear the lists with lines and texts.\n    // At the end of the function _repaintLabels, left over elements will be cleaned up\n    var dom = this.dom;\n    dom.redundant.lines = dom.lines;\n    dom.redundant.majorTexts = dom.majorTexts;\n    dom.redundant.minorTexts = dom.minorTexts;\n    dom.lines = [];\n    dom.majorTexts = [];\n    dom.minorTexts = [];\n\n    var cur;\n    var x = 0;\n    var isMajor;\n    var xPrev = 0;\n    var width = 0;\n    var prevLine;\n    var xFirstMajorLabel = undefined;\n    var max = 0;\n    var className;\n\n    step.first();\n    while (step.hasNext() && max < 1000) {\n      max++;\n\n      cur = step.getCurrent();\n      isMajor = step.isMajor();\n      className = step.getClassName();\n\n      xPrev = x;\n      x = this.body.util.toScreen(cur);\n      width = x - xPrev;\n      if (prevLine) {\n        prevLine.style.width = width + \'px\';\n      }\n\n      if (this.options.showMinorLabels) {\n        this._repaintMinorText(x, step.getLabelMinor(), orientation, className);\n      }\n\n      if (isMajor && this.options.showMajorLabels) {\n        if (x > 0) {\n          if (xFirstMajorLabel == undefined) {\n            xFirstMajorLabel = x;\n          }\n          this._repaintMajorText(x, step.getLabelMajor(), orientation, className);\n        }\n        prevLine = this._repaintMajorLine(x, orientation, className);\n      }\n      else {\n        prevLine = this._repaintMinorLine(x, orientation, className);\n      }\n\n      step.next();\n    }\n\n    // create a major label on the left when needed\n    if (this.options.showMajorLabels) {\n      var leftTime = this.body.util.toTime(0),\n          leftText = step.getLabelMajor(leftTime),\n          widthText = leftText.length * (this.props.majorCharWidth || 10) + 10; // upper bound estimation\n\n      if (xFirstMajorLabel == undefined || widthText < xFirstMajorLabel) {\n        this._repaintMajorText(0, leftText, orientation, className);\n      }\n    }\n\n    // Cleanup leftover DOM elements from the redundant list\n    util.forEach(this.dom.redundant, function (arr) {\n      while (arr.length) {\n        var elem = arr.pop();\n        if (elem && elem.parentNode) {\n          elem.parentNode.removeChild(elem);\n        }\n      }\n    });\n  };\n\n  /**\n   * Create a minor label for the axis at position x\n   * @param {Number} x\n   * @param {String} text\n   * @param {String} orientation   "top" or "bottom" (default)\n   * @param {String} className\n   * @private\n   */\n  TimeAxis.prototype._repaintMinorText = function (x, text, orientation, className) {\n    // reuse redundant label\n    var label = this.dom.redundant.minorTexts.shift();\n\n    if (!label) {\n      // create new label\n      var content = document.createTextNode(\'\');\n      label = document.createElement(\'div\');\n      label.appendChild(content);\n      this.dom.foreground.appendChild(label);\n    }\n    this.dom.minorTexts.push(label);\n\n    label.childNodes[0].nodeValue = text;\n\n    label.style.top = (orientation == \'top\') ? (this.props.majorLabelHeight + \'px\') : \'0\';\n    label.style.left = x + \'px\';\n    label.className = \'text minor \' + className;\n    //label.title = title;  // TODO: this is a heavy operation\n  };\n\n  /**\n   * Create a Major label for the axis at position x\n   * @param {Number} x\n   * @param {String} text\n   * @param {String} orientation   "top" or "bottom" (default)\n   * @param {String} className\n   * @private\n   */\n  TimeAxis.prototype._repaintMajorText = function (x, text, orientation, className) {\n    // reuse redundant label\n    var label = this.dom.redundant.majorTexts.shift();\n\n    if (!label) {\n      // create label\n      var content = document.createTextNode(text);\n      label = document.createElement(\'div\');\n      label.appendChild(content);\n      this.dom.foreground.appendChild(label);\n    }\n    this.dom.majorTexts.push(label);\n\n    label.childNodes[0].nodeValue = text;\n    label.className = \'text major \' + className;\n    //label.title = title; // TODO: this is a heavy operation\n\n    label.style.top = (orientation == \'top\') ? \'0\' : (this.props.minorLabelHeight  + \'px\');\n    label.style.left = x + \'px\';\n  };\n\n  /**\n   * Create a minor line for the axis at position x\n   * @param {Number} x\n   * @param {String} orientation   "top" or "bottom" (default)\n   * @param {String} className\n   * @return {Element} Returns the created line\n   * @private\n   */\n  TimeAxis.prototype._repaintMinorLine = function (x, orientation, className) {\n    // reuse redundant line\n    var line = this.dom.redundant.lines.shift();\n    if (!line) {\n      // create vertical line\n      line = document.createElement(\'div\');\n      this.dom.background.appendChild(line);\n    }\n    this.dom.lines.push(line);\n\n    var props = this.props;\n    if (orientation == \'top\') {\n      line.style.top = props.majorLabelHeight + \'px\';\n    }\n    else {\n      line.style.top = this.body.domProps.top.height + \'px\';\n    }\n    line.style.height = props.minorLineHeight + \'px\';\n    line.style.left = (x - props.minorLineWidth / 2) + \'px\';\n\n    line.className = \'grid vertical minor \' + className;\n\n    return line;\n  };\n\n  /**\n   * Create a Major line for the axis at position x\n   * @param {Number} x\n   * @param {String} orientation   "top" or "bottom" (default)\n   * @param {String} className\n   * @return {Element} Returns the created line\n   * @private\n   */\n  TimeAxis.prototype._repaintMajorLine = function (x, orientation, className) {\n    // reuse redundant line\n    var line = this.dom.redundant.lines.shift();\n    if (!line) {\n      // create vertical line\n      line = document.createElement(\'div\');\n      this.dom.background.appendChild(line);\n    }\n    this.dom.lines.push(line);\n\n    var props = this.props;\n    if (orientation == \'top\') {\n      line.style.top = \'0\';\n    }\n    else {\n      line.style.top = this.body.domProps.top.height + \'px\';\n    }\n    line.style.left = (x - props.majorLineWidth / 2) + \'px\';\n    line.style.height = props.majorLineHeight + \'px\';\n\n    line.className = \'grid vertical major \' + className;\n\n    return line;\n  };\n\n  /**\n   * Determine the size of text on the axis (both major and minor axis).\n   * The size is calculated only once and then cached in this.props.\n   * @private\n   */\n  TimeAxis.prototype._calculateCharSize = function () {\n    // Note: We calculate char size with every redraw. Size may change, for\n    // example when any of the timelines parents had display:none for example.\n\n    // determine the char width and height on the minor axis\n    if (!this.dom.measureCharMinor) {\n      this.dom.measureCharMinor = document.createElement(\'DIV\');\n      this.dom.measureCharMinor.className = \'text minor measure\';\n      this.dom.measureCharMinor.style.position = \'absolute\';\n\n      this.dom.measureCharMinor.appendChild(document.createTextNode(\'0\'));\n      this.dom.foreground.appendChild(this.dom.measureCharMinor);\n    }\n    this.props.minorCharHeight = this.dom.measureCharMinor.clientHeight;\n    this.props.minorCharWidth = this.dom.measureCharMinor.clientWidth;\n\n    // determine the char width and height on the major axis\n    if (!this.dom.measureCharMajor) {\n      this.dom.measureCharMajor = document.createElement(\'DIV\');\n      this.dom.measureCharMajor.className = \'text major measure\';\n      this.dom.measureCharMajor.style.position = \'absolute\';\n\n      this.dom.measureCharMajor.appendChild(document.createTextNode(\'0\'));\n      this.dom.foreground.appendChild(this.dom.measureCharMajor);\n    }\n    this.props.majorCharHeight = this.dom.measureCharMajor.clientHeight;\n    this.props.majorCharWidth = this.dom.measureCharMajor.clientWidth;\n  };\n\n  module.exports = TimeAxis;\n\n\n/***/ },\n/* 36 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Emitter = __webpack_require__(56);\n  var Hammer = __webpack_require__(45);\n  var keycharm = __webpack_require__(57);\n  var util = __webpack_require__(1);\n  var hammerUtil = __webpack_require__(47);\n  var DataSet = __webpack_require__(3);\n  var DataView = __webpack_require__(4);\n  var dotparser = __webpack_require__(42);\n  var gephiParser = __webpack_require__(43);\n  var Groups = __webpack_require__(38);\n  var Images = __webpack_require__(39);\n  var Node = __webpack_require__(40);\n  var Edge = __webpack_require__(37);\n  var Popup = __webpack_require__(41);\n  var MixinLoader = __webpack_require__(52);\n  var Activator = __webpack_require__(53);\n  var locales = __webpack_require__(54);\n\n  // Load custom shapes into CanvasRenderingContext2D\n  __webpack_require__(55);\n\n  /**\n   * @constructor Network\n   * Create a network visualization, displaying nodes and edges.\n   *\n   * @param {Element} container   The DOM element in which the Network will\n   *                                  be created. Normally a div element.\n   * @param {Object} data         An object containing parameters\n   *                              {Array} nodes\n   *                              {Array} edges\n   * @param {Object} options      Options\n   */\n  function Network (container, data, options) {\n    if (!(this instanceof Network)) {\n      throw new SyntaxError(\'Constructor must be called with the new operator\');\n    }\n\n    this._determineBrowserMethod();\n    this._initializeMixinLoaders();\n\n    // create variables and set default values\n    this.containerElement = container;\n\n    // render and calculation settings\n    this.renderRefreshRate = 60;                         // hz (fps)\n    this.renderTimestep = 1000 / this.renderRefreshRate; // ms -- saves calculation later on\n    this.renderTime = 0;                                 // measured time it takes to render a frame\n    this.physicsTime = 0;                                // measured time it takes to render a frame\n    this.runDoubleSpeed = false;\n    this.physicsDiscreteStepsize = 0.50;                 // discrete stepsize of the simulation\n\n    this.initializing = true;\n\n    this.triggerFunctions = {add:null,edit:null,editEdge:null,connect:null,del:null};\n\n    var customScalingFunction = function (min,max,total,value) {\n      if (max == min) {\n        return 0.5;\n      }\n      else {\n        var scale = 1 / (max - min);\n        return Math.max(0,(value - min)*scale);\n      }\n    };\n    // set constant values\n    this.defaultOptions = {\n      nodes: {\n        customScalingFunction: customScalingFunction,\n        mass: 1,\n        radiusMin: 10,\n        radiusMax: 30,\n        radius: 10,\n        shape: \'ellipse\',\n        image: undefined,\n        widthMin: 16, // px\n        widthMax: 64, // px\n        fontColor: \'black\',\n        fontSize: 14, // px\n        fontFace: \'verdana\',\n        fontFill: undefined,\n        fontStrokeWidth: 0, // px\n        fontStrokeColor: \'#ffffff\',\n        fontDrawThreshold: 3,\n        scaleFontWithValue: false,\n        fontSizeMin: 14,\n        fontSizeMax: 30,\n        fontSizeMaxVisible: 30,\n        level: -1,\n        color: {\n            border: \'#2B7CE9\',\n            background: \'#97C2FC\',\n          highlight: {\n            border: \'#2B7CE9\',\n            background: \'#D2E5FF\'\n          },\n          hover: {\n            border: \'#2B7CE9\',\n            background: \'#D2E5FF\'\n          }\n        },\n        group: undefined,\n        borderWidth: 1,\n        borderWidthSelected: undefined\n      },\n      edges: {\n        customScalingFunction: customScalingFunction,\n        widthMin: 1, //\n        widthMax: 15,//\n        width: 1,\n        widthSelectionMultiplier: 2,\n        hoverWidth: 1.5,\n        style: \'line\',\n        color: {\n          color:\'#848484\',\n          highlight:\'#848484\',\n          hover: \'#848484\'\n        },\n        opacity:1.0,\n        fontColor: \'#343434\',\n        fontSize: 14, // px\n        fontFace: \'arial\',\n        fontFill: \'white\',\n        fontStrokeWidth: 0, // px\n        fontStrokeColor: \'white\',\n        labelAlignment:\'horizontal\',\n        arrowScaleFactor: 1,\n        dash: {\n          length: 10,\n          gap: 5,\n          altLength: undefined\n        },\n        inheritColor: "from", // to, from, false, true (== from)\n        useGradients: false // release in 4.0\n      },\n      configurePhysics:false,\n      physics: {\n        barnesHut: {\n          enabled: true,\n          thetaInverted: 1 / 0.5, // inverted to save time during calculation\n          gravitationalConstant: -2000,\n          centralGravity: 0.3,\n          springLength: 95,\n          springConstant: 0.04,\n          damping: 0.09\n        },\n        repulsion: {\n          centralGravity: 0.0,\n          springLength: 200,\n          springConstant: 0.05,\n          nodeDistance: 100,\n          damping: 0.09\n        },\n        hierarchicalRepulsion: {\n          enabled: false,\n          centralGravity: 0.0,\n          springLength: 100,\n          springConstant: 0.01,\n          nodeDistance: 150,\n          damping: 0.09\n        },\n        damping: null,\n        centralGravity: null,\n        springLength: null,\n        springConstant: null\n      },\n      clustering: {                   // Per Node in Cluster = PNiC\n        enabled: false,               // (Boolean)             | global on/off switch for clustering.\n        initialMaxNodes: 100,         // (# nodes)             | if the initial amount of nodes is larger than this, we cluster until the total number is less than this threshold.\n        clusterThreshold:500,         // (# nodes)             | during calculate forces, we check if the total number of nodes is larger than this. If it is, cluster until reduced to reduceToNodes\n        reduceToNodes:300,            // (# nodes)             | during calculate forces, we check if the total number of nodes is larger than clusterThreshold. If it is, cluster until reduced to this\n        chainThreshold: 0.4,          // (% of all drawn nodes)| maximum percentage of allowed chainnodes (long strings of connected nodes) within all nodes. (lower means less chains).\n        clusterEdgeThreshold: 20,     // (px)                  | edge length threshold. if smaller, this node is clustered.\n        sectorThreshold: 100,         // (# nodes in cluster)  | cluster size threshold. If larger, expanding in own sector.\n        screenSizeThreshold: 0.2,     // (% of canvas)         | relative size threshold. If the width or height of a clusternode takes up this much of the screen, decluster node.\n        fontSizeMultiplier: 4.0,      // (px PNiC)             | how much the cluster font size grows per node in cluster (in px).\n        maxFontSize: 1000,\n        forceAmplification: 0.1,      // (multiplier PNiC)     | factor of increase fo the repulsion force of a cluster (per node in cluster).\n        distanceAmplification: 0.1,   // (multiplier PNiC)     | factor how much the repulsion distance of a cluster increases (per node in cluster).\n        edgeGrowth: 20,               // (px PNiC)             | amount of clusterSize connected to the edge is multiplied with this and added to edgeLength.\n        nodeScaling: {width:  1,      // (px PNiC)             | growth of the width  per node in cluster.\n                      height: 1,      // (px PNiC)             | growth of the height per node in cluster.\n                      radius: 1},     // (px PNiC)             | growth of the radius per node in cluster.\n        maxNodeSizeIncrements: 600,   // (# increments)        | max growth of the width  per node in cluster.\n        activeAreaBoxSize: 80,        // (px)                  | box area around the curser where clusters are popped open.\n        clusterLevelDifference: 2,    // used for normalization of the cluster levels\n        clusterByZoom: true           // enable clustering through zooming in and out\n      },\n      navigation: {\n        enabled: false\n      },\n      keyboard: {\n        enabled: false,\n        speed: {x: 10, y: 10, zoom: 0.02},\n        bindToWindow: true\n      },\n      dataManipulation: {\n        enabled: false,\n        initiallyVisible: false\n      },\n      hierarchicalLayout: {\n        enabled:false,\n        levelSeparation: 150,\n        nodeSpacing: 100,\n        direction: "UD",   // UD, DU, LR, RL\n        layout: "hubsize" // hubsize, directed\n      },\n      freezeForStabilization: false,\n      smoothCurves: {\n        enabled: true,\n        dynamic: true,\n        type: "continuous",\n        roundness: 0.5\n      },\n      maxVelocity:  50,\n      minVelocity:  0.1,   // px/s\n      stabilize: true,  // stabilize before displaying the network\n      stabilizationIterations: 1000,  // maximum number of iteration to stabilize\n      zoomExtentOnStabilize: true,\n      locale: \'en\',\n      locales: locales,\n      tooltip: {\n        delay: 300,\n        fontColor: \'black\',\n        fontSize: 14, // px\n        fontFace: \'verdana\',\n        color: {\n          border: \'#666\',\n          background: \'#FFFFC6\'\n        }\n      },\n      dragNetwork: true,\n      dragNodes: true,\n      zoomable: true,\n      hover: false,\n      hideEdgesOnDrag: false,\n      hideNodesOnDrag: false,\n      width : \'100%\',\n      height : \'100%\',\n      selectable: true,\n      useDefaultGroups: true\n    };\n    this.constants = util.extend({}, this.defaultOptions);\n    this.pixelRatio = 1;\n    \n    \n    this.hoverObj = {nodes:{},edges:{}};\n    this.controlNodesActive = false;\n    this.navigationHammers = [];\n    this.manipulationHammers = [];\n\n    // animation properties\n    this.animationSpeed = 1/this.renderRefreshRate;\n    this.animationEasingFunction = "easeInOutQuint";\n    this.animating = false;\n    this.easingTime = 0;\n    this.sourceScale = 0;\n    this.targetScale = 0;\n    this.sourceTranslation = 0;\n    this.targetTranslation = 0;\n    this.lockedOnNodeId = null;\n    this.lockedOnNodeOffset = null;\n    this.touchTime = 0;\n    this.redrawRequested = false;\n\n    // Node variables\n    var network = this;\n    this.groups = new Groups(); // object with groups\n    this.images = new Images(); // object with images\n    this.images.setOnloadCallback(function (status) {\n      network._requestRedraw();\n    });\n\n    // keyboard navigation variables\n    this.xIncrement = 0;\n    this.yIncrement = 0;\n    this.zoomIncrement = 0;\n\n    // loading all the mixins:\n    // load the force calculation functions, grouped under the physics system.\n    this._loadPhysicsSystem();\n    // create a frame and canvas\n    this._create();\n    // load the sector system.    (mandatory, fully integrated with Network)\n    this._loadSectorSystem();\n    // load the cluster system.   (mandatory, even when not using the cluster system, there are function calls to it)\n    this._loadClusterSystem();\n    // load the selection system. (mandatory, required by Network)\n    this._loadSelectionSystem();\n    // load the selection system. (mandatory, required by Network)\n    this._loadHierarchySystem();\n\n\n    // apply options\n    this._setTranslation(this.frame.clientWidth / 2, this.frame.clientHeight / 2);\n    this._setScale(1);\n    this.setOptions(options);\n\n    // other vars\n    this.freezeSimulationEnabled = false;// freeze the simulation\n    this.cachedFunctions = {};\n    this.startedStabilization = false;\n    this.stabilized = false;\n    this.stabilizationIterations = null;\n    this.draggingNodes = false;\n\n    // containers for nodes and edges\n    this.calculationNodes = {};\n    this.calculationNodeIndices = [];\n    this.nodeIndices = [];        // array with all the indices of the nodes. Used to speed up forces calculation\n    this.nodes = {};              // object with Node objects\n    this.edges = {};              // object with Edge objects\n\n    // position and scale variables and objects\n    this.canvasTopLeft     = {"x": 0,"y": 0};   // coordinates of the top left of the canvas.     they will be set during _redraw.\n    this.canvasBottomRight = {"x": 0,"y": 0};   // coordinates of the bottom right of the canvas. they will be set during _redraw\n    this.pointerPosition = {"x": 0,"y": 0};   // coordinates of the bottom right of the canvas. they will be set during _redraw\n    this.areaCenter = {};               // object with x and y elements used for determining the center of the zoom action\n    this.scale = 1;                     // defining the global scale variable in the constructor\n    this.previousScale = this.scale;    // this is used to check if the zoom operation is zooming in or out\n\n    // datasets or dataviews\n    this.nodesData = null;      // A DataSet or DataView\n    this.edgesData = null;      // A DataSet or DataView\n\n    // create event listeners used to subscribe on the DataSets of the nodes and edges\n    this.nodesListeners = {\n      \'add\': function (event, params) {\n        network._addNodes(params.items);\n        network.start();\n      },\n      \'update\': function (event, params) {\n        network._updateNodes(params.items);\n        network.start();\n      },\n      \'remove\': function (event, params) {\n        network._removeNodes(params.items);\n        network.start();\n      }\n    };\n    this.edgesListeners = {\n      \'add\': function (event, params) {\n        network._addEdges(params.items);\n        network.start();\n      },\n      \'update\': function (event, params) {\n        network._updateEdges(params.items);\n        network.start();\n      },\n      \'remove\': function (event, params) {\n        network._removeEdges(params.items);\n        network.start();\n      }\n    };\n\n    // properties for the animation\n    this.moving = true;\n    this.timer = undefined; // Scheduling function. Is definded in this.start();\n\n    // load data (the disable start variable will be the same as the enabled clustering)\n    this.setData(data,this.constants.clustering.enabled || this.constants.hierarchicalLayout.enabled);\n\n    // hierarchical layout\n    this.initializing = false;\n    if (this.constants.hierarchicalLayout.enabled == true) {\n      this._setupHierarchicalLayout();\n    }\n    else {\n      // zoom so all data will fit on the screen, if clustering is enabled, we do not want start to be called here.\n      if (this.constants.stabilize == false) {\n        this.zoomExtent({duration:0}, true, this.constants.clustering.enabled);\n      }\n    }\n\n    // if clustering is disabled, the simulation will have started in the setData function\n    if (this.constants.clustering.enabled) {\n      this.startWithClustering();\n    }\n  }\n\n  // Extend Network with an Emitter mixin\n  Emitter(Network.prototype);\n\n  /**\n   * Determine if the browser requires a setTimeout or a requestAnimationFrame. This was required because\n   * some implementations (safari and IE9) did not support requestAnimationFrame\n   * @private\n   */\n  Network.prototype._determineBrowserMethod = function() {\n    var browserType = navigator.userAgent.toLowerCase();\n    this.requiresTimeout = false;\n    if (browserType.indexOf(\'msie 9.0\') != -1) { // IE 9\n      this.requiresTimeout = true;\n    }\n    else if (browserType.indexOf(\'safari\') != -1) {  // safari\n      if (browserType.indexOf(\'chrome\') <= -1) {\n        this.requiresTimeout = true;\n      }\n    }\n  }\n\n\n  /**\n   * Get the script path where the vis.js library is located\n   *\n   * @returns {string | null} path   Path or null when not found. Path does not\n   *                                 end with a slash.\n   * @private\n   */\n  Network.prototype._getScriptPath = function() {\n    var scripts = document.getElementsByTagName( \'script\' );\n\n    // find script named vis.js or vis.min.js\n    for (var i = 0; i < scripts.length; i++) {\n      var src = scripts[i].src;\n      var match = src && /\\/?vis(.min)?\\.js$/.exec(src);\n      if (match) {\n        // return path without the script name\n        return src.substring(0, src.length - match[0].length);\n      }\n    }\n\n    return null;\n  };\n\n\n  /**\n   * Find the center position of the network\n   * @private\n   */\n  Network.prototype._getRange = function(specificNodes) {\n    var minY = 1e9, maxY = -1e9, minX = 1e9, maxX = -1e9, node;\n    if (specificNodes.length > 0) {\n      for (var i = 0; i < specificNodes.length; i++) {\n        node = this.nodes[specificNodes[i]];\n        if (minX > (node.boundingBox.left)) {\n          minX = node.boundingBox.left;\n        }\n        if (maxX < (node.boundingBox.right)) {\n          maxX = node.boundingBox.right;\n        }\n        if (minY > (node.boundingBox.bottom)) {\n          minY = node.boundingBox.top;\n        } // top is negative, bottom is positive\n        if (maxY < (node.boundingBox.top)) {\n          maxY = node.boundingBox.bottom;\n        } // top is negative, bottom is positive\n      }\n    }\n    else {\n      for (var nodeId in this.nodes) {\n        if (this.nodes.hasOwnProperty(nodeId)) {\n          node = this.nodes[nodeId];\n          if (minX > (node.boundingBox.left)) {\n            minX = node.boundingBox.left;\n          }\n          if (maxX < (node.boundingBox.right)) {\n            maxX = node.boundingBox.right;\n          }\n          if (minY > (node.boundingBox.bottom)) {\n            minY = node.boundingBox.top;\n          } // top is negative, bottom is positive\n          if (maxY < (node.boundingBox.top)) {\n            maxY = node.boundingBox.bottom;\n          } // top is negative, bottom is positive\n        }\n      }\n    }\n\n    if (minX == 1e9 && maxX == -1e9 && minY == 1e9 && maxY == -1e9) {\n      minY = 0, maxY = 0, minX = 0, maxX = 0;\n    }\n    return {minX: minX, maxX: maxX, minY: minY, maxY: maxY};\n  };\n\n\n  /**\n   * @param {object} range = {minX: minX, maxX: maxX, minY: minY, maxY: maxY};\n   * @returns {{x: number, y: number}}\n   * @private\n   */\n  Network.prototype._findCenter = function(range) {\n    return {x: (0.5 * (range.maxX + range.minX)),\n            y: (0.5 * (range.maxY + range.minY))};\n  };\n\n\n  /**\n   * This function zooms out to fit all data on screen based on amount of nodes\n   *\n   * @param {Boolean} [initialZoom]  | zoom based on fitted formula or range, true = fitted, default = false;\n   * @param {Boolean} [disableStart] | If true, start is not called.\n   */\n  Network.prototype.zoomExtent = function(options, initialZoom, disableStart) {\n    this._redraw(true);\n\n    if (initialZoom      === undefined) {initialZoom = false;}\n    if (disableStart     === undefined) {disableStart = false;}\n    if (options === undefined) {options = {nodes:[]};}\n    if (options.nodes === undefined) {\n      options.nodes = [];\n    }\n\n    var range;\n    var zoomLevel;\n\n    if (initialZoom == true) {\n      // check if more than half of the nodes have a predefined position. If so, we use the range, not the approximation.\n      var positionDefined = 0;\n      for (var nodeId in this.nodes) {\n        if (this.nodes.hasOwnProperty(nodeId)) {\n          var node = this.nodes[nodeId];\n          if (node.predefinedPosition == true) {\n            positionDefined += 1;\n          }\n        }\n      }\n      if (positionDefined > 0.5 * this.nodeIndices.length) {\n        this.zoomExtent(options,false,disableStart);\n        return;\n      }\n\n      range = this._getRange(options.nodes);\n\n      var numberOfNodes = this.nodeIndices.length;\n      if (this.constants.smoothCurves == true) {\n        if (this.constants.clustering.enabled == true &&\n          numberOfNodes >= this.constants.clustering.initialMaxNodes) {\n          zoomLevel = 49.07548 / (numberOfNodes + 142.05338) + 9.1444e-04; // this is obtained from fitting a dataset from 5 points with scale levels that looked good.\n        }\n        else {\n          zoomLevel = 12.662 / (numberOfNodes + 7.4147) + 0.0964822; // this is obtained from fitting a dataset from 5 points with scale levels that looked good.\n        }\n      }\n      else {\n        if (this.constants.clustering.enabled == true &&\n            numberOfNodes >= this.constants.clustering.initialMaxNodes) {\n          zoomLevel = 77.5271985 / (numberOfNodes + 187.266146) + 4.76710517e-05; // this is obtained from fitting a dataset from 5 points with scale levels that looked good.\n        }\n        else {\n          zoomLevel = 30.5062972 / (numberOfNodes + 19.93597763) + 0.08413486; // this is obtained from fitting a dataset from 5 points with scale levels that looked good.\n        }\n      }\n\n      // correct for larger canvasses.\n      var factor = Math.min(this.frame.canvas.clientWidth / 600, this.frame.canvas.clientHeight / 600);\n      zoomLevel *= factor;\n    }\n    else {\n      range = this._getRange(options.nodes);\n      var xDistance = Math.abs(range.maxX - range.minX) * 1.1;\n      var yDistance = Math.abs(range.maxY - range.minY) * 1.1;\n\n      var xZoomLevel = this.frame.canvas.clientWidth  / xDistance;\n      var yZoomLevel = this.frame.canvas.clientHeight / yDistance;\n      zoomLevel = (xZoomLevel <= yZoomLevel) ? xZoomLevel : yZoomLevel;\n    }\n\n    if (zoomLevel > 1.0) {\n      zoomLevel = 1.0;\n    }\n\n\n    var center = this._findCenter(range);\n    if (disableStart == false) {\n      var options = {position: center, scale: zoomLevel, animation: options};\n      this.moveTo(options);\n      this.moving = true;\n      this.start();\n    }\n    else {\n      center.x *= zoomLevel;\n      center.y *= zoomLevel;\n      center.x -= 0.5 * this.frame.canvas.clientWidth;\n      center.y -= 0.5 * this.frame.canvas.clientHeight;\n      this._setScale(zoomLevel);\n      this._setTranslation(-center.x,-center.y);\n    }\n  };\n\n\n  /**\n   * Update the this.nodeIndices with the most recent node index list\n   * @private\n   */\n  Network.prototype._updateNodeIndexList = function() {\n    this._clearNodeIndexList();\n    for (var idx in this.nodes) {\n      if (this.nodes.hasOwnProperty(idx)) {\n        this.nodeIndices.push(idx);\n      }\n    }\n  };\n\n\n  /**\n   * Set nodes and edges, and optionally options as well.\n   *\n   * @param {Object} data              Object containing parameters:\n   *                                   {Array | DataSet | DataView} [nodes] Array with nodes\n   *                                   {Array | DataSet | DataView} [edges] Array with edges\n   *                                   {String} [dot] String containing data in DOT format\n   *                                   {String} [gephi] String containing data in gephi JSON format\n   *                                   {Options} [options] Object with options\n   * @param {Boolean} [disableStart]   | optional: disable the calling of the start function.\n   */\n  Network.prototype.setData = function(data, disableStart) {\n    if (disableStart === undefined) {\n      disableStart = false;\n    }\n\n    // unselect all to ensure no selections from old data are carried over.\n    this._unselectAll(true);\n\n    // we set initializing to true to ensure that the hierarchical layout is not performed until both nodes and edges are added.\n    this.initializing = true;\n\n    if (data && data.dot && (data.nodes || data.edges)) {\n      throw new SyntaxError(\'Data must contain either parameter "dot" or \' +\n          \' parameter pair "nodes" and "edges", but not both.\');\n    }\n\n    // clean up in case there is anyone in an active mode of the manipulation. This is the same option as bound to the escape button.\n    if (this.constants.dataManipulation.enabled == true) {\n      this._createManipulatorBar();\n    }\n\n    // set options\n    this.setOptions(data && data.options);\n    // set all data\n    if (data && data.dot) {\n      // parse DOT file\n      if(data && data.dot) {\n        var dotData = dotparser.DOTToGraph(data.dot);\n        this.setData(dotData);\n        return;\n      }\n    }\n    else if (data && data.gephi) {\n      // parse DOT file\n      if(data && data.gephi) {\n        var gephiData = gephiParser.parseGephi(data.gephi);\n        this.setData(gephiData);\n        return;\n      }\n    }\n    else {\n      this._setNodes(data && data.nodes);\n      this._setEdges(data && data.edges);\n    }\n    this._putDataInSector();\n    if (disableStart == false) {\n      if (this.constants.hierarchicalLayout.enabled == true) {\n        this._resetLevels();\n        this._setupHierarchicalLayout();\n      }\n      else {\n        // find a stable position or start animating to a stable position\n        if (this.constants.stabilize == true) {\n          this._stabilize();\n        }\n      }\n      this.start();\n    }\n    this.initializing = false;\n  };\n\n  /**\n   * Set options\n   * @param {Object} options\n   */\n  Network.prototype.setOptions = function (options) {\n    if (options) {\n      var prop;\n      var fields = [\'nodes\',\'edges\',\'smoothCurves\',\'hierarchicalLayout\',\'clustering\',\'navigation\',\n        \'keyboard\',\'dataManipulation\',\'onAdd\',\'onEdit\',\'onEditEdge\',\'onConnect\',\'onDelete\',\'clickToUse\'\n      ];\n      // extend all but the values in fields\n      util.selectiveNotDeepExtend(fields,this.constants, options);\n      util.selectiveNotDeepExtend([\'color\'],this.constants.nodes, options.nodes);\n      util.selectiveNotDeepExtend([\'color\',\'length\'],this.constants.edges, options.edges);\n\n      this.groups.useDefaultGroups = this.constants.useDefaultGroups;\n      if (options.physics) {\n        util.mergeOptions(this.constants.physics, options.physics,\'barnesHut\');\n        util.mergeOptions(this.constants.physics, options.physics,\'repulsion\');\n\n        if (options.physics.hierarchicalRepulsion) {\n          this.constants.hierarchicalLayout.enabled = true;\n          this.constants.physics.hierarchicalRepulsion.enabled = true;\n          this.constants.physics.barnesHut.enabled = false;\n          for (prop in options.physics.hierarchicalRepulsion) {\n            if (options.physics.hierarchicalRepulsion.hasOwnProperty(prop)) {\n              this.constants.physics.hierarchicalRepulsion[prop] = options.physics.hierarchicalRepulsion[prop];\n            }\n          }\n        }\n      }\n\n      if (options.onAdd) {this.triggerFunctions.add = options.onAdd;}\n      if (options.onEdit) {this.triggerFunctions.edit = options.onEdit;}\n      if (options.onEditEdge) {this.triggerFunctions.editEdge = options.onEditEdge;}\n      if (options.onConnect) {this.triggerFunctions.connect = options.onConnect;}\n      if (options.onDelete) {this.triggerFunctions.del = options.onDelete;}\n\n      util.mergeOptions(this.constants, options,\'smoothCurves\');\n      util.mergeOptions(this.constants, options,\'hierarchicalLayout\');\n      util.mergeOptions(this.constants, options,\'clustering\');\n      util.mergeOptions(this.constants, options,\'navigation\');\n      util.mergeOptions(this.constants, options,\'keyboard\');\n      util.mergeOptions(this.constants, options,\'dataManipulation\');\n\n\n      if (options.dataManipulation) {\n        this.editMode = this.constants.dataManipulation.initiallyVisible;\n      }\n\n\n      // TODO: work out these options and document them\n      if (options.edges) {\n        if (options.edges.color !== undefined) {\n          if (util.isString(options.edges.color)) {\n            this.constants.edges.color = {};\n            this.constants.edges.color.color = options.edges.color;\n            this.constants.edges.color.highlight = options.edges.color;\n            this.constants.edges.color.hover = options.edges.color;\n          }\n          else {\n            if (options.edges.color.color !== undefined)     {this.constants.edges.color.color = options.edges.color.color;}\n            if (options.edges.color.highlight !== undefined) {this.constants.edges.color.highlight = options.edges.color.highlight;}\n            if (options.edges.color.hover !== undefined)     {this.constants.edges.color.hover = options.edges.color.hover;}\n          }\n          this.constants.edges.inheritColor = false;\n        }\n\n        if (!options.edges.fontColor) {\n          if (options.edges.color !== undefined) {\n            if (util.isString(options.edges.color))           {this.constants.edges.fontColor = options.edges.color;}\n            else if (options.edges.color.color !== undefined) {this.constants.edges.fontColor = options.edges.color.color;}\n          }\n        }\n      }\n\n      if (options.nodes) {\n        if (options.nodes.color) {\n          var newColorObj = util.parseColor(options.nodes.color);\n          this.constants.nodes.color.background = newColorObj.background;\n          this.constants.nodes.color.border = newColorObj.border;\n          this.constants.nodes.color.highlight.background = newColorObj.highlight.background;\n          this.constants.nodes.color.highlight.border = newColorObj.highlight.border;\n          this.constants.nodes.color.hover.background = newColorObj.hover.background;\n          this.constants.nodes.color.hover.border = newColorObj.hover.border;\n        }\n      }\n      if (options.groups) {\n        for (var groupname in options.groups) {\n          if (options.groups.hasOwnProperty(groupname)) {\n            var group = options.groups[groupname];\n            this.groups.add(groupname, group);\n          }\n        }\n      }\n\n      if (options.tooltip) {\n        for (prop in options.tooltip) {\n          if (options.tooltip.hasOwnProperty(prop)) {\n            this.constants.tooltip[prop] = options.tooltip[prop];\n          }\n        }\n        if (options.tooltip.color) {\n          this.constants.tooltip.color = util.parseColor(options.tooltip.color);\n        }\n      }\n\n      if (\'clickToUse\' in options) {\n        if (options.clickToUse) {\n          if (!this.activator) {\n            this.activator = new Activator(this.frame);\n            this.activator.on(\'change\', this._createKeyBinds.bind(this));\n          }\n        }\n        else {\n          if (this.activator) {\n            this.activator.destroy();\n            delete this.activator;\n          }\n        }\n      }\n\n      if (options.labels) {\n        throw new Error(\'Option "labels" is deprecated. Use options "locale" and "locales" instead.\');\n      }\n\n\n      // (Re)loading the mixins that can be enabled or disabled in the options.\n      // load the force calculation functions, grouped under the physics system.\n      this._loadPhysicsSystem();\n      // load the navigation system.\n      this._loadNavigationControls();\n      // load the data manipulation system\n      this._loadManipulationSystem();\n      // configure the smooth curves\n      this._configureSmoothCurves();\n\n      // bind hammer\n      this._bindHammer();\n\n      // bind keys. If disabled, this will not do anything;\n      this._createKeyBinds();\n\n      this._markAllEdgesAsDirty();\n      this.setSize(this.constants.width, this.constants.height);\n      this.moving = true;\n      if (this.constants.hierarchicalLayout.enabled == true && this.initializing == false) {\n        this._resetLevels();\n        this._setupHierarchicalLayout();\n      }\n      this.start();\n    }\n  };\n\n\n\n  /**\n   * Create the main frame for the Network.\n   * This function is executed once when a Network object is created. The frame\n   * contains a canvas, and this canvas contains all objects like the axis and\n   * nodes.\n   * @private\n   */\n  Network.prototype._create = function () {\n    // remove all elements from the container element.\n    while (this.containerElement.hasChildNodes()) {\n      this.containerElement.removeChild(this.containerElement.firstChild);\n    }\n\n    this.frame = document.createElement(\'div\');\n    this.frame.className = \'vis network-frame\';\n    this.frame.style.position = \'relative\';\n    this.frame.style.overflow = \'hidden\';\n    this.frame.tabIndex = 900;\n\n\n  //////////////////////////////////////////////////////////////////\n\n    this.frame.canvas = document.createElement("canvas");\n    this.frame.canvas.style.position = \'relative\';\n    this.frame.appendChild(this.frame.canvas);\n\n    if (!this.frame.canvas.getContext) {\n      var noCanvas = document.createElement( \'DIV\' );\n      noCanvas.style.color = \'red\';\n      noCanvas.style.fontWeight =  \'bold\' ;\n      noCanvas.style.padding =  \'10px\';\n      noCanvas.innerHTML =  \'Error: your browser does not support HTML canvas\';\n      this.frame.canvas.appendChild(noCanvas);\n    }\n    else {\n      var ctx = this.frame.canvas.getContext("2d");\n      this.pixelRatio = (window.devicePixelRatio || 1) / (ctx.webkitBackingStorePixelRatio ||\n                ctx.mozBackingStorePixelRatio ||\n                ctx.msBackingStorePixelRatio ||\n                ctx.oBackingStorePixelRatio ||\n                ctx.backingStorePixelRatio || 1);\n\n      //this.pixelRatio = Math.max(1,this.pixelRatio); // this is to account for browser zooming out. The pixel ratio is ment to switch between 1 and 2 for HD screens.\n      this.frame.canvas.getContext("2d").setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n    }\n\n    this._bindHammer();\n  };\n\n\n  /**\n   * This function binds hammer, it can be repeated over and over due to the uniqueness check.\n   * @private\n   */\n  Network.prototype._bindHammer = function() {\n    var me = this;\n    if (this.hammer !== undefined) {\n      this.hammer.dispose();\n    }\n    this.drag = {};\n    this.pinch = {};\n    this.hammer = Hammer(this.frame.canvas, {\n      prevent_default: true\n    });\n    this.hammer.on(\'tap\',       me._onTap.bind(me) );\n    this.hammer.on(\'doubletap\', me._onDoubleTap.bind(me) );\n    this.hammer.on(\'hold\',      me._onHold.bind(me) );\n    this.hammer.on(\'touch\',     me._onTouch.bind(me) );\n    this.hammer.on(\'dragstart\', me._onDragStart.bind(me) );\n    this.hammer.on(\'drag\',      me._onDrag.bind(me) );\n    this.hammer.on(\'dragend\',   me._onDragEnd.bind(me) );\n\n    if (this.constants.zoomable == true) {\n      this.hammer.on(\'mousewheel\',      me._onMouseWheel.bind(me));\n      this.hammer.on(\'DOMMouseScroll\',  me._onMouseWheel.bind(me)); // for FF\n      this.hammer.on(\'pinch\',           me._onPinch.bind(me) );\n    }\n\n    this.hammer.on(\'mousemove\', me._onMouseMoveTitle.bind(me) );\n\n    this.hammerFrame = Hammer(this.frame, {\n      prevent_default: true\n    });\n    this.hammerFrame.on(\'release\', me._onRelease.bind(me) );\n\n    // add the frame to the container element\n    this.containerElement.appendChild(this.frame);\n  }\n\n  /**\n   * Binding the keys for keyboard navigation. These functions are defined in the NavigationMixin\n   * @private\n   */\n  Network.prototype._createKeyBinds = function() {\n    var me = this;\n    if (this.keycharm !== undefined) {\n      this.keycharm.destroy();\n    }\n\n    if (this.constants.keyboard.bindToWindow == true) {\n      this.keycharm = keycharm({container: window, preventDefault: false});\n    }\n    else {\n      this.keycharm = keycharm({container: this.frame, preventDefault: false});\n    }\n\n    this.keycharm.reset();\n\n    if (this.constants.keyboard.enabled && this.isActive()) {\n      this.keycharm.bind("up",   this._moveUp.bind(me)   , "keydown");\n      this.keycharm.bind("up",   this._yStopMoving.bind(me), "keyup");\n      this.keycharm.bind("down", this._moveDown.bind(me) , "keydown");\n      this.keycharm.bind("down", this._yStopMoving.bind(me), "keyup");\n      this.keycharm.bind("left", this._moveLeft.bind(me) , "keydown");\n      this.keycharm.bind("left", this._xStopMoving.bind(me), "keyup");\n      this.keycharm.bind("right",this._moveRight.bind(me), "keydown");\n      this.keycharm.bind("right",this._xStopMoving.bind(me), "keyup");\n      this.keycharm.bind("=",    this._zoomIn.bind(me),    "keydown");\n      this.keycharm.bind("=",    this._stopZoom.bind(me),    "keyup");\n      this.keycharm.bind("num+", this._zoomIn.bind(me),    "keydown");\n      this.keycharm.bind("num+", this._stopZoom.bind(me),    "keyup");\n      this.keycharm.bind("num-", this._zoomOut.bind(me),   "keydown");\n      this.keycharm.bind("num-", this._stopZoom.bind(me),    "keyup");\n      this.keycharm.bind("-",    this._zoomOut.bind(me),   "keydown");\n      this.keycharm.bind("-",    this._stopZoom.bind(me),    "keyup");\n      this.keycharm.bind("[",    this._zoomIn.bind(me),    "keydown");\n      this.keycharm.bind("[",    this._stopZoom.bind(me),    "keyup");\n      this.keycharm.bind("]",    this._zoomOut.bind(me),   "keydown");\n      this.keycharm.bind("]",    this._stopZoom.bind(me),    "keyup");\n      this.keycharm.bind("pageup",this._zoomIn.bind(me),   "keydown");\n      this.keycharm.bind("pageup",this._stopZoom.bind(me),   "keyup");\n      this.keycharm.bind("pagedown",this._zoomOut.bind(me),"keydown");\n      this.keycharm.bind("pagedown",this._stopZoom.bind(me), "keyup");\n    }\n\n    if (this.constants.dataManipulation.enabled == true) {\n      this.keycharm.bind("esc",this._createManipulatorBar.bind(me));\n      this.keycharm.bind("delete",this._deleteSelected.bind(me));\n    }\n  };\n\n  /**\n   * Cleans up all bindings of the network, removing it fully from the memory IF the variable is set to null after calling this function.\n   * var network = new vis.Network(..);\n   * network.destroy();\n   * network = null;\n   */\n  Network.prototype.destroy = function() {\n    this.start = function () {};\n    this.redraw = function () {};\n    this.timer = false;\n\n    // cleanup physicsConfiguration if it exists\n    this._cleanupPhysicsConfiguration();\n\n    // remove keybindings\n    this.keycharm.reset();\n\n    // clear hammer bindings\n    this.hammer.dispose();\n\n    // clear events\n    this.off();\n\n    this._recursiveDOMDelete(this.containerElement);\n  }\n\n  Network.prototype._recursiveDOMDelete = function(DOMobject) {\n    while (DOMobject.hasChildNodes() == true) {\n      this._recursiveDOMDelete(DOMobject.firstChild);\n      DOMobject.removeChild(DOMobject.firstChild);\n    }\n  }\n\n  /**\n   * Get the pointer location from a touch location\n   * @param {{pageX: Number, pageY: Number}} touch\n   * @return {{x: Number, y: Number}} pointer\n   * @private\n   */\n  Network.prototype._getPointer = function (touch) {\n    return {\n      x: touch.pageX - util.getAbsoluteLeft(this.frame.canvas),\n      y: touch.pageY - util.getAbsoluteTop(this.frame.canvas)\n    };\n  };\n\n  /**\n   * On start of a touch gesture, store the pointer\n   * @param event\n   * @private\n   */\n  Network.prototype._onTouch = function (event) {\n    if (new Date().valueOf() - this.touchTime > 100) {\n      this.drag.pointer = this._getPointer(event.gesture.center);\n      this.drag.pinched = false;\n      this.pinch.scale = this._getScale();\n\n      // to avoid double fireing of this event because we have two hammer instances. (on canvas and on frame)\n      this.touchTime = new Date().valueOf();\n\n      this._handleTouch(this.drag.pointer);\n    }\n  };\n\n  /**\n   * handle drag start event\n   * @private\n   */\n  Network.prototype._onDragStart = function (event) {\n    this._handleDragStart(event);\n  };\n\n\n  /**\n   * This function is called by _onDragStart.\n   * It is separated out because we can then overload it for the datamanipulation system.\n   *\n   * @private\n   */\n  Network.prototype._handleDragStart = function(event) {\n    // in case the touch event was triggered on an external div, do the initial touch now.\n    if (this.drag.pointer === undefined) {\n      this._onTouch(event);\n    }\n\n    var node = this._getNodeAt(this.drag.pointer);\n    // note: drag.pointer is set in _onTouch to get the initial touch location\n\n    this.drag.dragging = true;\n    this.drag.selection = [];\n    this.drag.translation = this._getTranslation();\n    this.drag.nodeId = null;\n    this.draggingNodes = false;\n\n    if (node != null && this.constants.dragNodes == true) {\n      this.draggingNodes = true;\n      this.drag.nodeId = node.id;\n      // select the clicked node if not yet selected\n      if (!node.isSelected()) {\n        this._selectObject(node,false);\n      }\n\n      this.emit("dragStart",{nodeIds:this.getSelection().nodes});\n\n      // create an array with the selected nodes and their original location and status\n      for (var objectId in this.selectionObj.nodes) {\n        if (this.selectionObj.nodes.hasOwnProperty(objectId)) {\n          var object = this.selectionObj.nodes[objectId];\n          var s = {\n            id: object.id,\n            node: object,\n\n            // store original x, y, xFixed and yFixed, make the node temporarily Fixed\n            x: object.x,\n            y: object.y,\n            xFixed: object.xFixed,\n            yFixed: object.yFixed\n          };\n\n          object.xFixed = true;\n          object.yFixed = true;\n\n          this.drag.selection.push(s);\n        }\n      }\n    }\n  };\n\n\n  /**\n   * handle drag event\n   * @private\n   */\n  Network.prototype._onDrag = function (event) {\n    this._handleOnDrag(event)\n  };\n\n\n  /**\n   * This function is called by _onDrag.\n   * It is separated out because we can then overload it for the datamanipulation system.\n   *\n   * @private\n   */\n  Network.prototype._handleOnDrag = function(event) {\n    if (this.drag.pinched) {\n      return;\n    }\n\n    // remove the focus on node if it is focussed on by the focusOnNode\n    this.releaseNode();\n\n    var pointer = this._getPointer(event.gesture.center);\n    var me = this;\n    var drag = this.drag;\n    var selection = drag.selection;\n    if (selection && selection.length && this.constants.dragNodes == true) {\n      // calculate delta\'s and new location\n      var deltaX = pointer.x - drag.pointer.x;\n      var deltaY = pointer.y - drag.pointer.y;\n\n      // update position of all selected nodes\n      selection.forEach(function (s) {\n        var node = s.node;\n\n        if (!s.xFixed) {\n          node.x = me._XconvertDOMtoCanvas(me._XconvertCanvasToDOM(s.x) + deltaX);\n        }\n\n        if (!s.yFixed) {\n          node.y = me._YconvertDOMtoCanvas(me._YconvertCanvasToDOM(s.y) + deltaY);\n        }\n      });\n\n\n      // start _animationStep if not yet running\n      if (!this.moving) {\n        this.moving = true;\n        this.start();\n      }\n    }\n    else {\n      // move the network\n      if (this.constants.dragNetwork == true) {\n        // if the drag was not started properly because the click started outside the network div, start it now.\n        if (this.drag.pointer === undefined) {\n          this._handleDragStart(event);\n          return;\n        }\n        var diffX = pointer.x - this.drag.pointer.x;\n        var diffY = pointer.y - this.drag.pointer.y;\n\n        this._setTranslation(\n          this.drag.translation.x + diffX,\n          this.drag.translation.y + diffY\n        );\n        this._redraw();\n      }\n    }\n  };\n\n  /**\n   * handle drag start event\n   * @private\n   */\n  Network.prototype._onDragEnd = function (event) {\n    this._handleDragEnd(event);\n  };\n\n\n  Network.prototype._handleDragEnd = function(event) {\n    this.drag.dragging = false;\n    var selection = this.drag.selection;\n    if (selection && selection.length) {\n      selection.forEach(function (s) {\n        // restore original xFixed and yFixed\n        s.node.xFixed = s.xFixed;\n        s.node.yFixed = s.yFixed;\n      });\n      this.moving = true;\n      this.start();\n    }\n    else {\n      this._redraw();\n    }\n    if (this.draggingNodes == false) {\n      this.emit("dragEnd",{nodeIds:[]});\n    }\n    else {\n      this.emit("dragEnd",{nodeIds:this.getSelection().nodes});\n    }\n\n  }\n  /**\n   * handle tap/click event: select/unselect a node\n   * @private\n   */\n  Network.prototype._onTap = function (event) {\n    var pointer = this._getPointer(event.gesture.center);\n    this.pointerPosition = pointer;\n    this._handleTap(pointer);\n\n  };\n\n\n  /**\n   * handle doubletap event\n   * @private\n   */\n  Network.prototype._onDoubleTap = function (event) {\n    var pointer = this._getPointer(event.gesture.center);\n    this._handleDoubleTap(pointer);\n  };\n\n\n  /**\n   * handle long tap event: multi select nodes\n   * @private\n   */\n  Network.prototype._onHold = function (event) {\n    var pointer = this._getPointer(event.gesture.center);\n    this.pointerPosition = pointer;\n    this._handleOnHold(pointer);\n  };\n\n  /**\n   * handle the release of the screen\n   *\n   * @private\n   */\n  Network.prototype._onRelease = function (event) {\n    var pointer = this._getPointer(event.gesture.center);\n    this._handleOnRelease(pointer);\n  };\n\n  /**\n   * Handle pinch event\n   * @param event\n   * @private\n   */\n  Network.prototype._onPinch = function (event) {\n    var pointer = this._getPointer(event.gesture.center);\n\n    this.drag.pinched = true;\n    if (!(\'scale\' in this.pinch)) {\n      this.pinch.scale = 1;\n    }\n\n    // TODO: enabled moving while pinching?\n    var scale = this.pinch.scale * event.gesture.scale;\n    this._zoom(scale, pointer)\n  };\n\n  /**\n   * Zoom the network in or out\n   * @param {Number} scale a number around 1, and between 0.01 and 10\n   * @param {{x: Number, y: Number}} pointer    Position on screen\n   * @return {Number} appliedScale    scale is limited within the boundaries\n   * @private\n   */\n  Network.prototype._zoom = function(scale, pointer) {\n    if (this.constants.zoomable == true) {\n      var scaleOld = this._getScale();\n      if (scale < 0.00001) {\n        scale = 0.00001;\n      }\n      if (scale > 10) {\n        scale = 10;\n      }\n\n      var preScaleDragPointer = null;\n      if (this.drag !== undefined) {\n        if (this.drag.dragging == true) {\n          preScaleDragPointer = this.DOMtoCanvas(this.drag.pointer);\n        }\n      }\n    // + this.frame.canvas.clientHeight / 2\n      var translation = this._getTranslation();\n\n      var scaleFrac = scale / scaleOld;\n      var tx = (1 - scaleFrac) * pointer.x + translation.x * scaleFrac;\n      var ty = (1 - scaleFrac) * pointer.y + translation.y * scaleFrac;\n\n      this.areaCenter = {"x" : this._XconvertDOMtoCanvas(pointer.x),\n                         "y" : this._YconvertDOMtoCanvas(pointer.y)};\n\n      this._setScale(scale);\n      this._setTranslation(tx, ty);\n      this.updateClustersDefault();\n\n      if (preScaleDragPointer != null) {\n        var postScaleDragPointer = this.canvasToDOM(preScaleDragPointer);\n        this.drag.pointer.x = postScaleDragPointer.x;\n        this.drag.pointer.y = postScaleDragPointer.y;\n      }\n\n      this._redraw();\n\n      if (scaleOld < scale) {\n        this.emit("zoom", {direction:"+"});\n      }\n      else {\n        this.emit("zoom", {direction:"-"});\n      }\n\n      return scale;\n    }\n  };\n\n\n  /**\n   * Event handler for mouse wheel event, used to zoom the timeline\n   * See http://adomas.org/javascript-mouse-wheel/\n   *     https://github.com/EightMedia/hammer.js/issues/256\n   * @param {MouseEvent}  event\n   * @private\n   */\n  Network.prototype._onMouseWheel = function(event) {\n    // retrieve delta\n    var delta = 0;\n    if (event.wheelDelta) { /* IE/Opera. */\n      delta = event.wheelDelta/120;\n    } else if (event.detail) { /* Mozilla case. */\n      // In Mozilla, sign of delta is different than in IE.\n      // Also, delta is multiple of 3.\n      delta = -event.detail/3;\n    }\n\n    // If delta is nonzero, handle it.\n    // Basically, delta is now positive if wheel was scrolled up,\n    // and negative, if wheel was scrolled down.\n    if (delta) {\n\n      // calculate the new scale\n      var scale = this._getScale();\n      var zoom = delta / 10;\n      if (delta < 0) {\n        zoom = zoom / (1 - zoom);\n      }\n      scale *= (1 + zoom);\n\n      // calculate the pointer location\n      var gesture = hammerUtil.fakeGesture(this, event);\n      var pointer = this._getPointer(gesture.center);\n\n      // apply the new scale\n      this._zoom(scale, pointer);\n    }\n\n    // Prevent default actions caused by mouse wheel.\n    event.preventDefault();\n  };\n\n\n  /**\n   * Mouse move handler for checking whether the title moves over a node with a title.\n   * @param  {Event} event\n   * @private\n   */\n  Network.prototype._onMouseMoveTitle = function (event) {\n    var gesture = hammerUtil.fakeGesture(this, event);\n    var pointer = this._getPointer(gesture.center);\n    var popupVisible = false;\n\n    // check if the previously selected node is still selected\n    if (this.popup !== undefined) {\n      if (this.popup.hidden === false) {\n        this._checkHidePopup(pointer);\n      }\n\n      // if the popup was not hidden above\n      if (this.popup.hidden === false) {\n        popupVisible = true;\n        this.popup.setPosition(pointer.x + 3,pointer.y - 5)\n        this.popup.show();\n      }\n    }\n\n    // if we bind the keyboard to the div, we have to highlight it to use it. This highlights it on mouse over\n    if (this.constants.keyboard.bindToWindow == false && this.constants.keyboard.enabled == true) {\n      this.frame.focus();\n    }\n\n    // start a timeout that will check if the mouse is positioned above an element\n    if (popupVisible === false) {\n      var me = this;\n      var checkShow = function () {\n        me._checkShowPopup(pointer);\n      };\n      if (this.popupTimer) {\n        clearInterval(this.popupTimer); // stop any running calculationTimer\n      }\n      if (!this.drag.dragging) {\n        this.popupTimer = setTimeout(checkShow, this.constants.tooltip.delay);\n      }\n    }\n\n    /**\n     * Adding hover highlights\n     */\n    if (this.constants.hover == true) {\n      // removing all hover highlights\n      for (var edgeId in this.hoverObj.edges) {\n        if (this.hoverObj.edges.hasOwnProperty(edgeId)) {\n          this.hoverObj.edges[edgeId].hover = false;\n          delete this.hoverObj.edges[edgeId];\n        }\n      }\n\n      // adding hover highlights\n      var obj = this._getNodeAt(pointer);\n      if (obj == null) {\n        obj = this._getEdgeAt(pointer);\n      }\n      if (obj != null) {\n        this._hoverObject(obj);\n      }\n\n      // removing all node hover highlights except for the selected one.\n      for (var nodeId in this.hoverObj.nodes) {\n        if (this.hoverObj.nodes.hasOwnProperty(nodeId)) {\n          if (obj instanceof Node && obj.id != nodeId || obj instanceof Edge || obj == null) {\n            this._blurObject(this.hoverObj.nodes[nodeId]);\n            delete this.hoverObj.nodes[nodeId];\n          }\n        }\n      }\n      this.redraw();\n    }\n  };\n\n  /**\n   * Check if there is an element on the given position in the network\n   * (a node or edge). If so, and if this element has a title,\n   * show a popup window with its title.\n   *\n   * @param {{x:Number, y:Number}} pointer\n   * @private\n   */\n  Network.prototype._checkShowPopup = function (pointer) {\n    var obj = {\n      left:   this._XconvertDOMtoCanvas(pointer.x),\n      top:    this._YconvertDOMtoCanvas(pointer.y),\n      right:  this._XconvertDOMtoCanvas(pointer.x),\n      bottom: this._YconvertDOMtoCanvas(pointer.y)\n    };\n\n    var id;\n    var previousPopupObjId = this.popupObj === undefined ? "" : this.popupObj.id;\n    var nodeUnderCursor = false;\n    var popupType = "node";\n\n    if (this.popupObj == undefined) {\n      // search the nodes for overlap, select the top one in case of multiple nodes\n      var nodes = this.nodes;\n      var overlappingNodes = [];\n      for (id in nodes) {\n        if (nodes.hasOwnProperty(id)) {\n          var node = nodes[id];\n          if (node.isOverlappingWith(obj)) {\n            if (node.getTitle() !== undefined) {\n              overlappingNodes.push(id);\n            }\n          }\n        }\n      }\n\n      if (overlappingNodes.length > 0) {\n        // if there are overlapping nodes, select the last one, this is the\n        // one which is drawn on top of the others\n        this.popupObj = this.nodes[overlappingNodes[overlappingNodes.length - 1]];\n        // if you hover over a node, the title of the edge is not supposed to be shown.\n        nodeUnderCursor = true;\n      }\n    }\n\n    if (this.popupObj === undefined && nodeUnderCursor == false) {\n      // search the edges for overlap\n      var edges = this.edges;\n      var overlappingEdges = [];\n      for (id in edges) {\n        if (edges.hasOwnProperty(id)) {\n          var edge = edges[id];\n          if (edge.connected && (edge.getTitle() !== undefined) &&\n              edge.isOverlappingWith(obj)) {\n            overlappingEdges.push(id);\n          }\n        }\n      }\n\n      if (overlappingEdges.length > 0) {\n        this.popupObj = this.edges[overlappingEdges[overlappingEdges.length - 1]];\n        popupType = "edge";\n      }\n    }\n\n    if (this.popupObj) {\n      // show popup message window\n      if (this.popupObj.id != previousPopupObjId) {\n        if (this.popup === undefined) {\n          this.popup = new Popup(this.frame, this.constants.tooltip);\n        }\n\n        this.popup.popupTargetType = popupType;\n        this.popup.popupTargetId = this.popupObj.id;\n\n        // adjust a small offset such that the mouse cursor is located in the\n        // bottom left location of the popup, and you can easily move over the\n        // popup area\n        this.popup.setPosition(pointer.x + 3, pointer.y - 5);\n        this.popup.setText(this.popupObj.getTitle());\n        this.popup.show();\n      }\n    }\n    else {\n      if (this.popup) {\n        this.popup.hide();\n      }\n    }\n  };\n\n\n  /**\n   * Check if the popup must be hidden, which is the case when the mouse is no\n   * longer hovering on the object\n   * @param {{x:Number, y:Number}} pointer\n   * @private\n   */\n  Network.prototype._checkHidePopup = function (pointer) {\n    var pointerObj = {\n      left:   this._XconvertDOMtoCanvas(pointer.x),\n      top:    this._YconvertDOMtoCanvas(pointer.y),\n      right:  this._XconvertDOMtoCanvas(pointer.x),\n      bottom: this._YconvertDOMtoCanvas(pointer.y)\n    };\n\n    var stillOnObj = false;\n    if (this.popup.popupTargetType == \'node\') {\n      stillOnObj = this.nodes[this.popup.popupTargetId].isOverlappingWith(pointerObj);\n      if (stillOnObj === true) {\n        var overNode = this._getNodeAt(pointer);\n        stillOnObj = overNode.id == this.popup.popupTargetId;\n      }\n    }\n    else {\n      if (this._getNodeAt(pointer) === null) {\n        stillOnObj = this.edges[this.popup.popupTargetId].isOverlappingWith(pointerObj);\n      }\n    }\n\n\n    if (stillOnObj === false) {\n      this.popupObj = undefined;\n      this.popup.hide();\n    }\n  };\n\n\n  /**\n   * Set a new size for the network\n   * @param {string} width   Width in pixels or percentage (for example \'800px\'\n   *                         or \'50%\')\n   * @param {string} height  Height in pixels or percentage  (for example \'400px\'\n   *                         or \'30%\')\n   */\n  Network.prototype.setSize = function(width, height) {\n    var emitEvent = false;\n    var oldWidth = this.frame.canvas.width;\n    var oldHeight = this.frame.canvas.height;\n    if (width != this.constants.width || height != this.constants.height || this.frame.style.width != width || this.frame.style.height != height) {\n      this.frame.style.width = width;\n      this.frame.style.height = height;\n\n      this.frame.canvas.style.width = \'100%\';\n      this.frame.canvas.style.height = \'100%\';\n\n      this.frame.canvas.width = this.frame.canvas.clientWidth * this.pixelRatio;\n      this.frame.canvas.height = this.frame.canvas.clientHeight * this.pixelRatio;\n\n      this.constants.width = width;\n      this.constants.height = height;\n\n      emitEvent = true;\n    }\n    else {\n      // this would adapt the width of the canvas to the width from 100% if and only if\n      // there is a change.\n\n      if (this.frame.canvas.width != this.frame.canvas.clientWidth * this.pixelRatio) {\n        this.frame.canvas.width = this.frame.canvas.clientWidth * this.pixelRatio;\n        emitEvent = true;\n      }\n      if (this.frame.canvas.height != this.frame.canvas.clientHeight * this.pixelRatio) {\n        this.frame.canvas.height = this.frame.canvas.clientHeight * this.pixelRatio;\n        emitEvent = true;\n      }\n    }\n\n    if (emitEvent == true) {\n      this.emit(\'resize\', {width:this.frame.canvas.width * this.pixelRatio,height:this.frame.canvas.height * this.pixelRatio, oldWidth: oldWidth * this.pixelRatio, oldHeight: oldHeight * this.pixelRatio});\n    }\n  };\n\n  /**\n   * Set a data set with nodes for the network\n   * @param {Array | DataSet | DataView} nodes         The data containing the nodes.\n   * @private\n   */\n  Network.prototype._setNodes = function(nodes) {\n    var oldNodesData = this.nodesData;\n\n    if (nodes instanceof DataSet || nodes instanceof DataView) {\n      this.nodesData = nodes;\n    }\n    else if (Array.isArray(nodes)) {\n      this.nodesData = new DataSet();\n      this.nodesData.add(nodes);\n    }\n    else if (!nodes) {\n      this.nodesData = new DataSet();\n    }\n    else {\n      throw new TypeError(\'Array or DataSet expected\');\n    }\n\n    if (oldNodesData) {\n      // unsubscribe from old dataset\n      util.forEach(this.nodesListeners, function (callback, event) {\n        oldNodesData.off(event, callback);\n      });\n    }\n\n    // remove drawn nodes\n    this.nodes = {};\n\n    if (this.nodesData) {\n      // subscribe to new dataset\n      var me = this;\n      util.forEach(this.nodesListeners, function (callback, event) {\n        me.nodesData.on(event, callback);\n      });\n\n      // draw all new nodes\n      var ids = this.nodesData.getIds();\n      this._addNodes(ids);\n    }\n    this._updateSelection();\n  };\n\n  /**\n   * Add nodes\n   * @param {Number[] | String[]} ids\n   * @private\n   */\n  Network.prototype._addNodes = function(ids) {\n    var id;\n    var fieldId = this.nodesData._fieldId || null;\n    for (var i = 0, len = ids.length; i < len; i++) {\n      id = ids[i];\n      var data = this.nodesData.get(id);\n      if (fieldId) {\n        data.id = data[fieldId];\n      }\n\n      var node = new Node(data, this.images, this.groups, this.constants);\n      this.nodes[id] = node; // note: this may replace an existing node\n      if ((node.xFixed == false || node.yFixed == false) && (node.x === null || node.y === null)) {\n        var radius = 10 * 0.1*ids.length + 10;\n        var angle = 2 * Math.PI * Math.random();\n        if (node.xFixed == false) {node.x = radius * Math.cos(angle);}\n        if (node.yFixed == false) {node.y = radius * Math.sin(angle);}\n      }\n      this.moving = true;\n    }\n\n    this._updateNodeIndexList();\n    if (this.constants.hierarchicalLayout.enabled == true && this.initializing == false) {\n      this._resetLevels();\n      this._setupHierarchicalLayout();\n    }\n    this._updateCalculationNodes();\n    this._reconnectEdges();\n    this._updateValueRange(this.nodes);\n    this.updateLabels();\n  };\n\n  /**\n   * Update existing nodes, or create them when not yet existing\n   * @param {Number[] | String[]} ids\n   * @private\n   */\n  Network.prototype._updateNodes = function(ids) {\n    var nodesData = this.nodesData.get(ids);\n    var nodes = this.nodes;\n\n    for (var i = 0, len = ids.length; i < len; i++) {\n      var id = ids[i];\n      var node = nodes[id];\n      var data = nodesData[i];\n      if (node) {\n        // update node\n        node.setProperties(data, this.constants);\n      }\n      else {\n        // create node\n        node = new Node(properties, this.images, this.groups, this.constants);\n        nodes[id] = node;\n      }\n    }\n    this.moving = true;\n    if (this.constants.hierarchicalLayout.enabled == true && this.initializing == false) {\n      this._resetLevels();\n      this._setupHierarchicalLayout();\n    }\n    this._updateNodeIndexList();\n    this._updateValueRange(nodes);\n    this._markAllEdgesAsDirty();\n  };\n\n\n  Network.prototype._markAllEdgesAsDirty = function() {\n    for (var edgeId in this.edges) {\n      this.edges[edgeId].colorDirty = true;\n    }\n  }\n\n  /**\n   * Remove existing nodes. If nodes do not exist, the method will just ignore it.\n   * @param {Number[] | String[]} ids\n   * @private\n   */\n  Network.prototype._removeNodes = function(ids) {\n    var nodes = this.nodes;\n\n    // remove from selection\n    for (var i = 0, len = ids.length; i < len; i++) {\n      if (this.selectionObj.nodes[ids[i]] !== undefined) {\n        this.nodes[ids[i]].unselect();\n        this._removeFromSelection(this.nodes[ids[i]]);\n      }\n    }\n\n    for (var i = 0, len = ids.length; i < len; i++) {\n      var id = ids[i];\n      delete nodes[id];\n    }\n\n\n\n    this._updateNodeIndexList();\n    if (this.constants.hierarchicalLayout.enabled == true && this.initializing == false) {\n      this._resetLevels();\n      this._setupHierarchicalLayout();\n    }\n    this._updateCalculationNodes();\n    this._reconnectEdges();\n    this._updateSelection();\n    this._updateValueRange(nodes);\n  };\n\n  /**\n   * Load edges by reading the data table\n   * @param {Array | DataSet | DataView} edges    The data containing the edges.\n   * @private\n   * @private\n   */\n  Network.prototype._setEdges = function(edges) {\n    var oldEdgesData = this.edgesData;\n\n    if (edges instanceof DataSet || edges instanceof DataView) {\n      this.edgesData = edges;\n    }\n    else if (Array.isArray(edges)) {\n      this.edgesData = new DataSet();\n      this.edgesData.add(edges);\n    }\n    else if (!edges) {\n      this.edgesData = new DataSet();\n    }\n    else {\n      throw new TypeError(\'Array or DataSet expected\');\n    }\n\n    if (oldEdgesData) {\n      // unsubscribe from old dataset\n      util.forEach(this.edgesListeners, function (callback, event) {\n        oldEdgesData.off(event, callback);\n      });\n    }\n\n    // remove drawn edges\n    this.edges = {};\n\n    if (this.edgesData) {\n      // subscribe to new dataset\n      var me = this;\n      util.forEach(this.edgesListeners, function (callback, event) {\n        me.edgesData.on(event, callback);\n      });\n\n      // draw all new nodes\n      var ids = this.edgesData.getIds();\n      this._addEdges(ids);\n    }\n\n    this._reconnectEdges();\n  };\n\n  /**\n   * Add edges\n   * @param {Number[] | String[]} ids\n   * @private\n   */\n  Network.prototype._addEdges = function (ids) {\n    var edges = this.edges;\n    var edgesData = this.edgesData;\n    var fieldId = this.edgesData._fieldId;\n\n    for (var i = 0, len = ids.length; i < len; i++) {\n      var id = ids[i];\n\n      var oldEdge = edges[id];\n      if (oldEdge) {\n        oldEdge.disconnect();\n      }\n\n      var data = edgesData.get(id, {"showInternalIds" : true});\n      if (fieldId) {\n        data.id = data[fieldId];\n      }\n      edges[id] = new Edge(data, this, this.constants);\n    }\n    this.moving = true;\n    this._updateValueRange(edges);\n    this._createBezierNodes();\n    this._updateCalculationNodes();\n    if (this.constants.hierarchicalLayout.enabled == true && this.initializing == false) {\n      this._resetLevels();\n      this._setupHierarchicalLayout();\n    }\n  };\n\n  /**\n   * Update existing edges, or create them when not yet existing\n   * @param {Number[] | String[]} ids\n   * @private\n   */\n  Network.prototype._updateEdges = function (ids) {\n    var edges = this.edges,\n        edgesData = this.edgesData;\n    for (var i = 0, len = ids.length; i < len; i++) {\n      var id = ids[i];\n\n      var data = edgesData.get(id);\n      var edge = edges[id];\n      if (edge) {\n        // update edge\n        edge.disconnect();\n        edge.setProperties(data, this.constants);\n        edge.connect();\n      }\n      else {\n        // create edge\n        edge = new Edge(data, this, this.constants);\n        this.edges[id] = edge;\n      }\n    }\n\n    this._createBezierNodes();\n    if (this.constants.hierarchicalLayout.enabled == true && this.initializing == false) {\n      this._resetLevels();\n      this._setupHierarchicalLayout();\n    }\n    this.moving = true;\n    this._updateValueRange(edges);\n  };\n\n  /**\n   * Remove existing edges. Non existing ids will be ignored\n   * @param {Number[] | String[]} ids\n   * @private\n   */\n  Network.prototype._removeEdges = function (ids) {\n    var edges = this.edges;\n\n    // remove from selection\n    for (var i = 0, len = ids.length; i < len; i++) {\n      if (this.selectionObj.edges[ids[i]] !== undefined) {\n        edges[ids[i]].unselect();\n        this._removeFromSelection(edges[ids[i]]);\n      }\n    }\n\n    for (var i = 0, len = ids.length; i < len; i++) {\n      var id = ids[i];\n      var edge = edges[id];\n      if (edge) {\n        if (edge.via != null) {\n          delete this.sectors[\'support\'][\'nodes\'][edge.via.id];\n        }\n        edge.disconnect();\n        delete edges[id];\n      }\n    }\n\n    this.moving = true;\n    this._updateValueRange(edges);\n    if (this.constants.hierarchicalLayout.enabled == true && this.initializing == false) {\n      this._resetLevels();\n      this._setupHierarchicalLayout();\n    }\n    this._updateCalculationNodes();\n  };\n\n  /**\n   * Reconnect all edges\n   * @private\n   */\n  Network.prototype._reconnectEdges = function() {\n    var id,\n        nodes = this.nodes,\n        edges = this.edges;\n    for (id in nodes) {\n      if (nodes.hasOwnProperty(id)) {\n        nodes[id].edges = [];\n        nodes[id].dynamicEdges = [];\n      }\n    }\n\n    for (id in edges) {\n      if (edges.hasOwnProperty(id)) {\n        var edge = edges[id];\n        edge.from = null;\n        edge.to = null;\n        edge.connect();\n      }\n    }\n  };\n\n  /**\n   * Update the values of all object in the given array according to the current\n   * value range of the objects in the array.\n   * @param {Object} obj    An object containing a set of Edges or Nodes\n   *                        The objects must have a method getValue() and\n   *                        setValueRange(min, max).\n   * @private\n   */\n  Network.prototype._updateValueRange = function(obj) {\n    var id;\n\n    // determine the range of the objects\n    var valueMin = undefined;\n    var valueMax = undefined;\n    var valueTotal = 0;\n    for (id in obj) {\n      if (obj.hasOwnProperty(id)) {\n        var value = obj[id].getValue();\n        if (value !== undefined) {\n          valueMin = (valueMin === undefined) ? value : Math.min(value, valueMin);\n          valueMax = (valueMax === undefined) ? value : Math.max(value, valueMax);\n          valueTotal += value;\n        }\n      }\n    }\n\n    // adjust the range of all objects\n    if (valueMin !== undefined && valueMax !== undefined) {\n      for (id in obj) {\n        if (obj.hasOwnProperty(id)) {\n          obj[id].setValueRange(valueMin, valueMax, valueTotal);\n        }\n      }\n    }\n  };\n\n  /**\n   * Redraw the network with the current data\n   * chart will be resized too.\n   */\n  Network.prototype.redraw = function() {\n    this.setSize(this.constants.width, this.constants.height);\n    this._redraw();\n  };\n\n  /**\n   * Redraw the network with the current data\n   * @param hidden | used to get the first estimate of the node sizes. only the nodes are drawn after which they are quickly drawn over.\n   * @private\n   */\n  Network.prototype._requestRedraw = function(hidden) {\n    if (this.redrawRequested !== true) {\n      this.redrawRequested = true;\n      if (this.requiresTimeout === true) {\n        window.setTimeout(this._redraw.bind(this, hidden),0);\n      }\n      else {\n        window.requestAnimationFrame(this._redraw.bind(this, hidden, true));\n      }\n    }\n  };\n\n  Network.prototype._redraw = function(hidden, requested) {\n    if (hidden === undefined) {\n      hidden = false;\n    }\n    this.redrawRequested = false;\n    var ctx = this.frame.canvas.getContext(\'2d\');\n\n    ctx.setTransform(this.pixelRatio, 0, 0, this.pixelRatio, 0, 0);\n\n    // clear the canvas\n    var w = this.frame.canvas.clientWidth;\n    var h = this.frame.canvas.clientHeight;\n    ctx.clearRect(0, 0, w, h);\n\n    // set scaling and translation\n    ctx.save();\n    ctx.translate(this.translation.x, this.translation.y);\n    ctx.scale(this.scale, this.scale);\n\n    this.canvasTopLeft = {\n      "x": this._XconvertDOMtoCanvas(0),\n      "y": this._YconvertDOMtoCanvas(0)\n    };\n    this.canvasBottomRight = {\n      "x": this._XconvertDOMtoCanvas(this.frame.canvas.clientWidth),\n      "y": this._YconvertDOMtoCanvas(this.frame.canvas.clientHeight)\n    };\n\n    if (hidden === false) {\n      this._doInAllSectors("_drawAllSectorNodes", ctx);\n      if (this.drag.dragging == false || this.drag.dragging === undefined || this.constants.hideEdgesOnDrag == false) {\n        this._doInAllSectors("_drawEdges", ctx);\n      }\n    }\n\n    if (this.drag.dragging == false || this.drag.dragging === undefined || this.constants.hideNodesOnDrag == false) {\n      this._doInAllSectors("_drawNodes",ctx,false);\n    }\n\n    if (hidden === false) {\n      if (this.controlNodesActive == true) {\n        this._doInAllSectors("_drawControlNodes", ctx);\n      }\n    }\n\n  //  this._doInSupportSector("_drawNodes",ctx,true);\n  //  this._drawTree(ctx,"#F00F0F");\n\n    // restore original scaling and translation\n    ctx.restore();\n\n    if (hidden === true) {\n      ctx.clearRect(0, 0, w, h);\n    }\n  }\n\n  /**\n   * Set the translation of the network\n   * @param {Number} offsetX    Horizontal offset\n   * @param {Number} offsetY    Vertical offset\n   * @private\n   */\n  Network.prototype._setTranslation = function(offsetX, offsetY) {\n    if (this.translation === undefined) {\n      this.translation = {\n        x: 0,\n        y: 0\n      };\n    }\n\n    if (offsetX !== undefined) {\n      this.translation.x = offsetX;\n    }\n    if (offsetY !== undefined) {\n      this.translation.y = offsetY;\n    }\n\n    this.emit(\'viewChanged\');\n  };\n\n  /**\n   * Get the translation of the network\n   * @return {Object} translation    An object with parameters x and y, both a number\n   * @private\n   */\n  Network.prototype._getTranslation = function() {\n    return {\n      x: this.translation.x,\n      y: this.translation.y\n    };\n  };\n\n  /**\n   * Scale the network\n   * @param {Number} scale   Scaling factor 1.0 is unscaled\n   * @private\n   */\n  Network.prototype._setScale = function(scale) {\n    this.scale = scale;\n  };\n\n  /**\n   * Get the current scale of  the network\n   * @return {Number} scale   Scaling factor 1.0 is unscaled\n   * @private\n   */\n  Network.prototype._getScale = function() {\n    return this.scale;\n  };\n\n  /**\n   * Convert the X coordinate in DOM-space (coordinate point in browser relative to the container div) to\n   * the X coordinate in canvas-space (the simulation sandbox, which the camera looks upon)\n   * @param {number} x\n   * @returns {number}\n   * @private\n   */\n  Network.prototype._XconvertDOMtoCanvas = function(x) {\n    return (x - this.translation.x) / this.scale;\n  };\n\n  /**\n   * Convert the X coordinate in canvas-space (the simulation sandbox, which the camera looks upon) to\n   * the X coordinate in DOM-space (coordinate point in browser relative to the container div)\n   * @param {number} x\n   * @returns {number}\n   * @private\n   */\n  Network.prototype._XconvertCanvasToDOM = function(x) {\n    return x * this.scale + this.translation.x;\n  };\n\n  /**\n   * Convert the Y coordinate in DOM-space (coordinate point in browser relative to the container div) to\n   * the Y coordinate in canvas-space (the simulation sandbox, which the camera looks upon)\n   * @param {number} y\n   * @returns {number}\n   * @private\n   */\n  Network.prototype._YconvertDOMtoCanvas = function(y) {\n    return (y - this.translation.y) / this.scale;\n  };\n\n  /**\n   * Convert the Y coordinate in canvas-space (the simulation sandbox, which the camera looks upon) to\n   * the Y coordinate in DOM-space (coordinate point in browser relative to the container div)\n   * @param {number} y\n   * @returns {number}\n   * @private\n   */\n  Network.prototype._YconvertCanvasToDOM = function(y) {\n    return y * this.scale + this.translation.y ;\n  };\n\n\n  /**\n   *\n   * @param {object} pos   = {x: number, y: number}\n   * @returns {{x: number, y: number}}\n   * @constructor\n   */\n  Network.prototype.canvasToDOM = function (pos) {\n    return {x: this._XconvertCanvasToDOM(pos.x), y: this._YconvertCanvasToDOM(pos.y)};\n  };\n\n  /**\n   *\n   * @param {object} pos   = {x: number, y: number}\n   * @returns {{x: number, y: number}}\n   * @constructor\n   */\n  Network.prototype.DOMtoCanvas = function (pos) {\n    return {x: this._XconvertDOMtoCanvas(pos.x), y: this._YconvertDOMtoCanvas(pos.y)};\n  };\n\n  /**\n   * Redraw all nodes\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext(\'2d\');\n   * @param {CanvasRenderingContext2D}   ctx\n   * @param {Boolean} [alwaysShow]\n   * @private\n   */\n  Network.prototype._drawNodes = function(ctx,alwaysShow) {\n    if (alwaysShow === undefined) {\n      alwaysShow = false;\n    }\n\n    // first draw the unselected nodes\n    var nodes = this.nodes;\n    var selected = [];\n\n    for (var id in nodes) {\n      if (nodes.hasOwnProperty(id)) {\n        nodes[id].setScaleAndPos(this.scale,this.canvasTopLeft,this.canvasBottomRight);\n        if (nodes[id].isSelected()) {\n          selected.push(id);\n        }\n        else {\n          if (nodes[id].inArea() || alwaysShow) {\n            nodes[id].draw(ctx);\n          }\n        }\n      }\n    }\n\n    // draw the selected nodes on top\n    for (var s = 0, sMax = selected.length; s < sMax; s++) {\n      if (nodes[selected[s]].inArea() || alwaysShow) {\n        nodes[selected[s]].draw(ctx);\n      }\n    }\n  };\n\n  /**\n   * Redraw all edges\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext(\'2d\');\n   * @param {CanvasRenderingContext2D}   ctx\n   * @private\n   */\n  Network.prototype._drawEdges = function(ctx) {\n    var edges = this.edges;\n    for (var id in edges) {\n      if (edges.hasOwnProperty(id)) {\n        var edge = edges[id];\n        edge.setScale(this.scale);\n        if (edge.connected) {\n          edges[id].draw(ctx);\n        }\n      }\n    }\n  };\n\n  /**\n   * Redraw all edges\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext(\'2d\');\n   * @param {CanvasRenderingContext2D}   ctx\n   * @private\n   */\n  Network.prototype._drawControlNodes = function(ctx) {\n    var edges = this.edges;\n    for (var id in edges) {\n      if (edges.hasOwnProperty(id)) {\n        edges[id]._drawControlNodes(ctx);\n      }\n    }\n  };\n\n  /**\n   * Find a stable position for all nodes\n   * @private\n   */\n  Network.prototype._stabilize = function() {\n    if (this.constants.freezeForStabilization == true) {\n      this._freezeDefinedNodes();\n    }\n\n    // find stable position\n    var count = 0;\n    while (this.moving && count < this.constants.stabilizationIterations) {\n      this._physicsTick();\n      count++;\n    }\n\n\n    if (this.constants.zoomExtentOnStabilize == true) {\n      this.zoomExtent({duration:0}, false, true);\n    }\n\n    if (this.constants.freezeForStabilization == true) {\n      this._restoreFrozenNodes();\n    }\n\n    this.emit("stabilizationIterationsDone");\n  };\n\n  /**\n   * When initializing and stabilizing, we can freeze nodes with a predefined position. This greatly speeds up stabilization\n   * because only the supportnodes for the smoothCurves have to settle.\n   *\n   * @private\n   */\n  Network.prototype._freezeDefinedNodes = function() {\n    var nodes = this.nodes;\n    for (var id in nodes) {\n      if (nodes.hasOwnProperty(id)) {\n        if (nodes[id].x != null && nodes[id].y != null) {\n          nodes[id].fixedData.x = nodes[id].xFixed;\n          nodes[id].fixedData.y = nodes[id].yFixed;\n          nodes[id].xFixed = true;\n          nodes[id].yFixed = true;\n        }\n      }\n    }\n  };\n\n  /**\n   * Unfreezes the nodes that have been frozen by _freezeDefinedNodes.\n   *\n   * @private\n   */\n  Network.prototype._restoreFrozenNodes = function() {\n    var nodes = this.nodes;\n    for (var id in nodes) {\n      if (nodes.hasOwnProperty(id)) {\n        if (nodes[id].fixedData.x != null) {\n          nodes[id].xFixed = nodes[id].fixedData.x;\n          nodes[id].yFixed = nodes[id].fixedData.y;\n        }\n      }\n    }\n  };\n\n\n  /**\n   * Check if any of the nodes is still moving\n   * @param {number} vmin   the minimum velocity considered as \'moving\'\n   * @return {boolean}      true if moving, false if non of the nodes is moving\n   * @private\n   */\n  Network.prototype._isMoving = function(vmin) {\n    var nodes = this.nodes;\n    for (var id in nodes) {\n      if (nodes[id] !== undefined) {\n        if (nodes[id].isMoving(vmin) == true) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n\n  /**\n   * /**\n   * Perform one discrete step for all nodes\n   *\n   * @private\n   */\n  Network.prototype._discreteStepNodes = function() {\n    var interval = this.physicsDiscreteStepsize;\n    var nodes = this.nodes;\n    var nodeId;\n    var nodesPresent = false;\n\n    if (this.constants.maxVelocity > 0) {\n      for (nodeId in nodes) {\n        if (nodes.hasOwnProperty(nodeId)) {\n          nodes[nodeId].discreteStepLimited(interval, this.constants.maxVelocity);\n          nodesPresent = true;\n        }\n      }\n    }\n    else {\n      for (nodeId in nodes) {\n        if (nodes.hasOwnProperty(nodeId)) {\n          nodes[nodeId].discreteStep(interval);\n          nodesPresent = true;\n        }\n      }\n    }\n\n    if (nodesPresent == true) {\n      var vminCorrected = this.constants.minVelocity / Math.max(this.scale,0.05);\n      if (vminCorrected > 0.5*this.constants.maxVelocity) {\n        return true;\n      }\n      else {\n        return this._isMoving(vminCorrected);\n      }\n    }\n    return false;\n  };\n\n\n  Network.prototype._revertPhysicsState = function() {\n    var nodes = this.nodes;\n    for (var nodeId in nodes) {\n      if (nodes.hasOwnProperty(nodeId)) {\n        nodes[nodeId].revertPosition();\n      }\n    }\n  }\n\n  Network.prototype._revertPhysicsTick = function() {\n    this._doInAllActiveSectors("_revertPhysicsState");\n    if (this.constants.smoothCurves.enabled == true && this.constants.smoothCurves.dynamic == true) {\n      this._doInSupportSector("_revertPhysicsState");\n    }\n  }\n\n  /**\n   * A single simulation step (or "tick") in the physics simulation\n   *\n   * @private\n   */\n  Network.prototype._physicsTick = function() {\n    if (!this.freezeSimulationEnabled) {\n      if (this.moving == true) {\n        var mainMovingStatus = false;\n        var supportMovingStatus = false;\n\n        this._doInAllActiveSectors("_initializeForceCalculation");\n        var mainMoving = this._doInAllActiveSectors("_discreteStepNodes");\n        if (this.constants.smoothCurves.enabled == true && this.constants.smoothCurves.dynamic == true) {\n          supportMovingStatus = this._doInSupportSector("_discreteStepNodes");\n        }\n\n        // gather movement data from all sectors, if one moves, we are NOT stabilzied\n        for (var i = 0; i < mainMoving.length; i++) {\n          mainMovingStatus = mainMoving[i] || mainMovingStatus;\n        }\n\n        // determine if the network has stabilzied\n        this.moving = mainMovingStatus || supportMovingStatus;\n        if (this.moving == false) {\n          this._revertPhysicsTick();\n        }\n        else {\n          // this is here to ensure that there is no start event when the network is already stable.\n          if (this.startedStabilization == false) {\n            this.emit("startStabilization");\n            this.startedStabilization = true;\n          }\n        }\n\n        this.stabilizationIterations++;\n      }\n    }\n  };\n\n\n  /**\n   * This function runs one step of the animation. It calls an x amount of physics ticks and one render tick.\n   * It reschedules itself at the beginning of the function\n   *\n   * @private\n   */\n  Network.prototype._animationStep = function() {\n    // reset the timer so a new scheduled animation step can be set\n    this.timer = undefined;\n\n    if (this.requiresTimeout == true) {\n      // this schedules a new animation step\n      this.start();\n    }\n\n    // handle the keyboad movement\n    this._handleNavigation();\n\n    // check if the physics have settled\n    if (this.moving == true) {\n      var startTime = Date.now();\n      this._physicsTick();\n      var physicsTime = Date.now() - startTime;\n\n      // run double speed if it is a little graph\n      if ((this.renderTimestep - this.renderTime > 2 * physicsTime || this.runDoubleSpeed == true) && this.moving == true) {\n        this._physicsTick();\n\n        // this makes sure there is no jitter. The decision is taken once to run it at double speed.\n        if (this.renderTime != 0) {\n          this.runDoubleSpeed = true\n        }\n      }\n    }\n\n    var renderStartTime = Date.now();\n    this._redraw();\n    this.renderTime = Date.now() - renderStartTime;\n\n    if (this.requiresTimeout == false) {\n      // this schedules a new animation step\n      this.start();\n    }\n  };\n\n  if (typeof window !== \'undefined\') {\n    window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n                                   window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n  }\n\n  /**\n   * Schedule a animation step with the refreshrate interval.\n   */\n  Network.prototype.start = function() {\n    if (this.freezeSimulationEnabled == true) {\n      this.moving = false;\n    }\n    if (this.moving == true || this.xIncrement != 0 || this.yIncrement != 0 || this.zoomIncrement != 0 || this.animating == true) {\n      if (!this.timer) {\n        if (this.requiresTimeout == true) {\n          this.timer = window.setTimeout(this._animationStep.bind(this), this.renderTimestep); // wait this.renderTimeStep milliseconds and perform the animation step function\n        }\n        else {\n          this.timer = window.requestAnimationFrame(this._animationStep.bind(this)); // wait this.renderTimeStep milliseconds and perform the animation step function\n        }\n      }\n    }\n    else {\n      this._requestRedraw();\n      // this check is to ensure that the network does not emit these events if it was already stabilized and setOptions is called (setting moving to true and calling start())\n      if (this.stabilizationIterations > 1) {\n        // trigger the "stabilized" event.\n        // The event is triggered on the next tick, to prevent the case that\n        // it is fired while initializing the Network, in which case you would not\n        // be able to catch it\n        var me = this;\n        var params = {\n          iterations: me.stabilizationIterations\n        };\n        this.stabilizationIterations = 0;\n        this.startedStabilization = false;\n        setTimeout(function () {\n          me.emit("stabilized", params);\n        }, 0);\n      }\n      else {\n        this.stabilizationIterations = 0;\n      }\n    }\n  };\n\n\n  /**\n   * Move the network according to the keyboard presses.\n   *\n   * @private\n   */\n  Network.prototype._handleNavigation = function() {\n    if (this.xIncrement != 0 || this.yIncrement != 0) {\n      var translation = this._getTranslation();\n      this._setTranslation(translation.x+this.xIncrement, translation.y+this.yIncrement);\n    }\n    if (this.zoomIncrement != 0) {\n      var center = {\n        x: this.frame.canvas.clientWidth / 2,\n        y: this.frame.canvas.clientHeight / 2\n      };\n      this._zoom(this.scale*(1 + this.zoomIncrement), center);\n    }\n  };\n\n\n  /**\n   *  Freeze the _animationStep\n   */\n  Network.prototype.freezeSimulation = function(freeze) {\n    if (freeze == true) {\n      this.freezeSimulationEnabled = true;\n      this.moving = false;\n    }\n    else {\n      this.freezeSimulationEnabled = false;\n      this.moving = true;\n      this.start();\n    }\n  };\n\n\n  /**\n   * This function cleans the support nodes if they are not needed and adds them when they are.\n   *\n   * @param {boolean} [disableStart]\n   * @private\n   */\n  Network.prototype._configureSmoothCurves = function(disableStart) {\n    if (disableStart === undefined) {\n      disableStart = true;\n    }\n    if (this.constants.smoothCurves.enabled == true && this.constants.smoothCurves.dynamic == true) {\n      this._createBezierNodes();\n      // cleanup unused support nodes\n      for (var nodeId in this.sectors[\'support\'][\'nodes\']) {\n        if (this.sectors[\'support\'][\'nodes\'].hasOwnProperty(nodeId)) {\n          if (this.edges[this.sectors[\'support\'][\'nodes\'][nodeId].parentEdgeId] === undefined) {\n            delete this.sectors[\'support\'][\'nodes\'][nodeId];\n          }\n        }\n      }\n    }\n    else {\n      // delete the support nodes\n      this.sectors[\'support\'][\'nodes\'] = {};\n      for (var edgeId in this.edges) {\n        if (this.edges.hasOwnProperty(edgeId)) {\n          this.edges[edgeId].via = null;\n        }\n      }\n    }\n\n\n    this._updateCalculationNodes();\n    if (!disableStart) {\n      this.moving = true;\n      this.start();\n    }\n  };\n\n\n  /**\n   * Bezier curves require an anchor point to calculate the smooth flow. These points are nodes. These nodes are invisible but\n   * are used for the force calculation.\n   *\n   * @private\n   */\n  Network.prototype._createBezierNodes = function() {\n    if (this.constants.smoothCurves.enabled == true && this.constants.smoothCurves.dynamic == true) {\n      for (var edgeId in this.edges) {\n        if (this.edges.hasOwnProperty(edgeId)) {\n          var edge = this.edges[edgeId];\n          if (edge.via == null) {\n            var nodeId = "edgeId:".concat(edge.id);\n            this.sectors[\'support\'][\'nodes\'][nodeId] = new Node(\n                    {id:nodeId,\n                      mass:1,\n                      shape:\'circle\',\n                      image:"",\n                      internalMultiplier:1\n                    },{},{},this.constants);\n            edge.via = this.sectors[\'support\'][\'nodes\'][nodeId];\n            edge.via.parentEdgeId = edge.id;\n            edge.positionBezierNode();\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * load the functions that load the mixins into the prototype.\n   *\n   * @private\n   */\n  Network.prototype._initializeMixinLoaders = function () {\n    for (var mixin in MixinLoader) {\n      if (MixinLoader.hasOwnProperty(mixin)) {\n        Network.prototype[mixin] = MixinLoader[mixin];\n      }\n    }\n  };\n\n  /**\n   * Load the XY positions of the nodes into the dataset.\n   */\n  Network.prototype.storePosition = function() {\n    console.log("storePosition is depricated: use .storePositions() from now on.")\n    this.storePositions();\n  };\n\n  /**\n   * Load the XY positions of the nodes into the dataset.\n   */\n  Network.prototype.storePositions = function() {\n    var dataArray = [];\n    for (var nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        var node = this.nodes[nodeId];\n        var allowedToMoveX = !this.nodes.xFixed;\n        var allowedToMoveY = !this.nodes.yFixed;\n        if (this.nodesData._data[nodeId].x != Math.round(node.x) || this.nodesData._data[nodeId].y != Math.round(node.y)) {\n          dataArray.push({id:nodeId,x:Math.round(node.x),y:Math.round(node.y),allowedToMoveX:allowedToMoveX,allowedToMoveY:allowedToMoveY});\n        }\n      }\n    }\n    this.nodesData.update(dataArray);\n  };\n\n  /**\n   * Return the positions of the nodes.\n   */\n  Network.prototype.getPositions = function(ids) {\n    var dataArray = {};\n    if (ids !== undefined) {\n      if (Array.isArray(ids) == true) {\n        for (var i = 0; i < ids.length; i++) {\n          if (this.nodes[ids[i]] !== undefined) {\n            var node = this.nodes[ids[i]];\n            dataArray[ids[i]] = {x: Math.round(node.x), y: Math.round(node.y)};\n          }\n        }\n      }\n      else {\n        if (this.nodes[ids] !== undefined) {\n          var node = this.nodes[ids];\n          dataArray[ids] = {x: Math.round(node.x), y: Math.round(node.y)};\n        }\n      }\n    }\n    else {\n      for (var nodeId in this.nodes) {\n        if (this.nodes.hasOwnProperty(nodeId)) {\n          var node = this.nodes[nodeId];\n          dataArray[nodeId] = {x: Math.round(node.x), y: Math.round(node.y)};\n        }\n      }\n    }\n    return dataArray;\n  };\n\n\n\n  /**\n   * Center a node in view.\n   *\n   * @param {Number} nodeId\n   * @param {Number} [options]\n   */\n  Network.prototype.focusOnNode = function (nodeId, options) {\n    if (this.nodes.hasOwnProperty(nodeId)) {\n      if (options === undefined) {\n        options = {};\n      }\n      var nodePosition = {x: this.nodes[nodeId].x, y: this.nodes[nodeId].y};\n      options.position = nodePosition;\n      options.lockedOnNode = nodeId;\n\n      this.moveTo(options)\n    }\n    else {\n      console.log("This nodeId cannot be found.");\n    }\n  };\n\n  /**\n   *\n   * @param {Object} options  |  options.offset   = {x:Number, y:Number}   // offset from the center in DOM pixels\n   *                          |  options.scale    = Number                 // scale to move to\n   *                          |  options.position = {x:Number, y:Number}   // position to move to\n   *                          |  options.animation = {duration:Number, easingFunction:String} || Boolean   // position to move to\n   */\n  Network.prototype.moveTo = function (options) {\n    if (options === undefined) {\n      options = {};\n      return;\n    }\n    if (options.offset    === undefined)           {options.offset    = {x: 0, y: 0};          }\n    if (options.offset.x  === undefined)           {options.offset.x  = 0;                     }\n    if (options.offset.y  === undefined)           {options.offset.y  = 0;                     }\n    if (options.scale     === undefined)           {options.scale     = this._getScale();      }\n    if (options.position  === undefined)           {options.position  = this._getTranslation();}\n    if (options.animation === undefined)           {options.animation = {duration:0};          }\n    if (options.animation === false    )           {options.animation = {duration:0};          }\n    if (options.animation === true     )           {options.animation = {};                    }\n    if (options.animation.duration === undefined)  {options.animation.duration = 1000;         }  // default duration\n    if (options.animation.easingFunction === undefined)  {options.animation.easingFunction = "easeInOutQuad";  } // default easing function\n\n    this.animateView(options);\n  };\n\n  /**\n   *\n   * @param {Object} options  |  options.offset   = {x:Number, y:Number}   // offset from the center in DOM pixels\n   *                          |  options.time     = Number                 // animation time in milliseconds\n   *                          |  options.scale    = Number                 // scale to animate to\n   *                          |  options.position = {x:Number, y:Number}   // position to animate to\n   *                          |  options.easingFunction = String           // linear, easeInQuad, easeOutQuad, easeInOutQuad,\n   *                                                                       // easeInCubic, easeOutCubic, easeInOutCubic,\n   *                                                                       // easeInQuart, easeOutQuart, easeInOutQuart,\n   *                                                                       // easeInQuint, easeOutQuint, easeInOutQuint\n   */\n  Network.prototype.animateView = function (options) {\n    if (options === undefined) {\n      options = {};\n      return;\n    }\n\n    // release if something focussed on the node\n    this.releaseNode();\n    if (options.locked == true) {\n      this.lockedOnNodeId = options.lockedOnNode;\n      this.lockedOnNodeOffset = options.offset;\n    }\n\n    // forcefully complete the old animation if it was still running\n    if (this.easingTime != 0) {\n      this._transitionRedraw(1); // by setting easingtime to 1, we finish the animation.\n    }\n\n    this.sourceScale = this._getScale();\n    this.sourceTranslation = this._getTranslation();\n    this.targetScale = options.scale;\n\n    // set the scale so the viewCenter is based on the correct zoom level. This is overridden in the transitionRedraw\n    // but at least then we\'ll have the target transition\n    this._setScale(this.targetScale);\n    var viewCenter = this.DOMtoCanvas({x: 0.5 * this.frame.canvas.clientWidth, y: 0.5 * this.frame.canvas.clientHeight});\n    var distanceFromCenter = { // offset from view, distance view has to change by these x and y to center the node\n      x: viewCenter.x - options.position.x,\n      y: viewCenter.y - options.position.y\n    };\n    this.targetTranslation = {\n      x: this.sourceTranslation.x + distanceFromCenter.x * this.targetScale + options.offset.x,\n      y: this.sourceTranslation.y + distanceFromCenter.y * this.targetScale + options.offset.y\n    };\n\n    // if the time is set to 0, don\'t do an animation\n    if (options.animation.duration == 0) {\n      if (this.lockedOnNodeId != null) {\n        this._classicRedraw = this._redraw;\n        this._redraw = this._lockedRedraw;\n      }\n      else {\n        this._setScale(this.targetScale);\n        this._setTranslation(this.targetTranslation.x, this.targetTranslation.y);\n        this._redraw();\n      }\n    }\n    else {\n      this.animating = true;\n      this.animationSpeed = 1 / (this.renderRefreshRate * options.animation.duration * 0.001) || 1 / this.renderRefreshRate;\n      this.animationEasingFunction = options.animation.easingFunction;\n      this._classicRedraw = this._redraw;\n      this._redraw = this._transitionRedraw;\n      this._redraw();\n      this.start();\n    }\n  };\n\n  /**\n   * used to animate smoothly by hijacking the redraw function.\n   * @private\n   */\n  Network.prototype._lockedRedraw = function () {\n    var nodePosition = {x: this.nodes[this.lockedOnNodeId].x, y: this.nodes[this.lockedOnNodeId].y};\n    var viewCenter = this.DOMtoCanvas({x: 0.5 * this.frame.canvas.clientWidth, y: 0.5 * this.frame.canvas.clientHeight});\n    var distanceFromCenter = { // offset from view, distance view has to change by these x and y to center the node\n      x: viewCenter.x - nodePosition.x,\n      y: viewCenter.y - nodePosition.y\n    };\n    var sourceTranslation = this._getTranslation();\n    var targetTranslation = {\n      x: sourceTranslation.x + distanceFromCenter.x * this.scale + this.lockedOnNodeOffset.x,\n      y: sourceTranslation.y + distanceFromCenter.y * this.scale + this.lockedOnNodeOffset.y\n    };\n\n    this._setTranslation(targetTranslation.x,targetTranslation.y);\n    this._classicRedraw();\n  }\n\n  Network.prototype.releaseNode = function () {\n    if (this.lockedOnNodeId != null) {\n      this._redraw = this._classicRedraw;\n      this.lockedOnNodeId = null;\n      this.lockedOnNodeOffset = null;\n    }\n  }\n\n  /**\n   *\n   * @param easingTime\n   * @private\n   */\n  Network.prototype._transitionRedraw = function (easingTime) {\n    this.easingTime = easingTime || this.easingTime + this.animationSpeed;\n    this.easingTime += this.animationSpeed;\n\n    var progress = util.easingFunctions[this.animationEasingFunction](this.easingTime);\n\n    this._setScale(this.sourceScale + (this.targetScale - this.sourceScale) * progress);\n    this._setTranslation(\n      this.sourceTranslation.x + (this.targetTranslation.x - this.sourceTranslation.x) * progress,\n      this.sourceTranslation.y + (this.targetTranslation.y - this.sourceTranslation.y) * progress\n    );\n\n    this._classicRedraw();\n\n    // cleanup\n    if (this.easingTime >= 1.0) {\n      this.animating = false;\n      this.easingTime = 0;\n      if (this.lockedOnNodeId != null) {\n        this._redraw = this._lockedRedraw;\n      }\n      else {\n        this._redraw = this._classicRedraw;\n      }\n      this.emit("animationFinished");\n    }\n  };\n\n  Network.prototype._classicRedraw = function () {\n    // placeholder function to be overloaded by animations;\n  };\n\n  /**\n   * Returns true when the Network is active.\n   * @returns {boolean}\n   */\n  Network.prototype.isActive = function () {\n    return !this.activator || this.activator.active;\n  };\n\n\n  /**\n   * Sets the scale\n   * @returns {Number}\n   */\n  Network.prototype.setScale = function () {\n    return this._setScale();\n  };\n\n\n  /**\n   * Returns the scale\n   * @returns {Number}\n   */\n  Network.prototype.getScale = function () {\n    return this._getScale();\n  };\n\n\n  /**\n   * Returns the scale\n   * @returns {Number}\n   */\n  Network.prototype.getCenterCoordinates = function () {\n    return this.DOMtoCanvas({x: 0.5 * this.frame.canvas.clientWidth, y: 0.5 * this.frame.canvas.clientHeight});\n  };\n\n\n  Network.prototype.getBoundingBox = function(nodeId) {\n    if (this.nodes[nodeId] !== undefined) {\n      return this.nodes[nodeId].boundingBox;\n    }\n  }\n\n  Network.prototype.getConnectedNodes = function(nodeId) {\n    var nodeList = [];\n    if (this.nodes[nodeId] !== undefined) {\n      var node = this.nodes[nodeId];\n      var nodeObj = {nodeId : true}; // used to quickly check if node already exists\n      for (var i = 0; i < node.edges.length; i++) {\n        var edge = node.edges[i];\n        if (edge.toId == nodeId) {\n          if (nodeObj[edge.fromId] === undefined) {\n            nodeList.push(edge.fromId);\n            nodeObj[edge.fromId] = true;\n          }\n        }\n        else if (edge.fromId == nodeId) {\n          if (nodeObj[edge.toId] === undefined) {\n            nodeList.push(edge.toId)\n            nodeObj[edge.toId] = true;\n          }\n        }\n      }\n    }\n    return nodeList;\n  }\n\n\n  Network.prototype.getEdgesFromNode = function(nodeId) {\n    var edgesList = [];\n    if (this.nodes[nodeId] !== undefined) {\n      var node = this.nodes[nodeId];\n      for (var i = 0; i < node.edges.length; i++) {\n        edgesList.push(node.edges[i].id);\n      }\n    }\n    return edgesList;\n  }\n\n  Network.prototype.generateColorObject = function(color) {\n    return util.parseColor(color);\n\n  }\n\n  module.exports = Network;\n\n\n/***/ },\n/* 37 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var Node = __webpack_require__(40);\n\n  /**\n   * @class Edge\n   *\n   * A edge connects two nodes\n   * @param {Object} properties     Object with properties. Must contain\n   *                                At least properties from and to.\n   *                                Available properties: from (number),\n   *                                to (number), label (string, color (string),\n   *                                width (number), style (string),\n   *                                length (number), title (string)\n   * @param {Network} network       A Network object, used to find and edge to\n   *                                nodes.\n   * @param {Object} constants      An object with default values for\n   *                                example for the color\n   */\n  function Edge (properties, network, networkConstants) {\n    if (!network) {\n      throw "No network provided";\n    }\n    var fields = [\'edges\',\'physics\'];\n    var constants = util.selectiveBridgeObject(fields,networkConstants);\n    this.options = constants.edges;\n    this.physics = constants.physics;\n    this.options[\'smoothCurves\'] = networkConstants[\'smoothCurves\'];\n\n\n    this.network = network;\n\n    // initialize variables\n    this.id     = undefined;\n    this.fromId = undefined;\n    this.toId   = undefined;\n    this.title  = undefined;\n    this.widthSelected = this.options.width * this.options.widthSelectionMultiplier;\n    this.value  = undefined;\n    this.selected = false;\n    this.hover = false;\n    this.labelDimensions = {top:0,left:0,width:0,height:0,yLine:0}; // could be cached\n    this.dirtyLabel = true;\n    this.colorDirty = true;\n\n    this.from = null;   // a node\n    this.to = null;     // a node\n    this.via = null;    // a temp node\n\n    this.fromBackup = null; // used to clean up after reconnect\n    this.toBackup = null;;  // used to clean up after reconnect\n\n    // we use this to be able to reconnect the edge to a cluster if its node is put into a cluster\n    // by storing the original information we can revert to the original connection when the cluser is opened.\n    this.originalFromId = [];\n    this.originalToId = [];\n\n    this.connected = false;\n\n    this.widthFixed  = false;\n    this.lengthFixed = false;\n\n    this.setProperties(properties);\n\n    this.controlNodesEnabled = false;\n    this.controlNodes = {from:null, to:null, positions:{}};\n    this.connectedNode = null;\n  }\n\n  /**\n   * Set or overwrite properties for the edge\n   * @param {Object} properties  an object with properties\n   * @param {Object} constants   and object with default, global properties\n   */\n  Edge.prototype.setProperties = function(properties) {\n    this.colorDirty = true;\n    if (!properties) {\n      return;\n    }\n\n    var fields = [\'style\',\'fontSize\',\'fontFace\',\'fontColor\',\'fontFill\',\'fontStrokeWidth\',\'fontStrokeColor\',\'width\',\n      \'widthSelectionMultiplier\',\'hoverWidth\',\'arrowScaleFactor\',\'dash\',\'inheritColor\',\'labelAlignment\', \'opacity\',\n      \'customScalingFunction\',\'useGradients\'\n    ];\n    util.selectiveDeepExtend(fields, this.options, properties);\n\n    if (properties.from !== undefined)           {this.fromId = properties.from;}\n    if (properties.to !== undefined)             {this.toId = properties.to;}\n\n    if (properties.id !== undefined)             {this.id = properties.id;}\n    if (properties.label !== undefined)          {this.label = properties.label; this.dirtyLabel = true;}\n\n    if (properties.title !== undefined)        {this.title = properties.title;}\n    if (properties.value !== undefined)        {this.value = properties.value;}\n    if (properties.length !== undefined)       {this.physics.springLength = properties.length;}\n\n    if (properties.color !== undefined) {\n      this.options.inheritColor = false;\n      if (util.isString(properties.color)) {\n        this.options.color.color = properties.color;\n        this.options.color.highlight = properties.color;\n      }\n      else {\n        if (properties.color.color !== undefined)     {this.options.color.color = properties.color.color;}\n        if (properties.color.highlight !== undefined) {this.options.color.highlight = properties.color.highlight;}\n        if (properties.color.hover !== undefined)     {this.options.color.hover = properties.color.hover;}\n      }\n    }\n\n\n\n      // A node is connected when it has a from and to node.\n    this.connect();\n\n    this.widthFixed = this.widthFixed || (properties.width !== undefined);\n    this.lengthFixed = this.lengthFixed || (properties.length !== undefined);\n\n    this.widthSelected = this.options.width* this.options.widthSelectionMultiplier;\n\n    // set draw method based on style\n    switch (this.options.style) {\n      case \'line\':          this.draw = this._drawLine; break;\n      case \'arrow\':         this.draw = this._drawArrow; break;\n      case \'arrow-center\':  this.draw = this._drawArrowCenter; break;\n      case \'dash-line\':     this.draw = this._drawDashLine; break;\n      default:              this.draw = this._drawLine; break;\n    }\n  };\n\n\n  /**\n   * Connect an edge to its nodes\n   */\n  Edge.prototype.connect = function () {\n    this.disconnect();\n\n    this.from = this.network.nodes[this.fromId] || null;\n    this.to = this.network.nodes[this.toId] || null;\n    this.connected = (this.from && this.to);\n\n    if (this.connected) {\n      this.from.attachEdge(this);\n      this.to.attachEdge(this);\n    }\n    else {\n      if (this.from) {\n        this.from.detachEdge(this);\n      }\n      if (this.to) {\n        this.to.detachEdge(this);\n      }\n    }\n  };\n\n  /**\n   * Disconnect an edge from its nodes\n   */\n  Edge.prototype.disconnect = function () {\n    if (this.from) {\n      this.from.detachEdge(this);\n      this.from = null;\n    }\n    if (this.to) {\n      this.to.detachEdge(this);\n      this.to = null;\n    }\n\n    this.connected = false;\n  };\n\n  /**\n   * get the title of this edge.\n   * @return {string} title    The title of the edge, or undefined when no title\n   *                           has been set.\n   */\n  Edge.prototype.getTitle = function() {\n    return typeof this.title === "function" ? this.title() : this.title;\n  };\n\n\n  /**\n   * Retrieve the value of the edge. Can be undefined\n   * @return {Number} value\n   */\n  Edge.prototype.getValue = function() {\n    return this.value;\n  };\n\n  /**\n   * Adjust the value range of the edge. The edge will adjust it\'s width\n   * based on its value.\n   * @param {Number} min\n   * @param {Number} max\n   */\n  Edge.prototype.setValueRange = function(min, max, total) {\n    if (!this.widthFixed && this.value !== undefined) {\n      var scale = this.options.customScalingFunction(min, max, total, this.value);\n      var widthDiff = this.options.widthMax - this.options.widthMin;\n      this.options.width = this.options.widthMin + scale * widthDiff;\n      this.widthSelected = this.options.width* this.options.widthSelectionMultiplier;\n    }\n  };\n\n  /**\n   * Redraw a edge\n   * Draw this edge in the given canvas\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext("2d");\n   * @param {CanvasRenderingContext2D}   ctx\n   */\n  Edge.prototype.draw = function(ctx) {\n    throw "Method draw not initialized in edge";\n  };\n\n  /**\n   * Check if this object is overlapping with the provided object\n   * @param {Object} obj   an object with parameters left, top\n   * @return {boolean}     True if location is located on the edge\n   */\n  Edge.prototype.isOverlappingWith = function(obj) {\n    if (this.connected) {\n      var distMax = 10;\n      var xFrom = this.from.x;\n      var yFrom = this.from.y;\n      var xTo = this.to.x;\n      var yTo = this.to.y;\n      var xObj = obj.left;\n      var yObj = obj.top;\n\n      var dist = this._getDistanceToEdge(xFrom, yFrom, xTo, yTo, xObj, yObj);\n\n      return (dist < distMax);\n    }\n    else {\n      return false\n    }\n  };\n\n  Edge.prototype._getColor = function(ctx) {\n    var colorObj = this.options.color;\n    if (this.options.useGradients == true) {\n      var grd = ctx.createLinearGradient(this.from.x, this.from.y, this.to.x, this.to.y);\n      var fromColor, toColor;\n      fromColor = this.from.options.color.highlight.border;\n      toColor = this.to.options.color.highlight.border;\n\n\n      if (this.from.selected == false && this.to.selected == false) {\n        fromColor = util.overrideOpacity(this.from.options.color.border, this.options.opacity);\n        toColor = util.overrideOpacity(this.to.options.color.border, this.options.opacity);\n      }\n      else if (this.from.selected == true && this.to.selected == false) {\n        toColor = this.to.options.color.border;\n      }\n      else if (this.from.selected == false && this.to.selected == true) {\n        fromColor = this.from.options.color.border;\n      }\n      grd.addColorStop(0, fromColor);\n      grd.addColorStop(1, toColor);\n      return grd;\n    }\n\n    if (this.colorDirty === true) {\n      if (this.options.inheritColor == "to") {\n        colorObj = {\n          highlight: this.to.options.color.highlight.border,\n          hover: this.to.options.color.hover.border,\n          color: util.overrideOpacity(this.from.options.color.border, this.options.opacity)\n        };\n      }\n      else if (this.options.inheritColor == "from" || this.options.inheritColor == true) {\n        colorObj = {\n          highlight: this.from.options.color.highlight.border,\n          hover: this.from.options.color.hover.border,\n          color: util.overrideOpacity(this.from.options.color.border, this.options.opacity)\n        };\n      }\n      this.options.color = colorObj;\n      this.colorDirty = false;\n    }\n\n\n\n    if (this.selected == true)   {return colorObj.highlight;}\n    else if (this.hover == true) {return colorObj.hover;}\n    else                         {return colorObj.color;}\n  };\n\n\n  /**\n   * Redraw a edge as a line\n   * Draw this edge in the given canvas\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext("2d");\n   * @param {CanvasRenderingContext2D}   ctx\n   * @private\n   */\n  Edge.prototype._drawLine = function(ctx) {\n    // set style\n    ctx.strokeStyle = this._getColor(ctx);\n    ctx.lineWidth   = this._getLineWidth();\n\n    if (this.from != this.to) {\n      // draw line\n      var via = this._line(ctx);\n\n      // draw label\n      var point;\n      if (this.label) {\n        if (this.options.smoothCurves.enabled == true && via != null) {\n          var midpointX = 0.5*(0.5*(this.from.x + via.x) + 0.5*(this.to.x + via.x));\n          var midpointY = 0.5*(0.5*(this.from.y + via.y) + 0.5*(this.to.y + via.y));\n          point = {x:midpointX, y:midpointY};\n        }\n        else {\n          point = this._pointOnLine(0.5);\n        }\n        this._label(ctx, this.label, point.x, point.y);\n      }\n    }\n    else {\n      var x, y;\n      var radius = this.physics.springLength / 4;\n      var node = this.from;\n      if (!node.width) {\n        node.resize(ctx);\n      }\n      if (node.width > node.height) {\n        x = node.x + node.width / 2;\n        y = node.y - radius;\n      }\n      else {\n        x = node.x + radius;\n        y = node.y - node.height / 2;\n      }\n      this._circle(ctx, x, y, radius);\n      point = this._pointOnCircle(x, y, radius, 0.5);\n      this._label(ctx, this.label, point.x, point.y);\n    }\n  };\n\n  /**\n   * Get the line width of the edge. Depends on width and whether one of the\n   * connected nodes is selected.\n   * @return {Number} width\n   * @private\n   */\n  Edge.prototype._getLineWidth = function() {\n    if (this.selected == true) {\n      return  Math.max(Math.min(this.widthSelected, this.options.widthMax), 0.3*this.networkScaleInv);\n    }\n    else {\n      if (this.hover == true) {\n        return Math.max(Math.min(this.options.hoverWidth, this.options.widthMax), 0.3*this.networkScaleInv);\n      }\n      else {\n        return Math.max(this.options.width, 0.3*this.networkScaleInv);\n      }\n    }\n  };\n\n  Edge.prototype._getViaCoordinates = function () {\n    if (this.options.smoothCurves.dynamic == true && this.options.smoothCurves.enabled == true ) {\n      return this.via;\n    }\n    else if (this.options.smoothCurves.enabled == false) {\n      return {x:0,y:0};\n    }\n    else {\n      var xVia = null;\n      var yVia = null;\n      var factor = this.options.smoothCurves.roundness;\n      var type = this.options.smoothCurves.type;\n      var dx = Math.abs(this.from.x - this.to.x);\n      var dy = Math.abs(this.from.y - this.to.y);\n      if (type == \'discrete\' || type == \'diagonalCross\') {\n        if (Math.abs(this.from.x - this.to.x) < Math.abs(this.from.y - this.to.y)) {\n          if (this.from.y > this.to.y) {\n            if (this.from.x < this.to.x) {\n              xVia = this.from.x + factor * dy;\n              yVia = this.from.y - factor * dy;\n            }\n            else if (this.from.x > this.to.x) {\n              xVia = this.from.x - factor * dy;\n              yVia = this.from.y - factor * dy;\n            }\n          }\n          else if (this.from.y < this.to.y) {\n            if (this.from.x < this.to.x) {\n              xVia = this.from.x + factor * dy;\n              yVia = this.from.y + factor * dy;\n            }\n            else if (this.from.x > this.to.x) {\n              xVia = this.from.x - factor * dy;\n              yVia = this.from.y + factor * dy;\n            }\n          }\n          if (type == "discrete") {\n            xVia = dx < factor * dy ? this.from.x : xVia;\n          }\n        }\n        else if (Math.abs(this.from.x - this.to.x) > Math.abs(this.from.y - this.to.y)) {\n          if (this.from.y > this.to.y) {\n            if (this.from.x < this.to.x) {\n              xVia = this.from.x + factor * dx;\n              yVia = this.from.y - factor * dx;\n            }\n            else if (this.from.x > this.to.x) {\n              xVia = this.from.x - factor * dx;\n              yVia = this.from.y - factor * dx;\n            }\n          }\n          else if (this.from.y < this.to.y) {\n            if (this.from.x < this.to.x) {\n              xVia = this.from.x + factor * dx;\n              yVia = this.from.y + factor * dx;\n            }\n            else if (this.from.x > this.to.x) {\n              xVia = this.from.x - factor * dx;\n              yVia = this.from.y + factor * dx;\n            }\n          }\n          if (type == "discrete") {\n            yVia = dy < factor * dx ? this.from.y : yVia;\n          }\n        }\n      }\n      else if (type == "straightCross") {\n        if (Math.abs(this.from.x - this.to.x) < Math.abs(this.from.y - this.to.y)) {  // up - down\n          xVia = this.from.x;\n          if (this.from.y < this.to.y) {\n            yVia = this.to.y - (1 - factor) * dy;\n          }\n          else {\n            yVia = this.to.y + (1 - factor) * dy;\n          }\n        }\n        else if (Math.abs(this.from.x - this.to.x) > Math.abs(this.from.y - this.to.y)) { // left - right\n          if (this.from.x < this.to.x) {\n            xVia = this.to.x - (1 - factor) * dx;\n          }\n          else {\n            xVia = this.to.x + (1 - factor) * dx;\n          }\n          yVia = this.from.y;\n        }\n      }\n      else if (type == \'horizontal\') {\n        if (this.from.x < this.to.x) {\n          xVia = this.to.x - (1 - factor) * dx;\n        }\n        else {\n          xVia = this.to.x + (1 - factor) * dx;\n        }\n        yVia = this.from.y;\n      }\n      else if (type == \'vertical\') {\n        xVia = this.from.x;\n        if (this.from.y < this.to.y) {\n          yVia = this.to.y - (1 - factor) * dy;\n        }\n        else {\n          yVia = this.to.y + (1 - factor) * dy;\n        }\n      }\n      else if (type == \'curvedCW\') {\n        var dx = this.to.x - this.from.x;\n        var dy = this.from.y - this.to.y;\n        var radius = Math.sqrt(dx*dx + dy*dy);\n        var pi = Math.PI;\n\n        var originalAngle = Math.atan2(dy,dx);\n        var myAngle = (originalAngle + ((factor * 0.5) + 0.5) * pi) % (2 * pi);\n\n        xVia = this.from.x + (factor*0.5 + 0.5)*radius*Math.sin(myAngle);\n        yVia = this.from.y + (factor*0.5 + 0.5)*radius*Math.cos(myAngle);\n      }\n      else if (type == \'curvedCCW\') {\n        var dx = this.to.x - this.from.x;\n        var dy = this.from.y - this.to.y;\n        var radius = Math.sqrt(dx*dx + dy*dy);\n        var pi = Math.PI;\n\n        var originalAngle = Math.atan2(dy,dx);\n        var myAngle = (originalAngle + ((-factor * 0.5) + 0.5) * pi) % (2 * pi);\n\n        xVia = this.from.x + (factor*0.5 + 0.5)*radius*Math.sin(myAngle);\n        yVia = this.from.y + (factor*0.5 + 0.5)*radius*Math.cos(myAngle);\n      }\n      else { // continuous\n        if (Math.abs(this.from.x - this.to.x) < Math.abs(this.from.y - this.to.y)) {\n          if (this.from.y > this.to.y) {\n            if (this.from.x < this.to.x) {\n              xVia = this.from.x + factor * dy;\n              yVia = this.from.y - factor * dy;\n              xVia = this.to.x < xVia ? this.to.x : xVia;\n            }\n            else if (this.from.x > this.to.x) {\n              xVia = this.from.x - factor * dy;\n              yVia = this.from.y - factor * dy;\n              xVia = this.to.x > xVia ? this.to.x : xVia;\n            }\n          }\n          else if (this.from.y < this.to.y) {\n            if (this.from.x < this.to.x) {\n              xVia = this.from.x + factor * dy;\n              yVia = this.from.y + factor * dy;\n              xVia = this.to.x < xVia ? this.to.x : xVia;\n            }\n            else if (this.from.x > this.to.x) {\n              xVia = this.from.x - factor * dy;\n              yVia = this.from.y + factor * dy;\n              xVia = this.to.x > xVia ? this.to.x : xVia;\n            }\n          }\n        }\n        else if (Math.abs(this.from.x - this.to.x) > Math.abs(this.from.y - this.to.y)) {\n          if (this.from.y > this.to.y) {\n            if (this.from.x < this.to.x) {\n              xVia = this.from.x + factor * dx;\n              yVia = this.from.y - factor * dx;\n              yVia = this.to.y > yVia ? this.to.y : yVia;\n            }\n            else if (this.from.x > this.to.x) {\n              xVia = this.from.x - factor * dx;\n              yVia = this.from.y - factor * dx;\n              yVia = this.to.y > yVia ? this.to.y : yVia;\n            }\n          }\n          else if (this.from.y < this.to.y) {\n            if (this.from.x < this.to.x) {\n              xVia = this.from.x + factor * dx;\n              yVia = this.from.y + factor * dx;\n              yVia = this.to.y < yVia ? this.to.y : yVia;\n            }\n            else if (this.from.x > this.to.x) {\n              xVia = this.from.x - factor * dx;\n              yVia = this.from.y + factor * dx;\n              yVia = this.to.y < yVia ? this.to.y : yVia;\n            }\n          }\n        }\n      }\n\n\n      return {x: xVia, y: yVia};\n    }\n  };\n\n  /**\n   * Draw a line between two nodes\n   * @param {CanvasRenderingContext2D} ctx\n   * @private\n   */\n  Edge.prototype._line = function (ctx) {\n    // draw a straight line\n    ctx.beginPath();\n    ctx.moveTo(this.from.x, this.from.y);\n    if (this.options.smoothCurves.enabled == true) {\n      if (this.options.smoothCurves.dynamic == false) {\n        var via = this._getViaCoordinates();\n        if (via.x == null) {\n          ctx.lineTo(this.to.x, this.to.y);\n          ctx.stroke();\n          return null;\n        }\n        else {\n  //        this.via.x = via.x;\n  //        this.via.y = via.y;\n          ctx.quadraticCurveTo(via.x,via.y,this.to.x, this.to.y);\n          ctx.stroke();\n          //ctx.circle(via.x,via.y,2)\n          //ctx.stroke();\n          return via;\n        }\n      }\n      else {\n        ctx.quadraticCurveTo(this.via.x,this.via.y,this.to.x, this.to.y);\n        ctx.stroke();\n        return this.via;\n      }\n    }\n    else {\n      ctx.lineTo(this.to.x, this.to.y);\n      ctx.stroke();\n      return null;\n    }\n  };\n\n  /**\n   * Draw a line from a node to itself, a circle\n   * @param {CanvasRenderingContext2D} ctx\n   * @param {Number} x\n   * @param {Number} y\n   * @param {Number} radius\n   * @private\n   */\n  Edge.prototype._circle = function (ctx, x, y, radius) {\n    // draw a circle\n    ctx.beginPath();\n    ctx.arc(x, y, radius, 0, 2 * Math.PI, false);\n    ctx.stroke();\n  };\n\n  /**\n   * Draw label with white background and with the middle at (x, y)\n   * @param {CanvasRenderingContext2D} ctx\n   * @param {String} text\n   * @param {Number} x\n   * @param {Number} y\n   * @private\n   */\n  Edge.prototype._label = function (ctx, text, x, y) {\n    if (text) {\n      ctx.font = ((this.from.selected || this.to.selected) ? "bold " : "") +\n      this.options.fontSize + "px " + this.options.fontFace;\n      var yLine;\n\n      if (this.dirtyLabel == true) {\n        var lines = String(text).split(\'\\n\');\n        var lineCount = lines.length;\n        var fontSize = Number(this.options.fontSize);\n        yLine = y + (1 - lineCount) / 2 * fontSize;\n\n        var width = ctx.measureText(lines[0]).width;\n        for (var i = 1; i < lineCount; i++) {\n          var lineWidth = ctx.measureText(lines[i]).width;\n          width = lineWidth > width ? lineWidth : width;\n        }\n        var height = this.options.fontSize * lineCount;\n        var left = x - width / 2;\n        var top = y - height / 2;\n\n        // cache\n        this.labelDimensions = {top:top,left:left,width:width,height:height,yLine:yLine};\n      }\n\n  \tvar yLine = this.labelDimensions.yLine;\n  \t\n  \tctx.save();\n  \t\n  \tif (this.options.labelAlignment != "horizontal"){\n  \t\tctx.translate(x, yLine);\n  \t\tthis._rotateForLabelAlignment(ctx);\n  \t\tx = 0;\n  \t\tyLine = 0;\n  \t}\n\n  \t\n  \tthis._drawLabelRect(ctx);\n  \tthis._drawLabelText(ctx,x,yLine, lines, lineCount, fontSize);\n  \t\n  \tctx.restore();\n    }\n  };\n\n  /**\n   * Rotates the canvas so the text is most readable\n   * @param {CanvasRenderingContext2D} ctx\n   * @private\n   */\n  Edge.prototype._rotateForLabelAlignment = function(ctx) {\n  \tvar dy = this.from.y - this.to.y;\n  \tvar dx = this.from.x - this.to.x;\n  \tvar angleInDegrees = Math.atan2(dy, dx);\n\n  \t// rotate so label it is readable\n  \tif((angleInDegrees < -1 && dx < 0) || (angleInDegrees > 0 && dx < 0)){\n  \t\tangleInDegrees = angleInDegrees + Math.PI;\n  \t}\n  \t\n  \tctx.rotate(angleInDegrees);\n  };\n\n  /**\n   * Draws the label rectangle \n   * @param {CanvasRenderingContext2D} ctx\n   * @param {String} labelAlignment\n   * @private\n   */\n  Edge.prototype._drawLabelRect = function(ctx) {\n  \tif (this.options.fontFill !== undefined && this.options.fontFill !== null && this.options.fontFill !== "none") {\n  \t\tctx.fillStyle = this.options.fontFill;\n  \t\t\n  \t\tvar lineMargin = 2;\n\n      if (this.options.labelAlignment == \'line-center\') {\n        ctx.fillRect(-this.labelDimensions.width * 0.5, -this.labelDimensions.height * 0.5, this.labelDimensions.width, this.labelDimensions.height);\n      }\n      else if (this.options.labelAlignment == \'line-above\') {\n        ctx.fillRect(-this.labelDimensions.width * 0.5, -(this.labelDimensions.height + lineMargin), this.labelDimensions.width, this.labelDimensions.height);\n      }\n      else if (this.options.labelAlignment == \'line-below\') {\n        ctx.fillRect(-this.labelDimensions.width * 0.5, lineMargin, this.labelDimensions.width, this.labelDimensions.height);\n      }\n      else {\n        ctx.fillRect(this.labelDimensions.left, this.labelDimensions.top, this.labelDimensions.width, this.labelDimensions.height);\n      }\n    }\n  };\n\n  /**\n   * Draws the label text \n   * @param {CanvasRenderingContext2D} ctx\n   * @param {Number} x\n   * @param {Number} yLine\n   * @param {Array} lines\n   * @param {Number} lineCount\n   * @param {Number} fontSize\n   * @private\n   */\n  Edge.prototype._drawLabelText = function(ctx, x, yLine, lines, lineCount, fontSize) {\n  \t// draw text\n  \tctx.fillStyle = this.options.fontColor || "black";\n  \tctx.textAlign = "center";\n\n    // check for label alignment\n    if (this.options.labelAlignment != \'horizontal\') {\n      var lineMargin = 2;\n      if (this.options.labelAlignment == \'line-above\') {\n        ctx.textBaseline = "alphabetic";\n        yLine -= 2 * lineMargin; // distance from edge, required because we use alphabetic. Alphabetic has less difference between browsers\n      }\n      else if (this.options.labelAlignment == \'line-below\') {\n        ctx.textBaseline = "hanging";\n        yLine += 2 * lineMargin;// distance from edge, required because we use hanging. Hanging has less difference between browsers\n      }\n      else {\n        ctx.textBaseline = "middle";\n      }\n    }\n    else {\n      ctx.textBaseline = "middle";\n    }\n\n    // check for strokeWidth\n    if (this.options.fontStrokeWidth > 0){\n      ctx.lineWidth   = this.options.fontStrokeWidth;\n      ctx.strokeStyle = this.options.fontStrokeColor;\n      ctx.lineJoin    = \'round\';\n    }\n  \tfor (var i = 0; i < lineCount; i++) {\n      if(this.options.fontStrokeWidth > 0){\n        ctx.strokeText(lines[i], x, yLine);\n      }\n  \t\tctx.fillText(lines[i], x, yLine);\n  \t\tyLine += fontSize;\n  \t}\n  };\n\n  /**\n   * Redraw a edge as a dashed line\n   * Draw this edge in the given canvas\n   * @author David Jordan\n   * @date 2012-08-08\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext("2d");\n   * @param {CanvasRenderingContext2D}   ctx\n   * @private\n   */\n  Edge.prototype._drawDashLine = function(ctx) {\n    // set style\n    ctx.strokeStyle = this._getColor(ctx);\n    ctx.lineWidth = this._getLineWidth();\n\n    var via = null;\n    // only firefox and chrome support this method, else we use the legacy one.\n    if (ctx.setLineDash !== undefined) {\n      ctx.save();\n      // configure the dash pattern\n      var pattern = [0];\n      if (this.options.dash.length !== undefined && this.options.dash.gap !== undefined) {\n        pattern = [this.options.dash.length,this.options.dash.gap];\n      }\n      else {\n        pattern = [5,5];\n      }\n\n      // set dash settings for chrome or firefox\n      ctx.setLineDash(pattern);\n      ctx.lineDashOffset = 0;\n\n      // draw the line\n      via = this._line(ctx);\n\n      // restore the dash settings.\n      ctx.setLineDash([0]);\n      ctx.lineDashOffset = 0;\n      ctx.restore();\n    }\n    else { // unsupporting smooth lines\n      // draw dashed line\n      ctx.beginPath();\n      ctx.lineCap = \'round\';\n      if (this.options.dash.altLength !== undefined) //If an alt dash value has been set add to the array this value\n      {\n        ctx.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,\n            [this.options.dash.length,this.options.dash.gap,this.options.dash.altLength,this.options.dash.gap]);\n      }\n      else if (this.options.dash.length !== undefined && this.options.dash.gap !== undefined) //If a dash and gap value has been set add to the array this value\n      {\n        ctx.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,\n            [this.options.dash.length,this.options.dash.gap]);\n      }\n      else //If all else fails draw a line\n      {\n        ctx.moveTo(this.from.x, this.from.y);\n        ctx.lineTo(this.to.x, this.to.y);\n      }\n      ctx.stroke();\n    }\n\n    // draw label\n    if (this.label) {\n      var point;\n      if (this.options.smoothCurves.enabled == true && via != null) {\n        var midpointX = 0.5*(0.5*(this.from.x + via.x) + 0.5*(this.to.x + via.x));\n        var midpointY = 0.5*(0.5*(this.from.y + via.y) + 0.5*(this.to.y + via.y));\n        point = {x:midpointX, y:midpointY};\n      }\n      else {\n        point = this._pointOnLine(0.5);\n      }\n      this._label(ctx, this.label, point.x, point.y);\n    }\n  };\n\n  /**\n   * Get a point on a line\n   * @param {Number} percentage. Value between 0 (line start) and 1 (line end)\n   * @return {Object} point\n   * @private\n   */\n  Edge.prototype._pointOnLine = function (percentage) {\n    return {\n      x: (1 - percentage) * this.from.x + percentage * this.to.x,\n      y: (1 - percentage) * this.from.y + percentage * this.to.y\n    }\n  };\n\n  /**\n   * Get a point on a circle\n   * @param {Number} x\n   * @param {Number} y\n   * @param {Number} radius\n   * @param {Number} percentage. Value between 0 (line start) and 1 (line end)\n   * @return {Object} point\n   * @private\n   */\n  Edge.prototype._pointOnCircle = function (x, y, radius, percentage) {\n    var angle = (percentage - 3/8) * 2 * Math.PI;\n    return {\n      x: x + radius * Math.cos(angle),\n      y: y - radius * Math.sin(angle)\n    }\n  };\n\n  /**\n   * Redraw a edge as a line with an arrow halfway the line\n   * Draw this edge in the given canvas\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext("2d");\n   * @param {CanvasRenderingContext2D}   ctx\n   * @private\n   */\n  Edge.prototype._drawArrowCenter = function(ctx) {\n    var point;\n    // set style\n    ctx.strokeStyle = this._getColor(ctx);\n    ctx.fillStyle = ctx.strokeStyle;\n    ctx.lineWidth = this._getLineWidth();\n\n    if (this.from != this.to) {\n      // draw line\n      var via = this._line(ctx);\n\n      var angle = Math.atan2((this.to.y - this.from.y), (this.to.x - this.from.x));\n      var length = (10 + 5 * this.options.width) * this.options.arrowScaleFactor;\n      // draw an arrow halfway the line\n      if (this.options.smoothCurves.enabled == true && via != null) {\n        var midpointX = 0.5*(0.5*(this.from.x + via.x) + 0.5*(this.to.x + via.x));\n        var midpointY = 0.5*(0.5*(this.from.y + via.y) + 0.5*(this.to.y + via.y));\n        point = {x:midpointX, y:midpointY};\n      }\n      else {\n        point = this._pointOnLine(0.5);\n      }\n\n      ctx.arrow(point.x, point.y, angle, length);\n      ctx.fill();\n      ctx.stroke();\n\n      // draw label\n      if (this.label) {\n        this._label(ctx, this.label, point.x, point.y);\n      }\n    }\n    else {\n      // draw circle\n      var x, y;\n      var radius = 0.25 * Math.max(100,this.physics.springLength);\n      var node = this.from;\n      if (!node.width) {\n        node.resize(ctx);\n      }\n      if (node.width > node.height) {\n        x = node.x + node.width * 0.5;\n        y = node.y - radius;\n      }\n      else {\n        x = node.x + radius;\n        y = node.y - node.height * 0.5;\n      }\n      this._circle(ctx, x, y, radius);\n\n      // draw all arrows\n      var angle = 0.2 * Math.PI;\n      var length = (10 + 5 * this.options.width) * this.options.arrowScaleFactor;\n      point = this._pointOnCircle(x, y, radius, 0.5);\n      ctx.arrow(point.x, point.y, angle, length);\n      ctx.fill();\n      ctx.stroke();\n\n      // draw label\n      if (this.label) {\n        point = this._pointOnCircle(x, y, radius, 0.5);\n        this._label(ctx, this.label, point.x, point.y);\n      }\n    }\n  };\n\n  Edge.prototype._pointOnBezier = function(t) {\n    var via = this._getViaCoordinates();\n\n    var x = Math.pow(1-t,2)*this.from.x + (2*t*(1 - t))*via.x + Math.pow(t,2)*this.to.x;\n    var y = Math.pow(1-t,2)*this.from.y + (2*t*(1 - t))*via.y + Math.pow(t,2)*this.to.y;\n\n    return {x:x,y:y};\n  }\n\n  /**\n   * This function uses binary search to look for the point where the bezier curve crosses the border of the node.\n   *\n   * @param from\n   * @param ctx\n   * @returns {*}\n   * @private\n   */\n  Edge.prototype._findBorderPosition = function(from,ctx) {\n    var maxIterations = 10;\n    var iteration = 0;\n    var low = 0;\n    var high = 1;\n    var pos,angle,distanceToBorder, distanceToNodes, difference;\n    var threshold = 0.2;\n    var node = this.to;\n    if (from == true) {\n      node = this.from;\n    }\n\n    while (low <= high && iteration < maxIterations) {\n      var middle = (low + high) * 0.5;\n\n      pos = this._pointOnBezier(middle);\n      angle = Math.atan2((node.y - pos.y), (node.x - pos.x));\n      distanceToBorder = node.distanceToBorder(ctx,angle);\n      distanceToNodes = Math.sqrt(Math.pow(pos.x-node.x,2) + Math.pow(pos.y-node.y,2));\n      difference = distanceToBorder - distanceToNodes;\n      if (Math.abs(difference) < threshold) {\n        break; // found\n      }\n      else if (difference < 0) { // distance to nodes is larger than distance to border --\x3e t needs to be bigger if we\'re looking at the to node.\n        if (from == false) {\n          low = middle;\n        }\n        else {\n          high = middle;\n        }\n      }\n      else {\n        if (from == false) {\n          high = middle;\n        }\n        else {\n          low = middle;\n        }\n      }\n\n      iteration++;\n    }\n    pos.t = middle;\n\n    return pos;\n  };\n\n  /**\n   * Redraw a edge as a line with an arrow\n   * Draw this edge in the given canvas\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext("2d");\n   * @param {CanvasRenderingContext2D}   ctx\n   * @private\n   */\n  Edge.prototype._drawArrow = function(ctx) {\n    // set style\n    ctx.strokeStyle = this._getColor(ctx);\n    ctx.fillStyle = ctx.strokeStyle;\n    ctx.lineWidth = this._getLineWidth();\n\n    // set vars\n    var angle, length, arrowPos;\n\n    // if not connected to itself\n    if (this.from != this.to) {\n      // draw line\n      this._line(ctx);\n\n      // draw arrow head\n      if (this.options.smoothCurves.enabled == true) {\n        var via = this._getViaCoordinates();\n        arrowPos = this._findBorderPosition(false, ctx);\n        var guidePos = this._pointOnBezier(Math.max(0.0, arrowPos.t - 0.1))\n        angle = Math.atan2((arrowPos.y - guidePos.y), (arrowPos.x - guidePos.x));\n      }\n      else {\n        angle = Math.atan2((this.to.y - this.from.y), (this.to.x - this.from.x));\n        var dx = (this.to.x - this.from.x);\n        var dy = (this.to.y - this.from.y);\n        var edgeSegmentLength = Math.sqrt(dx * dx + dy * dy);\n        var toBorderDist = this.to.distanceToBorder(ctx, angle);\n        var toBorderPoint = (edgeSegmentLength - toBorderDist) / edgeSegmentLength;\n\n        arrowPos = {};\n        arrowPos.x = (1 - toBorderPoint) * this.from.x + toBorderPoint * this.to.x;\n        arrowPos.y = (1 - toBorderPoint) * this.from.y + toBorderPoint * this.to.y;\n      }\n\n      // draw arrow at the end of the line\n      length = (10 + 5 * this.options.width) * this.options.arrowScaleFactor;\n      ctx.arrow(arrowPos.x,arrowPos.y, angle, length);\n      ctx.fill();\n      ctx.stroke();\n\n      // draw label\n      if (this.label) {\n        var point;\n        if (this.options.smoothCurves.enabled == true && via != null) {\n          point = this._pointOnBezier(0.5);\n        }\n        else {\n          point = this._pointOnLine(0.5);\n        }\n        this._label(ctx, this.label, point.x, point.y);\n      }\n    }\n    else {\n      // draw circle\n      var node = this.from;\n      var x, y, arrow;\n      var radius = 0.25 * Math.max(100,this.physics.springLength);\n      if (!node.width) {\n        node.resize(ctx);\n      }\n      if (node.width > node.height) {\n        x = node.x + node.width * 0.5;\n        y = node.y - radius;\n        arrow = {\n          x: x,\n          y: node.y,\n          angle: 0.9 * Math.PI\n        };\n      }\n      else {\n        x = node.x + radius;\n        y = node.y - node.height * 0.5;\n        arrow = {\n          x: node.x,\n          y: y,\n          angle: 0.6 * Math.PI\n        };\n      }\n      ctx.beginPath();\n      // TODO: similarly, for a line without arrows, draw to the border of the nodes instead of the center\n      ctx.arc(x, y, radius, 0, 2 * Math.PI, false);\n      ctx.stroke();\n\n      // draw all arrows\n      var length = (10 + 5 * this.options.width) * this.options.arrowScaleFactor;\n      ctx.arrow(arrow.x, arrow.y, arrow.angle, length);\n      ctx.fill();\n      ctx.stroke();\n\n      // draw label\n      if (this.label) {\n        point = this._pointOnCircle(x, y, radius, 0.5);\n        this._label(ctx, this.label, point.x, point.y);\n      }\n    }\n  };\n\n  /**\n   * Calculate the distance between a point (x3,y3) and a line segment from\n   * (x1,y1) to (x2,y2).\n   * http://stackoverflow.com/questions/849211/shortest-distancae-between-a-point-and-a-line-segment\n   * @param {number} x1\n   * @param {number} y1\n   * @param {number} x2\n   * @param {number} y2\n   * @param {number} x3\n   * @param {number} y3\n   * @private\n   */\n  Edge.prototype._getDistanceToEdge = function (x1,y1, x2,y2, x3,y3) { // x3,y3 is the point\n    var returnValue = 0;\n    if (this.from != this.to) {\n      if (this.options.smoothCurves.enabled == true) {\n        var xVia, yVia;\n        if (this.options.smoothCurves.enabled == true && this.options.smoothCurves.dynamic == true) {\n          xVia = this.via.x;\n          yVia = this.via.y;\n        }\n        else {\n          var via = this._getViaCoordinates();\n          xVia = via.x;\n          yVia = via.y;\n        }\n        var minDistance = 1e9;\n        var distance;\n        var i,t,x,y, lastX, lastY;\n        for (i = 0; i < 10; i++) {\n          t = 0.1*i;\n          x = Math.pow(1-t,2)*x1 + (2*t*(1 - t))*xVia + Math.pow(t,2)*x2;\n          y = Math.pow(1-t,2)*y1 + (2*t*(1 - t))*yVia + Math.pow(t,2)*y2;\n          if (i > 0) {\n            distance = this._getDistanceToLine(lastX,lastY,x,y, x3,y3);\n            minDistance = distance < minDistance ? distance : minDistance;\n          }\n          lastX = x; lastY = y;\n        }\n        returnValue = minDistance;\n      }\n      else {\n        returnValue = this._getDistanceToLine(x1,y1,x2,y2,x3,y3);\n      }\n    }\n    else {\n      var x, y, dx, dy;\n      var radius = 0.25 * this.physics.springLength;\n      var node = this.from;\n      if (node.width > node.height) {\n        x = node.x + 0.5 * node.width;\n        y = node.y - radius;\n      }\n      else {\n        x = node.x + radius;\n        y = node.y - 0.5 * node.height;\n      }\n      dx = x - x3;\n      dy = y - y3;\n      returnValue = Math.abs(Math.sqrt(dx*dx + dy*dy) - radius);\n    }\n\n    if (this.labelDimensions.left < x3 &&\n      this.labelDimensions.left + this.labelDimensions.width > x3 &&\n      this.labelDimensions.top < y3 &&\n      this.labelDimensions.top + this.labelDimensions.height > y3) {\n      return 0;\n    }\n    else {\n      return returnValue;\n    }\n  };\n\n  Edge.prototype._getDistanceToLine = function(x1,y1,x2,y2,x3,y3) {\n    var px = x2-x1,\n      py = y2-y1,\n      something = px*px + py*py,\n      u =  ((x3 - x1) * px + (y3 - y1) * py) / something;\n\n    if (u > 1) {\n      u = 1;\n    }\n    else if (u < 0) {\n      u = 0;\n    }\n\n    var x = x1 + u * px,\n      y = y1 + u * py,\n      dx = x - x3,\n      dy = y - y3;\n\n    //# Note: If the actual distance does not matter,\n    //# if you only want to compare what this function\n    //# returns to other results of this function, you\n    //# can just return the squared distance instead\n    //# (i.e. remove the sqrt) to gain a little performance\n\n    return Math.sqrt(dx*dx + dy*dy);\n  };\n\n  /**\n   * This allows the zoom level of the network to influence the rendering\n   *\n   * @param scale\n   */\n  Edge.prototype.setScale = function(scale) {\n    this.networkScaleInv = 1.0/scale;\n  };\n\n\n  Edge.prototype.select = function() {\n    this.selected = true;\n  };\n\n  Edge.prototype.unselect = function() {\n    this.selected = false;\n  };\n\n  Edge.prototype.positionBezierNode = function() {\n    if (this.via !== null && this.from !== null && this.to !== null) {\n      this.via.x = 0.5 * (this.from.x + this.to.x);\n      this.via.y = 0.5 * (this.from.y + this.to.y);\n    }\n    else if (this.via !== null) {\n      this.via.x = 0;\n      this.via.y = 0;\n    }\n  };\n\n  /**\n   * This function draws the control nodes for the manipulator.\n   * In order to enable this, only set the this.controlNodesEnabled to true.\n   * @param ctx\n   */\n  Edge.prototype._drawControlNodes = function(ctx) {\n    if (this.controlNodesEnabled == true) {\n      if (this.controlNodes.from === null && this.controlNodes.to === null) {\n        var nodeIdFrom = "edgeIdFrom:".concat(this.id);\n        var nodeIdTo = "edgeIdTo:".concat(this.id);\n        var constants = {\n                        nodes:{group:\'\', radius:7, borderWidth:2, borderWidthSelected: 2},\n                        physics:{damping:0},\n                        clustering: {maxNodeSizeIncrements: 0 ,nodeScaling: {width:0, height: 0, radius:0}}\n                        };\n        this.controlNodes.from = new Node(\n          {id:nodeIdFrom,\n            shape:\'dot\',\n              color:{background:\'#ff0000\', border:\'#3c3c3c\', highlight: {background:\'#07f968\'}}\n          },{},{},constants);\n        this.controlNodes.to = new Node(\n          {id:nodeIdTo,\n            shape:\'dot\',\n            color:{background:\'#ff0000\', border:\'#3c3c3c\', highlight: {background:\'#07f968\'}}\n          },{},{},constants);\n      }\n\n      this.controlNodes.positions = {};\n      if (this.controlNodes.from.selected == false) {\n        this.controlNodes.positions.from = this.getControlNodeFromPosition(ctx);\n        this.controlNodes.from.x = this.controlNodes.positions.from.x;\n        this.controlNodes.from.y = this.controlNodes.positions.from.y;\n      }\n      if (this.controlNodes.to.selected == false) {\n        this.controlNodes.positions.to = this.getControlNodeToPosition(ctx);\n        this.controlNodes.to.x = this.controlNodes.positions.to.x;\n        this.controlNodes.to.y = this.controlNodes.positions.to.y;\n      }\n\n      this.controlNodes.from.draw(ctx);\n      this.controlNodes.to.draw(ctx);\n    }\n    else {\n      this.controlNodes = {from:null, to:null, positions:{}};\n    }\n  };\n\n  /**\n   * Enable control nodes.\n   * @private\n   */\n  Edge.prototype._enableControlNodes = function() {\n    this.fromBackup = this.from;\n    this.toBackup = this.to;\n    this.controlNodesEnabled = true;\n  };\n\n  /**\n   * disable control nodes and remove from dynamicEdges from old node\n   * @private\n   */\n  Edge.prototype._disableControlNodes = function() {\n    this.fromId = this.from.id;\n    this.toId = this.to.id;\n    if (this.fromId != this.fromBackup.id) { // from was changed, remove edge from old \'from\' node dynamic edges\n      this.fromBackup.detachEdge(this);\n    }\n    else if (this.toId != this.toBackup.id) { // to was changed, remove edge from old \'to\' node dynamic edges\n      this.toBackup.detachEdge(this);\n    }\n\n    this.fromBackup = null;\n    this.toBackup = null;\n    this.controlNodesEnabled = false;\n  };\n\n\n  /**\n   * This checks if one of the control nodes is selected and if so, returns the control node object. Else it returns null.\n   * @param x\n   * @param y\n   * @returns {null}\n   * @private\n   */\n  Edge.prototype._getSelectedControlNode = function(x,y) {\n    var positions = this.controlNodes.positions;\n    var fromDistance = Math.sqrt(Math.pow(x - positions.from.x,2) + Math.pow(y - positions.from.y,2));\n    var toDistance =   Math.sqrt(Math.pow(x - positions.to.x  ,2) + Math.pow(y - positions.to.y  ,2));\n\n    if (fromDistance < 15) {\n      this.connectedNode = this.from;\n      this.from = this.controlNodes.from;\n      return this.controlNodes.from;\n    }\n    else if (toDistance < 15) {\n      this.connectedNode = this.to;\n      this.to = this.controlNodes.to;\n      return this.controlNodes.to;\n    }\n    else {\n      return null;\n    }\n  };\n\n\n  /**\n   * this resets the control nodes to their original position.\n   * @private\n   */\n  Edge.prototype._restoreControlNodes = function() {\n    if (this.controlNodes.from.selected == true) {\n      this.from = this.connectedNode;\n      this.connectedNode = null;\n      this.controlNodes.from.unselect();\n    }\n    else if (this.controlNodes.to.selected == true) {\n      this.to = this.connectedNode;\n      this.connectedNode = null;\n      this.controlNodes.to.unselect();\n    }\n  };\n\n  /**\n   * this calculates the position of the control nodes on the edges of the parent nodes.\n   *\n   * @param ctx\n   * @returns {x: *, y: *}\n   */\n  Edge.prototype.getControlNodeFromPosition = function(ctx) {\n    // draw arrow head\n    var controlnodeFromPos;\n    if (this.options.smoothCurves.enabled == true) {\n      controlnodeFromPos = this._findBorderPosition(true, ctx);\n    }\n    else {\n      var angle = Math.atan2((this.to.y - this.from.y), (this.to.x - this.from.x));\n      var dx = (this.to.x - this.from.x);\n      var dy = (this.to.y - this.from.y);\n      var edgeSegmentLength = Math.sqrt(dx * dx + dy * dy);\n\n      var fromBorderDist = this.from.distanceToBorder(ctx, angle + Math.PI);\n      var fromBorderPoint = (edgeSegmentLength - fromBorderDist) / edgeSegmentLength;\n      controlnodeFromPos = {};\n      controlnodeFromPos.x = (fromBorderPoint) * this.from.x + (1 - fromBorderPoint) * this.to.x;\n      controlnodeFromPos.y = (fromBorderPoint) * this.from.y + (1 - fromBorderPoint) * this.to.y;\n    }\n\n    return controlnodeFromPos;\n  };\n\n  /**\n   * this calculates the position of the control nodes on the edges of the parent nodes.\n   *\n   * @param ctx\n   * @returns {{from: {x: number, y: number}, to: {x: *, y: *}}}\n   */\n  Edge.prototype.getControlNodeToPosition = function(ctx) {\n    // draw arrow head\n    var controlnodeFromPos,controlnodeToPos;\n    if (this.options.smoothCurves.enabled == true) {\n      controlnodeToPos = this._findBorderPosition(false, ctx);\n    }\n    else {\n      var angle = Math.atan2((this.to.y - this.from.y), (this.to.x - this.from.x));\n      var dx = (this.to.x - this.from.x);\n      var dy = (this.to.y - this.from.y);\n      var edgeSegmentLength = Math.sqrt(dx * dx + dy * dy);\n      var toBorderDist = this.to.distanceToBorder(ctx, angle);\n      var toBorderPoint = (edgeSegmentLength - toBorderDist) / edgeSegmentLength;\n\n      controlnodeToPos = {};\n      controlnodeToPos.x = (1 - toBorderPoint) * this.from.x + toBorderPoint * this.to.x;\n      controlnodeToPos.y = (1 - toBorderPoint) * this.from.y + toBorderPoint * this.to.y;\n    }\n\n    return controlnodeToPos;\n  };\n\n  module.exports = Edge;\n\n/***/ },\n/* 38 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n\n  /**\n   * @class Groups\n   * This class can store groups and properties specific for groups.\n   */\n  function Groups() {\n    this.clear();\n    this.defaultIndex = 0;\n    this.groupsArray = [];\n    this.groupIndex = 0;\n    this.useDefaultGroups = true;\n  }\n\n\n  /**\n   * default constants for group colors\n   */\n  Groups.DEFAULT = [\n    {border: "#2B7CE9", background: "#97C2FC", highlight: {border: "#2B7CE9", background: "#D2E5FF"}, hover: {border: "#2B7CE9", background: "#D2E5FF"}}, // 0: blue\n    {border: "#FFA500", background: "#FFFF00", highlight: {border: "#FFA500", background: "#FFFFA3"}, hover: {border: "#FFA500", background: "#FFFFA3"}}, // 1: yellow\n    {border: "#FA0A10", background: "#FB7E81", highlight: {border: "#FA0A10", background: "#FFAFB1"}, hover: {border: "#FA0A10", background: "#FFAFB1"}}, // 2: red\n    {border: "#41A906", background: "#7BE141", highlight: {border: "#41A906", background: "#A1EC76"}, hover: {border: "#41A906", background: "#A1EC76"}}, // 3: green\n    {border: "#E129F0", background: "#EB7DF4", highlight: {border: "#E129F0", background: "#F0B3F5"}, hover: {border: "#E129F0", background: "#F0B3F5"}}, // 4: magenta\n    {border: "#7C29F0", background: "#AD85E4", highlight: {border: "#7C29F0", background: "#D3BDF0"}, hover: {border: "#7C29F0", background: "#D3BDF0"}}, // 5: purple\n    {border: "#C37F00", background: "#FFA807", highlight: {border: "#C37F00", background: "#FFCA66"}, hover: {border: "#C37F00", background: "#FFCA66"}}, // 6: orange\n    {border: "#4220FB", background: "#6E6EFD", highlight: {border: "#4220FB", background: "#9B9BFD"}, hover: {border: "#4220FB", background: "#9B9BFD"}}, // 7: darkblue\n    {border: "#FD5A77", background: "#FFC0CB", highlight: {border: "#FD5A77", background: "#FFD1D9"}, hover: {border: "#FD5A77", background: "#FFD1D9"}}, // 8: pink\n    {border: "#4AD63A", background: "#C2FABC", highlight: {border: "#4AD63A", background: "#E6FFE3"}, hover: {border: "#4AD63A", background: "#E6FFE3"}}, // 9: mint\n\n    {border: "#990000", background: "#EE0000", highlight: {border: "#BB0000", background: "#FF3333"}, hover: {border: "#BB0000", background: "#FF3333"}}, // 10:bright red\n\n    {border: "#FF6000", background: "#FF6000", highlight: {border: "#FF6000", background: "#FF6000"}, hover: {border: "#FF6000", background: "#FF6000"}}, // 12: real orange\n    {border: "#97C2FC", background: "#2B7CE9", highlight: {border: "#D2E5FF", background: "#2B7CE9"}, hover: {border: "#D2E5FF", background: "#2B7CE9"}}, // 13: blue\n    {border: "#399605", background: "#255C03", highlight: {border: "#399605", background: "#255C03"}, hover: {border: "#399605", background: "#255C03"}}, // 14: green\n    {border: "#B70054", background: "#FF007E", highlight: {border: "#B70054", background: "#FF007E"}, hover: {border: "#B70054", background: "#FF007E"}}, // 15: magenta\n    {border: "#AD85E4", background: "#7C29F0", highlight: {border: "#D3BDF0", background: "#7C29F0"}, hover: {border: "#D3BDF0", background: "#7C29F0"}}, // 16: purple\n    {border: "#4557FA", background: "#000EA1", highlight: {border: "#6E6EFD", background: "#000EA1"}, hover: {border: "#6E6EFD", background: "#000EA1"}}, // 17: darkblue\n    {border: "#FFC0CB", background: "#FD5A77", highlight: {border: "#FFD1D9", background: "#FD5A77"}, hover: {border: "#FFD1D9", background: "#FD5A77"}}, // 18: pink\n    {border: "#C2FABC", background: "#74D66A", highlight: {border: "#E6FFE3", background: "#74D66A"}, hover: {border: "#E6FFE3", background: "#74D66A"}}, // 19: mint\n\n    {border: "#EE0000", background: "#990000", highlight: {border: "#FF3333", background: "#BB0000"}, hover: {border: "#FF3333", background: "#BB0000"}}, // 20:bright red\n  ];\n\n\n  /**\n   * Clear all groups\n   */\n  Groups.prototype.clear = function () {\n    this.groups = {};\n    this.groups.length = function()\n    {\n      var i = 0;\n      for ( var p in this ) {\n        if (this.hasOwnProperty(p)) {\n          i++;\n        }\n      }\n      return i;\n    }\n  };\n\n\n  /**\n   * get group properties of a groupname. If groupname is not found, a new group\n   * is added.\n   * @param {*} groupname        Can be a number, string, Date, etc.\n   * @return {Object} group      The created group, containing all group properties\n   */\n  Groups.prototype.get = function (groupname) {\n    var group = this.groups[groupname];\n    if (group == undefined) {\n      if (this.useDefaultGroups === false && this.groupsArray.length > 0) {\n        // create new group\n        var index = this.groupIndex % this.groupsArray.length;\n        this.groupIndex++;\n        group = {};\n        group.color = this.groups[this.groupsArray[index]];\n        this.groups[groupname] = group;\n      }\n      else {\n        // create new group\n        var index = this.defaultIndex % Groups.DEFAULT.length;\n        this.defaultIndex++;\n        group = {};\n        group.color = Groups.DEFAULT[index];\n        this.groups[groupname] = group;\n      }\n    }\n\n    return group;\n  };\n\n  /**\n   * Add a custom group style\n   * @param {String} groupName\n   * @param {Object} style       An object containing borderColor,\n   *                             backgroundColor, etc.\n   * @return {Object} group      The created group object\n   */\n  Groups.prototype.add = function (groupName, style) {\n    this.groups[groupName] = style;\n    this.groupsArray.push(groupName);\n    return style;\n  };\n\n  module.exports = Groups;\n\n\n/***/ },\n/* 39 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * @class Images\n   * This class loads images and keeps them stored.\n   */\n  function Images() {\n    this.images = {};\n    this.imageBroken = {};\n    this.callback = undefined;\n  }\n\n  /**\n   * Set an onload callback function. This will be called each time an image\n   * is loaded\n   * @param {function} callback\n   */\n  Images.prototype.setOnloadCallback = function(callback) {\n    this.callback = callback;\n  };\n\n  /**\n   *\n   * @param {string} url          Url of the image\n   * @param {string} url          Url of an image to use if the url image is not found\n   * @return {Image} img          The image object\n   */\n  Images.prototype.load = function(url, brokenUrl) {\n    var img = this.images[url]; // make a pointer\n    if (img === undefined) {\n      // create the image\n      var me = this;\n      img = new Image();\n      img.onload = function () {\n        // IE11 fix -- thanks dponch!\n        if (this.width == 0) {\n          document.body.appendChild(this);\n          this.width = this.offsetWidth;\n          this.height = this.offsetHeight;\n          document.body.removeChild(this);\n        }\n\n        if (me.callback) {\n          me.images[url] = img;\n          me.callback(this);\n        }\n      };\n\n      img.onerror = function () {\n        if (brokenUrl === undefined) {\n          console.error("Could not load image:", url);\n          delete this.src;\n          if (me.callback) {\n            me.callback(this);\n          }\n        }\n        else {\n          if (me.imageBroken[url] === true) {\n            if (this.src == brokenUrl) {\n              console.error("Could not load brokenImage:", brokenUrl);\n              delete this.src;\n              if (me.callback) {\n                me.callback(this);\n              }\n            }\n            else {\n              console.error("Could not load image:", url);\n              this.src = brokenUrl;\n            }\n          }\n          else {\n            console.error("Could not load image:", url);\n            this.src = brokenUrl;\n            me.imageBroken[url] = true;\n          }\n        }\n      };\n\n      img.src = url;\n    }\n\n    return img;\n  };\n\n  module.exports = Images;\n\n\n/***/ },\n/* 40 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n\n  /**\n   * @class Node\n   * A node. A node can be connected to other nodes via one or multiple edges.\n   * @param {object} properties An object containing properties for the node. All\n   *                            properties are optional, except for the id.\n   *                              {number} id     Id of the node. Required\n   *                              {string} label  Text label for the node\n   *                              {number} x      Horizontal position of the node\n   *                              {number} y      Vertical position of the node\n   *                              {string} shape  Node shape, available:\n   *                                              "database", "circle", "ellipse",\n   *                                              "box", "image", "text", "dot",\n   *                                              "star", "triangle", "triangleDown",\n   *                                              "square", "icon"\n   *                              {string} image  An image url\n   *                              {string} title  An title text, can be HTML\n   *                              {anytype} group A group name or number\n   * @param {Network.Images} imagelist    A list with images. Only needed\n   *                                            when the node has an image\n   * @param {Network.Groups} grouplist    A list with groups. Needed for\n   *                                            retrieving group properties\n   * @param {Object}               constants    An object with default values for\n   *                                            example for the color\n   *\n   */\n  function Node(properties, imagelist, grouplist, networkConstants) {\n    var constants = util.selectiveBridgeObject([\'nodes\'],networkConstants);\n    this.options = constants.nodes;\n\n    this.selected = false;\n    this.hover = false;\n\n    this.edges = []; // all edges connected to this node\n    this.dynamicEdges = [];\n    this.reroutedEdges = {};\n\n    // set defaults for the properties\n    this.id = undefined;\n    this.allowedToMoveX = false;\n    this.allowedToMoveY = false;\n    this.xFixed = false;\n    this.yFixed = false;\n    this.horizontalAlignLeft = true; // these are for the navigation controls\n    this.verticalAlignTop    = true; // these are for the navigation controls\n    this.baseRadiusValue = networkConstants.nodes.radius;\n    this.radiusFixed = false;\n    this.level = -1;\n    this.preassignedLevel = false;\n    this.hierarchyEnumerated = false;\n    this.labelDimensions = {top:0, left:0, width:0, height:0, yLine:0}; // could be cached\n    this.boundingBox = {top:0, left:0, right:0, bottom:0};\n\n    this.imagelist = imagelist;\n    this.grouplist = grouplist;\n\n    // physics properties\n    this.fx = 0.0;  // external force x\n    this.fy = 0.0;  // external force y\n    this.vx = 0.0;  // velocity x\n    this.vy = 0.0;  // velocity y\n    this.x = null;\n    this.y = null;\n    this.predefinedPosition = false; // used to check if initial zoomExtent should just take the range or approximate\n\n    // used for reverting to previous position on stabilization\n    this.previousState = {vx:0,vy:0,x:0,y:0};\n\n    this.damping = networkConstants.physics.damping; // written every time gravity is calculated\n    this.fixedData = {x:null,y:null};\n\n    this.setProperties(properties, constants);\n\n    // creating the variables for clustering\n    this.resetCluster();\n    this.clusterSession = 0;\n    this.clusterSizeWidthFactor  = networkConstants.clustering.nodeScaling.width;\n    this.clusterSizeHeightFactor = networkConstants.clustering.nodeScaling.height;\n    this.clusterSizeRadiusFactor = networkConstants.clustering.nodeScaling.radius;\n    this.maxNodeSizeIncrements   = networkConstants.clustering.maxNodeSizeIncrements;\n    this.growthIndicator = 0;\n\n    // variables to tell the node about the network.\n    this.networkScaleInv = 1;\n    this.networkScale = 1;\n    this.canvasTopLeft = {"x": -300, "y": -300};\n    this.canvasBottomRight = {"x":  300, "y":  300};\n    this.parentEdgeId = null;\n  }\n\n\n  /**\n   *  Revert the position and velocity of the previous step.\n   */\n  Node.prototype.revertPosition = function() {\n    this.x = this.previousState.x;\n    this.y = this.previousState.y;\n    this.vx = this.previousState.vx;\n    this.vy = this.previousState.vy;\n  }\n\n\n  /**\n   * (re)setting the clustering variables and objects\n   */\n  Node.prototype.resetCluster = function() {\n    // clustering variables\n    this.formationScale = undefined; // this is used to determine when to open the cluster\n    this.clusterSize = 1;            // this signifies the total amount of nodes in this cluster\n    this.containedNodes = {};\n    this.containedEdges = {};\n    this.clusterSessions = [];\n  };\n\n  /**\n   * Attach a edge to the node\n   * @param {Edge} edge\n   */\n  Node.prototype.attachEdge = function(edge) {\n    if (this.edges.indexOf(edge) == -1) {\n      this.edges.push(edge);\n    }\n    if (this.dynamicEdges.indexOf(edge) == -1) {\n      this.dynamicEdges.push(edge);\n    }\n  };\n\n  /**\n   * Detach a edge from the node\n   * @param {Edge} edge\n   */\n  Node.prototype.detachEdge = function(edge) {\n    var index = this.edges.indexOf(edge);\n    if (index != -1) {\n      this.edges.splice(index, 1);\n    }\n    index = this.dynamicEdges.indexOf(edge);\n    if (index != -1) {\n      this.dynamicEdges.splice(index, 1);\n    }\n  };\n\n\n  /**\n   * Set or overwrite properties for the node\n   * @param {Object} properties an object with properties\n   * @param {Object} constants  and object with default, global properties\n   */\n  Node.prototype.setProperties = function(properties, constants) {\n    if (!properties) {\n      return;\n    }\n\n    var fields = [\'borderWidth\',\'borderWidthSelected\',\'shape\',\'image\',\'brokenImage\',\'radius\',\'fontColor\',\n      \'fontSize\',\'fontFace\',\'fontFill\',\'fontStrokeWidth\',\'fontStrokeColor\',\'group\',\'mass\',\'fontDrawThreshold\',\n      \'scaleFontWithValue\',\'fontSizeMaxVisible\',\'customScalingFunction\',\'iconFontFace\', \'icon\', \'iconColor\', \'iconSize\'\n    ];\n    util.selectiveDeepExtend(fields, this.options, properties);\n\n    // basic properties\n    if (properties.id !== undefined)        {this.id = properties.id;}\n    if (properties.label !== undefined)     {this.label = properties.label; this.originalLabel = properties.label;}\n    if (properties.title !== undefined)     {this.title = properties.title;}\n    if (properties.x !== undefined)         {this.x = properties.x; this.predefinedPosition = true;}\n    if (properties.y !== undefined)         {this.y = properties.y; this.predefinedPosition = true;}\n    if (properties.value !== undefined)     {this.value = properties.value;}\n    if (properties.level !== undefined)     {this.level = properties.level; this.preassignedLevel = true;}\n\n    // navigation controls properties\n    if (properties.horizontalAlignLeft !== undefined) {this.horizontalAlignLeft = properties.horizontalAlignLeft;}\n    if (properties.verticalAlignTop    !== undefined) {this.verticalAlignTop    = properties.verticalAlignTop;}\n    if (properties.triggerFunction     !== undefined) {this.triggerFunction     = properties.triggerFunction;}\n\n    if (this.id === undefined) {\n      throw "Node must have an id";\n    }\n\n    // copy group properties\n    if (typeof properties.group === \'number\' || (typeof properties.group === \'string\' && properties.group != \'\')) {\n      var groupObj = this.grouplist.get(properties.group);\n      util.deepExtend(this.options, groupObj);\n      // the color object needs to be completely defined. Since groups can partially overwrite the colors, we parse it again, just in case.\n      this.options.color = util.parseColor(this.options.color);\n    }\n    // individual shape properties\n    if (properties.radius !== undefined)         {this.baseRadiusValue = this.options.radius;}\n    if (properties.color !== undefined)          {this.options.color = util.parseColor(properties.color);}\n\n    if (this.options.image !== undefined && this.options.image!= "") {\n      if (this.imagelist) {\n        this.imageObj = this.imagelist.load(this.options.image, this.options.brokenImage);\n      }\n      else {\n        throw "No imagelist provided";\n      }\n    }\n\n    if (properties.allowedToMoveX !== undefined) {\n      this.xFixed = !properties.allowedToMoveX;\n      this.allowedToMoveX = properties.allowedToMoveX;\n    }\n    else if (properties.x !== undefined && this.allowedToMoveX == false) {\n      this.xFixed = true;\n    }\n\n\n    if (properties.allowedToMoveY !== undefined) {\n      this.yFixed = !properties.allowedToMoveY;\n      this.allowedToMoveY = properties.allowedToMoveY;\n    }\n    else if (properties.y !== undefined && this.allowedToMoveY == false) {\n      this.yFixed = true;\n    }\n\n    this.radiusFixed = this.radiusFixed || (properties.radius !== undefined);\n\n    if (this.options.shape === \'image\' || this.options.shape === \'circularImage\') {\n      this.options.radiusMin = constants.nodes.widthMin;\n      this.options.radiusMax = constants.nodes.widthMax;\n    }\n\n    // choose draw method depending on the shape\n    switch (this.options.shape) {\n      case \'database\':      this.draw = this._drawDatabase; this.resize = this._resizeDatabase; break;\n      case \'box\':           this.draw = this._drawBox; this.resize = this._resizeBox; break;\n      case \'circle\':        this.draw = this._drawCircle; this.resize = this._resizeCircle; break;\n      case \'ellipse\':       this.draw = this._drawEllipse; this.resize = this._resizeEllipse; break;\n      // TODO: add diamond shape\n      case \'image\':         this.draw = this._drawImage; this.resize = this._resizeImage; break;\n      case \'circularImage\': this.draw = this._drawCircularImage; this.resize = this._resizeCircularImage; break;\n      case \'text\':          this.draw = this._drawText; this.resize = this._resizeText; break;\n      case \'dot\':           this.draw = this._drawDot; this.resize = this._resizeShape; break;\n      case \'square\':        this.draw = this._drawSquare; this.resize = this._resizeShape; break;\n      case \'triangle\':      this.draw = this._drawTriangle; this.resize = this._resizeShape; break;\n      case \'triangleDown\':  this.draw = this._drawTriangleDown; this.resize = this._resizeShape; break;\n      case \'star\':          this.draw = this._drawStar; this.resize = this._resizeShape; break;\n      case \'icon\':          this.draw = this._drawIcon; this.resize = this._resizeIcon; break;\n      default:              this.draw = this._drawEllipse; this.resize = this._resizeEllipse; break;\n    }\n    // reset the size of the node, this can be changed\n    this._reset();\n\n  };\n\n  /**\n   * select this node\n   */\n  Node.prototype.select = function() {\n    this.selected = true;\n    this._reset();\n  };\n\n  /**\n   * unselect this node\n   */\n  Node.prototype.unselect = function() {\n    this.selected = false;\n    this._reset();\n  };\n\n\n  /**\n   * Reset the calculated size of the node, forces it to recalculate its size\n   */\n  Node.prototype.clearSizeCache = function() {\n    this._reset();\n  };\n\n  /**\n   * Reset the calculated size of the node, forces it to recalculate its size\n   * @private\n   */\n  Node.prototype._reset = function() {\n    this.width = undefined;\n    this.height = undefined;\n  };\n\n  /**\n   * get the title of this node.\n   * @return {string} title    The title of the node, or undefined when no title\n   *                           has been set.\n   */\n  Node.prototype.getTitle = function() {\n    return typeof this.title === "function" ? this.title() : this.title;\n  };\n\n  /**\n   * Calculate the distance to the border of the Node\n   * @param {CanvasRenderingContext2D}   ctx\n   * @param {Number} angle        Angle in radians\n   * @returns {number} distance   Distance to the border in pixels\n   */\n  Node.prototype.distanceToBorder = function (ctx, angle) {\n    var borderWidth = 1;\n\n    if (!this.width) {\n      this.resize(ctx);\n    }\n\n    switch (this.options.shape) {\n      case \'circle\':\n      case \'dot\':\n        return this.options.radius+ borderWidth;\n\n      case \'ellipse\':\n        var a = this.width / 2;\n        var b = this.height / 2;\n        var w = (Math.sin(angle) * a);\n        var h = (Math.cos(angle) * b);\n        return a * b / Math.sqrt(w * w + h * h);\n\n      // TODO: implement distanceToBorder for database\n      // TODO: implement distanceToBorder for triangle\n      // TODO: implement distanceToBorder for triangleDown\n\n      case \'box\':\n      case \'image\':\n      case \'text\':\n      default:\n        if (this.width) {\n          return Math.min(\n              Math.abs(this.width / 2 / Math.cos(angle)),\n              Math.abs(this.height / 2 / Math.sin(angle))) + borderWidth;\n          // TODO: reckon with border radius too in case of box\n        }\n        else {\n          return 0;\n        }\n\n    }\n    // TODO: implement calculation of distance to border for all shapes\n  };\n\n  /**\n   * Set forces acting on the node\n   * @param {number} fx   Force in horizontal direction\n   * @param {number} fy   Force in vertical direction\n   */\n  Node.prototype._setForce = function(fx, fy) {\n    this.fx = fx;\n    this.fy = fy;\n  };\n\n  /**\n   * Add forces acting on the node\n   * @param {number} fx   Force in horizontal direction\n   * @param {number} fy   Force in vertical direction\n   * @private\n   */\n  Node.prototype._addForce = function(fx, fy) {\n    this.fx += fx;\n    this.fy += fy;\n  };\n\n  /**\n   * Store the state before the next step\n   */\n  Node.prototype.storeState = function() {\n    this.previousState.x = this.x;\n    this.previousState.y = this.y;\n    this.previousState.vx = this.vx;\n    this.previousState.vy = this.vy;\n  }\n\n  /**\n   * Perform one discrete step for the node\n   * @param {number} interval    Time interval in seconds\n   */\n  Node.prototype.discreteStep = function(interval) {\n    this.storeState();\n    if (!this.xFixed) {\n      var dx   = this.damping * this.vx;     // damping force\n      var ax   = (this.fx - dx) / this.options.mass;  // acceleration\n      this.vx += ax * interval;               // velocity\n      this.x  += this.vx * interval;          // position\n    }\n    else {\n      this.fx = 0;\n      this.vx = 0;\n    }\n\n    if (!this.yFixed) {\n      var dy   = this.damping * this.vy;     // damping force\n      var ay   = (this.fy - dy) / this.options.mass;  // acceleration\n      this.vy += ay * interval;               // velocity\n      this.y  += this.vy * interval;          // position\n    }\n    else {\n      this.fy = 0;\n      this.vy = 0;\n    }\n  };\n\n\n\n  /**\n   * Perform one discrete step for the node\n   * @param {number} interval    Time interval in seconds\n   * @param {number} maxVelocity The speed limit imposed on the velocity\n   */\n  Node.prototype.discreteStepLimited = function(interval, maxVelocity) {\n    this.storeState();\n    if (!this.xFixed) {\n      var dx   = this.damping * this.vx;     // damping force\n      var ax   = (this.fx - dx) / this.options.mass;  // acceleration\n      this.vx += ax * interval;               // velocity\n      this.vx = (Math.abs(this.vx) > maxVelocity) ? ((this.vx > 0) ? maxVelocity : -maxVelocity) : this.vx;\n      this.x  += this.vx * interval;          // position\n    }\n    else {\n      this.fx = 0;\n      this.vx = 0;\n    }\n\n    if (!this.yFixed) {\n      var dy   = this.damping * this.vy;     // damping force\n      var ay   = (this.fy - dy) / this.options.mass;  // acceleration\n      this.vy += ay * interval;               // velocity\n      this.vy = (Math.abs(this.vy) > maxVelocity) ? ((this.vy > 0) ? maxVelocity : -maxVelocity) : this.vy;\n      this.y  += this.vy * interval;          // position\n    }\n    else {\n      this.fy = 0;\n      this.vy = 0;\n    }\n  };\n\n  /**\n   * Check if this node has a fixed x and y position\n   * @return {boolean}      true if fixed, false if not\n   */\n  Node.prototype.isFixed = function() {\n    return (this.xFixed && this.yFixed);\n  };\n\n  /**\n   * Check if this node is moving\n   * @param {number} vmin   the minimum velocity considered as "moving"\n   * @return {boolean}      true if moving, false if it has no velocity\n   */\n  Node.prototype.isMoving = function(vmin) {\n    var velocity = Math.sqrt(Math.pow(this.vx,2) + Math.pow(this.vy,2));\n  //  this.velocity = Math.sqrt(Math.pow(this.vx,2) + Math.pow(this.vy,2))\n    return (velocity > vmin);\n  };\n\n  /**\n   * check if this node is selecte\n   * @return {boolean} selected   True if node is selected, else false\n   */\n  Node.prototype.isSelected = function() {\n    return this.selected;\n  };\n\n  /**\n   * Retrieve the value of the node. Can be undefined\n   * @return {Number} value\n   */\n  Node.prototype.getValue = function() {\n    return this.value;\n  };\n\n  /**\n   * Calculate the distance from the nodes location to the given location (x,y)\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} value\n   */\n  Node.prototype.getDistance = function(x, y) {\n    var dx = this.x - x,\n        dy = this.y - y;\n    return Math.sqrt(dx * dx + dy * dy);\n  };\n\n\n  /**\n   * Adjust the value range of the node. The node will adjust it\'s radius\n   * based on its value.\n   * @param {Number} min\n   * @param {Number} max\n   */\n  Node.prototype.setValueRange = function(min, max, total) {\n    if (!this.radiusFixed && this.value !== undefined) {\n      var scale = this.options.customScalingFunction(min, max, total, this.value);\n      var radiusDiff = this.options.radiusMax - this.options.radiusMin;\n      if (this.options.scaleFontWithValue == true) {\n        var fontDiff = this.options.fontSizeMax - this.options.fontSizeMin;\n        this.options.fontSize = this.options.fontSizeMin + scale * fontDiff;\n      }\n      this.options.radius = this.options.radiusMin + scale * radiusDiff;\n    }\n\n    this.baseRadiusValue = this.options.radius;\n  };\n\n  /**\n   * Draw this node in the given canvas\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext("2d");\n   * @param {CanvasRenderingContext2D}   ctx\n   */\n  Node.prototype.draw = function(ctx) {\n    throw "Draw method not initialized for node";\n  };\n\n  /**\n   * Recalculate the size of this node in the given canvas\n   * The 2d context of a HTML canvas can be retrieved by canvas.getContext("2d");\n   * @param {CanvasRenderingContext2D}   ctx\n   */\n  Node.prototype.resize = function(ctx) {\n    throw "Resize method not initialized for node";\n  };\n\n  /**\n   * Check if this object is overlapping with the provided object\n   * @param {Object} obj   an object with parameters left, top, right, bottom\n   * @return {boolean}     True if location is located on node\n   */\n  Node.prototype.isOverlappingWith = function(obj) {\n    return (this.left              < obj.right  &&\n            this.left + this.width > obj.left   &&\n            this.top               < obj.bottom &&\n            this.top + this.height > obj.top);\n  };\n\n  Node.prototype._resizeImage = function (ctx) {\n    // TODO: pre calculate the image size\n\n    if (!this.width || !this.height) {  // undefined or 0\n      var width, height;\n      if (this.value) {\n        this.options.radius= this.baseRadiusValue;\n        var scale = this.imageObj.height / this.imageObj.width;\n        if (scale !== undefined) {\n          width = this.options.radius|| this.imageObj.width;\n          height = this.options.radius* scale || this.imageObj.height;\n        }\n        else {\n          width = 0;\n          height = 0;\n        }\n      }\n      else {\n        width = this.imageObj.width;\n        height = this.imageObj.height;\n      }\n      this.width  = width;\n      this.height = height;\n\n      this.growthIndicator = 0;\n      if (this.width > 0 && this.height > 0) {\n        this.width  += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements)  * this.clusterSizeWidthFactor;\n        this.height += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeHeightFactor;\n        this.options.radius+= Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeRadiusFactor;\n        this.growthIndicator = this.width - width;\n      }\n    }\n  };\n\n  Node.prototype._drawImageAtPosition = function (ctx) {\n    if (this.imageObj.width != 0 ) {\n      // draw the shade\n      if (this.clusterSize > 1) {\n        var lineWidth = ((this.clusterSize > 1) ? 10 : 0.0);\n        lineWidth *= this.networkScaleInv;\n        lineWidth = Math.min(0.2 * this.width,lineWidth);\n\n        ctx.globalAlpha = 0.5;\n        ctx.drawImage(this.imageObj, this.left - lineWidth, this.top - lineWidth, this.width + 2*lineWidth, this.height + 2*lineWidth);\n      }\n\n      // draw the image\n      ctx.globalAlpha = 1.0;\n      ctx.drawImage(this.imageObj, this.left, this.top, this.width, this.height);\n    }\n  };\n\n  Node.prototype._drawImageLabel = function (ctx) {\n    var yLabel;\n    var offset = 0;\n    \n    if (this.height){\n      offset = this.height / 2;\n      var labelDimensions = this.getTextSize(ctx);\n        \n      if (labelDimensions.lineCount >= 1){\n        offset += labelDimensions.height / 2;\n        offset += 3;\n      }\n    }\n    \n    yLabel = this.y + offset;\n\n    this._label(ctx, this.label, this.x, yLabel, undefined);\n  };\n\n  Node.prototype._drawImage = function (ctx) {\n    this._resizeImage(ctx);\n    this.left   = this.x - this.width / 2;\n    this.top    = this.y - this.height / 2;\n\n    this._drawImageAtPosition(ctx);\n\n    this.boundingBox.top = this.top;\n    this.boundingBox.left = this.left;\n    this.boundingBox.right = this.left + this.width;\n    this.boundingBox.bottom = this.top + this.height;\n\n    this._drawImageLabel(ctx);\n    this.boundingBox.left = Math.min(this.boundingBox.left, this.labelDimensions.left);\n    this.boundingBox.right = Math.max(this.boundingBox.right, this.labelDimensions.left + this.labelDimensions.width);\n    this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelDimensions.height);\n  };\n\n  Node.prototype._resizeCircularImage = function (ctx) {\n    if(!this.imageObj.src || !this.imageObj.width || !this.imageObj.height){\n      if (!this.width) {\n        var diameter = this.options.radius * 2;\n        this.width = diameter;\n        this.height = diameter;\n\n        // scaling used for clustering\n        //this.width  += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeWidthFactor;\n        //this.height += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeHeightFactor;\n        this.options.radius += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeRadiusFactor;\n        this.growthIndicator = this.options.radius- 0.5*diameter;\n        this._swapToImageResizeWhenImageLoaded = true;\n      }\n    }\n    else {\n      if (this._swapToImageResizeWhenImageLoaded) {\n        this.width = 0;\n        this.height = 0;\n        delete this._swapToImageResizeWhenImageLoaded;\n      }\n      this._resizeImage(ctx);\n    }\n\n  };\n\n  Node.prototype._drawCircularImage = function (ctx) {\n    this._resizeCircularImage(ctx);\n\n    this.left   = this.x - this.width / 2;\n    this.top    = this.y - this.height / 2;\n    \n    var centerX = this.left + (this.width / 2);\n    var centerY = this.top + (this.height / 2);\n    var radius = Math.abs(this.height / 2);\n\n    this._drawRawCircle(ctx, centerX, centerY, radius);\n\n    ctx.save();\n    ctx.circle(this.x, this.y, radius);\n    ctx.stroke();\n    ctx.clip();\n\n    this._drawImageAtPosition(ctx);\n\n    ctx.restore();\n\n    this.boundingBox.top = this.y - this.options.radius;\n    this.boundingBox.left = this.x - this.options.radius;\n    this.boundingBox.right = this.x + this.options.radius;\n    this.boundingBox.bottom = this.y + this.options.radius;\n\n    this._drawImageLabel(ctx); \n    \n    this.boundingBox.left = Math.min(this.boundingBox.left, this.labelDimensions.left);\n    this.boundingBox.right = Math.max(this.boundingBox.right, this.labelDimensions.left + this.labelDimensions.width);\n    this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelDimensions.height);\n  };\n\n  Node.prototype._resizeBox = function (ctx) {\n    if (!this.width) {\n      var margin = 5;\n      var textSize = this.getTextSize(ctx);\n      this.width = textSize.width + 2 * margin;\n      this.height = textSize.height + 2 * margin;\n\n      this.width  += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeWidthFactor;\n      this.height += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeHeightFactor;\n      this.growthIndicator = this.width - (textSize.width + 2 * margin);\n  //    this.options.radius+= Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeRadiusFactor;\n\n    }\n  };\n\n  Node.prototype._drawBox = function (ctx) {\n    this._resizeBox(ctx);\n\n    this.left = this.x - this.width / 2;\n    this.top = this.y - this.height / 2;\n\n    var clusterLineWidth = 2.5;\n    var borderWidth = this.options.borderWidth;\n    var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n\n    ctx.strokeStyle = this.selected ? this.options.color.highlight.border : this.hover ? this.options.color.hover.border : this.options.color.border;\n\n    // draw the outer border\n    if (this.clusterSize > 1) {\n      ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n      ctx.lineWidth *= this.networkScaleInv;\n      ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n      ctx.roundRect(this.left-2*ctx.lineWidth, this.top-2*ctx.lineWidth, this.width+4*ctx.lineWidth, this.height+4*ctx.lineWidth, this.options.radius);\n      ctx.stroke();\n    }\n    ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n    ctx.lineWidth *= this.networkScaleInv;\n    ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n    ctx.fillStyle = this.selected ? this.options.color.highlight.background : this.hover ? this.options.color.hover.background : this.options.color.background;\n\n    ctx.roundRect(this.left, this.top, this.width, this.height, this.options.radius);\n    ctx.fill();\n    ctx.stroke();\n\n    this.boundingBox.top = this.top;\n    this.boundingBox.left = this.left;\n    this.boundingBox.right = this.left + this.width;\n    this.boundingBox.bottom = this.top + this.height;\n\n    this._label(ctx, this.label, this.x, this.y);\n  };\n\n\n  Node.prototype._resizeDatabase = function (ctx) {\n    if (!this.width) {\n      var margin = 5;\n      var textSize = this.getTextSize(ctx);\n      var size = textSize.width + 2 * margin;\n      this.width = size;\n      this.height = size;\n\n      // scaling used for clustering\n      this.width  += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeWidthFactor;\n      this.height += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeHeightFactor;\n      this.options.radius+= Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeRadiusFactor;\n      this.growthIndicator = this.width - size;\n    }\n  };\n\n  Node.prototype._drawDatabase = function (ctx) {\n    this._resizeDatabase(ctx);\n    this.left = this.x - this.width / 2;\n    this.top = this.y - this.height / 2;\n\n    var clusterLineWidth = 2.5;\n    var borderWidth = this.options.borderWidth;\n    var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n\n    ctx.strokeStyle = this.selected ? this.options.color.highlight.border : this.hover ? this.options.color.hover.border : this.options.color.border;\n\n    // draw the outer border\n    if (this.clusterSize > 1) {\n      ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n      ctx.lineWidth *= this.networkScaleInv;\n      ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n      ctx.database(this.x - this.width/2 - 2*ctx.lineWidth, this.y - this.height*0.5 - 2*ctx.lineWidth, this.width + 4*ctx.lineWidth, this.height + 4*ctx.lineWidth);\n      ctx.stroke();\n    }\n    ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n    ctx.lineWidth *= this.networkScaleInv;\n    ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n    ctx.fillStyle = this.selected ? this.options.color.highlight.background : this.hover ? this.options.color.hover.background : this.options.color.background;\n    ctx.database(this.x - this.width/2, this.y - this.height*0.5, this.width, this.height);\n    ctx.fill();\n    ctx.stroke();\n\n    this.boundingBox.top = this.top;\n    this.boundingBox.left = this.left;\n    this.boundingBox.right = this.left + this.width;\n    this.boundingBox.bottom = this.top + this.height;\n\n    this._label(ctx, this.label, this.x, this.y);\n  };\n\n\n  Node.prototype._resizeCircle = function (ctx) {\n    if (!this.width) {\n      var margin = 5;\n      var textSize = this.getTextSize(ctx);\n      var diameter = Math.max(textSize.width, textSize.height) + 2 * margin;\n      this.options.radius = diameter / 2;\n\n      this.width = diameter;\n      this.height = diameter;\n\n      // scaling used for clustering\n  //    this.width  += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeWidthFactor;\n  //    this.height += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeHeightFactor;\n      this.options.radius += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeRadiusFactor;\n      this.growthIndicator = this.options.radius- 0.5*diameter;\n    }\n  };\n\n  Node.prototype._drawRawCircle = function (ctx, x, y, radius) {\n    var clusterLineWidth = 2.5;\n    var borderWidth = this.options.borderWidth;\n    var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n      \n    ctx.strokeStyle = this.selected ? this.options.color.highlight.border : this.hover ? this.options.color.hover.border : this.options.color.border;\n\n    // draw the outer border\n    if (this.clusterSize > 1) {\n      ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n      ctx.lineWidth *= this.networkScaleInv;\n      ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n      ctx.circle(x, y, radius+2*ctx.lineWidth);\n      ctx.stroke();\n    }\n    ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n    ctx.lineWidth *= this.networkScaleInv;\n    ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n    ctx.fillStyle = this.selected ? this.options.color.highlight.background : this.hover ? this.options.color.hover.background : this.options.color.background;\n    ctx.circle(this.x, this.y, radius);\n    ctx.fill();\n    ctx.stroke();\n  };\n\n  Node.prototype._drawCircle = function (ctx) {\n    this._resizeCircle(ctx);\n    this.left = this.x - this.width / 2;\n    this.top = this.y - this.height / 2;\n\n    this._drawRawCircle(ctx, this.x, this.y, this.options.radius);\n\n    this.boundingBox.top = this.y - this.options.radius;\n    this.boundingBox.left = this.x - this.options.radius;\n    this.boundingBox.right = this.x + this.options.radius;\n    this.boundingBox.bottom = this.y + this.options.radius;\n\n    this._label(ctx, this.label, this.x, this.y);\n  };\n\n  Node.prototype._resizeEllipse = function (ctx) {\n    if (!this.width) {\n      var textSize = this.getTextSize(ctx);\n\n      this.width = textSize.width * 1.5;\n      this.height = textSize.height * 2;\n      if (this.width < this.height) {\n        this.width = this.height;\n      }\n      var defaultSize = this.width;\n\n      // scaling used for clustering\n      this.width  += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeWidthFactor;\n      this.height += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeHeightFactor;\n      this.options.radius += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeRadiusFactor;\n      this.growthIndicator = this.width - defaultSize;\n    }\n  };\n\n  Node.prototype._drawEllipse = function (ctx) {\n    this._resizeEllipse(ctx);\n    this.left = this.x - this.width / 2;\n    this.top = this.y - this.height / 2;\n\n    var clusterLineWidth = 2.5;\n    var borderWidth = this.options.borderWidth;\n    var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n\n    ctx.strokeStyle = this.selected ? this.options.color.highlight.border : this.hover ? this.options.color.hover.border : this.options.color.border;\n\n    // draw the outer border\n    if (this.clusterSize > 1) {\n      ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n      ctx.lineWidth *= this.networkScaleInv;\n      ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n      ctx.ellipse(this.left-2*ctx.lineWidth, this.top-2*ctx.lineWidth, this.width+4*ctx.lineWidth, this.height+4*ctx.lineWidth);\n      ctx.stroke();\n    }\n    ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n    ctx.lineWidth *= this.networkScaleInv;\n    ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n    ctx.fillStyle = this.selected ? this.options.color.highlight.background : this.hover ? this.options.color.hover.background : this.options.color.background;\n\n    ctx.ellipse(this.left, this.top, this.width, this.height);\n    ctx.fill();\n    ctx.stroke();\n\n    this.boundingBox.top = this.top;\n    this.boundingBox.left = this.left;\n    this.boundingBox.right = this.left + this.width;\n    this.boundingBox.bottom = this.top + this.height;\n\n    this._label(ctx, this.label, this.x, this.y);\n  };\n\n  Node.prototype._drawDot = function (ctx) {\n    this._drawShape(ctx, \'circle\');\n  };\n\n  Node.prototype._drawTriangle = function (ctx) {\n    this._drawShape(ctx, \'triangle\');\n  };\n\n  Node.prototype._drawTriangleDown = function (ctx) {\n    this._drawShape(ctx, \'triangleDown\');\n  };\n\n  Node.prototype._drawSquare = function (ctx) {\n    this._drawShape(ctx, \'square\');\n  };\n\n  Node.prototype._drawStar = function (ctx) {\n    this._drawShape(ctx, \'star\');\n  };\n\n  Node.prototype._resizeShape = function (ctx) {\n    if (!this.width) {\n      this.options.radius= this.baseRadiusValue;\n      var size = 2 * this.options.radius;\n      this.width = size;\n      this.height = size;\n\n      // scaling used for clustering\n      this.width  += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeWidthFactor;\n      this.height += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeHeightFactor;\n      this.options.radius+= Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * 0.5 * this.clusterSizeRadiusFactor;\n      this.growthIndicator = this.width - size;\n    }\n  };\n\n  Node.prototype._drawShape = function (ctx, shape) {\n    this._resizeShape(ctx);\n\n    this.left = this.x - this.width / 2;\n    this.top = this.y - this.height / 2;\n\n    var clusterLineWidth = 2.5;\n    var borderWidth = this.options.borderWidth;\n    var selectionLineWidth = this.options.borderWidthSelected || 2 * this.options.borderWidth;\n    var radiusMultiplier = 2;\n\n    // choose draw method depending on the shape\n    switch (shape) {\n      case \'dot\':           radiusMultiplier = 2; break;\n      case \'square\':        radiusMultiplier = 2; break;\n      case \'triangle\':      radiusMultiplier = 3; break;\n      case \'triangleDown\':  radiusMultiplier = 3; break;\n      case \'star\':          radiusMultiplier = 4; break;\n    }\n\n    ctx.strokeStyle = this.selected ? this.options.color.highlight.border : this.hover ? this.options.color.hover.border : this.options.color.border;\n    // draw the outer border\n    if (this.clusterSize > 1) {\n      ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n      ctx.lineWidth *= this.networkScaleInv;\n      ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n      ctx[shape](this.x, this.y, this.options.radius+ radiusMultiplier * ctx.lineWidth);\n      ctx.stroke();\n    }\n    ctx.lineWidth = (this.selected ? selectionLineWidth : borderWidth) + ((this.clusterSize > 1) ? clusterLineWidth : 0.0);\n    ctx.lineWidth *= this.networkScaleInv;\n    ctx.lineWidth = Math.min(this.width,ctx.lineWidth);\n\n    ctx.fillStyle = this.selected ? this.options.color.highlight.background : this.hover ? this.options.color.hover.background : this.options.color.background;\n    ctx[shape](this.x, this.y, this.options.radius);\n    ctx.fill();\n    ctx.stroke();\n\n    this.boundingBox.top = this.y - this.options.radius;\n    this.boundingBox.left = this.x - this.options.radius;\n    this.boundingBox.right = this.x + this.options.radius;\n    this.boundingBox.bottom = this.y + this.options.radius;\n\n    if (this.label) {\n      this._label(ctx, this.label, this.x, this.y + this.height / 2, undefined, \'hanging\',true);\n      this.boundingBox.left = Math.min(this.boundingBox.left, this.labelDimensions.left);\n      this.boundingBox.right = Math.max(this.boundingBox.right, this.labelDimensions.left + this.labelDimensions.width);\n      this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelDimensions.height);\n    }\n  };\n\n  Node.prototype._resizeText = function (ctx) {\n    if (!this.width) {\n      var margin = 5;\n      var textSize = this.getTextSize(ctx);\n      this.width = textSize.width + 2 * margin;\n      this.height = textSize.height + 2 * margin;\n\n      // scaling used for clustering\n      this.width  += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeWidthFactor;\n      this.height += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeHeightFactor;\n      this.options.radius+= Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeRadiusFactor;\n      this.growthIndicator = this.width - (textSize.width + 2 * margin);\n    }\n  };\n\n  Node.prototype._drawText = function (ctx) {\n    this._resizeText(ctx);\n    this.left = this.x - this.width / 2;\n    this.top = this.y - this.height / 2;\n\n    this._label(ctx, this.label, this.x, this.y);\n\n    this.boundingBox.top = this.top;\n    this.boundingBox.left = this.left;\n    this.boundingBox.right = this.left + this.width;\n    this.boundingBox.bottom = this.top + this.height;\n  };\n\n  Node.prototype._resizeIcon = function (ctx) {\n    if (!this.width) {\n      var margin = 5;\n      var iconSize =\n      {\n        width: Number(this.options.iconSize),\n        height: Number(this.options.iconSize)\n      };\n      this.width = iconSize.width + 2 * margin;\n      this.height = iconSize.height + 2 * margin;\n\n      // scaling used for clustering\n      this.width += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeWidthFactor;\n      this.height += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeHeightFactor;\n      this.options.radius += Math.min(this.clusterSize - 1, this.maxNodeSizeIncrements) * this.clusterSizeRadiusFactor;\n      this.growthIndicator = this.width - (iconSize.width + 2 * margin);\n    }\n  };\n\n  Node.prototype._drawIcon = function (ctx) {\n    this._resizeIcon(ctx);\n\n    this.options.iconSize = this.options.iconSize || 50;\n\n    this.left = this.x - this.width / 2;\n    this.top = this.y - this.height / 2;\n    this._icon(ctx);\n\n\n    this.boundingBox.top = this.y - this.options.iconSize/2;\n    this.boundingBox.left = this.x - this.options.iconSize/2;\n    this.boundingBox.right = this.x + this.options.iconSize/2;\n    this.boundingBox.bottom = this.y + this.options.iconSize/2;\n\n    if (this.label) {\n      var iconTextSpacing = 5;\n      this._label(ctx, this.label, this.x, this.y + this.height / 2 + iconTextSpacing, \'top\', true);\n\n      this.boundingBox.left = Math.min(this.boundingBox.left, this.labelDimensions.left);\n      this.boundingBox.right = Math.max(this.boundingBox.right, this.labelDimensions.left + this.labelDimensions.width);\n      this.boundingBox.bottom = Math.max(this.boundingBox.bottom, this.boundingBox.bottom + this.labelDimensions.height);\n    }\n  };\n\n  Node.prototype._icon = function (ctx) {\n    var relativeIconSize = Number(this.options.iconSize) * this.networkScale;\n    \n    if (this.options.icon && relativeIconSize > this.options.fontDrawThreshold - 1) {\n\n        var iconSize = Number(this.options.iconSize);\n\n        ctx.font = (this.selected ? "bold " : "") + iconSize + "px " + this.options.iconFontFace;\n\n        // draw icon\n        ctx.fillStyle = this.options.iconColor || "black";\n        ctx.textAlign = "center";\n        ctx.textBaseline = "middle";\n        ctx.fillText(this.options.icon, this.x, this.y);\n    }\n  };\n    \n  Node.prototype._label = function (ctx, text, x, y, align, baseline, labelUnderNode) {\n    var relativeFontSize = Number(this.options.fontSize) * this.networkScale;\n    if (text && relativeFontSize >= this.options.fontDrawThreshold - 1) {\n      var fontSize = Number(this.options.fontSize);\n\n      // this ensures that there will not be HUGE letters on screen by setting an upper limit on the visible text size (regardless of zoomLevel)\n      if (relativeFontSize >= this.options.fontSizeMaxVisible) {\n        fontSize = Number(this.options.fontSizeMaxVisible) * this.networkScaleInv;\n      }\n\n      // fade in when relative scale is between threshold and threshold - 1\n      var fontColor = this.options.fontColor || "#000000";\n      var strokecolor = this.options.fontStrokeColor;\n      if (relativeFontSize <= this.options.fontDrawThreshold) {\n        var opacity = Math.max(0,Math.min(1,1 - (this.options.fontDrawThreshold - relativeFontSize)));\n        fontColor   = util.overrideOpacity(fontColor,   opacity);\n        strokecolor = util.overrideOpacity(strokecolor, opacity);\n\n      }\n\n      ctx.font = (this.selected ? "bold " : "") + fontSize + "px " + this.options.fontFace;\n\n      var lines = text.split(\'\\n\');\n      var lineCount = lines.length;\n      var yLine = y + (1 - lineCount) / 2 * fontSize;\n      if (labelUnderNode == true) {\n        yLine = y + (1 - lineCount) / (2 * fontSize);\n      }\n\n      // font fill from edges now for nodes!\n      var width = ctx.measureText(lines[0]).width;\n      for (var i = 1; i < lineCount; i++) {\n        var lineWidth = ctx.measureText(lines[i]).width;\n        width = lineWidth > width ? lineWidth : width;\n      }\n      var height = fontSize * lineCount;\n      var left = x - width / 2;\n      var top = y - height / 2;\n      if (baseline == "hanging") {\n        top += 0.5 * fontSize;\n        top += 4;   // distance from node, required because we use hanging. Hanging has less difference between browsers\n        yLine += 4; // distance from node\n      }\n      this.labelDimensions = {top:top,left:left,width:width,height:height,yLine:yLine};\n\n      // create the fontfill background\n      if (this.options.fontFill !== undefined && this.options.fontFill !== null && this.options.fontFill !== "none") {\n        ctx.fillStyle = this.options.fontFill;\n        ctx.fillRect(left, top, width, height);\n      }\n\n      // draw text\n      ctx.fillStyle = fontColor;\n      ctx.textAlign = align || "center";\n      ctx.textBaseline = baseline || "middle";\n      if (this.options.fontStrokeWidth > 0){\n        ctx.lineWidth   = this.options.fontStrokeWidth;\n        ctx.strokeStyle = strokecolor;\n        ctx.lineJoin    = \'round\';\n      }\n      for (var i = 0; i < lineCount; i++) {\n        if(this.options.fontStrokeWidth){\n          ctx.strokeText(lines[i], x, yLine);\n        }\n        ctx.fillText(lines[i], x, yLine);\n        yLine += fontSize;\n      }\n    }\n  };\n\n\n  Node.prototype.getTextSize = function(ctx) {\n    if (this.label !== undefined) {\n      var fontSize = Number(this.options.fontSize);\n      if (fontSize * this.networkScale > this.options.fontSizeMaxVisible) {\n        fontSize = Number(this.options.fontSizeMaxVisible) * this.networkScaleInv;\n      }\n      ctx.font = (this.selected ? "bold " : "") + fontSize + "px " + this.options.fontFace;\n\n      var lines = this.label.split(\'\\n\'),\n          height = (fontSize + 4) * lines.length,\n          width = 0;\n\n      for (var i = 0, iMax = lines.length; i < iMax; i++) {\n        width = Math.max(width, ctx.measureText(lines[i]).width);\n      }\n\n      return {"width": width, "height": height, lineCount: lines.length};\n    }\n    else {\n      return {"width": 0, "height": 0, lineCount: 0};\n    }\n  };\n\n  /**\n   * this is used to determine if a node is visible at all. this is used to determine when it needs to be drawn.\n   * there is a safety margin of 0.3 * width;\n   *\n   * @returns {boolean}\n   */\n  Node.prototype.inArea = function() {\n    if (this.width !== undefined) {\n    return (this.x + this.width *this.networkScaleInv  >= this.canvasTopLeft.x     &&\n            this.x - this.width *this.networkScaleInv  <  this.canvasBottomRight.x &&\n            this.y + this.height*this.networkScaleInv  >= this.canvasTopLeft.y     &&\n            this.y - this.height*this.networkScaleInv  <  this.canvasBottomRight.y);\n    }\n    else {\n      return true;\n    }\n  };\n\n  /**\n   * checks if the core of the node is in the display area, this is used for opening clusters around zoom\n   * @returns {boolean}\n   */\n  Node.prototype.inView = function() {\n    return (this.x >= this.canvasTopLeft.x    &&\n            this.x < this.canvasBottomRight.x &&\n            this.y >= this.canvasTopLeft.y    &&\n            this.y < this.canvasBottomRight.y);\n  };\n\n  /**\n   * This allows the zoom level of the network to influence the rendering\n   * We store the inverted scale and the coordinates of the top left, and bottom right points of the canvas\n   *\n   * @param scale\n   * @param canvasTopLeft\n   * @param canvasBottomRight\n   */\n  Node.prototype.setScaleAndPos = function(scale,canvasTopLeft,canvasBottomRight) {\n    this.networkScaleInv = 1.0/scale;\n    this.networkScale = scale;\n    this.canvasTopLeft = canvasTopLeft;\n    this.canvasBottomRight = canvasBottomRight;\n  };\n\n\n  /**\n   * This allows the zoom level of the network to influence the rendering\n   *\n   * @param scale\n   */\n  Node.prototype.setScale = function(scale) {\n    this.networkScaleInv = 1.0/scale;\n    this.networkScale = scale;\n  };\n\n\n\n  /**\n   * set the velocity at 0. Is called when this node is contained in another during clustering\n   */\n  Node.prototype.clearVelocity = function() {\n    this.vx = 0;\n    this.vy = 0;\n  };\n\n\n  /**\n   * Basic preservation of (kinectic) energy\n   *\n   * @param massBeforeClustering\n   */\n  Node.prototype.updateVelocity = function(massBeforeClustering) {\n    var energyBefore = this.vx * this.vx * massBeforeClustering;\n    //this.vx = (this.vx < 0) ? -Math.sqrt(energyBefore/this.options.mass) : Math.sqrt(energyBefore/this.options.mass);\n    this.vx = Math.sqrt(energyBefore/this.options.mass);\n    energyBefore = this.vy * this.vy * massBeforeClustering;\n    //this.vy = (this.vy < 0) ? -Math.sqrt(energyBefore/this.options.mass) : Math.sqrt(energyBefore/this.options.mass);\n    this.vy = Math.sqrt(energyBefore/this.options.mass);\n  };\n\n  module.exports = Node;\n\n\n/***/ },\n/* 41 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Popup is a class to create a popup window with some text\n   * @param {Element}  container     The container object.\n   * @param {Number} [x]\n   * @param {Number} [y]\n   * @param {String} [text]\n   * @param {Object} [style]     An object containing borderColor,\n   *                             backgroundColor, etc.\n   */\n  function Popup(container, x, y, text, style) {\n    if (container) {\n      this.container = container;\n    }\n    else {\n      this.container = document.body;\n    }\n\n    // x, y and text are optional, see if a style object was passed in their place\n    if (style === undefined) {\n      if (typeof x === "object") {\n        style = x;\n        x = undefined;\n      } else if (typeof text === "object") {\n        style = text;\n        text = undefined;\n      } else {\n        // for backwards compatibility, in case clients other than Network are creating Popup directly\n        style = {\n          fontColor: \'black\',\n          fontSize: 14, // px\n          fontFace: \'verdana\',\n          color: {\n            border: \'#666\',\n            background: \'#FFFFC6\'\n          }\n        }\n      }\n    }\n\n    this.x = 0;\n    this.y = 0;\n    this.padding = 5;\n    this.hidden = false;\n\n    if (x !== undefined && y !== undefined) {\n      this.setPosition(x, y);\n    }\n    if (text !== undefined) {\n      this.setText(text);\n    }\n\n    // create the frame\n    this.frame = document.createElement(\'div\');\n    this.frame.className = \'network-tooltip\';\n    this.frame.style.color           = style.fontColor;\n    this.frame.style.backgroundColor = style.color.background;\n    this.frame.style.borderColor     = style.color.border;\n    this.frame.style.fontSize        = style.fontSize + \'px\';\n    this.frame.style.fontFamily      = style.fontFace;\n    this.container.appendChild(this.frame);\n  }\n\n  /**\n   * @param {number} x   Horizontal position of the popup window\n   * @param {number} y   Vertical position of the popup window\n   */\n  Popup.prototype.setPosition = function(x, y) {\n    this.x = parseInt(x);\n    this.y = parseInt(y);\n  };\n\n  /**\n   * Set the content for the popup window. This can be HTML code or text.\n   * @param {string | Element} content\n   */\n  Popup.prototype.setText = function(content) {\n    if (content instanceof Element) {\n      this.frame.innerHTML = \'\';\n      this.frame.appendChild(content);\n    }\n    else {\n      this.frame.innerHTML = content; // string containing text or HTML\n    }\n  };\n\n  /**\n   * Show the popup window\n   * @param {boolean} show    Optional. Show or hide the window\n   */\n  Popup.prototype.show = function (show) {\n    if (show === undefined) {\n      show = true;\n    }\n\n    if (show) {\n      var height = this.frame.clientHeight;\n      var width =  this.frame.clientWidth;\n      var maxHeight = this.frame.parentNode.clientHeight;\n      var maxWidth = this.frame.parentNode.clientWidth;\n\n      var top = (this.y - height);\n      if (top + height + this.padding > maxHeight) {\n        top = maxHeight - height - this.padding;\n      }\n      if (top < this.padding) {\n        top = this.padding;\n      }\n\n      var left = this.x;\n      if (left + width + this.padding > maxWidth) {\n        left = maxWidth - width - this.padding;\n      }\n      if (left < this.padding) {\n        left = this.padding;\n      }\n\n      this.frame.style.left = left + "px";\n      this.frame.style.top = top + "px";\n      this.frame.style.visibility = "visible";\n      this.hidden = false;\n    }\n    else {\n      this.hide();\n    }\n  };\n\n  /**\n   * Hide the popup window\n   */\n  Popup.prototype.hide = function () {\n    this.hidden = true;\n    this.frame.style.visibility = "hidden";\n  };\n\n  module.exports = Popup;\n\n\n/***/ },\n/* 42 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Parse a text source containing data in DOT language into a JSON object.\n   * The object contains two lists: one with nodes and one with edges.\n   *\n   * DOT language reference: http://www.graphviz.org/doc/info/lang.html\n   *\n   * @param {String} data     Text containing a graph in DOT-notation\n   * @return {Object} graph   An object containing two parameters:\n   *                          {Object[]} nodes\n   *                          {Object[]} edges\n   */\n  function parseDOT (data) {\n    dot = data;\n    return parseGraph();\n  }\n\n  // token types enumeration\n  var TOKENTYPE = {\n    NULL : 0,\n    DELIMITER : 1,\n    IDENTIFIER: 2,\n    UNKNOWN : 3\n  };\n\n  // map with all delimiters\n  var DELIMITERS = {\n    \'{\': true,\n    \'}\': true,\n    \'[\': true,\n    \']\': true,\n    \';\': true,\n    \'=\': true,\n    \',\': true,\n\n    \'->\': true,\n    \'--\': true\n  };\n\n  var dot = \'\';                   // current dot file\n  var index = 0;                  // current index in dot file\n  var c = \'\';                     // current token character in expr\n  var token = \'\';                 // current token\n  var tokenType = TOKENTYPE.NULL; // type of the token\n\n  /**\n   * Get the first character from the dot file.\n   * The character is stored into the char c. If the end of the dot file is\n   * reached, the function puts an empty string in c.\n   */\n  function first() {\n    index = 0;\n    c = dot.charAt(0);\n  }\n\n  /**\n   * Get the next character from the dot file.\n   * The character is stored into the char c. If the end of the dot file is\n   * reached, the function puts an empty string in c.\n   */\n  function next() {\n    index++;\n    c = dot.charAt(index);\n  }\n\n  /**\n   * Preview the next character from the dot file.\n   * @return {String} cNext\n   */\n  function nextPreview() {\n    return dot.charAt(index + 1);\n  }\n\n  /**\n   * Test whether given character is alphabetic or numeric\n   * @param {String} c\n   * @return {Boolean} isAlphaNumeric\n   */\n  var regexAlphaNumeric = /[a-zA-Z_0-9.:#]/;\n  function isAlphaNumeric(c) {\n    return regexAlphaNumeric.test(c);\n  }\n\n  /**\n   * Merge all properties of object b into object b\n   * @param {Object} a\n   * @param {Object} b\n   * @return {Object} a\n   */\n  function merge (a, b) {\n    if (!a) {\n      a = {};\n    }\n\n    if (b) {\n      for (var name in b) {\n        if (b.hasOwnProperty(name)) {\n          a[name] = b[name];\n        }\n      }\n    }\n    return a;\n  }\n\n  /**\n   * Set a value in an object, where the provided parameter name can be a\n   * path with nested parameters. For example:\n   *\n   *     var obj = {a: 2};\n   *     setValue(obj, \'b.c\', 3);     // obj = {a: 2, b: {c: 3}}\n   *\n   * @param {Object} obj\n   * @param {String} path  A parameter name or dot-separated parameter path,\n   *                      like "color.highlight.border".\n   * @param {*} value\n   */\n  function setValue(obj, path, value) {\n    var keys = path.split(\'.\');\n    var o = obj;\n    while (keys.length) {\n      var key = keys.shift();\n      if (keys.length) {\n        // this isn\'t the end point\n        if (!o[key]) {\n          o[key] = {};\n        }\n        o = o[key];\n      }\n      else {\n        // this is the end point\n        o[key] = value;\n      }\n    }\n  }\n\n  /**\n   * Add a node to a graph object. If there is already a node with\n   * the same id, their attributes will be merged.\n   * @param {Object} graph\n   * @param {Object} node\n   */\n  function addNode(graph, node) {\n    var i, len;\n    var current = null;\n\n    // find root graph (in case of subgraph)\n    var graphs = [graph]; // list with all graphs from current graph to root graph\n    var root = graph;\n    while (root.parent) {\n      graphs.push(root.parent);\n      root = root.parent;\n    }\n\n    // find existing node (at root level) by its id\n    if (root.nodes) {\n      for (i = 0, len = root.nodes.length; i < len; i++) {\n        if (node.id === root.nodes[i].id) {\n          current = root.nodes[i];\n          break;\n        }\n      }\n    }\n\n    if (!current) {\n      // this is a new node\n      current = {\n        id: node.id\n      };\n      if (graph.node) {\n        // clone default attributes\n        current.attr = merge(current.attr, graph.node);\n      }\n    }\n\n    // add node to this (sub)graph and all its parent graphs\n    for (i = graphs.length - 1; i >= 0; i--) {\n      var g = graphs[i];\n\n      if (!g.nodes) {\n        g.nodes = [];\n      }\n      if (g.nodes.indexOf(current) == -1) {\n        g.nodes.push(current);\n      }\n    }\n\n    // merge attributes\n    if (node.attr) {\n      current.attr = merge(current.attr, node.attr);\n    }\n  }\n\n  /**\n   * Add an edge to a graph object\n   * @param {Object} graph\n   * @param {Object} edge\n   */\n  function addEdge(graph, edge) {\n    if (!graph.edges) {\n      graph.edges = [];\n    }\n    graph.edges.push(edge);\n    if (graph.edge) {\n      var attr = merge({}, graph.edge);     // clone default attributes\n      edge.attr = merge(attr, edge.attr); // merge attributes\n    }\n  }\n\n  /**\n   * Create an edge to a graph object\n   * @param {Object} graph\n   * @param {String | Number | Object} from\n   * @param {String | Number | Object} to\n   * @param {String} type\n   * @param {Object | null} attr\n   * @return {Object} edge\n   */\n  function createEdge(graph, from, to, type, attr) {\n    var edge = {\n      from: from,\n      to: to,\n      type: type\n    };\n\n    if (graph.edge) {\n      edge.attr = merge({}, graph.edge);  // clone default attributes\n    }\n    edge.attr = merge(edge.attr || {}, attr); // merge attributes\n\n    return edge;\n  }\n\n  /**\n   * Get next token in the current dot file.\n   * The token and token type are available as token and tokenType\n   */\n  function getToken() {\n    tokenType = TOKENTYPE.NULL;\n    token = \'\';\n\n    // skip over whitespaces\n    while (c == \' \' || c == \'\\t\' || c == \'\\n\' || c == \'\\r\') {  // space, tab, enter\n      next();\n    }\n\n    do {\n      var isComment = false;\n\n      // skip comment\n      if (c == \'#\') {\n        // find the previous non-space character\n        var i = index - 1;\n        while (dot.charAt(i) == \' \' || dot.charAt(i) == \'\\t\') {\n          i--;\n        }\n        if (dot.charAt(i) == \'\\n\' || dot.charAt(i) == \'\') {\n          // the # is at the start of a line, this is indeed a line comment\n          while (c != \'\' && c != \'\\n\') {\n            next();\n          }\n          isComment = true;\n        }\n      }\n      if (c == \'/\' && nextPreview() == \'/\') {\n        // skip line comment\n        while (c != \'\' && c != \'\\n\') {\n          next();\n        }\n        isComment = true;\n      }\n      if (c == \'/\' && nextPreview() == \'*\') {\n        // skip block comment\n        while (c != \'\') {\n          if (c == \'*\' && nextPreview() == \'/\') {\n            // end of block comment found. skip these last two characters\n            next();\n            next();\n            break;\n          }\n          else {\n            next();\n          }\n        }\n        isComment = true;\n      }\n\n      // skip over whitespaces\n      while (c == \' \' || c == \'\\t\' || c == \'\\n\' || c == \'\\r\') {  // space, tab, enter\n        next();\n      }\n    }\n    while (isComment);\n\n    // check for end of dot file\n    if (c == \'\') {\n      // token is still empty\n      tokenType = TOKENTYPE.DELIMITER;\n      return;\n    }\n\n    // check for delimiters consisting of 2 characters\n    var c2 = c + nextPreview();\n    if (DELIMITERS[c2]) {\n      tokenType = TOKENTYPE.DELIMITER;\n      token = c2;\n      next();\n      next();\n      return;\n    }\n\n    // check for delimiters consisting of 1 character\n    if (DELIMITERS[c]) {\n      tokenType = TOKENTYPE.DELIMITER;\n      token = c;\n      next();\n      return;\n    }\n\n    // check for an identifier (number or string)\n    // TODO: more precise parsing of numbers/strings (and the port separator \':\')\n    if (isAlphaNumeric(c) || c == \'-\') {\n      token += c;\n      next();\n\n      while (isAlphaNumeric(c)) {\n        token += c;\n        next();\n      }\n      if (token == \'false\') {\n        token = false;   // convert to boolean\n      }\n      else if (token == \'true\') {\n        token = true;   // convert to boolean\n      }\n      else if (!isNaN(Number(token))) {\n        token = Number(token); // convert to number\n      }\n      tokenType = TOKENTYPE.IDENTIFIER;\n      return;\n    }\n\n    // check for a string enclosed by double quotes\n    if (c == \'"\') {\n      next();\n      while (c != \'\' && (c != \'"\' || (c == \'"\' && nextPreview() == \'"\'))) {\n        token += c;\n        if (c == \'"\') { // skip the escape character\n          next();\n        }\n        next();\n      }\n      if (c != \'"\') {\n        throw newSyntaxError(\'End of string " expected\');\n      }\n      next();\n      tokenType = TOKENTYPE.IDENTIFIER;\n      return;\n    }\n\n    // something unknown is found, wrong characters, a syntax error\n    tokenType = TOKENTYPE.UNKNOWN;\n    while (c != \'\') {\n      token += c;\n      next();\n    }\n    throw new SyntaxError(\'Syntax error in part "\' + chop(token, 30) + \'"\');\n  }\n\n  /**\n   * Parse a graph.\n   * @returns {Object} graph\n   */\n  function parseGraph() {\n    var graph = {};\n\n    first();\n    getToken();\n\n    // optional strict keyword\n    if (token == \'strict\') {\n      graph.strict = true;\n      getToken();\n    }\n\n    // graph or digraph keyword\n    if (token == \'graph\' || token == \'digraph\') {\n      graph.type = token;\n      getToken();\n    }\n\n    // optional graph id\n    if (tokenType == TOKENTYPE.IDENTIFIER) {\n      graph.id = token;\n      getToken();\n    }\n\n    // open angle bracket\n    if (token != \'{\') {\n      throw newSyntaxError(\'Angle bracket { expected\');\n    }\n    getToken();\n\n    // statements\n    parseStatements(graph);\n\n    // close angle bracket\n    if (token != \'}\') {\n      throw newSyntaxError(\'Angle bracket } expected\');\n    }\n    getToken();\n\n    // end of file\n    if (token !== \'\') {\n      throw newSyntaxError(\'End of file expected\');\n    }\n    getToken();\n\n    // remove temporary default properties\n    delete graph.node;\n    delete graph.edge;\n    delete graph.graph;\n\n    return graph;\n  }\n\n  /**\n   * Parse a list with statements.\n   * @param {Object} graph\n   */\n  function parseStatements (graph) {\n    while (token !== \'\' && token != \'}\') {\n      parseStatement(graph);\n      if (token == \';\') {\n        getToken();\n      }\n    }\n  }\n\n  /**\n   * Parse a single statement. Can be a an attribute statement, node\n   * statement, a series of node statements and edge statements, or a\n   * parameter.\n   * @param {Object} graph\n   */\n  function parseStatement(graph) {\n    // parse subgraph\n    var subgraph = parseSubgraph(graph);\n    if (subgraph) {\n      // edge statements\n      parseEdge(graph, subgraph);\n\n      return;\n    }\n\n    // parse an attribute statement\n    var attr = parseAttributeStatement(graph);\n    if (attr) {\n      return;\n    }\n\n    // parse node\n    if (tokenType != TOKENTYPE.IDENTIFIER) {\n      throw newSyntaxError(\'Identifier expected\');\n    }\n    var id = token; // id can be a string or a number\n    getToken();\n\n    if (token == \'=\') {\n      // id statement\n      getToken();\n      if (tokenType != TOKENTYPE.IDENTIFIER) {\n        throw newSyntaxError(\'Identifier expected\');\n      }\n      graph[id] = token;\n      getToken();\n      // TODO: implement comma separated list with "a_list: ID=ID [\',\'] [a_list] "\n    }\n    else {\n      parseNodeStatement(graph, id);\n    }\n  }\n\n  /**\n   * Parse a subgraph\n   * @param {Object} graph    parent graph object\n   * @return {Object | null} subgraph\n   */\n  function parseSubgraph (graph) {\n    var subgraph = null;\n\n    // optional subgraph keyword\n    if (token == \'subgraph\') {\n      subgraph = {};\n      subgraph.type = \'subgraph\';\n      getToken();\n\n      // optional graph id\n      if (tokenType == TOKENTYPE.IDENTIFIER) {\n        subgraph.id = token;\n        getToken();\n      }\n    }\n\n    // open angle bracket\n    if (token == \'{\') {\n      getToken();\n\n      if (!subgraph) {\n        subgraph = {};\n      }\n      subgraph.parent = graph;\n      subgraph.node = graph.node;\n      subgraph.edge = graph.edge;\n      subgraph.graph = graph.graph;\n\n      // statements\n      parseStatements(subgraph);\n\n      // close angle bracket\n      if (token != \'}\') {\n        throw newSyntaxError(\'Angle bracket } expected\');\n      }\n      getToken();\n\n      // remove temporary default properties\n      delete subgraph.node;\n      delete subgraph.edge;\n      delete subgraph.graph;\n      delete subgraph.parent;\n\n      // register at the parent graph\n      if (!graph.subgraphs) {\n        graph.subgraphs = [];\n      }\n      graph.subgraphs.push(subgraph);\n    }\n\n    return subgraph;\n  }\n\n  /**\n   * parse an attribute statement like "node [shape=circle fontSize=16]".\n   * Available keywords are \'node\', \'edge\', \'graph\'.\n   * The previous list with default attributes will be replaced\n   * @param {Object} graph\n   * @returns {String | null} keyword Returns the name of the parsed attribute\n   *                                  (node, edge, graph), or null if nothing\n   *                                  is parsed.\n   */\n  function parseAttributeStatement (graph) {\n    // attribute statements\n    if (token == \'node\') {\n      getToken();\n\n      // node attributes\n      graph.node = parseAttributeList();\n      return \'node\';\n    }\n    else if (token == \'edge\') {\n      getToken();\n\n      // edge attributes\n      graph.edge = parseAttributeList();\n      return \'edge\';\n    }\n    else if (token == \'graph\') {\n      getToken();\n\n      // graph attributes\n      graph.graph = parseAttributeList();\n      return \'graph\';\n    }\n\n    return null;\n  }\n\n  /**\n   * parse a node statement\n   * @param {Object} graph\n   * @param {String | Number} id\n   */\n  function parseNodeStatement(graph, id) {\n    // node statement\n    var node = {\n      id: id\n    };\n    var attr = parseAttributeList();\n    if (attr) {\n      node.attr = attr;\n    }\n    addNode(graph, node);\n\n    // edge statements\n    parseEdge(graph, id);\n  }\n\n  /**\n   * Parse an edge or a series of edges\n   * @param {Object} graph\n   * @param {String | Number} from        Id of the from node\n   */\n  function parseEdge(graph, from) {\n    while (token == \'->\' || token == \'--\') {\n      var to;\n      var type = token;\n      getToken();\n\n      var subgraph = parseSubgraph(graph);\n      if (subgraph) {\n        to = subgraph;\n      }\n      else {\n        if (tokenType != TOKENTYPE.IDENTIFIER) {\n          throw newSyntaxError(\'Identifier or subgraph expected\');\n        }\n        to = token;\n        addNode(graph, {\n          id: to\n        });\n        getToken();\n      }\n\n      // parse edge attributes\n      var attr = parseAttributeList();\n\n      // create edge\n      var edge = createEdge(graph, from, to, type, attr);\n      addEdge(graph, edge);\n\n      from = to;\n    }\n  }\n\n  /**\n   * Parse a set with attributes,\n   * for example [label="1.000", shape=solid]\n   * @return {Object | null} attr\n   */\n  function parseAttributeList() {\n    var attr = null;\n\n    while (token == \'[\') {\n      getToken();\n      attr = {};\n      while (token !== \'\' && token != \']\') {\n        if (tokenType != TOKENTYPE.IDENTIFIER) {\n          throw newSyntaxError(\'Attribute name expected\');\n        }\n        var name = token;\n\n        getToken();\n        if (token != \'=\') {\n          throw newSyntaxError(\'Equal sign = expected\');\n        }\n        getToken();\n\n        if (tokenType != TOKENTYPE.IDENTIFIER) {\n          throw newSyntaxError(\'Attribute value expected\');\n        }\n        var value = token;\n        setValue(attr, name, value); // name can be a path\n\n        getToken();\n        if (token ==\',\') {\n          getToken();\n        }\n      }\n\n      if (token != \']\') {\n        throw newSyntaxError(\'Bracket ] expected\');\n      }\n      getToken();\n    }\n\n    return attr;\n  }\n\n  /**\n   * Create a syntax error with extra information on current token and index.\n   * @param {String} message\n   * @returns {SyntaxError} err\n   */\n  function newSyntaxError(message) {\n    return new SyntaxError(message + \', got "\' + chop(token, 30) + \'" (char \' + index + \')\');\n  }\n\n  /**\n   * Chop off text after a maximum length\n   * @param {String} text\n   * @param {Number} maxLength\n   * @returns {String}\n   */\n  function chop (text, maxLength) {\n    return (text.length <= maxLength) ? text : (text.substr(0, 27) + \'...\');\n  }\n\n  /**\n   * Execute a function fn for each pair of elements in two arrays\n   * @param {Array | *} array1\n   * @param {Array | *} array2\n   * @param {function} fn\n   */\n  function forEach2(array1, array2, fn) {\n    if (Array.isArray(array1)) {\n      array1.forEach(function (elem1) {\n        if (Array.isArray(array2)) {\n          array2.forEach(function (elem2)  {\n            fn(elem1, elem2);\n          });\n        }\n        else {\n          fn(elem1, array2);\n        }\n      });\n    }\n    else {\n      if (Array.isArray(array2)) {\n        array2.forEach(function (elem2)  {\n          fn(array1, elem2);\n        });\n      }\n      else {\n        fn(array1, array2);\n      }\n    }\n  }\n\n  /**\n   * Convert a string containing a graph in DOT language into a map containing\n   * with nodes and edges in the format of graph.\n   * @param {String} data         Text containing a graph in DOT-notation\n   * @return {Object} graphData\n   */\n  function DOTToGraph (data) {\n    // parse the DOT file\n    var dotData = parseDOT(data);\n    var graphData = {\n      nodes: [],\n      edges: [],\n      options: {}\n    };\n\n    // copy the nodes\n    if (dotData.nodes) {\n      dotData.nodes.forEach(function (dotNode) {\n        var graphNode = {\n          id: dotNode.id,\n          label: String(dotNode.label || dotNode.id)\n        };\n        merge(graphNode, dotNode.attr);\n        if (graphNode.image) {\n          graphNode.shape = \'image\';\n        }\n        graphData.nodes.push(graphNode);\n      });\n    }\n\n    // copy the edges\n    if (dotData.edges) {\n      /**\n       * Convert an edge in DOT format to an edge with VisGraph format\n       * @param {Object} dotEdge\n       * @returns {Object} graphEdge\n       */\n      var convertEdge = function (dotEdge) {\n        var graphEdge = {\n          from: dotEdge.from,\n          to: dotEdge.to\n        };\n        merge(graphEdge, dotEdge.attr);\n        graphEdge.style = (dotEdge.type == \'->\') ? \'arrow\' : \'line\';\n        return graphEdge;\n      }\n\n      dotData.edges.forEach(function (dotEdge) {\n        var from, to;\n        if (dotEdge.from instanceof Object) {\n          from = dotEdge.from.nodes;\n        }\n        else {\n          from = {\n            id: dotEdge.from\n          }\n        }\n\n        if (dotEdge.to instanceof Object) {\n          to = dotEdge.to.nodes;\n        }\n        else {\n          to = {\n            id: dotEdge.to\n          }\n        }\n\n        if (dotEdge.from instanceof Object && dotEdge.from.edges) {\n          dotEdge.from.edges.forEach(function (subEdge) {\n            var graphEdge = convertEdge(subEdge);\n            graphData.edges.push(graphEdge);\n          });\n        }\n\n        forEach2(from, to, function (from, to) {\n          var subEdge = createEdge(graphData, from.id, to.id, dotEdge.type, dotEdge.attr);\n          var graphEdge = convertEdge(subEdge);\n          graphData.edges.push(graphEdge);\n        });\n\n        if (dotEdge.to instanceof Object && dotEdge.to.edges) {\n          dotEdge.to.edges.forEach(function (subEdge) {\n            var graphEdge = convertEdge(subEdge);\n            graphData.edges.push(graphEdge);\n          });\n        }\n      });\n    }\n\n    // copy the options\n    if (dotData.attr) {\n      graphData.options = dotData.attr;\n    }\n\n    return graphData;\n  }\n\n  // exports\n  exports.parseDOT = parseDOT;\n  exports.DOTToGraph = DOTToGraph;\n\n\n/***/ },\n/* 43 */\n/***/ function(module, exports, __webpack_require__) {\n\n  \n  function parseGephi(gephiJSON, options) {\n    var edges = [];\n    var nodes = [];\n    this.options = {\n      edges: {\n        inheritColor: true\n      },\n      nodes: {\n        allowedToMove: false,\n        parseColor: false\n      }\n    };\n\n    if (options !== undefined) {\n      this.options.nodes[\'allowedToMove\'] = options.allowedToMove | false;\n      this.options.nodes[\'parseColor\']    = options.parseColor    | false;\n      this.options.edges[\'inheritColor\']  = options.inheritColor  | true;\n    }\n\n    var gEdges = gephiJSON.edges;\n    var gNodes = gephiJSON.nodes;\n    for (var i = 0; i < gEdges.length; i++) {\n      var edge = {};\n      var gEdge = gEdges[i];\n      edge[\'id\'] = gEdge.id;\n      edge[\'from\'] = gEdge.source;\n      edge[\'to\'] = gEdge.target;\n      edge[\'attributes\'] = gEdge.attributes;\n  //    edge[\'value\'] = gEdge.attributes !== undefined ? gEdge.attributes.Weight : undefined;\n  //    edge[\'width\'] = edge[\'value\'] !== undefined ? undefined : edgegEdge.size;\n      edge[\'color\'] = gEdge.color;\n      edge[\'inheritColor\'] = edge[\'color\'] !== undefined ? false : this.options.inheritColor;\n      edges.push(edge);\n    }\n\n    for (var i = 0; i < gNodes.length; i++) {\n      var node = {};\n      var gNode = gNodes[i];\n      node[\'id\'] = gNode.id;\n      node[\'attributes\'] = gNode.attributes;\n      node[\'x\'] = gNode.x;\n      node[\'y\'] = gNode.y;\n      node[\'label\'] = gNode.label;\n      if (this.options.nodes.parseColor == true) {\n        node[\'color\'] = gNode.color;\n      }\n      else {\n        node[\'color\'] = gNode.color !== undefined ? {background:gNode.color, border:gNode.color} : undefined;\n      }\n      node[\'radius\'] = gNode.size;\n      node[\'allowedToMoveX\'] = this.options.nodes.allowedToMove;\n      node[\'allowedToMoveY\'] = this.options.nodes.allowedToMove;\n      nodes.push(node);\n    }\n\n    return {nodes:nodes, edges:edges};\n  }\n\n  exports.parseGephi = parseGephi;\n\n/***/ },\n/* 44 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // first check if moment.js is already loaded in the browser window, if so,\n  // use this instance. Else, load via commonjs.\n  module.exports = (typeof window !== \'undefined\') && window[\'moment\'] || __webpack_require__(58);\n\n\n/***/ },\n/* 45 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // Only load hammer.js when in a browser environment\n  // (loading hammer.js in a node.js environment gives errors)\n  if (typeof window !== \'undefined\') {\n    module.exports = window[\'Hammer\'] || __webpack_require__(59);\n  }\n  else {\n    module.exports = function () {\n      throw Error(\'hammer.js is only available in a browser, not in node.js.\');\n    }\n  }\n\n\n/***/ },\n/* 46 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Emitter = __webpack_require__(56);\n  var Hammer = __webpack_require__(45);\n  var util = __webpack_require__(1);\n  var DataSet = __webpack_require__(3);\n  var DataView = __webpack_require__(4);\n  var Range = __webpack_require__(17);\n  var ItemSet = __webpack_require__(32);\n  var TimeAxis = __webpack_require__(35);\n  var Activator = __webpack_require__(53);\n  var DateUtil = __webpack_require__(15);\n  var CustomTime = __webpack_require__(27);\n\n  /**\n   * Create a timeline visualization\n   * @param {HTMLElement} container\n   * @param {vis.DataSet | Array | google.visualization.DataTable} [items]\n   * @param {Object} [options]  See Core.setOptions for the available options.\n   * @constructor\n   */\n  function Core () {}\n\n  // turn Core into an event emitter\n  Emitter(Core.prototype);\n\n  /**\n   * Create the main DOM for the Core: a root panel containing left, right,\n   * top, bottom, content, and background panel.\n   * @param {Element} container  The container element where the Core will\n   *                             be attached.\n   * @protected\n   */\n  Core.prototype._create = function (container) {\n    this.dom = {};\n\n    this.dom.root                 = document.createElement(\'div\');\n    this.dom.background           = document.createElement(\'div\');\n    this.dom.backgroundVertical   = document.createElement(\'div\');\n    this.dom.backgroundHorizontal = document.createElement(\'div\');\n    this.dom.centerContainer      = document.createElement(\'div\');\n    this.dom.leftContainer        = document.createElement(\'div\');\n    this.dom.rightContainer       = document.createElement(\'div\');\n    this.dom.center               = document.createElement(\'div\');\n    this.dom.left                 = document.createElement(\'div\');\n    this.dom.right                = document.createElement(\'div\');\n    this.dom.top                  = document.createElement(\'div\');\n    this.dom.bottom               = document.createElement(\'div\');\n    this.dom.shadowTop            = document.createElement(\'div\');\n    this.dom.shadowBottom         = document.createElement(\'div\');\n    this.dom.shadowTopLeft        = document.createElement(\'div\');\n    this.dom.shadowBottomLeft     = document.createElement(\'div\');\n    this.dom.shadowTopRight       = document.createElement(\'div\');\n    this.dom.shadowBottomRight    = document.createElement(\'div\');\n\n    this.dom.root.className                 = \'vis timeline root\';\n    this.dom.background.className           = \'vispanel background\';\n    this.dom.backgroundVertical.className   = \'vispanel background vertical\';\n    this.dom.backgroundHorizontal.className = \'vispanel background horizontal\';\n    this.dom.centerContainer.className      = \'vispanel center\';\n    this.dom.leftContainer.className        = \'vispanel left\';\n    this.dom.rightContainer.className       = \'vispanel right\';\n    this.dom.top.className                  = \'vispanel top\';\n    this.dom.bottom.className               = \'vispanel bottom\';\n    this.dom.left.className                 = \'content\';\n    this.dom.center.className               = \'content\';\n    this.dom.right.className                = \'content\';\n    this.dom.shadowTop.className            = \'shadow top\';\n    this.dom.shadowBottom.className         = \'shadow bottom\';\n    this.dom.shadowTopLeft.className        = \'shadow top\';\n    this.dom.shadowBottomLeft.className     = \'shadow bottom\';\n    this.dom.shadowTopRight.className       = \'shadow top\';\n    this.dom.shadowBottomRight.className    = \'shadow bottom\';\n\n    this.dom.root.appendChild(this.dom.background);\n    this.dom.root.appendChild(this.dom.backgroundVertical);\n    this.dom.root.appendChild(this.dom.backgroundHorizontal);\n    this.dom.root.appendChild(this.dom.centerContainer);\n    this.dom.root.appendChild(this.dom.leftContainer);\n    this.dom.root.appendChild(this.dom.rightContainer);\n    this.dom.root.appendChild(this.dom.top);\n    this.dom.root.appendChild(this.dom.bottom);\n\n    this.dom.centerContainer.appendChild(this.dom.center);\n    this.dom.leftContainer.appendChild(this.dom.left);\n    this.dom.rightContainer.appendChild(this.dom.right);\n\n    this.dom.centerContainer.appendChild(this.dom.shadowTop);\n    this.dom.centerContainer.appendChild(this.dom.shadowBottom);\n    this.dom.leftContainer.appendChild(this.dom.shadowTopLeft);\n    this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft);\n    this.dom.rightContainer.appendChild(this.dom.shadowTopRight);\n    this.dom.rightContainer.appendChild(this.dom.shadowBottomRight);\n\n    this.on(\'rangechange\', this._redraw.bind(this));\n    this.on(\'touch\', this._onTouch.bind(this));\n    this.on(\'pinch\', this._onPinch.bind(this));\n    this.on(\'dragstart\', this._onDragStart.bind(this));\n    this.on(\'drag\', this._onDrag.bind(this));\n\n    var me = this;\n    this.on(\'change\', function (properties) {\n      if (properties && properties.queue == true) {\n        // redraw once on next tick\n        if (!me._redrawTimer) {\n          me._redrawTimer = setTimeout(function () {\n            me._redrawTimer = null;\n            me._redraw();\n          }, 0)\n        }\n      }\n      else {\n        // redraw immediately\n        me._redraw();\n      }\n    });\n\n    // create event listeners for all interesting events, these events will be\n    // emitted via emitter\n    this.hammer = Hammer(this.dom.root, {\n      preventDefault: true\n    });\n    this.listeners = {};\n\n    var events = [\n      \'touch\', \'pinch\',\n      \'tap\', \'doubletap\', \'hold\',\n      \'dragstart\', \'drag\', \'dragend\',\n      \'mousewheel\', \'DOMMouseScroll\' // DOMMouseScroll is needed for Firefox\n    ];\n    events.forEach(function (event) {\n      var listener = function () {\n        var args = [event].concat(Array.prototype.slice.call(arguments, 0));\n        if (me.isActive()) {\n          me.emit.apply(me, args);\n        }\n      };\n      me.hammer.on(event, listener);\n      me.listeners[event] = listener;\n    });\n\n    // size properties of each of the panels\n    this.props = {\n      root: {},\n      background: {},\n      centerContainer: {},\n      leftContainer: {},\n      rightContainer: {},\n      center: {},\n      left: {},\n      right: {},\n      top: {},\n      bottom: {},\n      border: {},\n      scrollTop: 0,\n      scrollTopMin: 0\n    };\n    this.touch = {}; // store state information needed for touch events\n\n    this.redrawCount = 0;\n\n    // attach the root panel to the provided container\n    if (!container) throw new Error(\'No container provided\');\n    container.appendChild(this.dom.root);\n  };\n\n  /**\n   * Set options. Options will be passed to all components loaded in the Timeline.\n   * @param {Object} [options]\n   *                           {String} orientation\n   *                              Vertical orientation for the Timeline,\n   *                              can be \'bottom\' (default) or \'top\'.\n   *                           {String | Number} width\n   *                              Width for the timeline, a number in pixels or\n   *                              a css string like \'1000px\' or \'75%\'. \'100%\' by default.\n   *                           {String | Number} height\n   *                              Fixed height for the Timeline, a number in pixels or\n   *                              a css string like \'400px\' or \'75%\'. If undefined,\n   *                              The Timeline will automatically size such that\n   *                              its contents fit.\n   *                           {String | Number} minHeight\n   *                              Minimum height for the Timeline, a number in pixels or\n   *                              a css string like \'400px\' or \'75%\'.\n   *                           {String | Number} maxHeight\n   *                              Maximum height for the Timeline, a number in pixels or\n   *                              a css string like \'400px\' or \'75%\'.\n   *                           {Number | Date | String} start\n   *                              Start date for the visible window\n   *                           {Number | Date | String} end\n   *                              End date for the visible window\n   */\n  Core.prototype.setOptions = function (options) {\n    if (options) {\n      // copy the known options\n      var fields = [\'width\', \'height\', \'minHeight\', \'maxHeight\', \'autoResize\', \'start\', \'end\', \'clickToUse\', \'dataAttributes\', \'hiddenDates\'];\n      util.selectiveExtend(fields, this.options, options);\n\n      if (\'orientation\' in options) {\n        if (typeof options.orientation === \'string\') {\n          this.options.orientation = options.orientation;\n        }\n        else if (typeof options.orientation === \'object\' && \'axis\' in options.orientation) {\n          this.options.orientation = options.orientation.axis;\n        }\n      }\n\n      if (this.options.orientation === \'both\') {\n        if (!this.timeAxis2) {\n          var timeAxis2 = this.timeAxis2 = new TimeAxis(this.body);\n          timeAxis2.setOptions = function (options) {\n            var _options = options ? util.extend({}, options) : {};\n            _options.orientation = \'top\'; // override the orientation option, always top\n            TimeAxis.prototype.setOptions.call(timeAxis2, _options);\n          };\n          this.components.push(timeAxis2);\n        }\n      }\n      else {\n        if (this.timeAxis2) {\n          var index = this.components.indexOf(this.timeAxis2);\n          if (index !== -1) {\n            this.components.splice(index, 1);\n          }\n          this.timeAxis2.destroy();\n          this.timeAxis2 = null;\n        }\n      }\n\n      if (\'hiddenDates\' in this.options) {\n        DateUtil.convertHiddenOptions(this.body, this.options.hiddenDates);\n      }\n\n      if (\'clickToUse\' in options) {\n        if (options.clickToUse) {\n          if (!this.activator) {\n            this.activator = new Activator(this.dom.root);\n          }\n        }\n        else {\n          if (this.activator) {\n            this.activator.destroy();\n            delete this.activator;\n          }\n        }\n      }\n\n      // enable/disable autoResize\n      this._initAutoResize();\n    }\n\n    // propagate options to all components\n    this.components.forEach(function (component) {\n      component.setOptions(options);\n    });\n\n    // redraw everything\n    this._redraw();\n  };\n\n  /**\n   * Returns true when the Timeline is active.\n   * @returns {boolean}\n   */\n  Core.prototype.isActive = function () {\n    return !this.activator || this.activator.active;\n  };\n\n  /**\n   * Destroy the Core, clean up all DOM elements and event listeners.\n   */\n  Core.prototype.destroy = function () {\n    // unbind datasets\n    this.clear();\n\n    // remove all event listeners\n    this.off();\n\n    // stop checking for changed size\n    this._stopAutoResize();\n\n    // remove from DOM\n    if (this.dom.root.parentNode) {\n      this.dom.root.parentNode.removeChild(this.dom.root);\n    }\n    this.dom = null;\n\n    // remove Activator\n    if (this.activator) {\n      this.activator.destroy();\n      delete this.activator;\n    }\n\n    // cleanup hammer touch events\n    for (var event in this.listeners) {\n      if (this.listeners.hasOwnProperty(event)) {\n        delete this.listeners[event];\n      }\n    }\n    this.listeners = null;\n    this.hammer = null;\n\n    // give all components the opportunity to cleanup\n    this.components.forEach(function (component) {\n      component.destroy();\n    });\n\n    this.body = null;\n  };\n\n\n  /**\n   * Set a custom time bar\n   * @param {Date} time\n   * @param {int} id\n   */\n  Core.prototype.setCustomTime = function (time, id) {\n    if (!this.customTime) {\n      throw new Error(\'Cannot get custom time: Custom time bar is not enabled\');\n    }\n\n    var barId = id || 0;\n\n    this.components.forEach(function (element, index, components) {\n      if (element instanceof CustomTime && element.options.id === barId) {\n        element.setCustomTime(time);\n      }\n    });\n  };\n\n  /**\n   * Retrieve the current custom time.\n   * @return {Date} customTime\n   * @param {int} id\n   */\n  Core.prototype.getCustomTime = function(id) {\n    if (!this.customTime) {\n      throw new Error(\'Cannot get custom time: Custom time bar is not enabled\');\n    }\n\n    var barId = id || 0,\n        customTime = this.customTime.getCustomTime();\n\n    this.components.forEach(function (element, index, components) {\n      if (element instanceof CustomTime && element.options.id === barId) {\n        customTime = element.getCustomTime();\n      }\n    });\n\n    return customTime;\n  };\n\n  /**\n   * Add custom vertical bar\n   * @param {Date | String | Number} time  A Date, unix timestamp, or\n   *                                      ISO date string. Time point where the new bar should be placed\n   * @param {Number | String} ID of the new bar\n   * @return {Number | String} ID of the new bar\n   */\n  Core.prototype.addCustomTime = function (time, id) {\n    if (!this.currentTime) {\n      throw new Error(\'Option showCurrentTime must be true\');\n    }\n\n    if (time === undefined) {\n      throw new Error(\'Time parameter for the custom bar must be provided\');\n    }\n\n    var ts = util.convert(time, \'Date\').valueOf(),\n        numIds, customTime, customBarId;\n\n    // All bar IDs are kept in 1 array, mixed types\n    // Bar with ID 0 is the default bar.\n    if (!this.customBarIds || this.customBarIds.constructor !== Array) {\n      this.customBarIds = [0];\n    }\n\n    // If the ID is not provided, generate one, otherwise just use it\n    if (id === undefined) {\n\n      numIds = this.customBarIds.filter(function (element) {\n        return util.isNumber(element);\n      });\n\n      customBarId = numIds.length > 0 ? Math.max.apply(null, numIds) + 1 : 1;\n\n    } else {\n      \n      // Check for duplicates\n      this.customBarIds.forEach(function (element) {\n        if (element === id) {\n          throw new Error(\'Custom time ID already exists\');\n        }\n      });\n\n      customBarId = id;\n    }\n\n    this.customBarIds.push(customBarId);\n\n    customTime = new CustomTime(this.body, {\n      showCustomTime : true,\n      time : ts,\n      id : customBarId\n    });\n\n    this.components.push(customTime);\n    this.redraw();\n\n    return customBarId;\n  };\n\n  /**\n   * Remove previously added custom bar\n   * @param {int} id ID of the custom bar to be removed\n   * @return {boolean} True if the bar exists and is removed, false otherwise\n   */\n  Core.prototype.removeCustomTime = function (id) {\n\n    var me = this;\n\n    this.components.forEach(function (bar, index, components) {\n      if (bar instanceof CustomTime && bar.options.id === id) {\n        // Only the lines added by the user will be removed\n        if (bar.options.id !== 0) {\n          me.customBarIds.splice(me.customBarIds.indexOf(id), 1);\n          components.splice(index, 1);\n          bar.destroy();\n        }\n      }\n    });\n  };\n\n\n  /**\n   * Get the id\'s of the currently visible items.\n   * @returns {Array} The ids of the visible items\n   */\n  Core.prototype.getVisibleItems = function() {\n    return this.itemSet && this.itemSet.getVisibleItems() || [];\n  };\n\n\n\n  /**\n   * Clear the Core. By Default, items, groups and options are cleared.\n   * Example usage:\n   *\n   *     timeline.clear();                // clear items, groups, and options\n   *     timeline.clear({options: true}); // clear options only\n   *\n   * @param {Object} [what]      Optionally specify what to clear. By default:\n   *                             {items: true, groups: true, options: true}\n   */\n  Core.prototype.clear = function(what) {\n    // clear items\n    if (!what || what.items) {\n      this.setItems(null);\n    }\n\n    // clear groups\n    if (!what || what.groups) {\n      this.setGroups(null);\n    }\n\n    // clear options of timeline and of each of the components\n    if (!what || what.options) {\n      this.components.forEach(function (component) {\n        component.setOptions(component.defaultOptions);\n      });\n\n      this.setOptions(this.defaultOptions); // this will also do a redraw\n    }\n  };\n\n  /**\n   * Set Core window such that it fits all items\n   * @param {Object} [options]  Available options:\n   *                            `animate: boolean | number`\n   *                                 If true (default), the range is animated\n   *                                 smoothly to the new window.\n   *                                 If a number, the number is taken as duration\n   *                                 for the animation. Default duration is 500 ms.\n   */\n  Core.prototype.fit = function(options) {\n    var range = this._getDataRange();\n\n    // skip range set if there is no start and end date\n    if (range.start === null && range.end === null) {\n      return;\n    }\n\n    var animate = (options && options.animate !== undefined) ? options.animate : true;\n    this.range.setRange(range.start, range.end, animate);\n  };\n\n  /**\n   * Calculate the data range of the items and applies a 5% window around it.\n   * @returns {{start: Date | null, end: Date | null}}\n   * @protected\n   */\n  Core.prototype._getDataRange = function() {\n    // apply the data range as range\n    var dataRange = this.getItemRange();\n\n    // add 5% space on both sides\n    var start = dataRange.min;\n    var end = dataRange.max;\n    if (start != null && end != null) {\n      var interval = (end.valueOf() - start.valueOf());\n      if (interval <= 0) {\n        // prevent an empty interval\n        interval = 24 * 60 * 60 * 1000; // 1 day\n      }\n      start = new Date(start.valueOf() - interval * 0.05);\n      end = new Date(end.valueOf() + interval * 0.05);\n    }\n\n    return {\n      start: start,\n      end: end\n    }\n  };\n\n  /**\n   * Set the visible window. Both parameters are optional, you can change only\n   * start or only end. Syntax:\n   *\n   *     TimeLine.setWindow(start, end)\n   *     TimeLine.setWindow(start, end, options)\n   *     TimeLine.setWindow(range)\n   *\n   * Where start and end can be a Date, number, or string, and range is an\n   * object with properties start and end.\n   *\n   * @param {Date | Number | String | Object} [start] Start date of visible window\n   * @param {Date | Number | String} [end]            End date of visible window\n   * @param {Object} [options]  Available options:\n   *                            `animate: boolean | number`\n   *                                 If true (default), the range is animated\n   *                                 smoothly to the new window.\n   *                                 If a number, the number is taken as duration\n   *                                 for the animation. Default duration is 500 ms.\n   */\n  Core.prototype.setWindow = function(start, end, options) {\n    var animate;\n    if (arguments.length == 1) {\n      var range = arguments[0];\n      animate = (range.animate !== undefined) ? range.animate : true;\n      this.range.setRange(range.start, range.end, animate);\n    }\n    else {\n      animate = (options && options.animate !== undefined) ? options.animate : true;\n      this.range.setRange(start, end, animate);\n    }\n  };\n\n  /**\n   * Move the window such that given time is centered on screen.\n   * @param {Date | Number | String} time\n   * @param {Object} [options]  Available options:\n   *                            `animate: boolean | number`\n   *                                 If true (default), the range is animated\n   *                                 smoothly to the new window.\n   *                                 If a number, the number is taken as duration\n   *                                 for the animation. Default duration is 500 ms.\n   */\n  Core.prototype.moveTo = function(time, options) {\n    var interval = this.range.end - this.range.start;\n    var t = util.convert(time, \'Date\').valueOf();\n\n    var start = t - interval / 2;\n    var end = t + interval / 2;\n    var animate = (options && options.animate !== undefined) ? options.animate : true;\n\n    this.range.setRange(start, end, animate);\n  };\n\n  /**\n   * Get the visible window\n   * @return {{start: Date, end: Date}}   Visible range\n   */\n  Core.prototype.getWindow = function() {\n    var range = this.range.getRange();\n    return {\n      start: new Date(range.start),\n      end: new Date(range.end)\n    };\n  };\n\n  /**\n   * Force a redraw. Can be overridden by implementations of Core\n   */\n  Core.prototype.redraw = function() {\n    this._redraw();\n  };\n\n  /**\n   * Redraw for internal use. Redraws all components. See also the public\n   * method redraw.\n   * @protected\n   */\n  Core.prototype._redraw = function() {\n    var resized = false;\n    var options = this.options;\n    var props = this.props;\n    var dom = this.dom;\n\n    if (!dom) return; // when destroyed\n\n    DateUtil.updateHiddenDates(this.body, this.options.hiddenDates);\n\n    // update class names\n    if (options.orientation == \'top\') {\n      util.addClassName(dom.root, \'top\');\n      util.removeClassName(dom.root, \'bottom\');\n    }\n    else {\n      util.removeClassName(dom.root, \'top\');\n      util.addClassName(dom.root, \'bottom\');\n    }\n\n    // update root width and height options\n    dom.root.style.maxHeight = util.option.asSize(options.maxHeight, \'\');\n    dom.root.style.minHeight = util.option.asSize(options.minHeight, \'\');\n    dom.root.style.width = util.option.asSize(options.width, \'\');\n\n    // calculate border widths\n    props.border.left   = (dom.centerContainer.offsetWidth - dom.centerContainer.clientWidth) / 2;\n    props.border.right  = props.border.left;\n    props.border.top    = (dom.centerContainer.offsetHeight - dom.centerContainer.clientHeight) / 2;\n    props.border.bottom = props.border.top;\n    var borderRootHeight= dom.root.offsetHeight - dom.root.clientHeight;\n    var borderRootWidth = dom.root.offsetWidth - dom.root.clientWidth;\n\n    // workaround for a bug in IE: the clientWidth of an element with\n    // a height:0px and overflow:hidden is not calculated and always has value 0\n    if (dom.centerContainer.clientHeight === 0) {\n      props.border.left = props.border.top;\n      props.border.right  = props.border.left;\n    }\n    if (dom.root.clientHeight === 0) {\n      borderRootWidth = borderRootHeight;\n    }\n\n    // calculate the heights. If any of the side panels is empty, we set the height to\n    // minus the border width, such that the border will be invisible\n    props.center.height = dom.center.offsetHeight;\n    props.left.height   = dom.left.offsetHeight;\n    props.right.height  = dom.right.offsetHeight;\n    props.top.height    = dom.top.clientHeight    || -props.border.top;\n    props.bottom.height = dom.bottom.clientHeight || -props.border.bottom;\n\n    // TODO: compensate borders when any of the panels is empty.\n\n    // apply auto height\n    // TODO: only calculate autoHeight when needed (else we cause an extra reflow/repaint of the DOM)\n    var contentHeight = Math.max(props.left.height, props.center.height, props.right.height);\n    var autoHeight = props.top.height + contentHeight + props.bottom.height +\n      borderRootHeight + props.border.top + props.border.bottom;\n    dom.root.style.height = util.option.asSize(options.height, autoHeight + \'px\');\n\n    // calculate heights of the content panels\n    props.root.height = dom.root.offsetHeight;\n    props.background.height = props.root.height - borderRootHeight;\n    var containerHeight = props.root.height - props.top.height - props.bottom.height -\n      borderRootHeight;\n    props.centerContainer.height  = containerHeight;\n    props.leftContainer.height    = containerHeight;\n    props.rightContainer.height   = props.leftContainer.height;\n\n    // calculate the widths of the panels\n    props.root.width = dom.root.offsetWidth;\n    props.background.width = props.root.width - borderRootWidth;\n    props.left.width = dom.leftContainer.clientWidth   || -props.border.left;\n    props.leftContainer.width = props.left.width;\n    props.right.width = dom.rightContainer.clientWidth || -props.border.right;\n    props.rightContainer.width = props.right.width;\n    var centerWidth = props.root.width - props.left.width - props.right.width - borderRootWidth;\n    props.center.width          = centerWidth;\n    props.centerContainer.width = centerWidth;\n    props.top.width             = centerWidth;\n    props.bottom.width          = centerWidth;\n\n    // resize the panels\n    dom.background.style.height           = props.background.height + \'px\';\n    dom.backgroundVertical.style.height   = props.background.height + \'px\';\n    dom.backgroundHorizontal.style.height = props.centerContainer.height + \'px\';\n    dom.centerContainer.style.height      = props.centerContainer.height + \'px\';\n    dom.leftContainer.style.height        = props.leftContainer.height + \'px\';\n    dom.rightContainer.style.height       = props.rightContainer.height + \'px\';\n\n    dom.background.style.width            = props.background.width + \'px\';\n    dom.backgroundVertical.style.width    = props.centerContainer.width + \'px\';\n    dom.backgroundHorizontal.style.width  = props.background.width + \'px\';\n    dom.centerContainer.style.width       = props.center.width + \'px\';\n    dom.top.style.width                   = props.top.width + \'px\';\n    dom.bottom.style.width                = props.bottom.width + \'px\';\n\n    // reposition the panels\n    dom.background.style.left           = \'0\';\n    dom.background.style.top            = \'0\';\n    dom.backgroundVertical.style.left   = (props.left.width + props.border.left) + \'px\';\n    dom.backgroundVertical.style.top    = \'0\';\n    dom.backgroundHorizontal.style.left = \'0\';\n    dom.backgroundHorizontal.style.top  = props.top.height + \'px\';\n    dom.centerContainer.style.left      = props.left.width + \'px\';\n    dom.centerContainer.style.top       = props.top.height + \'px\';\n    dom.leftContainer.style.left        = \'0\';\n    dom.leftContainer.style.top         = props.top.height + \'px\';\n    dom.rightContainer.style.left       = (props.left.width + props.center.width) + \'px\';\n    dom.rightContainer.style.top        = props.top.height + \'px\';\n    dom.top.style.left                  = props.left.width + \'px\';\n    dom.top.style.top                   = \'0\';\n    dom.bottom.style.left               = props.left.width + \'px\';\n    dom.bottom.style.top                = (props.top.height + props.centerContainer.height) + \'px\';\n\n    // update the scrollTop, feasible range for the offset can be changed\n    // when the height of the Core or of the contents of the center changed\n    this._updateScrollTop();\n\n    // reposition the scrollable contents\n    var offset = this.props.scrollTop;\n    if (options.orientation == \'bottom\') {\n      offset += Math.max(this.props.centerContainer.height - this.props.center.height -\n        this.props.border.top - this.props.border.bottom, 0);\n    }\n    dom.center.style.left = \'0\';\n    dom.center.style.top  = offset + \'px\';\n    dom.left.style.left   = \'0\';\n    dom.left.style.top    = offset + \'px\';\n    dom.right.style.left  = \'0\';\n    dom.right.style.top   = offset + \'px\';\n\n    // show shadows when vertical scrolling is available\n    var visibilityTop = this.props.scrollTop == 0 ? \'hidden\' : \'\';\n    var visibilityBottom = this.props.scrollTop == this.props.scrollTopMin ? \'hidden\' : \'\';\n    dom.shadowTop.style.visibility          = visibilityTop;\n    dom.shadowBottom.style.visibility       = visibilityBottom;\n    dom.shadowTopLeft.style.visibility      = visibilityTop;\n    dom.shadowBottomLeft.style.visibility   = visibilityBottom;\n    dom.shadowTopRight.style.visibility     = visibilityTop;\n    dom.shadowBottomRight.style.visibility  = visibilityBottom;\n\n    // redraw all components\n    this.components.forEach(function (component) {\n      resized = component.redraw() || resized;\n    });\n    if (resized) {\n      // keep repainting until all sizes are settled\n      var MAX_REDRAWS = 3; // maximum number of consecutive redraws\n      if (this.redrawCount < MAX_REDRAWS) {\n        this.redrawCount++;\n        this._redraw();\n      }\n      else {\n        console.log(\'WARNING: infinite loop in redraw?\');\n      }\n      this.redrawCount = 0;\n    }\n\n    this.emit("finishedRedraw");\n  };\n\n  // TODO: deprecated since version 1.1.0, remove some day\n  Core.prototype.repaint = function () {\n    throw new Error(\'Function repaint is deprecated. Use redraw instead.\');\n  };\n\n  /**\n   * Set a current time. This can be used for example to ensure that a client\'s\n   * time is synchronized with a shared server time.\n   * Only applicable when option `showCurrentTime` is true.\n   * @param {Date | String | Number} time     A Date, unix timestamp, or\n   *                                          ISO date string.\n   */\n  Core.prototype.setCurrentTime = function(time) {\n    if (!this.currentTime) {\n      throw new Error(\'Option showCurrentTime must be true\');\n    }\n\n    this.currentTime.setCurrentTime(time);\n  };\n\n  /**\n   * Get the current time.\n   * Only applicable when option `showCurrentTime` is true.\n   * @return {Date} Returns the current time.\n   */\n  Core.prototype.getCurrentTime = function() {\n    if (!this.currentTime) {\n      throw new Error(\'Option showCurrentTime must be true\');\n    }\n\n    return this.currentTime.getCurrentTime();\n  };\n\n  /**\n   * Convert a position on screen (pixels) to a datetime\n   * @param {int}     x    Position on the screen in pixels\n   * @return {Date}   time The datetime the corresponds with given position x\n   * @protected\n   */\n  // TODO: move this function to Range\n  Core.prototype._toTime = function(x) {\n    return DateUtil.toTime(this, x, this.props.center.width);\n  };\n\n  /**\n   * Convert a position on the global screen (pixels) to a datetime\n   * @param {int}     x    Position on the screen in pixels\n   * @return {Date}   time The datetime the corresponds with given position x\n   * @protected\n   */\n  // TODO: move this function to Range\n  Core.prototype._toGlobalTime = function(x) {\n    return DateUtil.toTime(this, x, this.props.root.width);\n    //var conversion = this.range.conversion(this.props.root.width);\n    //return new Date(x / conversion.scale + conversion.offset);\n  };\n\n  /**\n   * Convert a datetime (Date object) into a position on the screen\n   * @param {Date}   time A date\n   * @return {int}   x    The position on the screen in pixels which corresponds\n   *                      with the given date.\n   * @protected\n   */\n  // TODO: move this function to Range\n  Core.prototype._toScreen = function(time) {\n    return DateUtil.toScreen(this, time, this.props.center.width);\n  };\n\n\n\n  /**\n   * Convert a datetime (Date object) into a position on the root\n   * This is used to get the pixel density estimate for the screen, not the center panel\n   * @param {Date}   time A date\n   * @return {int}   x    The position on root in pixels which corresponds\n   *                      with the given date.\n   * @protected\n   */\n  // TODO: move this function to Range\n  Core.prototype._toGlobalScreen = function(time) {\n    return DateUtil.toScreen(this, time, this.props.root.width);\n    //var conversion = this.range.conversion(this.props.root.width);\n    //return (time.valueOf() - conversion.offset) * conversion.scale;\n  };\n\n\n  /**\n   * Initialize watching when option autoResize is true\n   * @private\n   */\n  Core.prototype._initAutoResize = function () {\n    if (this.options.autoResize == true) {\n      this._startAutoResize();\n    }\n    else {\n      this._stopAutoResize();\n    }\n  };\n\n  /**\n   * Watch for changes in the size of the container. On resize, the Panel will\n   * automatically redraw itself.\n   * @private\n   */\n  Core.prototype._startAutoResize = function () {\n    var me = this;\n\n    this._stopAutoResize();\n\n    this._onResize = function() {\n      if (me.options.autoResize != true) {\n        // stop watching when the option autoResize is changed to false\n        me._stopAutoResize();\n        return;\n      }\n\n      if (me.dom.root) {\n        // check whether the frame is resized\n        // Note: we compare offsetWidth here, not clientWidth. For some reason,\n        // IE does not restore the clientWidth from 0 to the actual width after\n        // changing the timeline\'s container display style from none to visible\n        if ((me.dom.root.offsetWidth != me.props.lastWidth) ||\n          (me.dom.root.offsetHeight != me.props.lastHeight)) {\n          me.props.lastWidth = me.dom.root.offsetWidth;\n          me.props.lastHeight = me.dom.root.offsetHeight;\n\n          me.emit(\'change\');\n        }\n      }\n    };\n\n    // add event listener to window resize\n    util.addEventListener(window, \'resize\', this._onResize);\n\n    this.watchTimer = setInterval(this._onResize, 1000);\n  };\n\n  /**\n   * Stop watching for a resize of the frame.\n   * @private\n   */\n  Core.prototype._stopAutoResize = function () {\n    if (this.watchTimer) {\n      clearInterval(this.watchTimer);\n      this.watchTimer = undefined;\n    }\n\n    // remove event listener on window.resize\n    util.removeEventListener(window, \'resize\', this._onResize);\n    this._onResize = null;\n  };\n\n  /**\n   * Start moving the timeline vertically\n   * @param {Event} event\n   * @private\n   */\n  Core.prototype._onTouch = function (event) {\n    this.touch.allowDragging = true;\n  };\n\n  /**\n   * Start moving the timeline vertically\n   * @param {Event} event\n   * @private\n   */\n  Core.prototype._onPinch = function (event) {\n    this.touch.allowDragging = false;\n  };\n\n  /**\n   * Start moving the timeline vertically\n   * @param {Event} event\n   * @private\n   */\n  Core.prototype._onDragStart = function (event) {\n    this.touch.initialScrollTop = this.props.scrollTop;\n  };\n\n  /**\n   * Move the timeline vertically\n   * @param {Event} event\n   * @private\n   */\n  Core.prototype._onDrag = function (event) {\n    // refuse to drag when we where pinching to prevent the timeline make a jump\n    // when releasing the fingers in opposite order from the touch screen\n    if (!this.touch.allowDragging) return;\n\n    var delta = event.gesture.deltaY;\n\n    var oldScrollTop = this._getScrollTop();\n    var newScrollTop = this._setScrollTop(this.touch.initialScrollTop + delta);\n\n\n    if (newScrollTop != oldScrollTop) {\n      this._redraw(); // TODO: this causes two redraws when dragging, the other is triggered by rangechange already\n      this.emit("verticalDrag");\n    }\n  };\n\n  /**\n   * Apply a scrollTop\n   * @param {Number} scrollTop\n   * @returns {Number} scrollTop  Returns the applied scrollTop\n   * @private\n   */\n  Core.prototype._setScrollTop = function (scrollTop) {\n    this.props.scrollTop = scrollTop;\n    this._updateScrollTop();\n    return this.props.scrollTop;\n  };\n\n  /**\n   * Update the current scrollTop when the height of  the containers has been changed\n   * @returns {Number} scrollTop  Returns the applied scrollTop\n   * @private\n   */\n  Core.prototype._updateScrollTop = function () {\n    // recalculate the scrollTopMin\n    var scrollTopMin = Math.min(this.props.centerContainer.height - this.props.center.height, 0); // is negative or zero\n    if (scrollTopMin != this.props.scrollTopMin) {\n      // in case of bottom orientation, change the scrollTop such that the contents\n      // do not move relative to the time axis at the bottom\n      if (this.options.orientation == \'bottom\') {\n        this.props.scrollTop += (scrollTopMin - this.props.scrollTopMin);\n      }\n      this.props.scrollTopMin = scrollTopMin;\n    }\n\n    // limit the scrollTop to the feasible scroll range\n    if (this.props.scrollTop > 0) this.props.scrollTop = 0;\n    if (this.props.scrollTop < scrollTopMin) this.props.scrollTop = scrollTopMin;\n\n    return this.props.scrollTop;\n  };\n\n  /**\n   * Get the current scrollTop\n   * @returns {number} scrollTop\n   * @private\n   */\n  Core.prototype._getScrollTop = function () {\n    return this.props.scrollTop;\n  };\n\n  module.exports = Core;\n\n\n/***/ },\n/* 47 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Hammer = __webpack_require__(45);\n\n  /**\n   * Fake a hammer.js gesture. Event can be a ScrollEvent or MouseMoveEvent\n   * @param {Element} element\n   * @param {Event} event\n   */\n  exports.fakeGesture = function(element, event) {\n    var eventType = null;\n\n    // for hammer.js 1.0.5\n    // var gesture = Hammer.event.collectEventData(this, eventType, event);\n\n    // for hammer.js 1.0.6+\n    var touches = Hammer.event.getTouchList(event, eventType);\n    var gesture = Hammer.event.collectEventData(this, eventType, touches, event);\n\n    // on IE in standards mode, no touches are recognized by hammer.js,\n    // resulting in NaN values for center.pageX and center.pageY\n    if (isNaN(gesture.center.pageX)) {\n      gesture.center.pageX = event.pageX;\n    }\n    if (isNaN(gesture.center.pageY)) {\n      gesture.center.pageY = event.pageY;\n    }\n\n    return gesture;\n  };\n\n\n/***/ },\n/* 48 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // English\n  exports[\'en\'] = {\n    current: \'current\',\n    time: \'time\'\n  };\n  exports[\'en_EN\'] = exports[\'en\'];\n  exports[\'en_US\'] = exports[\'en\'];\n\n  // Dutch\n  exports[\'nl\'] = {\n    current: \'aangepaste\',\n    time: \'tijd\'\n  };\n  exports[\'nl_NL\'] = exports[\'nl\'];\n  exports[\'nl_BE\'] = exports[\'nl\'];\n\n\n/***/ },\n/* 49 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Created by Alex on 11/11/2014.\n   */\n  var DOMutil = __webpack_require__(2);\n  var Points = __webpack_require__(51);\n\n  function Line(groupId, options) {\n    this.groupId = groupId;\n    this.options = options;\n  }\n\n  Line.prototype.getYRange = function(groupData) {\n    var yMin = groupData[0].y;\n    var yMax = groupData[0].y;\n    for (var j = 0; j < groupData.length; j++) {\n      yMin = yMin > groupData[j].y ? groupData[j].y : yMin;\n      yMax = yMax < groupData[j].y ? groupData[j].y : yMax;\n    }\n    return {min: yMin, max: yMax, yAxisOrientation: this.options.yAxisOrientation};\n  };\n\n\n  /**\n   * draw a line graph\n   *\n   * @param dataset\n   * @param group\n   */\n  Line.prototype.draw = function (dataset, group, framework) {\n    if (dataset != null) {\n      if (dataset.length > 0) {\n        var path, d;\n        var svgHeight = Number(framework.svg.style.height.replace(\'px\',\'\'));\n        path = DOMutil.getSVGElement(\'path\', framework.svgElements, framework.svg);\n        path.setAttributeNS(null, "class", group.className);\n        if(group.style !== undefined) {\n          path.setAttributeNS(null, "style", group.style);\n        }\n\n        // construct path from dataset\n        if (group.options.catmullRom.enabled == true) {\n          d = Line._catmullRom(dataset, group);\n        }\n        else {\n          d = Line._linear(dataset);\n        }\n\n        // append with points for fill and finalize the path\n        if (group.options.shaded.enabled == true) {\n          var fillPath = DOMutil.getSVGElement(\'path\', framework.svgElements, framework.svg);\n          var dFill;\n          if (group.options.shaded.orientation == \'top\') {\n            dFill = \'M\' + dataset[0].x + \',\' + 0 + \' \' + d + \'L\' + dataset[dataset.length - 1].x + \',\' + 0;\n          }\n          else {\n            dFill = \'M\' + dataset[0].x + \',\' + svgHeight + \' \' + d + \'L\' + dataset[dataset.length - 1].x + \',\' + svgHeight;\n          }\n          fillPath.setAttributeNS(null, "class", group.className + " fill");\n          if(group.options.shaded.style !== undefined) {\n            fillPath.setAttributeNS(null, "style", group.options.shaded.style);\n          }\n          fillPath.setAttributeNS(null, "d", dFill);\n        }\n        // copy properties to path for drawing.\n        path.setAttributeNS(null, \'d\', \'M\' + d);\n\n        // draw points\n        if (group.options.drawPoints.enabled == true) {\n          Points.draw(dataset, group, framework);\n        }\n      }\n    }\n  };\n\n\n\n  /**\n   * This uses an uniform parametrization of the CatmullRom algorithm:\n   * \'On the Parameterization of Catmull-Rom Curves\' by Cem Yuksel et al.\n   * @param data\n   * @returns {string}\n   * @private\n   */\n  Line._catmullRomUniform = function(data) {\n    // catmull rom\n    var p0, p1, p2, p3, bp1, bp2;\n    var d = Math.round(data[0].x) + \',\' + Math.round(data[0].y) + \' \';\n    var normalization = 1/6;\n    var length = data.length;\n    for (var i = 0; i < length - 1; i++) {\n\n      p0 = (i == 0) ? data[0] : data[i-1];\n      p1 = data[i];\n      p2 = data[i+1];\n      p3 = (i + 2 < length) ? data[i+2] : p2;\n\n\n      // Catmull-Rom to Cubic Bezier conversion matrix\n      //    0       1       0       0\n      //  -1/6      1      1/6      0\n      //    0      1/6      1     -1/6\n      //    0       0       1       0\n\n      //    bp0 = { x: p1.x,                               y: p1.y };\n      bp1 = { x: ((-p0.x + 6*p1.x + p2.x) *normalization), y: ((-p0.y + 6*p1.y + p2.y) *normalization)};\n      bp2 = { x: (( p1.x + 6*p2.x - p3.x) *normalization), y: (( p1.y + 6*p2.y - p3.y) *normalization)};\n      //    bp0 = { x: p2.x,                               y: p2.y };\n\n      d += \'C\' +\n      bp1.x + \',\' +\n      bp1.y + \' \' +\n      bp2.x + \',\' +\n      bp2.y + \' \' +\n      p2.x + \',\' +\n      p2.y + \' \';\n    }\n\n    return d;\n  };\n\n  /**\n   * This uses either the chordal or centripetal parameterization of the catmull-rom algorithm.\n   * By default, the centripetal parameterization is used because this gives the nicest results.\n   * These parameterizations are relatively heavy because the distance between 4 points have to be calculated.\n   *\n   * One optimization can be used to reuse distances since this is a sliding window approach.\n   * @param data\n   * @param group\n   * @returns {string}\n   * @private\n   */\n  Line._catmullRom = function(data, group) {\n    var alpha = group.options.catmullRom.alpha;\n    if (alpha == 0 || alpha === undefined) {\n      return this._catmullRomUniform(data);\n    }\n    else {\n      var p0, p1, p2, p3, bp1, bp2, d1,d2,d3, A, B, N, M;\n      var d3powA, d2powA, d3pow2A, d2pow2A, d1pow2A, d1powA;\n      var d = Math.round(data[0].x) + \',\' + Math.round(data[0].y) + \' \';\n      var length = data.length;\n      for (var i = 0; i < length - 1; i++) {\n\n        p0 = (i == 0) ? data[0] : data[i-1];\n        p1 = data[i];\n        p2 = data[i+1];\n        p3 = (i + 2 < length) ? data[i+2] : p2;\n\n        d1 = Math.sqrt(Math.pow(p0.x - p1.x,2) + Math.pow(p0.y - p1.y,2));\n        d2 = Math.sqrt(Math.pow(p1.x - p2.x,2) + Math.pow(p1.y - p2.y,2));\n        d3 = Math.sqrt(Math.pow(p2.x - p3.x,2) + Math.pow(p2.y - p3.y,2));\n\n        // Catmull-Rom to Cubic Bezier conversion matrix\n\n        // A = 2d1^2a + 3d1^a * d2^a + d3^2a\n        // B = 2d3^2a + 3d3^a * d2^a + d2^2a\n\n        // [   0             1            0          0          ]\n        // [   -d2^2a /N     A/N          d1^2a /N   0          ]\n        // [   0             d3^2a /M     B/M        -d2^2a /M  ]\n        // [   0             0            1          0          ]\n\n        d3powA  = Math.pow(d3,  alpha);\n        d3pow2A = Math.pow(d3,2*alpha);\n        d2powA  = Math.pow(d2,  alpha);\n        d2pow2A = Math.pow(d2,2*alpha);\n        d1powA  = Math.pow(d1,  alpha);\n        d1pow2A = Math.pow(d1,2*alpha);\n\n        A = 2*d1pow2A + 3*d1powA * d2powA + d2pow2A;\n        B = 2*d3pow2A + 3*d3powA * d2powA + d2pow2A;\n        N = 3*d1powA * (d1powA + d2powA);\n        if (N > 0) {N = 1 / N;}\n        M = 3*d3powA * (d3powA + d2powA);\n        if (M > 0) {M = 1 / M;}\n\n        bp1 = { x: ((-d2pow2A * p0.x + A*p1.x + d1pow2A * p2.x) * N),\n          y: ((-d2pow2A * p0.y + A*p1.y + d1pow2A * p2.y) * N)};\n\n        bp2 = { x: (( d3pow2A * p1.x + B*p2.x - d2pow2A * p3.x) * M),\n          y: (( d3pow2A * p1.y + B*p2.y - d2pow2A * p3.y) * M)};\n\n        if (bp1.x == 0 && bp1.y == 0) {bp1 = p1;}\n        if (bp2.x == 0 && bp2.y == 0) {bp2 = p2;}\n        d += \'C\' +\n        bp1.x + \',\' +\n        bp1.y + \' \' +\n        bp2.x + \',\' +\n        bp2.y + \' \' +\n        p2.x + \',\' +\n        p2.y + \' \';\n      }\n\n      return d;\n    }\n  };\n\n  /**\n   * this generates the SVG path for a linear drawing between datapoints.\n   * @param data\n   * @returns {string}\n   * @private\n   */\n  Line._linear = function(data) {\n    // linear\n    var d = \'\';\n    for (var i = 0; i < data.length; i++) {\n      if (i == 0) {\n        d += data[i].x + \',\' + data[i].y;\n      }\n      else {\n        d += \' \' + data[i].x + \',\' + data[i].y;\n      }\n    }\n    return d;\n  };\n\n  module.exports = Line;\n\n\n/***/ },\n/* 50 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Created by Alex on 11/11/2014.\n   */\n  var DOMutil = __webpack_require__(2);\n  var Points = __webpack_require__(51);\n\n  function Bargraph(groupId, options) {\n    this.groupId = groupId;\n    this.options = options;\n  }\n\n  Bargraph.prototype.getYRange = function(groupData) {\n    if (this.options.barChart.handleOverlap != \'stack\') {\n      var yMin = groupData[0].y;\n      var yMax = groupData[0].y;\n      for (var j = 0; j < groupData.length; j++) {\n        yMin = yMin > groupData[j].y ? groupData[j].y : yMin;\n        yMax = yMax < groupData[j].y ? groupData[j].y : yMax;\n      }\n      return {min: yMin, max: yMax, yAxisOrientation: this.options.yAxisOrientation};\n    }\n    else {\n      var barCombinedData = [];\n      for (var j = 0; j < groupData.length; j++) {\n        barCombinedData.push({\n          x: groupData[j].x,\n          y: groupData[j].y,\n          groupId: this.groupId\n        });\n      }\n      return barCombinedData;\n    }\n  };\n\n\n\n  /**\n   * draw a bar graph\n   *\n   * @param groupIds\n   * @param processedGroupData\n   */\n  Bargraph.draw = function (groupIds, processedGroupData, framework) {\n    var combinedData = [];\n    var intersections = {};\n    var coreDistance;\n    var key, drawData;\n    var group;\n    var i,j;\n    var barPoints = 0;\n\n    // combine all barchart data\n    for (i = 0; i < groupIds.length; i++) {\n      group = framework.groups[groupIds[i]];\n      if (group.options.style == \'bar\') {\n        if (group.visible == true && (framework.options.groups.visibility[groupIds[i]] === undefined || framework.options.groups.visibility[groupIds[i]] == true)) {\n          for (j = 0; j < processedGroupData[groupIds[i]].length; j++) {\n            combinedData.push({\n              x: processedGroupData[groupIds[i]][j].x,\n              y: processedGroupData[groupIds[i]][j].y,\n              groupId: groupIds[i],\n              label: processedGroupData[groupIds[i]][j].label,\n            });\n            barPoints += 1;\n          }\n        }\n      }\n    }\n\n    if (barPoints == 0) {return;}\n\n    // sort by time and by group\n    combinedData.sort(function (a, b) {\n      if (a.x == b.x) {\n        return a.groupId - b.groupId;\n      } else {\n        return a.x - b.x;\n      }\n    });\n\n    // get intersections\n    Bargraph._getDataIntersections(intersections, combinedData);\n\n    // plot barchart\n    for (i = 0; i < combinedData.length; i++) {\n      group = framework.groups[combinedData[i].groupId];\n      var minWidth = 0.1 * group.options.barChart.width;\n\n      key = combinedData[i].x;\n      var heightOffset = 0;\n      if (intersections[key] === undefined) {\n        if (i+1 < combinedData.length) {coreDistance = Math.abs(combinedData[i+1].x - key);}\n        if (i > 0)                     {coreDistance = Math.min(coreDistance,Math.abs(combinedData[i-1].x - key));}\n        drawData = Bargraph._getSafeDrawData(coreDistance, group, minWidth);\n      }\n      else {\n        var nextKey = i + (intersections[key].amount - intersections[key].resolved);\n        var prevKey = i - (intersections[key].resolved + 1);\n        if (nextKey < combinedData.length) {coreDistance = Math.abs(combinedData[nextKey].x - key);}\n        if (prevKey > 0)                   {coreDistance = Math.min(coreDistance,Math.abs(combinedData[prevKey].x - key));}\n        drawData = Bargraph._getSafeDrawData(coreDistance, group, minWidth);\n        intersections[key].resolved += 1;\n\n        if (group.options.barChart.handleOverlap == \'stack\') {\n          heightOffset = intersections[key].accumulated;\n          intersections[key].accumulated += group.zeroPosition - combinedData[i].y;\n        }\n        else if (group.options.barChart.handleOverlap == \'sideBySide\') {\n          drawData.width = drawData.width / intersections[key].amount;\n          drawData.offset += (intersections[key].resolved) * drawData.width - (0.5*drawData.width * (intersections[key].amount+1));\n          if (group.options.barChart.align == \'left\')       {drawData.offset -= 0.5*drawData.width;}\n          else if (group.options.barChart.align == \'right\') {drawData.offset += 0.5*drawData.width;}\n        }\n      }\n      DOMutil.drawBar(combinedData[i].x + drawData.offset, combinedData[i].y - heightOffset, drawData.width, group.zeroPosition - combinedData[i].y, group.className + \' bar\', framework.svgElements, framework.svg);\n      // draw points\n      if (group.options.drawPoints.enabled == true) {\n        DOMutil.drawPoint(combinedData[i].x + drawData.offset, combinedData[i].y, group, framework.svgElements, framework.svg, combinedData[i].label);\n      }\n    }\n  };\n\n\n  /**\n   * Fill the intersections object with counters of how many datapoints share the same x coordinates\n   * @param intersections\n   * @param combinedData\n   * @private\n   */\n  Bargraph._getDataIntersections = function (intersections, combinedData) {\n    // get intersections\n    var coreDistance;\n    for (var i = 0; i < combinedData.length; i++) {\n      if (i + 1 < combinedData.length) {\n        coreDistance = Math.abs(combinedData[i + 1].x - combinedData[i].x);\n      }\n      if (i > 0) {\n        coreDistance = Math.min(coreDistance, Math.abs(combinedData[i - 1].x - combinedData[i].x));\n      }\n      if (coreDistance == 0) {\n        if (intersections[combinedData[i].x] === undefined) {\n          intersections[combinedData[i].x] = {amount: 0, resolved: 0, accumulated: 0};\n        }\n        intersections[combinedData[i].x].amount += 1;\n      }\n    }\n  };\n\n\n  /**\n   * Get the width and offset for bargraphs based on the coredistance between datapoints\n   *\n   * @param coreDistance\n   * @param group\n   * @param minWidth\n   * @returns {{width: Number, offset: Number}}\n   * @private\n   */\n  Bargraph._getSafeDrawData = function (coreDistance, group, minWidth) {\n    var width, offset;\n    if (coreDistance < group.options.barChart.width && coreDistance > 0) {\n      width = coreDistance < minWidth ? minWidth : coreDistance;\n\n      offset = 0; // recalculate offset with the new width;\n      if (group.options.barChart.align == \'left\') {\n        offset -= 0.5 * coreDistance;\n      }\n      else if (group.options.barChart.align == \'right\') {\n        offset += 0.5 * coreDistance;\n      }\n    }\n    else {\n      // default settings\n      width = group.options.barChart.width;\n      offset = 0;\n      if (group.options.barChart.align == \'left\') {\n        offset -= 0.5 * group.options.barChart.width;\n      }\n      else if (group.options.barChart.align == \'right\') {\n        offset += 0.5 * group.options.barChart.width;\n      }\n    }\n\n    return {width: width, offset: offset};\n  };\n\n  Bargraph.getStackedBarYRange = function(barCombinedData, groupRanges, groupIds, groupLabel, orientation) {\n    if (barCombinedData.length > 0) {\n      // sort by time and by group\n      barCombinedData.sort(function (a, b) {\n        if (a.x == b.x) {\n          return a.groupId - b.groupId;\n        } else {\n          return a.x - b.x;\n        }\n      });\n      var intersections = {};\n\n      Bargraph._getDataIntersections(intersections, barCombinedData);\n      groupRanges[groupLabel] = Bargraph._getStackedBarYRange(intersections, barCombinedData);\n      groupRanges[groupLabel].yAxisOrientation = orientation;\n      groupIds.push(groupLabel);\n    }\n  }\n\n  Bargraph._getStackedBarYRange = function (intersections, combinedData) {\n    var key;\n    var yMin = combinedData[0].y;\n    var yMax = combinedData[0].y;\n    for (var i = 0; i < combinedData.length; i++) {\n      key = combinedData[i].x;\n      if (intersections[key] === undefined) {\n        yMin = yMin > combinedData[i].y ? combinedData[i].y : yMin;\n        yMax = yMax < combinedData[i].y ? combinedData[i].y : yMax;\n      }\n      else {\n        intersections[key].accumulated += combinedData[i].y;\n      }\n    }\n    for (var xpos in intersections) {\n      if (intersections.hasOwnProperty(xpos)) {\n        yMin = yMin > intersections[xpos].accumulated ? intersections[xpos].accumulated : yMin;\n        yMax = yMax < intersections[xpos].accumulated ? intersections[xpos].accumulated : yMax;\n      }\n    }\n\n    return {min: yMin, max: yMax};\n  };\n\n  module.exports = Bargraph;\n\n\n/***/ },\n/* 51 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Created by Alex on 11/11/2014.\n   */\n  var DOMutil = __webpack_require__(2);\n\n  function Points(groupId, options) {\n    this.groupId = groupId;\n    this.options = options;\n  }\n\n\n  Points.prototype.getYRange = function(groupData) {\n    var yMin = groupData[0].y;\n    var yMax = groupData[0].y;\n    for (var j = 0; j < groupData.length; j++) {\n      yMin = yMin > groupData[j].y ? groupData[j].y : yMin;\n      yMax = yMax < groupData[j].y ? groupData[j].y : yMax;\n    }\n    return {min: yMin, max: yMax, yAxisOrientation: this.options.yAxisOrientation};\n  };\n\n  Points.prototype.draw = function(dataset, group, framework, offset) {\n    Points.draw(dataset, group, framework, offset);\n  }\n\n  /**\n   * draw the data points\n   *\n   * @param {Array} dataset\n   * @param {Object} JSONcontainer\n   * @param {Object} svg            | SVG DOM element\n   * @param {GraphGroup} group\n   * @param {Number} [offset]\n   */\n  Points.draw = function (dataset, group, framework, offset) {\n    if (offset === undefined) {offset = 0;}\n    for (var i = 0; i < dataset.length; i++) {\n      DOMutil.drawPoint(dataset[i].x + offset, dataset[i].y, group, framework.svgElements, framework.svg, dataset[i].label);\n    }\n  };\n\n\n  module.exports = Points;\n\n/***/ },\n/* 52 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var PhysicsMixin = __webpack_require__(60);\n  var ClusterMixin = __webpack_require__(61);\n  var SectorsMixin = __webpack_require__(62);\n  var SelectionMixin = __webpack_require__(63);\n  var ManipulationMixin = __webpack_require__(64);\n  var NavigationMixin = __webpack_require__(65);\n  var HierarchicalLayoutMixin = __webpack_require__(66);\n\n  /**\n   * Load a mixin into the network object\n   *\n   * @param {Object} sourceVariable | this object has to contain functions.\n   * @private\n   */\n  exports._loadMixin = function (sourceVariable) {\n    for (var mixinFunction in sourceVariable) {\n      if (sourceVariable.hasOwnProperty(mixinFunction)) {\n        this[mixinFunction] = sourceVariable[mixinFunction];\n      }\n    }\n  };\n\n\n  /**\n   * removes a mixin from the network object.\n   *\n   * @param {Object} sourceVariable | this object has to contain functions.\n   * @private\n   */\n  exports._clearMixin = function (sourceVariable) {\n    for (var mixinFunction in sourceVariable) {\n      if (sourceVariable.hasOwnProperty(mixinFunction)) {\n        this[mixinFunction] = undefined;\n      }\n    }\n  };\n\n\n  /**\n   * Mixin the physics system and initialize the parameters required.\n   *\n   * @private\n   */\n  exports._loadPhysicsSystem = function () {\n    this._loadMixin(PhysicsMixin);\n    this._loadSelectedForceSolver();\n    if (this.constants.configurePhysics == true) {\n      this._loadPhysicsConfiguration();\n    }\n    else {\n      this._cleanupPhysicsConfiguration();\n    }\n  };\n\n\n  /**\n   * Mixin the cluster system and initialize the parameters required.\n   *\n   * @private\n   */\n  exports._loadClusterSystem = function () {\n    this.clusterSession = 0;\n    this.hubThreshold = 5;\n    this._loadMixin(ClusterMixin);\n  };\n\n\n  /**\n   * Mixin the sector system and initialize the parameters required\n   *\n   * @private\n   */\n  exports._loadSectorSystem = function () {\n    this.sectors = {};\n    this.activeSector = ["default"];\n    this.sectors["active"] = {};\n    this.sectors["active"]["default"] = {"nodes": {},\n      "edges": {},\n      "nodeIndices": [],\n      "formationScale": 1.0,\n      "drawingNode": undefined };\n    this.sectors["frozen"] = {};\n    this.sectors["support"] = {"nodes": {},\n      "edges": {},\n      "nodeIndices": [],\n      "formationScale": 1.0,\n      "drawingNode": undefined };\n\n    this.nodeIndices = this.sectors["active"]["default"]["nodeIndices"];  // the node indices list is used to speed up the computation of the repulsion fields\n\n    this._loadMixin(SectorsMixin);\n  };\n\n\n  /**\n   * Mixin the selection system and initialize the parameters required\n   *\n   * @private\n   */\n  exports._loadSelectionSystem = function () {\n    this.selectionObj = {nodes: {}, edges: {}};\n\n    this._loadMixin(SelectionMixin);\n  };\n\n\n  /**\n   * Mixin the navigationUI (User Interface) system and initialize the parameters required\n   *\n   * @private\n   */\n  exports._loadManipulationSystem = function () {\n    // reset global variables -- these are used by the selection of nodes and edges.\n    this.blockConnectingEdgeSelection = false;\n    this.forceAppendSelection = false;\n\n    if (this.constants.dataManipulation.enabled == true) {\n      // load the manipulator HTML elements. All styling done in css.\n      if (this.manipulationDiv === undefined) {\n        this.manipulationDiv = document.createElement(\'div\');\n        this.manipulationDiv.className = \'network-manipulationDiv\';\n        if (this.editMode == true) {\n          this.manipulationDiv.style.display = "block";\n        }\n        else {\n          this.manipulationDiv.style.display = "none";\n        }\n        this.frame.appendChild(this.manipulationDiv);\n      }\n\n      if (this.editModeDiv === undefined) {\n        this.editModeDiv = document.createElement(\'div\');\n        this.editModeDiv.className = \'network-manipulation-editMode\';\n        if (this.editMode == true) {\n          this.editModeDiv.style.display = "none";\n        }\n        else {\n          this.editModeDiv.style.display = "block";\n        }\n        this.frame.appendChild(this.editModeDiv);\n      }\n\n      if (this.closeDiv === undefined) {\n        this.closeDiv = document.createElement(\'div\');\n        this.closeDiv.className = \'network-manipulation-closeDiv\';\n        this.closeDiv.style.display = this.manipulationDiv.style.display;\n        this.frame.appendChild(this.closeDiv);\n      }\n\n      // load the manipulation functions\n      this._loadMixin(ManipulationMixin);\n\n      // create the manipulator toolbar\n      this._createManipulatorBar();\n    }\n    else {\n      if (this.manipulationDiv !== undefined) {\n        // removes all the bindings and overloads\n        this._createManipulatorBar();\n\n        // remove the manipulation divs\n        this.frame.removeChild(this.manipulationDiv);\n        this.frame.removeChild(this.editModeDiv);\n        this.frame.removeChild(this.closeDiv);\n\n        this.manipulationDiv = undefined;\n        this.editModeDiv = undefined;\n        this.closeDiv = undefined;\n        // remove the mixin functions\n        this._clearMixin(ManipulationMixin);\n      }\n    }\n  };\n\n\n  /**\n   * Mixin the navigation (User Interface) system and initialize the parameters required\n   *\n   * @private\n   */\n  exports._loadNavigationControls = function () {\n    this._loadMixin(NavigationMixin);\n    // the clean function removes the button divs, this is done to remove the bindings.\n    this._cleanNavigation();\n    if (this.constants.navigation.enabled == true) {\n      this._loadNavigationElements();\n    }\n  };\n\n\n  /**\n   * Mixin the hierarchical layout system.\n   *\n   * @private\n   */\n  exports._loadHierarchySystem = function () {\n    this._loadMixin(HierarchicalLayoutMixin);\n  };\n\n\n/***/ },\n/* 53 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var keycharm = __webpack_require__(57);\n  var Emitter = __webpack_require__(56);\n  var Hammer = __webpack_require__(45);\n  var util = __webpack_require__(1);\n\n  /**\n   * Turn an element into an clickToUse element.\n   * When not active, the element has a transparent overlay. When the overlay is\n   * clicked, the mode is changed to active.\n   * When active, the element is displayed with a blue border around it, and\n   * the interactive contents of the element can be used. When clicked outside\n   * the element, the elements mode is changed to inactive.\n   * @param {Element} container\n   * @constructor\n   */\n  function Activator(container) {\n    this.active = false;\n\n    this.dom = {\n      container: container\n    };\n\n    this.dom.overlay = document.createElement(\'div\');\n    this.dom.overlay.className = \'overlay\';\n\n    this.dom.container.appendChild(this.dom.overlay);\n\n    this.hammer = Hammer(this.dom.overlay, {prevent_default: false});\n    this.hammer.on(\'tap\', this._onTapOverlay.bind(this));\n\n    // block all touch events (except tap)\n    var me = this;\n    var events = [\n      \'touch\', \'pinch\',\n      \'doubletap\', \'hold\',\n      \'dragstart\', \'drag\', \'dragend\',\n      \'mousewheel\', \'DOMMouseScroll\' // DOMMouseScroll is needed for Firefox\n    ];\n    events.forEach(function (event) {\n      me.hammer.on(event, function (event) {\n        event.stopPropagation();\n      });\n    });\n\n    // attach a tap event to the window, in order to deactivate when clicking outside the timeline\n    this.windowHammer = Hammer(window, {prevent_default: false});\n    this.windowHammer.on(\'tap\', function (event) {\n      // deactivate when clicked outside the container\n      if (!_hasParent(event.target, container)) {\n        me.deactivate();\n      }\n    });\n\n    if (this.keycharm !== undefined) {\n      this.keycharm.destroy();\n    }\n    this.keycharm = keycharm();\n\n    // keycharm listener only bounded when active)\n    this.escListener = this.deactivate.bind(this);\n  }\n\n  // turn into an event emitter\n  Emitter(Activator.prototype);\n\n  // The currently active activator\n  Activator.current = null;\n\n  /**\n   * Destroy the activator. Cleans up all created DOM and event listeners\n   */\n  Activator.prototype.destroy = function () {\n    this.deactivate();\n\n    // remove dom\n    this.dom.overlay.parentNode.removeChild(this.dom.overlay);\n\n    // cleanup hammer instances\n    this.hammer = null;\n    this.windowHammer = null;\n    // FIXME: cleaning up hammer instances doesn\'t work (Timeline not removed from memory)\n  };\n\n  /**\n   * Activate the element\n   * Overlay is hidden, element is decorated with a blue shadow border\n   */\n  Activator.prototype.activate = function () {\n    // we allow only one active activator at a time\n    if (Activator.current) {\n      Activator.current.deactivate();\n    }\n    Activator.current = this;\n\n    this.active = true;\n    this.dom.overlay.style.display = \'none\';\n    util.addClassName(this.dom.container, \'vis-active\');\n\n    this.emit(\'change\');\n    this.emit(\'activate\');\n\n    // ugly hack: bind ESC after emitting the events, as the Network rebinds all\n    // keyboard events on a \'change\' event\n    this.keycharm.bind(\'esc\', this.escListener);\n  };\n\n  /**\n   * Deactivate the element\n   * Overlay is displayed on top of the element\n   */\n  Activator.prototype.deactivate = function () {\n    this.active = false;\n    this.dom.overlay.style.display = \'\';\n    util.removeClassName(this.dom.container, \'vis-active\');\n    this.keycharm.unbind(\'esc\', this.escListener);\n\n    this.emit(\'change\');\n    this.emit(\'deactivate\');\n  };\n\n  /**\n   * Handle a tap event: activate the container\n   * @param event\n   * @private\n   */\n  Activator.prototype._onTapOverlay = function (event) {\n    // activate the container\n    this.activate();\n    event.stopPropagation();\n  };\n\n  /**\n   * Test whether the element has the requested parent element somewhere in\n   * its chain of parent nodes.\n   * @param {HTMLElement} element\n   * @param {HTMLElement} parent\n   * @returns {boolean} Returns true when the parent is found somewhere in the\n   *                    chain of parent nodes.\n   * @private\n   */\n  function _hasParent(element, parent) {\n    while (element) {\n      if (element === parent) {\n        return true\n      }\n      element = element.parentNode;\n    }\n    return false;\n  }\n\n  module.exports = Activator;\n\n\n/***/ },\n/* 54 */\n/***/ function(module, exports, __webpack_require__) {\n\n  // English\n  exports[\'en\'] = {\n    edit: \'Edit\',\n    del: \'Delete selected\',\n    back: \'Back\',\n    addNode: \'Add Node\',\n    addEdge: \'Add Edge\',\n    editNode: \'Edit Node\',\n    editEdge: \'Edit Edge\',\n    addDescription: \'Click in an empty space to place a new node.\',\n    edgeDescription: \'Click on a node and drag the edge to another node to connect them.\',\n    editEdgeDescription: \'Click on the control points and drag them to a node to connect to it.\',\n    createEdgeError: \'Cannot link edges to a cluster.\',\n    deleteClusterError: \'Clusters cannot be deleted.\'\n  };\n  exports[\'en_EN\'] = exports[\'en\'];\n  exports[\'en_US\'] = exports[\'en\'];\n\n  // Dutch\n  exports[\'nl\'] = {\n    edit: \'Wijzigen\',\n    del: \'Selectie verwijderen\',\n    back: \'Terug\',\n    addNode: \'Node toevoegen\',\n    addEdge: \'Link toevoegen\',\n    editNode: \'Node wijzigen\',\n    editEdge: \'Link wijzigen\',\n    addDescription: \'Klik op een leeg gebied om een nieuwe node te maken.\',\n    edgeDescription: \'Klik op een node en sleep de link naar een andere node om ze te verbinden.\',\n    editEdgeDescription: \'Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.\',\n    createEdgeError: \'Kan geen link maken naar een cluster.\',\n    deleteClusterError: \'Clusters kunnen niet worden verwijderd.\'\n  };\n  exports[\'nl_NL\'] = exports[\'nl\'];\n  exports[\'nl_BE\'] = exports[\'nl\'];\n\n\n/***/ },\n/* 55 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Canvas shapes used by Network\n   */\n  if (typeof CanvasRenderingContext2D !== \'undefined\') {\n\n    /**\n     * Draw a circle shape\n     */\n    CanvasRenderingContext2D.prototype.circle = function(x, y, r) {\n      this.beginPath();\n      this.arc(x, y, r, 0, 2*Math.PI, false);\n    };\n\n    /**\n     * Draw a square shape\n     * @param {Number} x horizontal center\n     * @param {Number} y vertical center\n     * @param {Number} r   size, width and height of the square\n     */\n    CanvasRenderingContext2D.prototype.square = function(x, y, r) {\n      this.beginPath();\n      this.rect(x - r, y - r, r * 2, r * 2);\n    };\n\n    /**\n     * Draw a triangle shape\n     * @param {Number} x horizontal center\n     * @param {Number} y vertical center\n     * @param {Number} r   radius, half the length of the sides of the triangle\n     */\n    CanvasRenderingContext2D.prototype.triangle = function(x, y, r) {\n      // http://en.wikipedia.org/wiki/Equilateral_triangle\n      this.beginPath();\n\n      var s = r * 2;\n      var s2 = s / 2;\n      var ir = Math.sqrt(3) / 6 * s;      // radius of inner circle\n      var h = Math.sqrt(s * s - s2 * s2); // height\n\n      this.moveTo(x, y - (h - ir));\n      this.lineTo(x + s2, y + ir);\n      this.lineTo(x - s2, y + ir);\n      this.lineTo(x, y - (h - ir));\n      this.closePath();\n    };\n\n    /**\n     * Draw a triangle shape in downward orientation\n     * @param {Number} x horizontal center\n     * @param {Number} y vertical center\n     * @param {Number} r radius\n     */\n    CanvasRenderingContext2D.prototype.triangleDown = function(x, y, r) {\n      // http://en.wikipedia.org/wiki/Equilateral_triangle\n      this.beginPath();\n\n      var s = r * 2;\n      var s2 = s / 2;\n      var ir = Math.sqrt(3) / 6 * s;      // radius of inner circle\n      var h = Math.sqrt(s * s - s2 * s2); // height\n\n      this.moveTo(x, y + (h - ir));\n      this.lineTo(x + s2, y - ir);\n      this.lineTo(x - s2, y - ir);\n      this.lineTo(x, y + (h - ir));\n      this.closePath();\n    };\n\n    /**\n     * Draw a star shape, a star with 5 points\n     * @param {Number} x horizontal center\n     * @param {Number} y vertical center\n     * @param {Number} r   radius, half the length of the sides of the triangle\n     */\n    CanvasRenderingContext2D.prototype.star = function(x, y, r) {\n      // http://www.html5canvastutorials.com/labs/html5-canvas-star-spinner/\n      this.beginPath();\n\n      for (var n = 0; n < 10; n++) {\n        var radius = (n % 2 === 0) ? r * 1.3 : r * 0.5;\n        this.lineTo(\n            x + radius * Math.sin(n * 2 * Math.PI / 10),\n            y - radius * Math.cos(n * 2 * Math.PI / 10)\n        );\n      }\n\n      this.closePath();\n    };\n\n    /**\n     * http://stackoverflow.com/questions/1255512/how-to-draw-a-rounded-rectangle-on-html-canvas\n     */\n    CanvasRenderingContext2D.prototype.roundRect = function(x, y, w, h, r) {\n      var r2d = Math.PI/180;\n      if( w - ( 2 * r ) < 0 ) { r = ( w / 2 ); } //ensure that the radius isn\'t too large for x\n      if( h - ( 2 * r ) < 0 ) { r = ( h / 2 ); } //ensure that the radius isn\'t too large for y\n      this.beginPath();\n      this.moveTo(x+r,y);\n      this.lineTo(x+w-r,y);\n      this.arc(x+w-r,y+r,r,r2d*270,r2d*360,false);\n      this.lineTo(x+w,y+h-r);\n      this.arc(x+w-r,y+h-r,r,0,r2d*90,false);\n      this.lineTo(x+r,y+h);\n      this.arc(x+r,y+h-r,r,r2d*90,r2d*180,false);\n      this.lineTo(x,y+r);\n      this.arc(x+r,y+r,r,r2d*180,r2d*270,false);\n    };\n\n    /**\n     * http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas\n     */\n    CanvasRenderingContext2D.prototype.ellipse = function(x, y, w, h) {\n      var kappa = .5522848,\n          ox = (w / 2) * kappa, // control point offset horizontal\n          oy = (h / 2) * kappa, // control point offset vertical\n          xe = x + w,           // x-end\n          ye = y + h,           // y-end\n          xm = x + w / 2,       // x-middle\n          ym = y + h / 2;       // y-middle\n\n      this.beginPath();\n      this.moveTo(x, ym);\n      this.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n      this.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n      this.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n      this.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n    };\n\n\n\n    /**\n     * http://stackoverflow.com/questions/2172798/how-to-draw-an-oval-in-html5-canvas\n     */\n    CanvasRenderingContext2D.prototype.database = function(x, y, w, h) {\n      var f = 1/3;\n      var wEllipse = w;\n      var hEllipse = h * f;\n\n      var kappa = .5522848,\n          ox = (wEllipse / 2) * kappa, // control point offset horizontal\n          oy = (hEllipse / 2) * kappa, // control point offset vertical\n          xe = x + wEllipse,           // x-end\n          ye = y + hEllipse,           // y-end\n          xm = x + wEllipse / 2,       // x-middle\n          ym = y + hEllipse / 2,       // y-middle\n          ymb = y + (h - hEllipse/2),  // y-midlle, bottom ellipse\n          yeb = y + h;                 // y-end, bottom ellipse\n\n      this.beginPath();\n      this.moveTo(xe, ym);\n\n      this.bezierCurveTo(xe, ym + oy, xm + ox, ye, xm, ye);\n      this.bezierCurveTo(xm - ox, ye, x, ym + oy, x, ym);\n\n      this.bezierCurveTo(x, ym - oy, xm - ox, y, xm, y);\n      this.bezierCurveTo(xm + ox, y, xe, ym - oy, xe, ym);\n\n      this.lineTo(xe, ymb);\n\n      this.bezierCurveTo(xe, ymb + oy, xm + ox, yeb, xm, yeb);\n      this.bezierCurveTo(xm - ox, yeb, x, ymb + oy, x, ymb);\n\n      this.lineTo(x, ym);\n    };\n\n\n    /**\n     * Draw an arrow point (no line)\n     */\n    CanvasRenderingContext2D.prototype.arrow = function(x, y, angle, length) {\n      // tail\n      var xt = x - length * Math.cos(angle);\n      var yt = y - length * Math.sin(angle);\n\n      // inner tail\n      // TODO: allow to customize different shapes\n      var xi = x - length * 0.9 * Math.cos(angle);\n      var yi = y - length * 0.9 * Math.sin(angle);\n\n      // left\n      var xl = xt + length / 3 * Math.cos(angle + 0.5 * Math.PI);\n      var yl = yt + length / 3 * Math.sin(angle + 0.5 * Math.PI);\n\n      // right\n      var xr = xt + length / 3 * Math.cos(angle - 0.5 * Math.PI);\n      var yr = yt + length / 3 * Math.sin(angle - 0.5 * Math.PI);\n\n      this.beginPath();\n      this.moveTo(x, y);\n      this.lineTo(xl, yl);\n      this.lineTo(xi, yi);\n      this.lineTo(xr, yr);\n      this.closePath();\n    };\n\n    /**\n     * Sets up the dashedLine functionality for drawing\n     * Original code came from http://stackoverflow.com/questions/4576724/dotted-stroke-in-canvas\n     * @author David Jordan\n     * @date 2012-08-08\n     */\n    CanvasRenderingContext2D.prototype.dashedLine = function(x,y,x2,y2,dashArray){\n      if (!dashArray) dashArray=[10,5];\n      if (dashLength==0) dashLength = 0.001; // Hack for Safari\n      var dashCount = dashArray.length;\n      this.moveTo(x, y);\n      var dx = (x2-x), dy = (y2-y);\n      var slope = dy/dx;\n      var distRemaining = Math.sqrt( dx*dx + dy*dy );\n      var dashIndex=0, draw=true;\n      while (distRemaining>=0.1){\n        var dashLength = dashArray[dashIndex++%dashCount];\n        if (dashLength > distRemaining) dashLength = distRemaining;\n        var xStep = Math.sqrt( dashLength*dashLength / (1 + slope*slope) );\n        if (dx<0) xStep = -xStep;\n        x += xStep;\n        y += slope*xStep;\n        this[draw ? \'lineTo\' : \'moveTo\'](x,y);\n        distRemaining -= dashLength;\n        draw = !draw;\n      }\n    };\n\n    // TODO: add diamond shape\n  }\n\n\n/***/ },\n/* 56 */\n/***/ function(module, exports, __webpack_require__) {\n\n  \n  /**\n   * Expose `Emitter`.\n   */\n\n  module.exports = Emitter;\n\n  /**\n   * Initialize a new `Emitter`.\n   *\n   * @api public\n   */\n\n  function Emitter(obj) {\n    if (obj) return mixin(obj);\n  };\n\n  /**\n   * Mixin the emitter properties.\n   *\n   * @param {Object} obj\n   * @return {Object}\n   * @api private\n   */\n\n  function mixin(obj) {\n    for (var key in Emitter.prototype) {\n      obj[key] = Emitter.prototype[key];\n    }\n    return obj;\n  }\n\n  /**\n   * Listen on the given `event` with `fn`.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n  Emitter.prototype.on =\n  Emitter.prototype.addEventListener = function(event, fn){\n    this._callbacks = this._callbacks || {};\n    (this._callbacks[event] = this._callbacks[event] || [])\n      .push(fn);\n    return this;\n  };\n\n  /**\n   * Adds an `event` listener that will be invoked a single\n   * time then automatically removed.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n  Emitter.prototype.once = function(event, fn){\n    var self = this;\n    this._callbacks = this._callbacks || {};\n\n    function on() {\n      self.off(event, on);\n      fn.apply(this, arguments);\n    }\n\n    on.fn = fn;\n    this.on(event, on);\n    return this;\n  };\n\n  /**\n   * Remove the given callback for `event` or all\n   * registered callbacks.\n   *\n   * @param {String} event\n   * @param {Function} fn\n   * @return {Emitter}\n   * @api public\n   */\n\n  Emitter.prototype.off =\n  Emitter.prototype.removeListener =\n  Emitter.prototype.removeAllListeners =\n  Emitter.prototype.removeEventListener = function(event, fn){\n    this._callbacks = this._callbacks || {};\n\n    // all\n    if (0 == arguments.length) {\n      this._callbacks = {};\n      return this;\n    }\n\n    // specific event\n    var callbacks = this._callbacks[event];\n    if (!callbacks) return this;\n\n    // remove all handlers\n    if (1 == arguments.length) {\n      delete this._callbacks[event];\n      return this;\n    }\n\n    // remove specific handler\n    var cb;\n    for (var i = 0; i < callbacks.length; i++) {\n      cb = callbacks[i];\n      if (cb === fn || cb.fn === fn) {\n        callbacks.splice(i, 1);\n        break;\n      }\n    }\n    return this;\n  };\n\n  /**\n   * Emit `event` with the given args.\n   *\n   * @param {String} event\n   * @param {Mixed} ...\n   * @return {Emitter}\n   */\n\n  Emitter.prototype.emit = function(event){\n    this._callbacks = this._callbacks || {};\n    var args = [].slice.call(arguments, 1)\n      , callbacks = this._callbacks[event];\n\n    if (callbacks) {\n      callbacks = callbacks.slice(0);\n      for (var i = 0, len = callbacks.length; i < len; ++i) {\n        callbacks[i].apply(this, args);\n      }\n    }\n\n    return this;\n  };\n\n  /**\n   * Return array of callbacks for `event`.\n   *\n   * @param {String} event\n   * @return {Array}\n   * @api public\n   */\n\n  Emitter.prototype.listeners = function(event){\n    this._callbacks = this._callbacks || {};\n    return this._callbacks[event] || [];\n  };\n\n  /**\n   * Check if this emitter has `event` handlers.\n   *\n   * @param {String} event\n   * @return {Boolean}\n   * @api public\n   */\n\n  Emitter.prototype.hasListeners = function(event){\n    return !! this.listeners(event).length;\n  };\n\n\n/***/ },\n/* 57 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;"use strict";\n  /**\n   * Created by Alex on 11/6/2014.\n   */\n\n  // https://github.com/umdjs/umd/blob/master/returnExports.js#L40-L60\n  // if the module has no dependencies, the above pattern can be simplified to\n  (function (root, factory) {\n    if (true) {\n      // AMD. Register as an anonymous module.\n      !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof exports === \'object\') {\n      // Node. Does not work with strict CommonJS, but\n      // only CommonJS-like environments that support module.exports,\n      // like Node.\n      module.exports = factory();\n    } else {\n      // Browser globals (root is window)\n      root.keycharm = factory();\n    }\n  }(this, function () {\n\n    function keycharm(options) {\n      var preventDefault = options && options.preventDefault || false;\n\n      var container = options && options.container || window;\n\n      var _exportFunctions = {};\n      var _bound = {keydown:{}, keyup:{}};\n      var _keys = {};\n      var i;\n\n      // a - z\n      for (i = 97; i <= 122; i++) {_keys[String.fromCharCode(i)] = {code:65 + (i - 97), shift: false};}\n      // A - Z\n      for (i = 65; i <= 90; i++) {_keys[String.fromCharCode(i)] = {code:i, shift: true};}\n      // 0 - 9\n      for (i = 0;  i <= 9;   i++) {_keys[\'\' + i] = {code:48 + i, shift: false};}\n      // F1 - F12\n      for (i = 1;  i <= 12;   i++) {_keys[\'F\' + i] = {code:111 + i, shift: false};}\n      // num0 - num9\n      for (i = 0;  i <= 9;   i++) {_keys[\'num\' + i] = {code:96 + i, shift: false};}\n\n      // numpad misc\n      _keys[\'num*\'] = {code:106, shift: false};\n      _keys[\'num+\'] = {code:107, shift: false};\n      _keys[\'num-\'] = {code:109, shift: false};\n      _keys[\'num/\'] = {code:111, shift: false};\n      _keys[\'num.\'] = {code:110, shift: false};\n      // arrows\n      _keys[\'left\']  = {code:37, shift: false};\n      _keys[\'up\']    = {code:38, shift: false};\n      _keys[\'right\'] = {code:39, shift: false};\n      _keys[\'down\']  = {code:40, shift: false};\n      // extra keys\n      _keys[\'space\'] = {code:32, shift: false};\n      _keys[\'enter\'] = {code:13, shift: false};\n      _keys[\'shift\'] = {code:16, shift: undefined};\n      _keys[\'esc\']   = {code:27, shift: false};\n      _keys[\'backspace\'] = {code:8, shift: false};\n      _keys[\'tab\']       = {code:9, shift: false};\n      _keys[\'ctrl\']      = {code:17, shift: false};\n      _keys[\'alt\']       = {code:18, shift: false};\n      _keys[\'delete\']    = {code:46, shift: false};\n      _keys[\'pageup\']    = {code:33, shift: false};\n      _keys[\'pagedown\']  = {code:34, shift: false};\n      // symbols\n      _keys[\'=\']     = {code:187, shift: false};\n      _keys[\'-\']     = {code:189, shift: false};\n      _keys[\']\']     = {code:221, shift: false};\n      _keys[\'[\']     = {code:219, shift: false};\n\n\n\n      var down = function(event) {handleEvent(event,\'keydown\');};\n      var up = function(event) {handleEvent(event,\'keyup\');};\n\n      // handle the actualy bound key with the event\n      var handleEvent = function(event,type) {\n        if (_bound[type][event.keyCode] !== undefined) {\n          var bound = _bound[type][event.keyCode];\n          for (var i = 0; i < bound.length; i++) {\n            if (bound[i].shift === undefined) {\n              bound[i].fn(event);\n            }\n            else if (bound[i].shift == true && event.shiftKey == true) {\n              bound[i].fn(event);\n            }\n            else if (bound[i].shift == false && event.shiftKey == false) {\n              bound[i].fn(event);\n            }\n          }\n\n          if (preventDefault == true) {\n            event.preventDefault();\n          }\n        }\n      };\n\n      // bind a key to a callback\n      _exportFunctions.bind = function(key, callback, type) {\n        if (type === undefined) {\n          type = \'keydown\';\n        }\n        if (_keys[key] === undefined) {\n          throw new Error("unsupported key: " + key);\n        }\n        if (_bound[type][_keys[key].code] === undefined) {\n          _bound[type][_keys[key].code] = [];\n        }\n        _bound[type][_keys[key].code].push({fn:callback, shift:_keys[key].shift});\n      };\n\n\n      // bind all keys to a call back (demo purposes)\n      _exportFunctions.bindAll = function(callback, type) {\n        if (type === undefined) {\n          type = \'keydown\';\n        }\n        for (var key in _keys) {\n          if (_keys.hasOwnProperty(key)) {\n            _exportFunctions.bind(key,callback,type);\n          }\n        }\n      };\n\n      // get the key label from an event\n      _exportFunctions.getKey = function(event) {\n        for (var key in _keys) {\n          if (_keys.hasOwnProperty(key)) {\n            if (event.shiftKey == true && _keys[key].shift == true && event.keyCode == _keys[key].code) {\n              return key;\n            }\n            else if (event.shiftKey == false && _keys[key].shift == false && event.keyCode == _keys[key].code) {\n              return key;\n            }\n            else if (event.keyCode == _keys[key].code && key == \'shift\') {\n              return key;\n            }\n          }\n        }\n        return "unknown key, currently not supported";\n      };\n\n      // unbind either a specific callback from a key or all of them (by leaving callback undefined)\n      _exportFunctions.unbind = function(key, callback, type) {\n        if (type === undefined) {\n          type = \'keydown\';\n        }\n        if (_keys[key] === undefined) {\n          throw new Error("unsupported key: " + key);\n        }\n        if (callback !== undefined) {\n          var newBindings = [];\n          var bound = _bound[type][_keys[key].code];\n          if (bound !== undefined) {\n            for (var i = 0; i < bound.length; i++) {\n              if (!(bound[i].fn == callback && bound[i].shift == _keys[key].shift)) {\n                newBindings.push(_bound[type][_keys[key].code][i]);\n              }\n            }\n          }\n          _bound[type][_keys[key].code] = newBindings;\n        }\n        else {\n          _bound[type][_keys[key].code] = [];\n        }\n      };\n\n      // reset all bound variables.\n      _exportFunctions.reset = function() {\n        _bound = {keydown:{}, keyup:{}};\n      };\n\n      // unbind all listeners and reset all variables.\n      _exportFunctions.destroy = function() {\n        _bound = {keydown:{}, keyup:{}};\n        container.removeEventListener(\'keydown\', down, true);\n        container.removeEventListener(\'keyup\', up, true);\n      };\n\n      // create listeners.\n      container.addEventListener(\'keydown\',down,true);\n      container.addEventListener(\'keyup\',up,true);\n\n      // return the public functions.\n      return _exportFunctions;\n    }\n\n    return keycharm;\n  }));\n\n\n\n\n/***/ },\n/* 58 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /* WEBPACK VAR INJECTION */(function(module) {//! moment.js\n  //! version : 2.10.0\n  //! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n  //! license : MIT\n  //! momentjs.com\n\n  (function (global, factory) {\n      true ? module.exports = factory() :\n      typeof define === \'function\' && define.amd ? define(factory) :\n      global.moment = factory()\n  }(this, function () { \'use strict\';\n\n      var hookCallback;\n\n      function hooks__hooks () {\n          return hookCallback.apply(null, arguments);\n      }\n\n      // This is done to register the method called with moment()\n      // without creating circular dependencies.\n      function setHookCallback (callback) {\n          hookCallback = callback;\n      }\n\n      function defaultParsingFlags() {\n          // We need to deep clone this object.\n          return {\n              empty           : false,\n              unusedTokens    : [],\n              unusedInput     : [],\n              overflow        : -2,\n              charsLeftOver   : 0,\n              nullInput       : false,\n              invalidMonth    : null,\n              invalidFormat   : false,\n              userInvalidated : false,\n              iso             : false\n          };\n      }\n\n      function isArray(input) {\n          return Object.prototype.toString.call(input) === \'[object Array]\';\n      }\n\n      function isDate(input) {\n          return Object.prototype.toString.call(input) === \'[object Date]\' || input instanceof Date;\n      }\n\n      function map(arr, fn) {\n          var res = [], i;\n          for (i = 0; i < arr.length; ++i) {\n              res.push(fn(arr[i], i));\n          }\n          return res;\n      }\n\n      function hasOwnProp(a, b) {\n          return Object.prototype.hasOwnProperty.call(a, b);\n      }\n\n      function extend(a, b) {\n          for (var i in b) {\n              if (hasOwnProp(b, i)) {\n                  a[i] = b[i];\n              }\n          }\n\n          if (hasOwnProp(b, \'toString\')) {\n              a.toString = b.toString;\n          }\n\n          if (hasOwnProp(b, \'valueOf\')) {\n              a.valueOf = b.valueOf;\n          }\n\n          return a;\n      }\n\n      function utc__createUTC (input, format, locale, strict) {\n          return createLocalOrUTC(input, format, locale, strict, true).utc();\n      }\n\n      function valid__isValid(m) {\n          if (m._isValid == null) {\n              m._isValid = !isNaN(m._d.getTime()) &&\n                  m._pf.overflow < 0 &&\n                  !m._pf.empty &&\n                  !m._pf.invalidMonth &&\n                  !m._pf.nullInput &&\n                  !m._pf.invalidFormat &&\n                  !m._pf.userInvalidated;\n\n              if (m._strict) {\n                  m._isValid = m._isValid &&\n                      m._pf.charsLeftOver === 0 &&\n                      m._pf.unusedTokens.length === 0 &&\n                      m._pf.bigHour === undefined;\n              }\n          }\n          return m._isValid;\n      }\n\n      function valid__createInvalid (flags) {\n          var m = utc__createUTC(NaN);\n          if (flags != null) {\n              extend(m._pf, flags);\n          }\n          else {\n              m._pf.userInvalidated = true;\n          }\n\n          return m;\n      }\n\n      var momentProperties = hooks__hooks.momentProperties = [];\n\n      function copyConfig(to, from) {\n          var i, prop, val;\n\n          if (typeof from._isAMomentObject !== \'undefined\') {\n              to._isAMomentObject = from._isAMomentObject;\n          }\n          if (typeof from._i !== \'undefined\') {\n              to._i = from._i;\n          }\n          if (typeof from._f !== \'undefined\') {\n              to._f = from._f;\n          }\n          if (typeof from._l !== \'undefined\') {\n              to._l = from._l;\n          }\n          if (typeof from._strict !== \'undefined\') {\n              to._strict = from._strict;\n          }\n          if (typeof from._tzm !== \'undefined\') {\n              to._tzm = from._tzm;\n          }\n          if (typeof from._isUTC !== \'undefined\') {\n              to._isUTC = from._isUTC;\n          }\n          if (typeof from._offset !== \'undefined\') {\n              to._offset = from._offset;\n          }\n          if (typeof from._pf !== \'undefined\') {\n              to._pf = from._pf;\n          }\n          if (typeof from._locale !== \'undefined\') {\n              to._locale = from._locale;\n          }\n\n          if (momentProperties.length > 0) {\n              for (i in momentProperties) {\n                  prop = momentProperties[i];\n                  val = from[prop];\n                  if (typeof val !== \'undefined\') {\n                      to[prop] = val;\n                  }\n              }\n          }\n\n          return to;\n      }\n\n      var updateInProgress = false;\n\n      // Moment prototype object\n      function Moment(config) {\n          copyConfig(this, config);\n          this._d = new Date(+config._d);\n          // Prevent infinite loop in case updateOffset creates new moment\n          // objects.\n          if (updateInProgress === false) {\n              updateInProgress = true;\n              hooks__hooks.updateOffset(this);\n              updateInProgress = false;\n          }\n      }\n\n      function isMoment (obj) {\n          return obj instanceof Moment || (obj != null && hasOwnProp(obj, \'_isAMomentObject\'));\n      }\n\n      function toInt(argumentForCoercion) {\n          var coercedNumber = +argumentForCoercion,\n              value = 0;\n\n          if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n              if (coercedNumber >= 0) {\n                  value = Math.floor(coercedNumber);\n              } else {\n                  value = Math.ceil(coercedNumber);\n              }\n          }\n\n          return value;\n      }\n\n      function compareArrays(array1, array2, dontConvert) {\n          var len = Math.min(array1.length, array2.length),\n              lengthDiff = Math.abs(array1.length - array2.length),\n              diffs = 0,\n              i;\n          for (i = 0; i < len; i++) {\n              if ((dontConvert && array1[i] !== array2[i]) ||\n                  (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                  diffs++;\n              }\n          }\n          return diffs + lengthDiff;\n      }\n\n      function Locale() {\n      }\n\n      var locales = {};\n      var globalLocale;\n\n      function normalizeLocale(key) {\n          return key ? key.toLowerCase().replace(\'_\', \'-\') : key;\n      }\n\n      // pick the locale from the array\n      // try [\'en-au\', \'en-gb\'] as \'en-au\', \'en-gb\', \'en\', as in move through the list trying each\n      // substring from most specific to least, but move to the next array item if it\'s a more specific variant than the current root\n      function chooseLocale(names) {\n          var i = 0, j, next, locale, split;\n\n          while (i < names.length) {\n              split = normalizeLocale(names[i]).split(\'-\');\n              j = split.length;\n              next = normalizeLocale(names[i + 1]);\n              next = next ? next.split(\'-\') : null;\n              while (j > 0) {\n                  locale = loadLocale(split.slice(0, j).join(\'-\'));\n                  if (locale) {\n                      return locale;\n                  }\n                  if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                      //the next array item is better than a shallower substring of this one\n                      break;\n                  }\n                  j--;\n              }\n              i++;\n          }\n          return null;\n      }\n\n      function loadLocale(name) {\n          var oldLocale = null;\n          // TODO: Find a better way to register and load all the locales in Node\n          if (!locales[name] && typeof module !== \'undefined\' &&\n                  module && module.exports) {\n              try {\n                  oldLocale = globalLocale._abbr;\n                  !(function webpackMissingModule() { var e = new Error("Cannot find module \\"./locale\\""); e.code = \'MODULE_NOT_FOUND\'; throw e; }());\n                  // because defineLocale currently also sets the global locale, we\n                  // want to undo that for lazy loaded locales\n                  locales__getSetGlobalLocale(oldLocale);\n              } catch (e) { }\n          }\n          return locales[name];\n      }\n\n      // This function will load locale and then set the global locale.  If\n      // no arguments are passed in, it will simply return the current global\n      // locale key.\n      function locales__getSetGlobalLocale (key, values) {\n          var data;\n          if (key) {\n              if (typeof values === \'undefined\') {\n                  data = locales__getLocale(key);\n              }\n              else {\n                  data = defineLocale(key, values);\n              }\n\n              if (data) {\n                  // moment.duration._locale = moment._locale = data;\n                  globalLocale = data;\n              }\n          }\n\n          return globalLocale._abbr;\n      }\n\n      function defineLocale (name, values) {\n          if (values !== null) {\n              values.abbr = name;\n              if (!locales[name]) {\n                  locales[name] = new Locale();\n              }\n              locales[name].set(values);\n\n              // backwards compat for now: also set the locale\n              locales__getSetGlobalLocale(name);\n\n              return locales[name];\n          } else {\n              // useful for testing\n              delete locales[name];\n              return null;\n          }\n      }\n\n      // returns locale data\n      function locales__getLocale (key) {\n          var locale;\n\n          if (key && key._locale && key._locale._abbr) {\n              key = key._locale._abbr;\n          }\n\n          if (!key) {\n              return globalLocale;\n          }\n\n          if (!isArray(key)) {\n              //short-circuit everything else\n              locale = loadLocale(key);\n              if (locale) {\n                  return locale;\n              }\n              key = [key];\n          }\n\n          return chooseLocale(key);\n      }\n\n      var aliases = {};\n\n      function addUnitAlias (unit, shorthand) {\n          var lowerCase = unit.toLowerCase();\n          aliases[lowerCase] = aliases[lowerCase + \'s\'] = aliases[shorthand] = unit;\n      }\n\n      function normalizeUnits(units) {\n          return typeof units === \'string\' ? aliases[units] || aliases[units.toLowerCase()] : undefined;\n      }\n\n      function normalizeObjectUnits(inputObject) {\n          var normalizedInput = {},\n              normalizedProp,\n              prop;\n\n          for (prop in inputObject) {\n              if (hasOwnProp(inputObject, prop)) {\n                  normalizedProp = normalizeUnits(prop);\n                  if (normalizedProp) {\n                      normalizedInput[normalizedProp] = inputObject[prop];\n                  }\n              }\n          }\n\n          return normalizedInput;\n      }\n\n      function makeGetSet (unit, keepTime) {\n          return function (value) {\n              if (value != null) {\n                  get_set__set(this, unit, value);\n                  hooks__hooks.updateOffset(this, keepTime);\n                  return this;\n              } else {\n                  return get_set__get(this, unit);\n              }\n          };\n      }\n\n      function get_set__get (mom, unit) {\n          return mom._d[\'get\' + (mom._isUTC ? \'UTC\' : \'\') + unit]();\n      }\n\n      function get_set__set (mom, unit, value) {\n          return mom._d[\'set\' + (mom._isUTC ? \'UTC\' : \'\') + unit](value);\n      }\n\n      // MOMENTS\n\n      function getSet (units, value) {\n          var unit;\n          if (typeof units === \'object\') {\n              for (unit in units) {\n                  this.set(unit, units[unit]);\n              }\n          } else {\n              units = normalizeUnits(units);\n              if (typeof this[units] === \'function\') {\n                  return this[units](value);\n              }\n          }\n          return this;\n      }\n\n      function zeroFill(number, targetLength, forceSign) {\n          var output = \'\' + Math.abs(number),\n              sign = number >= 0;\n\n          while (output.length < targetLength) {\n              output = \'0\' + output;\n          }\n          return (sign ? (forceSign ? \'+\' : \'\') : \'-\') + output;\n      }\n\n      var formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g;\n\n      var localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g;\n\n      var formatFunctions = {};\n\n      var formatTokenFunctions = {};\n\n      // token:    \'M\'\n      // padded:   [\'MM\', 2]\n      // ordinal:  \'Mo\'\n      // callback: function () { this.month() + 1 }\n      function addFormatToken (token, padded, ordinal, callback) {\n          var func = callback;\n          if (typeof callback === \'string\') {\n              func = function () {\n                  return this[callback]();\n              };\n          }\n          if (token) {\n              formatTokenFunctions[token] = func;\n          }\n          if (padded) {\n              formatTokenFunctions[padded[0]] = function () {\n                  return zeroFill(func.apply(this, arguments), padded[1], padded[2]);\n              };\n          }\n          if (ordinal) {\n              formatTokenFunctions[ordinal] = function () {\n                  return this.localeData().ordinal(func.apply(this, arguments), token);\n              };\n          }\n      }\n\n      function removeFormattingTokens(input) {\n          if (input.match(/\\[[\\s\\S]/)) {\n              return input.replace(/^\\[|\\]$/g, \'\');\n          }\n          return input.replace(/\\\\/g, \'\');\n      }\n\n      function makeFormatFunction(format) {\n          var array = format.match(formattingTokens), i, length;\n\n          for (i = 0, length = array.length; i < length; i++) {\n              if (formatTokenFunctions[array[i]]) {\n                  array[i] = formatTokenFunctions[array[i]];\n              } else {\n                  array[i] = removeFormattingTokens(array[i]);\n              }\n          }\n\n          return function (mom) {\n              var output = \'\';\n              for (i = 0; i < length; i++) {\n                  output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n              }\n              return output;\n          };\n      }\n\n      // format date using native date object\n      function formatMoment(m, format) {\n          if (!m.isValid()) {\n              return m.localeData().invalidDate();\n          }\n\n          format = expandFormat(format, m.localeData());\n\n          if (!formatFunctions[format]) {\n              formatFunctions[format] = makeFormatFunction(format);\n          }\n\n          return formatFunctions[format](m);\n      }\n\n      function expandFormat(format, locale) {\n          var i = 5;\n\n          function replaceLongDateFormatTokens(input) {\n              return locale.longDateFormat(input) || input;\n          }\n\n          localFormattingTokens.lastIndex = 0;\n          while (i >= 0 && localFormattingTokens.test(format)) {\n              format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n              localFormattingTokens.lastIndex = 0;\n              i -= 1;\n          }\n\n          return format;\n      }\n\n      var match1         = /\\d/;            //       0 - 9\n      var match2         = /\\d\\d/;          //      00 - 99\n      var match3         = /\\d{3}/;         //     000 - 999\n      var match4         = /\\d{4}/;         //    0000 - 9999\n      var match6         = /[+-]?\\d{6}/;    // -999999 - 999999\n      var match1to2      = /\\d\\d?/;         //       0 - 99\n      var match1to3      = /\\d{1,3}/;       //       0 - 999\n      var match1to4      = /\\d{1,4}/;       //       0 - 9999\n      var match1to6      = /[+-]?\\d{1,6}/;  // -999999 - 999999\n\n      var matchUnsigned  = /\\d+/;           //       0 - inf\n      var matchSigned    = /[+-]?\\d+/;      //    -inf - inf\n\n      var matchOffset    = /Z|[+-]\\d\\d:?\\d\\d/gi; // +00:00 -00:00 +0000 -0000 or Z\n\n      var matchTimestamp = /[+-]?\\d+(\\.\\d{1,3})?/; // 123456789 123456789.123\n\n      // any word (or two) characters or numbers including two/three word month in arabic.\n      var matchWord = /[0-9]*[\'a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i;\n\n      var regexes = {};\n\n      function addRegexToken (token, regex, strictRegex) {\n          regexes[token] = typeof regex === \'function\' ? regex : function (isStrict) {\n              return (isStrict && strictRegex) ? strictRegex : regex;\n          };\n      }\n\n      function getParseRegexForToken (token, config) {\n          if (!hasOwnProp(regexes, token)) {\n              return new RegExp(unescapeFormat(token));\n          }\n\n          return regexes[token](config._strict, config._locale);\n      }\n\n      // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n      function unescapeFormat(s) {\n          return s.replace(\'\\\\\', \'\').replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n              return p1 || p2 || p3 || p4;\n          }).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, \'\\\\$&\');\n      }\n\n      var tokens = {};\n\n      function addParseToken (token, callback) {\n          var i, func = callback;\n          if (typeof token === \'string\') {\n              token = [token];\n          }\n          if (typeof callback === \'number\') {\n              func = function (input, array) {\n                  array[callback] = toInt(input);\n              };\n          }\n          for (i = 0; i < token.length; i++) {\n              tokens[token[i]] = func;\n          }\n      }\n\n      function addWeekParseToken (token, callback) {\n          addParseToken(token, function (input, array, config, token) {\n              config._w = config._w || {};\n              callback(input, config._w, config, token);\n          });\n      }\n\n      function addTimeToArrayFromToken(token, input, config) {\n          if (input != null && hasOwnProp(tokens, token)) {\n              tokens[token](input, config._a, config, token);\n          }\n      }\n\n      var YEAR = 0;\n      var MONTH = 1;\n      var DATE = 2;\n      var HOUR = 3;\n      var MINUTE = 4;\n      var SECOND = 5;\n      var MILLISECOND = 6;\n\n      function daysInMonth(year, month) {\n          return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n      }\n\n      // FORMATTING\n\n      addFormatToken(\'M\', [\'MM\', 2], \'Mo\', function () {\n          return this.month() + 1;\n      });\n\n      addFormatToken(\'MMM\', 0, 0, function (format) {\n          return this.localeData().monthsShort(this, format);\n      });\n\n      addFormatToken(\'MMMM\', 0, 0, function (format) {\n          return this.localeData().months(this, format);\n      });\n\n      // ALIASES\n\n      addUnitAlias(\'month\', \'M\');\n\n      // PARSING\n\n      addRegexToken(\'M\',    match1to2);\n      addRegexToken(\'MM\',   match1to2, match2);\n      addRegexToken(\'MMM\',  matchWord);\n      addRegexToken(\'MMMM\', matchWord);\n\n      addParseToken([\'M\', \'MM\'], function (input, array) {\n          array[MONTH] = toInt(input) - 1;\n      });\n\n      addParseToken([\'MMM\', \'MMMM\'], function (input, array, config, token) {\n          var month = config._locale.monthsParse(input, token, config._strict);\n          // if we didn\'t find a month name, mark the date as invalid.\n          if (month != null) {\n              array[MONTH] = month;\n          } else {\n              config._pf.invalidMonth = input;\n          }\n      });\n\n      // LOCALES\n\n      var defaultLocaleMonths = \'January_February_March_April_May_June_July_August_September_October_November_December\'.split(\'_\');\n      function localeMonths (m) {\n          return this._months[m.month()];\n      }\n\n      var defaultLocaleMonthsShort = \'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\'.split(\'_\');\n      function localeMonthsShort (m) {\n          return this._monthsShort[m.month()];\n      }\n\n      function localeMonthsParse (monthName, format, strict) {\n          var i, mom, regex;\n\n          if (!this._monthsParse) {\n              this._monthsParse = [];\n              this._longMonthsParse = [];\n              this._shortMonthsParse = [];\n          }\n\n          for (i = 0; i < 12; i++) {\n              // make the regex if we don\'t have it already\n              mom = utc__createUTC([2000, i]);\n              if (strict && !this._longMonthsParse[i]) {\n                  this._longMonthsParse[i] = new RegExp(\'^\' + this.months(mom, \'\').replace(\'.\', \'\') + \'$\', \'i\');\n                  this._shortMonthsParse[i] = new RegExp(\'^\' + this.monthsShort(mom, \'\').replace(\'.\', \'\') + \'$\', \'i\');\n              }\n              if (!strict && !this._monthsParse[i]) {\n                  regex = \'^\' + this.months(mom, \'\') + \'|^\' + this.monthsShort(mom, \'\');\n                  this._monthsParse[i] = new RegExp(regex.replace(\'.\', \'\'), \'i\');\n              }\n              // test the regex\n              if (strict && format === \'MMMM\' && this._longMonthsParse[i].test(monthName)) {\n                  return i;\n              } else if (strict && format === \'MMM\' && this._shortMonthsParse[i].test(monthName)) {\n                  return i;\n              } else if (!strict && this._monthsParse[i].test(monthName)) {\n                  return i;\n              }\n          }\n      }\n\n      // MOMENTS\n\n      function setMonth (mom, value) {\n          var dayOfMonth;\n\n          // TODO: Move this out of here!\n          if (typeof value === \'string\') {\n              value = mom.localeData().monthsParse(value);\n              // TODO: Another silent failure?\n              if (typeof value !== \'number\') {\n                  return mom;\n              }\n          }\n\n          dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));\n          mom._d[\'set\' + (mom._isUTC ? \'UTC\' : \'\') + \'Month\'](value, dayOfMonth);\n          return mom;\n      }\n\n      function getSetMonth (value) {\n          if (value != null) {\n              setMonth(this, value);\n              hooks__hooks.updateOffset(this, true);\n              return this;\n          } else {\n              return get_set__get(this, \'Month\');\n          }\n      }\n\n      function getDaysInMonth () {\n          return daysInMonth(this.year(), this.month());\n      }\n\n      function checkOverflow (m) {\n          var overflow;\n          var a = m._a;\n\n          if (a && m._pf.overflow === -2) {\n              overflow =\n                  a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :\n                  a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :\n                  a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :\n                  a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :\n                  a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :\n                  a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :\n                  -1;\n\n              if (m._pf._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                  overflow = DATE;\n              }\n\n              m._pf.overflow = overflow;\n          }\n\n          return m;\n      }\n\n      function warn(msg) {\n          if (hooks__hooks.suppressDeprecationWarnings === false && typeof console !== \'undefined\' && console.warn) {\n              console.warn(\'Deprecation warning: \' + msg);\n          }\n      }\n\n      function deprecate(msg, fn) {\n          var firstTime = true;\n          return extend(function () {\n              if (firstTime) {\n                  warn(msg);\n                  firstTime = false;\n              }\n              return fn.apply(this, arguments);\n          }, fn);\n      }\n\n      var deprecations = {};\n\n      function deprecateSimple(name, msg) {\n          if (!deprecations[name]) {\n              warn(msg);\n              deprecations[name] = true;\n          }\n      }\n\n      hooks__hooks.suppressDeprecationWarnings = false;\n\n      var from_string__isoRegex = /^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/;\n\n      var isoDates = [\n          [\'YYYYYY-MM-DD\', /[+-]\\d{6}-\\d{2}-\\d{2}/],\n          [\'YYYY-MM-DD\', /\\d{4}-\\d{2}-\\d{2}/],\n          [\'GGGG-[W]WW-E\', /\\d{4}-W\\d{2}-\\d/],\n          [\'GGGG-[W]WW\', /\\d{4}-W\\d{2}/],\n          [\'YYYY-DDD\', /\\d{4}-\\d{3}/]\n      ];\n\n      // iso time formats and regexes\n      var isoTimes = [\n          [\'HH:mm:ss.SSSS\', /(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n          [\'HH:mm:ss\', /(T| )\\d\\d:\\d\\d:\\d\\d/],\n          [\'HH:mm\', /(T| )\\d\\d:\\d\\d/],\n          [\'HH\', /(T| )\\d\\d/]\n      ];\n\n      var aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i;\n\n      // date from iso format\n      function configFromISO(config) {\n          var i, l,\n              string = config._i,\n              match = from_string__isoRegex.exec(string);\n\n          if (match) {\n              config._pf.iso = true;\n              for (i = 0, l = isoDates.length; i < l; i++) {\n                  if (isoDates[i][1].exec(string)) {\n                      // match[5] should be \'T\' or undefined\n                      config._f = isoDates[i][0] + (match[6] || \' \');\n                      break;\n                  }\n              }\n              for (i = 0, l = isoTimes.length; i < l; i++) {\n                  if (isoTimes[i][1].exec(string)) {\n                      config._f += isoTimes[i][0];\n                      break;\n                  }\n              }\n              if (string.match(matchOffset)) {\n                  config._f += \'Z\';\n              }\n              configFromStringAndFormat(config);\n          } else {\n              config._isValid = false;\n          }\n      }\n\n      // date from iso format or fallback\n      function configFromString(config) {\n          var matched = aspNetJsonRegex.exec(config._i);\n\n          if (matched !== null) {\n              config._d = new Date(+matched[1]);\n              return;\n          }\n\n          configFromISO(config);\n          if (config._isValid === false) {\n              delete config._isValid;\n              hooks__hooks.createFromInputFallback(config);\n          }\n      }\n\n      hooks__hooks.createFromInputFallback = deprecate(\n          \'moment construction falls back to js Date. This is \' +\n          \'discouraged and will be removed in upcoming major \' +\n          \'release. Please refer to \' +\n          \'https://github.com/moment/moment/issues/1407 for more info.\',\n          function (config) {\n              config._d = new Date(config._i + (config._useUTC ? \' UTC\' : \'\'));\n          }\n      );\n\n      function createDate (y, m, d, h, M, s, ms) {\n          //can\'t just apply() to create a date:\n          //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n          var date = new Date(y, m, d, h, M, s, ms);\n\n          //the date constructor doesn\'t accept years < 1970\n          if (y < 1970) {\n              date.setFullYear(y);\n          }\n          return date;\n      }\n\n      function createUTCDate (y) {\n          var date = new Date(Date.UTC.apply(null, arguments));\n          if (y < 1970) {\n              date.setUTCFullYear(y);\n          }\n          return date;\n      }\n\n      addFormatToken(0, [\'YY\', 2], 0, function () {\n          return this.year() % 100;\n      });\n\n      addFormatToken(0, [\'YYYY\',   4],       0, \'year\');\n      addFormatToken(0, [\'YYYYY\',  5],       0, \'year\');\n      addFormatToken(0, [\'YYYYYY\', 6, true], 0, \'year\');\n\n      // ALIASES\n\n      addUnitAlias(\'year\', \'y\');\n\n      // PARSING\n\n      addRegexToken(\'Y\',      matchSigned);\n      addRegexToken(\'YY\',     match1to2, match2);\n      addRegexToken(\'YYYY\',   match1to4, match4);\n      addRegexToken(\'YYYYY\',  match1to6, match6);\n      addRegexToken(\'YYYYYY\', match1to6, match6);\n\n      addParseToken([\'YYYY\', \'YYYYY\', \'YYYYYY\'], YEAR);\n      addParseToken(\'YY\', function (input, array) {\n          array[YEAR] = hooks__hooks.parseTwoDigitYear(input);\n      });\n\n      // HELPERS\n\n      function daysInYear(year) {\n          return isLeapYear(year) ? 366 : 365;\n      }\n\n      function isLeapYear(year) {\n          return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n      }\n\n      // HOOKS\n\n      hooks__hooks.parseTwoDigitYear = function (input) {\n          return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n      };\n\n      // MOMENTS\n\n      var getSetYear = makeGetSet(\'FullYear\', false);\n\n      function getIsLeapYear () {\n          return isLeapYear(this.year());\n      }\n\n      addFormatToken(\'w\', [\'ww\', 2], \'wo\', \'week\');\n      addFormatToken(\'W\', [\'WW\', 2], \'Wo\', \'isoWeek\');\n\n      // ALIASES\n\n      addUnitAlias(\'week\', \'w\');\n      addUnitAlias(\'isoWeek\', \'W\');\n\n      // PARSING\n\n      addRegexToken(\'w\',  match1to2);\n      addRegexToken(\'ww\', match1to2, match2);\n      addRegexToken(\'W\',  match1to2);\n      addRegexToken(\'WW\', match1to2, match2);\n\n      addWeekParseToken([\'w\', \'ww\', \'W\', \'WW\'], function (input, week, config, token) {\n          week[token.substr(0, 1)] = toInt(input);\n      });\n\n      // HELPERS\n\n      // firstDayOfWeek       0 = sun, 6 = sat\n      //                      the day of the week that starts the week\n      //                      (usually sunday or monday)\n      // firstDayOfWeekOfYear 0 = sun, 6 = sat\n      //                      the first week is the week that contains the first\n      //                      of this day of the week\n      //                      (eg. ISO weeks use thursday (4))\n      function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {\n          var end = firstDayOfWeekOfYear - firstDayOfWeek,\n              daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),\n              adjustedMoment;\n\n\n          if (daysToDayOfWeek > end) {\n              daysToDayOfWeek -= 7;\n          }\n\n          if (daysToDayOfWeek < end - 7) {\n              daysToDayOfWeek += 7;\n          }\n\n          adjustedMoment = local__createLocal(mom).add(daysToDayOfWeek, \'d\');\n          return {\n              week: Math.ceil(adjustedMoment.dayOfYear() / 7),\n              year: adjustedMoment.year()\n          };\n      }\n\n      // LOCALES\n\n      function localeWeek (mom) {\n          return weekOfYear(mom, this._week.dow, this._week.doy).week;\n      }\n\n      var defaultLocaleWeek = {\n          dow : 0, // Sunday is the first day of the week.\n          doy : 6  // The week that contains Jan 1st is the first week of the year.\n      };\n\n      function localeFirstDayOfWeek () {\n          return this._week.dow;\n      }\n\n      function localeFirstDayOfYear () {\n          return this._week.doy;\n      }\n\n      // MOMENTS\n\n      function getSetWeek (input) {\n          var week = this.localeData().week(this);\n          return input == null ? week : this.add((input - week) * 7, \'d\');\n      }\n\n      function getSetISOWeek (input) {\n          var week = weekOfYear(this, 1, 4).week;\n          return input == null ? week : this.add((input - week) * 7, \'d\');\n      }\n\n      addFormatToken(\'DDD\', [\'DDDD\', 3], \'DDDo\', \'dayOfYear\');\n\n      // ALIASES\n\n      addUnitAlias(\'dayOfYear\', \'DDD\');\n\n      // PARSING\n\n      addRegexToken(\'DDD\',  match1to3);\n      addRegexToken(\'DDDD\', match3);\n      addParseToken([\'DDD\', \'DDDD\'], function (input, array, config) {\n          config._dayOfYear = toInt(input);\n      });\n\n      // HELPERS\n\n      //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n      function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {\n          var d = createUTCDate(year, 0, 1).getUTCDay();\n          var daysToAdd;\n          var dayOfYear;\n\n          d = d === 0 ? 7 : d;\n          weekday = weekday != null ? weekday : firstDayOfWeek;\n          daysToAdd = firstDayOfWeek - d + (d > firstDayOfWeekOfYear ? 7 : 0) - (d < firstDayOfWeek ? 7 : 0);\n          dayOfYear = 7 * (week - 1) + (weekday - firstDayOfWeek) + daysToAdd + 1;\n\n          return {\n              year      : dayOfYear > 0 ? year      : year - 1,\n              dayOfYear : dayOfYear > 0 ? dayOfYear : daysInYear(year - 1) + dayOfYear\n          };\n      }\n\n      // MOMENTS\n\n      function getSetDayOfYear (input) {\n          var dayOfYear = Math.round((this.clone().startOf(\'day\') - this.clone().startOf(\'year\')) / 864e5) + 1;\n          return input == null ? dayOfYear : this.add((input - dayOfYear), \'d\');\n      }\n\n      // Pick the first defined of two or three arguments.\n      function defaults(a, b, c) {\n          if (a != null) {\n              return a;\n          }\n          if (b != null) {\n              return b;\n          }\n          return c;\n      }\n\n      function currentDateArray(config) {\n          var now = new Date();\n          if (config._useUTC) {\n              return [now.getUTCFullYear(), now.getUTCMonth(), now.getUTCDate()];\n          }\n          return [now.getFullYear(), now.getMonth(), now.getDate()];\n      }\n\n      // convert an array to a date.\n      // the array should mirror the parameters below\n      // note: all values past the year are optional and will default to the lowest possible value.\n      // [year, month, day , hour, minute, second, millisecond]\n      function configFromArray (config) {\n          var i, date, input = [], currentDate, yearToUse;\n\n          if (config._d) {\n              return;\n          }\n\n          currentDate = currentDateArray(config);\n\n          //compute day of the year from weeks and weekdays\n          if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n              dayOfYearFromWeekInfo(config);\n          }\n\n          //if the day of the year is set, figure out what it is\n          if (config._dayOfYear) {\n              yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);\n\n              if (config._dayOfYear > daysInYear(yearToUse)) {\n                  config._pf._overflowDayOfYear = true;\n              }\n\n              date = createUTCDate(yearToUse, 0, config._dayOfYear);\n              config._a[MONTH] = date.getUTCMonth();\n              config._a[DATE] = date.getUTCDate();\n          }\n\n          // Default to current date.\n          // * if no year, month, day of month are given, default to today\n          // * if day of month is given, default month and year\n          // * if month is given, default only year\n          // * if year is given, don\'t default anything\n          for (i = 0; i < 3 && config._a[i] == null; ++i) {\n              config._a[i] = input[i] = currentDate[i];\n          }\n\n          // Zero out whatever was not defaulted, including time\n          for (; i < 7; i++) {\n              config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n          }\n\n          // Check for 24:00:00.000\n          if (config._a[HOUR] === 24 &&\n                  config._a[MINUTE] === 0 &&\n                  config._a[SECOND] === 0 &&\n                  config._a[MILLISECOND] === 0) {\n              config._nextDay = true;\n              config._a[HOUR] = 0;\n          }\n\n          config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);\n          // Apply timezone offset from input. The actual utcOffset can be changed\n          // with parseZone.\n          if (config._tzm != null) {\n              config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);\n          }\n\n          if (config._nextDay) {\n              config._a[HOUR] = 24;\n          }\n      }\n\n      function dayOfYearFromWeekInfo(config) {\n          var w, weekYear, week, weekday, dow, doy, temp;\n\n          w = config._w;\n          if (w.GG != null || w.W != null || w.E != null) {\n              dow = 1;\n              doy = 4;\n\n              // TODO: We need to take the current isoWeekYear, but that depends on\n              // how we interpret now (local, utc, fixed offset). So create\n              // a now version of current config (take local/utc/offset flags, and\n              // create now).\n              weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(local__createLocal(), 1, 4).year);\n              week = defaults(w.W, 1);\n              weekday = defaults(w.E, 1);\n          } else {\n              dow = config._locale._week.dow;\n              doy = config._locale._week.doy;\n\n              weekYear = defaults(w.gg, config._a[YEAR], weekOfYear(local__createLocal(), dow, doy).year);\n              week = defaults(w.w, 1);\n\n              if (w.d != null) {\n                  // weekday -- low day numbers are considered next week\n                  weekday = w.d;\n                  if (weekday < dow) {\n                      ++week;\n                  }\n              } else if (w.e != null) {\n                  // local weekday -- counting starts from begining of week\n                  weekday = w.e + dow;\n              } else {\n                  // default to begining of week\n                  weekday = dow;\n              }\n          }\n          temp = dayOfYearFromWeeks(weekYear, week, weekday, doy, dow);\n\n          config._a[YEAR] = temp.year;\n          config._dayOfYear = temp.dayOfYear;\n      }\n\n      hooks__hooks.ISO_8601 = function () {};\n\n      // date from string and format string\n      function configFromStringAndFormat(config) {\n          // TODO: Move this to another part of the creation flow to prevent circular deps\n          if (config._f === hooks__hooks.ISO_8601) {\n              configFromISO(config);\n              return;\n          }\n\n          config._a = [];\n          config._pf.empty = true;\n\n          // This array is used to make a Date, either with `new Date` or `Date.UTC`\n          var string = \'\' + config._i,\n              i, parsedInput, tokens, token, skipped,\n              stringLength = string.length,\n              totalParsedInputLength = 0;\n\n          tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n          for (i = 0; i < tokens.length; i++) {\n              token = tokens[i];\n              parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n              if (parsedInput) {\n                  skipped = string.substr(0, string.indexOf(parsedInput));\n                  if (skipped.length > 0) {\n                      config._pf.unusedInput.push(skipped);\n                  }\n                  string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                  totalParsedInputLength += parsedInput.length;\n              }\n              // don\'t parse if it\'s not a known token\n              if (formatTokenFunctions[token]) {\n                  if (parsedInput) {\n                      config._pf.empty = false;\n                  }\n                  else {\n                      config._pf.unusedTokens.push(token);\n                  }\n                  addTimeToArrayFromToken(token, parsedInput, config);\n              }\n              else if (config._strict && !parsedInput) {\n                  config._pf.unusedTokens.push(token);\n              }\n          }\n\n          // add remaining unparsed input length to the string\n          config._pf.charsLeftOver = stringLength - totalParsedInputLength;\n          if (string.length > 0) {\n              config._pf.unusedInput.push(string);\n          }\n\n          // clear _12h flag if hour is <= 12\n          if (config._pf.bigHour === true && config._a[HOUR] <= 12) {\n              config._pf.bigHour = undefined;\n          }\n          // handle meridiem\n          config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);\n\n          configFromArray(config);\n          checkOverflow(config);\n      }\n\n\n      function meridiemFixWrap (locale, hour, meridiem) {\n          var isPm;\n\n          if (meridiem == null) {\n              // nothing to do\n              return hour;\n          }\n          if (locale.meridiemHour != null) {\n              return locale.meridiemHour(hour, meridiem);\n          } else if (locale.isPM != null) {\n              // Fallback\n              isPm = locale.isPM(meridiem);\n              if (isPm && hour < 12) {\n                  hour += 12;\n              }\n              if (!isPm && hour === 12) {\n                  hour = 0;\n              }\n              return hour;\n          } else {\n              // this is not supposed to happen\n              return hour;\n          }\n      }\n\n      function configFromStringAndArray(config) {\n          var tempConfig,\n              bestMoment,\n\n              scoreToBeat,\n              i,\n              currentScore;\n\n          if (config._f.length === 0) {\n              config._pf.invalidFormat = true;\n              config._d = new Date(NaN);\n              return;\n          }\n\n          for (i = 0; i < config._f.length; i++) {\n              currentScore = 0;\n              tempConfig = copyConfig({}, config);\n              if (config._useUTC != null) {\n                  tempConfig._useUTC = config._useUTC;\n              }\n              tempConfig._pf = defaultParsingFlags();\n              tempConfig._f = config._f[i];\n              configFromStringAndFormat(tempConfig);\n\n              if (!valid__isValid(tempConfig)) {\n                  continue;\n              }\n\n              // if there is any input that was not parsed add a penalty for that format\n              currentScore += tempConfig._pf.charsLeftOver;\n\n              //or tokens\n              currentScore += tempConfig._pf.unusedTokens.length * 10;\n\n              tempConfig._pf.score = currentScore;\n\n              if (scoreToBeat == null || currentScore < scoreToBeat) {\n                  scoreToBeat = currentScore;\n                  bestMoment = tempConfig;\n              }\n          }\n\n          extend(config, bestMoment || tempConfig);\n      }\n\n      function configFromObject(config) {\n          if (config._d) {\n              return;\n          }\n\n          var i = normalizeObjectUnits(config._i);\n          config._a = [i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond];\n\n          configFromArray(config);\n      }\n\n      function createFromConfig (config) {\n          var input = config._i,\n              format = config._f,\n              res;\n\n          config._locale = config._locale || locales__getLocale(config._l);\n\n          if (input === null || (format === undefined && input === \'\')) {\n              return valid__createInvalid({nullInput: true});\n          }\n\n          if (typeof input === \'string\') {\n              config._i = input = config._locale.preparse(input);\n          }\n\n          if (isMoment(input)) {\n              return new Moment(checkOverflow(input));\n          } else if (isArray(format)) {\n              configFromStringAndArray(config);\n          } else if (format) {\n              configFromStringAndFormat(config);\n          } else {\n              configFromInput(config);\n          }\n\n          res = new Moment(checkOverflow(config));\n          if (res._nextDay) {\n              // Adding is smart enough around DST\n              res.add(1, \'d\');\n              res._nextDay = undefined;\n          }\n\n          return res;\n      }\n\n      function configFromInput(config) {\n          var input = config._i;\n          if (input === undefined) {\n              config._d = new Date();\n          } else if (isDate(input)) {\n              config._d = new Date(+input);\n          } else if (typeof input === \'string\') {\n              configFromString(config);\n          } else if (isArray(input)) {\n              config._a = map(input.slice(0), function (obj) {\n                  return parseInt(obj, 10);\n              });\n              configFromArray(config);\n          } else if (typeof(input) === \'object\') {\n              configFromObject(config);\n          } else if (typeof(input) === \'number\') {\n              // from milliseconds\n              config._d = new Date(input);\n          } else {\n              hooks__hooks.createFromInputFallback(config);\n          }\n      }\n\n      function createLocalOrUTC (input, format, locale, strict, isUTC) {\n          var c = {};\n\n          if (typeof(locale) === \'boolean\') {\n              strict = locale;\n              locale = undefined;\n          }\n          // object construction must be done this way.\n          // https://github.com/moment/moment/issues/1423\n          c._isAMomentObject = true;\n          c._useUTC = c._isUTC = isUTC;\n          c._l = locale;\n          c._i = input;\n          c._f = format;\n          c._strict = strict;\n          c._pf = defaultParsingFlags();\n\n          return createFromConfig(c);\n      }\n\n      function local__createLocal (input, format, locale, strict) {\n          return createLocalOrUTC(input, format, locale, strict, false);\n      }\n\n      var prototypeMin = deprecate(\n           \'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548\',\n           function () {\n               var other = local__createLocal.apply(null, arguments);\n               return other < this ? this : other;\n           }\n       );\n\n      var prototypeMax = deprecate(\n          \'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548\',\n          function () {\n              var other = local__createLocal.apply(null, arguments);\n              return other > this ? this : other;\n          }\n      );\n\n      // Pick a moment m from moments so that m[fn](other) is true for all\n      // other. This relies on the function fn to be transitive.\n      //\n      // moments should either be an array of moment objects or an array, whose\n      // first element is an array of moment objects.\n      function pickBy(fn, moments) {\n          var res, i;\n          if (moments.length === 1 && isArray(moments[0])) {\n              moments = moments[0];\n          }\n          if (!moments.length) {\n              return local__createLocal();\n          }\n          res = moments[0];\n          for (i = 1; i < moments.length; ++i) {\n              if (moments[i][fn](res)) {\n                  res = moments[i];\n              }\n          }\n          return res;\n      }\n\n      // TODO: Use [].sort instead?\n      function min () {\n          var args = [].slice.call(arguments, 0);\n\n          return pickBy(\'isBefore\', args);\n      }\n\n      function max () {\n          var args = [].slice.call(arguments, 0);\n\n          return pickBy(\'isAfter\', args);\n      }\n\n      function Duration (duration) {\n          var normalizedInput = normalizeObjectUnits(duration),\n              years = normalizedInput.year || 0,\n              quarters = normalizedInput.quarter || 0,\n              months = normalizedInput.month || 0,\n              weeks = normalizedInput.week || 0,\n              days = normalizedInput.day || 0,\n              hours = normalizedInput.hour || 0,\n              minutes = normalizedInput.minute || 0,\n              seconds = normalizedInput.second || 0,\n              milliseconds = normalizedInput.millisecond || 0;\n\n          // representation for dateAddRemove\n          this._milliseconds = +milliseconds +\n              seconds * 1e3 + // 1000\n              minutes * 6e4 + // 1000 * 60\n              hours * 36e5; // 1000 * 60 * 60\n          // Because of dateAddRemove treats 24 hours as different from a\n          // day when working around DST, we need to store them separately\n          this._days = +days +\n              weeks * 7;\n          // It is impossible translate months into days without knowing\n          // which months you are are talking about, so we have to store\n          // it separately.\n          this._months = +months +\n              quarters * 3 +\n              years * 12;\n\n          this._data = {};\n\n          this._locale = locales__getLocale();\n\n          this._bubble();\n      }\n\n      function isDuration (obj) {\n          return obj instanceof Duration;\n      }\n\n      function offset (token, separator) {\n          addFormatToken(token, 0, 0, function () {\n              var offset = this.utcOffset();\n              var sign = \'+\';\n              if (offset < 0) {\n                  offset = -offset;\n                  sign = \'-\';\n              }\n              return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);\n          });\n      }\n\n      offset(\'Z\', \':\');\n      offset(\'ZZ\', \'\');\n\n      // PARSING\n\n      addRegexToken(\'Z\',  matchOffset);\n      addRegexToken(\'ZZ\', matchOffset);\n      addParseToken([\'Z\', \'ZZ\'], function (input, array, config) {\n          config._useUTC = true;\n          config._tzm = offsetFromString(input);\n      });\n\n      // HELPERS\n\n      // timezone chunker\n      // \'+10:00\' > [\'10\',  \'00\']\n      // \'-1530\'  > [\'-15\', \'30\']\n      var chunkOffset = /([\\+\\-]|\\d\\d)/gi;\n\n      function offsetFromString(string) {\n          var matches = ((string || \'\').match(matchOffset) || []);\n          var chunk   = matches[matches.length - 1] || [];\n          var parts   = (chunk + \'\').match(chunkOffset) || [\'-\', 0, 0];\n          var minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n          return parts[0] === \'+\' ? minutes : -minutes;\n      }\n\n      // Return a moment from input, that is local/utc/zone equivalent to model.\n      function cloneWithOffset(input, model) {\n          var res, diff;\n          if (model._isUTC) {\n              res = model.clone();\n              diff = (isMoment(input) || isDate(input) ? +input : +local__createLocal(input)) - (+res);\n              // Use low-level api, because this fn is low-level api.\n              res._d.setTime(+res._d + diff);\n              hooks__hooks.updateOffset(res, false);\n              return res;\n          } else {\n              return local__createLocal(input).local();\n          }\n          return model._isUTC ? local__createLocal(input).zone(model._offset || 0) : local__createLocal(input).local();\n      }\n\n      function getDateOffset (m) {\n          // On Firefox.24 Date#getTimezoneOffset returns a floating point.\n          // https://github.com/moment/moment/pull/1871\n          return -Math.round(m._d.getTimezoneOffset() / 15) * 15;\n      }\n\n      // HOOKS\n\n      // This function will be called whenever a moment is mutated.\n      // It is intended to keep the offset in sync with the timezone.\n      hooks__hooks.updateOffset = function () {};\n\n      // MOMENTS\n\n      // keepLocalTime = true means only change the timezone, without\n      // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]--\x3e\n      // 5:31:26 +0200 It is possible that 5:31:26 doesn\'t exist with offset\n      // +0200, so we adjust the time as needed, to be valid.\n      //\n      // Keeping the time actually adds/subtracts (one hour)\n      // from the actual represented time. That is why we call updateOffset\n      // a second time. In case it wants us to change the offset again\n      // _changeInProgress == true case, then we have to adjust, because\n      // there is no such time in the given timezone.\n      function getSetOffset (input, keepLocalTime) {\n          var offset = this._offset || 0,\n              localAdjust;\n          if (input != null) {\n              if (typeof input === \'string\') {\n                  input = offsetFromString(input);\n              }\n              if (Math.abs(input) < 16) {\n                  input = input * 60;\n              }\n              if (!this._isUTC && keepLocalTime) {\n                  localAdjust = getDateOffset(this);\n              }\n              this._offset = input;\n              this._isUTC = true;\n              if (localAdjust != null) {\n                  this.add(localAdjust, \'m\');\n              }\n              if (offset !== input) {\n                  if (!keepLocalTime || this._changeInProgress) {\n                      add_subtract__addSubtract(this, create__createDuration(input - offset, \'m\'), 1, false);\n                  } else if (!this._changeInProgress) {\n                      this._changeInProgress = true;\n                      hooks__hooks.updateOffset(this, true);\n                      this._changeInProgress = null;\n                  }\n              }\n              return this;\n          } else {\n              return this._isUTC ? offset : getDateOffset(this);\n          }\n      }\n\n      function getSetZone (input, keepLocalTime) {\n          if (input != null) {\n              if (typeof input !== \'string\') {\n                  input = -input;\n              }\n\n              this.utcOffset(input, keepLocalTime);\n\n              return this;\n          } else {\n              return -this.utcOffset();\n          }\n      }\n\n      function setOffsetToUTC (keepLocalTime) {\n          return this.utcOffset(0, keepLocalTime);\n      }\n\n      function setOffsetToLocal (keepLocalTime) {\n          if (this._isUTC) {\n              this.utcOffset(0, keepLocalTime);\n              this._isUTC = false;\n\n              if (keepLocalTime) {\n                  this.subtract(getDateOffset(this), \'m\');\n              }\n          }\n          return this;\n      }\n\n      function setOffsetToParsedOffset () {\n          if (this._tzm) {\n              this.utcOffset(this._tzm);\n          } else if (typeof this._i === \'string\') {\n              this.utcOffset(offsetFromString(this._i));\n          }\n          return this;\n      }\n\n      function hasAlignedHourOffset (input) {\n          if (!input) {\n              input = 0;\n          }\n          else {\n              input = local__createLocal(input).utcOffset();\n          }\n\n          return (this.utcOffset() - input) % 60 === 0;\n      }\n\n      function isDaylightSavingTime () {\n          return (\n              this.utcOffset() > this.clone().month(0).utcOffset() ||\n              this.utcOffset() > this.clone().month(5).utcOffset()\n          );\n      }\n\n      function isDaylightSavingTimeShifted () {\n          if (this._a) {\n              var other = this._isUTC ? utc__createUTC(this._a) : local__createLocal(this._a);\n              return this.isValid() && compareArrays(this._a, other.toArray()) > 0;\n          }\n\n          return false;\n      }\n\n      function isLocal () {\n          return !this._isUTC;\n      }\n\n      function isUtcOffset () {\n          return this._isUTC;\n      }\n\n      function isUtc () {\n          return this._isUTC && this._offset === 0;\n      }\n\n      var aspNetRegex = /(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/;\n\n      // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n      // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n      var create__isoRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;\n\n      function create__createDuration (input, key) {\n          var duration = input,\n              // matching against regexp is expensive, do it on demand\n              match = null,\n              sign,\n              ret,\n              diffRes;\n\n          if (isDuration(input)) {\n              duration = {\n                  ms : input._milliseconds,\n                  d  : input._days,\n                  M  : input._months\n              };\n          } else if (typeof input === \'number\') {\n              duration = {};\n              if (key) {\n                  duration[key] = input;\n              } else {\n                  duration.milliseconds = input;\n              }\n          } else if (!!(match = aspNetRegex.exec(input))) {\n              sign = (match[1] === \'-\') ? -1 : 1;\n              duration = {\n                  y  : 0,\n                  d  : toInt(match[DATE])        * sign,\n                  h  : toInt(match[HOUR])        * sign,\n                  m  : toInt(match[MINUTE])      * sign,\n                  s  : toInt(match[SECOND])      * sign,\n                  ms : toInt(match[MILLISECOND]) * sign\n              };\n          } else if (!!(match = create__isoRegex.exec(input))) {\n              sign = (match[1] === \'-\') ? -1 : 1;\n              duration = {\n                  y : parseIso(match[2], sign),\n                  M : parseIso(match[3], sign),\n                  d : parseIso(match[4], sign),\n                  h : parseIso(match[5], sign),\n                  m : parseIso(match[6], sign),\n                  s : parseIso(match[7], sign),\n                  w : parseIso(match[8], sign)\n              };\n          } else if (duration == null) {// checks for null or undefined\n              duration = {};\n          } else if (typeof duration === \'object\' && (\'from\' in duration || \'to\' in duration)) {\n              diffRes = momentsDifference(local__createLocal(duration.from), local__createLocal(duration.to));\n\n              duration = {};\n              duration.ms = diffRes.milliseconds;\n              duration.M = diffRes.months;\n          }\n\n          ret = new Duration(duration);\n\n          if (isDuration(input) && hasOwnProp(input, \'_locale\')) {\n              ret._locale = input._locale;\n          }\n\n          return ret;\n      }\n\n      function parseIso (inp, sign) {\n          // We\'d normally use ~~inp for this, but unfortunately it also\n          // converts floats to ints.\n          // inp may be undefined, so careful calling replace on it.\n          var res = inp && parseFloat(inp.replace(\',\', \'.\'));\n          // apply sign while we\'re at it\n          return (isNaN(res) ? 0 : res) * sign;\n      }\n\n      function positiveMomentsDifference(base, other) {\n          var res = {milliseconds: 0, months: 0};\n\n          res.months = other.month() - base.month() +\n              (other.year() - base.year()) * 12;\n          if (base.clone().add(res.months, \'M\').isAfter(other)) {\n              --res.months;\n          }\n\n          res.milliseconds = +other - +(base.clone().add(res.months, \'M\'));\n\n          return res;\n      }\n\n      function momentsDifference(base, other) {\n          var res;\n          other = cloneWithOffset(other, base);\n          if (base.isBefore(other)) {\n              res = positiveMomentsDifference(base, other);\n          } else {\n              res = positiveMomentsDifference(other, base);\n              res.milliseconds = -res.milliseconds;\n              res.months = -res.months;\n          }\n\n          return res;\n      }\n\n      function createAdder(direction, name) {\n          return function (val, period) {\n              var dur, tmp;\n              //invert the arguments, but complain about it\n              if (period !== null && !isNaN(+period)) {\n                  deprecateSimple(name, \'moment().\' + name  + \'(period, number) is deprecated. Please use moment().\' + name + \'(number, period).\');\n                  tmp = val; val = period; period = tmp;\n              }\n\n              val = typeof val === \'string\' ? +val : val;\n              dur = create__createDuration(val, period);\n              add_subtract__addSubtract(this, dur, direction);\n              return this;\n          };\n      }\n\n      function add_subtract__addSubtract (mom, duration, isAdding, updateOffset) {\n          var milliseconds = duration._milliseconds,\n              days = duration._days,\n              months = duration._months;\n          updateOffset = updateOffset == null ? true : updateOffset;\n\n          if (milliseconds) {\n              mom._d.setTime(+mom._d + milliseconds * isAdding);\n          }\n          if (days) {\n              get_set__set(mom, \'Date\', get_set__get(mom, \'Date\') + days * isAdding);\n          }\n          if (months) {\n              setMonth(mom, get_set__get(mom, \'Month\') + months * isAdding);\n          }\n          if (updateOffset) {\n              hooks__hooks.updateOffset(mom, days || months);\n          }\n      }\n\n      var add_subtract__add      = createAdder(1, \'add\');\n      var add_subtract__subtract = createAdder(-1, \'subtract\');\n\n      function calendar__calendar (time) {\n          // We want to compare the start of today, vs this.\n          // Getting start-of-today depends on whether we\'re local/utc/offset or not.\n          var now = time || local__createLocal(),\n              sod = cloneWithOffset(now, this).startOf(\'day\'),\n              diff = this.diff(sod, \'days\', true),\n              format = diff < -6 ? \'sameElse\' :\n                  diff < -1 ? \'lastWeek\' :\n                  diff < 0 ? \'lastDay\' :\n                  diff < 1 ? \'sameDay\' :\n                  diff < 2 ? \'nextDay\' :\n                  diff < 7 ? \'nextWeek\' : \'sameElse\';\n          return this.format(this.localeData().calendar(format, this, local__createLocal(now)));\n      }\n\n      function clone () {\n          return new Moment(this);\n      }\n\n      function isAfter (input, units) {\n          var inputMs;\n          units = normalizeUnits(typeof units !== \'undefined\' ? units : \'millisecond\');\n          if (units === \'millisecond\') {\n              input = isMoment(input) ? input : local__createLocal(input);\n              return +this > +input;\n          } else {\n              inputMs = isMoment(input) ? +input : +local__createLocal(input);\n              return inputMs < +this.clone().startOf(units);\n          }\n      }\n\n      function isBefore (input, units) {\n          var inputMs;\n          units = normalizeUnits(typeof units !== \'undefined\' ? units : \'millisecond\');\n          if (units === \'millisecond\') {\n              input = isMoment(input) ? input : local__createLocal(input);\n              return +this < +input;\n          } else {\n              inputMs = isMoment(input) ? +input : +local__createLocal(input);\n              return +this.clone().endOf(units) < inputMs;\n          }\n      }\n\n      function isBetween (from, to, units) {\n          return this.isAfter(from, units) && this.isBefore(to, units);\n      }\n\n      function isSame (input, units) {\n          var inputMs;\n          units = normalizeUnits(units || \'millisecond\');\n          if (units === \'millisecond\') {\n              input = isMoment(input) ? input : local__createLocal(input);\n              return +this === +input;\n          } else {\n              inputMs = +local__createLocal(input);\n              return +(this.clone().startOf(units)) <= inputMs && inputMs <= +(this.clone().endOf(units));\n          }\n      }\n\n      function absFloor (number) {\n          if (number < 0) {\n              return Math.ceil(number);\n          } else {\n              return Math.floor(number);\n          }\n      }\n\n      function diff (input, units, asFloat) {\n          var that = cloneWithOffset(input, this),\n              zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4,\n              delta, output;\n\n          units = normalizeUnits(units);\n\n          if (units === \'year\' || units === \'month\' || units === \'quarter\') {\n              output = monthDiff(this, that);\n              if (units === \'quarter\') {\n                  output = output / 3;\n              } else if (units === \'year\') {\n                  output = output / 12;\n              }\n          } else {\n              delta = this - that;\n              output = units === \'second\' ? delta / 1e3 : // 1000\n                  units === \'minute\' ? delta / 6e4 : // 1000 * 60\n                  units === \'hour\' ? delta / 36e5 : // 1000 * 60 * 60\n                  units === \'day\' ? (delta - zoneDelta) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n                  units === \'week\' ? (delta - zoneDelta) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n                  delta;\n          }\n          return asFloat ? output : absFloor(output);\n      }\n\n      function monthDiff (a, b) {\n          // difference in months\n          var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),\n              // b is in (anchor - 1 month, anchor + 1 month)\n              anchor = a.clone().add(wholeMonthDiff, \'months\'),\n              anchor2, adjust;\n\n          if (b - anchor < 0) {\n              anchor2 = a.clone().add(wholeMonthDiff - 1, \'months\');\n              // linear across the month\n              adjust = (b - anchor) / (anchor - anchor2);\n          } else {\n              anchor2 = a.clone().add(wholeMonthDiff + 1, \'months\');\n              // linear across the month\n              adjust = (b - anchor) / (anchor2 - anchor);\n          }\n\n          return -(wholeMonthDiff + adjust);\n      }\n\n      hooks__hooks.defaultFormat = \'YYYY-MM-DDTHH:mm:ssZ\';\n\n      function toString () {\n          return this.clone().locale(\'en\').format(\'ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\');\n      }\n\n      function moment_format__toISOString () {\n          var m = this.clone().utc();\n          if (0 < m.year() && m.year() <= 9999) {\n              if (\'function\' === typeof Date.prototype.toISOString) {\n                  // native implementation is ~50x faster, use it when we can\n                  return this.toDate().toISOString();\n              } else {\n                  return formatMoment(m, \'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]\');\n              }\n          } else {\n              return formatMoment(m, \'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]\');\n          }\n      }\n\n      function format (inputString) {\n          var output = formatMoment(this, inputString || hooks__hooks.defaultFormat);\n          return this.localeData().postformat(output);\n      }\n\n      function from (time, withoutSuffix) {\n          return create__createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n      }\n\n      function fromNow (withoutSuffix) {\n          return this.from(local__createLocal(), withoutSuffix);\n      }\n\n      function locale (key) {\n          var newLocaleData;\n\n          if (key === undefined) {\n              return this._locale._abbr;\n          } else {\n              newLocaleData = locales__getLocale(key);\n              if (newLocaleData != null) {\n                  this._locale = newLocaleData;\n              }\n              return this;\n          }\n      }\n\n      var lang = deprecate(\n          \'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.\',\n          function (key) {\n              if (key === undefined) {\n                  return this.localeData();\n              } else {\n                  return this.locale(key);\n              }\n          }\n      );\n\n      function localeData () {\n          return this._locale;\n      }\n\n      function startOf (units) {\n          units = normalizeUnits(units);\n          // the following switch intentionally omits break keywords\n          // to utilize falling through the cases.\n          switch (units) {\n          case \'year\':\n              this.month(0);\n              /* falls through */\n          case \'quarter\':\n          case \'month\':\n              this.date(1);\n              /* falls through */\n          case \'week\':\n          case \'isoWeek\':\n          case \'day\':\n              this.hours(0);\n              /* falls through */\n          case \'hour\':\n              this.minutes(0);\n              /* falls through */\n          case \'minute\':\n              this.seconds(0);\n              /* falls through */\n          case \'second\':\n              this.milliseconds(0);\n              /* falls through */\n          }\n\n          // weeks are a special case\n          if (units === \'week\') {\n              this.weekday(0);\n          }\n          if (units === \'isoWeek\') {\n              this.isoWeekday(1);\n          }\n\n          // quarters are also special\n          if (units === \'quarter\') {\n              this.month(Math.floor(this.month() / 3) * 3);\n          }\n\n          return this;\n      }\n\n      function endOf (units) {\n          units = normalizeUnits(units);\n          if (units === undefined || units === \'millisecond\') {\n              return this;\n          }\n          return this.startOf(units).add(1, (units === \'isoWeek\' ? \'week\' : units)).subtract(1, \'ms\');\n      }\n\n      function to_type__valueOf () {\n          return +this._d - ((this._offset || 0) * 60000);\n      }\n\n      function unix () {\n          return Math.floor(+this / 1000);\n      }\n\n      function toDate () {\n          return this._offset ? new Date(+this) : this._d;\n      }\n\n      function toArray () {\n          var m = this;\n          return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];\n      }\n\n      function moment_valid__isValid () {\n          return valid__isValid(this);\n      }\n\n      function parsingFlags () {\n          return extend({}, this._pf);\n      }\n\n      function invalidAt () {\n          return this._pf.overflow;\n      }\n\n      addFormatToken(0, [\'gg\', 2], 0, function () {\n          return this.weekYear() % 100;\n      });\n\n      addFormatToken(0, [\'GG\', 2], 0, function () {\n          return this.isoWeekYear() % 100;\n      });\n\n      function addWeekYearFormatToken (token, getter) {\n          addFormatToken(0, [token, token.length], 0, getter);\n      }\n\n      addWeekYearFormatToken(\'gggg\',     \'weekYear\');\n      addWeekYearFormatToken(\'ggggg\',    \'weekYear\');\n      addWeekYearFormatToken(\'GGGG\',  \'isoWeekYear\');\n      addWeekYearFormatToken(\'GGGGG\', \'isoWeekYear\');\n\n      // ALIASES\n\n      addUnitAlias(\'weekYear\', \'gg\');\n      addUnitAlias(\'isoWeekYear\', \'GG\');\n\n      // PARSING\n\n      addRegexToken(\'G\',      matchSigned);\n      addRegexToken(\'g\',      matchSigned);\n      addRegexToken(\'GG\',     match1to2, match2);\n      addRegexToken(\'gg\',     match1to2, match2);\n      addRegexToken(\'GGGG\',   match1to4, match4);\n      addRegexToken(\'gggg\',   match1to4, match4);\n      addRegexToken(\'GGGGG\',  match1to6, match6);\n      addRegexToken(\'ggggg\',  match1to6, match6);\n\n      addWeekParseToken([\'gggg\', \'ggggg\', \'GGGG\', \'GGGGG\'], function (input, week, config, token) {\n          week[token.substr(0, 2)] = toInt(input);\n      });\n\n      addWeekParseToken([\'gg\', \'GG\'], function (input, week, config, token) {\n          week[token] = hooks__hooks.parseTwoDigitYear(input);\n      });\n\n      // HELPERS\n\n      function weeksInYear(year, dow, doy) {\n          return weekOfYear(local__createLocal([year, 11, 31 + dow - doy]), dow, doy).week;\n      }\n\n      // MOMENTS\n\n      function getSetWeekYear (input) {\n          var year = weekOfYear(this, this.localeData()._week.dow, this.localeData()._week.doy).year;\n          return input == null ? year : this.add((input - year), \'y\');\n      }\n\n      function getSetISOWeekYear (input) {\n          var year = weekOfYear(this, 1, 4).year;\n          return input == null ? year : this.add((input - year), \'y\');\n      }\n\n      function getISOWeeksInYear () {\n          return weeksInYear(this.year(), 1, 4);\n      }\n\n      function getWeeksInYear () {\n          var weekInfo = this.localeData()._week;\n          return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n      }\n\n      addFormatToken(\'Q\', 0, 0, \'quarter\');\n\n      // ALIASES\n\n      addUnitAlias(\'quarter\', \'Q\');\n\n      // PARSING\n\n      addRegexToken(\'Q\', match1);\n      addParseToken(\'Q\', function (input, array) {\n          array[MONTH] = (toInt(input) - 1) * 3;\n      });\n\n      // MOMENTS\n\n      function getSetQuarter (input) {\n          return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n      }\n\n      addFormatToken(\'D\', [\'DD\', 2], \'Do\', \'date\');\n\n      // ALIASES\n\n      addUnitAlias(\'date\', \'D\');\n\n      // PARSING\n\n      addRegexToken(\'D\',  match1to2);\n      addRegexToken(\'DD\', match1to2, match2);\n      addRegexToken(\'Do\', function (isStrict, locale) {\n          return isStrict ? locale._ordinalParse : locale._ordinalParseLenient;\n      });\n\n      addParseToken([\'D\', \'DD\'], DATE);\n      addParseToken(\'Do\', function (input, array) {\n          array[DATE] = toInt(input.match(match1to2)[0], 10);\n      });\n\n      // MOMENTS\n\n      var getSetDayOfMonth = makeGetSet(\'Date\', true);\n\n      addFormatToken(\'d\', 0, \'do\', \'day\');\n\n      addFormatToken(\'dd\', 0, 0, function (format) {\n          return this.localeData().weekdaysMin(this, format);\n      });\n\n      addFormatToken(\'ddd\', 0, 0, function (format) {\n          return this.localeData().weekdaysShort(this, format);\n      });\n\n      addFormatToken(\'dddd\', 0, 0, function (format) {\n          return this.localeData().weekdays(this, format);\n      });\n\n      addFormatToken(\'e\', 0, 0, \'weekday\');\n      addFormatToken(\'E\', 0, 0, \'isoWeekday\');\n\n      // ALIASES\n\n      addUnitAlias(\'day\', \'d\');\n      addUnitAlias(\'weekday\', \'e\');\n      addUnitAlias(\'isoWeekday\', \'E\');\n\n      // PARSING\n\n      addRegexToken(\'d\',    match1to2);\n      addRegexToken(\'e\',    match1to2);\n      addRegexToken(\'E\',    match1to2);\n      addRegexToken(\'dd\',   matchWord);\n      addRegexToken(\'ddd\',  matchWord);\n      addRegexToken(\'dddd\', matchWord);\n\n      addWeekParseToken([\'dd\', \'ddd\', \'dddd\'], function (input, week, config) {\n          var weekday = config._locale.weekdaysParse(input);\n          // if we didn\'t get a weekday name, mark the date as invalid\n          if (weekday != null) {\n              week.d = weekday;\n          } else {\n              config._pf.invalidWeekday = input;\n          }\n      });\n\n      addWeekParseToken([\'d\', \'e\', \'E\'], function (input, week, config, token) {\n          week[token] = toInt(input);\n      });\n\n      // HELPERS\n\n      function parseWeekday(input, locale) {\n          if (typeof input === \'string\') {\n              if (!isNaN(input)) {\n                  input = parseInt(input, 10);\n              }\n              else {\n                  input = locale.weekdaysParse(input);\n                  if (typeof input !== \'number\') {\n                      return null;\n                  }\n              }\n          }\n          return input;\n      }\n\n      // LOCALES\n\n      var defaultLocaleWeekdays = \'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\'.split(\'_\');\n      function localeWeekdays (m) {\n          return this._weekdays[m.day()];\n      }\n\n      var defaultLocaleWeekdaysShort = \'Sun_Mon_Tue_Wed_Thu_Fri_Sat\'.split(\'_\');\n      function localeWeekdaysShort (m) {\n          return this._weekdaysShort[m.day()];\n      }\n\n      var defaultLocaleWeekdaysMin = \'Su_Mo_Tu_We_Th_Fr_Sa\'.split(\'_\');\n      function localeWeekdaysMin (m) {\n          return this._weekdaysMin[m.day()];\n      }\n\n      function localeWeekdaysParse (weekdayName) {\n          var i, mom, regex;\n\n          if (!this._weekdaysParse) {\n              this._weekdaysParse = [];\n          }\n\n          for (i = 0; i < 7; i++) {\n              // make the regex if we don\'t have it already\n              if (!this._weekdaysParse[i]) {\n                  mom = local__createLocal([2000, 1]).day(i);\n                  regex = \'^\' + this.weekdays(mom, \'\') + \'|^\' + this.weekdaysShort(mom, \'\') + \'|^\' + this.weekdaysMin(mom, \'\');\n                  this._weekdaysParse[i] = new RegExp(regex.replace(\'.\', \'\'), \'i\');\n              }\n              // test the regex\n              if (this._weekdaysParse[i].test(weekdayName)) {\n                  return i;\n              }\n          }\n      }\n\n      // MOMENTS\n\n      function getSetDayOfWeek (input) {\n          var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n          if (input != null) {\n              input = parseWeekday(input, this.localeData());\n              return this.add(input - day, \'d\');\n          } else {\n              return day;\n          }\n      }\n\n      function getSetLocaleDayOfWeek (input) {\n          var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n          return input == null ? weekday : this.add(input - weekday, \'d\');\n      }\n\n      function getSetISODayOfWeek (input) {\n          // behaves the same as moment#day except\n          // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n          // as a setter, sunday should belong to the previous week.\n          return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);\n      }\n\n      addFormatToken(\'H\', [\'HH\', 2], 0, \'hour\');\n      addFormatToken(\'h\', [\'hh\', 2], 0, function () {\n          return this.hours() % 12 || 12;\n      });\n\n      function meridiem (token, lowercase) {\n          addFormatToken(token, 0, 0, function () {\n              return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);\n          });\n      }\n\n      meridiem(\'a\', true);\n      meridiem(\'A\', false);\n\n      // ALIASES\n\n      addUnitAlias(\'hour\', \'h\');\n\n      // PARSING\n\n      function matchMeridiem (isStrict, locale) {\n          return locale._meridiemParse;\n      }\n\n      addRegexToken(\'a\',  matchMeridiem);\n      addRegexToken(\'A\',  matchMeridiem);\n      addRegexToken(\'H\',  match1to2);\n      addRegexToken(\'h\',  match1to2);\n      addRegexToken(\'HH\', match1to2, match2);\n      addRegexToken(\'hh\', match1to2, match2);\n\n      addParseToken([\'H\', \'HH\'], HOUR);\n      addParseToken([\'a\', \'A\'], function (input, array, config) {\n          config._isPm = config._locale.isPM(input);\n          config._meridiem = input;\n      });\n      addParseToken([\'h\', \'hh\'], function (input, array, config) {\n          array[HOUR] = toInt(input);\n          config._pf.bigHour = true;\n      });\n\n      // LOCALES\n\n      function localeIsPM (input) {\n          // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n          // Using charAt should be more compatible.\n          return ((input + \'\').toLowerCase().charAt(0) === \'p\');\n      }\n\n      var defaultLocaleMeridiemParse = /[ap]\\.?m?\\.?/i;\n      function localeMeridiem (hours, minutes, isLower) {\n          if (hours > 11) {\n              return isLower ? \'pm\' : \'PM\';\n          } else {\n              return isLower ? \'am\' : \'AM\';\n          }\n      }\n\n\n      // MOMENTS\n\n      // Setting the hour should keep the time, because the user explicitly\n      // specified which hour he wants. So trying to maintain the same hour (in\n      // a new timezone) makes sense. Adding/subtracting hours does not follow\n      // this rule.\n      var getSetHour = makeGetSet(\'Hours\', true);\n\n      addFormatToken(\'m\', [\'mm\', 2], 0, \'minute\');\n\n      // ALIASES\n\n      addUnitAlias(\'minute\', \'m\');\n\n      // PARSING\n\n      addRegexToken(\'m\',  match1to2);\n      addRegexToken(\'mm\', match1to2, match2);\n      addParseToken([\'m\', \'mm\'], MINUTE);\n\n      // MOMENTS\n\n      var getSetMinute = makeGetSet(\'Minutes\', false);\n\n      addFormatToken(\'s\', [\'ss\', 2], 0, \'second\');\n\n      // ALIASES\n\n      addUnitAlias(\'second\', \'s\');\n\n      // PARSING\n\n      addRegexToken(\'s\',  match1to2);\n      addRegexToken(\'ss\', match1to2, match2);\n      addParseToken([\'s\', \'ss\'], SECOND);\n\n      // MOMENTS\n\n      var getSetSecond = makeGetSet(\'Seconds\', false);\n\n      addFormatToken(\'S\', 0, 0, function () {\n          return ~~(this.millisecond() / 100);\n      });\n\n      addFormatToken(0, [\'SS\', 2], 0, function () {\n          return ~~(this.millisecond() / 10);\n      });\n\n      function millisecond__milliseconds (token) {\n          addFormatToken(0, [token, 3], 0, \'millisecond\');\n      }\n\n      millisecond__milliseconds(\'SSS\');\n      millisecond__milliseconds(\'SSSS\');\n\n      // ALIASES\n\n      addUnitAlias(\'millisecond\', \'ms\');\n\n      // PARSING\n\n      addRegexToken(\'S\',    match1to3, match1);\n      addRegexToken(\'SS\',   match1to3, match2);\n      addRegexToken(\'SSS\',  match1to3, match3);\n      addRegexToken(\'SSSS\', matchUnsigned);\n      addParseToken([\'S\', \'SS\', \'SSS\', \'SSSS\'], function (input, array) {\n          array[MILLISECOND] = toInt((\'0.\' + input) * 1000);\n      });\n\n      // MOMENTS\n\n      var getSetMillisecond = makeGetSet(\'Milliseconds\', false);\n\n      addFormatToken(\'z\',  0, 0, \'zoneAbbr\');\n      addFormatToken(\'zz\', 0, 0, \'zoneName\');\n\n      // MOMENTS\n\n      function getZoneAbbr () {\n          return this._isUTC ? \'UTC\' : \'\';\n      }\n\n      function getZoneName () {\n          return this._isUTC ? \'Coordinated Universal Time\' : \'\';\n      }\n\n      var momentPrototype__proto = Moment.prototype;\n\n      momentPrototype__proto.add          = add_subtract__add;\n      momentPrototype__proto.calendar     = calendar__calendar;\n      momentPrototype__proto.clone        = clone;\n      momentPrototype__proto.diff         = diff;\n      momentPrototype__proto.endOf        = endOf;\n      momentPrototype__proto.format       = format;\n      momentPrototype__proto.from         = from;\n      momentPrototype__proto.fromNow      = fromNow;\n      momentPrototype__proto.get          = getSet;\n      momentPrototype__proto.invalidAt    = invalidAt;\n      momentPrototype__proto.isAfter      = isAfter;\n      momentPrototype__proto.isBefore     = isBefore;\n      momentPrototype__proto.isBetween    = isBetween;\n      momentPrototype__proto.isSame       = isSame;\n      momentPrototype__proto.isValid      = moment_valid__isValid;\n      momentPrototype__proto.lang         = lang;\n      momentPrototype__proto.locale       = locale;\n      momentPrototype__proto.localeData   = localeData;\n      momentPrototype__proto.max          = prototypeMax;\n      momentPrototype__proto.min          = prototypeMin;\n      momentPrototype__proto.parsingFlags = parsingFlags;\n      momentPrototype__proto.set          = getSet;\n      momentPrototype__proto.startOf      = startOf;\n      momentPrototype__proto.subtract     = add_subtract__subtract;\n      momentPrototype__proto.toArray      = toArray;\n      momentPrototype__proto.toDate       = toDate;\n      momentPrototype__proto.toISOString  = moment_format__toISOString;\n      momentPrototype__proto.toJSON       = moment_format__toISOString;\n      momentPrototype__proto.toString     = toString;\n      momentPrototype__proto.unix         = unix;\n      momentPrototype__proto.valueOf      = to_type__valueOf;\n\n      // Year\n      momentPrototype__proto.year       = getSetYear;\n      momentPrototype__proto.isLeapYear = getIsLeapYear;\n\n      // Week Year\n      momentPrototype__proto.weekYear    = getSetWeekYear;\n      momentPrototype__proto.isoWeekYear = getSetISOWeekYear;\n\n      // Quarter\n      momentPrototype__proto.quarter = momentPrototype__proto.quarters = getSetQuarter;\n\n      // Month\n      momentPrototype__proto.month       = getSetMonth;\n      momentPrototype__proto.daysInMonth = getDaysInMonth;\n\n      // Week\n      momentPrototype__proto.week           = momentPrototype__proto.weeks        = getSetWeek;\n      momentPrototype__proto.isoWeek        = momentPrototype__proto.isoWeeks     = getSetISOWeek;\n      momentPrototype__proto.weeksInYear    = getWeeksInYear;\n      momentPrototype__proto.isoWeeksInYear = getISOWeeksInYear;\n\n      // Day\n      momentPrototype__proto.date       = getSetDayOfMonth;\n      momentPrototype__proto.day        = momentPrototype__proto.days             = getSetDayOfWeek;\n      momentPrototype__proto.weekday    = getSetLocaleDayOfWeek;\n      momentPrototype__proto.isoWeekday = getSetISODayOfWeek;\n      momentPrototype__proto.dayOfYear  = getSetDayOfYear;\n\n      // Hour\n      momentPrototype__proto.hour = momentPrototype__proto.hours = getSetHour;\n\n      // Minute\n      momentPrototype__proto.minute = momentPrototype__proto.minutes = getSetMinute;\n\n      // Second\n      momentPrototype__proto.second = momentPrototype__proto.seconds = getSetSecond;\n\n      // Millisecond\n      momentPrototype__proto.millisecond = momentPrototype__proto.milliseconds = getSetMillisecond;\n\n      // Offset\n      momentPrototype__proto.utcOffset            = getSetOffset;\n      momentPrototype__proto.utc                  = setOffsetToUTC;\n      momentPrototype__proto.local                = setOffsetToLocal;\n      momentPrototype__proto.parseZone            = setOffsetToParsedOffset;\n      momentPrototype__proto.hasAlignedHourOffset = hasAlignedHourOffset;\n      momentPrototype__proto.isDST                = isDaylightSavingTime;\n      momentPrototype__proto.isDSTShifted         = isDaylightSavingTimeShifted;\n      momentPrototype__proto.isLocal              = isLocal;\n      momentPrototype__proto.isUtcOffset          = isUtcOffset;\n      momentPrototype__proto.isUtc                = isUtc;\n      momentPrototype__proto.isUTC                = isUtc;\n\n      // Timezone\n      momentPrototype__proto.zoneAbbr = getZoneAbbr;\n      momentPrototype__proto.zoneName = getZoneName;\n\n      // Deprecations\n      momentPrototype__proto.dates  = deprecate(\'dates accessor is deprecated. Use date instead.\', getSetDayOfMonth);\n      momentPrototype__proto.months = deprecate(\'months accessor is deprecated. Use month instead\', getSetMonth);\n      momentPrototype__proto.years  = deprecate(\'years accessor is deprecated. Use year instead\', getSetYear);\n      momentPrototype__proto.zone   = deprecate(\'moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779\', getSetZone);\n\n      var momentPrototype = momentPrototype__proto;\n\n      function moment__createUnix (input) {\n          return local__createLocal(input * 1000);\n      }\n\n      function moment__createInZone () {\n          return local__createLocal.apply(null, arguments).parseZone();\n      }\n\n      var defaultCalendar = {\n          sameDay : \'[Today at] LT\',\n          nextDay : \'[Tomorrow at] LT\',\n          nextWeek : \'dddd [at] LT\',\n          lastDay : \'[Yesterday at] LT\',\n          lastWeek : \'[Last] dddd [at] LT\',\n          sameElse : \'L\'\n      };\n\n      function locale_calendar__calendar (key, mom, now) {\n          var output = this._calendar[key];\n          return typeof output === \'function\' ? output.call(mom, now) : output;\n      }\n\n      var defaultLongDateFormat = {\n          LTS  : \'h:mm:ss A\',\n          LT   : \'h:mm A\',\n          L    : \'MM/DD/YYYY\',\n          LL   : \'MMMM D, YYYY\',\n          LLL  : \'MMMM D, YYYY LT\',\n          LLLL : \'dddd, MMMM D, YYYY LT\'\n      };\n\n      function longDateFormat (key) {\n          var output = this._longDateFormat[key];\n          if (!output && this._longDateFormat[key.toUpperCase()]) {\n              output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (val) {\n                  return val.slice(1);\n              });\n              this._longDateFormat[key] = output;\n          }\n          return output;\n      }\n\n      var defaultInvalidDate = \'Invalid date\';\n\n      function invalidDate () {\n          return this._invalidDate;\n      }\n\n      var defaultOrdinal = \'%d\';\n      var defaultOrdinalParse = /\\d{1,2}/;\n\n      function ordinal (number) {\n          return this._ordinal.replace(\'%d\', number);\n      }\n\n      function preParsePostFormat (string) {\n          return string;\n      }\n\n      var defaultRelativeTime = {\n          future : \'in %s\',\n          past   : \'%s ago\',\n          s  : \'a few seconds\',\n          m  : \'a minute\',\n          mm : \'%d minutes\',\n          h  : \'an hour\',\n          hh : \'%d hours\',\n          d  : \'a day\',\n          dd : \'%d days\',\n          M  : \'a month\',\n          MM : \'%d months\',\n          y  : \'a year\',\n          yy : \'%d years\'\n      };\n\n      function relative__relativeTime (number, withoutSuffix, string, isFuture) {\n          var output = this._relativeTime[string];\n          return (typeof output === \'function\') ?\n              output(number, withoutSuffix, string, isFuture) :\n              output.replace(/%d/i, number);\n      }\n\n      function pastFuture (diff, output) {\n          var format = this._relativeTime[diff > 0 ? \'future\' : \'past\'];\n          return typeof format === \'function\' ? format(output) : format.replace(/%s/i, output);\n      }\n\n      function set__set (config) {\n          var prop, i;\n          for (i in config) {\n              prop = config[i];\n              if (typeof prop === \'function\') {\n                  this[i] = prop;\n              } else {\n                  this[\'_\' + i] = prop;\n              }\n          }\n          // Lenient ordinal parsing accepts just a number in addition to\n          // number + (possibly) stuff coming from _ordinalParseLenient.\n          this._ordinalParseLenient = new RegExp(this._ordinalParse.source + \'|\' + /\\d{1,2}/.source);\n      }\n\n      var prototype__proto = Locale.prototype;\n\n      prototype__proto._calendar       = defaultCalendar;\n      prototype__proto.calendar        = locale_calendar__calendar;\n      prototype__proto._longDateFormat = defaultLongDateFormat;\n      prototype__proto.longDateFormat  = longDateFormat;\n      prototype__proto._invalidDate    = defaultInvalidDate;\n      prototype__proto.invalidDate     = invalidDate;\n      prototype__proto._ordinal        = defaultOrdinal;\n      prototype__proto.ordinal         = ordinal;\n      prototype__proto._ordinalParse   = defaultOrdinalParse;\n      prototype__proto.preparse        = preParsePostFormat;\n      prototype__proto.postformat      = preParsePostFormat;\n      prototype__proto._relativeTime   = defaultRelativeTime;\n      prototype__proto.relativeTime    = relative__relativeTime;\n      prototype__proto.pastFuture      = pastFuture;\n      prototype__proto.set             = set__set;\n\n      // Month\n      prototype__proto.months       =        localeMonths;\n      prototype__proto._months      = defaultLocaleMonths;\n      prototype__proto.monthsShort  =        localeMonthsShort;\n      prototype__proto._monthsShort = defaultLocaleMonthsShort;\n      prototype__proto.monthsParse  =        localeMonthsParse;\n\n      // Week\n      prototype__proto.week = localeWeek;\n      prototype__proto._week = defaultLocaleWeek;\n      prototype__proto.firstDayOfYear = localeFirstDayOfYear;\n      prototype__proto.firstDayOfWeek = localeFirstDayOfWeek;\n\n      // Day of Week\n      prototype__proto.weekdays       =        localeWeekdays;\n      prototype__proto._weekdays      = defaultLocaleWeekdays;\n      prototype__proto.weekdaysMin    =        localeWeekdaysMin;\n      prototype__proto._weekdaysMin   = defaultLocaleWeekdaysMin;\n      prototype__proto.weekdaysShort  =        localeWeekdaysShort;\n      prototype__proto._weekdaysShort = defaultLocaleWeekdaysShort;\n      prototype__proto.weekdaysParse  =        localeWeekdaysParse;\n\n      // Hours\n      prototype__proto.isPM = localeIsPM;\n      prototype__proto._meridiemParse = defaultLocaleMeridiemParse;\n      prototype__proto.meridiem = localeMeridiem;\n\n      function lists__get (format, index, field, setter) {\n          var locale = locales__getLocale();\n          var utc = utc__createUTC().set(setter, index);\n          return locale[field](utc, format);\n      }\n\n      function list (format, index, field, count, setter) {\n          if (typeof format === \'number\') {\n              index = format;\n              format = undefined;\n          }\n\n          format = format || \'\';\n\n          if (index != null) {\n              return lists__get(format, index, field, setter);\n          }\n\n          var i;\n          var out = [];\n          for (i = 0; i < count; i++) {\n              out[i] = lists__get(format, i, field, setter);\n          }\n          return out;\n      }\n\n      function lists__listMonths (format, index) {\n          return list(format, index, \'months\', 12, \'month\');\n      }\n\n      function lists__listMonthsShort (format, index) {\n          return list(format, index, \'monthsShort\', 12, \'month\');\n      }\n\n      function lists__listWeekdays (format, index) {\n          return list(format, index, \'weekdays\', 7, \'day\');\n      }\n\n      function lists__listWeekdaysShort (format, index) {\n          return list(format, index, \'weekdaysShort\', 7, \'day\');\n      }\n\n      function lists__listWeekdaysMin (format, index) {\n          return list(format, index, \'weekdaysMin\', 7, \'day\');\n      }\n\n      locales__getSetGlobalLocale(\'en\', {\n          ordinalParse: /\\d{1,2}(th|st|nd|rd)/,\n          ordinal : function (number) {\n              var b = number % 10,\n                  output = (toInt(number % 100 / 10) === 1) ? \'th\' :\n                  (b === 1) ? \'st\' :\n                  (b === 2) ? \'nd\' :\n                  (b === 3) ? \'rd\' : \'th\';\n              return number + output;\n          }\n      });\n\n      // Side effect imports\n      hooks__hooks.lang = deprecate(\'moment.lang is deprecated. Use moment.locale instead.\', locales__getSetGlobalLocale);\n      hooks__hooks.langData = deprecate(\'moment.langData is deprecated. Use moment.localeData instead.\', locales__getLocale);\n\n      var mathAbs = Math.abs;\n\n      function abs__abs () {\n          var data           = this._data;\n\n          this._milliseconds = mathAbs(this._milliseconds);\n          this._days         = mathAbs(this._days);\n          this._months       = mathAbs(this._months);\n\n          data.milliseconds  = mathAbs(data.milliseconds);\n          data.seconds       = mathAbs(data.seconds);\n          data.minutes       = mathAbs(data.minutes);\n          data.hours         = mathAbs(data.hours);\n          data.months        = mathAbs(data.months);\n          data.years         = mathAbs(data.years);\n\n          return this;\n      }\n\n      function duration_add_subtract__addSubtract (duration, input, value, direction) {\n          var other = create__createDuration(input, value);\n\n          duration._milliseconds += direction * other._milliseconds;\n          duration._days         += direction * other._days;\n          duration._months       += direction * other._months;\n\n          return duration._bubble();\n      }\n\n      // supports only 2.0-style add(1, \'s\') or add(duration)\n      function duration_add_subtract__add (input, value) {\n          return duration_add_subtract__addSubtract(this, input, value, 1);\n      }\n\n      // supports only 2.0-style subtract(1, \'s\') or subtract(duration)\n      function duration_add_subtract__subtract (input, value) {\n          return duration_add_subtract__addSubtract(this, input, value, -1);\n      }\n\n      function bubble () {\n          var milliseconds = this._milliseconds;\n          var days         = this._days;\n          var months       = this._months;\n          var data         = this._data;\n          var seconds, minutes, hours, years = 0;\n\n          // The following code bubbles up values, see the tests for\n          // examples of what that means.\n          data.milliseconds = milliseconds % 1000;\n\n          seconds           = absFloor(milliseconds / 1000);\n          data.seconds      = seconds % 60;\n\n          minutes           = absFloor(seconds / 60);\n          data.minutes      = minutes % 60;\n\n          hours             = absFloor(minutes / 60);\n          data.hours        = hours % 24;\n\n          days += absFloor(hours / 24);\n\n          // Accurately convert days to years, assume start from year 0.\n          years = absFloor(daysToYears(days));\n          days -= absFloor(yearsToDays(years));\n\n          // 30 days to a month\n          // TODO (iskren): Use anchor date (like 1st Jan) to compute this.\n          months += absFloor(days / 30);\n          days   %= 30;\n\n          // 12 months -> 1 year\n          years  += absFloor(months / 12);\n          months %= 12;\n\n          data.days   = days;\n          data.months = months;\n          data.years  = years;\n\n          return this;\n      }\n\n      function daysToYears (days) {\n          // 400 years have 146097 days (taking into account leap year rules)\n          return days * 400 / 146097;\n      }\n\n      function yearsToDays (years) {\n          // years * 365 + absFloor(years / 4) -\n          //     absFloor(years / 100) + absFloor(years / 400);\n          return years * 146097 / 400;\n      }\n\n      function as (units) {\n          var days;\n          var months;\n          var milliseconds = this._milliseconds;\n\n          units = normalizeUnits(units);\n\n          if (units === \'month\' || units === \'year\') {\n              days   = this._days   + milliseconds / 864e5;\n              months = this._months + daysToYears(days) * 12;\n              return units === \'month\' ? months : months / 12;\n          } else {\n              // handle milliseconds separately because of floating point math errors (issue #1867)\n              days = this._days + Math.round(yearsToDays(this._months / 12));\n              switch (units) {\n                  case \'week\'   : return days / 7            + milliseconds / 6048e5;\n                  case \'day\'    : return days                + milliseconds / 864e5;\n                  case \'hour\'   : return days * 24           + milliseconds / 36e5;\n                  case \'minute\' : return days * 24 * 60      + milliseconds / 6e4;\n                  case \'second\' : return days * 24 * 60 * 60 + milliseconds / 1000;\n                  // Math.floor prevents floating point math errors here\n                  case \'millisecond\': return Math.floor(days * 24 * 60 * 60 * 1000) + milliseconds;\n                  default: throw new Error(\'Unknown unit \' + units);\n              }\n          }\n      }\n\n      // TODO: Use this.as(\'ms\')?\n      function as__valueOf () {\n          return (\n              this._milliseconds +\n              this._days * 864e5 +\n              (this._months % 12) * 2592e6 +\n              toInt(this._months / 12) * 31536e6\n          );\n      }\n\n      function makeAs (alias) {\n          return function () {\n              return this.as(alias);\n          };\n      }\n\n      var asMilliseconds = makeAs(\'ms\');\n      var asSeconds      = makeAs(\'s\');\n      var asMinutes      = makeAs(\'m\');\n      var asHours        = makeAs(\'h\');\n      var asDays         = makeAs(\'d\');\n      var asWeeks        = makeAs(\'w\');\n      var asMonths       = makeAs(\'M\');\n      var asYears        = makeAs(\'y\');\n\n      function get__get (units) {\n          units = normalizeUnits(units);\n          return this[units + \'s\']();\n      }\n\n      function makeGetter(name) {\n          return function () {\n              return this._data[name];\n          };\n      }\n\n      var get__milliseconds = makeGetter(\'milliseconds\');\n      var seconds      = makeGetter(\'seconds\');\n      var minutes      = makeGetter(\'minutes\');\n      var hours        = makeGetter(\'hours\');\n      var days         = makeGetter(\'days\');\n      var months       = makeGetter(\'months\');\n      var years        = makeGetter(\'years\');\n\n      function weeks () {\n          return absFloor(this.days() / 7);\n      }\n\n      var round = Math.round;\n      var thresholds = {\n          s: 45,  // seconds to minute\n          m: 45,  // minutes to hour\n          h: 22,  // hours to day\n          d: 26,  // days to month\n          M: 11   // months to year\n      };\n\n      // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n      function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n          return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n      }\n\n      function humanize__relativeTime (posNegDuration, withoutSuffix, locale) {\n          var duration = create__createDuration(posNegDuration).abs();\n          var seconds  = round(duration.as(\'s\'));\n          var minutes  = round(duration.as(\'m\'));\n          var hours    = round(duration.as(\'h\'));\n          var days     = round(duration.as(\'d\'));\n          var months   = round(duration.as(\'M\'));\n          var years    = round(duration.as(\'y\'));\n\n          var a = seconds < thresholds.s && [\'s\', seconds]  ||\n                  minutes === 1          && [\'m\']           ||\n                  minutes < thresholds.m && [\'mm\', minutes] ||\n                  hours   === 1          && [\'h\']           ||\n                  hours   < thresholds.h && [\'hh\', hours]   ||\n                  days    === 1          && [\'d\']           ||\n                  days    < thresholds.d && [\'dd\', days]    ||\n                  months  === 1          && [\'M\']           ||\n                  months  < thresholds.M && [\'MM\', months]  ||\n                  years   === 1          && [\'y\']           || [\'yy\', years];\n\n          a[2] = withoutSuffix;\n          a[3] = +posNegDuration > 0;\n          a[4] = locale;\n          return substituteTimeAgo.apply(null, a);\n      }\n\n      // This function allows you to set a threshold for relative time strings\n      function humanize__getSetRelativeTimeThreshold (threshold, limit) {\n          if (thresholds[threshold] === undefined) {\n              return false;\n          }\n          if (limit === undefined) {\n              return thresholds[threshold];\n          }\n          thresholds[threshold] = limit;\n          return true;\n      }\n\n      function humanize (withSuffix) {\n          var locale = this.localeData();\n          var output = humanize__relativeTime(this, !withSuffix, locale);\n\n          if (withSuffix) {\n              output = locale.pastFuture(+this, output);\n          }\n\n          return locale.postformat(output);\n      }\n\n      var iso_string__abs = Math.abs;\n\n      function iso_string__toISOString() {\n          // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n          var Y = iso_string__abs(this.years());\n          var M = iso_string__abs(this.months());\n          var D = iso_string__abs(this.days());\n          var h = iso_string__abs(this.hours());\n          var m = iso_string__abs(this.minutes());\n          var s = iso_string__abs(this.seconds() + this.milliseconds() / 1000);\n          var total = this.asSeconds();\n\n          if (!total) {\n              // this is the same as C#\'s (Noda) and python (isodate)...\n              // but not other JS (goog.date)\n              return \'P0D\';\n          }\n\n          return (total < 0 ? \'-\' : \'\') +\n              \'P\' +\n              (Y ? Y + \'Y\' : \'\') +\n              (M ? M + \'M\' : \'\') +\n              (D ? D + \'D\' : \'\') +\n              ((h || m || s) ? \'T\' : \'\') +\n              (h ? h + \'H\' : \'\') +\n              (m ? m + \'M\' : \'\') +\n              (s ? s + \'S\' : \'\');\n      }\n\n      var duration_prototype__proto = Duration.prototype;\n\n      duration_prototype__proto.abs            = abs__abs;\n      duration_prototype__proto.add            = duration_add_subtract__add;\n      duration_prototype__proto.subtract       = duration_add_subtract__subtract;\n      duration_prototype__proto.as             = as;\n      duration_prototype__proto.asMilliseconds = asMilliseconds;\n      duration_prototype__proto.asSeconds      = asSeconds;\n      duration_prototype__proto.asMinutes      = asMinutes;\n      duration_prototype__proto.asHours        = asHours;\n      duration_prototype__proto.asDays         = asDays;\n      duration_prototype__proto.asWeeks        = asWeeks;\n      duration_prototype__proto.asMonths       = asMonths;\n      duration_prototype__proto.asYears        = asYears;\n      duration_prototype__proto.valueOf        = as__valueOf;\n      duration_prototype__proto._bubble        = bubble;\n      duration_prototype__proto.get            = get__get;\n      duration_prototype__proto.milliseconds   = get__milliseconds;\n      duration_prototype__proto.seconds        = seconds;\n      duration_prototype__proto.minutes        = minutes;\n      duration_prototype__proto.hours          = hours;\n      duration_prototype__proto.days           = days;\n      duration_prototype__proto.weeks          = weeks;\n      duration_prototype__proto.months         = months;\n      duration_prototype__proto.years          = years;\n      duration_prototype__proto.humanize       = humanize;\n      duration_prototype__proto.toISOString    = iso_string__toISOString;\n      duration_prototype__proto.toString       = iso_string__toISOString;\n      duration_prototype__proto.toJSON         = iso_string__toISOString;\n      duration_prototype__proto.locale         = locale;\n      duration_prototype__proto.localeData     = localeData;\n\n      // Deprecations\n      duration_prototype__proto.toIsoString = deprecate(\'toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)\', iso_string__toISOString);\n      duration_prototype__proto.lang = lang;\n\n      // Side effect imports\n\n      addFormatToken(\'X\', 0, 0, \'unix\');\n      addFormatToken(\'x\', 0, 0, \'valueOf\');\n\n      // PARSING\n\n      addRegexToken(\'x\', matchSigned);\n      addRegexToken(\'X\', matchTimestamp);\n      addParseToken(\'X\', function (input, array, config) {\n          config._d = new Date(parseFloat(input, 10) * 1000);\n      });\n      addParseToken(\'x\', function (input, array, config) {\n          config._d = new Date(toInt(input));\n      });\n\n      // Side effect imports\n\n\n      hooks__hooks.version = \'2.10.0\';\n\n      setHookCallback(local__createLocal);\n\n      hooks__hooks.fn                    = momentPrototype;\n      hooks__hooks.min                   = min;\n      hooks__hooks.max                   = max;\n      hooks__hooks.utc                   = utc__createUTC;\n      hooks__hooks.unix                  = moment__createUnix;\n      hooks__hooks.months                = lists__listMonths;\n      hooks__hooks.isDate                = isDate;\n      hooks__hooks.locale                = locales__getSetGlobalLocale;\n      hooks__hooks.invalid               = valid__createInvalid;\n      hooks__hooks.duration              = create__createDuration;\n      hooks__hooks.isMoment              = isMoment;\n      hooks__hooks.weekdays              = lists__listWeekdays;\n      hooks__hooks.parseZone             = moment__createInZone;\n      hooks__hooks.localeData            = locales__getLocale;\n      hooks__hooks.isDuration            = isDuration;\n      hooks__hooks.monthsShort           = lists__listMonthsShort;\n      hooks__hooks.weekdaysMin           = lists__listWeekdaysMin;\n      hooks__hooks.defineLocale          = defineLocale;\n      hooks__hooks.weekdaysShort         = lists__listWeekdaysShort;\n      hooks__hooks.normalizeUnits        = normalizeUnits;\n      hooks__hooks.relativeTimeThreshold = humanize__getSetRelativeTimeThreshold;\n\n      var _moment = hooks__hooks;\n\n      return _moment;\n\n  }));\n  /* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(71)(module)))\n\n/***/ },\n/* 59 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var __WEBPACK_AMD_DEFINE_RESULT__;/*! Hammer.JS - v1.1.3 - 2014-05-20\n   * http://eightmedia.github.io/hammer.js\n   *\n   * Copyright (c) 2014 Jorik Tangelder <j.tangelder@gmail.com>;\n   * Licensed under the MIT license */\n\n  (function(window, undefined) {\n    \'use strict\';\n\n  /**\n   * @main\n   * @module hammer\n   *\n   * @class Hammer\n   * @static\n   */\n\n  /**\n   * Hammer, use this to create instances\n   * ````\n   * var hammertime = new Hammer(myElement);\n   * ````\n   *\n   * @method Hammer\n   * @param {HTMLElement} element\n   * @param {Object} [options={}]\n   * @return {Hammer.Instance}\n   */\n  var Hammer = function Hammer(element, options) {\n      return new Hammer.Instance(element, options || {});\n  };\n\n  /**\n   * version, as defined in package.json\n   * the value will be set at each build\n   * @property VERSION\n   * @final\n   * @type {String}\n   */\n  Hammer.VERSION = \'1.1.3\';\n\n  /**\n   * default settings.\n   * more settings are defined per gesture at `/gestures`. Each gesture can be disabled/enabled\n   * by setting it\'s name (like `swipe`) to false.\n   * You can set the defaults for all instances by changing this object before creating an instance.\n   * @example\n   * ````\n   *  Hammer.defaults.drag = false;\n   *  Hammer.defaults.behavior.touchAction = \'pan-y\';\n   *  delete Hammer.defaults.behavior.userSelect;\n   * ````\n   * @property defaults\n   * @type {Object}\n   */\n  Hammer.defaults = {\n      /**\n       * this setting object adds styles and attributes to the element to prevent the browser from doing\n       * its native behavior. The css properties are auto prefixed for the browsers when needed.\n       * @property defaults.behavior\n       * @type {Object}\n       */\n      behavior: {\n          /**\n           * Disables text selection to improve the dragging gesture. When the value is `none` it also sets\n           * `onselectstart=false` for IE on the element. Mainly for desktop browsers.\n           * @property defaults.behavior.userSelect\n           * @type {String}\n           * @default \'none\'\n           */\n          userSelect: \'none\',\n\n          /**\n           * Specifies whether and how a given region can be manipulated by the user (for instance, by panning or zooming).\n           * Used by Chrome 35> and IE10>. By default this makes the element blocking any touch event.\n           * @property defaults.behavior.touchAction\n           * @type {String}\n           * @default: \'pan-y\'\n           */\n          touchAction: \'pan-y\',\n\n          /**\n           * Disables the default callout shown when you touch and hold a touch target.\n           * On iOS, when you touch and hold a touch target such as a link, Safari displays\n           * a callout containing information about the link. This property allows you to disable that callout.\n           * @property defaults.behavior.touchCallout\n           * @type {String}\n           * @default \'none\'\n           */\n          touchCallout: \'none\',\n\n          /**\n           * Specifies whether zooming is enabled. Used by IE10>\n           * @property defaults.behavior.contentZooming\n           * @type {String}\n           * @default \'none\'\n           */\n          contentZooming: \'none\',\n\n          /**\n           * Specifies that an entire element should be draggable instead of its contents.\n           * Mainly for desktop browsers.\n           * @property defaults.behavior.userDrag\n           * @type {String}\n           * @default \'none\'\n           */\n          userDrag: \'none\',\n\n          /**\n           * Overrides the highlight color shown when the user taps a link or a JavaScript\n           * clickable element in Safari on iPhone. This property obeys the alpha value, if specified.\n           *\n           * If you don\'t specify an alpha value, Safari on iPhone applies a default alpha value\n           * to the color. To disable tap highlighting, set the alpha value to 0 (invisible).\n           * If you set the alpha value to 1.0 (opaque), the element is not visible when tapped.\n           * @property defaults.behavior.tapHighlightColor\n           * @type {String}\n           * @default \'rgba(0,0,0,0)\'\n           */\n          tapHighlightColor: \'rgba(0,0,0,0)\'\n      }\n  };\n\n  /**\n   * hammer document where the base events are added at\n   * @property DOCUMENT\n   * @type {HTMLElement}\n   * @default window.document\n   */\n  Hammer.DOCUMENT = document;\n\n  /**\n   * detect support for pointer events\n   * @property HAS_POINTEREVENTS\n   * @type {Boolean}\n   */\n  Hammer.HAS_POINTEREVENTS = navigator.pointerEnabled || navigator.msPointerEnabled;\n\n  /**\n   * detect support for touch events\n   * @property HAS_TOUCHEVENTS\n   * @type {Boolean}\n   */\n  Hammer.HAS_TOUCHEVENTS = (\'ontouchstart\' in window);\n\n  /**\n   * detect mobile browsers\n   * @property IS_MOBILE\n   * @type {Boolean}\n   */\n  Hammer.IS_MOBILE = /mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent);\n\n  /**\n   * detect if we want to support mouseevents at all\n   * @property NO_MOUSEEVENTS\n   * @type {Boolean}\n   */\n  Hammer.NO_MOUSEEVENTS = (Hammer.HAS_TOUCHEVENTS && Hammer.IS_MOBILE) || Hammer.HAS_POINTEREVENTS;\n\n  /**\n   * interval in which Hammer recalculates current velocity/direction/angle in ms\n   * @property CALCULATE_INTERVAL\n   * @type {Number}\n   * @default 25\n   */\n  Hammer.CALCULATE_INTERVAL = 25;\n\n  /**\n   * eventtypes per touchevent (start, move, end) are filled by `Event.determineEventTypes` on `setup`\n   * the object contains the DOM event names per type (`EVENT_START`, `EVENT_MOVE`, `EVENT_END`)\n   * @property EVENT_TYPES\n   * @private\n   * @writeOnce\n   * @type {Object}\n   */\n  var EVENT_TYPES = {};\n\n  /**\n   * direction strings, for safe comparisons\n   * @property DIRECTION_DOWN|LEFT|UP|RIGHT\n   * @final\n   * @type {String}\n   * @default \'down\' \'left\' \'up\' \'right\'\n   */\n  var DIRECTION_DOWN = Hammer.DIRECTION_DOWN = \'down\';\n  var DIRECTION_LEFT = Hammer.DIRECTION_LEFT = \'left\';\n  var DIRECTION_UP = Hammer.DIRECTION_UP = \'up\';\n  var DIRECTION_RIGHT = Hammer.DIRECTION_RIGHT = \'right\';\n\n  /**\n   * pointertype strings, for safe comparisons\n   * @property POINTER_MOUSE|TOUCH|PEN\n   * @final\n   * @type {String}\n   * @default \'mouse\' \'touch\' \'pen\'\n   */\n  var POINTER_MOUSE = Hammer.POINTER_MOUSE = \'mouse\';\n  var POINTER_TOUCH = Hammer.POINTER_TOUCH = \'touch\';\n  var POINTER_PEN = Hammer.POINTER_PEN = \'pen\';\n\n  /**\n   * eventtypes\n   * @property EVENT_START|MOVE|END|RELEASE|TOUCH\n   * @final\n   * @type {String}\n   * @default \'start\' \'change\' \'move\' \'end\' \'release\' \'touch\'\n   */\n  var EVENT_START = Hammer.EVENT_START = \'start\';\n  var EVENT_MOVE = Hammer.EVENT_MOVE = \'move\';\n  var EVENT_END = Hammer.EVENT_END = \'end\';\n  var EVENT_RELEASE = Hammer.EVENT_RELEASE = \'release\';\n  var EVENT_TOUCH = Hammer.EVENT_TOUCH = \'touch\';\n\n  /**\n   * if the window events are set...\n   * @property READY\n   * @writeOnce\n   * @type {Boolean}\n   * @default false\n   */\n  Hammer.READY = false;\n\n  /**\n   * plugins namespace\n   * @property plugins\n   * @type {Object}\n   */\n  Hammer.plugins = Hammer.plugins || {};\n\n  /**\n   * gestures namespace\n   * see `/gestures` for the definitions\n   * @property gestures\n   * @type {Object}\n   */\n  Hammer.gestures = Hammer.gestures || {};\n\n  /**\n   * setup events to detect gestures on the document\n   * this function is called when creating an new instance\n   * @private\n   */\n  function setup() {\n      if(Hammer.READY) {\n          return;\n      }\n\n      // find what eventtypes we add listeners to\n      Event.determineEventTypes();\n\n      // Register all gestures inside Hammer.gestures\n      Utils.each(Hammer.gestures, function(gesture) {\n          Detection.register(gesture);\n      });\n\n      // Add touch events on the document\n      Event.onTouch(Hammer.DOCUMENT, EVENT_MOVE, Detection.detect);\n      Event.onTouch(Hammer.DOCUMENT, EVENT_END, Detection.detect);\n\n      // Hammer is ready...!\n      Hammer.READY = true;\n  }\n\n  /**\n   * @module hammer\n   *\n   * @class Utils\n   * @static\n   */\n  var Utils = Hammer.utils = {\n      /**\n       * extend method, could also be used for cloning when `dest` is an empty object.\n       * changes the dest object\n       * @method extend\n       * @param {Object} dest\n       * @param {Object} src\n       * @param {Boolean} [merge=false]  do a merge\n       * @return {Object} dest\n       */\n      extend: function extend(dest, src, merge) {\n          for(var key in src) {\n              if(!src.hasOwnProperty(key) || (dest[key] !== undefined && merge)) {\n                  continue;\n              }\n              dest[key] = src[key];\n          }\n          return dest;\n      },\n\n      /**\n       * simple addEventListener wrapper\n       * @method on\n       * @param {HTMLElement} element\n       * @param {String} type\n       * @param {Function} handler\n       */\n      on: function on(element, type, handler) {\n          element.addEventListener(type, handler, false);\n      },\n\n      /**\n       * simple removeEventListener wrapper\n       * @method off\n       * @param {HTMLElement} element\n       * @param {String} type\n       * @param {Function} handler\n       */\n      off: function off(element, type, handler) {\n          element.removeEventListener(type, handler, false);\n      },\n\n      /**\n       * forEach over arrays and objects\n       * @method each\n       * @param {Object|Array} obj\n       * @param {Function} iterator\n       * @param {any} iterator.item\n       * @param {Number} iterator.index\n       * @param {Object|Array} iterator.obj the source object\n       * @param {Object} context value to use as `this` in the iterator\n       */\n      each: function each(obj, iterator, context) {\n          var i, len;\n\n          // native forEach on arrays\n          if(\'forEach\' in obj) {\n              obj.forEach(iterator, context);\n          // arrays\n          } else if(obj.length !== undefined) {\n              for(i = 0, len = obj.length; i < len; i++) {\n                  if(iterator.call(context, obj[i], i, obj) === false) {\n                      return;\n                  }\n              }\n          // objects\n          } else {\n              for(i in obj) {\n                  if(obj.hasOwnProperty(i) &&\n                      iterator.call(context, obj[i], i, obj) === false) {\n                      return;\n                  }\n              }\n          }\n      },\n\n      /**\n       * find if a string contains the string using indexOf\n       * @method inStr\n       * @param {String} src\n       * @param {String} find\n       * @return {Boolean} found\n       */\n      inStr: function inStr(src, find) {\n          return src.indexOf(find) > -1;\n      },\n\n      /**\n       * find if a array contains the object using indexOf or a simple polyfill\n       * @method inArray\n       * @param {String} src\n       * @param {String} find\n       * @return {Boolean|Number} false when not found, or the index\n       */\n      inArray: function inArray(src, find) {\n          if(src.indexOf) {\n              var index = src.indexOf(find);\n              return (index === -1) ? false : index;\n          } else {\n              for(var i = 0, len = src.length; i < len; i++) {\n                  if(src[i] === find) {\n                      return i;\n                  }\n              }\n              return false;\n          }\n      },\n\n      /**\n       * convert an array-like object (`arguments`, `touchlist`) to an array\n       * @method toArray\n       * @param {Object} obj\n       * @return {Array}\n       */\n      toArray: function toArray(obj) {\n          return Array.prototype.slice.call(obj, 0);\n      },\n\n      /**\n       * find if a node is in the given parent\n       * @method hasParent\n       * @param {HTMLElement} node\n       * @param {HTMLElement} parent\n       * @return {Boolean} found\n       */\n      hasParent: function hasParent(node, parent) {\n          while(node) {\n              if(node == parent) {\n                  return true;\n              }\n              node = node.parentNode;\n          }\n          return false;\n      },\n\n      /**\n       * get the center of all the touches\n       * @method getCenter\n       * @param {Array} touches\n       * @return {Object} center contains `pageX`, `pageY`, `clientX` and `clientY` properties\n       */\n      getCenter: function getCenter(touches) {\n          var pageX = [],\n              pageY = [],\n              clientX = [],\n              clientY = [],\n              min = Math.min,\n              max = Math.max;\n\n          // no need to loop when only one touch\n          if(touches.length === 1) {\n              return {\n                  pageX: touches[0].pageX,\n                  pageY: touches[0].pageY,\n                  clientX: touches[0].clientX,\n                  clientY: touches[0].clientY\n              };\n          }\n\n          Utils.each(touches, function(touch) {\n              pageX.push(touch.pageX);\n              pageY.push(touch.pageY);\n              clientX.push(touch.clientX);\n              clientY.push(touch.clientY);\n          });\n\n          return {\n              pageX: (min.apply(Math, pageX) + max.apply(Math, pageX)) / 2,\n              pageY: (min.apply(Math, pageY) + max.apply(Math, pageY)) / 2,\n              clientX: (min.apply(Math, clientX) + max.apply(Math, clientX)) / 2,\n              clientY: (min.apply(Math, clientY) + max.apply(Math, clientY)) / 2\n          };\n      },\n\n      /**\n       * calculate the velocity between two points. unit is in px per ms.\n       * @method getVelocity\n       * @param {Number} deltaTime\n       * @param {Number} deltaX\n       * @param {Number} deltaY\n       * @return {Object} velocity `x` and `y`\n       */\n      getVelocity: function getVelocity(deltaTime, deltaX, deltaY) {\n          return {\n              x: Math.abs(deltaX / deltaTime) || 0,\n              y: Math.abs(deltaY / deltaTime) || 0\n          };\n      },\n\n      /**\n       * calculate the angle between two coordinates\n       * @method getAngle\n       * @param {Touch} touch1\n       * @param {Touch} touch2\n       * @return {Number} angle\n       */\n      getAngle: function getAngle(touch1, touch2) {\n          var x = touch2.clientX - touch1.clientX,\n              y = touch2.clientY - touch1.clientY;\n\n          return Math.atan2(y, x) * 180 / Math.PI;\n      },\n\n      /**\n       * do a small comparision to get the direction between two touches.\n       * @method getDirection\n       * @param {Touch} touch1\n       * @param {Touch} touch2\n       * @return {String} direction matches `DIRECTION_LEFT|RIGHT|UP|DOWN`\n       */\n      getDirection: function getDirection(touch1, touch2) {\n          var x = Math.abs(touch1.clientX - touch2.clientX),\n              y = Math.abs(touch1.clientY - touch2.clientY);\n\n          if(x >= y) {\n              return touch1.clientX - touch2.clientX > 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          }\n          return touch1.clientY - touch2.clientY > 0 ? DIRECTION_UP : DIRECTION_DOWN;\n      },\n\n      /**\n       * calculate the distance between two touches\n       * @method getDistance\n       * @param {Touch}touch1\n       * @param {Touch} touch2\n       * @return {Number} distance\n       */\n      getDistance: function getDistance(touch1, touch2) {\n          var x = touch2.clientX - touch1.clientX,\n              y = touch2.clientY - touch1.clientY;\n\n          return Math.sqrt((x * x) + (y * y));\n      },\n\n      /**\n       * calculate the scale factor between two touchLists\n       * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n       * @method getScale\n       * @param {Array} start array of touches\n       * @param {Array} end array of touches\n       * @return {Number} scale\n       */\n      getScale: function getScale(start, end) {\n          // need two fingers...\n          if(start.length >= 2 && end.length >= 2) {\n              return this.getDistance(end[0], end[1]) / this.getDistance(start[0], start[1]);\n          }\n          return 1;\n      },\n\n      /**\n       * calculate the rotation degrees between two touchLists\n       * @method getRotation\n       * @param {Array} start array of touches\n       * @param {Array} end array of touches\n       * @return {Number} rotation\n       */\n      getRotation: function getRotation(start, end) {\n          // need two fingers\n          if(start.length >= 2 && end.length >= 2) {\n              return this.getAngle(end[1], end[0]) - this.getAngle(start[1], start[0]);\n          }\n          return 0;\n      },\n\n      /**\n       * find out if the direction is vertical   *\n       * @method isVertical\n       * @param {String} direction matches `DIRECTION_UP|DOWN`\n       * @return {Boolean} is_vertical\n       */\n      isVertical: function isVertical(direction) {\n          return direction == DIRECTION_UP || direction == DIRECTION_DOWN;\n      },\n\n      /**\n       * set css properties with their prefixes\n       * @param {HTMLElement} element\n       * @param {String} prop\n       * @param {String} value\n       * @param {Boolean} [toggle=true]\n       * @return {Boolean}\n       */\n      setPrefixedCss: function setPrefixedCss(element, prop, value, toggle) {\n          var prefixes = [\'\', \'Webkit\', \'Moz\', \'O\', \'ms\'];\n          prop = Utils.toCamelCase(prop);\n\n          for(var i = 0; i < prefixes.length; i++) {\n              var p = prop;\n              // prefixes\n              if(prefixes[i]) {\n                  p = prefixes[i] + p.slice(0, 1).toUpperCase() + p.slice(1);\n              }\n\n              // test the style\n              if(p in element.style) {\n                  element.style[p] = (toggle == null || toggle) && value || \'\';\n                  break;\n              }\n          }\n      },\n\n      /**\n       * toggle browser default behavior by setting css properties.\n       * `userSelect=\'none\'` also sets `element.onselectstart` to false\n       * `userDrag=\'none\'` also sets `element.ondragstart` to false\n       *\n       * @method toggleBehavior\n       * @param {HtmlElement} element\n       * @param {Object} props\n       * @param {Boolean} [toggle=true]\n       */\n      toggleBehavior: function toggleBehavior(element, props, toggle) {\n          if(!props || !element || !element.style) {\n              return;\n          }\n\n          // set the css properties\n          Utils.each(props, function(value, prop) {\n              Utils.setPrefixedCss(element, prop, value, toggle);\n          });\n\n          var falseFn = toggle && function() {\n              return false;\n          };\n\n          // also the disable onselectstart\n          if(props.userSelect == \'none\') {\n              element.onselectstart = falseFn;\n          }\n          // and disable ondragstart\n          if(props.userDrag == \'none\') {\n              element.ondragstart = falseFn;\n          }\n      },\n\n      /**\n       * convert a string with underscores to camelCase\n       * so prevent_default becomes preventDefault\n       * @param {String} str\n       * @return {String} camelCaseStr\n       */\n      toCamelCase: function toCamelCase(str) {\n          return str.replace(/[_-]([a-z])/g, function(s) {\n              return s[1].toUpperCase();\n          });\n      }\n  };\n\n\n  /**\n   * @module hammer\n   */\n  /**\n   * @class Event\n   * @static\n   */\n  var Event = Hammer.event = {\n      /**\n       * when touch events have been fired, this is true\n       * this is used to stop mouse events\n       * @property prevent_mouseevents\n       * @private\n       * @type {Boolean}\n       */\n      preventMouseEvents: false,\n\n      /**\n       * if EVENT_START has been fired\n       * @property started\n       * @private\n       * @type {Boolean}\n       */\n      started: false,\n\n      /**\n       * when the mouse is hold down, this is true\n       * @property should_detect\n       * @private\n       * @type {Boolean}\n       */\n      shouldDetect: false,\n\n      /**\n       * simple event binder with a hook and support for multiple types\n       * @method on\n       * @param {HTMLElement} element\n       * @param {String} type\n       * @param {Function} handler\n       * @param {Function} [hook]\n       * @param {Object} hook.type\n       */\n      on: function on(element, type, handler, hook) {\n          var types = type.split(\' \');\n          Utils.each(types, function(type) {\n              Utils.on(element, type, handler);\n              hook && hook(type);\n          });\n      },\n\n      /**\n       * simple event unbinder with a hook and support for multiple types\n       * @method off\n       * @param {HTMLElement} element\n       * @param {String} type\n       * @param {Function} handler\n       * @param {Function} [hook]\n       * @param {Object} hook.type\n       */\n      off: function off(element, type, handler, hook) {\n          var types = type.split(\' \');\n          Utils.each(types, function(type) {\n              Utils.off(element, type, handler);\n              hook && hook(type);\n          });\n      },\n\n      /**\n       * the core touch event handler.\n       * this finds out if we should to detect gestures\n       * @method onTouch\n       * @param {HTMLElement} element\n       * @param {String} eventType matches `EVENT_START|MOVE|END`\n       * @param {Function} handler\n       * @return onTouchHandler {Function} the core event handler\n       */\n      onTouch: function onTouch(element, eventType, handler) {\n          var self = this;\n\n          var onTouchHandler = function onTouchHandler(ev) {\n              var srcType = ev.type.toLowerCase(),\n                  isPointer = Hammer.HAS_POINTEREVENTS,\n                  isMouse = Utils.inStr(srcType, \'mouse\'),\n                  triggerType;\n\n              // if we are in a mouseevent, but there has been a touchevent triggered in this session\n              // we want to do nothing. simply break out of the event.\n              if(isMouse && self.preventMouseEvents) {\n                  return;\n\n              // mousebutton must be down\n              } else if(isMouse && eventType == EVENT_START && ev.button === 0) {\n                  self.preventMouseEvents = false;\n                  self.shouldDetect = true;\n              } else if(isPointer && eventType == EVENT_START) {\n                  self.shouldDetect = (ev.buttons === 1 || PointerEvent.matchType(POINTER_TOUCH, ev));\n              // just a valid start event, but no mouse\n              } else if(!isMouse && eventType == EVENT_START) {\n                  self.preventMouseEvents = true;\n                  self.shouldDetect = true;\n              }\n\n              // update the pointer event before entering the detection\n              if(isPointer && eventType != EVENT_END) {\n                  PointerEvent.updatePointer(eventType, ev);\n              }\n\n              // we are in a touch/down state, so allowed detection of gestures\n              if(self.shouldDetect) {\n                  triggerType = self.doDetect.call(self, ev, eventType, element, handler);\n              }\n\n              // ...and we are done with the detection\n              // so reset everything to start each detection totally fresh\n              if(triggerType == EVENT_END) {\n                  self.preventMouseEvents = false;\n                  self.shouldDetect = false;\n                  PointerEvent.reset();\n              // update the pointerevent object after the detection\n              }\n\n              if(isPointer && eventType == EVENT_END) {\n                  PointerEvent.updatePointer(eventType, ev);\n              }\n          };\n\n          this.on(element, EVENT_TYPES[eventType], onTouchHandler);\n          return onTouchHandler;\n      },\n\n      /**\n       * the core detection method\n       * this finds out what hammer-touch-events to trigger\n       * @method doDetect\n       * @param {Object} ev\n       * @param {String} eventType matches `EVENT_START|MOVE|END`\n       * @param {HTMLElement} element\n       * @param {Function} handler\n       * @return {String} triggerType matches `EVENT_START|MOVE|END`\n       */\n      doDetect: function doDetect(ev, eventType, element, handler) {\n          var touchList = this.getTouchList(ev, eventType);\n          var touchListLength = touchList.length;\n          var triggerType = eventType;\n          var triggerChange = touchList.trigger; // used by fakeMultitouch plugin\n          var changedLength = touchListLength;\n\n          // at each touchstart-like event we want also want to trigger a TOUCH event...\n          if(eventType == EVENT_START) {\n              triggerChange = EVENT_TOUCH;\n          // ...the same for a touchend-like event\n          } else if(eventType == EVENT_END) {\n              triggerChange = EVENT_RELEASE;\n\n              // keep track of how many touches have been removed\n              changedLength = touchList.length - ((ev.changedTouches) ? ev.changedTouches.length : 1);\n          }\n\n          // after there are still touches on the screen,\n          // we just want to trigger a MOVE event. so change the START or END to a MOVE\n          // but only after detection has been started, the first time we actualy want a START\n          if(changedLength > 0 && this.started) {\n              triggerType = EVENT_MOVE;\n          }\n\n          // detection has been started, we keep track of this, see above\n          this.started = true;\n\n          // generate some event data, some basic information\n          var evData = this.collectEventData(element, triggerType, touchList, ev);\n\n          // trigger the triggerType event before the change (TOUCH, RELEASE) events\n          // but the END event should be at last\n          if(eventType != EVENT_END) {\n              handler.call(Detection, evData);\n          }\n\n          // trigger a change (TOUCH, RELEASE) event, this means the length of the touches changed\n          if(triggerChange) {\n              evData.changedLength = changedLength;\n              evData.eventType = triggerChange;\n\n              handler.call(Detection, evData);\n\n              evData.eventType = triggerType;\n              delete evData.changedLength;\n          }\n\n          // trigger the END event\n          if(triggerType == EVENT_END) {\n              handler.call(Detection, evData);\n\n              // ...and we are done with the detection\n              // so reset everything to start each detection totally fresh\n              this.started = false;\n          }\n\n          return triggerType;\n      },\n\n      /**\n       * we have different events for each device/browser\n       * determine what we need and set them in the EVENT_TYPES constant\n       * the `onTouch` method is bind to these properties.\n       * @method determineEventTypes\n       * @return {Object} events\n       */\n      determineEventTypes: function determineEventTypes() {\n          var types;\n          if(Hammer.HAS_POINTEREVENTS) {\n              if(window.PointerEvent) {\n                  types = [\n                      \'pointerdown\',\n                      \'pointermove\',\n                      \'pointerup pointercancel lostpointercapture\'\n                  ];\n              } else {\n                  types = [\n                      \'MSPointerDown\',\n                      \'MSPointerMove\',\n                      \'MSPointerUp MSPointerCancel MSLostPointerCapture\'\n                  ];\n              }\n          } else if(Hammer.NO_MOUSEEVENTS) {\n              types = [\n                  \'touchstart\',\n                  \'touchmove\',\n                  \'touchend touchcancel\'\n              ];\n          } else {\n              types = [\n                  \'touchstart mousedown\',\n                  \'touchmove mousemove\',\n                  \'touchend touchcancel mouseup\'\n              ];\n          }\n\n          EVENT_TYPES[EVENT_START] = types[0];\n          EVENT_TYPES[EVENT_MOVE] = types[1];\n          EVENT_TYPES[EVENT_END] = types[2];\n          return EVENT_TYPES;\n      },\n\n      /**\n       * create touchList depending on the event\n       * @method getTouchList\n       * @param {Object} ev\n       * @param {String} eventType\n       * @return {Array} touches\n       */\n      getTouchList: function getTouchList(ev, eventType) {\n          // get the fake pointerEvent touchlist\n          if(Hammer.HAS_POINTEREVENTS) {\n              return PointerEvent.getTouchList();\n          }\n\n          // get the touchlist\n          if(ev.touches) {\n              if(eventType == EVENT_MOVE) {\n                  return ev.touches;\n              }\n\n              var identifiers = [];\n              var concat = [].concat(Utils.toArray(ev.touches), Utils.toArray(ev.changedTouches));\n              var touchList = [];\n\n              Utils.each(concat, function(touch) {\n                  if(Utils.inArray(identifiers, touch.identifier) === false) {\n                      touchList.push(touch);\n                  }\n                  identifiers.push(touch.identifier);\n              });\n\n              return touchList;\n          }\n\n          // make fake touchList from mouse position\n          ev.identifier = 1;\n          return [ev];\n      },\n\n      /**\n       * collect basic event data\n       * @method collectEventData\n       * @param {HTMLElement} element\n       * @param {String} eventType matches `EVENT_START|MOVE|END`\n       * @param {Array} touches\n       * @param {Object} ev\n       * @return {Object} ev\n       */\n      collectEventData: function collectEventData(element, eventType, touches, ev) {\n          // find out pointerType\n          var pointerType = POINTER_TOUCH;\n          if(Utils.inStr(ev.type, \'mouse\') || PointerEvent.matchType(POINTER_MOUSE, ev)) {\n              pointerType = POINTER_MOUSE;\n          } else if(PointerEvent.matchType(POINTER_PEN, ev)) {\n              pointerType = POINTER_PEN;\n          }\n\n          return {\n              center: Utils.getCenter(touches),\n              timeStamp: Date.now(),\n              target: ev.target,\n              touches: touches,\n              eventType: eventType,\n              pointerType: pointerType,\n              srcEvent: ev,\n\n              /**\n               * prevent the browser default actions\n               * mostly used to disable scrolling of the browser\n               */\n              preventDefault: function() {\n                  var srcEvent = this.srcEvent;\n                  srcEvent.preventManipulation && srcEvent.preventManipulation();\n                  srcEvent.preventDefault && srcEvent.preventDefault();\n              },\n\n              /**\n               * stop bubbling the event up to its parents\n               */\n              stopPropagation: function() {\n                  this.srcEvent.stopPropagation();\n              },\n\n              /**\n               * immediately stop gesture detection\n               * might be useful after a swipe was detected\n               * @return {*}\n               */\n              stopDetect: function() {\n                  return Detection.stopDetect();\n              }\n          };\n      }\n  };\n\n\n  /**\n   * @module hammer\n   *\n   * @class PointerEvent\n   * @static\n   */\n  var PointerEvent = Hammer.PointerEvent = {\n      /**\n       * holds all pointers, by `identifier`\n       * @property pointers\n       * @type {Object}\n       */\n      pointers: {},\n\n      /**\n       * get the pointers as an array\n       * @method getTouchList\n       * @return {Array} touchlist\n       */\n      getTouchList: function getTouchList() {\n          var touchlist = [];\n          // we can use forEach since pointerEvents only is in IE10\n          Utils.each(this.pointers, function(pointer) {\n              touchlist.push(pointer);\n          });\n          return touchlist;\n      },\n\n      /**\n       * update the position of a pointer\n       * @method updatePointer\n       * @param {String} eventType matches `EVENT_START|MOVE|END`\n       * @param {Object} pointerEvent\n       */\n      updatePointer: function updatePointer(eventType, pointerEvent) {\n          if(eventType == EVENT_END || (eventType != EVENT_END && pointerEvent.buttons !== 1)) {\n              delete this.pointers[pointerEvent.pointerId];\n          } else {\n              pointerEvent.identifier = pointerEvent.pointerId;\n              this.pointers[pointerEvent.pointerId] = pointerEvent;\n          }\n      },\n\n      /**\n       * check if ev matches pointertype\n       * @method matchType\n       * @param {String} pointerType matches `POINTER_MOUSE|TOUCH|PEN`\n       * @param {PointerEvent} ev\n       */\n      matchType: function matchType(pointerType, ev) {\n          if(!ev.pointerType) {\n              return false;\n          }\n\n          var pt = ev.pointerType,\n              types = {};\n\n          types[POINTER_MOUSE] = (pt === (ev.MSPOINTER_TYPE_MOUSE || POINTER_MOUSE));\n          types[POINTER_TOUCH] = (pt === (ev.MSPOINTER_TYPE_TOUCH || POINTER_TOUCH));\n          types[POINTER_PEN] = (pt === (ev.MSPOINTER_TYPE_PEN || POINTER_PEN));\n          return types[pointerType];\n      },\n\n      /**\n       * reset the stored pointers\n       * @method reset\n       */\n      reset: function resetList() {\n          this.pointers = {};\n      }\n  };\n\n\n  /**\n   * @module hammer\n   *\n   * @class Detection\n   * @static\n   */\n  var Detection = Hammer.detection = {\n      // contains all registred Hammer.gestures in the correct order\n      gestures: [],\n\n      // data of the current Hammer.gesture detection session\n      current: null,\n\n      // the previous Hammer.gesture session data\n      // is a full clone of the previous gesture.current object\n      previous: null,\n\n      // when this becomes true, no gestures are fired\n      stopped: false,\n\n      /**\n       * start Hammer.gesture detection\n       * @method startDetect\n       * @param {Hammer.Instance} inst\n       * @param {Object} eventData\n       */\n      startDetect: function startDetect(inst, eventData) {\n          // already busy with a Hammer.gesture detection on an element\n          if(this.current) {\n              return;\n          }\n\n          this.stopped = false;\n\n          // holds current session\n          this.current = {\n              inst: inst, // reference to HammerInstance we\'re working for\n              startEvent: Utils.extend({}, eventData), // start eventData for distances, timing etc\n              lastEvent: false, // last eventData\n              lastCalcEvent: false, // last eventData for calculations.\n              futureCalcEvent: false, // last eventData for calculations.\n              lastCalcData: {}, // last lastCalcData\n              name: \'\' // current gesture we\'re in/detected, can be \'tap\', \'hold\' etc\n          };\n\n          this.detect(eventData);\n      },\n\n      /**\n       * Hammer.gesture detection\n       * @method detect\n       * @param {Object} eventData\n       * @return {any}\n       */\n      detect: function detect(eventData) {\n          if(!this.current || this.stopped) {\n              return;\n          }\n\n          // extend event data with calculations about scale, distance etc\n          eventData = this.extendEventData(eventData);\n\n          // hammer instance and instance options\n          var inst = this.current.inst,\n              instOptions = inst.options;\n\n          // call Hammer.gesture handlers\n          Utils.each(this.gestures, function triggerGesture(gesture) {\n              // only when the instance options have enabled this gesture\n              if(!this.stopped && inst.enabled && instOptions[gesture.name]) {\n                  gesture.handler.call(gesture, eventData, inst);\n              }\n          }, this);\n\n          // store as previous event event\n          if(this.current) {\n              this.current.lastEvent = eventData;\n          }\n\n          if(eventData.eventType == EVENT_END) {\n              this.stopDetect();\n          }\n\n          return eventData;\n      },\n\n      /**\n       * clear the Hammer.gesture vars\n       * this is called on endDetect, but can also be used when a final Hammer.gesture has been detected\n       * to stop other Hammer.gestures from being fired\n       * @method stopDetect\n       */\n      stopDetect: function stopDetect() {\n          // clone current data to the store as the previous gesture\n          // used for the double tap gesture, since this is an other gesture detect session\n          this.previous = Utils.extend({}, this.current);\n\n          // reset the current\n          this.current = null;\n          this.stopped = true;\n      },\n\n      /**\n       * calculate velocity, angle and direction\n       * @method getVelocityData\n       * @param {Object} ev\n       * @param {Object} center\n       * @param {Number} deltaTime\n       * @param {Number} deltaX\n       * @param {Number} deltaY\n       */\n      getCalculatedData: function getCalculatedData(ev, center, deltaTime, deltaX, deltaY) {\n          var cur = this.current,\n              recalc = false,\n              calcEv = cur.lastCalcEvent,\n              calcData = cur.lastCalcData;\n\n          if(calcEv && ev.timeStamp - calcEv.timeStamp > Hammer.CALCULATE_INTERVAL) {\n              center = calcEv.center;\n              deltaTime = ev.timeStamp - calcEv.timeStamp;\n              deltaX = ev.center.clientX - calcEv.center.clientX;\n              deltaY = ev.center.clientY - calcEv.center.clientY;\n              recalc = true;\n          }\n\n          if(ev.eventType == EVENT_TOUCH || ev.eventType == EVENT_RELEASE) {\n              cur.futureCalcEvent = ev;\n          }\n\n          if(!cur.lastCalcEvent || recalc) {\n              calcData.velocity = Utils.getVelocity(deltaTime, deltaX, deltaY);\n              calcData.angle = Utils.getAngle(center, ev.center);\n              calcData.direction = Utils.getDirection(center, ev.center);\n\n              cur.lastCalcEvent = cur.futureCalcEvent || ev;\n              cur.futureCalcEvent = ev;\n          }\n\n          ev.velocityX = calcData.velocity.x;\n          ev.velocityY = calcData.velocity.y;\n          ev.interimAngle = calcData.angle;\n          ev.interimDirection = calcData.direction;\n      },\n\n      /**\n       * extend eventData for Hammer.gestures\n       * @method extendEventData\n       * @param {Object} ev\n       * @return {Object} ev\n       */\n      extendEventData: function extendEventData(ev) {\n          var cur = this.current,\n              startEv = cur.startEvent,\n              lastEv = cur.lastEvent || startEv;\n\n          // update the start touchlist to calculate the scale/rotation\n          if(ev.eventType == EVENT_TOUCH || ev.eventType == EVENT_RELEASE) {\n              startEv.touches = [];\n              Utils.each(ev.touches, function(touch) {\n                  startEv.touches.push({\n                      clientX: touch.clientX,\n                      clientY: touch.clientY\n                  });\n              });\n          }\n\n          var deltaTime = ev.timeStamp - startEv.timeStamp,\n              deltaX = ev.center.clientX - startEv.center.clientX,\n              deltaY = ev.center.clientY - startEv.center.clientY;\n\n          this.getCalculatedData(ev, lastEv.center, deltaTime, deltaX, deltaY);\n\n          Utils.extend(ev, {\n              startEvent: startEv,\n\n              deltaTime: deltaTime,\n              deltaX: deltaX,\n              deltaY: deltaY,\n\n              distance: Utils.getDistance(startEv.center, ev.center),\n              angle: Utils.getAngle(startEv.center, ev.center),\n              direction: Utils.getDirection(startEv.center, ev.center),\n              scale: Utils.getScale(startEv.touches, ev.touches),\n              rotation: Utils.getRotation(startEv.touches, ev.touches)\n          });\n\n          return ev;\n      },\n\n      /**\n       * register new gesture\n       * @method register\n       * @param {Object} gesture object, see `gestures/` for documentation\n       * @return {Array} gestures\n       */\n      register: function register(gesture) {\n          // add an enable gesture options if there is no given\n          var options = gesture.defaults || {};\n          if(options[gesture.name] === undefined) {\n              options[gesture.name] = true;\n          }\n\n          // extend Hammer default options with the Hammer.gesture options\n          Utils.extend(Hammer.defaults, options, true);\n\n          // set its index\n          gesture.index = gesture.index || 1000;\n\n          // add Hammer.gesture to the list\n          this.gestures.push(gesture);\n\n          // sort the list by index\n          this.gestures.sort(function(a, b) {\n              if(a.index < b.index) {\n                  return -1;\n              }\n              if(a.index > b.index) {\n                  return 1;\n              }\n              return 0;\n          });\n\n          return this.gestures;\n      }\n  };\n\n\n  /**\n   * @module hammer\n   */\n\n  /**\n   * create new hammer instance\n   * all methods should return the instance itself, so it is chainable.\n   *\n   * @class Instance\n   * @constructor\n   * @param {HTMLElement} element\n   * @param {Object} [options={}] options are merged with `Hammer.defaults`\n   * @return {Hammer.Instance}\n   */\n  Hammer.Instance = function(element, options) {\n      var self = this;\n\n      // setup HammerJS window events and register all gestures\n      // this also sets up the default options\n      setup();\n\n      /**\n       * @property element\n       * @type {HTMLElement}\n       */\n      this.element = element;\n\n      /**\n       * @property enabled\n       * @type {Boolean}\n       * @protected\n       */\n      this.enabled = true;\n\n      /**\n       * options, merged with the defaults\n       * options with an _ are converted to camelCase\n       * @property options\n       * @type {Object}\n       */\n      Utils.each(options, function(value, name) {\n          delete options[name];\n          options[Utils.toCamelCase(name)] = value;\n      });\n\n      this.options = Utils.extend(Utils.extend({}, Hammer.defaults), options || {});\n\n      // add some css to the element to prevent the browser from doing its native behavoir\n      if(this.options.behavior) {\n          Utils.toggleBehavior(this.element, this.options.behavior, true);\n      }\n\n      /**\n       * event start handler on the element to start the detection\n       * @property eventStartHandler\n       * @type {Object}\n       */\n      this.eventStartHandler = Event.onTouch(element, EVENT_START, function(ev) {\n          if(self.enabled && ev.eventType == EVENT_START) {\n              Detection.startDetect(self, ev);\n          } else if(ev.eventType == EVENT_TOUCH) {\n              Detection.detect(ev);\n          }\n      });\n\n      /**\n       * keep a list of user event handlers which needs to be removed when calling \'dispose\'\n       * @property eventHandlers\n       * @type {Array}\n       */\n      this.eventHandlers = [];\n  };\n\n  Hammer.Instance.prototype = {\n      /**\n       * bind events to the instance\n       * @method on\n       * @chainable\n       * @param {String} gestures multiple gestures by splitting with a space\n       * @param {Function} handler\n       * @param {Object} handler.ev event object\n       */\n      on: function onEvent(gestures, handler) {\n          var self = this;\n          Event.on(self.element, gestures, handler, function(type) {\n              self.eventHandlers.push({ gesture: type, handler: handler });\n          });\n          return self;\n      },\n\n      /**\n       * unbind events to the instance\n       * @method off\n       * @chainable\n       * @param {String} gestures\n       * @param {Function} handler\n       */\n      off: function offEvent(gestures, handler) {\n          var self = this;\n\n          Event.off(self.element, gestures, handler, function(type) {\n              var index = Utils.inArray({ gesture: type, handler: handler });\n              if(index !== false) {\n                  self.eventHandlers.splice(index, 1);\n              }\n          });\n          return self;\n      },\n\n      /**\n       * trigger gesture event\n       * @method trigger\n       * @chainable\n       * @param {String} gesture\n       * @param {Object} [eventData]\n       */\n      trigger: function triggerEvent(gesture, eventData) {\n          // optional\n          if(!eventData) {\n              eventData = {};\n          }\n\n          // create DOM event\n          var event = Hammer.DOCUMENT.createEvent(\'Event\');\n          event.initEvent(gesture, true, true);\n          event.gesture = eventData;\n\n          // trigger on the target if it is in the instance element,\n          // this is for event delegation tricks\n          var element = this.element;\n          if(Utils.hasParent(eventData.target, element)) {\n              element = eventData.target;\n          }\n\n          element.dispatchEvent(event);\n          return this;\n      },\n\n      /**\n       * enable of disable hammer.js detection\n       * @method enable\n       * @chainable\n       * @param {Boolean} state\n       */\n      enable: function enable(state) {\n          this.enabled = state;\n          return this;\n      },\n\n      /**\n       * dispose this hammer instance\n       * @method dispose\n       * @return {Null}\n       */\n      dispose: function dispose() {\n          var i, eh;\n\n          // undo all changes made by stop_browser_behavior\n          Utils.toggleBehavior(this.element, this.options.behavior, false);\n\n          // unbind all custom event handlers\n          for(i = -1; (eh = this.eventHandlers[++i]);) {\n              Utils.off(this.element, eh.gesture, eh.handler);\n          }\n\n          this.eventHandlers = [];\n\n          // unbind the start event listener\n          Event.off(this.element, EVENT_TYPES[EVENT_START], this.eventStartHandler);\n\n          return null;\n      }\n  };\n\n\n  /**\n   * @module gestures\n   */\n  /**\n   * Move with x fingers (default 1) around on the page.\n   * Preventing the default browser behavior is a good way to improve feel and working.\n   * ````\n   *  hammertime.on("drag", function(ev) {\n   *    console.log(ev);\n   *    ev.gesture.preventDefault();\n   *  });\n   * ````\n   *\n   * @class Drag\n   * @static\n   */\n  /**\n   * @event drag\n   * @param {Object} ev\n   */\n  /**\n   * @event dragstart\n   * @param {Object} ev\n   */\n  /**\n   * @event dragend\n   * @param {Object} ev\n   */\n  /**\n   * @event drapleft\n   * @param {Object} ev\n   */\n  /**\n   * @event dragright\n   * @param {Object} ev\n   */\n  /**\n   * @event dragup\n   * @param {Object} ev\n   */\n  /**\n   * @event dragdown\n   * @param {Object} ev\n   */\n\n  /**\n   * @param {String} name\n   */\n  (function(name) {\n      var triggered = false;\n\n      function dragGesture(ev, inst) {\n          var cur = Detection.current;\n\n          // max touches\n          if(inst.options.dragMaxTouches > 0 &&\n              ev.touches.length > inst.options.dragMaxTouches) {\n              return;\n          }\n\n          switch(ev.eventType) {\n              case EVENT_START:\n                  triggered = false;\n                  break;\n\n              case EVENT_MOVE:\n                  // when the distance we moved is too small we skip this gesture\n                  // or we can be already in dragging\n                  if(ev.distance < inst.options.dragMinDistance &&\n                      cur.name != name) {\n                      return;\n                  }\n\n                  var startCenter = cur.startEvent.center;\n\n                  // we are dragging!\n                  if(cur.name != name) {\n                      cur.name = name;\n                      if(inst.options.dragDistanceCorrection && ev.distance > 0) {\n                          // When a drag is triggered, set the event center to dragMinDistance pixels from the original event center.\n                          // Without this correction, the dragged distance would jumpstart at dragMinDistance pixels instead of at 0.\n                          // It might be useful to save the original start point somewhere\n                          var factor = Math.abs(inst.options.dragMinDistance / ev.distance);\n                          startCenter.pageX += ev.deltaX * factor;\n                          startCenter.pageY += ev.deltaY * factor;\n                          startCenter.clientX += ev.deltaX * factor;\n                          startCenter.clientY += ev.deltaY * factor;\n\n                          // recalculate event data using new start point\n                          ev = Detection.extendEventData(ev);\n                      }\n                  }\n\n                  // lock drag to axis?\n                  if(cur.lastEvent.dragLockToAxis ||\n                      ( inst.options.dragLockToAxis &&\n                          inst.options.dragLockMinDistance <= ev.distance\n                          )) {\n                      ev.dragLockToAxis = true;\n                  }\n\n                  // keep direction on the axis that the drag gesture started on\n                  var lastDirection = cur.lastEvent.direction;\n                  if(ev.dragLockToAxis && lastDirection !== ev.direction) {\n                      if(Utils.isVertical(lastDirection)) {\n                          ev.direction = (ev.deltaY < 0) ? DIRECTION_UP : DIRECTION_DOWN;\n                      } else {\n                          ev.direction = (ev.deltaX < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\n                      }\n                  }\n\n                  // first time, trigger dragstart event\n                  if(!triggered) {\n                      inst.trigger(name + \'start\', ev);\n                      triggered = true;\n                  }\n\n                  // trigger events\n                  inst.trigger(name, ev);\n                  inst.trigger(name + ev.direction, ev);\n\n                  var isVertical = Utils.isVertical(ev.direction);\n\n                  // block the browser events\n                  if((inst.options.dragBlockVertical && isVertical) ||\n                      (inst.options.dragBlockHorizontal && !isVertical)) {\n                      ev.preventDefault();\n                  }\n                  break;\n\n              case EVENT_RELEASE:\n                  if(triggered && ev.changedLength <= inst.options.dragMaxTouches) {\n                      inst.trigger(name + \'end\', ev);\n                      triggered = false;\n                  }\n                  break;\n\n              case EVENT_END:\n                  triggered = false;\n                  break;\n          }\n      }\n\n      Hammer.gestures.Drag = {\n          name: name,\n          index: 50,\n          handler: dragGesture,\n          defaults: {\n              /**\n               * minimal movement that have to be made before the drag event gets triggered\n               * @property dragMinDistance\n               * @type {Number}\n               * @default 10\n               */\n              dragMinDistance: 10,\n\n              /**\n               * Set dragDistanceCorrection to true to make the starting point of the drag\n               * be calculated from where the drag was triggered, not from where the touch started.\n               * Useful to avoid a jerk-starting drag, which can make fine-adjustments\n               * through dragging difficult, and be visually unappealing.\n               * @property dragDistanceCorrection\n               * @type {Boolean}\n               * @default true\n               */\n              dragDistanceCorrection: true,\n\n              /**\n               * set 0 for unlimited, but this can conflict with transform\n               * @property dragMaxTouches\n               * @type {Number}\n               * @default 1\n               */\n              dragMaxTouches: 1,\n\n              /**\n               * prevent default browser behavior when dragging occurs\n               * be careful with it, it makes the element a blocking element\n               * when you are using the drag gesture, it is a good practice to set this true\n               * @property dragBlockHorizontal\n               * @type {Boolean}\n               * @default false\n               */\n              dragBlockHorizontal: false,\n\n              /**\n               * same as `dragBlockHorizontal`, but for vertical movement\n               * @property dragBlockVertical\n               * @type {Boolean}\n               * @default false\n               */\n              dragBlockVertical: false,\n\n              /**\n               * dragLockToAxis keeps the drag gesture on the axis that it started on,\n               * It disallows vertical directions if the initial direction was horizontal, and vice versa.\n               * @property dragLockToAxis\n               * @type {Boolean}\n               * @default false\n               */\n              dragLockToAxis: false,\n\n              /**\n               * drag lock only kicks in when distance > dragLockMinDistance\n               * This way, locking occurs only when the distance has become large enough to reliably determine the direction\n               * @property dragLockMinDistance\n               * @type {Number}\n               * @default 25\n               */\n              dragLockMinDistance: 25\n          }\n      };\n  })(\'drag\');\n\n  /**\n   * @module gestures\n   */\n  /**\n   * trigger a simple gesture event, so you can do anything in your handler.\n   * only usable if you know what your doing...\n   *\n   * @class Gesture\n   * @static\n   */\n  /**\n   * @event gesture\n   * @param {Object} ev\n   */\n  Hammer.gestures.Gesture = {\n      name: \'gesture\',\n      index: 1337,\n      handler: function releaseGesture(ev, inst) {\n          inst.trigger(this.name, ev);\n      }\n  };\n\n  /**\n   * @module gestures\n   */\n  /**\n   * Touch stays at the same place for x time\n   *\n   * @class Hold\n   * @static\n   */\n  /**\n   * @event hold\n   * @param {Object} ev\n   */\n\n  /**\n   * @param {String} name\n   */\n  (function(name) {\n      var timer;\n\n      function holdGesture(ev, inst) {\n          var options = inst.options,\n              current = Detection.current;\n\n          switch(ev.eventType) {\n              case EVENT_START:\n                  clearTimeout(timer);\n\n                  // set the gesture so we can check in the timeout if it still is\n                  current.name = name;\n\n                  // set timer and if after the timeout it still is hold,\n                  // we trigger the hold event\n                  timer = setTimeout(function() {\n                      if(current && current.name == name) {\n                          inst.trigger(name, ev);\n                      }\n                  }, options.holdTimeout);\n                  break;\n\n              case EVENT_MOVE:\n                  if(ev.distance > options.holdThreshold) {\n                      clearTimeout(timer);\n                  }\n                  break;\n\n              case EVENT_RELEASE:\n                  clearTimeout(timer);\n                  break;\n          }\n      }\n\n      Hammer.gestures.Hold = {\n          name: name,\n          index: 10,\n          defaults: {\n              /**\n               * @property holdTimeout\n               * @type {Number}\n               * @default 500\n               */\n              holdTimeout: 500,\n\n              /**\n               * movement allowed while holding\n               * @property holdThreshold\n               * @type {Number}\n               * @default 2\n               */\n              holdThreshold: 2\n          },\n          handler: holdGesture\n      };\n  })(\'hold\');\n\n  /**\n   * @module gestures\n   */\n  /**\n   * when a touch is being released from the page\n   *\n   * @class Release\n   * @static\n   */\n  /**\n   * @event release\n   * @param {Object} ev\n   */\n  Hammer.gestures.Release = {\n      name: \'release\',\n      index: Infinity,\n      handler: function releaseGesture(ev, inst) {\n          if(ev.eventType == EVENT_RELEASE) {\n              inst.trigger(this.name, ev);\n          }\n      }\n  };\n\n  /**\n   * @module gestures\n   */\n  /**\n   * triggers swipe events when the end velocity is above the threshold\n   * for best usage, set `preventDefault` (on the drag gesture) to `true`\n   * ````\n   *  hammertime.on("dragleft swipeleft", function(ev) {\n   *    console.log(ev);\n   *    ev.gesture.preventDefault();\n   *  });\n   * ````\n   *\n   * @class Swipe\n   * @static\n   */\n  /**\n   * @event swipe\n   * @param {Object} ev\n   */\n  /**\n   * @event swipeleft\n   * @param {Object} ev\n   */\n  /**\n   * @event swiperight\n   * @param {Object} ev\n   */\n  /**\n   * @event swipeup\n   * @param {Object} ev\n   */\n  /**\n   * @event swipedown\n   * @param {Object} ev\n   */\n  Hammer.gestures.Swipe = {\n      name: \'swipe\',\n      index: 40,\n      defaults: {\n          /**\n           * @property swipeMinTouches\n           * @type {Number}\n           * @default 1\n           */\n          swipeMinTouches: 1,\n\n          /**\n           * @property swipeMaxTouches\n           * @type {Number}\n           * @default 1\n           */\n          swipeMaxTouches: 1,\n\n          /**\n           * horizontal swipe velocity\n           * @property swipeVelocityX\n           * @type {Number}\n           * @default 0.6\n           */\n          swipeVelocityX: 0.6,\n\n          /**\n           * vertical swipe velocity\n           * @property swipeVelocityY\n           * @type {Number}\n           * @default 0.6\n           */\n          swipeVelocityY: 0.6\n      },\n\n      handler: function swipeGesture(ev, inst) {\n          if(ev.eventType == EVENT_RELEASE) {\n              var touches = ev.touches.length,\n                  options = inst.options;\n\n              // max touches\n              if(touches < options.swipeMinTouches ||\n                  touches > options.swipeMaxTouches) {\n                  return;\n              }\n\n              // when the distance we moved is too small we skip this gesture\n              // or we can be already in dragging\n              if(ev.velocityX > options.swipeVelocityX ||\n                  ev.velocityY > options.swipeVelocityY) {\n                  // trigger swipe events\n                  inst.trigger(this.name, ev);\n                  inst.trigger(this.name + ev.direction, ev);\n              }\n          }\n      }\n  };\n\n  /**\n   * @module gestures\n   */\n  /**\n   * Single tap and a double tap on a place\n   *\n   * @class Tap\n   * @static\n   */\n  /**\n   * @event tap\n   * @param {Object} ev\n   */\n  /**\n   * @event doubletap\n   * @param {Object} ev\n   */\n\n  /**\n   * @param {String} name\n   */\n  (function(name) {\n      var hasMoved = false;\n\n      function tapGesture(ev, inst) {\n          var options = inst.options,\n              current = Detection.current,\n              prev = Detection.previous,\n              sincePrev,\n              didDoubleTap;\n\n          switch(ev.eventType) {\n              case EVENT_START:\n                  hasMoved = false;\n                  break;\n\n              case EVENT_MOVE:\n                  hasMoved = hasMoved || (ev.distance > options.tapMaxDistance);\n                  break;\n\n              case EVENT_END:\n                  if(!Utils.inStr(ev.srcEvent.type, \'cancel\') && ev.deltaTime < options.tapMaxTime && !hasMoved) {\n                      // previous gesture, for the double tap since these are two different gesture detections\n                      sincePrev = prev && prev.lastEvent && ev.timeStamp - prev.lastEvent.timeStamp;\n                      didDoubleTap = false;\n\n                      // check if double tap\n                      if(prev && prev.name == name &&\n                          (sincePrev && sincePrev < options.doubleTapInterval) &&\n                          ev.distance < options.doubleTapDistance) {\n                          inst.trigger(\'doubletap\', ev);\n                          didDoubleTap = true;\n                      }\n\n                      // do a single tap\n                      if(!didDoubleTap || options.tapAlways) {\n                          current.name = name;\n                          inst.trigger(current.name, ev);\n                      }\n                  }\n                  break;\n          }\n      }\n\n      Hammer.gestures.Tap = {\n          name: name,\n          index: 100,\n          handler: tapGesture,\n          defaults: {\n              /**\n               * max time of a tap, this is for the slow tappers\n               * @property tapMaxTime\n               * @type {Number}\n               * @default 250\n               */\n              tapMaxTime: 250,\n\n              /**\n               * max distance of movement of a tap, this is for the slow tappers\n               * @property tapMaxDistance\n               * @type {Number}\n               * @default 10\n               */\n              tapMaxDistance: 10,\n\n              /**\n               * always trigger the `tap` event, even while double-tapping\n               * @property tapAlways\n               * @type {Boolean}\n               * @default true\n               */\n              tapAlways: true,\n\n              /**\n               * max distance between two taps\n               * @property doubleTapDistance\n               * @type {Number}\n               * @default 20\n               */\n              doubleTapDistance: 20,\n\n              /**\n               * max time between two taps\n               * @property doubleTapInterval\n               * @type {Number}\n               * @default 300\n               */\n              doubleTapInterval: 300\n          }\n      };\n  })(\'tap\');\n\n  /**\n   * @module gestures\n   */\n  /**\n   * when a touch is being touched at the page\n   *\n   * @class Touch\n   * @static\n   */\n  /**\n   * @event touch\n   * @param {Object} ev\n   */\n  Hammer.gestures.Touch = {\n      name: \'touch\',\n      index: -Infinity,\n      defaults: {\n          /**\n           * call preventDefault at touchstart, and makes the element blocking by disabling the scrolling of the page,\n           * but it improves gestures like transforming and dragging.\n           * be careful with using this, it can be very annoying for users to be stuck on the page\n           * @property preventDefault\n           * @type {Boolean}\n           * @default false\n           */\n          preventDefault: false,\n\n          /**\n           * disable mouse events, so only touch (or pen!) input triggers events\n           * @property preventMouse\n           * @type {Boolean}\n           * @default false\n           */\n          preventMouse: false\n      },\n      handler: function touchGesture(ev, inst) {\n          if(inst.options.preventMouse && ev.pointerType == POINTER_MOUSE) {\n              ev.stopDetect();\n              return;\n          }\n\n          if(inst.options.preventDefault) {\n              ev.preventDefault();\n          }\n\n          if(ev.eventType == EVENT_TOUCH) {\n              inst.trigger(\'touch\', ev);\n          }\n      }\n  };\n\n  /**\n   * @module gestures\n   */\n  /**\n   * User want to scale or rotate with 2 fingers\n   * Preventing the default browser behavior is a good way to improve feel and working. This can be done with the\n   * `preventDefault` option.\n   *\n   * @class Transform\n   * @static\n   */\n  /**\n   * @event transform\n   * @param {Object} ev\n   */\n  /**\n   * @event transformstart\n   * @param {Object} ev\n   */\n  /**\n   * @event transformend\n   * @param {Object} ev\n   */\n  /**\n   * @event pinchin\n   * @param {Object} ev\n   */\n  /**\n   * @event pinchout\n   * @param {Object} ev\n   */\n  /**\n   * @event rotate\n   * @param {Object} ev\n   */\n\n  /**\n   * @param {String} name\n   */\n  (function(name) {\n      var triggered = false;\n\n      function transformGesture(ev, inst) {\n          switch(ev.eventType) {\n              case EVENT_START:\n                  triggered = false;\n                  break;\n\n              case EVENT_MOVE:\n                  // at least multitouch\n                  if(ev.touches.length < 2) {\n                      return;\n                  }\n\n                  var scaleThreshold = Math.abs(1 - ev.scale);\n                  var rotationThreshold = Math.abs(ev.rotation);\n\n                  // when the distance we moved is too small we skip this gesture\n                  // or we can be already in dragging\n                  if(scaleThreshold < inst.options.transformMinScale &&\n                      rotationThreshold < inst.options.transformMinRotation) {\n                      return;\n                  }\n\n                  // we are transforming!\n                  Detection.current.name = name;\n\n                  // first time, trigger dragstart event\n                  if(!triggered) {\n                      inst.trigger(name + \'start\', ev);\n                      triggered = true;\n                  }\n\n                  inst.trigger(name, ev); // basic transform event\n\n                  // trigger rotate event\n                  if(rotationThreshold > inst.options.transformMinRotation) {\n                      inst.trigger(\'rotate\', ev);\n                  }\n\n                  // trigger pinch event\n                  if(scaleThreshold > inst.options.transformMinScale) {\n                      inst.trigger(\'pinch\', ev);\n                      inst.trigger(\'pinch\' + (ev.scale < 1 ? \'in\' : \'out\'), ev);\n                  }\n                  break;\n\n              case EVENT_RELEASE:\n                  if(triggered && ev.changedLength < 2) {\n                      inst.trigger(name + \'end\', ev);\n                      triggered = false;\n                  }\n                  break;\n          }\n      }\n\n      Hammer.gestures.Transform = {\n          name: name,\n          index: 45,\n          defaults: {\n              /**\n               * minimal scale factor, no scale is 1, zoomin is to 0 and zoomout until higher then 1\n               * @property transformMinScale\n               * @type {Number}\n               * @default 0.01\n               */\n              transformMinScale: 0.01,\n\n              /**\n               * rotation in degrees\n               * @property transformMinRotation\n               * @type {Number}\n               * @default 1\n               */\n              transformMinRotation: 1\n          },\n\n          handler: transformGesture\n      };\n  })(\'transform\');\n\n  /**\n   * @module hammer\n   */\n\n  // AMD export\n  if(true) {\n      !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {\n          return Hammer;\n      }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  // commonjs export\n  } else if(typeof module !== \'undefined\' && module.exports) {\n      module.exports = Hammer;\n  // browser export\n  } else {\n      window.Hammer = Hammer;\n  }\n\n  })(window);\n\n/***/ },\n/* 60 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var RepulsionMixin = __webpack_require__(68);\n  var HierarchialRepulsionMixin = __webpack_require__(69);\n  var BarnesHutMixin = __webpack_require__(70);\n\n  /**\n   * Toggling barnes Hut calculation on and off.\n   *\n   * @private\n   */\n  exports._toggleBarnesHut = function () {\n    this.constants.physics.barnesHut.enabled = !this.constants.physics.barnesHut.enabled;\n    this._loadSelectedForceSolver();\n    this.moving = true;\n    this.start();\n  };\n\n\n  /**\n   * This loads the node force solver based on the barnes hut or repulsion algorithm\n   *\n   * @private\n   */\n  exports._loadSelectedForceSolver = function () {\n    // this overloads the this._calculateNodeForces\n    if (this.constants.physics.barnesHut.enabled == true) {\n      this._clearMixin(RepulsionMixin);\n      this._clearMixin(HierarchialRepulsionMixin);\n\n      this.constants.physics.centralGravity = this.constants.physics.barnesHut.centralGravity;\n      this.constants.physics.springLength = this.constants.physics.barnesHut.springLength;\n      this.constants.physics.springConstant = this.constants.physics.barnesHut.springConstant;\n      this.constants.physics.damping = this.constants.physics.barnesHut.damping;\n\n      this._loadMixin(BarnesHutMixin);\n    }\n    else if (this.constants.physics.hierarchicalRepulsion.enabled == true) {\n      this._clearMixin(BarnesHutMixin);\n      this._clearMixin(RepulsionMixin);\n\n      this.constants.physics.centralGravity = this.constants.physics.hierarchicalRepulsion.centralGravity;\n      this.constants.physics.springLength = this.constants.physics.hierarchicalRepulsion.springLength;\n      this.constants.physics.springConstant = this.constants.physics.hierarchicalRepulsion.springConstant;\n      this.constants.physics.damping = this.constants.physics.hierarchicalRepulsion.damping;\n\n      this._loadMixin(HierarchialRepulsionMixin);\n    }\n    else {\n      this._clearMixin(BarnesHutMixin);\n      this._clearMixin(HierarchialRepulsionMixin);\n      this.barnesHutTree = undefined;\n\n      this.constants.physics.centralGravity = this.constants.physics.repulsion.centralGravity;\n      this.constants.physics.springLength = this.constants.physics.repulsion.springLength;\n      this.constants.physics.springConstant = this.constants.physics.repulsion.springConstant;\n      this.constants.physics.damping = this.constants.physics.repulsion.damping;\n\n      this._loadMixin(RepulsionMixin);\n    }\n  };\n\n  /**\n   * Before calculating the forces, we check if we need to cluster to keep up performance and we check\n   * if there is more than one node. If it is just one node, we dont calculate anything.\n   *\n   * @private\n   */\n  exports._initializeForceCalculation = function () {\n    // stop calculation if there is only one node\n    if (this.nodeIndices.length == 1) {\n      this.nodes[this.nodeIndices[0]]._setForce(0, 0);\n    }\n    else {\n      // if there are too many nodes on screen, we cluster without repositioning\n      if (this.nodeIndices.length > this.constants.clustering.clusterThreshold && this.constants.clustering.enabled == true) {\n        this.clusterToFit(this.constants.clustering.reduceToNodes, false);\n      }\n\n      // we now start the force calculation\n      this._calculateForces();\n    }\n  };\n\n\n  /**\n   * Calculate the external forces acting on the nodes\n   * Forces are caused by: edges, repulsing forces between nodes, gravity\n   * @private\n   */\n  exports._calculateForces = function () {\n    // Gravity is required to keep separated groups from floating off\n    // the forces are reset to zero in this loop by using _setForce instead\n    // of _addForce\n\n    this._calculateGravitationalForces();\n    this._calculateNodeForces();\n\n    if (this.constants.physics.springConstant > 0) {\n      if (this.constants.smoothCurves.enabled == true && this.constants.smoothCurves.dynamic == true) {\n        this._calculateSpringForcesWithSupport();\n      }\n      else {\n        if (this.constants.physics.hierarchicalRepulsion.enabled == true) {\n          this._calculateHierarchicalSpringForces();\n        }\n        else {\n          this._calculateSpringForces();\n        }\n      }\n    }\n  };\n\n\n  /**\n   * Smooth curves are created by adding invisible nodes in the center of the edges. These nodes are also\n   * handled in the calculateForces function. We then use a quadratic curve with the center node as control.\n   * This function joins the datanodes and invisible (called support) nodes into one object.\n   * We do this so we do not contaminate this.nodes with the support nodes.\n   *\n   * @private\n   */\n  exports._updateCalculationNodes = function () {\n    if (this.constants.smoothCurves.enabled == true && this.constants.smoothCurves.dynamic == true) {\n      this.calculationNodes = {};\n      this.calculationNodeIndices = [];\n\n      for (var nodeId in this.nodes) {\n        if (this.nodes.hasOwnProperty(nodeId)) {\n          this.calculationNodes[nodeId] = this.nodes[nodeId];\n        }\n      }\n      var supportNodes = this.sectors[\'support\'][\'nodes\'];\n      for (var supportNodeId in supportNodes) {\n        if (supportNodes.hasOwnProperty(supportNodeId)) {\n          if (this.edges.hasOwnProperty(supportNodes[supportNodeId].parentEdgeId)) {\n            this.calculationNodes[supportNodeId] = supportNodes[supportNodeId];\n          }\n          else {\n            supportNodes[supportNodeId]._setForce(0, 0);\n          }\n        }\n      }\n\n      for (var idx in this.calculationNodes) {\n        if (this.calculationNodes.hasOwnProperty(idx)) {\n          this.calculationNodeIndices.push(idx);\n        }\n      }\n    }\n    else {\n      this.calculationNodes = this.nodes;\n      this.calculationNodeIndices = this.nodeIndices;\n    }\n  };\n\n\n  /**\n   * this function applies the central gravity effect to keep groups from floating off\n   *\n   * @private\n   */\n  exports._calculateGravitationalForces = function () {\n    var dx, dy, distance, node, i;\n    var nodes = this.calculationNodes;\n    var gravity = this.constants.physics.centralGravity;\n    var gravityForce = 0;\n\n    for (i = 0; i < this.calculationNodeIndices.length; i++) {\n      node = nodes[this.calculationNodeIndices[i]];\n      node.damping = this.constants.physics.damping; // possibly add function to alter damping properties of clusters.\n      // gravity does not apply when we are in a pocket sector\n      if (this._sector() == "default" && gravity != 0) {\n        dx = -node.x;\n        dy = -node.y;\n        distance = Math.sqrt(dx * dx + dy * dy);\n\n        gravityForce = (distance == 0) ? 0 : (gravity / distance);\n        node.fx = dx * gravityForce;\n        node.fy = dy * gravityForce;\n      }\n      else {\n        node.fx = 0;\n        node.fy = 0;\n      }\n    }\n  };\n\n\n\n\n  /**\n   * this function calculates the effects of the springs in the case of unsmooth curves.\n   *\n   * @private\n   */\n  exports._calculateSpringForces = function () {\n    var edgeLength, edge, edgeId;\n    var dx, dy, fx, fy, springForce, distance;\n    var edges = this.edges;\n\n    // forces caused by the edges, modelled as springs\n    for (edgeId in edges) {\n      if (edges.hasOwnProperty(edgeId)) {\n        edge = edges[edgeId];\n        if (edge.connected) {\n          // only calculate forces if nodes are in the same sector\n          if (this.nodes.hasOwnProperty(edge.toId) && this.nodes.hasOwnProperty(edge.fromId)) {\n            edgeLength = edge.physics.springLength;\n            // this implies that the edges between big clusters are longer\n            edgeLength += (edge.to.clusterSize + edge.from.clusterSize - 2) * this.constants.clustering.edgeGrowth;\n\n            dx = (edge.from.x - edge.to.x);\n            dy = (edge.from.y - edge.to.y);\n            distance = Math.sqrt(dx * dx + dy * dy);\n\n            if (distance == 0) {\n              distance = 0.01;\n            }\n\n            // the 1/distance is so the fx and fy can be calculated without sine or cosine.\n            springForce = this.constants.physics.springConstant * (edgeLength - distance) / distance;\n\n            fx = dx * springForce;\n            fy = dy * springForce;\n\n            edge.from.fx += fx;\n            edge.from.fy += fy;\n            edge.to.fx -= fx;\n            edge.to.fy -= fy;\n          }\n        }\n      }\n    }\n  };\n\n\n\n\n  /**\n   * This function calculates the springforces on the nodes, accounting for the support nodes.\n   *\n   * @private\n   */\n  exports._calculateSpringForcesWithSupport = function () {\n    var edgeLength, edge, edgeId, combinedClusterSize;\n    var edges = this.edges;\n\n    // forces caused by the edges, modelled as springs\n    for (edgeId in edges) {\n      if (edges.hasOwnProperty(edgeId)) {\n        edge = edges[edgeId];\n        if (edge.connected) {\n          // only calculate forces if nodes are in the same sector\n          if (this.nodes.hasOwnProperty(edge.toId) && this.nodes.hasOwnProperty(edge.fromId)) {\n            if (edge.via != null) {\n              var node1 = edge.to;\n              var node2 = edge.via;\n              var node3 = edge.from;\n\n              edgeLength = edge.physics.springLength;\n\n              combinedClusterSize = node1.clusterSize + node3.clusterSize - 2;\n\n              // this implies that the edges between big clusters are longer\n              edgeLength += combinedClusterSize * this.constants.clustering.edgeGrowth;\n              this._calculateSpringForce(node1, node2, 0.5 * edgeLength);\n              this._calculateSpringForce(node2, node3, 0.5 * edgeLength);\n            }\n          }\n        }\n      }\n    }\n  };\n\n\n  /**\n   * This is the code actually performing the calculation for the function above. It is split out to avoid repetition.\n   *\n   * @param node1\n   * @param node2\n   * @param edgeLength\n   * @private\n   */\n  exports._calculateSpringForce = function (node1, node2, edgeLength) {\n    var dx, dy, fx, fy, springForce, distance;\n\n    dx = (node1.x - node2.x);\n    dy = (node1.y - node2.y);\n    distance = Math.sqrt(dx * dx + dy * dy);\n\n    if (distance == 0) {\n      distance = 0.01;\n    }\n\n    // the 1/distance is so the fx and fy can be calculated without sine or cosine.\n    springForce = this.constants.physics.springConstant * (edgeLength - distance) / distance;\n\n    fx = dx * springForce;\n    fy = dy * springForce;\n\n    node1.fx += fx;\n    node1.fy += fy;\n    node2.fx -= fx;\n    node2.fy -= fy;\n  };\n\n\n  exports._cleanupPhysicsConfiguration = function() {\n    if (this.physicsConfiguration !== undefined) {\n      while (this.physicsConfiguration.hasChildNodes()) {\n        this.physicsConfiguration.removeChild(this.physicsConfiguration.firstChild);\n      }\n\n      this.physicsConfiguration.parentNode.removeChild(this.physicsConfiguration);\n      this.physicsConfiguration = undefined;\n    }\n  }\n\n  /**\n   * Load the HTML for the physics config and bind it\n   * @private\n   */\n  exports._loadPhysicsConfiguration = function () {\n    if (this.physicsConfiguration === undefined) {\n      this.backupConstants = {};\n      util.deepExtend(this.backupConstants,this.constants);\n\n      var maxGravitational = Math.max(20000, (-1 * this.constants.physics.barnesHut.gravitationalConstant) * 10);\n      var maxSpring = Math.min(0.05, this.constants.physics.barnesHut.springConstant * 10)\n\n      var hierarchicalLayoutDirections = ["LR", "RL", "UD", "DU"];\n      this.physicsConfiguration = document.createElement(\'div\');\n      this.physicsConfiguration.className = "PhysicsConfiguration";\n      this.physicsConfiguration.innerHTML = \'\' +\n        \'<table><tr><td><b>Simulation Mode:</b></td></tr>\' +\n        \'<tr>\' +\n        \'<td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod1" value="BH" checked="checked">Barnes Hut</td>\' +\n        \'<td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod2" value="R">Repulsion</td>\' +\n        \'<td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod3" value="H">Hierarchical</td>\' +\n        \'</tr>\' +\n        \'</table>\' +\n        \'<table id="graph_BH_table" style="display:none">\' +\n        \'<tr><td><b>Barnes Hut</b></td></tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">gravitationalConstant</td><td>0</td><td><input type="range" min="0" max="\'+maxGravitational+\'" value="\' + (-1 * this.constants.physics.barnesHut.gravitationalConstant) + \'" step="25" style="width:300px" id="graph_BH_gc"></td><td  width="50px">-\'+maxGravitational+\'</td><td><input value="\' + (this.constants.physics.barnesHut.gravitationalConstant) + \'" id="graph_BH_gc_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="6"  value="\' + this.constants.physics.barnesHut.centralGravity + \'" step="0.05"  style="width:300px" id="graph_BH_cg"></td><td>3</td><td><input value="\' + this.constants.physics.barnesHut.centralGravity + \'" id="graph_BH_cg_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="\' + this.constants.physics.barnesHut.springLength + \'" step="1" style="width:300px" id="graph_BH_sl"></td><td>500</td><td><input value="\' + this.constants.physics.barnesHut.springLength + \'" id="graph_BH_sl_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="\'+maxSpring+\'" value="\' + this.constants.physics.barnesHut.springConstant + \'" step="0.0001" style="width:300px" id="graph_BH_sc"></td><td>\'+maxSpring+\'</td><td><input value="\' + this.constants.physics.barnesHut.springConstant + \'" id="graph_BH_sc_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="\' + this.constants.physics.barnesHut.damping + \'" step="0.005" style="width:300px" id="graph_BH_damp"></td><td>0.3</td><td><input value="\' + this.constants.physics.barnesHut.damping + \'" id="graph_BH_damp_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'</table>\' +\n        \'<table id="graph_R_table" style="display:none">\' +\n        \'<tr><td><b>Repulsion</b></td></tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="\' + this.constants.physics.repulsion.nodeDistance + \'" step="1" style="width:300px" id="graph_R_nd"></td><td width="50px">300</td><td><input value="\' + this.constants.physics.repulsion.nodeDistance + \'" id="graph_R_nd_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="\' + this.constants.physics.repulsion.centralGravity + \'" step="0.05"  style="width:300px" id="graph_R_cg"></td><td>3</td><td><input value="\' + this.constants.physics.repulsion.centralGravity + \'" id="graph_R_cg_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="\' + this.constants.physics.repulsion.springLength + \'" step="1" style="width:300px" id="graph_R_sl"></td><td>500</td><td><input value="\' + this.constants.physics.repulsion.springLength + \'" id="graph_R_sl_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="\' + this.constants.physics.repulsion.springConstant + \'" step="0.001" style="width:300px" id="graph_R_sc"></td><td>0.5</td><td><input value="\' + this.constants.physics.repulsion.springConstant + \'" id="graph_R_sc_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="\' + this.constants.physics.repulsion.damping + \'" step="0.005" style="width:300px" id="graph_R_damp"></td><td>0.3</td><td><input value="\' + this.constants.physics.repulsion.damping + \'" id="graph_R_damp_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'</table>\' +\n        \'<table id="graph_H_table" style="display:none">\' +\n        \'<tr><td width="150"><b>Hierarchical</b></td></tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="\' + this.constants.physics.hierarchicalRepulsion.nodeDistance + \'" step="1" style="width:300px" id="graph_H_nd"></td><td width="50px">300</td><td><input value="\' + this.constants.physics.hierarchicalRepulsion.nodeDistance + \'" id="graph_H_nd_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="\' + this.constants.physics.hierarchicalRepulsion.centralGravity + \'" step="0.05"  style="width:300px" id="graph_H_cg"></td><td>3</td><td><input value="\' + this.constants.physics.hierarchicalRepulsion.centralGravity + \'" id="graph_H_cg_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="\' + this.constants.physics.hierarchicalRepulsion.springLength + \'" step="1" style="width:300px" id="graph_H_sl"></td><td>500</td><td><input value="\' + this.constants.physics.hierarchicalRepulsion.springLength + \'" id="graph_H_sl_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="\' + this.constants.physics.hierarchicalRepulsion.springConstant + \'" step="0.001" style="width:300px" id="graph_H_sc"></td><td>0.5</td><td><input value="\' + this.constants.physics.hierarchicalRepulsion.springConstant + \'" id="graph_H_sc_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="\' + this.constants.physics.hierarchicalRepulsion.damping + \'" step="0.005" style="width:300px" id="graph_H_damp"></td><td>0.3</td><td><input value="\' + this.constants.physics.hierarchicalRepulsion.damping + \'" id="graph_H_damp_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">direction</td><td>1</td><td><input type="range" min="0" max="3" value="\' + hierarchicalLayoutDirections.indexOf(this.constants.hierarchicalLayout.direction) + \'" step="1" style="width:300px" id="graph_H_direction"></td><td>4</td><td><input value="\' + this.constants.hierarchicalLayout.direction + \'" id="graph_H_direction_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">levelSeparation</td><td>1</td><td><input type="range" min="0" max="500" value="\' + this.constants.hierarchicalLayout.levelSeparation + \'" step="1" style="width:300px" id="graph_H_levsep"></td><td>500</td><td><input value="\' + this.constants.hierarchicalLayout.levelSeparation + \'" id="graph_H_levsep_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'<tr>\' +\n        \'<td width="150px">nodeSpacing</td><td>1</td><td><input type="range" min="0" max="500" value="\' + this.constants.hierarchicalLayout.nodeSpacing + \'" step="1" style="width:300px" id="graph_H_nspac"></td><td>500</td><td><input value="\' + this.constants.hierarchicalLayout.nodeSpacing + \'" id="graph_H_nspac_value" style="width:60px"></td>\' +\n        \'</tr>\' +\n        \'</table>\' +\n        \'<table><tr><td><b>Options:</b></td></tr>\' +\n        \'<tr>\' +\n        \'<td width="180px"><input type="button" id="graph_toggleSmooth" value="Toggle smoothCurves" style="width:150px"></td>\' +\n        \'<td width="180px"><input type="button" id="graph_repositionNodes" value="Reinitialize" style="width:150px"></td>\' +\n        \'<td width="180px"><input type="button" id="graph_generateOptions" value="Generate Options" style="width:150px"></td>\' +\n        \'</tr>\' +\n        \'</table>\'\n      this.containerElement.parentElement.insertBefore(this.physicsConfiguration, this.containerElement);\n      this.optionsDiv = document.createElement("div");\n      this.optionsDiv.style.fontSize = "14px";\n      this.optionsDiv.style.fontFamily = "verdana";\n      this.containerElement.parentElement.insertBefore(this.optionsDiv, this.containerElement);\n\n      var rangeElement;\n      rangeElement = document.getElementById(\'graph_BH_gc\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_BH_gc\', -1, "physics_barnesHut_gravitationalConstant");\n      rangeElement = document.getElementById(\'graph_BH_cg\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_BH_cg\', 1, "physics_centralGravity");\n      rangeElement = document.getElementById(\'graph_BH_sc\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_BH_sc\', 1, "physics_springConstant");\n      rangeElement = document.getElementById(\'graph_BH_sl\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_BH_sl\', 1, "physics_springLength");\n      rangeElement = document.getElementById(\'graph_BH_damp\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_BH_damp\', 1, "physics_damping");\n\n      rangeElement = document.getElementById(\'graph_R_nd\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_R_nd\', 1, "physics_repulsion_nodeDistance");\n      rangeElement = document.getElementById(\'graph_R_cg\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_R_cg\', 1, "physics_centralGravity");\n      rangeElement = document.getElementById(\'graph_R_sc\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_R_sc\', 1, "physics_springConstant");\n      rangeElement = document.getElementById(\'graph_R_sl\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_R_sl\', 1, "physics_springLength");\n      rangeElement = document.getElementById(\'graph_R_damp\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_R_damp\', 1, "physics_damping");\n\n      rangeElement = document.getElementById(\'graph_H_nd\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_H_nd\', 1, "physics_hierarchicalRepulsion_nodeDistance");\n      rangeElement = document.getElementById(\'graph_H_cg\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_H_cg\', 1, "physics_centralGravity");\n      rangeElement = document.getElementById(\'graph_H_sc\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_H_sc\', 1, "physics_springConstant");\n      rangeElement = document.getElementById(\'graph_H_sl\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_H_sl\', 1, "physics_springLength");\n      rangeElement = document.getElementById(\'graph_H_damp\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_H_damp\', 1, "physics_damping");\n      rangeElement = document.getElementById(\'graph_H_direction\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_H_direction\', hierarchicalLayoutDirections, "hierarchicalLayout_direction");\n      rangeElement = document.getElementById(\'graph_H_levsep\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_H_levsep\', 1, "hierarchicalLayout_levelSeparation");\n      rangeElement = document.getElementById(\'graph_H_nspac\');\n      rangeElement.onchange = showValueOfRange.bind(this, \'graph_H_nspac\', 1, "hierarchicalLayout_nodeSpacing");\n\n      var radioButton1 = document.getElementById("graph_physicsMethod1");\n      var radioButton2 = document.getElementById("graph_physicsMethod2");\n      var radioButton3 = document.getElementById("graph_physicsMethod3");\n      radioButton2.checked = true;\n      if (this.constants.physics.barnesHut.enabled) {\n        radioButton1.checked = true;\n      }\n      if (this.constants.hierarchicalLayout.enabled) {\n        radioButton3.checked = true;\n      }\n\n      var graph_toggleSmooth = document.getElementById("graph_toggleSmooth");\n      var graph_repositionNodes = document.getElementById("graph_repositionNodes");\n      var graph_generateOptions = document.getElementById("graph_generateOptions");\n\n      graph_toggleSmooth.onclick = graphToggleSmoothCurves.bind(this);\n      graph_repositionNodes.onclick = graphRepositionNodes.bind(this);\n      graph_generateOptions.onclick = graphGenerateOptions.bind(this);\n      if (this.constants.smoothCurves == true && this.constants.dynamicSmoothCurves == false) {\n        graph_toggleSmooth.style.background = "#A4FF56";\n      }\n      else {\n        graph_toggleSmooth.style.background = "#FF8532";\n      }\n\n\n      switchConfigurations.apply(this);\n\n      radioButton1.onchange = switchConfigurations.bind(this);\n      radioButton2.onchange = switchConfigurations.bind(this);\n      radioButton3.onchange = switchConfigurations.bind(this);\n    }\n  };\n\n  /**\n   * This overwrites the this.constants.\n   *\n   * @param constantsVariableName\n   * @param value\n   * @private\n   */\n  exports._overWriteGraphConstants = function (constantsVariableName, value) {\n    var nameArray = constantsVariableName.split("_");\n    if (nameArray.length == 1) {\n      this.constants[nameArray[0]] = value;\n    }\n    else if (nameArray.length == 2) {\n      this.constants[nameArray[0]][nameArray[1]] = value;\n    }\n    else if (nameArray.length == 3) {\n      this.constants[nameArray[0]][nameArray[1]][nameArray[2]] = value;\n    }\n  };\n\n\n  /**\n   * this function is bound to the toggle smooth curves button. That is also why it is not in the prototype.\n   */\n  function graphToggleSmoothCurves () {\n    this.constants.smoothCurves.enabled = !this.constants.smoothCurves.enabled;\n    var graph_toggleSmooth = document.getElementById("graph_toggleSmooth");\n    if (this.constants.smoothCurves.enabled == true) {graph_toggleSmooth.style.background = "#A4FF56";}\n    else                                     {graph_toggleSmooth.style.background = "#FF8532";}\n\n    this._configureSmoothCurves(false);\n  }\n\n  /**\n   * this function is used to scramble the nodes\n   *\n   */\n  function graphRepositionNodes () {\n    for (var nodeId in this.calculationNodes) {\n      if (this.calculationNodes.hasOwnProperty(nodeId)) {\n        this.calculationNodes[nodeId].vx = 0;  this.calculationNodes[nodeId].vy = 0;\n        this.calculationNodes[nodeId].fx = 0;  this.calculationNodes[nodeId].fy = 0;\n      }\n    }\n    if (this.constants.hierarchicalLayout.enabled == true) {\n      this._setupHierarchicalLayout();\n      showValueOfRange.call(this, \'graph_H_nd\', 1, "physics_hierarchicalRepulsion_nodeDistance");\n      showValueOfRange.call(this, \'graph_H_cg\', 1, "physics_centralGravity");\n      showValueOfRange.call(this, \'graph_H_sc\', 1, "physics_springConstant");\n      showValueOfRange.call(this, \'graph_H_sl\', 1, "physics_springLength");\n      showValueOfRange.call(this, \'graph_H_damp\', 1, "physics_damping");\n    }\n    else {\n      this.repositionNodes();\n    }\n    this.moving = true;\n    this.start();\n  }\n\n  /**\n   *  this is used to generate an options file from the playing with physics system.\n   */\n  function graphGenerateOptions () {\n    var options = "No options are required, default values used.";\n    var optionsSpecific = [];\n    var radioButton1 = document.getElementById("graph_physicsMethod1");\n    var radioButton2 = document.getElementById("graph_physicsMethod2");\n    if (radioButton1.checked == true) {\n      if (this.constants.physics.barnesHut.gravitationalConstant != this.backupConstants.physics.barnesHut.gravitationalConstant) {optionsSpecific.push("gravitationalConstant: " + this.constants.physics.barnesHut.gravitationalConstant);}\n      if (this.constants.physics.centralGravity != this.backupConstants.physics.barnesHut.centralGravity)                         {optionsSpecific.push("centralGravity: " + this.constants.physics.centralGravity);}\n      if (this.constants.physics.springLength != this.backupConstants.physics.barnesHut.springLength)                             {optionsSpecific.push("springLength: " + this.constants.physics.springLength);}\n      if (this.constants.physics.springConstant != this.backupConstants.physics.barnesHut.springConstant)                         {optionsSpecific.push("springConstant: " + this.constants.physics.springConstant);}\n      if (this.constants.physics.damping != this.backupConstants.physics.barnesHut.damping)                                       {optionsSpecific.push("damping: " + this.constants.physics.damping);}\n      if (optionsSpecific.length != 0) {\n        options = "var options = {";\n        options += "physics: {barnesHut: {";\n        for (var i = 0; i < optionsSpecific.length; i++) {\n          options += optionsSpecific[i];\n          if (i < optionsSpecific.length - 1) {\n            options += ", "\n          }\n        }\n        options += \'}}\'\n      }\n      if (this.constants.smoothCurves.enabled != this.backupConstants.smoothCurves.enabled) {\n        if (optionsSpecific.length == 0) {options = "var options = {";}\n        else {options += ", "}\n        options += "smoothCurves: " + this.constants.smoothCurves.enabled;\n      }\n      if (options != "No options are required, default values used.") {\n        options += \'};\'\n      }\n    }\n    else if (radioButton2.checked == true) {\n      options = "var options = {";\n      options += "physics: {barnesHut: {enabled: false}";\n      if (this.constants.physics.repulsion.nodeDistance != this.backupConstants.physics.repulsion.nodeDistance)  {optionsSpecific.push("nodeDistance: " + this.constants.physics.repulsion.nodeDistance);}\n      if (this.constants.physics.centralGravity != this.backupConstants.physics.repulsion.centralGravity)        {optionsSpecific.push("centralGravity: " + this.constants.physics.centralGravity);}\n      if (this.constants.physics.springLength != this.backupConstants.physics.repulsion.springLength)            {optionsSpecific.push("springLength: " + this.constants.physics.springLength);}\n      if (this.constants.physics.springConstant != this.backupConstants.physics.repulsion.springConstant)        {optionsSpecific.push("springConstant: " + this.constants.physics.springConstant);}\n      if (this.constants.physics.damping != this.backupConstants.physics.repulsion.damping)                      {optionsSpecific.push("damping: " + this.constants.physics.damping);}\n      if (optionsSpecific.length != 0) {\n        options += ", repulsion: {";\n        for (var i = 0; i < optionsSpecific.length; i++) {\n          options += optionsSpecific[i];\n          if (i < optionsSpecific.length - 1) {\n            options += ", "\n          }\n        }\n        options += \'}}\'\n      }\n      if (optionsSpecific.length == 0) {options += "}"}\n      if (this.constants.smoothCurves != this.backupConstants.smoothCurves) {\n        options += ", smoothCurves: " + this.constants.smoothCurves;\n      }\n      options += \'};\'\n    }\n    else {\n      options = "var options = {";\n      if (this.constants.physics.hierarchicalRepulsion.nodeDistance != this.backupConstants.physics.hierarchicalRepulsion.nodeDistance)  {optionsSpecific.push("nodeDistance: " + this.constants.physics.hierarchicalRepulsion.nodeDistance);}\n      if (this.constants.physics.centralGravity != this.backupConstants.physics.hierarchicalRepulsion.centralGravity)        {optionsSpecific.push("centralGravity: " + this.constants.physics.centralGravity);}\n      if (this.constants.physics.springLength != this.backupConstants.physics.hierarchicalRepulsion.springLength)            {optionsSpecific.push("springLength: " + this.constants.physics.springLength);}\n      if (this.constants.physics.springConstant != this.backupConstants.physics.hierarchicalRepulsion.springConstant)        {optionsSpecific.push("springConstant: " + this.constants.physics.springConstant);}\n      if (this.constants.physics.damping != this.backupConstants.physics.hierarchicalRepulsion.damping)                      {optionsSpecific.push("damping: " + this.constants.physics.damping);}\n      if (optionsSpecific.length != 0) {\n        options += "physics: {hierarchicalRepulsion: {";\n        for (var i = 0; i < optionsSpecific.length; i++) {\n          options += optionsSpecific[i];\n          if (i < optionsSpecific.length - 1) {\n            options += ", ";\n          }\n        }\n        options += \'}},\';\n      }\n      options += \'hierarchicalLayout: {\';\n      optionsSpecific = [];\n      if (this.constants.hierarchicalLayout.direction != this.backupConstants.hierarchicalLayout.direction)                       {optionsSpecific.push("direction: " + this.constants.hierarchicalLayout.direction);}\n      if (Math.abs(this.constants.hierarchicalLayout.levelSeparation) != this.backupConstants.hierarchicalLayout.levelSeparation) {optionsSpecific.push("levelSeparation: " + this.constants.hierarchicalLayout.levelSeparation);}\n      if (this.constants.hierarchicalLayout.nodeSpacing != this.backupConstants.hierarchicalLayout.nodeSpacing)                   {optionsSpecific.push("nodeSpacing: " + this.constants.hierarchicalLayout.nodeSpacing);}\n      if (optionsSpecific.length != 0) {\n        for (var i = 0; i < optionsSpecific.length; i++) {\n          options += optionsSpecific[i];\n          if (i < optionsSpecific.length - 1) {\n            options += ", "\n          }\n        }\n        options += \'}\'\n      }\n      else {\n        options += "enabled:true}";\n      }\n      options += \'};\'\n    }\n\n\n    this.optionsDiv.innerHTML = options;\n  }\n\n  /**\n   * this is used to switch between barnesHut, repulsion and hierarchical.\n   *\n   */\n  function switchConfigurations () {\n    var ids = ["graph_BH_table", "graph_R_table", "graph_H_table"];\n    var radioButton = document.querySelector(\'input[name="graph_physicsMethod"]:checked\').value;\n    var tableId = "graph_" + radioButton + "_table";\n    var table = document.getElementById(tableId);\n    table.style.display = "block";\n    for (var i = 0; i < ids.length; i++) {\n      if (ids[i] != tableId) {\n        table = document.getElementById(ids[i]);\n        table.style.display = "none";\n      }\n    }\n    this._restoreNodes();\n    if (radioButton == "R") {\n      this.constants.hierarchicalLayout.enabled = false;\n      this.constants.physics.hierarchicalRepulsion.enabled = false;\n      this.constants.physics.barnesHut.enabled = false;\n    }\n    else if (radioButton == "H") {\n      if (this.constants.hierarchicalLayout.enabled == false) {\n        this.constants.hierarchicalLayout.enabled = true;\n        this.constants.physics.hierarchicalRepulsion.enabled = true;\n        this.constants.physics.barnesHut.enabled = false;\n        this.constants.smoothCurves.enabled = false;\n        this._setupHierarchicalLayout();\n      }\n    }\n    else {\n      this.constants.hierarchicalLayout.enabled = false;\n      this.constants.physics.hierarchicalRepulsion.enabled = false;\n      this.constants.physics.barnesHut.enabled = true;\n    }\n    this._loadSelectedForceSolver();\n    var graph_toggleSmooth = document.getElementById("graph_toggleSmooth");\n    if (this.constants.smoothCurves.enabled == true) {graph_toggleSmooth.style.background = "#A4FF56";}\n    else                                     {graph_toggleSmooth.style.background = "#FF8532";}\n    this.moving = true;\n    this.start();\n  }\n\n\n  /**\n   * this generates the ranges depending on the iniital values.\n   *\n   * @param id\n   * @param map\n   * @param constantsVariableName\n   */\n  function showValueOfRange (id,map,constantsVariableName) {\n    var valueId = id + "_value";\n    var rangeValue = document.getElementById(id).value;\n\n    if (Array.isArray(map)) {\n      document.getElementById(valueId).value = map[parseInt(rangeValue)];\n      this._overWriteGraphConstants(constantsVariableName,map[parseInt(rangeValue)]);\n    }\n    else {\n      document.getElementById(valueId).value = parseInt(map) * parseFloat(rangeValue);\n      this._overWriteGraphConstants(constantsVariableName, parseInt(map) * parseFloat(rangeValue));\n    }\n\n    if (constantsVariableName == "hierarchicalLayout_direction" ||\n      constantsVariableName == "hierarchicalLayout_levelSeparation" ||\n      constantsVariableName == "hierarchicalLayout_nodeSpacing") {\n      this._setupHierarchicalLayout();\n    }\n    this.moving = true;\n    this.start();\n  }\n\n\n\n\n/***/ },\n/* 61 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Creation of the ClusterMixin var.\n   *\n   * This contains all the functions the Network object can use to employ clustering\n   */\n\n  /**\n  * This is only called in the constructor of the network object\n  *\n  */\n  exports.startWithClustering = function() {\n   // cluster if the data set is big\n   this.clusterToFit(this.constants.clustering.initialMaxNodes, true);\n\n   // updates the lables after clustering\n   this.updateLabels();\n\n   // this is called here because if clusterin is disabled, the start and stabilize are called in\n   // the setData function.\n   if (this.constants.stabilize == true) {\n     this._stabilize();\n   }\n   this.start();\n  };\n\n  /**\n   * This function clusters until the initialMaxNodes has been reached\n   *\n   * @param {Number}  maxNumberOfNodes\n   * @param {Boolean} reposition\n   */\n  exports.clusterToFit = function(maxNumberOfNodes, reposition) {\n    var numberOfNodes = this.nodeIndices.length;\n\n    var maxLevels = 50;\n    var level = 0;\n\n    // we first cluster the hubs, then we pull in the outliers, repeat\n    while (numberOfNodes > maxNumberOfNodes && level < maxLevels) {\n      if (level % 3 == 0.0) {\n        this.forceAggregateHubs(true);\n        this.normalizeClusterLevels();\n      }\n      else {\n        this.increaseClusterLevel(); // this also includes a cluster normalization\n      }\n      this.forceAggregateHubs(true);\n      numberOfNodes = this.nodeIndices.length;\n      level += 1;\n    }\n\n    // after the clustering we reposition the nodes to reduce the initial chaos\n    if (level > 0 && reposition == true) {\n      this.repositionNodes();\n    }\n    this._updateCalculationNodes();\n  };\n\n  /**\n   * This function can be called to open up a specific cluster.\n   * It will unpack the cluster back one level.\n   *\n   * @param node    | Node object: cluster to open.\n   */\n  exports.openCluster = function(node) {\n    var isMovingBeforeClustering = this.moving;\n    if (node.clusterSize > this.constants.clustering.sectorThreshold && this._nodeInActiveArea(node) &&\n      !(this._sector() == "default" && this.nodeIndices.length == 1)) {\n      // this loads a new sector, loads the nodes and edges and nodeIndices of it.\n      this._addSector(node);\n      var level = 0;\n\n      // we decluster until we reach a decent number of nodes\n      while ((this.nodeIndices.length < this.constants.clustering.initialMaxNodes) && (level < 10)) {\n        this.decreaseClusterLevel();\n        level += 1;\n      }\n\n    }\n    else {\n      this._expandClusterNode(node,false,true);\n\n      // update the index list and labels\n      this._updateNodeIndexList();\n      this._updateCalculationNodes();\n      this.updateLabels();\n    }\n\n    // if the simulation was settled, we restart the simulation if a cluster has been formed or expanded\n    if (this.moving != isMovingBeforeClustering) {\n      this.start();\n    }\n  };\n\n\n  /**\n   * This calls the updateClustes with default arguments\n   */\n  exports.updateClustersDefault = function() {\n    if (this.constants.clustering.enabled == true && this.constants.clustering.clusterByZoom == true) {\n      this.updateClusters(0,false,false);\n    }\n  };\n\n\n  /**\n   * This function can be called to increase the cluster level. This means that the nodes with only one edge connection will\n   * be clustered with their connected node. This can be repeated as many times as needed.\n   * This can be called externally (by a keybind for instance) to reduce the complexity of big datasets.\n   */\n  exports.increaseClusterLevel = function() {\n    this.updateClusters(-1,false,true);\n  };\n\n\n  /**\n   * This function can be called to decrease the cluster level. This means that the nodes with only one edge connection will\n   * be unpacked if they are a cluster. This can be repeated as many times as needed.\n   * This can be called externally (by a key-bind for instance) to look into clusters without zooming.\n   */\n  exports.decreaseClusterLevel = function() {\n    this.updateClusters(1,false,true);\n  };\n\n\n  /**\n   * This is the main clustering function. It clusters and declusters on zoom or forced\n   * This function clusters on zoom, it can be called with a predefined zoom direction\n   * If out, check if we can form clusters, if in, check if we can open clusters.\n   * This function is only called from _zoom()\n   *\n   * @param {Number} zoomDirection  | -1 / 0 / +1   for  zoomOut / determineByZoom / zoomIn\n   * @param {Boolean} recursive     | enabled or disable recursive calling of the opening of clusters\n   * @param {Boolean} force         | enabled or disable forcing\n   * @param {Boolean} doNotStart    | if true do not call start\n   *\n   */\n  exports.updateClusters = function(zoomDirection,recursive,force,doNotStart) {\n    var isMovingBeforeClustering = this.moving;\n    var amountOfNodes = this.nodeIndices.length;\n\n    var detectedZoomingIn = (this.previousScale < this.scale && zoomDirection == 0);\n    var detectedZoomingOut = (this.previousScale > this.scale && zoomDirection == 0);\n\n    // on zoom out collapse the sector if the scale is at the level the sector was made\n    if (detectedZoomingOut == true) {\n      this._collapseSector();\n    }\n\n    // check if we zoom in or out\n    if (detectedZoomingOut == true || zoomDirection == -1) { // zoom out\n      // forming clusters when forced pulls outliers in. When not forced, the edge length of the\n      // outer nodes determines if it is being clustered\n      this._formClusters(force);\n    }\n    else if (detectedZoomingIn == true || zoomDirection == 1) { // zoom in\n      if (force == true) {\n        // _openClusters checks for each node if the formationScale of the cluster is smaller than\n        // the current scale and if so, declusters. When forced, all clusters are reduced by one step\n        this._openClusters(recursive,force);\n      }\n      else {\n        // if a cluster takes up a set percentage of the active window\n        //this._openClustersBySize();\n        this._openClusters(recursive, false);\n      }\n    }\n    this._updateNodeIndexList();\n\n    // if a cluster was NOT formed and the user zoomed out, we try clustering by hubs\n    if (this.nodeIndices.length == amountOfNodes && (detectedZoomingOut == true || zoomDirection == -1))  {\n      this._aggregateHubs(force);\n      this._updateNodeIndexList();\n    }\n\n    // we now reduce chains.\n    if (detectedZoomingOut == true || zoomDirection == -1) { // zoom out\n      this.handleChains();\n      this._updateNodeIndexList();\n    }\n\n    this.previousScale = this.scale;\n\n    // update labels\n    this.updateLabels();\n\n    // if a cluster was formed, we increase the clusterSession\n    if (this.nodeIndices.length < amountOfNodes) { // this means a clustering operation has taken place\n      this.clusterSession += 1;\n      // if clusters have been made, we normalize the cluster level\n      this.normalizeClusterLevels();\n    }\n\n    if (doNotStart == false || doNotStart === undefined) {\n      // if the simulation was settled, we restart the simulation if a cluster has been formed or expanded\n      if (this.moving != isMovingBeforeClustering) {\n        this.start();\n      }\n    }\n\n    this._updateCalculationNodes();\n  };\n\n  /**\n   * This function handles the chains. It is called on every updateClusters().\n   */\n  exports.handleChains = function() {\n    // after clustering we check how many chains there are\n    var chainPercentage = this._getChainFraction();\n    if (chainPercentage > this.constants.clustering.chainThreshold) {\n      this._reduceAmountOfChains(1 - this.constants.clustering.chainThreshold / chainPercentage)\n\n    }\n  };\n\n  /**\n   * this functions starts clustering by hubs\n   * The minimum hub threshold is set globally\n   *\n   * @private\n   */\n  exports._aggregateHubs = function(force) {\n    this._getHubSize();\n    this._formClustersByHub(force,false);\n  };\n\n\n  /**\n   * This function forces hubs to form.\n   *\n   */\n  exports.forceAggregateHubs = function(doNotStart) {\n    var isMovingBeforeClustering = this.moving;\n    var amountOfNodes = this.nodeIndices.length;\n\n    this._aggregateHubs(true);\n\n    // update the index list, dynamic edges and labels\n    this._updateNodeIndexList();\n    this.updateLabels();\n\n    this._updateCalculationNodes();\n\n    // if a cluster was formed, we increase the clusterSession\n    if (this.nodeIndices.length != amountOfNodes) {\n      this.clusterSession += 1;\n    }\n\n    if (doNotStart == false || doNotStart === undefined) {\n      // if the simulation was settled, we restart the simulation if a cluster has been formed or expanded\n      if (this.moving != isMovingBeforeClustering) {\n        this.start();\n      }\n    }\n  };\n\n  /**\n   * If a cluster takes up more than a set percentage of the screen, open the cluster\n   *\n   * @private\n   */\n  exports._openClustersBySize = function() {\n    if (this.constants.clustering.clusterByZoom == true) {\n      for (var nodeId in this.nodes) {\n        if (this.nodes.hasOwnProperty(nodeId)) {\n          var node = this.nodes[nodeId];\n          if (node.inView() == true) {\n            if ((node.width * this.scale > this.constants.clustering.screenSizeThreshold * this.frame.canvas.clientWidth) ||\n              (node.height * this.scale > this.constants.clustering.screenSizeThreshold * this.frame.canvas.clientHeight)) {\n              this.openCluster(node);\n            }\n          }\n        }\n      }\n    }\n  };\n\n\n  /**\n   * This function loops over all nodes in the nodeIndices list. For each node it checks if it is a cluster and if it\n   * has to be opened based on the current zoom level.\n   *\n   * @private\n   */\n  exports._openClusters = function(recursive,force) {\n    for (var i = 0; i < this.nodeIndices.length; i++) {\n      var node = this.nodes[this.nodeIndices[i]];\n      this._expandClusterNode(node,recursive,force);\n      this._updateCalculationNodes();\n    }\n  };\n\n  /**\n   * This function checks if a node has to be opened. This is done by checking the zoom level.\n   * If the node contains child nodes, this function is recursively called on the child nodes as well.\n   * This recursive behaviour is optional and can be set by the recursive argument.\n   *\n   * @param {Node}    parentNode    | to check for cluster and expand\n   * @param {Boolean} recursive     | enabled or disable recursive calling\n   * @param {Boolean} force         | enabled or disable forcing\n   * @param {Boolean} [openAll]     | This will recursively force all nodes in the parent to be released\n   * @private\n   */\n  exports._expandClusterNode = function(parentNode, recursive, force, openAll) {\n    // first check if node is a cluster\n    if (parentNode.clusterSize > 1) {\n      if (openAll === undefined) {\n        openAll = false;\n      }\n      // this means that on a double tap event or a zoom event, the cluster fully unpacks if it is smaller than 20\n\n      recursive = openAll || recursive;\n      // if the last child has been added on a smaller scale than current scale decluster\n      if (parentNode.formationScale < this.scale || force == true) {\n        // we will check if any of the contained child nodes should be removed from the cluster\n        for (var containedNodeId in parentNode.containedNodes) {\n          if (parentNode.containedNodes.hasOwnProperty(containedNodeId)) {\n            var childNode = parentNode.containedNodes[containedNodeId];\n\n            // force expand will expand the largest cluster size clusters. Since we cluster from outside in, we assume that\n            // the largest cluster is the one that comes from outside\n            if (force == true) {\n              if (childNode.clusterSession == parentNode.clusterSessions[parentNode.clusterSessions.length-1]\n                  || openAll) {\n                this._expelChildFromParent(parentNode,containedNodeId,recursive,force,openAll);\n              }\n            }\n            else {\n              if (this._nodeInActiveArea(parentNode)) {\n                this._expelChildFromParent(parentNode,containedNodeId,recursive,force,openAll);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * ONLY CALLED FROM _expandClusterNode\n   *\n   * This function will expel a child_node from a parent_node. This is to de-cluster the node. This function will remove\n   * the child node from the parent contained_node object and put it back into the global nodes object.\n   * The same holds for the edge that was connected to the child node. It is moved back into the global edges object.\n   *\n   * @param {Node}    parentNode        | the parent node\n   * @param {String}  containedNodeId   | child_node id as it is contained in the containedNodes object of the parent node\n   * @param {Boolean} recursive         | This will also check if the child needs to be expanded.\n   *                                      With force and recursive both true, the entire cluster is unpacked\n   * @param {Boolean} force             | This will disregard the zoom level and will expel this child from the parent\n   * @param {Boolean} openAll           | This will recursively force all nodes in the parent to be released\n   * @private\n   */\n  exports._expelChildFromParent = function(parentNode, containedNodeId, recursive, force, openAll) {\n    var childNode = parentNode.containedNodes[containedNodeId]\n\n    // if child node has been added on smaller scale than current, kick out\n    if (childNode.formationScale < this.scale || force == true) {\n      // unselect all selected items\n      this._unselectAll();\n\n      // put the child node back in the global nodes object\n      this.nodes[containedNodeId] = childNode;\n\n      // release the contained edges from this childNode back into the global edges\n      this._releaseContainedEdges(parentNode,childNode);\n\n      // reconnect rerouted edges to the childNode\n      this._connectEdgeBackToChild(parentNode,childNode);\n\n      // validate all edges in dynamicEdges\n      this._validateEdges(parentNode);\n\n      // undo the changes from the clustering operation on the parent node\n      parentNode.options.mass -= childNode.options.mass;\n      parentNode.clusterSize -= childNode.clusterSize;\n      parentNode.options.fontSize = Math.min(this.constants.clustering.maxFontSize, this.constants.nodes.fontSize + this.constants.clustering.fontSizeMultiplier*(parentNode.clusterSize-1));\n\n      // place the child node near the parent, not at the exact same location to avoid chaos in the system\n      childNode.x = parentNode.x + parentNode.growthIndicator * (0.5 - Math.random());\n      childNode.y = parentNode.y + parentNode.growthIndicator * (0.5 - Math.random());\n\n      // remove node from the list\n      delete parentNode.containedNodes[containedNodeId];\n\n      // check if there are other childs with this clusterSession in the parent.\n      var othersPresent = false;\n      for (var childNodeId in parentNode.containedNodes) {\n        if (parentNode.containedNodes.hasOwnProperty(childNodeId)) {\n          if (parentNode.containedNodes[childNodeId].clusterSession == childNode.clusterSession) {\n            othersPresent = true;\n            break;\n          }\n        }\n      }\n      // if there are no others, remove the cluster session from the list\n      if (othersPresent == false) {\n        parentNode.clusterSessions.pop();\n      }\n\n      this._repositionBezierNodes(childNode);\n  //      this._repositionBezierNodes(parentNode);\n\n      // remove the clusterSession from the child node\n      childNode.clusterSession = 0;\n\n      // recalculate the size of the node on the next time the node is rendered\n      parentNode.clearSizeCache();\n\n      // restart the simulation to reorganise all nodes\n      this.moving = true;\n    }\n\n    // check if a further expansion step is possible if recursivity is enabled\n    if (recursive == true) {\n      this._expandClusterNode(childNode,recursive,force,openAll);\n    }\n  };\n\n\n  /**\n   * position the bezier nodes at the center of the edges\n   *\n   * @param node\n   * @private\n   */\n  exports._repositionBezierNodes = function(node) {\n    for (var i = 0; i < node.dynamicEdges.length; i++) {\n      node.dynamicEdges[i].positionBezierNode();\n    }\n  };\n\n\n  /**\n   * This function checks if any nodes at the end of their trees have edges below a threshold length\n   * This function is called only from updateClusters()\n   * forceLevelCollapse ignores the length of the edge and collapses one level\n   * This means that a node with only one edge will be clustered with its connected node\n   *\n   * @private\n   * @param {Boolean} force\n   */\n  exports._formClusters = function(force) {\n    if (force == false) {\n      if (this.constants.clustering.clusterByZoom == true) {\n        this._formClustersByZoom();\n      }\n    }\n    else {\n      this._forceClustersByZoom();\n    }\n  };\n\n\n  /**\n   * This function handles the clustering by zooming out, this is based on a minimum edge distance\n   *\n   * @private\n   */\n  exports._formClustersByZoom = function() {\n    var dx,dy,length;\n    var minLength = this.constants.clustering.clusterEdgeThreshold/this.scale;\n\n    // check if any edges are shorter than minLength and start the clustering\n    // the clustering favours the node with the larger mass\n    for (var edgeId in this.edges) {\n      if (this.edges.hasOwnProperty(edgeId)) {\n        var edge = this.edges[edgeId];\n        if (edge.connected) {\n          if (edge.toId != edge.fromId) {\n            dx = (edge.to.x - edge.from.x);\n            dy = (edge.to.y - edge.from.y);\n            length = Math.sqrt(dx * dx + dy * dy);\n\n\n            if (length < minLength) {\n              // first check which node is larger\n              var parentNode = edge.from;\n              var childNode = edge.to;\n              if (edge.to.options.mass > edge.from.options.mass) {\n                parentNode = edge.to;\n                childNode = edge.from;\n              }\n\n              if (childNode.dynamicEdges.length == 1) {\n                this._addToCluster(parentNode,childNode,false);\n              }\n              else if (parentNode.dynamicEdges.length == 1) {\n                this._addToCluster(childNode,parentNode,false);\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * This function forces the network to cluster all nodes with only one connecting edge to their\n   * connected node.\n   *\n   * @private\n   */\n  exports._forceClustersByZoom = function() {\n    for (var nodeId in this.nodes) {\n      // another node could have absorbed this child.\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        var childNode = this.nodes[nodeId];\n\n        // the edges can be swallowed by another decrease\n        if (childNode.dynamicEdges.length == 1) {\n          var edge = childNode.dynamicEdges[0];\n          var parentNode = (edge.toId == childNode.id) ? this.nodes[edge.fromId] : this.nodes[edge.toId];\n          // group to the largest node\n          if (childNode.id != parentNode.id) {\n            if (parentNode.options.mass > childNode.options.mass) {\n              this._addToCluster(parentNode,childNode,true);\n            }\n            else {\n              this._addToCluster(childNode,parentNode,true);\n            }\n          }\n        }\n      }\n    }\n  };\n\n\n  /**\n   * To keep the nodes of roughly equal size we normalize the cluster levels.\n   * This function clusters a node to its smallest connected neighbour.\n   *\n   * @param node\n   * @private\n   */\n  exports._clusterToSmallestNeighbour = function(node) {\n    var smallestNeighbour = -1;\n    var smallestNeighbourNode = null;\n    for (var i = 0; i < node.dynamicEdges.length; i++) {\n      if (node.dynamicEdges[i] !== undefined) {\n        var neighbour = null;\n        if (node.dynamicEdges[i].fromId != node.id) {\n          neighbour = node.dynamicEdges[i].from;\n        }\n        else if (node.dynamicEdges[i].toId != node.id) {\n          neighbour = node.dynamicEdges[i].to;\n        }\n\n\n        if (neighbour != null && smallestNeighbour > neighbour.clusterSessions.length) {\n          smallestNeighbour = neighbour.clusterSessions.length;\n          smallestNeighbourNode = neighbour;\n        }\n      }\n    }\n\n    if (neighbour != null && this.nodes[neighbour.id] !== undefined) {\n      this._addToCluster(neighbour, node, true);\n    }\n  };\n\n\n  /**\n   * This function forms clusters from hubs, it loops over all nodes\n   *\n   * @param {Boolean} force         |   Disregard zoom level\n   * @param {Boolean} onlyEqual     |   This only clusters a hub with a specific number of edges\n   * @private\n   */\n  exports._formClustersByHub = function(force, onlyEqual) {\n    // we loop over all nodes in the list\n    for (var nodeId in this.nodes) {\n      // we check if it is still available since it can be used by the clustering in this loop\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        this._formClusterFromHub(this.nodes[nodeId],force,onlyEqual);\n      }\n    }\n  };\n\n  /**\n   * This function forms a cluster from a specific preselected hub node\n   *\n   * @param {Node}    hubNode       |   the node we will cluster as a hub\n   * @param {Boolean} force         |   Disregard zoom level\n   * @param {Boolean} onlyEqual     |   This only clusters a hub with a specific number of edges\n   * @param {Number} [absorptionSizeOffset] |\n   * @private\n   */\n  exports._formClusterFromHub = function(hubNode, force, onlyEqual, absorptionSizeOffset) {\n    if (absorptionSizeOffset === undefined) {\n      absorptionSizeOffset = 0;\n    }\n    //this.hubThreshold = 43\n    //if (hubNode.dynamicEdgesLength < 0) {\n    // console.error(hubNode.dynamicEdgesLength, this.hubThreshold, onlyEqual)\n    //}\n    // we decide if the node is a hub\n    if ((hubNode.dynamicEdges.length >= this.hubThreshold && onlyEqual == false) ||\n      (hubNode.dynamicEdges.length == this.hubThreshold && onlyEqual == true)) {\n      // initialize variables\n      var dx,dy,length;\n      var minLength = this.constants.clustering.clusterEdgeThreshold/this.scale;\n      var allowCluster = false;\n\n      // we create a list of edges because the dynamicEdges change over the course of this loop\n      var edgesIdarray = [];\n      var amountOfInitialEdges = hubNode.dynamicEdges.length;\n      for (var j = 0; j < amountOfInitialEdges; j++) {\n        edgesIdarray.push(hubNode.dynamicEdges[j].id);\n      }\n\n      // if the hub clustering is not forced, we check if one of the edges connected\n      // to a cluster is small enough based on the constants.clustering.clusterEdgeThreshold\n      if (force == false) {\n        allowCluster = false;\n        for (j = 0; j < amountOfInitialEdges; j++) {\n          var edge = this.edges[edgesIdarray[j]];\n          if (edge !== undefined) {\n            if (edge.connected) {\n              if (edge.toId != edge.fromId) {\n                dx = (edge.to.x - edge.from.x);\n                dy = (edge.to.y - edge.from.y);\n                length = Math.sqrt(dx * dx + dy * dy);\n\n                if (length < minLength) {\n                  allowCluster = true;\n                  break;\n                }\n              }\n            }\n          }\n        }\n      }\n\n      // start the clustering if allowed\n      if ((!force && allowCluster) || force) {\n        var children = [];\n        var childrenIds = {};\n        // we loop over all edges INITIALLY connected to this hub to get a list of the childNodes\n        for (j = 0; j < amountOfInitialEdges; j++) {\n          edge = this.edges[edgesIdarray[j]];\n          var childNode = this.nodes[(edge.fromId == hubNode.id) ? edge.toId : edge.fromId];\n          if (childrenIds[childNode.id] === undefined) {\n            childrenIds[childNode.id] = true;\n            children.push(childNode);\n          }\n        }\n\n        for (j = 0; j < children.length; j++) {\n          var childNode = children[j];\n          // we do not want hubs to merge with other hubs nor do we want to cluster itself.\n          if ((childNode.dynamicEdges.length <= (this.hubThreshold + absorptionSizeOffset)) &&\n            (childNode.id != hubNode.id)) {\n            this._addToCluster(hubNode,childNode,force);\n\n          }\n          else {\n            //console.log("WILL NOT MERGE:",childNode.dynamicEdges.length , (this.hubThreshold + absorptionSizeOffset))\n          }\n        }\n\n      }\n    }\n  };\n\n\n\n  /**\n   * This function adds the child node to the parent node, creating a cluster if it is not already.\n   *\n   * @param {Node} parentNode           | this is the node that will house the child node\n   * @param {Node} childNode            | this node will be deleted from the global this.nodes and stored in the parent node\n   * @param {Boolean} force             | true will only update the remainingEdges at the very end of the clustering, ensuring single level collapse\n   * @private\n   */\n  exports._addToCluster = function(parentNode, childNode, force) {\n    // join child node in the parent node\n    parentNode.containedNodes[childNode.id] = childNode;\n    //console.log(parentNode.id, childNode.id)\n    // manage all the edges connected to the child and parent nodes\n    for (var i = 0; i < childNode.dynamicEdges.length; i++) {\n      var edge = childNode.dynamicEdges[i];\n      if (edge.toId == parentNode.id || edge.fromId == parentNode.id) { // edge connected to parentNode\n        //console.log("COLLECT",parentNode.id, childNode.id, edge.toId, edge.fromId)\n        this._addToContainedEdges(parentNode,childNode,edge);\n      }\n      else {\n        //console.log("REWIRE",parentNode.id, childNode.id, edge.toId, edge.fromId)\n        this._connectEdgeToCluster(parentNode,childNode,edge);\n      }\n    }\n    // a contained node has no dynamic edges.\n    childNode.dynamicEdges = [];\n\n    // remove circular edges from clusters\n    this._containCircularEdgesFromNode(parentNode,childNode);\n\n\n    // remove the childNode from the global nodes object\n    delete this.nodes[childNode.id];\n\n    // update the properties of the child and parent\n    var massBefore = parentNode.options.mass;\n    childNode.clusterSession = this.clusterSession;\n    parentNode.options.mass += childNode.options.mass;\n    parentNode.clusterSize += childNode.clusterSize;\n    parentNode.options.fontSize = Math.min(this.constants.clustering.maxFontSize, this.constants.nodes.fontSize + this.constants.clustering.fontSizeMultiplier*parentNode.clusterSize);\n\n    // keep track of the clustersessions so we can open the cluster up as it has been formed.\n    if (parentNode.clusterSessions[parentNode.clusterSessions.length - 1] != this.clusterSession) {\n      parentNode.clusterSessions.push(this.clusterSession);\n    }\n\n    // forced clusters only open from screen size and double tap\n    if (force == true) {\n      parentNode.formationScale = 0;\n    }\n    else {\n      parentNode.formationScale = this.scale; // The latest child has been added on this scale\n    }\n\n    // recalculate the size of the node on the next time the node is rendered\n    parentNode.clearSizeCache();\n\n    // set the pop-out scale for the childnode\n    parentNode.containedNodes[childNode.id].formationScale = parentNode.formationScale;\n\n    // nullify the movement velocity of the child, this is to avoid hectic behaviour\n    childNode.clearVelocity();\n\n    // the mass has altered, preservation of energy dictates the velocity to be updated\n    parentNode.updateVelocity(massBefore);\n\n    // restart the simulation to reorganise all nodes\n    this.moving = true;\n  };\n\n\n  /**\n   * This adds an edge from the childNode to the contained edges of the parent node\n   *\n   * @param parentNode    | Node object\n   * @param childNode     | Node object\n   * @param edge          | Edge object\n   * @private\n   */\n  exports._addToContainedEdges = function(parentNode, childNode, edge) {\n    // create an array object if it does not yet exist for this childNode\n    if (parentNode.containedEdges[childNode.id] === undefined) {\n      parentNode.containedEdges[childNode.id] = []\n    }\n    // add this edge to the list\n    parentNode.containedEdges[childNode.id].push(edge);\n\n    // remove the edge from the global edges object\n    delete this.edges[edge.id];\n\n    // remove the edge from the parent object\n    for (var i = 0; i < parentNode.dynamicEdges.length; i++) {\n      if (parentNode.dynamicEdges[i].id == edge.id) {\n        parentNode.dynamicEdges.splice(i,1);\n        break;\n      }\n    }\n  };\n\n  /**\n   * This function connects an edge that was connected to a child node to the parent node.\n   * It keeps track of which nodes it has been connected to with the originalId array.\n   *\n   * @param {Node} parentNode    | Node object\n   * @param {Node} childNode     | Node object\n   * @param {Edge} edge          | Edge object\n   * @private\n   */\n  exports._connectEdgeToCluster = function(parentNode, childNode, edge) {\n    // handle circular edges\n    if (edge.toId == edge.fromId) {\n      this._addToContainedEdges(parentNode, childNode, edge);\n    }\n    else {\n      if (edge.toId == childNode.id) {    // edge connected to other node on the "to" side\n        edge.originalToId.push(childNode.id);\n        edge.to = parentNode;\n        edge.toId = parentNode.id;\n      }\n      else {          // edge connected to other node with the "from" side\n        edge.originalFromId.push(childNode.id);\n        edge.from = parentNode;\n        edge.fromId = parentNode.id;\n      }\n\n      this._addToReroutedEdges(parentNode,childNode,edge);\n    }\n  };\n\n\n  /**\n   * If a node is connected to itself, a circular edge is drawn. When clustering we want to contain\n   * these edges inside of the cluster.\n   *\n   * @param parentNode\n   * @param childNode\n   * @private\n   */\n  exports._containCircularEdgesFromNode = function(parentNode, childNode) {\n    // manage all the edges connected to the child and parent nodes\n    for (var i = 0; i < parentNode.dynamicEdges.length; i++) {\n      var edge = parentNode.dynamicEdges[i];\n      // handle circular edges\n      if (edge.toId == edge.fromId) {\n        this._addToContainedEdges(parentNode, childNode, edge);\n      }\n    }\n  };\n\n\n  /**\n   * This adds an edge from the childNode to the rerouted edges of the parent node\n   *\n   * @param parentNode    | Node object\n   * @param childNode     | Node object\n   * @param edge          | Edge object\n   * @private\n   */\n  exports._addToReroutedEdges = function(parentNode, childNode, edge) {\n    // create an array object if it does not yet exist for this childNode\n    // we store the edge in the rerouted edges so we can restore it when the cluster pops open\n    if (!(parentNode.reroutedEdges.hasOwnProperty(childNode.id))) {\n      parentNode.reroutedEdges[childNode.id] = [];\n    }\n    parentNode.reroutedEdges[childNode.id].push(edge);\n\n    // this edge becomes part of the dynamicEdges of the cluster node\n    parentNode.dynamicEdges.push(edge);\n   };\n\n\n\n  /**\n   * This function connects an edge that was connected to a cluster node back to the child node.\n   *\n   * @param parentNode    | Node object\n   * @param childNode     | Node object\n   * @private\n   */\n  exports._connectEdgeBackToChild = function(parentNode, childNode) {\n    if (parentNode.reroutedEdges.hasOwnProperty(childNode.id)) {\n      for (var i = 0; i < parentNode.reroutedEdges[childNode.id].length; i++) {\n        var edge = parentNode.reroutedEdges[childNode.id][i];\n        if (edge.originalFromId[edge.originalFromId.length-1] == childNode.id) {\n          edge.originalFromId.pop();\n          edge.fromId = childNode.id;\n          edge.from = childNode;\n        }\n        else {\n          edge.originalToId.pop();\n          edge.toId = childNode.id;\n          edge.to = childNode;\n        }\n\n        // append this edge to the list of edges connecting to the childnode\n        childNode.dynamicEdges.push(edge);\n\n        // remove the edge from the parent object\n        for (var j = 0; j < parentNode.dynamicEdges.length; j++) {\n          if (parentNode.dynamicEdges[j].id == edge.id) {\n            parentNode.dynamicEdges.splice(j,1);\n            break;\n          }\n        }\n      }\n      // remove the entry from the rerouted edges\n      delete parentNode.reroutedEdges[childNode.id];\n    }\n  };\n\n\n  /**\n   * When loops are clustered, an edge can be both in the rerouted array and the contained array.\n   * This function is called last to verify that all edges in dynamicEdges are in fact connected to the\n   * parentNode\n   *\n   * @param parentNode    | Node object\n   * @private\n   */\n  exports._validateEdges = function(parentNode) {\n    var dynamicEdges = []\n    for (var i = 0; i < parentNode.dynamicEdges.length; i++) {\n      var edge = parentNode.dynamicEdges[i];\n      if (parentNode.id == edge.toId || parentNode.id == edge.fromId) {\n        dynamicEdges.push(edge);\n      }\n    }\n    parentNode.dynamicEdges = dynamicEdges;\n  };\n\n\n  /**\n   * This function released the contained edges back into the global domain and puts them back into the\n   * dynamic edges of both parent and child.\n   *\n   * @param {Node} parentNode    |\n   * @param {Node} childNode     |\n   * @private\n   */\n  exports._releaseContainedEdges = function(parentNode, childNode) {\n    for (var i = 0; i < parentNode.containedEdges[childNode.id].length; i++) {\n      var edge = parentNode.containedEdges[childNode.id][i];\n\n      // put the edge back in the global edges object\n      this.edges[edge.id] = edge;\n\n      // put the edge back in the dynamic edges of the child and parent\n      childNode.dynamicEdges.push(edge);\n      parentNode.dynamicEdges.push(edge);\n    }\n    // remove the entry from the contained edges\n    delete parentNode.containedEdges[childNode.id];\n\n  };\n\n\n\n\n  // ------------------- UTILITY FUNCTIONS ---------------------------- //\n\n\n  /**\n   * This updates the node labels for all nodes (for debugging purposes)\n   */\n  exports.updateLabels = function() {\n    var nodeId;\n    // update node labels\n    for (nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        var node = this.nodes[nodeId];\n        if (node.clusterSize > 1) {\n          node.label = "[".concat(String(node.clusterSize),"]");\n        }\n      }\n    }\n\n    // update node labels\n    for (nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        node = this.nodes[nodeId];\n        if (node.clusterSize == 1) {\n          if (node.originalLabel !== undefined) {\n            node.label = node.originalLabel;\n          }\n          else {\n            node.label = String(node.id);\n          }\n        }\n      }\n    }\n\n  //    /* Debug Override */\n  //    for (nodeId in this.nodes) {\n  //      if (this.nodes.hasOwnProperty(nodeId)) {\n  //        node = this.nodes[nodeId];\n  //        node.label = String(node.clusterSize + ":" + node.dynamicEdges.length);\n  //      }\n  //    }\n\n  };\n\n\n  /**\n   * We want to keep the cluster level distribution rather small. This means we do not want unclustered nodes\n   * if the rest of the nodes are already a few cluster levels in.\n   * To fix this we use this function. It determines the min and max cluster level and sends nodes that have not\n   * clustered enough to the clusterToSmallestNeighbours function.\n   */\n  exports.normalizeClusterLevels = function() {\n    var maxLevel = 0;\n    var minLevel = 1e9;\n    var clusterLevel = 0;\n    var nodeId;\n\n    // we loop over all nodes in the list\n    for (nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        clusterLevel = this.nodes[nodeId].clusterSessions.length;\n        if (maxLevel < clusterLevel) {maxLevel = clusterLevel;}\n        if (minLevel > clusterLevel) {minLevel = clusterLevel;}\n      }\n    }\n\n    if (maxLevel - minLevel > this.constants.clustering.clusterLevelDifference) {\n      var amountOfNodes = this.nodeIndices.length;\n      var targetLevel = maxLevel - this.constants.clustering.clusterLevelDifference;\n      // we loop over all nodes in the list\n      for (nodeId in this.nodes) {\n        if (this.nodes.hasOwnProperty(nodeId)) {\n          if (this.nodes[nodeId].clusterSessions.length < targetLevel) {\n            this._clusterToSmallestNeighbour(this.nodes[nodeId]);\n          }\n        }\n      }\n      this._updateNodeIndexList();\n      // if a cluster was formed, we increase the clusterSession\n      if (this.nodeIndices.length != amountOfNodes) {\n        this.clusterSession += 1;\n      }\n    }\n  };\n\n\n\n  /**\n   * This function determines if the cluster we want to decluster is in the active area\n   * this means around the zoom center\n   *\n   * @param {Node} node\n   * @returns {boolean}\n   * @private\n   */\n  exports._nodeInActiveArea = function(node) {\n    return (\n      Math.abs(node.x - this.areaCenter.x) <= this.constants.clustering.activeAreaBoxSize/this.scale\n        &&\n      Math.abs(node.y - this.areaCenter.y) <= this.constants.clustering.activeAreaBoxSize/this.scale\n      )\n  };\n\n\n  /**\n   * This is an adaptation of the original repositioning function. This is called if the system is clustered initially\n   * It puts large clusters away from the center and randomizes the order.\n   *\n   */\n  exports.repositionNodes = function() {\n    for (var i = 0; i < this.nodeIndices.length; i++) {\n      var node = this.nodes[this.nodeIndices[i]];\n      if ((node.xFixed == false || node.yFixed == false)) {\n        var radius = 10 * 0.1*this.nodeIndices.length * Math.min(100,node.options.mass);\n        var angle = 2 * Math.PI * Math.random();\n        if (node.xFixed == false) {node.x = radius * Math.cos(angle);}\n        if (node.yFixed == false) {node.y = radius * Math.sin(angle);}\n        this._repositionBezierNodes(node);\n      }\n    }\n  };\n\n\n  /**\n   * We determine how many connections denote an important hub.\n   * We take the mean + 2*std as the important hub size. (Assuming a normal distribution of data, ~2.2%)\n   *\n   * @private\n   */\n  exports._getHubSize = function() {\n    var average = 0;\n    var averageSquared = 0;\n    var hubCounter = 0;\n    var largestHub = 0;\n\n    for (var i = 0; i < this.nodeIndices.length; i++) {\n\n      var node = this.nodes[this.nodeIndices[i]];\n      if (node.dynamicEdges.length > largestHub) {\n        largestHub = node.dynamicEdges.length;\n      }\n      average += node.dynamicEdges.length;\n      averageSquared += Math.pow(node.dynamicEdges.length,2);\n      hubCounter += 1;\n    }\n    average = average / hubCounter;\n    averageSquared = averageSquared / hubCounter;\n\n    var variance = averageSquared - Math.pow(average,2);\n\n    var standardDeviation = Math.sqrt(variance);\n\n    this.hubThreshold = Math.floor(average + 2*standardDeviation);\n\n    // always have at least one to cluster\n    if (this.hubThreshold > largestHub) {\n      this.hubThreshold = largestHub;\n    }\n\n  //  console.log("average",average,"averageSQ",averageSquared,"var",variance,"std",standardDeviation);\n  //  console.log("hubThreshold:",this.hubThreshold);\n  };\n\n\n  /**\n   * We reduce the amount of "extension nodes" or chains. These are not quickly clustered with the outliers and hubs methods\n   * with this amount we can cluster specifically on these chains.\n   *\n   * @param   {Number} fraction     | between 0 and 1, the percentage of chains to reduce\n   * @private\n   */\n  exports._reduceAmountOfChains = function(fraction) {\n    this.hubThreshold = 2;\n    var reduceAmount = Math.floor(this.nodeIndices.length * fraction);\n    for (var nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        if (this.nodes[nodeId].dynamicEdges.length == 2) {\n          if (reduceAmount > 0) {\n            this._formClusterFromHub(this.nodes[nodeId],true,true,1);\n            reduceAmount -= 1;\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * We get the amount of "extension nodes" or chains. These are not quickly clustered with the outliers and hubs methods\n   * with this amount we can cluster specifically on these chains.\n   *\n   * @private\n   */\n  exports._getChainFraction = function() {\n    var chains = 0;\n    var total = 0;\n    for (var nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        if (this.nodes[nodeId].dynamicEdges.length == 2) {\n          chains += 1;\n        }\n        total += 1;\n      }\n    }\n    return chains/total;\n  };\n\n\n/***/ },\n/* 62 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var Node = __webpack_require__(40);\n\n  /**\n   * Creation of the SectorMixin var.\n   *\n   * This contains all the functions the Network object can use to employ the sector system.\n   * The sector system is always used by Network, though the benefits only apply to the use of clustering.\n   * If clustering is not used, there is no overhead except for a duplicate object with references to nodes and edges.\n   */\n\n  /**\n   * This function is only called by the setData function of the Network object.\n   * This loads the global references into the active sector. This initializes the sector.\n   *\n   * @private\n   */\n  exports._putDataInSector = function() {\n    this.sectors["active"][this._sector()].nodes = this.nodes;\n    this.sectors["active"][this._sector()].edges = this.edges;\n    this.sectors["active"][this._sector()].nodeIndices = this.nodeIndices;\n  };\n\n\n  /**\n   *  /**\n   * This function sets the global references to nodes, edges and nodeIndices back to\n   * those of the supplied (active) sector. If a type is defined, do the specific type\n   *\n   * @param {String} sectorId\n   * @param {String} [sectorType] | "active" or "frozen"\n   * @private\n   */\n  exports._switchToSector = function(sectorId, sectorType) {\n    if (sectorType === undefined || sectorType == "active") {\n      this._switchToActiveSector(sectorId);\n    }\n    else {\n      this._switchToFrozenSector(sectorId);\n    }\n  };\n\n\n  /**\n   * This function sets the global references to nodes, edges and nodeIndices back to\n   * those of the supplied active sector.\n   *\n   * @param sectorId\n   * @private\n   */\n  exports._switchToActiveSector = function(sectorId) {\n    this.nodeIndices = this.sectors["active"][sectorId]["nodeIndices"];\n    this.nodes       = this.sectors["active"][sectorId]["nodes"];\n    this.edges       = this.sectors["active"][sectorId]["edges"];\n  };\n\n\n  /**\n   * This function sets the global references to nodes, edges and nodeIndices back to\n   * those of the supplied active sector.\n   *\n   * @private\n   */\n  exports._switchToSupportSector = function() {\n    this.nodeIndices = this.sectors["support"]["nodeIndices"];\n    this.nodes       = this.sectors["support"]["nodes"];\n    this.edges       = this.sectors["support"]["edges"];\n  };\n\n\n  /**\n   * This function sets the global references to nodes, edges and nodeIndices back to\n   * those of the supplied frozen sector.\n   *\n   * @param sectorId\n   * @private\n   */\n  exports._switchToFrozenSector = function(sectorId) {\n    this.nodeIndices = this.sectors["frozen"][sectorId]["nodeIndices"];\n    this.nodes       = this.sectors["frozen"][sectorId]["nodes"];\n    this.edges       = this.sectors["frozen"][sectorId]["edges"];\n  };\n\n\n  /**\n   * This function sets the global references to nodes, edges and nodeIndices back to\n   * those of the currently active sector.\n   *\n   * @private\n   */\n  exports._loadLatestSector = function() {\n    this._switchToSector(this._sector());\n  };\n\n\n  /**\n   * This function returns the currently active sector Id\n   *\n   * @returns {String}\n   * @private\n   */\n  exports._sector = function() {\n    return this.activeSector[this.activeSector.length-1];\n  };\n\n\n  /**\n   * This function returns the previously active sector Id\n   *\n   * @returns {String}\n   * @private\n   */\n  exports._previousSector = function() {\n    if (this.activeSector.length > 1) {\n      return this.activeSector[this.activeSector.length-2];\n    }\n    else {\n      throw new TypeError(\'there are not enough sectors in the this.activeSector array.\');\n    }\n  };\n\n\n  /**\n   * We add the active sector at the end of the this.activeSector array\n   * This ensures it is the currently active sector returned by _sector() and it reaches the top\n   * of the activeSector stack. When we reverse our steps we move from the end to the beginning of this stack.\n   *\n   * @param newId\n   * @private\n   */\n  exports._setActiveSector = function(newId) {\n    this.activeSector.push(newId);\n  };\n\n\n  /**\n   * We remove the currently active sector id from the active sector stack. This happens when\n   * we reactivate the previously active sector\n   *\n   * @private\n   */\n  exports._forgetLastSector = function() {\n    this.activeSector.pop();\n  };\n\n\n  /**\n   * This function creates a new active sector with the supplied newId. This newId\n   * is the expanding node id.\n   *\n   * @param {String} newId   | Id of the new active sector\n   * @private\n   */\n  exports._createNewSector = function(newId) {\n    // create the new sector\n    this.sectors["active"][newId] = {"nodes":{},\n                                     "edges":{},\n                                     "nodeIndices":[],\n                                     "formationScale": this.scale,\n                                     "drawingNode": undefined};\n\n    // create the new sector render node. This gives visual feedback that you are in a new sector.\n    this.sectors["active"][newId][\'drawingNode\'] = new Node(\n        {id:newId,\n          color: {\n            background: "#eaefef",\n            border: "495c5e"\n          }\n        },{},{},this.constants);\n    this.sectors["active"][newId][\'drawingNode\'].clusterSize = 2;\n  };\n\n\n  /**\n   * This function removes the currently active sector. This is called when we create a new\n   * active sector.\n   *\n   * @param {String} sectorId   | Id of the active sector that will be removed\n   * @private\n   */\n  exports._deleteActiveSector = function(sectorId) {\n    delete this.sectors["active"][sectorId];\n  };\n\n\n  /**\n   * This function removes the currently active sector. This is called when we reactivate\n   * the previously active sector.\n   *\n   * @param {String} sectorId   | Id of the active sector that will be removed\n   * @private\n   */\n  exports._deleteFrozenSector = function(sectorId) {\n    delete this.sectors["frozen"][sectorId];\n  };\n\n\n  /**\n   * Freezing an active sector means moving it from the "active" object to the "frozen" object.\n   * We copy the references, then delete the active entree.\n   *\n   * @param sectorId\n   * @private\n   */\n  exports._freezeSector = function(sectorId) {\n    // we move the set references from the active to the frozen stack.\n    this.sectors["frozen"][sectorId] = this.sectors["active"][sectorId];\n\n    // we have moved the sector data into the frozen set, we now remove it from the active set\n    this._deleteActiveSector(sectorId);\n  };\n\n\n  /**\n   * This is the reverse operation of _freezeSector. Activating means moving the sector from the "frozen"\n   * object to the "active" object.\n   *\n   * @param sectorId\n   * @private\n   */\n  exports._activateSector = function(sectorId) {\n    // we move the set references from the frozen to the active stack.\n    this.sectors["active"][sectorId] = this.sectors["frozen"][sectorId];\n\n    // we have moved the sector data into the active set, we now remove it from the frozen stack\n    this._deleteFrozenSector(sectorId);\n  };\n\n\n  /**\n   * This function merges the data from the currently active sector with a frozen sector. This is used\n   * in the process of reverting back to the previously active sector.\n   * The data that is placed in the frozen (the previously active) sector is the node that has been removed from it\n   * upon the creation of a new active sector.\n   *\n   * @param sectorId\n   * @private\n   */\n  exports._mergeThisWithFrozen = function(sectorId) {\n    // copy all nodes\n    for (var nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        this.sectors["frozen"][sectorId]["nodes"][nodeId] = this.nodes[nodeId];\n      }\n    }\n\n    // copy all edges (if not fully clustered, else there are no edges)\n    for (var edgeId in this.edges) {\n      if (this.edges.hasOwnProperty(edgeId)) {\n        this.sectors["frozen"][sectorId]["edges"][edgeId] = this.edges[edgeId];\n      }\n    }\n\n    // merge the nodeIndices\n    for (var i = 0; i < this.nodeIndices.length; i++) {\n      this.sectors["frozen"][sectorId]["nodeIndices"].push(this.nodeIndices[i]);\n    }\n  };\n\n\n  /**\n   * This clusters the sector to one cluster. It was a single cluster before this process started so\n   * we revert to that state. The clusterToFit function with a maximum size of 1 node does this.\n   *\n   * @private\n   */\n  exports._collapseThisToSingleCluster = function() {\n    this.clusterToFit(1,false);\n  };\n\n\n  /**\n   * We create a new active sector from the node that we want to open.\n   *\n   * @param node\n   * @private\n   */\n  exports._addSector = function(node) {\n    // this is the currently active sector\n    var sector = this._sector();\n\n  //    // this should allow me to select nodes from a frozen set.\n  //    if (this.sectors[\'active\'][sector]["nodes"].hasOwnProperty(node.id)) {\n  //      console.log("the node is part of the active sector");\n  //    }\n  //    else {\n  //      console.log("I dont know what the fuck happened!!");\n  //    }\n\n    // when we switch to a new sector, we remove the node that will be expanded from the current nodes list.\n    delete this.nodes[node.id];\n\n    var unqiueIdentifier = util.randomUUID();\n\n    // we fully freeze the currently active sector\n    this._freezeSector(sector);\n\n    // we create a new active sector. This sector has the Id of the node to ensure uniqueness\n    this._createNewSector(unqiueIdentifier);\n\n    // we add the active sector to the sectors array to be able to revert these steps later on\n    this._setActiveSector(unqiueIdentifier);\n\n    // we redirect the global references to the new sector\'s references. this._sector() now returns unqiueIdentifier\n    this._switchToSector(this._sector());\n\n    // finally we add the node we removed from our previous active sector to the new active sector\n    this.nodes[node.id] = node;\n  };\n\n\n  /**\n   * We close the sector that is currently open and revert back to the one before.\n   * If the active sector is the "default" sector, nothing happens.\n   *\n   * @private\n   */\n  exports._collapseSector = function() {\n    // the currently active sector\n    var sector = this._sector();\n\n    // we cannot collapse the default sector\n    if (sector != "default") {\n      if ((this.nodeIndices.length == 1) ||\n       (this.sectors["active"][sector]["drawingNode"].width*this.scale < this.constants.clustering.screenSizeThreshold * this.frame.canvas.clientWidth) ||\n       (this.sectors["active"][sector]["drawingNode"].height*this.scale < this.constants.clustering.screenSizeThreshold * this.frame.canvas.clientHeight)) {\n        var previousSector = this._previousSector();\n\n        // we collapse the sector back to a single cluster\n        this._collapseThisToSingleCluster();\n\n        // we move the remaining nodes, edges and nodeIndices to the previous sector.\n        // This previous sector is the one we will reactivate\n        this._mergeThisWithFrozen(previousSector);\n\n        // the previously active (frozen) sector now has all the data from the currently active sector.\n        // we can now delete the active sector.\n        this._deleteActiveSector(sector);\n\n        // we activate the previously active (and currently frozen) sector.\n        this._activateSector(previousSector);\n\n        // we load the references from the newly active sector into the global references\n        this._switchToSector(previousSector);\n\n        // we forget the previously active sector because we reverted to the one before\n        this._forgetLastSector();\n\n        // finally, we update the node index list.\n        this._updateNodeIndexList();\n\n        // we refresh the list with calulation nodes and calculation node indices.\n        this._updateCalculationNodes();\n      }\n    }\n  };\n\n\n  /**\n   * This runs a function in all active sectors. This is used in _redraw() and the _initializeForceCalculation().\n   *\n   * @param {String} runFunction  |   This is the NAME of a function we want to call in all active sectors\n   *                              |   we dont pass the function itself because then the "this" is the window object\n   *                              |   instead of the Network object\n   * @param {*} [argument]            |   Optional: arguments to pass to the runFunction\n   * @private\n   */\n  exports._doInAllActiveSectors = function(runFunction,argument) {\n    var returnValues = [];\n    if (argument === undefined) {\n      for (var sector in this.sectors["active"]) {\n        if (this.sectors["active"].hasOwnProperty(sector)) {\n          // switch the global references to those of this sector\n          this._switchToActiveSector(sector);\n          returnValues.push( this[runFunction]() );\n        }\n      }\n    }\n    else {\n      for (var sector in this.sectors["active"]) {\n        if (this.sectors["active"].hasOwnProperty(sector)) {\n          // switch the global references to those of this sector\n          this._switchToActiveSector(sector);\n          var args = Array.prototype.splice.call(arguments, 1);\n          if (args.length > 1) {\n            returnValues.push( this[runFunction](args[0],args[1]) );\n          }\n          else {\n            returnValues.push( this[runFunction](argument) );\n          }\n        }\n      }\n    }\n    // we revert the global references back to our active sector\n    this._loadLatestSector();\n    return returnValues;\n  };\n\n\n  /**\n   * This runs a function in all active sectors. This is used in _redraw() and the _initializeForceCalculation().\n   *\n   * @param {String} runFunction  |   This is the NAME of a function we want to call in all active sectors\n   *                              |   we dont pass the function itself because then the "this" is the window object\n   *                              |   instead of the Network object\n   * @param {*} [argument]        |   Optional: arguments to pass to the runFunction\n   * @private\n   */\n  exports._doInSupportSector = function(runFunction,argument) {\n    var returnValues = false;\n    if (argument === undefined) {\n      this._switchToSupportSector();\n      returnValues = this[runFunction]();\n    }\n    else {\n      this._switchToSupportSector();\n      var args = Array.prototype.splice.call(arguments, 1);\n      if (args.length > 1) {\n        returnValues = this[runFunction](args[0],args[1]);\n      }\n      else {\n        returnValues = this[runFunction](argument);\n      }\n    }\n    // we revert the global references back to our active sector\n    this._loadLatestSector();\n    return returnValues;\n  };\n\n\n  /**\n   * This runs a function in all frozen sectors. This is used in the _redraw().\n   *\n   * @param {String} runFunction  |   This is the NAME of a function we want to call in all active sectors\n   *                              |   we don\'t pass the function itself because then the "this" is the window object\n   *                              |   instead of the Network object\n   * @param {*} [argument]            |   Optional: arguments to pass to the runFunction\n   * @private\n   */\n  exports._doInAllFrozenSectors = function(runFunction,argument) {\n    if (argument === undefined) {\n      for (var sector in this.sectors["frozen"]) {\n        if (this.sectors["frozen"].hasOwnProperty(sector)) {\n          // switch the global references to those of this sector\n          this._switchToFrozenSector(sector);\n          this[runFunction]();\n        }\n      }\n    }\n    else {\n      for (var sector in this.sectors["frozen"]) {\n        if (this.sectors["frozen"].hasOwnProperty(sector)) {\n          // switch the global references to those of this sector\n          this._switchToFrozenSector(sector);\n          var args = Array.prototype.splice.call(arguments, 1);\n          if (args.length > 1) {\n            this[runFunction](args[0],args[1]);\n          }\n          else {\n            this[runFunction](argument);\n          }\n        }\n      }\n    }\n    this._loadLatestSector();\n  };\n\n\n  /**\n   * This runs a function in all sectors. This is used in the _redraw().\n   *\n   * @param {String} runFunction  |   This is the NAME of a function we want to call in all active sectors\n   *                              |   we don\'t pass the function itself because then the "this" is the window object\n   *                              |   instead of the Network object\n   * @param {*} [argument]        |   Optional: arguments to pass to the runFunction\n   * @private\n   */\n  exports._doInAllSectors = function(runFunction,argument) {\n    var args = Array.prototype.splice.call(arguments, 1);\n    if (argument === undefined) {\n      this._doInAllActiveSectors(runFunction);\n      this._doInAllFrozenSectors(runFunction);\n    }\n    else {\n      if (args.length > 1) {\n        this._doInAllActiveSectors(runFunction,args[0],args[1]);\n        this._doInAllFrozenSectors(runFunction,args[0],args[1]);\n      }\n      else {\n        this._doInAllActiveSectors(runFunction,argument);\n        this._doInAllFrozenSectors(runFunction,argument);\n      }\n    }\n  };\n\n\n  /**\n   * This clears the nodeIndices list. We cannot use this.nodeIndices = [] because we would break the link with the\n   * active sector. Thus we clear the nodeIndices in the active sector, then reconnect the this.nodeIndices to it.\n   *\n   * @private\n   */\n  exports._clearNodeIndexList = function() {\n    var sector = this._sector();\n    this.sectors["active"][sector]["nodeIndices"] = [];\n    this.nodeIndices = this.sectors["active"][sector]["nodeIndices"];\n  };\n\n\n  /**\n   * Draw the encompassing sector node\n   *\n   * @param ctx\n   * @param sectorType\n   * @private\n   */\n  exports._drawSectorNodes = function(ctx,sectorType) {\n    var minY = 1e9, maxY = -1e9, minX = 1e9, maxX = -1e9, node;\n    for (var sector in this.sectors[sectorType]) {\n      if (this.sectors[sectorType].hasOwnProperty(sector)) {\n        if (this.sectors[sectorType][sector]["drawingNode"] !== undefined) {\n\n          this._switchToSector(sector,sectorType);\n\n          minY = 1e9; maxY = -1e9; minX = 1e9; maxX = -1e9;\n          for (var nodeId in this.nodes) {\n            if (this.nodes.hasOwnProperty(nodeId)) {\n              node = this.nodes[nodeId];\n              node.resize(ctx);\n              if (minX > node.x - 0.5 * node.width) {minX = node.x - 0.5 * node.width;}\n              if (maxX < node.x + 0.5 * node.width) {maxX = node.x + 0.5 * node.width;}\n              if (minY > node.y - 0.5 * node.height) {minY = node.y - 0.5 * node.height;}\n              if (maxY < node.y + 0.5 * node.height) {maxY = node.y + 0.5 * node.height;}\n            }\n          }\n          node = this.sectors[sectorType][sector]["drawingNode"];\n          node.x = 0.5 * (maxX + minX);\n          node.y = 0.5 * (maxY + minY);\n          node.width = 2 * (node.x - minX);\n          node.height = 2 * (node.y - minY);\n          node.options.radius = Math.sqrt(Math.pow(0.5*node.width,2) + Math.pow(0.5*node.height,2));\n          node.setScale(this.scale);\n          node._drawCircle(ctx);\n        }\n      }\n    }\n  };\n\n  exports._drawAllSectorNodes = function(ctx) {\n    this._drawSectorNodes(ctx,"frozen");\n    this._drawSectorNodes(ctx,"active");\n    this._loadLatestSector();\n  };\n\n\n/***/ },\n/* 63 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var Node = __webpack_require__(40);\n\n  /**\n   * This function can be called from the _doInAllSectors function\n   *\n   * @param object\n   * @param overlappingNodes\n   * @private\n   */\n  exports._getNodesOverlappingWith = function(object, overlappingNodes) {\n    var nodes = this.nodes;\n    for (var nodeId in nodes) {\n      if (nodes.hasOwnProperty(nodeId)) {\n        if (nodes[nodeId].isOverlappingWith(object)) {\n          overlappingNodes.push(nodeId);\n        }\n      }\n    }\n  };\n\n  /**\n   * retrieve all nodes overlapping with given object\n   * @param {Object} object  An object with parameters left, top, right, bottom\n   * @return {Number[]}   An array with id\'s of the overlapping nodes\n   * @private\n   */\n  exports._getAllNodesOverlappingWith = function (object) {\n    var overlappingNodes = [];\n    this._doInAllActiveSectors("_getNodesOverlappingWith",object,overlappingNodes);\n    return overlappingNodes;\n  };\n\n\n  /**\n   * Return a position object in canvasspace from a single point in screenspace\n   *\n   * @param pointer\n   * @returns {{left: number, top: number, right: number, bottom: number}}\n   * @private\n   */\n  exports._pointerToPositionObject = function(pointer) {\n    var x = this._XconvertDOMtoCanvas(pointer.x);\n    var y = this._YconvertDOMtoCanvas(pointer.y);\n\n    return {\n      left:   x,\n      top:    y,\n      right:  x,\n      bottom: y\n    };\n  };\n\n\n  /**\n   * Get the top node at the a specific point (like a click)\n   *\n   * @param {{x: Number, y: Number}} pointer\n   * @return {Node | null} node\n   * @private\n   */\n  exports._getNodeAt = function (pointer) {\n    // we first check if this is an navigation controls element\n    var positionObject = this._pointerToPositionObject(pointer);\n    var overlappingNodes = this._getAllNodesOverlappingWith(positionObject);\n\n    // if there are overlapping nodes, select the last one, this is the\n    // one which is drawn on top of the others\n    if (overlappingNodes.length > 0) {\n       return this.nodes[overlappingNodes[overlappingNodes.length - 1]];\n    }\n    else {\n      return null;\n    }\n  };\n\n\n  /**\n   * retrieve all edges overlapping with given object, selector is around center\n   * @param {Object} object  An object with parameters left, top, right, bottom\n   * @return {Number[]}   An array with id\'s of the overlapping nodes\n   * @private\n   */\n  exports._getEdgesOverlappingWith = function (object, overlappingEdges) {\n    var edges = this.edges;\n    for (var edgeId in edges) {\n      if (edges.hasOwnProperty(edgeId)) {\n        if (edges[edgeId].isOverlappingWith(object)) {\n          overlappingEdges.push(edgeId);\n        }\n      }\n    }\n  };\n\n\n  /**\n   * retrieve all nodes overlapping with given object\n   * @param {Object} object  An object with parameters left, top, right, bottom\n   * @return {Number[]}   An array with id\'s of the overlapping nodes\n   * @private\n   */\n  exports._getAllEdgesOverlappingWith = function (object) {\n    var overlappingEdges = [];\n    this._doInAllActiveSectors("_getEdgesOverlappingWith",object,overlappingEdges);\n    return overlappingEdges;\n  };\n\n  /**\n   * Place holder. To implement change the _getNodeAt to a _getObjectAt. Have the _getObjectAt call\n   * _getNodeAt and _getEdgesAt, then priortize the selection to user preferences.\n   *\n   * @param pointer\n   * @returns {null}\n   * @private\n   */\n  exports._getEdgeAt = function(pointer) {\n    var positionObject = this._pointerToPositionObject(pointer);\n    var overlappingEdges = this._getAllEdgesOverlappingWith(positionObject);\n\n    if (overlappingEdges.length > 0) {\n      return this.edges[overlappingEdges[overlappingEdges.length - 1]];\n    }\n    else {\n      return null;\n    }\n  };\n\n\n  /**\n   * Add object to the selection array.\n   *\n   * @param obj\n   * @private\n   */\n  exports._addToSelection = function(obj) {\n    if (obj instanceof Node) {\n      this.selectionObj.nodes[obj.id] = obj;\n    }\n    else {\n      this.selectionObj.edges[obj.id] = obj;\n    }\n  };\n\n  /**\n   * Add object to the selection array.\n   *\n   * @param obj\n   * @private\n   */\n  exports._addToHover = function(obj) {\n    if (obj instanceof Node) {\n      this.hoverObj.nodes[obj.id] = obj;\n    }\n    else {\n      this.hoverObj.edges[obj.id] = obj;\n    }\n  };\n\n\n  /**\n   * Remove a single option from selection.\n   *\n   * @param {Object} obj\n   * @private\n   */\n  exports._removeFromSelection = function(obj) {\n    if (obj instanceof Node) {\n      delete this.selectionObj.nodes[obj.id];\n    }\n    else {\n      delete this.selectionObj.edges[obj.id];\n    }\n  };\n\n  /**\n   * Unselect all. The selectionObj is useful for this.\n   *\n   * @param {Boolean} [doNotTrigger] | ignore trigger\n   * @private\n   */\n  exports._unselectAll = function(doNotTrigger) {\n    if (doNotTrigger === undefined) {\n      doNotTrigger = false;\n    }\n    for(var nodeId in this.selectionObj.nodes) {\n      if(this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n        this.selectionObj.nodes[nodeId].unselect();\n      }\n    }\n    for(var edgeId in this.selectionObj.edges) {\n      if(this.selectionObj.edges.hasOwnProperty(edgeId)) {\n        this.selectionObj.edges[edgeId].unselect();\n      }\n    }\n\n    this.selectionObj = {nodes:{},edges:{}};\n\n    if (doNotTrigger == false) {\n      this.emit(\'select\', this.getSelection());\n    }\n  };\n\n  /**\n   * Unselect all clusters. The selectionObj is useful for this.\n   *\n   * @param {Boolean} [doNotTrigger] | ignore trigger\n   * @private\n   */\n  exports._unselectClusters = function(doNotTrigger) {\n    if (doNotTrigger === undefined) {\n      doNotTrigger = false;\n    }\n\n    for (var nodeId in this.selectionObj.nodes) {\n      if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n        if (this.selectionObj.nodes[nodeId].clusterSize > 1) {\n          this.selectionObj.nodes[nodeId].unselect();\n          this._removeFromSelection(this.selectionObj.nodes[nodeId]);\n        }\n      }\n    }\n\n    if (doNotTrigger == false) {\n      this.emit(\'select\', this.getSelection());\n    }\n  };\n\n\n  /**\n   * return the number of selected nodes\n   *\n   * @returns {number}\n   * @private\n   */\n  exports._getSelectedNodeCount = function() {\n    var count = 0;\n    for (var nodeId in this.selectionObj.nodes) {\n      if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n        count += 1;\n      }\n    }\n    return count;\n  };\n\n  /**\n   * return the selected node\n   *\n   * @returns {number}\n   * @private\n   */\n  exports._getSelectedNode = function() {\n    for (var nodeId in this.selectionObj.nodes) {\n      if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n        return this.selectionObj.nodes[nodeId];\n      }\n    }\n    return null;\n  };\n\n  /**\n   * return the selected edge\n   *\n   * @returns {number}\n   * @private\n   */\n  exports._getSelectedEdge = function() {\n    for (var edgeId in this.selectionObj.edges) {\n      if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n        return this.selectionObj.edges[edgeId];\n      }\n    }\n    return null;\n  };\n\n\n  /**\n   * return the number of selected edges\n   *\n   * @returns {number}\n   * @private\n   */\n  exports._getSelectedEdgeCount = function() {\n    var count = 0;\n    for (var edgeId in this.selectionObj.edges) {\n      if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n        count += 1;\n      }\n    }\n    return count;\n  };\n\n\n  /**\n   * return the number of selected objects.\n   *\n   * @returns {number}\n   * @private\n   */\n  exports._getSelectedObjectCount = function() {\n    var count = 0;\n    for(var nodeId in this.selectionObj.nodes) {\n      if(this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n        count += 1;\n      }\n    }\n    for(var edgeId in this.selectionObj.edges) {\n      if(this.selectionObj.edges.hasOwnProperty(edgeId)) {\n        count += 1;\n      }\n    }\n    return count;\n  };\n\n  /**\n   * Check if anything is selected\n   *\n   * @returns {boolean}\n   * @private\n   */\n  exports._selectionIsEmpty = function() {\n    for(var nodeId in this.selectionObj.nodes) {\n      if(this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n        return false;\n      }\n    }\n    for(var edgeId in this.selectionObj.edges) {\n      if(this.selectionObj.edges.hasOwnProperty(edgeId)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n\n  /**\n   * check if one of the selected nodes is a cluster.\n   *\n   * @returns {boolean}\n   * @private\n   */\n  exports._clusterInSelection = function() {\n    for(var nodeId in this.selectionObj.nodes) {\n      if(this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n        if (this.selectionObj.nodes[nodeId].clusterSize > 1) {\n          return true;\n        }\n      }\n    }\n    return false;\n  };\n\n  /**\n   * select the edges connected to the node that is being selected\n   *\n   * @param {Node} node\n   * @private\n   */\n  exports._selectConnectedEdges = function(node) {\n    for (var i = 0; i < node.dynamicEdges.length; i++) {\n      var edge = node.dynamicEdges[i];\n      edge.select();\n      this._addToSelection(edge);\n    }\n  };\n\n  /**\n   * select the edges connected to the node that is being selected\n   *\n   * @param {Node} node\n   * @private\n   */\n  exports._hoverConnectedEdges = function(node) {\n    for (var i = 0; i < node.dynamicEdges.length; i++) {\n      var edge = node.dynamicEdges[i];\n      edge.hover = true;\n      this._addToHover(edge);\n    }\n  };\n\n\n  /**\n   * unselect the edges connected to the node that is being selected\n   *\n   * @param {Node} node\n   * @private\n   */\n  exports._unselectConnectedEdges = function(node) {\n    for (var i = 0; i < node.dynamicEdges.length; i++) {\n      var edge = node.dynamicEdges[i];\n      edge.unselect();\n      this._removeFromSelection(edge);\n    }\n  };\n\n\n\n\n  /**\n   * This is called when someone clicks on a node. either select or deselect it.\n   * If there is an existing selection and we don\'t want to append to it, clear the existing selection\n   *\n   * @param {Node || Edge} object\n   * @param {Boolean} append\n   * @param {Boolean} [doNotTrigger] | ignore trigger\n   * @private\n   */\n  exports._selectObject = function(object, append, doNotTrigger, highlightEdges, overrideSelectable) {\n    if (doNotTrigger === undefined) {\n      doNotTrigger = false;\n    }\n    if (highlightEdges === undefined) {\n      highlightEdges = true;\n    }\n\n    if (this._selectionIsEmpty() == false && append == false && this.forceAppendSelection == false) {\n      this._unselectAll(true);\n    }\n\n    // selectable allows the object to be selected. Override can be used if needed to bypass this.\n    if (object.selected == false && (this.constants.selectable == true || overrideSelectable)) {\n      object.select();\n      this._addToSelection(object);\n      if (object instanceof Node && this.blockConnectingEdgeSelection == false && highlightEdges == true) {\n        this._selectConnectedEdges(object);\n      }\n    }\n    // do not select the object if selectable is false, only add it to selection to allow drag to work\n    else if (object.selected == false) {\n      this._addToSelection(object);\n      doNotTrigger = true;\n    }\n    else {\n      object.unselect();\n      this._removeFromSelection(object);\n    }\n\n    if (doNotTrigger == false) {\n      this.emit(\'select\', this.getSelection());\n    }\n  };\n\n\n  /**\n   * This is called when someone clicks on a node. either select or deselect it.\n   * If there is an existing selection and we don\'t want to append to it, clear the existing selection\n   *\n   * @param {Node || Edge} object\n   * @private\n   */\n  exports._blurObject = function(object) {\n    if (object.hover == true) {\n      object.hover = false;\n      this.emit("blurNode",{node:object.id});\n    }\n  };\n\n  /**\n   * This is called when someone clicks on a node. either select or deselect it.\n   * If there is an existing selection and we don\'t want to append to it, clear the existing selection\n   *\n   * @param {Node || Edge} object\n   * @private\n   */\n  exports._hoverObject = function(object) {\n    if (object.hover == false) {\n      object.hover = true;\n      this._addToHover(object);\n      if (object instanceof Node) {\n        this.emit("hoverNode",{node:object.id});\n      }\n    }\n    if (object instanceof Node) {\n      this._hoverConnectedEdges(object);\n    }\n  };\n\n\n  /**\n   * handles the selection part of the touch, only for navigation controls elements;\n   * Touch is triggered before tap, also before hold. Hold triggers after a while.\n   * This is the most responsive solution\n   *\n   * @param {Object} pointer\n   * @private\n   */\n  exports._handleTouch = function(pointer) {\n  };\n\n\n  /**\n   * handles the selection part of the tap;\n   *\n   * @param {Object} pointer\n   * @private\n   */\n  exports._handleTap = function(pointer) {\n    var node = this._getNodeAt(pointer);\n    if (node != null) {\n      this._selectObject(node, false);\n    }\n    else {\n      var edge = this._getEdgeAt(pointer);\n      if (edge != null) {\n        this._selectObject(edge, false);\n      }\n      else {\n        this._unselectAll();\n      }\n    }\n    var properties = this.getSelection();\n    properties[\'pointer\'] = {\n      DOM: {x: pointer.x, y: pointer.y},\n      canvas: {x: this._XconvertDOMtoCanvas(pointer.x), y: this._YconvertDOMtoCanvas(pointer.y)}\n    }\n    this.emit("click", properties);\n    this._requestRedraw();\n  };\n\n\n  /**\n   * handles the selection part of the double tap and opens a cluster if needed\n   *\n   * @param {Object} pointer\n   * @private\n   */\n  exports._handleDoubleTap = function(pointer) {\n    var node = this._getNodeAt(pointer);\n    if (node != null && node !== undefined) {\n      // we reset the areaCenter here so the opening of the node will occur\n      this.areaCenter =  {"x" : this._XconvertDOMtoCanvas(pointer.x),\n                          "y" : this._YconvertDOMtoCanvas(pointer.y)};\n      this.openCluster(node);\n    }\n    var properties = this.getSelection();\n    properties[\'pointer\'] = {\n      DOM: {x: pointer.x, y: pointer.y},\n      canvas: {x: this._XconvertDOMtoCanvas(pointer.x), y: this._YconvertDOMtoCanvas(pointer.y)}\n    }\n    this.emit("doubleClick", properties);\n  };\n\n\n  /**\n   * Handle the onHold selection part\n   *\n   * @param pointer\n   * @private\n   */\n  exports._handleOnHold = function(pointer) {\n    var node = this._getNodeAt(pointer);\n    if (node != null) {\n      this._selectObject(node,true);\n    }\n    else {\n      var edge = this._getEdgeAt(pointer);\n      if (edge != null) {\n        this._selectObject(edge,true);\n      }\n    }\n    this._requestRedraw();\n  };\n\n\n  /**\n   * handle the onRelease event. These functions are here for the navigation controls module\n   * and data manipulation module.\n   *\n    * @private\n   */\n  exports._handleOnRelease = function(pointer) {\n    this._manipulationReleaseOverload(pointer);\n    this._navigationReleaseOverload(pointer);\n  };\n\n  exports._manipulationReleaseOverload = function (pointer) {};\n  exports._navigationReleaseOverload = function (pointer) {};\n\n  /**\n   *\n   * retrieve the currently selected objects\n   * @return {{nodes: Array.<String>, edges: Array.<String>}} selection\n   */\n  exports.getSelection = function() {\n    var nodeIds = this.getSelectedNodes();\n    var edgeIds = this.getSelectedEdges();\n    return {nodes:nodeIds, edges:edgeIds};\n  };\n\n  /**\n   *\n   * retrieve the currently selected nodes\n   * @return {String[]} selection    An array with the ids of the\n   *                                            selected nodes.\n   */\n  exports.getSelectedNodes = function() {\n    var idArray = [];\n    if (this.constants.selectable == true) {\n      for (var nodeId in this.selectionObj.nodes) {\n        if (this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n          idArray.push(nodeId);\n        }\n      }\n    }\n    return idArray\n  };\n\n  /**\n   *\n   * retrieve the currently selected edges\n   * @return {Array} selection    An array with the ids of the\n   *                                            selected nodes.\n   */\n  exports.getSelectedEdges = function() {\n    var idArray = [];\n    if (this.constants.selectable == true) {\n      for (var edgeId in this.selectionObj.edges) {\n        if (this.selectionObj.edges.hasOwnProperty(edgeId)) {\n          idArray.push(edgeId);\n        }\n      }\n    }\n    return idArray;\n  };\n\n\n  /**\n   * select zero or more nodes DEPRICATED\n   * @param {Number[] | String[]} selection     An array with the ids of the\n   *                                            selected nodes.\n   */\n  exports.setSelection = function() {\n    console.log("setSelection is deprecated. Please use selectNodes instead.")\n  };\n\n\n  /**\n   * select zero or more nodes with the option to highlight edges\n   * @param {Number[] | String[]} selection     An array with the ids of the\n   *                                            selected nodes.\n   * @param {boolean} [highlightEdges]\n   */\n  exports.selectNodes = function(selection, highlightEdges) {\n    var i, iMax, id;\n\n    if (!selection || (selection.length == undefined))\n      throw \'Selection must be an array with ids\';\n\n    // first unselect any selected node\n    this._unselectAll(true);\n\n    for (i = 0, iMax = selection.length; i < iMax; i++) {\n      id = selection[i];\n\n      var node = this.nodes[id];\n      if (!node) {\n        throw new RangeError(\'Node with id "\' + id + \'" not found\');\n      }\n      this._selectObject(node,true,true,highlightEdges,true);\n    }\n    this.redraw();\n  };\n\n\n  /**\n   * select zero or more edges\n   * @param {Number[] | String[]} selection     An array with the ids of the\n   *                                            selected nodes.\n   */\n  exports.selectEdges = function(selection) {\n    var i, iMax, id;\n\n    if (!selection || (selection.length == undefined))\n      throw \'Selection must be an array with ids\';\n\n    // first unselect any selected node\n    this._unselectAll(true);\n\n    for (i = 0, iMax = selection.length; i < iMax; i++) {\n      id = selection[i];\n\n      var edge = this.edges[id];\n      if (!edge) {\n        throw new RangeError(\'Edge with id "\' + id + \'" not found\');\n      }\n      this._selectObject(edge,true,true,false,true);\n    }\n    this.redraw();\n  };\n\n  /**\n   * Validate the selection: remove ids of nodes which no longer exist\n   * @private\n   */\n  exports._updateSelection = function () {\n    for(var nodeId in this.selectionObj.nodes) {\n      if(this.selectionObj.nodes.hasOwnProperty(nodeId)) {\n        if (!this.nodes.hasOwnProperty(nodeId)) {\n          delete this.selectionObj.nodes[nodeId];\n        }\n      }\n    }\n    for(var edgeId in this.selectionObj.edges) {\n      if(this.selectionObj.edges.hasOwnProperty(edgeId)) {\n        if (!this.edges.hasOwnProperty(edgeId)) {\n          delete this.selectionObj.edges[edgeId];\n        }\n      }\n    }\n  };\n\n\n/***/ },\n/* 64 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var Node = __webpack_require__(40);\n  var Edge = __webpack_require__(37);\n  var Hammer = __webpack_require__(45);\n\n  /**\n   * clears the toolbar div element of children\n   *\n   * @private\n   */\n  exports._clearManipulatorBar = function() {\n    this._recursiveDOMDelete(this.manipulationDiv);\n    this.manipulationDOM = {};\n\n    this._cleanManipulatorHammers();\n\n    this._manipulationReleaseOverload = function () {};\n    delete this.sectors[\'support\'][\'nodes\'][\'targetNode\'];\n    delete this.sectors[\'support\'][\'nodes\'][\'targetViaNode\'];\n    this.controlNodesActive = false;\n    this.freezeSimulation(false);\n  };\n\n\n  exports._cleanManipulatorHammers = function() {\n    // clean hammer bindings\n    if (this.manipulationHammers.length != 0) {\n      for (var i = 0; i < this.manipulationHammers.length; i++) {\n        this.manipulationHammers[i].dispose();\n      }\n      this.manipulationHammers = [];\n    }\n  };\n\n  /**\n   * Manipulation UI temporarily overloads certain functions to extend or replace them. To be able to restore\n   * these functions to their original functionality, we saved them in this.cachedFunctions.\n   * This function restores these functions to their original function.\n   *\n   * @private\n   */\n  exports._restoreOverloadedFunctions = function() {\n    for (var functionName in this.cachedFunctions) {\n      if (this.cachedFunctions.hasOwnProperty(functionName)) {\n        this[functionName] = this.cachedFunctions[functionName];\n        delete this.cachedFunctions[functionName];\n      }\n    }\n  };\n\n  /**\n   * Enable or disable edit-mode.\n   *\n   * @private\n   */\n  exports._toggleEditMode = function() {\n    this.editMode = !this.editMode;\n    var toolbar = this.manipulationDiv;\n    var closeDiv = this.closeDiv;\n    var editModeDiv = this.editModeDiv;\n    if (this.editMode == true) {\n      toolbar.style.display="block";\n      closeDiv.style.display="block";\n      editModeDiv.style.display="none";\n      this._bindHammerToDiv(closeDiv,\'_toggleEditMode\');\n    }\n    else {\n      toolbar.style.display="none";\n      closeDiv.style.display="none";\n      editModeDiv.style.display="block";\n    }\n    this._createManipulatorBar()\n  };\n\n  /**\n   * main function, creates the main toolbar. Removes functions bound to the select event. Binds all the buttons of the toolbar.\n   *\n   * @private\n   */\n  exports._createManipulatorBar = function() {\n    // remove bound functions\n    if (this.boundFunction) {\n      this.off(\'select\', this.boundFunction);\n    }\n\n    this._cleanManipulatorHammers();\n\n    var locale = this.constants.locales[this.constants.locale];\n\n    if (this.edgeBeingEdited !== undefined) {\n      this.edgeBeingEdited._disableControlNodes();\n      this.edgeBeingEdited = undefined;\n      this.selectedControlNode = null;\n      this.controlNodesActive = false;\n      this._redraw();\n    }\n\n    // restore overloaded functions\n    this._restoreOverloadedFunctions();\n\n    // resume calculation\n    this.freezeSimulation(false);\n\n    // reset global variables\n    this.blockConnectingEdgeSelection = false;\n    this.forceAppendSelection = false;\n    this.manipulationDOM = {};\n\n    if (this.editMode == true) {\n      while (this.manipulationDiv.hasChildNodes()) {\n        this.manipulationDiv.removeChild(this.manipulationDiv.firstChild);\n      }\n\n      this.manipulationDOM[\'addNodeSpan\'] = document.createElement(\'div\');\n      this.manipulationDOM[\'addNodeSpan\'].className = \'network-manipulationUI add\';\n\n      this.manipulationDOM[\'addNodeLabelSpan\'] = document.createElement(\'div\');\n      this.manipulationDOM[\'addNodeLabelSpan\'].className = \'network-manipulationLabel\';\n      this.manipulationDOM[\'addNodeLabelSpan\'].innerHTML = locale[\'addNode\'];\n      this.manipulationDOM[\'addNodeSpan\'].appendChild(this.manipulationDOM[\'addNodeLabelSpan\']);\n\n      this.manipulationDOM[\'seperatorLineDiv1\'] = document.createElement(\'div\');\n      this.manipulationDOM[\'seperatorLineDiv1\'].className = \'network-seperatorLine\';\n\n      this.manipulationDOM[\'addEdgeSpan\'] = document.createElement(\'div\');\n      this.manipulationDOM[\'addEdgeSpan\'].className = \'network-manipulationUI connect\';\n      this.manipulationDOM[\'addEdgeLabelSpan\'] = document.createElement(\'div\');\n      this.manipulationDOM[\'addEdgeLabelSpan\'].className = \'network-manipulationLabel\';\n      this.manipulationDOM[\'addEdgeLabelSpan\'].innerHTML = locale[\'addEdge\'];\n      this.manipulationDOM[\'addEdgeSpan\'].appendChild(this.manipulationDOM[\'addEdgeLabelSpan\']);\n\n      this.manipulationDiv.appendChild(this.manipulationDOM[\'addNodeSpan\']);\n      this.manipulationDiv.appendChild(this.manipulationDOM[\'seperatorLineDiv1\']);\n      this.manipulationDiv.appendChild(this.manipulationDOM[\'addEdgeSpan\']);\n\n      if (this._getSelectedNodeCount() == 1 && this.triggerFunctions.edit) {\n        this.manipulationDOM[\'seperatorLineDiv2\'] = document.createElement(\'div\');\n        this.manipulationDOM[\'seperatorLineDiv2\'].className = \'network-seperatorLine\';\n\n        this.manipulationDOM[\'editNodeSpan\'] = document.createElement(\'div\');\n        this.manipulationDOM[\'editNodeSpan\'].className = \'network-manipulationUI edit node\';\n        this.manipulationDOM[\'editNodeLabelSpan\'] = document.createElement(\'div\');\n        this.manipulationDOM[\'editNodeLabelSpan\'].className = \'network-manipulationLabel\';\n        this.manipulationDOM[\'editNodeLabelSpan\'].innerHTML = locale[\'editNode\'];\n        this.manipulationDOM[\'editNodeSpan\'].appendChild(this.manipulationDOM[\'editNodeLabelSpan\']);\n\n        this.manipulationDiv.appendChild(this.manipulationDOM[\'seperatorLineDiv2\']);\n        this.manipulationDiv.appendChild(this.manipulationDOM[\'editNodeSpan\']);\n      }\n      else if (this._getSelectedEdgeCount() == 1 && this._getSelectedNodeCount() == 0) {\n        this.manipulationDOM[\'seperatorLineDiv3\'] = document.createElement(\'div\');\n        this.manipulationDOM[\'seperatorLineDiv3\'].className = \'network-seperatorLine\';\n\n        this.manipulationDOM[\'editEdgeSpan\'] = document.createElement(\'div\');\n        this.manipulationDOM[\'editEdgeSpan\'].className = \'network-manipulationUI edit edge\';\n        this.manipulationDOM[\'editEdgeLabelSpan\'] = document.createElement(\'div\');\n        this.manipulationDOM[\'editEdgeLabelSpan\'].className = \'network-manipulationLabel\';\n        this.manipulationDOM[\'editEdgeLabelSpan\'].innerHTML = locale[\'editEdge\'];\n        this.manipulationDOM[\'editEdgeSpan\'].appendChild(this.manipulationDOM[\'editEdgeLabelSpan\']);\n\n        this.manipulationDiv.appendChild(this.manipulationDOM[\'seperatorLineDiv3\']);\n        this.manipulationDiv.appendChild(this.manipulationDOM[\'editEdgeSpan\']);\n      }\n      if (this._selectionIsEmpty() == false) {\n        this.manipulationDOM[\'seperatorLineDiv4\'] = document.createElement(\'div\');\n        this.manipulationDOM[\'seperatorLineDiv4\'].className = \'network-seperatorLine\';\n\n        this.manipulationDOM[\'deleteSpan\'] = document.createElement(\'div\');\n        this.manipulationDOM[\'deleteSpan\'].className = \'network-manipulationUI delete\';\n        this.manipulationDOM[\'deleteLabelSpan\'] = document.createElement(\'div\');\n        this.manipulationDOM[\'deleteLabelSpan\'].className = \'network-manipulationLabel\';\n        this.manipulationDOM[\'deleteLabelSpan\'].innerHTML = locale[\'del\'];\n        this.manipulationDOM[\'deleteSpan\'].appendChild(this.manipulationDOM[\'deleteLabelSpan\']);\n\n        this.manipulationDiv.appendChild(this.manipulationDOM[\'seperatorLineDiv4\']);\n        this.manipulationDiv.appendChild(this.manipulationDOM[\'deleteSpan\']);\n      }\n\n      // bind the icons\n      this._bindHammerToDiv(this.manipulationDOM[\'addNodeSpan\'],\'_createAddNodeToolbar\');\n      this._bindHammerToDiv(this.manipulationDOM[\'addEdgeSpan\'],\'_createAddEdgeToolbar\');\n      this._bindHammerToDiv(this.closeDiv,\'_toggleEditMode\');\n\n      if (this._getSelectedNodeCount() == 1 && this.triggerFunctions.edit) {\n        this._bindHammerToDiv(this.manipulationDOM[\'editNodeSpan\'],\'_editNode\');\n      }\n      else if (this._getSelectedEdgeCount() == 1 && this._getSelectedNodeCount() == 0) {\n        this._bindHammerToDiv(this.manipulationDOM[\'editEdgeSpan\'],\'_createEditEdgeToolbar\');\n      }\n      if (this._selectionIsEmpty() == false) {\n        this._bindHammerToDiv(this.manipulationDOM[\'deleteSpan\'],\'_deleteSelected\');\n      }\n\n      var me = this;\n      this.boundFunction = me._createManipulatorBar;\n      this.on(\'select\', this.boundFunction);\n    }\n    else {\n      while (this.editModeDiv.hasChildNodes()) {\n        this.editModeDiv.removeChild(this.editModeDiv.firstChild);\n      }\n\n      this.manipulationDOM[\'editModeSpan\'] = document.createElement(\'div\');\n      this.manipulationDOM[\'editModeSpan\'].className = \'network-manipulationUI edit editmode\';\n      this.manipulationDOM[\'editModeLabelSpan\'] = document.createElement(\'div\');\n      this.manipulationDOM[\'editModeLabelSpan\'].className = \'network-manipulationLabel\';\n      this.manipulationDOM[\'editModeLabelSpan\'].innerHTML = locale[\'edit\'];\n      this.manipulationDOM[\'editModeSpan\'].appendChild(this.manipulationDOM[\'editModeLabelSpan\']);\n\n      this.editModeDiv.appendChild(this.manipulationDOM[\'editModeSpan\']);\n\n      this._bindHammerToDiv(this.manipulationDOM[\'editModeSpan\'],\'_toggleEditMode\');\n    }\n  };\n\n\n  exports._bindHammerToDiv = function(domElement, funct) {\n    var hammer = Hammer(domElement, {prevent_default: true});\n    hammer.on(\'touch\', this[funct].bind(this));\n    this.manipulationHammers.push(hammer);\n  }\n\n\n  /**\n   * Create the toolbar for adding Nodes\n   *\n   * @private\n   */\n  exports._createAddNodeToolbar = function() {\n    // clear the toolbar\n    this._clearManipulatorBar();\n    if (this.boundFunction) {\n      this.off(\'select\', this.boundFunction);\n    }\n\n    var locale = this.constants.locales[this.constants.locale];\n\n    this.manipulationDOM = {};\n    this.manipulationDOM[\'backSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'backSpan\'].className = \'network-manipulationUI back\';\n    this.manipulationDOM[\'backLabelSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'backLabelSpan\'].className = \'network-manipulationLabel\';\n    this.manipulationDOM[\'backLabelSpan\'].innerHTML = locale[\'back\'];\n    this.manipulationDOM[\'backSpan\'].appendChild(this.manipulationDOM[\'backLabelSpan\']);\n\n    this.manipulationDOM[\'seperatorLineDiv1\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'seperatorLineDiv1\'].className = \'network-seperatorLine\';\n\n    this.manipulationDOM[\'descriptionSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'descriptionSpan\'].className = \'network-manipulationUI none\';\n    this.manipulationDOM[\'descriptionLabelSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'descriptionLabelSpan\'].className = \'network-manipulationLabel\';\n    this.manipulationDOM[\'descriptionLabelSpan\'].innerHTML = locale[\'addDescription\'];\n    this.manipulationDOM[\'descriptionSpan\'].appendChild(this.manipulationDOM[\'descriptionLabelSpan\']);\n\n    this.manipulationDiv.appendChild(this.manipulationDOM[\'backSpan\']);\n    this.manipulationDiv.appendChild(this.manipulationDOM[\'seperatorLineDiv1\']);\n    this.manipulationDiv.appendChild(this.manipulationDOM[\'descriptionSpan\']);\n\n    // bind the icon\n    this._bindHammerToDiv(this.manipulationDOM[\'backSpan\'],\'_createManipulatorBar\');\n\n    // we use the boundFunction so we can reference it when we unbind it from the "select" event.\n    var me = this;\n    this.boundFunction = me._addNode;\n    this.on(\'select\', this.boundFunction);\n  };\n\n\n  /**\n   * create the toolbar to connect nodes\n   *\n   * @private\n   */\n  exports._createAddEdgeToolbar = function() {\n    // clear the toolbar\n    this._clearManipulatorBar();\n    this._unselectAll(true);\n    this.freezeSimulation(true);\n\n    if (this.boundFunction) {\n      this.off(\'select\', this.boundFunction);\n    }\n\n    var locale = this.constants.locales[this.constants.locale];\n\n    this._unselectAll();\n    this.forceAppendSelection = false;\n    this.blockConnectingEdgeSelection = true;\n\n    this.manipulationDOM = {};\n    this.manipulationDOM[\'backSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'backSpan\'].className = \'network-manipulationUI back\';\n    this.manipulationDOM[\'backLabelSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'backLabelSpan\'].className = \'network-manipulationLabel\';\n    this.manipulationDOM[\'backLabelSpan\'].innerHTML = locale[\'back\'];\n    this.manipulationDOM[\'backSpan\'].appendChild(this.manipulationDOM[\'backLabelSpan\']);\n\n    this.manipulationDOM[\'seperatorLineDiv1\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'seperatorLineDiv1\'].className = \'network-seperatorLine\';\n\n    this.manipulationDOM[\'descriptionSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'descriptionSpan\'].className = \'network-manipulationUI none\';\n    this.manipulationDOM[\'descriptionLabelSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'descriptionLabelSpan\'].className = \'network-manipulationLabel\';\n    this.manipulationDOM[\'descriptionLabelSpan\'].innerHTML = locale[\'edgeDescription\'];\n    this.manipulationDOM[\'descriptionSpan\'].appendChild(this.manipulationDOM[\'descriptionLabelSpan\']);\n\n    this.manipulationDiv.appendChild(this.manipulationDOM[\'backSpan\']);\n    this.manipulationDiv.appendChild(this.manipulationDOM[\'seperatorLineDiv1\']);\n    this.manipulationDiv.appendChild(this.manipulationDOM[\'descriptionSpan\']);\n\n    // bind the icon\n    this._bindHammerToDiv(this.manipulationDOM[\'backSpan\'],\'_createManipulatorBar\');\n\n    // we use the boundFunction so we can reference it when we unbind it from the "select" event.\n    var me = this;\n    this.boundFunction = me._handleConnect;\n    this.on(\'select\', this.boundFunction);\n\n    // temporarily overload functions\n    this.cachedFunctions["_handleTouch"] = this._handleTouch;\n    this.cachedFunctions["_manipulationReleaseOverload"] = this._manipulationReleaseOverload;\n    this.cachedFunctions["_handleDragStart"] = this._handleDragStart;\n    this.cachedFunctions["_handleDragEnd"] = this._handleDragEnd;\n    this.cachedFunctions["_handleOnHold"] = this._handleOnHold;\n    this._handleTouch = this._handleConnect;\n    this._manipulationReleaseOverload = function () {};\n    this._handleOnHold    = function () {};\n    this._handleDragStart = function () {};\n    this._handleDragEnd   = this._finishConnect;\n\n    // redraw to show the unselect\n    this._redraw();\n  };\n\n  /**\n   * create the toolbar to edit edges\n   *\n   * @private\n   */\n  exports._createEditEdgeToolbar = function() {\n    // clear the toolbar\n    this._clearManipulatorBar();\n    this.controlNodesActive = true;\n\n    if (this.boundFunction) {\n      this.off(\'select\', this.boundFunction);\n    }\n\n    this.edgeBeingEdited = this._getSelectedEdge();\n    this.edgeBeingEdited._enableControlNodes();\n\n    var locale = this.constants.locales[this.constants.locale];\n\n    this.manipulationDOM = {};\n    this.manipulationDOM[\'backSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'backSpan\'].className = \'network-manipulationUI back\';\n    this.manipulationDOM[\'backLabelSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'backLabelSpan\'].className = \'network-manipulationLabel\';\n    this.manipulationDOM[\'backLabelSpan\'].innerHTML = locale[\'back\'];\n    this.manipulationDOM[\'backSpan\'].appendChild(this.manipulationDOM[\'backLabelSpan\']);\n\n    this.manipulationDOM[\'seperatorLineDiv1\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'seperatorLineDiv1\'].className = \'network-seperatorLine\';\n\n    this.manipulationDOM[\'descriptionSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'descriptionSpan\'].className = \'network-manipulationUI none\';\n    this.manipulationDOM[\'descriptionLabelSpan\'] = document.createElement(\'div\');\n    this.manipulationDOM[\'descriptionLabelSpan\'].className = \'network-manipulationLabel\';\n    this.manipulationDOM[\'descriptionLabelSpan\'].innerHTML = locale[\'editEdgeDescription\'];\n    this.manipulationDOM[\'descriptionSpan\'].appendChild(this.manipulationDOM[\'descriptionLabelSpan\']);\n\n    this.manipulationDiv.appendChild(this.manipulationDOM[\'backSpan\']);\n    this.manipulationDiv.appendChild(this.manipulationDOM[\'seperatorLineDiv1\']);\n    this.manipulationDiv.appendChild(this.manipulationDOM[\'descriptionSpan\']);\n\n    // bind the icon\n    this._bindHammerToDiv(this.manipulationDOM[\'backSpan\'],\'_createManipulatorBar\');\n\n    // temporarily overload functions\n    this.cachedFunctions["_handleTouch"]      = this._handleTouch;\n    this.cachedFunctions["_manipulationReleaseOverload"]  = this._manipulationReleaseOverload;\n    this.cachedFunctions["_handleTap"]        = this._handleTap;\n    this.cachedFunctions["_handleDragStart"]  = this._handleDragStart;\n    this.cachedFunctions["_handleOnDrag"]     = this._handleOnDrag;\n    this._handleTouch     = this._selectControlNode;\n    this._handleTap       = function () {};\n    this._handleOnDrag    = this._controlNodeDrag;\n    this._handleDragStart = function () {}\n    this._manipulationReleaseOverload = this._releaseControlNode;\n\n    // redraw to show the unselect\n    this._redraw();\n  };\n\n\n  /**\n   * the function bound to the selection event. It checks if you want to connect a cluster and changes the description\n   * to walk the user through the process.\n   *\n   * @private\n   */\n  exports._selectControlNode = function(pointer) {\n    this.edgeBeingEdited.controlNodes.from.unselect();\n    this.edgeBeingEdited.controlNodes.to.unselect();\n    this.selectedControlNode = this.edgeBeingEdited._getSelectedControlNode(this._XconvertDOMtoCanvas(pointer.x),this._YconvertDOMtoCanvas(pointer.y));\n    if (this.selectedControlNode !== null) {\n      this.selectedControlNode.select();\n      this.freezeSimulation(true);\n    }\n    this._redraw();\n  };\n\n\n  /**\n   * the function bound to the selection event. It checks if you want to connect a cluster and changes the description\n   * to walk the user through the process.\n   *\n   * @private\n   */\n  exports._controlNodeDrag = function(event) {\n    var pointer = this._getPointer(event.gesture.center);\n    if (this.selectedControlNode !== null && this.selectedControlNode !== undefined) {\n      this.selectedControlNode.x = this._XconvertDOMtoCanvas(pointer.x);\n      this.selectedControlNode.y = this._YconvertDOMtoCanvas(pointer.y);\n    }\n    this._redraw();\n  };\n\n\n  /**\n   *\n   * @param pointer\n   * @private\n   */\n  exports._releaseControlNode = function(pointer) {\n    var newNode = this._getNodeAt(pointer);\n    if (newNode !== null) {\n      if (this.edgeBeingEdited.controlNodes.from.selected == true) {\n        this.edgeBeingEdited._restoreControlNodes();\n        this._editEdge(newNode.id, this.edgeBeingEdited.to.id);\n        this.edgeBeingEdited.controlNodes.from.unselect();\n      }\n      if (this.edgeBeingEdited.controlNodes.to.selected == true) {\n        this.edgeBeingEdited._restoreControlNodes();\n        this._editEdge(this.edgeBeingEdited.from.id, newNode.id);\n        this.edgeBeingEdited.controlNodes.to.unselect();\n      }\n    }\n    else {\n      this.edgeBeingEdited._restoreControlNodes();\n    }\n    this.freezeSimulation(false);\n    this._redraw();\n  };\n\n  /**\n   * the function bound to the selection event. It checks if you want to connect a cluster and changes the description\n   * to walk the user through the process.\n   *\n   * @private\n   */\n  exports._handleConnect = function(pointer) {\n    if (this._getSelectedNodeCount() == 0) {\n      var node = this._getNodeAt(pointer);\n\n      if (node != null) {\n        if (node.clusterSize > 1) {\n          alert(this.constants.locales[this.constants.locale][\'createEdgeError\'])\n        }\n        else {\n          this._selectObject(node,false);\n          var supportNodes = this.sectors[\'support\'][\'nodes\'];\n\n          // create a node the temporary line can look at\n          supportNodes[\'targetNode\'] = new Node({id:\'targetNode\'},{},{},this.constants);\n          var targetNode = supportNodes[\'targetNode\'];\n          targetNode.x = node.x;\n          targetNode.y = node.y;\n\n          // create a temporary edge\n          this.edges[\'connectionEdge\'] = new Edge({id:"connectionEdge",from:node.id,to:targetNode.id}, this, this.constants);\n          var connectionEdge = this.edges[\'connectionEdge\'];\n          connectionEdge.from = node;\n          connectionEdge.connected = true;\n          connectionEdge.options.smoothCurves = {enabled: true,\n              dynamic: false,\n              type: "continuous",\n              roundness: 0.5\n          };\n          connectionEdge.selected = true;\n          connectionEdge.to = targetNode;\n\n          this.cachedFunctions["_handleOnDrag"] = this._handleOnDrag;\n          var me = this;\n          this._handleOnDrag = function(event) {\n            var pointer = this._getPointer(event.gesture.center);\n            var connectionEdge = me.edges[\'connectionEdge\'];\n            connectionEdge.to.x = me._XconvertDOMtoCanvas(pointer.x);\n            connectionEdge.to.y = me._YconvertDOMtoCanvas(pointer.y);\n            me._redraw();\n          };\n\n          this.moving = true;\n          this.start();\n        }\n      }\n    }\n  };\n\n  exports._finishConnect = function(event) {\n    if (this._getSelectedNodeCount() == 1) {\n      var pointer = this._getPointer(event.gesture.center);\n      // restore the drag function\n      this._handleOnDrag = this.cachedFunctions["_handleOnDrag"];\n      delete this.cachedFunctions["_handleOnDrag"];\n\n      // remember the edge id\n      var connectFromId = this.edges[\'connectionEdge\'].fromId;\n\n      // remove the temporary nodes and edge\n      delete this.edges[\'connectionEdge\'];\n      delete this.sectors[\'support\'][\'nodes\'][\'targetNode\'];\n      delete this.sectors[\'support\'][\'nodes\'][\'targetViaNode\'];\n\n      var node = this._getNodeAt(pointer);\n      if (node != null) {\n        if (node.clusterSize > 1) {\n          alert(this.constants.locales[this.constants.locale]["createEdgeError"])\n        }\n        else {\n          this._createEdge(connectFromId,node.id);\n          this._createManipulatorBar();\n        }\n      }\n      this._unselectAll();\n    }\n  };\n\n\n  /**\n   * Adds a node on the specified location\n   */\n  exports._addNode = function() {\n    if (this._selectionIsEmpty() && this.editMode == true) {\n      var positionObject = this._pointerToPositionObject(this.pointerPosition);\n      var defaultData = {id:util.randomUUID(),x:positionObject.left,y:positionObject.top,label:"new",allowedToMoveX:true,allowedToMoveY:true};\n      if (this.triggerFunctions.add) {\n        if (this.triggerFunctions.add.length == 2) {\n          var me = this;\n          this.triggerFunctions.add(defaultData, function(finalizedData) {\n            me.nodesData.add(finalizedData);\n            me._createManipulatorBar();\n            me.moving = true;\n            me.start();\n          });\n        }\n        else {\n          throw new Error(\'The function for add does not support two arguments (data,callback)\');\n          this._createManipulatorBar();\n          this.moving = true;\n          this.start();\n        }\n      }\n      else {\n        this.nodesData.add(defaultData);\n        this._createManipulatorBar();\n        this.moving = true;\n        this.start();\n      }\n    }\n  };\n\n\n  /**\n   * connect two nodes with a new edge.\n   *\n   * @private\n   */\n  exports._createEdge = function(sourceNodeId,targetNodeId) {\n    if (this.editMode == true) {\n      var defaultData = {from:sourceNodeId, to:targetNodeId};\n      if (this.triggerFunctions.connect) {\n        if (this.triggerFunctions.connect.length == 2) {\n          var me = this;\n          this.triggerFunctions.connect(defaultData, function(finalizedData) {\n            me.edgesData.add(finalizedData);\n            me.moving = true;\n            me.start();\n          });\n        }\n        else {\n          throw new Error(\'The function for connect does not support two arguments (data,callback)\');\n          this.moving = true;\n          this.start();\n        }\n      }\n      else {\n        this.edgesData.add(defaultData);\n        this.moving = true;\n        this.start();\n      }\n    }\n  };\n\n  /**\n   * connect two nodes with a new edge.\n   *\n   * @private\n   */\n  exports._editEdge = function(sourceNodeId,targetNodeId) {\n    if (this.editMode == true) {\n      var defaultData = {id: this.edgeBeingEdited.id, from:sourceNodeId, to:targetNodeId};\n      if (this.triggerFunctions.editEdge) {\n        if (this.triggerFunctions.editEdge.length == 2) {\n          var me = this;\n          this.triggerFunctions.editEdge(defaultData, function(finalizedData) {\n            me.edgesData.update(finalizedData);\n            me.moving = true;\n            me.start();\n          });\n        }\n        else {\n          throw new Error(\'The function for edit does not support two arguments (data, callback)\');\n          this.moving = true;\n          this.start();\n        }\n      }\n      else {\n        this.edgesData.update(defaultData);\n        this.moving = true;\n        this.start();\n      }\n    }\n  };\n\n  /**\n   * Create the toolbar to edit the selected node. The label and the color can be changed. Other colors are derived from the chosen color.\n   *\n   * @private\n   */\n  exports._editNode = function() {\n    if (this.triggerFunctions.edit && this.editMode == true) {\n      var node = this._getSelectedNode();\n      var data = {id:node.id,\n        label: node.label,\n        group: node.options.group,\n        shape: node.options.shape,\n        color: {\n          background:node.options.color.background,\n          border:node.options.color.border,\n          highlight: {\n            background:node.options.color.highlight.background,\n            border:node.options.color.highlight.border\n          }\n        }};\n      if (this.triggerFunctions.edit.length == 2) {\n        var me = this;\n        this.triggerFunctions.edit(data, function (finalizedData) {\n          me.nodesData.update(finalizedData);\n          me._createManipulatorBar();\n          me.moving = true;\n          me.start();\n        });\n      }\n      else {\n        throw new Error(\'The function for edit does not support two arguments (data, callback)\');\n      }\n    }\n    else {\n      throw new Error(\'No edit function has been bound to this button\');\n    }\n  };\n\n\n\n\n  /**\n   * delete everything in the selection\n   *\n   * @private\n   */\n  exports._deleteSelected = function() {\n    if (!this._selectionIsEmpty() && this.editMode == true) {\n      if (!this._clusterInSelection()) {\n        var selectedNodes = this.getSelectedNodes();\n        var selectedEdges = this.getSelectedEdges();\n        if (this.triggerFunctions.del) {\n          var me = this;\n          var data = {nodes: selectedNodes, edges: selectedEdges};\n          if (this.triggerFunctions.del.length == 2) {\n            this.triggerFunctions.del(data, function (finalizedData) {\n              me.edgesData.remove(finalizedData.edges);\n              me.nodesData.remove(finalizedData.nodes);\n              me._unselectAll();\n              me.moving = true;\n              me.start();\n            });\n          }\n          else {\n            throw new Error(\'The function for delete does not support two arguments (data, callback)\')\n          }\n        }\n        else {\n          this.edgesData.remove(selectedEdges);\n          this.nodesData.remove(selectedNodes);\n          this._unselectAll();\n          this.moving = true;\n          this.start();\n        }\n      }\n      else {\n        alert(this.constants.locales[this.constants.locale]["deleteClusterError"]);\n      }\n    }\n  };\n\n\n/***/ },\n/* 65 */\n/***/ function(module, exports, __webpack_require__) {\n\n  var util = __webpack_require__(1);\n  var Hammer = __webpack_require__(45);\n\n  exports._cleanNavigation = function() {\n    // clean hammer bindings\n    if (this.navigationHammers.length != 0) {\n      for (var i = 0; i < this.navigationHammers.length; i++) {\n        this.navigationHammers[i].dispose();\n      }\n      this.navigationHammers = [];\n    }\n\n    this._navigationReleaseOverload = function () {};\n\n    // clean up previous navigation items\n    if (this.navigationDOM && this.navigationDOM[\'wrapper\'] && this.navigationDOM[\'wrapper\'].parentNode) {\n      this.navigationDOM[\'wrapper\'].parentNode.removeChild(this.navigationDOM[\'wrapper\']);\n    }\n  };\n\n  /**\n   * Creation of the navigation controls nodes. They are drawn over the rest of the nodes and are not affected by scale and translation\n   * they have a triggerFunction which is called on click. If the position of the navigation controls is dependent\n   * on this.frame.canvas.clientWidth or this.frame.canvas.clientHeight, we flag horizontalAlignLeft and verticalAlignTop false.\n   * This means that the location will be corrected by the _relocateNavigation function on a size change of the canvas.\n   *\n   * @private\n   */\n  exports._loadNavigationElements = function() {\n    this._cleanNavigation();\n\n    this.navigationDOM = {};\n    var navigationDivs = [\'up\',\'down\',\'left\',\'right\',\'zoomIn\',\'zoomOut\',\'zoomExtends\'];\n    var navigationDivActions = [\'_moveUp\',\'_moveDown\',\'_moveLeft\',\'_moveRight\',\'_zoomIn\',\'_zoomOut\',\'_zoomExtent\'];\n\n    this.navigationDOM[\'wrapper\'] = document.createElement(\'div\');\n    this.frame.appendChild(this.navigationDOM[\'wrapper\']);\n\n    for (var i = 0; i < navigationDivs.length; i++) {\n      this.navigationDOM[navigationDivs[i]] = document.createElement(\'div\');\n      this.navigationDOM[navigationDivs[i]].className = \'network-navigation \' + navigationDivs[i];\n      this.navigationDOM[\'wrapper\'].appendChild(this.navigationDOM[navigationDivs[i]]);\n\n      var hammer = Hammer(this.navigationDOM[navigationDivs[i]], {prevent_default: true});\n      hammer.on(\'touch\', this[navigationDivActions[i]].bind(this));\n      this.navigationHammers.push(hammer);\n    }\n\n    this._navigationReleaseOverload = this._stopMovement;\n\n  };\n\n\n  /**\n   * this stops all movement induced by the navigation buttons\n   *\n   * @private\n   */\n  exports._zoomExtent = function(event) {\n    this.zoomExtent({duration:700});\n    event.stopPropagation();\n  };\n\n  /**\n   * this stops all movement induced by the navigation buttons\n   *\n   * @private\n   */\n  exports._stopMovement = function() {\n    this._xStopMoving();\n    this._yStopMoving();\n    this._stopZoom();\n  };\n\n\n  /**\n   * move the screen up\n   * By using the increments, instead of adding a fixed number to the translation, we keep fluent and\n   * instant movement. The onKeypress event triggers immediately, then pauses, then triggers frequently\n   * To avoid this behaviour, we do the translation in the start loop.\n   *\n   * @private\n   */\n  exports._moveUp = function(event) {\n    this.yIncrement = this.constants.keyboard.speed.y;\n    this.start(); // if there is no node movement, the calculation wont be done\n    event.preventDefault();\n  };\n\n\n  /**\n   * move the screen down\n   * @private\n   */\n  exports._moveDown = function(event) {\n    this.yIncrement = -this.constants.keyboard.speed.y;\n    this.start(); // if there is no node movement, the calculation wont be done\n    event.preventDefault();\n  };\n\n\n  /**\n   * move the screen left\n   * @private\n   */\n  exports._moveLeft = function(event) {\n    this.xIncrement = this.constants.keyboard.speed.x;\n    this.start(); // if there is no node movement, the calculation wont be done\n    event.preventDefault();\n  };\n\n\n  /**\n   * move the screen right\n   * @private\n   */\n  exports._moveRight = function(event) {\n    this.xIncrement = -this.constants.keyboard.speed.y;\n    this.start(); // if there is no node movement, the calculation wont be done\n    event.preventDefault();\n  };\n\n\n  /**\n   * Zoom in, using the same method as the movement.\n   * @private\n   */\n  exports._zoomIn = function(event) {\n    this.zoomIncrement = this.constants.keyboard.speed.zoom;\n    this.start(); // if there is no node movement, the calculation wont be done\n    event.preventDefault();\n  };\n\n\n  /**\n   * Zoom out\n   * @private\n   */\n  exports._zoomOut = function(event) {\n    this.zoomIncrement = -this.constants.keyboard.speed.zoom;\n    this.start(); // if there is no node movement, the calculation wont be done\n    event.preventDefault();\n  };\n\n\n  /**\n   * Stop zooming and unhighlight the zoom controls\n   * @private\n   */\n  exports._stopZoom = function(event) {\n    this.zoomIncrement = 0;\n    event && event.preventDefault();\n  };\n\n\n  /**\n   * Stop moving in the Y direction and unHighlight the up and down\n   * @private\n   */\n  exports._yStopMoving = function(event) {\n    this.yIncrement = 0;\n    event && event.preventDefault();\n  };\n\n\n  /**\n   * Stop moving in the X direction and unHighlight left and right.\n   * @private\n   */\n  exports._xStopMoving = function(event) {\n    this.xIncrement = 0;\n    event && event.preventDefault();\n  };\n\n\n/***/ },\n/* 66 */\n/***/ function(module, exports, __webpack_require__) {\n\n  exports._resetLevels = function() {\n    for (var nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        var node = this.nodes[nodeId];\n        if (node.preassignedLevel == false) {\n          node.level = -1;\n          node.hierarchyEnumerated = false;\n        }\n      }\n    }\n  };\n\n  /**\n   * This is the main function to layout the nodes in a hierarchical way.\n   * It checks if the node details are supplied correctly\n   *\n   * @private\n   */\n  exports._setupHierarchicalLayout = function() {\n    if (this.constants.hierarchicalLayout.enabled == true && this.nodeIndices.length > 0) {\n      // get the size of the largest hubs and check if the user has defined a level for a node.\n      var hubsize = 0;\n      var node, nodeId;\n      var definedLevel = false;\n      var undefinedLevel = false;\n\n      for (nodeId in this.nodes) {\n        if (this.nodes.hasOwnProperty(nodeId)) {\n          node = this.nodes[nodeId];\n          if (node.level != -1) {\n            definedLevel = true;\n          }\n          else {\n            undefinedLevel = true;\n          }\n          if (hubsize < node.edges.length) {\n            hubsize = node.edges.length;\n          }\n        }\n      }\n\n      // if the user defined some levels but not all, alert and run without hierarchical layout\n      if (undefinedLevel == true && definedLevel == true) {\n        throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");\n        this.zoomExtent({duration:0},true,this.constants.clustering.enabled);\n        if (!this.constants.clustering.enabled) {\n          this.start();\n        }\n      }\n      else {\n        // setup the system to use hierarchical method.\n        this._changeConstants();\n\n        // define levels if undefined by the users. Based on hubsize\n        if (undefinedLevel == true) {\n          if (this.constants.hierarchicalLayout.layout == "hubsize") {\n            this._determineLevels(hubsize);\n          }\n          else {\n            this._determineLevelsDirected(false);\n          }\n\n        }\n        // check the distribution of the nodes per level.\n        var distribution = this._getDistribution();\n\n        // place the nodes on the canvas. This also stablilizes the system.\n        this._placeNodesByHierarchy(distribution);\n\n        // start the simulation.\n        this.start();\n      }\n    }\n  };\n\n\n  /**\n   * This function places the nodes on the canvas based on the hierarchial distribution.\n   *\n   * @param {Object} distribution | obtained by the function this._getDistribution()\n   * @private\n   */\n  exports._placeNodesByHierarchy = function(distribution) {\n    var nodeId, node;\n\n    // start placing all the level 0 nodes first. Then recursively position their branches.\n    for (var level in distribution) {\n      if (distribution.hasOwnProperty(level)) {\n\n        for (nodeId in distribution[level].nodes) {\n          if (distribution[level].nodes.hasOwnProperty(nodeId)) {\n            node = distribution[level].nodes[nodeId];\n            if (this.constants.hierarchicalLayout.direction == "UD" || this.constants.hierarchicalLayout.direction == "DU") {\n              if (node.xFixed) {\n                node.x = distribution[level].minPos;\n                node.xFixed = false;\n\n                distribution[level].minPos += distribution[level].nodeSpacing;\n              }\n            }\n            else {\n              if (node.yFixed) {\n                node.y = distribution[level].minPos;\n                node.yFixed = false;\n\n                distribution[level].minPos += distribution[level].nodeSpacing;\n              }\n            }\n            this._placeBranchNodes(node.edges,node.id,distribution,node.level);\n          }\n        }\n      }\n    }\n\n    // stabilize the system after positioning. This function calls zoomExtent.\n    this._stabilize();\n  };\n\n\n  /**\n   * This function get the distribution of levels based on hubsize\n   *\n   * @returns {Object}\n   * @private\n   */\n  exports._getDistribution = function() {\n    var distribution = {};\n    var nodeId, node, level;\n\n    // we fix Y because the hierarchy is vertical, we fix X so we do not give a node an x position for a second time.\n    // the fix of X is removed after the x value has been set.\n    for (nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        node = this.nodes[nodeId];\n        node.xFixed = true;\n        node.yFixed = true;\n        if (this.constants.hierarchicalLayout.direction == "UD" || this.constants.hierarchicalLayout.direction == "DU") {\n          node.y = this.constants.hierarchicalLayout.levelSeparation*node.level;\n        }\n        else {\n          node.x = this.constants.hierarchicalLayout.levelSeparation*node.level;\n        }\n        if (distribution[node.level] === undefined) {\n          distribution[node.level] = {amount: 0, nodes: {}, minPos:0, nodeSpacing:0};\n        }\n        distribution[node.level].amount += 1;\n        distribution[node.level].nodes[nodeId] = node;\n      }\n    }\n\n    // determine the largest amount of nodes of all levels\n    var maxCount = 0;\n    for (level in distribution) {\n      if (distribution.hasOwnProperty(level)) {\n        if (maxCount < distribution[level].amount) {\n          maxCount = distribution[level].amount;\n        }\n      }\n    }\n\n    // set the initial position and spacing of each nodes accordingly\n    for (level in distribution) {\n      if (distribution.hasOwnProperty(level)) {\n        distribution[level].nodeSpacing = (maxCount + 1) * this.constants.hierarchicalLayout.nodeSpacing;\n        distribution[level].nodeSpacing /= (distribution[level].amount + 1);\n        distribution[level].minPos = distribution[level].nodeSpacing - (0.5 * (distribution[level].amount + 1) * distribution[level].nodeSpacing);\n      }\n    }\n\n    return distribution;\n  };\n\n\n  /**\n   * this function allocates nodes in levels based on the recursive branching from the largest hubs.\n   *\n   * @param hubsize\n   * @private\n   */\n  exports._determineLevels = function(hubsize) {\n    var nodeId, node;\n\n    // determine hubs\n    for (nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        node = this.nodes[nodeId];\n        if (node.edges.length == hubsize) {\n          node.level = 0;\n        }\n      }\n    }\n\n    // branch from hubs\n    for (nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        node = this.nodes[nodeId];\n        if (node.level == 0) {\n          this._setLevel(1,node.edges,node.id);\n        }\n      }\n    }\n  };\n\n\n\n  /**\n   * this function allocates nodes in levels based on the direction of the edges\n   *\n   * @param hubsize\n   * @private\n   */\n  exports._determineLevelsDirected = function() {\n    var nodeId, node, firstNode;\n    var minLevel = 10000;\n\n    // set first node to source\n    firstNode = this.nodes[this.nodeIndices[0]];\n    firstNode.level = minLevel;\n    this._setLevelDirected(minLevel,firstNode.edges,firstNode.id);\n\n    // get the minimum level\n    for (nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        node = this.nodes[nodeId];\n        minLevel = node.level < minLevel ? node.level : minLevel;\n      }\n    }\n\n    // subtract the minimum from the set so we have a range starting from 0\n    for (nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        node = this.nodes[nodeId];\n        node.level -= minLevel;\n      }\n    }\n  };\n\n\n  /**\n   * Since hierarchical layout does not support:\n   *    - smooth curves (based on the physics),\n   *    - clustering (based on dynamic node counts)\n   *\n   * We disable both features so there will be no problems.\n   *\n   * @private\n   */\n  exports._changeConstants = function() {\n    this.constants.clustering.enabled = false;\n    this.constants.physics.barnesHut.enabled = false;\n    this.constants.physics.hierarchicalRepulsion.enabled = true;\n    this._loadSelectedForceSolver();\n    if (this.constants.smoothCurves.enabled == true) {\n      this.constants.smoothCurves.dynamic = false;\n    }\n    this._configureSmoothCurves();\n\n    var config = this.constants.hierarchicalLayout;\n    config.levelSeparation = Math.abs(config.levelSeparation);\n    if (config.direction == "RL" || config.direction == "DU") {\n      config.levelSeparation *= -1;\n    }\n\n    if (config.direction == "RL" || config.direction == "LR") {\n      if (this.constants.smoothCurves.enabled == true) {\n        this.constants.smoothCurves.type = "vertical";\n      }\n    }\n    else {\n      if (this.constants.smoothCurves.enabled == true) {\n        this.constants.smoothCurves.type = "horizontal";\n      }\n    }\n  };\n\n\n  /**\n   * This is a recursively called function to enumerate the branches from the largest hubs and place the nodes\n   * on a X position that ensures there will be no overlap.\n   *\n   * @param edges\n   * @param parentId\n   * @param distribution\n   * @param parentLevel\n   * @private\n   */\n  exports._placeBranchNodes = function(edges, parentId, distribution, parentLevel) {\n    for (var i = 0; i < edges.length; i++) {\n      var childNode = null;\n      if (edges[i].toId == parentId) {\n        childNode = edges[i].from;\n      }\n      else {\n        childNode = edges[i].to;\n      }\n\n      // if a node is conneceted to another node on the same level (or higher (means lower level))!, this is not handled here.\n      var nodeMoved = false;\n      if (this.constants.hierarchicalLayout.direction == "UD" || this.constants.hierarchicalLayout.direction == "DU") {\n        if (childNode.xFixed && childNode.level > parentLevel) {\n          childNode.xFixed = false;\n          childNode.x = distribution[childNode.level].minPos;\n          nodeMoved = true;\n        }\n      }\n      else {\n        if (childNode.yFixed && childNode.level > parentLevel) {\n          childNode.yFixed = false;\n          childNode.y = distribution[childNode.level].minPos;\n          nodeMoved = true;\n        }\n      }\n\n      if (nodeMoved == true) {\n        distribution[childNode.level].minPos += distribution[childNode.level].nodeSpacing;\n        if (childNode.edges.length > 1) {\n          this._placeBranchNodes(childNode.edges,childNode.id,distribution,childNode.level);\n        }\n      }\n    }\n  };\n\n\n  /**\n   * this function is called recursively to enumerate the barnches of the largest hubs and give each node a level.\n   *\n   * @param level\n   * @param edges\n   * @param parentId\n   * @private\n   */\n  exports._setLevel = function(level, edges, parentId) {\n    for (var i = 0; i < edges.length; i++) {\n      var childNode = null;\n      if (edges[i].toId == parentId) {\n        childNode = edges[i].from;\n      }\n      else {\n        childNode = edges[i].to;\n      }\n      if (childNode.level == -1 || childNode.level > level) {\n        childNode.level = level;\n        if (childNode.edges.length > 1) {\n          this._setLevel(level+1, childNode.edges, childNode.id);\n        }\n      }\n    }\n  };\n\n\n  /**\n   * this function is called recursively to enumerate the branched of the first node and give each node a level based on edge direction\n   *\n   * @param level\n   * @param edges\n   * @param parentId\n   * @private\n   */\n  exports._setLevelDirected = function(level, edges, parentId) {\n    this.nodes[parentId].hierarchyEnumerated = true;\n    var childNode, direction;\n    for (var i = 0; i < edges.length; i++) {\n      direction = 1;\n      if (edges[i].toId == parentId) {\n        childNode = edges[i].from;\n        direction = -1;\n      }\n      else {\n        childNode = edges[i].to;\n      }\n      if (childNode.level == -1) {\n        childNode.level = level + direction;\n      }\n    }\n\n    for (var i = 0; i < edges.length; i++) {\n      if (edges[i].toId == parentId) {childNode = edges[i].from;}\n      else {childNode = edges[i].to;}\n\n      if (childNode.edges.length > 1 && childNode.hierarchyEnumerated === false) {\n        this._setLevelDirected(childNode.level, childNode.edges, childNode.id);\n      }\n    }\n  };\n\n\n  /**\n   * Unfix nodes\n   *\n   * @private\n   */\n  exports._restoreNodes = function() {\n    for (var nodeId in this.nodes) {\n      if (this.nodes.hasOwnProperty(nodeId)) {\n        this.nodes[nodeId].xFixed = false;\n        this.nodes[nodeId].yFixed = false;\n      }\n    }\n  };\n\n\n/***/ },\n/* 67 */\n/***/ function(module, exports, __webpack_require__) {\n\n  function webpackContext(req) {\n  \tthrow new Error("Cannot find module \'" + req + "\'.");\n  }\n  webpackContext.keys = function() { return []; };\n  webpackContext.resolve = webpackContext;\n  module.exports = webpackContext;\n  webpackContext.id = 67;\n\n\n/***/ },\n/* 68 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Calculate the forces the nodes apply on each other based on a repulsion field.\n   * This field is linearly approximated.\n   *\n   * @private\n   */\n  exports._calculateNodeForces = function () {\n    var dx, dy, angle, distance, fx, fy, combinedClusterSize,\n      repulsingForce, node1, node2, i, j;\n\n    var nodes = this.calculationNodes;\n    var nodeIndices = this.calculationNodeIndices;\n\n    // approximation constants\n    var a_base = -2 / 3;\n    var b = 4 / 3;\n\n    // repulsing forces between nodes\n    var nodeDistance = this.constants.physics.repulsion.nodeDistance;\n    var minimumDistance = nodeDistance;\n\n    // we loop from i over all but the last entree in the array\n    // j loops from i+1 to the last. This way we do not double count any of the indices, nor i == j\n    for (i = 0; i < nodeIndices.length - 1; i++) {\n      node1 = nodes[nodeIndices[i]];\n      for (j = i + 1; j < nodeIndices.length; j++) {\n        node2 = nodes[nodeIndices[j]];\n        combinedClusterSize = node1.clusterSize + node2.clusterSize - 2;\n\n        dx = node2.x - node1.x;\n        dy = node2.y - node1.y;\n        distance = Math.sqrt(dx * dx + dy * dy);\n\n        // same condition as BarnesHut, making sure nodes are never 100% overlapping.\n        if (distance == 0) {\n          distance = 0.1*Math.random();\n          dx = distance;\n        }\n\n        minimumDistance = (combinedClusterSize == 0) ? nodeDistance : (nodeDistance * (1 + combinedClusterSize * this.constants.clustering.distanceAmplification));\n        var a = a_base / minimumDistance;\n        if (distance < 2 * minimumDistance) {\n          if (distance < 0.5 * minimumDistance) {\n            repulsingForce = 1.0;\n          }\n          else {\n            repulsingForce = a * distance + b; // linear approx of  1 / (1 + Math.exp((distance / minimumDistance - 1) * steepness))\n          }\n\n          // amplify the repulsion for clusters.\n          repulsingForce *= (combinedClusterSize == 0) ? 1 : 1 + combinedClusterSize * this.constants.clustering.forceAmplification;\n          repulsingForce = repulsingForce / Math.max(distance,0.01*minimumDistance);\n\n          fx = dx * repulsingForce;\n          fy = dy * repulsingForce;\n          node1.fx -= fx;\n          node1.fy -= fy;\n          node2.fx += fx;\n          node2.fy += fy;\n\n        }\n      }\n    }\n  };\n\n\n/***/ },\n/* 69 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * Calculate the forces the nodes apply on eachother based on a repulsion field.\n   * This field is linearly approximated.\n   *\n   * @private\n   */\n  exports._calculateNodeForces = function () {\n    var dx, dy, distance, fx, fy,\n      repulsingForce, node1, node2, i, j;\n\n    var nodes = this.calculationNodes;\n    var nodeIndices = this.calculationNodeIndices;\n\n    // repulsing forces between nodes\n    var nodeDistance = this.constants.physics.hierarchicalRepulsion.nodeDistance;\n\n    // we loop from i over all but the last entree in the array\n    // j loops from i+1 to the last. This way we do not double count any of the indices, nor i == j\n    for (i = 0; i < nodeIndices.length - 1; i++) {\n      node1 = nodes[nodeIndices[i]];\n      for (j = i + 1; j < nodeIndices.length; j++) {\n        node2 = nodes[nodeIndices[j]];\n\n        // nodes only affect nodes on their level\n        if (node1.level == node2.level) {\n\n          dx = node2.x - node1.x;\n          dy = node2.y - node1.y;\n          distance = Math.sqrt(dx * dx + dy * dy);\n\n\n          var steepness = 0.05;\n          if (distance < nodeDistance) {\n            repulsingForce = -Math.pow(steepness*distance,2) + Math.pow(steepness*nodeDistance,2);\n          }\n          else {\n            repulsingForce = 0;\n          }\n            // normalize force with\n            if (distance == 0) {\n              distance = 0.01;\n            }\n            else {\n              repulsingForce = repulsingForce / distance;\n            }\n            fx = dx * repulsingForce;\n            fy = dy * repulsingForce;\n\n            node1.fx -= fx;\n            node1.fy -= fy;\n            node2.fx += fx;\n            node2.fy += fy;\n        }\n      }\n    }\n  };\n\n\n  /**\n   * this function calculates the effects of the springs in the case of unsmooth curves.\n   *\n   * @private\n   */\n  exports._calculateHierarchicalSpringForces = function () {\n    var edgeLength, edge, edgeId;\n    var dx, dy, fx, fy, springForce, distance;\n    var edges = this.edges;\n\n    var nodes = this.calculationNodes;\n    var nodeIndices = this.calculationNodeIndices;\n\n\n    for (var i = 0; i < nodeIndices.length; i++) {\n      var node1 = nodes[nodeIndices[i]];\n      node1.springFx = 0;\n      node1.springFy = 0;\n    }\n\n\n    // forces caused by the edges, modelled as springs\n    for (edgeId in edges) {\n      if (edges.hasOwnProperty(edgeId)) {\n        edge = edges[edgeId];\n        if (edge.connected) {\n          // only calculate forces if nodes are in the same sector\n          if (this.nodes.hasOwnProperty(edge.toId) && this.nodes.hasOwnProperty(edge.fromId)) {\n            edgeLength = edge.physics.springLength;\n            // this implies that the edges between big clusters are longer\n            edgeLength += (edge.to.clusterSize + edge.from.clusterSize - 2) * this.constants.clustering.edgeGrowth;\n\n            dx = (edge.from.x - edge.to.x);\n            dy = (edge.from.y - edge.to.y);\n            distance = Math.sqrt(dx * dx + dy * dy);\n\n            if (distance == 0) {\n              distance = 0.01;\n            }\n\n            // the 1/distance is so the fx and fy can be calculated without sine or cosine.\n            springForce = this.constants.physics.springConstant * (edgeLength - distance) / distance;\n\n            fx = dx * springForce;\n            fy = dy * springForce;\n\n\n\n            if (edge.to.level != edge.from.level) {\n              edge.to.springFx -= fx;\n              edge.to.springFy -= fy;\n              edge.from.springFx += fx;\n              edge.from.springFy += fy;\n            }\n            else {\n              var factor = 0.5;\n              edge.to.fx -= factor*fx;\n              edge.to.fy -= factor*fy;\n              edge.from.fx += factor*fx;\n              edge.from.fy += factor*fy;\n            }\n          }\n        }\n      }\n    }\n\n    // normalize spring forces\n    var springForce = 1;\n    var springFx, springFy;\n    for (i = 0; i < nodeIndices.length; i++) {\n      var node = nodes[nodeIndices[i]];\n      springFx = Math.min(springForce,Math.max(-springForce,node.springFx));\n      springFy = Math.min(springForce,Math.max(-springForce,node.springFy));\n\n      node.fx += springFx;\n      node.fy += springFy;\n    }\n\n    // retain energy balance\n    var totalFx = 0;\n    var totalFy = 0;\n    for (i = 0; i < nodeIndices.length; i++) {\n      var node = nodes[nodeIndices[i]];\n      totalFx += node.fx;\n      totalFy += node.fy;\n    }\n    var correctionFx = totalFx / nodeIndices.length;\n    var correctionFy = totalFy / nodeIndices.length;\n\n    for (i = 0; i < nodeIndices.length; i++) {\n      var node = nodes[nodeIndices[i]];\n      node.fx -= correctionFx;\n      node.fy -= correctionFy;\n    }\n\n  };\n\n/***/ },\n/* 70 */\n/***/ function(module, exports, __webpack_require__) {\n\n  /**\n   * This function calculates the forces the nodes apply on eachother based on a gravitational model.\n   * The Barnes Hut method is used to speed up this N-body simulation.\n   *\n   * @private\n   */\n  exports._calculateNodeForces = function() {\n    if (this.constants.physics.barnesHut.gravitationalConstant != 0) {\n      var node;\n      var nodes = this.calculationNodes;\n      var nodeIndices = this.calculationNodeIndices;\n      var nodeCount = nodeIndices.length;\n\n      this._formBarnesHutTree(nodes,nodeIndices);\n\n      var barnesHutTree = this.barnesHutTree;\n\n      // place the nodes one by one recursively\n      for (var i = 0; i < nodeCount; i++) {\n        node = nodes[nodeIndices[i]];\n        if (node.options.mass > 0) {\n        // starting with root is irrelevant, it never passes the BarnesHut condition\n          this._getForceContribution(barnesHutTree.root.children.NW,node);\n          this._getForceContribution(barnesHutTree.root.children.NE,node);\n          this._getForceContribution(barnesHutTree.root.children.SW,node);\n          this._getForceContribution(barnesHutTree.root.children.SE,node);\n        }\n      }\n    }\n  };\n\n\n  /**\n   * This function traverses the barnesHutTree. It checks when it can approximate distant nodes with their center of mass.\n   * If a region contains a single node, we check if it is not itself, then we apply the force.\n   *\n   * @param parentBranch\n   * @param node\n   * @private\n   */\n  exports._getForceContribution = function(parentBranch,node) {\n    // we get no force contribution from an empty region\n    if (parentBranch.childrenCount > 0) {\n      var dx,dy,distance;\n\n      // get the distance from the center of mass to the node.\n      dx = parentBranch.centerOfMass.x - node.x;\n      dy = parentBranch.centerOfMass.y - node.y;\n      distance = Math.sqrt(dx * dx + dy * dy);\n\n      // BarnesHut condition\n      // original condition : s/d < thetaInverted = passed  ===  d/s > 1/theta = passed\n      // calcSize = 1/s --\x3e d * 1/s > 1/theta = passed\n      if (distance * parentBranch.calcSize > this.constants.physics.barnesHut.thetaInverted) {\n        // duplicate code to reduce function calls to speed up program\n        if (distance == 0) {\n          distance = 0.1*Math.random();\n          dx = distance;\n        }\n        var gravityForce = this.constants.physics.barnesHut.gravitationalConstant * parentBranch.mass * node.options.mass / (distance * distance * distance);\n        var fx = dx * gravityForce;\n        var fy = dy * gravityForce;\n        node.fx += fx;\n        node.fy += fy;\n      }\n      else {\n        // Did not pass the condition, go into children if available\n        if (parentBranch.childrenCount == 4) {\n          this._getForceContribution(parentBranch.children.NW,node);\n          this._getForceContribution(parentBranch.children.NE,node);\n          this._getForceContribution(parentBranch.children.SW,node);\n          this._getForceContribution(parentBranch.children.SE,node);\n        }\n        else { // parentBranch must have only one node, if it was empty we wouldnt be here\n          if (parentBranch.children.data.id != node.id) { // if it is not self\n            // duplicate code to reduce function calls to speed up program\n            if (distance == 0) {\n              distance = 0.5*Math.random();\n              dx = distance;\n            }\n            var gravityForce = this.constants.physics.barnesHut.gravitationalConstant * parentBranch.mass * node.options.mass / (distance * distance * distance);\n            var fx = dx * gravityForce;\n            var fy = dy * gravityForce;\n            node.fx += fx;\n            node.fy += fy;\n          }\n        }\n      }\n    }\n  };\n\n  /**\n   * This function constructs the barnesHut tree recursively. It creates the root, splits it and starts placing the nodes.\n   *\n   * @param nodes\n   * @param nodeIndices\n   * @private\n   */\n  exports._formBarnesHutTree = function(nodes,nodeIndices) {\n    var node;\n    var nodeCount = nodeIndices.length;\n\n    var minX = Number.MAX_VALUE,\n      minY = Number.MAX_VALUE,\n      maxX =-Number.MAX_VALUE,\n      maxY =-Number.MAX_VALUE;\n\n    // get the range of the nodes\n    for (var i = 0; i < nodeCount; i++) {\n      var x = nodes[nodeIndices[i]].x;\n      var y = nodes[nodeIndices[i]].y;\n      if (nodes[nodeIndices[i]].options.mass > 0) {\n        if (x < minX) { minX = x; }\n        if (x > maxX) { maxX = x; }\n        if (y < minY) { minY = y; }\n        if (y > maxY) { maxY = y; }\n      }\n    }\n    // make the range a square\n    var sizeDiff = Math.abs(maxX - minX) - Math.abs(maxY - minY); // difference between X and Y\n    if (sizeDiff > 0) {minY -= 0.5 * sizeDiff; maxY += 0.5 * sizeDiff;} // xSize > ySize\n    else              {minX += 0.5 * sizeDiff; maxX -= 0.5 * sizeDiff;} // xSize < ySize\n\n\n    var minimumTreeSize = 1e-5;\n    var rootSize = Math.max(minimumTreeSize,Math.abs(maxX - minX));\n    var halfRootSize = 0.5 * rootSize;\n    var centerX = 0.5 * (minX + maxX), centerY = 0.5 * (minY + maxY);\n\n    // construct the barnesHutTree\n    var barnesHutTree = {\n      root:{\n        centerOfMass: {x:0, y:0},\n        mass:0,\n        range: {\n          minX: centerX-halfRootSize,maxX:centerX+halfRootSize,\n          minY: centerY-halfRootSize,maxY:centerY+halfRootSize\n        },\n        size: rootSize,\n        calcSize: 1 / rootSize,\n        children: { data:null},\n        maxWidth: 0,\n        level: 0,\n        childrenCount: 4\n      }\n    };\n    this._splitBranch(barnesHutTree.root);\n\n    // place the nodes one by one recursively\n    for (i = 0; i < nodeCount; i++) {\n      node = nodes[nodeIndices[i]];\n      if (node.options.mass > 0) {\n        this._placeInTree(barnesHutTree.root,node);\n      }\n    }\n\n    // make global\n    this.barnesHutTree = barnesHutTree\n  };\n\n\n  /**\n   * this updates the mass of a branch. this is increased by adding a node.\n   *\n   * @param parentBranch\n   * @param node\n   * @private\n   */\n  exports._updateBranchMass = function(parentBranch, node) {\n    var totalMass = parentBranch.mass + node.options.mass;\n    var totalMassInv = 1/totalMass;\n\n    parentBranch.centerOfMass.x = parentBranch.centerOfMass.x * parentBranch.mass + node.x * node.options.mass;\n    parentBranch.centerOfMass.x *= totalMassInv;\n\n    parentBranch.centerOfMass.y = parentBranch.centerOfMass.y * parentBranch.mass + node.y * node.options.mass;\n    parentBranch.centerOfMass.y *= totalMassInv;\n\n    parentBranch.mass = totalMass;\n    var biggestSize = Math.max(Math.max(node.height,node.radius),node.width);\n    parentBranch.maxWidth = (parentBranch.maxWidth < biggestSize) ? biggestSize : parentBranch.maxWidth;\n\n  };\n\n\n  /**\n   * determine in which branch the node will be placed.\n   *\n   * @param parentBranch\n   * @param node\n   * @param skipMassUpdate\n   * @private\n   */\n  exports._placeInTree = function(parentBranch,node,skipMassUpdate) {\n    if (skipMassUpdate != true || skipMassUpdate === undefined) {\n      // update the mass of the branch.\n      this._updateBranchMass(parentBranch,node);\n    }\n\n    if (parentBranch.children.NW.range.maxX > node.x) { // in NW or SW\n      if (parentBranch.children.NW.range.maxY > node.y) { // in NW\n        this._placeInRegion(parentBranch,node,"NW");\n      }\n      else { // in SW\n        this._placeInRegion(parentBranch,node,"SW");\n      }\n    }\n    else { // in NE or SE\n      if (parentBranch.children.NW.range.maxY > node.y) { // in NE\n        this._placeInRegion(parentBranch,node,"NE");\n      }\n      else { // in SE\n        this._placeInRegion(parentBranch,node,"SE");\n      }\n    }\n  };\n\n\n  /**\n   * actually place the node in a region (or branch)\n   *\n   * @param parentBranch\n   * @param node\n   * @param region\n   * @private\n   */\n  exports._placeInRegion = function(parentBranch,node,region) {\n    switch (parentBranch.children[region].childrenCount) {\n      case 0: // place node here\n        parentBranch.children[region].children.data = node;\n        parentBranch.children[region].childrenCount = 1;\n        this._updateBranchMass(parentBranch.children[region],node);\n        break;\n      case 1: // convert into children\n        // if there are two nodes exactly overlapping (on init, on opening of cluster etc.)\n        // we move one node a pixel and we do not put it in the tree.\n        if (parentBranch.children[region].children.data.x == node.x &&\n            parentBranch.children[region].children.data.y == node.y) {\n          node.x += Math.random();\n          node.y += Math.random();\n        }\n        else {\n          this._splitBranch(parentBranch.children[region]);\n          this._placeInTree(parentBranch.children[region],node);\n        }\n        break;\n      case 4: // place in branch\n        this._placeInTree(parentBranch.children[region],node);\n        break;\n    }\n  };\n\n\n  /**\n   * this function splits a branch into 4 sub branches. If the branch contained a node, we place it in the subbranch\n   * after the split is complete.\n   *\n   * @param parentBranch\n   * @private\n   */\n  exports._splitBranch = function(parentBranch) {\n    // if the branch is shaded with a node, replace the node in the new subset.\n    var containedNode = null;\n    if (parentBranch.childrenCount == 1) {\n      containedNode = parentBranch.children.data;\n      parentBranch.mass = 0; parentBranch.centerOfMass.x = 0; parentBranch.centerOfMass.y = 0;\n    }\n    parentBranch.childrenCount = 4;\n    parentBranch.children.data = null;\n    this._insertRegion(parentBranch,"NW");\n    this._insertRegion(parentBranch,"NE");\n    this._insertRegion(parentBranch,"SW");\n    this._insertRegion(parentBranch,"SE");\n\n    if (containedNode != null) {\n      this._placeInTree(parentBranch,containedNode);\n    }\n  };\n\n\n  /**\n   * This function subdivides the region into four new segments.\n   * Specifically, this inserts a single new segment.\n   * It fills the children section of the parentBranch\n   *\n   * @param parentBranch\n   * @param region\n   * @param parentRange\n   * @private\n   */\n  exports._insertRegion = function(parentBranch, region) {\n    var minX,maxX,minY,maxY;\n    var childSize = 0.5 * parentBranch.size;\n    switch (region) {\n      case "NW":\n        minX = parentBranch.range.minX;\n        maxX = parentBranch.range.minX + childSize;\n        minY = parentBranch.range.minY;\n        maxY = parentBranch.range.minY + childSize;\n        break;\n      case "NE":\n        minX = parentBranch.range.minX + childSize;\n        maxX = parentBranch.range.maxX;\n        minY = parentBranch.range.minY;\n        maxY = parentBranch.range.minY + childSize;\n        break;\n      case "SW":\n        minX = parentBranch.range.minX;\n        maxX = parentBranch.range.minX + childSize;\n        minY = parentBranch.range.minY + childSize;\n        maxY = parentBranch.range.maxY;\n        break;\n      case "SE":\n        minX = parentBranch.range.minX + childSize;\n        maxX = parentBranch.range.maxX;\n        minY = parentBranch.range.minY + childSize;\n        maxY = parentBranch.range.maxY;\n        break;\n    }\n\n\n    parentBranch.children[region] = {\n      centerOfMass:{x:0,y:0},\n      mass:0,\n      range:{minX:minX,maxX:maxX,minY:minY,maxY:maxY},\n      size: 0.5 * parentBranch.size,\n      calcSize: 2 * parentBranch.calcSize,\n      children: {data:null},\n      maxWidth: 0,\n      level: parentBranch.level+1,\n      childrenCount: 0\n    };\n  };\n\n\n  /**\n   * This function is for debugging purposed, it draws the tree.\n   *\n   * @param ctx\n   * @param color\n   * @private\n   */\n  exports._drawTree = function(ctx,color) {\n    if (this.barnesHutTree !== undefined) {\n\n      ctx.lineWidth = 1;\n\n      this._drawBranch(this.barnesHutTree.root,ctx,color);\n    }\n  };\n\n\n  /**\n   * This function is for debugging purposes. It draws the branches recursively.\n   *\n   * @param branch\n   * @param ctx\n   * @param color\n   * @private\n   */\n  exports._drawBranch = function(branch,ctx,color) {\n    if (color === undefined) {\n      color = "#FF0000";\n    }\n\n    if (branch.childrenCount == 4) {\n      this._drawBranch(branch.children.NW,ctx);\n      this._drawBranch(branch.children.NE,ctx);\n      this._drawBranch(branch.children.SE,ctx);\n      this._drawBranch(branch.children.SW,ctx);\n    }\n    ctx.strokeStyle = color;\n    ctx.beginPath();\n    ctx.moveTo(branch.range.minX,branch.range.minY);\n    ctx.lineTo(branch.range.maxX,branch.range.minY);\n    ctx.stroke();\n\n    ctx.beginPath();\n    ctx.moveTo(branch.range.maxX,branch.range.minY);\n    ctx.lineTo(branch.range.maxX,branch.range.maxY);\n    ctx.stroke();\n\n    ctx.beginPath();\n    ctx.moveTo(branch.range.maxX,branch.range.maxY);\n    ctx.lineTo(branch.range.minX,branch.range.maxY);\n    ctx.stroke();\n\n    ctx.beginPath();\n    ctx.moveTo(branch.range.minX,branch.range.maxY);\n    ctx.lineTo(branch.range.minX,branch.range.minY);\n    ctx.stroke();\n\n    /*\n     if (branch.mass > 0) {\n     ctx.circle(branch.centerOfMass.x, branch.centerOfMass.y, 3*branch.mass);\n     ctx.stroke();\n     }\n     */\n  };\n\n\n/***/ },\n/* 71 */\n/***/ function(module, exports, __webpack_require__) {\n\n  module.exports = function(module) {\n  \tif(!module.webpackPolyfill) {\n  \t\tmodule.deprecate = function() {};\n  \t\tmodule.paths = [];\n  \t\t// module.parent = undefined by default\n  \t\tmodule.children = [];\n  \t\tmodule.webpackPolyfill = 1;\n  \t}\n  \treturn module;\n  }\n\n\n/***/ }\n/******/ ])\n});\n;\n\n//@filename {Foo} fileName ./html/lib/vis/dist/vis.min.js\n\n/**\n * vis.js\n * https://github.com/almende/vis\n *\n * A dynamic, browser-based visualization library.\n *\n * @version 3.12.0\n * @date    2015-04-07\n *\n * @license\n * Copyright (C) 2011-2014 Almende B.V, http://almende.com\n *\n * Vis.js is dual licensed under both\n *\n * * The Apache 2.0 License\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * and\n *\n * * The MIT License\n *   http://opensource.org/licenses/MIT\n *\n * Vis.js may be distributed under either license.\n */\n"use strict";!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):"object"==typeof exports?exports.vis=e():t.vis=e()}(this,function(){return function(t){function e(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){e.util=i(1),e.DOMutil=i(2),e.DataSet=i(3),e.DataView=i(4),e.Queue=i(5),e.Graph3d=i(6),e.graph3d={Camera:i(7),Filter:i(8),Point2d:i(9),Point3d:i(10),Slider:i(11),StepNumber:i(12)},e.Timeline=i(13),e.Graph2d=i(14),e.timeline={DateUtil:i(15),DataStep:i(16),Range:i(17),stack:i(18),TimeStep:i(19),components:{items:{Item:i(20),BackgroundItem:i(21),BoxItem:i(22),PointItem:i(23),RangeItem:i(24)},Component:i(25),CurrentTime:i(26),CustomTime:i(27),DataAxis:i(28),GraphGroup:i(29),Group:i(30),BackgroundGroup:i(31),ItemSet:i(32),Legend:i(33),LineGraph:i(34),TimeAxis:i(35)}},e.Network=i(36),e.network={Edge:i(37),Groups:i(38),Images:i(39),Node:i(40),Popup:i(41),dotparser:i(42),gephiParser:i(43)},e.Graph=function(){throw new Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)")},e.moment=i(44),e.hammer=i(45)},function(t,e,i){var s=i(44);e.isNumber=function(t){return t instanceof Number||"number"==typeof t},e.giveRange=function(t,e,i,s){if(e==t)return.5;var o=1/(e-t);return Math.max(0,(s-t)*o)},e.isString=function(t){return t instanceof String||"string"==typeof t},e.isDate=function(t){if(t instanceof Date)return!0;if(e.isString(t)){var i=o.exec(t);if(i)return!0;if(!isNaN(Date.parse(t)))return!0}return!1},e.isDataTable=function(t){return"undefined"!=typeof google&&google.visualization&&google.visualization.DataTable&&t instanceof google.visualization.DataTable},e.randomUUID=function(){var t=function(){return Math.floor(65536*Math.random()).toString(16)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},e.extend=function(t,e){for(var i=1,s=arguments.length;s>i;i++){var o=arguments[i];for(var n in o)o.hasOwnProperty(n)&&(t[n]=o[n])}return t},e.selectiveExtend=function(t,e,i){if(!Array.isArray(t))throw new Error("Array with property names expected as first argument");for(var s=2;s<arguments.length;s++)for(var o=arguments[s],n=0;n<t.length;n++){var r=t[n];o.hasOwnProperty(r)&&(e[r]=o[r])}return e},e.selectiveDeepExtend=function(t,i,s){if(Array.isArray(s))throw new TypeError("Arrays are not supported by deepExtend");for(var o=2;o<arguments.length;o++)for(var n=arguments[o],r=0;r<t.length;r++){var a=t[r];if(n.hasOwnProperty(a))if(s[a]&&s[a].constructor===Object)void 0===i[a]&&(i[a]={}),i[a].constructor===Object?e.deepExtend(i[a],s[a]):i[a]=s[a];else{if(Array.isArray(s[a]))throw new TypeError("Arrays are not supported by deepExtend");i[a]=s[a]}}return i},e.selectiveNotDeepExtend=function(t,i,s){if(Array.isArray(s))throw new TypeError("Arrays are not supported by deepExtend");for(var o in s)if(s.hasOwnProperty(o)&&-1==t.indexOf(o))if(s[o]&&s[o].constructor===Object)void 0===i[o]&&(i[o]={}),i[o].constructor===Object?e.deepExtend(i[o],s[o]):i[o]=s[o];else{if(Array.isArray(s[o]))throw new TypeError("Arrays are not supported by deepExtend");i[o]=s[o]}return i},e.deepExtend=function(t,i){if(Array.isArray(i))throw new TypeError("Arrays are not supported by deepExtend");for(var s in i)if(i.hasOwnProperty(s))if(i[s]&&i[s].constructor===Object)void 0===t[s]&&(t[s]={}),t[s].constructor===Object?e.deepExtend(t[s],i[s]):t[s]=i[s];else{if(Array.isArray(i[s]))throw new TypeError("Arrays are not supported by deepExtend");t[s]=i[s]}return t},e.equalArray=function(t,e){if(t.length!=e.length)return!1;for(var i=0,s=t.length;s>i;i++)if(t[i]!=e[i])return!1;return!0},e.convert=function(t,i){var n;if(void 0===t)return void 0;if(null===t)return null;if(!i)return t;if("string"!=typeof i&&!(i instanceof String))throw new Error("Type must be a string");switch(i){case"boolean":case"Boolean":return Boolean(t);case"number":case"Number":return Number(t.valueOf());case"string":case"String":return String(t);case"Date":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return new Date(t.valueOf());if(s.isMoment(t))return new Date(t.valueOf());if(e.isString(t))return n=o.exec(t),n?new Date(Number(n[1])):s(t).toDate();throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"Moment":if(e.isNumber(t))return s(t);if(t instanceof Date)return s(t.valueOf());if(s.isMoment(t))return s(t);if(e.isString(t))return n=o.exec(t),s(n?Number(n[1]):t);throw new Error("Cannot convert object of type "+e.getType(t)+" to type Date");case"ISODate":if(e.isNumber(t))return new Date(t);if(t instanceof Date)return t.toISOString();if(s.isMoment(t))return t.toDate().toISOString();if(e.isString(t))return n=o.exec(t),n?new Date(Number(n[1])).toISOString():new Date(t).toISOString();throw new Error("Cannot convert object of type "+e.getType(t)+" to type ISODate");case"ASPDate":if(e.isNumber(t))return"/Date("+t+")/";if(t instanceof Date)return"/Date("+t.valueOf()+")/";if(e.isString(t)){n=o.exec(t);var r;return r=n?new Date(Number(n[1])).valueOf():new Date(t).valueOf(),"/Date("+r+")/"}throw new Error("Cannot convert object of type "+e.getType(t)+" to type ASPDate");default:throw new Error(\'Unknown type "\'+i+\'"\')}};var o=/^\\/?Date\\((\\-?\\d+)/i;e.getType=function(t){var e=typeof t;return"object"==e?null==t?"null":t instanceof Boolean?"Boolean":t instanceof Number?"Number":t instanceof String?"String":Array.isArray(t)?"Array":t instanceof Date?"Date":"Object":"number"==e?"Number":"boolean"==e?"Boolean":"string"==e?"String":e},e.getAbsoluteLeft=function(t){return t.getBoundingClientRect().left+window.pageXOffset},e.getAbsoluteTop=function(t){return t.getBoundingClientRect().top+window.pageYOffset},e.addClassName=function(t,e){var i=t.className.split(" ");-1==i.indexOf(e)&&(i.push(e),t.className=i.join(" "))},e.removeClassName=function(t,e){var i=t.className.split(" "),s=i.indexOf(e);-1!=s&&(i.splice(s,1),t.className=i.join(" "))},e.forEach=function(t,e){var i,s;if(Array.isArray(t))for(i=0,s=t.length;s>i;i++)e(t[i],i,t);else for(i in t)t.hasOwnProperty(i)&&e(t[i],i,t)},e.toArray=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e},e.updateProperty=function(t,e,i){return t[e]!==i?(t[e]=i,!0):!1},e.addEventListener=function(t,e,i,s){t.addEventListener?(void 0===s&&(s=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.addEventListener(e,i,s)):t.attachEvent("on"+e,i)},e.removeEventListener=function(t,e,i,s){t.removeEventListener?(void 0===s&&(s=!1),"mousewheel"===e&&navigator.userAgent.indexOf("Firefox")>=0&&(e="DOMMouseScroll"),t.removeEventListener(e,i,s)):t.detachEvent("on"+e,i)},e.preventDefault=function(t){t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1},e.getTarget=function(t){t||(t=window.event);var e;return t.target?e=t.target:t.srcElement&&(e=t.srcElement),void 0!=e.nodeType&&3==e.nodeType&&(e=e.parentNode),e},e.hasParent=function(t,e){for(var i=t;i;){if(i===e)return!0;i=i.parentNode}return!1},e.option={},e.option.asBoolean=function(t,e){return"function"==typeof t&&(t=t()),null!=t?0!=t:e||null},e.option.asNumber=function(t,e){return"function"==typeof t&&(t=t()),null!=t?Number(t)||e||null:e||null},e.option.asString=function(t,e){return"function"==typeof t&&(t=t()),null!=t?String(t):e||null},e.option.asSize=function(t,i){return"function"==typeof t&&(t=t()),e.isString(t)?t:e.isNumber(t)?t+"px":i||null},e.option.asElement=function(t,e){return"function"==typeof t&&(t=t()),t||e||null},e.hexToRGB=function(t){var e=/^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;t=t.replace(e,function(t,e,i,s){return e+e+i+i+s+s});var i=/^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},e.overrideOpacity=function(t,i){if(-1!=t.indexOf("rgb")){var s=t.substr(t.indexOf("(")+1).replace(")","").split(",");return"rgba("+s[0]+","+s[1]+","+s[2]+","+i+")"}var s=e.hexToRGB(t);return null==s?t:"rgba("+s.r+","+s.g+","+s.b+","+i+")"},e.RGBToHex=function(t,e,i){return"#"+((1<<24)+(t<<16)+(e<<8)+i).toString(16).slice(1)},e.parseColor=function(t){var i;if(e.isString(t)){if(e.isValidRGB(t)){var s=t.substr(4).substr(0,t.length-5).split(",");t=e.RGBToHex(s[0],s[1],s[2])}if(e.isValidHex(t)){var o=e.hexToHSV(t),n={h:o.h,s:.45*o.s,v:Math.min(1,1.05*o.v)},r={h:o.h,s:Math.min(1,1.25*o.v),v:.6*o.v},a=e.HSVToHex(r.h,r.h,r.v),h=e.HSVToHex(n.h,n.s,n.v);i={background:t,border:a,highlight:{background:h,border:a},hover:{background:h,border:a}}}else i={background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else i={},i.background=t.background||"white",i.border=t.border||i.background,e.isString(t.highlight)?i.highlight={border:t.highlight,background:t.highlight}:(i.highlight={},i.highlight.background=t.highlight&&t.highlight.background||i.background,i.highlight.border=t.highlight&&t.highlight.border||i.border),e.isString(t.hover)?i.hover={border:t.hover,background:t.hover}:(i.hover={},i.hover.background=t.hover&&t.hover.background||i.background,i.hover.border=t.hover&&t.hover.border||i.border);return i},e.RGBToHSV=function(t,e,i){t/=255,e/=255,i/=255;var s=Math.min(t,Math.min(e,i)),o=Math.max(t,Math.max(e,i));if(s==o)return{h:0,s:0,v:s};var n=t==s?e-i:i==s?t-e:i-t,r=t==s?3:i==s?1:5,a=60*(r-n/(o-s))/360,h=(o-s)/o,d=o;return{h:a,s:h,v:d}};var n={split:function(t){var e={};return t.split(";").forEach(function(t){if(""!=t.trim()){var i=t.split(":"),s=i[0].trim(),o=i[1].trim();e[s]=o}}),e},join:function(t){return Object.keys(t).map(function(e){return e+": "+t[e]}).join("; ")}};e.addCssText=function(t,i){var s=n.split(t.style.cssText),o=n.split(i),r=e.extend(s,o);t.style.cssText=n.join(r)},e.removeCssText=function(t,e){var i=n.split(t.style.cssText),s=n.split(e);for(var o in s)s.hasOwnProperty(o)&&delete i[o];t.style.cssText=n.join(i)},e.HSVToRGB=function(t,e,i){var s,o,n,r=Math.floor(6*t),a=6*t-r,h=i*(1-e),d=i*(1-a*e),l=i*(1-(1-a)*e);switch(r%6){case 0:s=i,o=l,n=h;break;case 1:s=d,o=i,n=h;break;case 2:s=h,o=i,n=l;break;case 3:s=h,o=d,n=i;break;case 4:s=l,o=h,n=i;break;case 5:s=i,o=h,n=d}return{r:Math.floor(255*s),g:Math.floor(255*o),b:Math.floor(255*n)}},e.HSVToHex=function(t,i,s){var o=e.HSVToRGB(t,i,s);return e.RGBToHex(o.r,o.g,o.b)},e.hexToHSV=function(t){var i=e.hexToRGB(t);return e.RGBToHSV(i.r,i.g,i.b)},e.isValidHex=function(t){var e=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t);return e},e.isValidRGB=function(t){t=t.replace(" ","");var e=/rgb\\((\\d{1,3}),(\\d{1,3}),(\\d{1,3})\\)/i.test(t);return e},e.selectiveBridgeObject=function(t,i){if("object"==typeof i){for(var s=Object.create(i),o=0;o<t.length;o++)i.hasOwnProperty(t[o])&&"object"==typeof i[t[o]]&&(s[t[o]]=e.bridgeObject(i[t[o]]));return s}return null},e.bridgeObject=function(t){if("object"==typeof t){var i=Object.create(t);for(var s in t)t.hasOwnProperty(s)&&"object"==typeof t[s]&&(i[s]=e.bridgeObject(t[s]));return i}return null},e.mergeOptions=function(t,e,i){if(void 0!==e[i])if("boolean"==typeof e[i])t[i].enabled=e[i];else{t[i].enabled=!0;for(var s in e[i])e[i].hasOwnProperty(s)&&(t[i][s]=e[i][s])}},e.binarySearchCustom=function(t,e,i,s){for(var o=1e4,n=0,r=0,a=t.length-1;a>=r&&o>n;){var h=Math.floor((r+a)/2),d=t[h],l=void 0===s?d[i]:d[i][s],c=e(l);if(0==c)return h;-1==c?r=h+1:a=h-1,n++}return-1},e.binarySearchValue=function(t,e,i,s){for(var o,n,r,a,h=1e4,d=0,l=0,c=t.length-1;c>=l&&h>d;){if(a=Math.floor(.5*(c+l)),o=t[Math.max(0,a-1)][i],n=t[a][i],r=t[Math.min(t.length-1,a+1)][i],n==e)return a;if(e>o&&n>e)return"before"==s?Math.max(0,a-1):a;if(e>n&&r>e)return"before"==s?a:Math.min(t.length-1,a+1);e>n?l=a+1:c=a-1,d++}return-1},e.easeInOutQuad=function(t,e,i,s){var o=i-e;return t/=s/2,1>t?o/2*t*t+e:(t--,-o/2*(t*(t-2)-1)+e)},e.easingFunctions={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}}},function(t,e,i){e.prepareElements=function(t){for(var e in t)t.hasOwnProperty(e)&&(t[e].redundant=t[e].used,t[e].used=[])},e.cleanupElements=function(t){for(var e in t)if(t.hasOwnProperty(e)&&t[e].redundant){for(var i=0;i<t[e].redundant.length;i++)t[e].redundant[i].parentNode.removeChild(t[e].redundant[i]);t[e].redundant=[]}},e.getSVGElement=function(t,e,i){var s;return e.hasOwnProperty(t)?e[t].redundant.length>0?(s=e[t].redundant[0],e[t].redundant.shift()):(s=document.createElementNS("http://www.w3.org/2000/svg",t),i.appendChild(s)):(s=document.createElementNS("http://www.w3.org/2000/svg",t),e[t]={used:[],redundant:[]},i.appendChild(s)),e[t].used.push(s),s},e.getDOMElement=function(t,e,i,s){var o;return e.hasOwnProperty(t)?e[t].redundant.length>0?(o=e[t].redundant[0],e[t].redundant.shift()):(o=document.createElement(t),void 0!==s?i.insertBefore(o,s):i.appendChild(o)):(o=document.createElement(t),e[t]={used:[],redundant:[]},void 0!==s?i.insertBefore(o,s):i.appendChild(o)),e[t].used.push(o),o},e.drawPoint=function(t,i,s,o,n,r){var a;"circle"==s.options.drawPoints.style?(a=e.getSVGElement("circle",o,n),a.setAttributeNS(null,"cx",t),a.setAttributeNS(null,"cy",i),a.setAttributeNS(null,"r",.5*s.options.drawPoints.size)):(a=e.getSVGElement("rect",o,n),a.setAttributeNS(null,"x",t-.5*s.options.drawPoints.size),a.setAttributeNS(null,"y",i-.5*s.options.drawPoints.size),a.setAttributeNS(null,"width",s.options.drawPoints.size),a.setAttributeNS(null,"height",s.options.drawPoints.size)),void 0!==s.options.drawPoints.styles&&a.setAttributeNS(null,"style",s.group.options.drawPoints.styles),a.setAttributeNS(null,"class",s.className+" point");var h=e.getSVGElement("text",o,n);return r&&(r.xOffset&&(t+=r.xOffset),r.yOffset&&(i+=r.yOffset),r.content&&(h.textContent=r.content),r.className&&h.setAttributeNS(null,"class",r.className+" label")),h.setAttributeNS(null,"x",t),h.setAttributeNS(null,"y",i),a},e.drawBar=function(t,i,s,o,n,r,a){if(0!=o){0>o&&(o*=-1,i-=o);var h=e.getSVGElement("rect",r,a);h.setAttributeNS(null,"x",t-.5*s),h.setAttributeNS(null,"y",i),h.setAttributeNS(null,"width",s),h.setAttributeNS(null,"height",o),h.setAttributeNS(null,"class",n)}}},function(t,e,i){function s(t,e){if(!t||Array.isArray(t)||o.isDataTable(t)||(e=t,t=null),this._options=e||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var i in this._options.type)if(this._options.type.hasOwnProperty(i)){var s=this._options.type[i];this._type[i]="Date"==s||"ISODate"==s||"ASPDate"==s?"Date":s}if(this._options.convert)throw new Error(\'Option "convert" is deprecated. Use "type" instead.\');this._subscribers={},t&&this.add(t),this.setOptions(e)}var o=i(1),n=i(5);s.prototype.setOptions=function(t){t&&void 0!==t.queue&&(t.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=n.extend(this,{replace:["add","update","remove"]})),"object"==typeof t.queue&&this._queue.setOptions(t.queue)))},s.prototype.on=function(t,e){var i=this._subscribers[t];i||(i=[],this._subscribers[t]=i),i.push({callback:e})},s.prototype.subscribe=s.prototype.on,s.prototype.off=function(t,e){var i=this._subscribers[t];i&&(this._subscribers[t]=i.filter(function(t){return t.callback!=e}))},s.prototype.unsubscribe=s.prototype.off,s.prototype._trigger=function(t,e,i){if("*"==t)throw new Error("Cannot trigger event *");var s=[];t in this._subscribers&&(s=s.concat(this._subscribers[t])),"*"in this._subscribers&&(s=s.concat(this._subscribers["*"]));for(var o=0;o<s.length;o++){var n=s[o];n.callback&&n.callback(t,e,i||null)}},s.prototype.add=function(t,e){var i,s=[],n=this;if(Array.isArray(t))for(var r=0,a=t.length;a>r;r++)i=n._addItem(t[r]),s.push(i);else if(o.isDataTable(t))for(var h=this._getColumnNames(t),d=0,l=t.getNumberOfRows();l>d;d++){for(var c={},p=0,u=h.length;u>p;p++){var m=h[p];c[m]=t.getValue(d,p)}i=n._addItem(c),s.push(i)}else{if(!(t instanceof Object))throw new Error("Unknown dataType");i=n._addItem(t),s.push(i)}return s.length&&this._trigger("add",{items:s},e),s},s.prototype.update=function(t,e){var i=[],s=[],n=[],r=this,a=r._fieldId,h=function(t){var e=t[a];r._data[e]?(e=r._updateItem(t),s.push(e),n.push(t)):(e=r._addItem(t),i.push(e))};if(Array.isArray(t))for(var d=0,l=t.length;l>d;d++)h(t[d]);else if(o.isDataTable(t))for(var c=this._getColumnNames(t),p=0,u=t.getNumberOfRows();u>p;p++){for(var m={},f=0,g=c.length;g>f;f++){var v=c[f];m[v]=t.getValue(p,f)}h(m)}else{if(!(t instanceof Object))throw new Error("Unknown dataType");h(t)}return i.length&&this._trigger("add",{items:i},e),s.length&&this._trigger("update",{items:s,data:n},e),i.concat(s)},s.prototype.get=function(t){var e,i,s,n,r=this,a=o.getType(arguments[0]);"String"==a||"Number"==a?(e=arguments[0],s=arguments[1],n=arguments[2]):"Array"==a?(i=arguments[0],s=arguments[1],n=arguments[2]):(s=arguments[0],n=arguments[1]);var h;if(s&&s.returnType){var d=["DataTable","Array","Object"];if(h=-1==d.indexOf(s.returnType)?"Array":s.returnType,n&&h!=o.getType(n))throw new Error(\'Type of parameter "data" (\'+o.getType(n)+") does not correspond with specified options.type ("+s.type+")");if("DataTable"==h&&!o.isDataTable(n))throw new Error(\'Parameter "data" must be a DataTable when options.type is "DataTable"\')}else h=n&&"DataTable"==o.getType(n)?"DataTable":"Array";var l,c,p,u,m=s&&s.type||this._options.type,f=s&&s.filter,g=[];if(void 0!=e)l=r._getItem(e,m),f&&!f(l)&&(l=null);else if(void 0!=i)for(p=0,u=i.length;u>p;p++)l=r._getItem(i[p],m),(!f||f(l))&&g.push(l);else for(c in this._data)this._data.hasOwnProperty(c)&&(l=r._getItem(c,m),(!f||f(l))&&g.push(l));if(s&&s.order&&void 0==e&&this._sort(g,s.order),s&&s.fields){var v=s.fields;if(void 0!=e)l=this._filterFields(l,v);else for(p=0,u=g.length;u>p;p++)g[p]=this._filterFields(g[p],v)}if("DataTable"==h){var y=this._getColumnNames(n);if(void 0!=e)r._appendRow(n,y,l);else for(p=0;p<g.length;p++)r._appendRow(n,y,g[p]);return n}if("Object"==h){var b={};for(p=0;p<g.length;p++)b[g[p].id]=g[p];return b}if(void 0!=e)return l;if(n){for(p=0,u=g.length;u>p;p++)n.push(g[p]);return n}return g},s.prototype.getIds=function(t){var e,i,s,o,n,r=this._data,a=t&&t.filter,h=t&&t.order,d=t&&t.type||this._options.type,l=[];if(a)if(h){n=[];for(s in r)r.hasOwnProperty(s)&&(o=this._getItem(s,d),a(o)&&n.push(o));for(this._sort(n,h),e=0,i=n.length;i>e;e++)l[e]=n[e][this._fieldId]}else for(s in r)r.hasOwnProperty(s)&&(o=this._getItem(s,d),a(o)&&l.push(o[this._fieldId]));else if(h){n=[];for(s in r)r.hasOwnProperty(s)&&n.push(r[s]);for(this._sort(n,h),e=0,i=n.length;i>e;e++)l[e]=n[e][this._fieldId]}else for(s in r)r.hasOwnProperty(s)&&(o=r[s],l.push(o[this._fieldId]));return l},s.prototype.getDataSet=function(){return this},s.prototype.forEach=function(t,e){var i,s,o=e&&e.filter,n=e&&e.type||this._options.type,r=this._data;if(e&&e.order)for(var a=this.get(e),h=0,d=a.length;d>h;h++)i=a[h],s=i[this._fieldId],t(i,s);else for(s in r)r.hasOwnProperty(s)&&(i=this._getItem(s,n),(!o||o(i))&&t(i,s))},s.prototype.map=function(t,e){var i,s=e&&e.filter,o=e&&e.type||this._options.type,n=[],r=this._data;for(var a in r)r.hasOwnProperty(a)&&(i=this._getItem(a,o),(!s||s(i))&&n.push(t(i,a)));return e&&e.order&&this._sort(n,e.order),n},s.prototype._filterFields=function(t,e){if(!t)return t;var i={};if(Array.isArray(e))for(var s in t)t.hasOwnProperty(s)&&-1!=e.indexOf(s)&&(i[s]=t[s]);else for(var s in t)t.hasOwnProperty(s)&&e.hasOwnProperty(s)&&(i[e[s]]=t[s]);return i},s.prototype._sort=function(t,e){if(o.isString(e)){var i=e;t.sort(function(t,e){var s=t[i],o=e[i];return s>o?1:o>s?-1:0})}else{if("function"!=typeof e)throw new TypeError("Order must be a function or a string");t.sort(e)}},s.prototype.remove=function(t,e){var i,s,o,n=[];if(Array.isArray(t))for(i=0,s=t.length;s>i;i++)o=this._remove(t[i]),null!=o&&n.push(o);else o=this._remove(t),null!=o&&n.push(o);return n.length&&this._trigger("remove",{items:n},e),n},s.prototype._remove=function(t){if(o.isNumber(t)||o.isString(t)){if(this._data[t])return delete this._data[t],this.length--,t}else if(t instanceof Object){var e=t[this._fieldId];if(e&&this._data[e])return delete this._data[e],this.length--,e}return null},s.prototype.clear=function(t){var e=Object.keys(this._data);return this._data={},this.length=0,this._trigger("remove",{items:e},t),e},s.prototype.max=function(t){var e=this._data,i=null,s=null;for(var o in e)if(e.hasOwnProperty(o)){var n=e[o],r=n[t];null!=r&&(!i||r>s)&&(i=n,s=r)}return i},s.prototype.min=function(t){var e=this._data,i=null,s=null;for(var o in e)if(e.hasOwnProperty(o)){var n=e[o],r=n[t];null!=r&&(!i||s>r)&&(i=n,s=r)}return i},s.prototype.distinct=function(t){var e,i=this._data,s=[],n=this._options.type&&this._options.type[t]||null,r=0;for(var a in i)if(i.hasOwnProperty(a)){var h=i[a],d=h[t],l=!1;for(e=0;r>e;e++)if(s[e]==d){l=!0;break}l||void 0===d||(s[r]=d,r++)}if(n)for(e=0;e<s.length;e++)s[e]=o.convert(s[e],n);return s},s.prototype._addItem=function(t){var e=t[this._fieldId];if(void 0!=e){if(this._data[e])throw new Error("Cannot add item: item with id "+e+" already exists")}else e=o.randomUUID(),t[this._fieldId]=e;var i={};for(var s in t)if(t.hasOwnProperty(s)){var n=this._type[s];i[s]=o.convert(t[s],n)}return this._data[e]=i,this.length++,e},s.prototype._getItem=function(t,e){var i,s,n=this._data[t];if(!n)return null;var r={};if(e)for(i in n)n.hasOwnProperty(i)&&(s=n[i],r[i]=o.convert(s,e[i]));else for(i in n)n.hasOwnProperty(i)&&(s=n[i],r[i]=s);return r},s.prototype._updateItem=function(t){var e=t[this._fieldId];if(void 0==e)throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(t)+")");var i=this._data[e];if(!i)throw new Error("Cannot update item: no item with id "+e+" found");for(var s in t)if(t.hasOwnProperty(s)){var n=this._type[s];i[s]=o.convert(t[s],n)}return e},s.prototype._getColumnNames=function(t){for(var e=[],i=0,s=t.getNumberOfColumns();s>i;i++)e[i]=t.getColumnId(i)||t.getColumnLabel(i);return e},s.prototype._appendRow=function(t,e,i){for(var s=t.addRow(),o=0,n=e.length;n>o;o++){var r=e[o];t.setValue(s,o,i[r])}},t.exports=s},function(t,e,i){function s(t,e){this._data=null,this._ids={},this.length=0,this._options=e||{},this._fieldId="id",this._subscribers={};var i=this;this.listener=function(){i._onEvent.apply(i,arguments)},this.setData(t)}var o=i(1),n=i(3);s.prototype.setData=function(t){var e,i,s;if(this._data){this._data.unsubscribe&&this._data.unsubscribe("*",this.listener),e=[];for(var o in this._ids)this._ids.hasOwnProperty(o)&&e.push(o);this._ids={},this.length=0,this._trigger("remove",{items:e})}if(this._data=t,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",e=this._data.getIds({filter:this._options&&this._options.filter}),i=0,s=e.length;s>i;i++)o=e[i],this._ids[o]=!0;this.length=e.length,this._trigger("add",{items:e}),this._data.on&&this._data.on("*",this.listener)}},s.prototype.refresh=function(){for(var t,e=this._data.getIds({filter:this._options&&this._options.filter}),i={},s=[],o=[],n=0;n<e.length;n++)t=e[n],i[t]=!0,this._ids[t]||(s.push(t),this._ids[t]=!0,this.length++);for(t in this._ids)this._ids.hasOwnProperty(t)&&(i[t]||(o.push(t),delete this._ids[t],this.length--));s.length&&this._trigger("add",{items:s}),o.length&&this._trigger("remove",{items:o})},s.prototype.get=function(t){var e,i,s,n=this,r=o.getType(arguments[0]);"String"==r||"Number"==r||"Array"==r?(e=arguments[0],i=arguments[1],s=arguments[2]):(i=arguments[0],s=arguments[1]);var a=o.extend({},this._options,i);this._options.filter&&i&&i.filter&&(a.filter=function(t){return n._options.filter(t)&&i.filter(t)});var h=[];return void 0!=e&&h.push(e),h.push(a),h.push(s),this._data&&this._data.get.apply(this._data,h)},s.prototype.getIds=function(t){var e;if(this._data){var i,s=this._options.filter;i=t&&t.filter?s?function(e){return s(e)&&t.filter(e)}:t.filter:s,e=this._data.getIds({filter:i,order:t&&t.order})}else e=[];return e},s.prototype.getDataSet=function(){for(var t=this;t instanceof s;)t=t._data;return t||null},s.prototype._onEvent=function(t,e,i){var s,o,n,r,a=e&&e.items,h=this._data,d=[],l=[],c=[],p=[];if(a&&h){switch(t){case"add":for(s=0,o=a.length;o>s;s++)n=a[s],r=this.get(n),r&&(this._ids[n]=!0,l.push(n));break;case"update":for(s=0,o=a.length;o>s;s++)n=a[s],r=this.get(n),r?this._ids[n]?(c.push(n),d.push(e.data[s])):(this._ids[n]=!0,l.push(n)):this._ids[n]&&(delete this._ids[n],p.push(n));break;case"remove":for(s=0,o=a.length;o>s;s++)n=a[s],this._ids[n]&&(delete this._ids[n],p.push(n))}this.length+=l.length-p.length,l.length&&this._trigger("add",{items:l},i),c.length&&this._trigger("update",{items:c,data:d},i),p.length&&this._trigger("remove",{items:p},i)}},s.prototype.on=n.prototype.on,s.prototype.off=n.prototype.off,s.prototype._trigger=n.prototype._trigger,s.prototype.subscribe=s.prototype.on,s.prototype.unsubscribe=s.prototype.off,t.exports=s},function(t,e,i){function s(t){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(t)}s.prototype.setOptions=function(t){t&&"undefined"!=typeof t.delay&&(this.delay=t.delay),t&&"undefined"!=typeof t.max&&(this.max=t.max),this._flushIfNeeded()},s.extend=function(t,e){var i=new s(e);if(void 0!==t.flush)throw new Error("Target object already has a property flush");t.flush=function(){i.flush()};var o=[{name:"flush",original:void 0}];if(e&&e.replace)for(var n=0;n<e.replace.length;n++){var r=e.replace[n];o.push({name:r,original:t[r]}),i.replace(t,r)}return i._extended={object:t,methods:o},i},s.prototype.destroy=function(){if(this.flush(),this._extended){for(var t=this._extended.object,e=this._extended.methods,i=0;i<e.length;i++){var s=e[i];s.original?t[s.name]=s.original:delete t[s.name]}this._extended=null}},s.prototype.replace=function(t,e){var i=this,s=t[e];if(!s)throw new Error("Method "+e+" undefined");t[e]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.queue({args:t,fn:s,context:this})}},s.prototype.queue=function(t){this._queue.push("function"==typeof t?{fn:t}:t),this._flushIfNeeded()},s.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var t=this;this._timeout=setTimeout(function(){t.flush()},this.delay)}},s.prototype.flush=function(){for(;this._queue.length>0;){var t=this._queue.shift();t.fn.apply(t.context||t.fn,t.args||[])}},t.exports=s},function(t,e,i){function s(t,e,i){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=t,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z";var o=function(t){return t};this.xValueLabel=o,this.yValueLabel=o,this.zValueLabel=o,this.filterLabel="time",this.legendLabel="value",this.style=s.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=.5,this.animationInterval=1e3,this.animationPreload=!1,this.camera=new p,this.eye=new l(0,0,-1),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.colorAxis="#4D4D4D",this.colorGrid="#D3D3D3",this.colorDot="#7DC1FF",this.colorDotBorder="#3267D2",this.create(),this.setOptions(i),e&&this.setData(e)}function o(t){return"clientX"in t?t.clientX:t.targetTouches[0]&&t.targetTouches[0].clientX||0}function n(t){return"clientY"in t?t.clientY:t.targetTouches[0]&&t.targetTouches[0].clientY||0}var r=i(56),a=i(3),h=i(4),d=i(1),l=i(10),c=i(9),p=i(7),u=i(8),m=i(11),f=i(12);r(s.prototype),s.prototype._setScale=function(){this.scale=new l(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var t=(this.xMax+this.xMin)/2*this.scale.x,e=(this.yMax+this.yMin)/2*this.scale.y,i=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(t,e,i)},s.prototype._convert3Dto2D=function(t){var e=this._convertPointToTranslation(t);return this._convertTranslationToScreen(e)},s.prototype._convertPointToTranslation=function(t){var e=t.x*this.scale.x,i=t.y*this.scale.y,s=t.z*this.scale.z,o=this.camera.getCameraLocation().x,n=this.camera.getCameraLocation().y,r=this.camera.getCameraLocation().z,a=Math.sin(this.camera.getCameraRotation().x),h=Math.cos(this.camera.getCameraRotation().x),d=Math.sin(this.camera.getCameraRotation().y),c=Math.cos(this.camera.getCameraRotation().y),p=Math.sin(this.camera.getCameraRotation().z),u=Math.cos(this.camera.getCameraRotation().z),m=c*(p*(i-n)+u*(e-o))-d*(s-r),f=a*(c*(s-r)+d*(p*(i-n)+u*(e-o)))+h*(u*(i-n)-p*(e-o)),g=h*(c*(s-r)+d*(p*(i-n)+u*(e-o)))-a*(u*(i-n)-p*(e-o));return new l(m,f,g)},s.prototype._convertTranslationToScreen=function(t){var e,i,s=this.eye.x,o=this.eye.y,n=this.eye.z,r=t.x,a=t.y,h=t.z;return this.showPerspective?(e=(r-s)*(n/h),i=(a-o)*(n/h)):(e=r*-(n/this.camera.getArmLength()),i=a*-(n/this.camera.getArmLength())),new c(this.xcenter+e*this.frame.canvas.clientWidth,this.ycenter-i*this.frame.canvas.clientWidth)},s.prototype._setBackgroundColor=function(t){var e="white",i="gray",s=1;if("string"==typeof t)e=t,i="none",s=0;else if("object"==typeof t)void 0!==t.fill&&(e=t.fill),void 0!==t.stroke&&(i=t.stroke),void 0!==t.strokeWidth&&(s=t.strokeWidth);else if(void 0!==t)throw"Unsupported type of backgroundColor";this.frame.style.backgroundColor=e,this.frame.style.borderColor=i,this.frame.style.borderWidth=s+"px",this.frame.style.borderStyle="solid"},s.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},s.prototype._getStyleNumber=function(t){switch(t){case"dot":return s.STYLE.DOT;case"dot-line":return s.STYLE.DOTLINE;case"dot-color":return s.STYLE.DOTCOLOR;case"dot-size":return s.STYLE.DOTSIZE;case"line":return s.STYLE.LINE;case"grid":return s.STYLE.GRID;case"surface":return s.STYLE.SURFACE;case"bar":return s.STYLE.BAR;case"bar-color":return s.STYLE.BARCOLOR;case"bar-size":return s.STYLE.BARSIZE}return-1},s.prototype._determineColumnIndexes=function(t,e){if(this.style===s.STYLE.DOT||this.style===s.STYLE.DOTLINE||this.style===s.STYLE.LINE||this.style===s.STYLE.GRID||this.style===s.STYLE.SURFACE||this.style===s.STYLE.BAR)this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,t.getNumberOfColumns()>3&&(this.colFilter=3);else{if(this.style!==s.STYLE.DOTCOLOR&&this.style!==s.STYLE.DOTSIZE&&this.style!==s.STYLE.BARCOLOR&&this.style!==s.STYLE.BARSIZE)throw\'Unknown style "\'+this.style+\'"\';this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,t.getNumberOfColumns()>4&&(this.colFilter=4)}},s.prototype.getNumberOfRows=function(t){return t.length},s.prototype.getNumberOfColumns=function(t){var e=0;for(var i in t[0])t[0].hasOwnProperty(i)&&e++;return e},s.prototype.getDistinctValues=function(t,e){for(var i=[],s=0;s<t.length;s++)-1==i.indexOf(t[s][e])&&i.push(t[s][e]);return i},s.prototype.getColumnRange=function(t,e){for(var i={min:t[0][e],max:t[0][e]},s=0;s<t.length;s++)i.min>t[s][e]&&(i.min=t[s][e]),i.max<t[s][e]&&(i.max=t[s][e]);return i},s.prototype._dataInitialize=function(t,e){\nvar i=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==t){Array.isArray(t)&&(t=new a(t));var o;if(!(t instanceof a||t instanceof h))throw new Error("Array, DataSet, or DataView expected");if(o=t.get(),0!=o.length){this.dataSet=t,this.dataTable=o,this._onChange=function(){i.setData(i.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",o[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new u(t,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){i.redraw()}));var n=this.style==s.STYLE.BAR||this.style==s.STYLE.BARCOLOR||this.style==s.STYLE.BARSIZE;if(n){if(void 0!==this.defaultXBarWidth)this.xBarWidth=this.defaultXBarWidth;else{var r=this.getDistinctValues(o,this.colX);this.xBarWidth=r[1]-r[0]||1}if(void 0!==this.defaultYBarWidth)this.yBarWidth=this.defaultYBarWidth;else{var d=this.getDistinctValues(o,this.colY);this.yBarWidth=d[1]-d[0]||1}}var l=this.getColumnRange(o,this.colX);n&&(l.min-=this.xBarWidth/2,l.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:l.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:l.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var c=this.getColumnRange(o,this.colY);n&&(c.min-=this.yBarWidth/2,c.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:c.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:c.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;var p=this.getColumnRange(o,this.colZ);if(this.zMin=void 0!==this.defaultZMin?this.defaultZMin:p.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:p.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue){var m=this.getColumnRange(o,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:m.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:m.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}},s.prototype._getDataPoints=function(t){var e,i,o,n,r,a,h=[];if(this.style===s.STYLE.GRID||this.style===s.STYLE.SURFACE){var d=[],c=[];for(o=0;o<this.getNumberOfRows(t);o++)e=t[o][this.colX]||0,i=t[o][this.colY]||0,-1===d.indexOf(e)&&d.push(e),-1===c.indexOf(i)&&c.push(i);var p=function(t,e){return t-e};d.sort(p),c.sort(p);var u=[];for(o=0;o<t.length;o++){e=t[o][this.colX]||0,i=t[o][this.colY]||0,n=t[o][this.colZ]||0;var m=d.indexOf(e),f=c.indexOf(i);void 0===u[m]&&(u[m]=[]);var g=new l;g.x=e,g.y=i,g.z=n,r={},r.point=g,r.trans=void 0,r.screen=void 0,r.bottom=new l(e,i,this.zMin),u[m][f]=r,h.push(r)}for(e=0;e<u.length;e++)for(i=0;i<u[e].length;i++)u[e][i]&&(u[e][i].pointRight=e<u.length-1?u[e+1][i]:void 0,u[e][i].pointTop=i<u[e].length-1?u[e][i+1]:void 0,u[e][i].pointCross=e<u.length-1&&i<u[e].length-1?u[e+1][i+1]:void 0)}else for(o=0;o<t.length;o++)a=new l,a.x=t[o][this.colX]||0,a.y=t[o][this.colY]||0,a.z=t[o][this.colZ]||0,void 0!==this.colValue&&(a.value=t[o][this.colValue]||0),r={},r.point=a,r.bottom=new l(a.x,a.y,this.zMin),r.trans=void 0,r.screen=void 0,h.push(r);return h},s.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(t),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var e=this,i=function(t){e._onMouseDown(t)},s=function(t){e._onTouchStart(t)},o=function(t){e._onWheel(t)},n=function(t){e._onTooltip(t)};d.addEventListener(this.frame.canvas,"keydown",onkeydown),d.addEventListener(this.frame.canvas,"mousedown",i),d.addEventListener(this.frame.canvas,"touchstart",s),d.addEventListener(this.frame.canvas,"mousewheel",o),d.addEventListener(this.frame.canvas,"mousemove",n),this.containerElement.appendChild(this.frame)},s.prototype.setSize=function(t,e){this.frame.style.width=t,this.frame.style.height=e,this._resizeCanvas()},s.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},s.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider)throw"No animation available";this.frame.filter.slider.play()},s.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},s.prototype._resizeCenter=function(){this.xcenter="%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.defaultXCenter),this.ycenter="%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.defaultYCenter)},s.prototype.setCameraPosition=function(t){void 0!==t&&(void 0!==t.horizontal&&void 0!==t.vertical&&this.camera.setArmRotation(t.horizontal,t.vertical),void 0!==t.distance&&this.camera.setArmLength(t.distance),this.redraw())},s.prototype.getCameraPosition=function(){var t=this.camera.getArmRotation();return t.distance=this.camera.getArmLength(),t},s.prototype._readData=function(t){this._dataInitialize(t,this.style),this.dataPoints=this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.dataTable),this._redrawFilter()},s.prototype.setData=function(t){this._readData(t),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},s.prototype.setOptions=function(t){var e=void 0;if(this.animationStop(),void 0!==t){if(void 0!==t.width&&(this.width=t.width),void 0!==t.height&&(this.height=t.height),void 0!==t.xCenter&&(this.defaultXCenter=t.xCenter),void 0!==t.yCenter&&(this.defaultYCenter=t.yCenter),void 0!==t.filterLabel&&(this.filterLabel=t.filterLabel),void 0!==t.legendLabel&&(this.legendLabel=t.legendLabel),void 0!==t.xLabel&&(this.xLabel=t.xLabel),void 0!==t.yLabel&&(this.yLabel=t.yLabel),void 0!==t.zLabel&&(this.zLabel=t.zLabel),void 0!==t.xValueLabel&&(this.xValueLabel=t.xValueLabel),void 0!==t.yValueLabel&&(this.yValueLabel=t.yValueLabel),void 0!==t.zValueLabel&&(this.zValueLabel=t.zValueLabel),void 0!==t.style){var i=this._getStyleNumber(t.style);-1!==i&&(this.style=i)}void 0!==t.showGrid&&(this.showGrid=t.showGrid),void 0!==t.showPerspective&&(this.showPerspective=t.showPerspective),void 0!==t.showShadow&&(this.showShadow=t.showShadow),void 0!==t.tooltip&&(this.showTooltip=t.tooltip),void 0!==t.showAnimationControls&&(this.showAnimationControls=t.showAnimationControls),void 0!==t.keepAspectRatio&&(this.keepAspectRatio=t.keepAspectRatio),void 0!==t.verticalRatio&&(this.verticalRatio=t.verticalRatio),void 0!==t.animationInterval&&(this.animationInterval=t.animationInterval),void 0!==t.animationPreload&&(this.animationPreload=t.animationPreload),void 0!==t.animationAutoStart&&(this.animationAutoStart=t.animationAutoStart),void 0!==t.xBarWidth&&(this.defaultXBarWidth=t.xBarWidth),void 0!==t.yBarWidth&&(this.defaultYBarWidth=t.yBarWidth),void 0!==t.xMin&&(this.defaultXMin=t.xMin),void 0!==t.xStep&&(this.defaultXStep=t.xStep),void 0!==t.xMax&&(this.defaultXMax=t.xMax),void 0!==t.yMin&&(this.defaultYMin=t.yMin),void 0!==t.yStep&&(this.defaultYStep=t.yStep),void 0!==t.yMax&&(this.defaultYMax=t.yMax),void 0!==t.zMin&&(this.defaultZMin=t.zMin),void 0!==t.zStep&&(this.defaultZStep=t.zStep),void 0!==t.zMax&&(this.defaultZMax=t.zMax),void 0!==t.valueMin&&(this.defaultValueMin=t.valueMin),void 0!==t.valueMax&&(this.defaultValueMax=t.valueMax),void 0!==t.cameraPosition&&(e=t.cameraPosition),void 0!==e?(this.camera.setArmRotation(e.horizontal,e.vertical),this.camera.setArmLength(e.distance)):(this.camera.setArmRotation(1,.5),this.camera.setArmLength(1.7))}this._setBackgroundColor(t&&t.backgroundColor),this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},s.prototype.redraw=function(){if(void 0===this.dataPoints)throw"Error: graph data not initialized";this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===s.STYLE.GRID||this.style===s.STYLE.SURFACE?this._redrawDataGrid():this.style===s.STYLE.LINE?this._redrawDataLine():this.style===s.STYLE.BAR||this.style===s.STYLE.BARCOLOR||this.style===s.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},s.prototype._redrawClear=function(){var t=this.frame.canvas,e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)},s.prototype._redrawLegend=function(){var t;if(this.style===s.STYLE.DOTCOLOR||this.style===s.STYLE.DOTSIZE){var e,i,o=.02*this.frame.clientWidth;this.style===s.STYLE.DOTSIZE?(e=o/2,i=o/2+2*o):(e=20,i=20);var n=Math.max(.25*this.frame.clientHeight,100),r=this.margin,a=this.frame.clientWidth-this.margin,h=a-i,d=r+n}var l=this.frame.canvas,c=l.getContext("2d");if(c.lineWidth=1,c.font="14px arial",this.style===s.STYLE.DOTCOLOR){var p=0,u=n;for(t=p;u>t;t++){var m=(t-p)/(u-p),g=240*m,v=this._hsv2rgb(g,1,1);c.strokeStyle=v,c.beginPath(),c.moveTo(h,r+t),c.lineTo(a,r+t),c.stroke()}c.strokeStyle=this.colorAxis,c.strokeRect(h,r,i,n)}if(this.style===s.STYLE.DOTSIZE&&(c.strokeStyle=this.colorAxis,c.fillStyle=this.colorDot,c.beginPath(),c.moveTo(h,r),c.lineTo(a,r),c.lineTo(a-i+e,d),c.lineTo(h,d),c.closePath(),c.fill(),c.stroke()),this.style===s.STYLE.DOTCOLOR||this.style===s.STYLE.DOTSIZE){var y=5,b=new f(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);for(b.start(),b.getCurrent()<this.valueMin&&b.next();!b.end();)t=d-(b.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*n,c.beginPath(),c.moveTo(h-y,t),c.lineTo(h,t),c.stroke(),c.textAlign="right",c.textBaseline="middle",c.fillStyle=this.colorAxis,c.fillText(b.getCurrent(),h-2*y,t),b.next();c.textAlign="right",c.textBaseline="top";var _=this.legendLabel;c.fillText(_,a,d+this.margin)}},s.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var t={visible:this.showAnimationControls},e=new m(this.frame.filter,t);this.frame.filter.slider=e,this.frame.filter.style.padding="10px",e.setValues(this.dataFilter.values),e.setPlayInterval(this.animationInterval);var i=this,s=function(){var t=e.getIndex();i.dataFilter.selectValue(t),i.dataPoints=i.dataFilter._getDataPoints(),i.redraw()};e.setOnChangeCallback(s)}else this.frame.filter.slider=void 0},s.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},s.prototype._redrawInfo=function(){if(this.dataFilter){var t=this.frame.canvas,e=t.getContext("2d");e.font="14px arial",e.lineStyle="gray",e.fillStyle="gray",e.textAlign="left",e.textBaseline="top";var i=this.margin,s=this.margin;e.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),i,s)}},s.prototype._redrawAxis=function(){var t,e,i,s,o,n,r,a,h,d,c,p,u,m=this.frame.canvas,g=m.getContext("2d");g.font=24/this.camera.getArmLength()+"px arial";var v=.025/this.scale.x,y=.025/this.scale.y,b=5/this.camera.getArmLength(),_=this.camera.getArmRotation().horizontal;for(g.lineWidth=1,s=void 0===this.defaultXStep,i=new f(this.xMin,this.xMax,this.xStep,s),i.start(),i.getCurrent()<this.xMin&&i.next();!i.end();){var x=i.getCurrent();this.showGrid?(t=this._convert3Dto2D(new l(x,this.yMin,this.zMin)),e=this._convert3Dto2D(new l(x,this.yMax,this.zMin)),g.strokeStyle=this.colorGrid,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke()):(t=this._convert3Dto2D(new l(x,this.yMin,this.zMin)),e=this._convert3Dto2D(new l(x,this.yMin+v,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke(),t=this._convert3Dto2D(new l(x,this.yMax,this.zMin)),e=this._convert3Dto2D(new l(x,this.yMax-v,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke()),r=Math.cos(_)>0?this.yMin:this.yMax,o=this._convert3Dto2D(new l(x,r,this.zMin)),Math.cos(2*_)>0?(g.textAlign="center",g.textBaseline="top",o.y+=b):Math.sin(2*_)<0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText("  "+this.xValueLabel(i.getCurrent())+"  ",o.x,o.y),i.next()}for(g.lineWidth=1,s=void 0===this.defaultYStep,i=new f(this.yMin,this.yMax,this.yStep,s),i.start(),i.getCurrent()<this.yMin&&i.next();!i.end();)this.showGrid?(t=this._convert3Dto2D(new l(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new l(this.xMax,i.getCurrent(),this.zMin)),g.strokeStyle=this.colorGrid,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke()):(t=this._convert3Dto2D(new l(this.xMin,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new l(this.xMin+y,i.getCurrent(),this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke(),t=this._convert3Dto2D(new l(this.xMax,i.getCurrent(),this.zMin)),e=this._convert3Dto2D(new l(this.xMax-y,i.getCurrent(),this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke()),n=Math.sin(_)>0?this.xMin:this.xMax,o=this._convert3Dto2D(new l(n,i.getCurrent(),this.zMin)),Math.cos(2*_)<0?(g.textAlign="center",g.textBaseline="top",o.y+=b):Math.sin(2*_)>0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText("  "+this.yValueLabel(i.getCurrent())+"  ",o.x,o.y),i.next();for(g.lineWidth=1,s=void 0===this.defaultZStep,i=new f(this.zMin,this.zMax,this.zStep,s),i.start(),i.getCurrent()<this.zMin&&i.next(),n=Math.cos(_)>0?this.xMin:this.xMax,r=Math.sin(_)<0?this.yMin:this.yMax;!i.end();)t=this._convert3Dto2D(new l(n,r,i.getCurrent())),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(t.x-b,t.y),g.stroke(),g.textAlign="right",g.textBaseline="middle",g.fillStyle=this.colorAxis,g.fillText(this.zValueLabel(i.getCurrent())+" ",t.x-5,t.y),i.next();g.lineWidth=1,t=this._convert3Dto2D(new l(n,r,this.zMin)),e=this._convert3Dto2D(new l(n,r,this.zMax)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke(),g.lineWidth=1,p=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin)),u=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(p.x,p.y),g.lineTo(u.x,u.y),g.stroke(),p=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin)),u=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(p.x,p.y),g.lineTo(u.x,u.y),g.stroke(),g.lineWidth=1,t=this._convert3Dto2D(new l(this.xMin,this.yMin,this.zMin)),e=this._convert3Dto2D(new l(this.xMin,this.yMax,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke(),t=this._convert3Dto2D(new l(this.xMax,this.yMin,this.zMin)),e=this._convert3Dto2D(new l(this.xMax,this.yMax,this.zMin)),g.strokeStyle=this.colorAxis,g.beginPath(),g.moveTo(t.x,t.y),g.lineTo(e.x,e.y),g.stroke();var w=this.xLabel;w.length>0&&(c=.1/this.scale.y,n=(this.xMin+this.xMax)/2,r=Math.cos(_)>0?this.yMin-c:this.yMax+c,o=this._convert3Dto2D(new l(n,r,this.zMin)),Math.cos(2*_)>0?(g.textAlign="center",g.textBaseline="top"):Math.sin(2*_)<0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText(w,o.x,o.y));var S=this.yLabel;S.length>0&&(d=.1/this.scale.x,n=Math.sin(_)>0?this.xMin-d:this.xMax+d,r=(this.yMin+this.yMax)/2,o=this._convert3Dto2D(new l(n,r,this.zMin)),Math.cos(2*_)<0?(g.textAlign="center",g.textBaseline="top"):Math.sin(2*_)>0?(g.textAlign="right",g.textBaseline="middle"):(g.textAlign="left",g.textBaseline="middle"),g.fillStyle=this.colorAxis,g.fillText(S,o.x,o.y));var D=this.zLabel;D.length>0&&(h=30,n=Math.cos(_)>0?this.xMin:this.xMax,r=Math.sin(_)<0?this.yMin:this.yMax,a=(this.zMin+this.zMax)/2,o=this._convert3Dto2D(new l(n,r,a)),g.textAlign="right",g.textBaseline="middle",g.fillStyle=this.colorAxis,g.fillText(D,o.x-h,o.y))},s.prototype._hsv2rgb=function(t,e,i){var s,o,n,r,a,h;switch(r=i*e,a=Math.floor(t/60),h=r*(1-Math.abs(t/60%2-1)),a){case 0:s=r,o=h,n=0;break;case 1:s=h,o=r,n=0;break;case 2:s=0,o=r,n=h;break;case 3:s=0,o=h,n=r;break;case 4:s=h,o=0,n=r;break;case 5:s=r,o=0,n=h;break;default:s=0,o=0,n=0}return"RGB("+parseInt(255*s)+","+parseInt(255*o)+","+parseInt(255*n)+")"},s.prototype._redrawDataGrid=function(){var t,e,i,o,n,r,a,h,d,c,p,u,m,f=this.frame.canvas,g=f.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(n=0;n<this.dataPoints.length;n++){var v=this._convertPointToTranslation(this.dataPoints[n].point),y=this._convertTranslationToScreen(v);this.dataPoints[n].trans=v,this.dataPoints[n].screen=y;var b=this._convertPointToTranslation(this.dataPoints[n].bottom);this.dataPoints[n].dist=this.showPerspective?b.length():-b.z}var _=function(t,e){return e.dist-t.dist};if(this.dataPoints.sort(_),this.style===s.STYLE.SURFACE){for(n=0;n<this.dataPoints.length;n++)if(t=this.dataPoints[n],e=this.dataPoints[n].pointRight,i=this.dataPoints[n].pointTop,o=this.dataPoints[n].pointCross,void 0!==t&&void 0!==e&&void 0!==i&&void 0!==o){if(this.showGrayBottom||this.showShadow){var x=l.subtract(o.trans,t.trans),w=l.subtract(i.trans,e.trans),S=l.crossProduct(x,w),D=S.length();r=S.z>0}else r=!0;r?(m=(t.point.z+e.point.z+i.point.z+o.point.z)/4,c=240*(1-(m-this.zMin)*this.scale.z/this.verticalRatio),p=1,this.showShadow?(u=Math.min(1+S.x/D/2,1),a=this._hsv2rgb(c,p,u),h=a):(u=1,a=this._hsv2rgb(c,p,u),h=this.colorAxis)):(a="gray",h=this.colorAxis),d=.5,g.lineWidth=d,g.fillStyle=a,g.strokeStyle=h,g.beginPath(),g.moveTo(t.screen.x,t.screen.y),g.lineTo(e.screen.x,e.screen.y),g.lineTo(o.screen.x,o.screen.y),g.lineTo(i.screen.x,i.screen.y),g.closePath(),g.fill(),g.stroke()}}else for(n=0;n<this.dataPoints.length;n++)t=this.dataPoints[n],e=this.dataPoints[n].pointRight,i=this.dataPoints[n].pointTop,void 0!==t&&(d=this.showPerspective?2/-t.trans.z:2*-(this.eye.z/this.camera.getArmLength())),void 0!==t&&void 0!==e&&(m=(t.point.z+e.point.z)/2,c=240*(1-(m-this.zMin)*this.scale.z/this.verticalRatio),g.lineWidth=d,g.strokeStyle=this._hsv2rgb(c,1,1),g.beginPath(),g.moveTo(t.screen.x,t.screen.y),g.lineTo(e.screen.x,e.screen.y),g.stroke()),void 0!==t&&void 0!==i&&(m=(t.point.z+i.point.z)/2,c=240*(1-(m-this.zMin)*this.scale.z/this.verticalRatio),g.lineWidth=d,g.strokeStyle=this._hsv2rgb(c,1,1),g.beginPath(),g.moveTo(t.screen.x,t.screen.y),g.lineTo(i.screen.x,i.screen.y),g.stroke())}},s.prototype._redrawDataDot=function(){var t,e=this.frame.canvas,i=e.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var o=this._convertPointToTranslation(this.dataPoints[t].point),n=this._convertTranslationToScreen(o);this.dataPoints[t].trans=o,this.dataPoints[t].screen=n;var r=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?r.length():-r.z}var a=function(t,e){return e.dist-t.dist};this.dataPoints.sort(a);var h=.02*this.frame.clientWidth;for(t=0;t<this.dataPoints.length;t++){var d=this.dataPoints[t];if(this.style===s.STYLE.DOTLINE){var l=this._convert3Dto2D(d.bottom);i.lineWidth=1,i.strokeStyle=this.colorGrid,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(d.screen.x,d.screen.y),i.stroke()}var c;c=this.style===s.STYLE.DOTSIZE?h/2+2*h*(d.point.value-this.valueMin)/(this.valueMax-this.valueMin):h;var p;p=this.showPerspective?c/-d.trans.z:c*-(this.eye.z/this.camera.getArmLength()),0>p&&(p=0);var u,m,f;this.style===s.STYLE.DOTCOLOR?(u=240*(1-(d.point.value-this.valueMin)*this.scale.value),m=this._hsv2rgb(u,1,1),f=this._hsv2rgb(u,1,.8)):this.style===s.STYLE.DOTSIZE?(m=this.colorDot,f=this.colorDotBorder):(u=240*(1-(d.point.z-this.zMin)*this.scale.z/this.verticalRatio),m=this._hsv2rgb(u,1,1),f=this._hsv2rgb(u,1,.8)),i.lineWidth=1,i.strokeStyle=f,i.fillStyle=m,i.beginPath(),i.arc(d.screen.x,d.screen.y,p,0,2*Math.PI,!0),i.fill(),i.stroke()}}},s.prototype._redrawDataBar=function(){var t,e,i,o,n=this.frame.canvas,r=n.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(t=0;t<this.dataPoints.length;t++){var a=this._convertPointToTranslation(this.dataPoints[t].point),h=this._convertTranslationToScreen(a);this.dataPoints[t].trans=a,this.dataPoints[t].screen=h;var d=this._convertPointToTranslation(this.dataPoints[t].bottom);this.dataPoints[t].dist=this.showPerspective?d.length():-d.z}var c=function(t,e){return e.dist-t.dist};this.dataPoints.sort(c);var p=this.xBarWidth/2,u=this.yBarWidth/2;for(t=0;t<this.dataPoints.length;t++){var m,f,g,v=this.dataPoints[t];this.style===s.STYLE.BARCOLOR?(m=240*(1-(v.point.value-this.valueMin)*this.scale.value),f=this._hsv2rgb(m,1,1),g=this._hsv2rgb(m,1,.8)):this.style===s.STYLE.BARSIZE?(f=this.colorDot,g=this.colorDotBorder):(m=240*(1-(v.point.z-this.zMin)*this.scale.z/this.verticalRatio),f=this._hsv2rgb(m,1,1),g=this._hsv2rgb(m,1,.8)),this.style===s.STYLE.BARSIZE&&(p=this.xBarWidth/2*((v.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2),u=this.yBarWidth/2*((v.point.value-this.valueMin)/(this.valueMax-this.valueMin)*.8+.2));var y=this,b=v.point,_=[{point:new l(b.x-p,b.y-u,b.z)},{point:new l(b.x+p,b.y-u,b.z)},{point:new l(b.x+p,b.y+u,b.z)},{point:new l(b.x-p,b.y+u,b.z)}],x=[{point:new l(b.x-p,b.y-u,this.zMin)},{point:new l(b.x+p,b.y-u,this.zMin)},{point:new l(b.x+p,b.y+u,this.zMin)},{point:new l(b.x-p,b.y+u,this.zMin)}];_.forEach(function(t){t.screen=y._convert3Dto2D(t.point)}),x.forEach(function(t){t.screen=y._convert3Dto2D(t.point)});var w=[{corners:_,center:l.avg(x[0].point,x[2].point)},{corners:[_[0],_[1],x[1],x[0]],center:l.avg(x[1].point,x[0].point)},{corners:[_[1],_[2],x[2],x[1]],center:l.avg(x[2].point,x[1].point)},{corners:[_[2],_[3],x[3],x[2]],center:l.avg(x[3].point,x[2].point)},{corners:[_[3],_[0],x[0],x[3]],center:l.avg(x[0].point,x[3].point)}];for(v.surfaces=w,e=0;e<w.length;e++){i=w[e];var S=this._convertPointToTranslation(i.center);i.dist=this.showPerspective?S.length():-S.z}for(w.sort(function(t,e){var i=e.dist-t.dist;return i?i:t.corners===_?1:e.corners===_?-1:0}),r.lineWidth=1,r.strokeStyle=g,r.fillStyle=f,e=2;e<w.length;e++)i=w[e],o=i.corners,r.beginPath(),r.moveTo(o[3].screen.x,o[3].screen.y),r.lineTo(o[0].screen.x,o[0].screen.y),r.lineTo(o[1].screen.x,o[1].screen.y),r.lineTo(o[2].screen.x,o[2].screen.y),r.lineTo(o[3].screen.x,o[3].screen.y),r.fill(),r.stroke()}}},s.prototype._redrawDataLine=function(){var t,e,i=this.frame.canvas,s=i.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(e=0;e<this.dataPoints.length;e++){var o=this._convertPointToTranslation(this.dataPoints[e].point),n=this._convertTranslationToScreen(o);this.dataPoints[e].trans=o,this.dataPoints[e].screen=n}for(this.dataPoints.length>0&&(t=this.dataPoints[0],s.lineWidth=1,s.strokeStyle="blue",s.beginPath(),s.moveTo(t.screen.x,t.screen.y)),e=1;e<this.dataPoints.length;e++)t=this.dataPoints[e],s.lineTo(t.screen.x,t.screen.y);this.dataPoints.length>0&&s.stroke()}},s.prototype._onMouseDown=function(t){if(t=t||window.event,this.leftButtonDown&&this._onMouseUp(t),this.leftButtonDown=t.which?1===t.which:1===t.button,this.leftButtonDown||this.touchDown){this.startMouseX=o(t),this.startMouseY=n(t),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var e=this;this.onmousemove=function(t){e._onMouseMove(t)},this.onmouseup=function(t){e._onMouseUp(t)},d.addEventListener(document,"mousemove",e.onmousemove),d.addEventListener(document,"mouseup",e.onmouseup),d.preventDefault(t)}},s.prototype._onMouseMove=function(t){t=t||window.event;var e=parseFloat(o(t))-this.startMouseX,i=parseFloat(n(t))-this.startMouseY,s=this.startArmRotation.horizontal+e/200,r=this.startArmRotation.vertical+i/200,a=4,h=Math.sin(a/360*2*Math.PI);Math.abs(Math.sin(s))<h&&(s=Math.round(s/Math.PI)*Math.PI-.001),Math.abs(Math.cos(s))<h&&(s=(Math.round(s/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(r))<h&&(r=Math.round(r/Math.PI)*Math.PI),Math.abs(Math.cos(r))<h&&(r=(Math.round(r/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(s,r),this.redraw();var l=this.getCameraPosition();this.emit("cameraPositionChange",l),d.preventDefault(t)},s.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",this.leftButtonDown=!1,d.removeEventListener(document,"mousemove",this.onmousemove),d.removeEventListener(document,"mouseup",this.onmouseup),d.preventDefault(t)},s.prototype._onTooltip=function(t){var e=300,i=this.frame.getBoundingClientRect(),s=o(t)-i.left,r=n(t)-i.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var a=this._dataPointFromXY(s,r);a!==this.tooltip.dataPoint&&(a?this._showTooltip(a):this._hideTooltip())}else{var h=this;this.tooltipTimeout=setTimeout(function(){h.tooltipTimeout=null;var t=h._dataPointFromXY(s,r);t&&h._showTooltip(t)},e)}}},s.prototype._onTouchStart=function(t){this.touchDown=!0;var e=this;this.ontouchmove=function(t){e._onTouchMove(t)},this.ontouchend=function(t){e._onTouchEnd(t)},d.addEventListener(document,"touchmove",e.ontouchmove),d.addEventListener(document,"touchend",e.ontouchend),this._onMouseDown(t)},s.prototype._onTouchMove=function(t){this._onMouseMove(t)},s.prototype._onTouchEnd=function(t){this.touchDown=!1,d.removeEventListener(document,"touchmove",this.ontouchmove),d.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(t)},s.prototype._onWheel=function(t){t||(t=window.event);var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this.camera.getArmLength(),s=i*(1-e/10);this.camera.setArmLength(s),this.redraw(),this._hideTooltip()}var o=this.getCameraPosition();this.emit("cameraPositionChange",o),d.preventDefault(t)},s.prototype._insideTriangle=function(t,e){function i(t){return t>0?1:0>t?-1:0}var s=e[0],o=e[1],n=e[2],r=i((o.x-s.x)*(t.y-s.y)-(o.y-s.y)*(t.x-s.x)),a=i((n.x-o.x)*(t.y-o.y)-(n.y-o.y)*(t.x-o.x)),h=i((s.x-n.x)*(t.y-n.y)-(s.y-n.y)*(t.x-n.x));return!(0!=r&&0!=a&&r!=a||0!=a&&0!=h&&a!=h||0!=r&&0!=h&&r!=h)},s.prototype._dataPointFromXY=function(t,e){var i,o=100,n=null,r=null,a=null,h=new c(t,e);if(this.style===s.STYLE.BAR||this.style===s.STYLE.BARCOLOR||this.style===s.STYLE.BARSIZE)for(i=this.dataPoints.length-1;i>=0;i--){n=this.dataPoints[i];var d=n.surfaces;if(d)for(var l=d.length-1;l>=0;l--){var p=d[l],u=p.corners,m=[u[0].screen,u[1].screen,u[2].screen],f=[u[2].screen,u[3].screen,u[0].screen];if(this._insideTriangle(h,m)||this._insideTriangle(h,f))return n}}else for(i=0;i<this.dataPoints.length;i++){n=this.dataPoints[i];var g=n.screen;if(g){var v=Math.abs(t-g.x),y=Math.abs(e-g.y),b=Math.sqrt(v*v+y*y);(null===a||a>b)&&o>b&&(a=b,r=n)}}return r},s.prototype._showTooltip=function(t){var e,i,s;this.tooltip?(e=this.tooltip.dom.content,i=this.tooltip.dom.line,s=this.tooltip.dom.dot):(e=document.createElement("div"),e.style.position="absolute",e.style.padding="10px",e.style.border="1px solid #4d4d4d",e.style.color="#1a1a1a",e.style.background="rgba(255,255,255,0.7)",e.style.borderRadius="2px",e.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",i=document.createElement("div"),i.style.position="absolute",i.style.height="40px",i.style.width="0",i.style.borderLeft="1px solid #4d4d4d",s=document.createElement("div"),s.style.position="absolute",s.style.height="0",s.style.width="0",s.style.border="5px solid #4d4d4d",s.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:e,line:i,dot:s}}),this._hideTooltip(),this.tooltip.dataPoint=t,e.innerHTML="function"==typeof this.showTooltip?this.showTooltip(t.point):"<table><tr><td>x:</td><td>"+t.point.x+"</td></tr><tr><td>y:</td><td>"+t.point.y+"</td></tr><tr><td>z:</td><td>"+t.point.z+"</td></tr></table>",e.style.left="0",e.style.top="0",this.frame.appendChild(e),this.frame.appendChild(i),this.frame.appendChild(s);var o=e.offsetWidth,n=e.offsetHeight,r=i.offsetHeight,a=s.offsetWidth,h=s.offsetHeight,d=t.screen.x-o/2;d=Math.min(Math.max(d,10),this.frame.clientWidth-10-o),i.style.left=t.screen.x+"px",i.style.top=t.screen.y-r+"px",e.style.left=d+"px",e.style.top=t.screen.y-r-n+"px",s.style.left=t.screen.x-a/2+"px",s.style.top=t.screen.y-h/2+"px"},s.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var t in this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(t)){var e=this.tooltip.dom[t];e&&e.parentNode&&e.parentNode.removeChild(e)}}},t.exports=s},function(t,e,i){function s(){this.armLocation=new o,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new o,this.cameraRotation=new o(.5*Math.PI,0,0),this.calculateCameraOrientation()}var o=i(10);s.prototype.setArmLocation=function(t,e,i){this.armLocation.x=t,this.armLocation.y=e,this.armLocation.z=i,this.calculateCameraOrientation()},s.prototype.setArmRotation=function(t,e){void 0!==t&&(this.armRotation.horizontal=t),void 0!==e&&(this.armRotation.vertical=e,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==t||void 0!==e)&&this.calculateCameraOrientation()},s.prototype.getArmRotation=function(){var t={};return t.horizontal=this.armRotation.horizontal,t.vertical=this.armRotation.vertical,t},s.prototype.setArmLength=function(t){void 0!==t&&(this.armLength=t,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},s.prototype.getArmLength=function(){return this.armLength},s.prototype.getCameraLocation=function(){return this.cameraLocation},s.prototype.getCameraRotation=function(){return this.cameraRotation},s.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},t.exports=s},function(t,e,i){function s(t,e,i){this.data=t,this.column=e,this.graph=i,this.index=void 0,this.value=void 0,this.values=i.getDistinctValues(t.get(),this.column),this.values.sort(function(t,e){return t>e?1:e>t?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,i.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var o=i(4);s.prototype.isLoaded=function(){return this.loaded},s.prototype.getLoadedProgress=function(){for(var t=this.values.length,e=0;this.dataPoints[e];)e++;return Math.round(e/t*100)},s.prototype.getLabel=function(){return this.graph.filterLabel},s.prototype.getColumn=function(){return this.column},s.prototype.getSelectedValue=function(){return void 0===this.index?void 0:this.values[this.index];\n\n},s.prototype.getValues=function(){return this.values},s.prototype.getValue=function(t){if(t>=this.values.length)throw"Error: index out of range";return this.values[t]},s.prototype._getDataPoints=function(t){if(void 0===t&&(t=this.index),void 0===t)return[];var e;if(this.dataPoints[t])e=this.dataPoints[t];else{var i={};i.column=this.column,i.value=this.values[t];var s=new o(this.data,{filter:function(t){return t[i.column]==i.value}}).get();e=this.graph._getDataPoints(s),this.dataPoints[t]=e}return e},s.prototype.setOnLoadCallback=function(t){this.onLoadCallback=t},s.prototype.selectValue=function(t){if(t>=this.values.length)throw"Error: index out of range";this.index=t,this.value=this.values[t]},s.prototype.loadInBackground=function(t){void 0===t&&(t=0);var e=this.graph.frame;if(t<this.values.length){{this._getDataPoints(t)}void 0===e.progress&&(e.progress=document.createElement("DIV"),e.progress.style.position="absolute",e.progress.style.color="gray",e.appendChild(e.progress));var i=this.getLoadedProgress();e.progress.innerHTML="Loading animation... "+i+"%",e.progress.style.bottom="60px",e.progress.style.left="10px";var s=this;setTimeout(function(){s.loadInBackground(t+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==e.progress&&(e.removeChild(e.progress),e.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},t.exports=s},function(t,e,i){function s(t,e){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0}t.exports=s},function(t,e,i){function s(t,e,i){this.x=void 0!==t?t:0,this.y=void 0!==e?e:0,this.z=void 0!==i?i:0}s.subtract=function(t,e){var i=new s;return i.x=t.x-e.x,i.y=t.y-e.y,i.z=t.z-e.z,i},s.add=function(t,e){var i=new s;return i.x=t.x+e.x,i.y=t.y+e.y,i.z=t.z+e.z,i},s.avg=function(t,e){return new s((t.x+e.x)/2,(t.y+e.y)/2,(t.z+e.z)/2)},s.crossProduct=function(t,e){var i=new s;return i.x=t.y*e.z-t.z*e.y,i.y=t.z*e.x-t.x*e.z,i.z=t.x*e.y-t.y*e.x,i},s.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.exports=s},function(t,e,i){function s(t,e){if(void 0===t)throw"Error: No container element defined";if(this.container=t,this.visible=e&&void 0!=e.visible?e.visible:!0,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var i=this;this.frame.slide.onmousedown=function(t){i._onMouseDown(t)},this.frame.prev.onclick=function(t){i.prev(t)},this.frame.play.onclick=function(t){i.togglePlay(t)},this.frame.next.onclick=function(t){i.next(t)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}var o=i(1);s.prototype.prev=function(){var t=this.getIndex();t>0&&(t--,this.setIndex(t))},s.prototype.next=function(){var t=this.getIndex();t<this.values.length-1&&(t++,this.setIndex(t))},s.prototype.playNext=function(){var t=new Date,e=this.getIndex();e<this.values.length-1?(e++,this.setIndex(e)):this.playLoop&&(e=0,this.setIndex(e));var i=new Date,s=i-t,o=Math.max(this.playInterval-s,0),n=this;this.playTimeout=setTimeout(function(){n.playNext()},o)},s.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},s.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},s.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},s.prototype.setOnChangeCallback=function(t){this.onChangeCallback=t},s.prototype.setPlayInterval=function(t){this.playInterval=t},s.prototype.getPlayInterval=function(t){return this.playInterval},s.prototype.setPlayLoop=function(t){this.playLoop=t},s.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},s.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var t=this.indexToLeft(this.index);this.frame.slide.style.left=t+"px"}},s.prototype.setValues=function(t){this.values=t,this.values.length>0?this.setIndex(0):this.index=void 0},s.prototype.setIndex=function(t){if(!(t<this.values.length))throw"Error: index out of range";this.index=t,this.redraw(),this.onChange()},s.prototype.getIndex=function(){return this.index},s.prototype.get=function(){return this.values[this.index]},s.prototype._onMouseDown=function(t){var e=t.which?1===t.which:1===t.button;if(e){this.startClientX=t.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var i=this;this.onmousemove=function(t){i._onMouseMove(t)},this.onmouseup=function(t){i._onMouseUp(t)},o.addEventListener(document,"mousemove",this.onmousemove),o.addEventListener(document,"mouseup",this.onmouseup),o.preventDefault(t)}},s.prototype.leftToIndex=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t-3,s=Math.round(i/e*(this.values.length-1));return 0>s&&(s=0),s>this.values.length-1&&(s=this.values.length-1),s},s.prototype.indexToLeft=function(t){var e=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,i=t/(this.values.length-1)*e,s=i+3;return s},s.prototype._onMouseMove=function(t){var e=t.clientX-this.startClientX,i=this.startSlideX+e,s=this.leftToIndex(i);this.setIndex(s),o.preventDefault()},s.prototype._onMouseUp=function(t){this.frame.style.cursor="auto",o.removeEventListener(document,"mousemove",this.onmousemove),o.removeEventListener(document,"mouseup",this.onmouseup),o.preventDefault()},t.exports=s},function(t,e,i){function s(t,e,i,s){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(t,e,i,s)}s.prototype.setRange=function(t,e,i,s){this._start=t?t:0,this._end=e?e:0,this.setStep(i,s)},s.prototype.setStep=function(t,e){void 0===t||0>=t||(void 0!==e&&(this.prettyStep=e),this._step=this.prettyStep===!0?s.calculatePrettyStep(t):t)},s.calculatePrettyStep=function(t){var e=function(t){return Math.log(t)/Math.LN10},i=Math.pow(10,Math.round(e(t))),s=2*Math.pow(10,Math.round(e(t/2))),o=5*Math.pow(10,Math.round(e(t/5))),n=i;return Math.abs(s-t)<=Math.abs(n-t)&&(n=s),Math.abs(o-t)<=Math.abs(n-t)&&(n=o),0>=n&&(n=1),n},s.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},s.prototype.getStep=function(){return this._step},s.prototype.start=function(){this._current=this._start-this._start%this._step},s.prototype.next=function(){this._current+=this._step},s.prototype.end=function(){return this._current>this._end},t.exports=s},function(t,e,i){function s(t,e,i,h){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(i)||i instanceof n||i instanceof r)&&i instanceof Object){var u=h;h=i,i=u}var m=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return m.timeAxis.step.scale},getStep:function(){return m.timeAxis.step.step},toScreen:m._toScreen.bind(m),toGlobalScreen:m._toGlobalScreen.bind(m),toTime:m._toTime.bind(m),toGlobalTime:m._toGlobalTime.bind(m)}},this.range=new a(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new l(this.body),this.components.push(this.currentTime),this.customTime=new c(this.body),this.components.push(this.customTime),this.itemSet=new p(this.body),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){m.emit("click",m.getEventProperties(t))}),this.on("doubletap",function(t){m.emit("doubleClick",m.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){m.emit("contextmenu",m.getEventProperties(t))},h&&this.setOptions(h),i&&this.setGroups(i),e?this.setItems(e):this._redraw()}var o=(i(56),i(45),i(1)),n=i(3),r=i(4),a=i(17),h=i(46),d=i(35),l=i(26),c=i(27),p=i(32);s.prototype=new h,s.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},s.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof n||t instanceof r?t:new n(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.itemSet&&this.itemSet.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){if(void 0==this.options.start||void 0==this.options.end)var s=this._getDataRange();var o=void 0!=this.options.start?this.options.start:s.start,a=void 0!=this.options.end?this.options.end:s.end;this.setWindow(o,a,{animate:!1})}else this.fit({animate:!1})},s.prototype.setGroups=function(t){var e;e=t?t instanceof n||t instanceof r?t:new n(t):null,this.groupsData=e,this.itemSet.setGroups(e)},s.prototype.setSelection=function(t,e){this.itemSet&&this.itemSet.setSelection(t),e&&e.focus&&this.focus(t,e)},s.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},s.prototype.focus=function(t,e){if(this.itemsData&&void 0!=t){var i=Array.isArray(t)?t:[t],s=this.itemsData.getDataSet().get(i,{type:{start:"Date",end:"Date"}}),o=null,n=null;if(s.forEach(function(t){var e=t.start.valueOf(),i="end"in t?t.end.valueOf():t.start.valueOf();(null===o||o>e)&&(o=e),(null===n||i>n)&&(n=i)}),null!==o&&null!==n){var r=(o+n)/2,a=Math.max(this.range.end-this.range.start,1.1*(n-o)),h=e&&void 0!==e.animate?e.animate:!0;this.range.setRange(r-a/2,r+a/2,h)}}},s.prototype.getItemRange=function(){var t=this.itemsData.getDataSet(),e=null,i=null;if(t){var s=t.min("start");e=s?o.convert(s.start,"Date").valueOf():null;var n=t.max("start");n&&(i=o.convert(n.start,"Date").valueOf());var r=t.max("end");r&&(i=null==i?o.convert(r.end,"Date").valueOf():Math.max(i,o.convert(r.end,"Date").valueOf()))}return{min:null!=e?new Date(e):null,max:null!=i?new Date(i):null}},s.prototype.getEventProperties=function(t){var e=this.itemSet.itemFromTarget(t),i=this.itemSet.groupFromTarget(t),s=t.gesture?t.gesture.center.pageX:t.pageX,n=t.gesture?t.gesture.center.pageY:t.pageY,r=s-o.getAbsoluteLeft(this.dom.centerContainer),a=n-o.getAbsoluteTop(this.dom.centerContainer),h=this.itemSet.options.snap||null,d=this.body.util.getScale(),l=this.body.util.getStep(),c=this._toTime(r),p=h?h(c,d,l):c,u=o.getTarget(t),m=null;return null!=e?m="item":o.hasParent(u,this.timeAxis.dom.foreground)?m="axis":this.timeAxis2&&o.hasParent(u,this.timeAxis2.dom.foreground)?m="axis":o.hasParent(u,this.itemSet.dom.labelSet)?m="group-label":o.hasParent(u,this.customTime.bar)?m="custom-time":o.hasParent(u,this.currentTime.bar)?m="current-time":o.hasParent(u,this.dom.center)&&(m="background"),{event:t,item:e?e.id:null,group:i?i.groupId:null,what:m,pageX:s,pageY:n,x:r,y:a,time:c,snappedTime:p}},t.exports=s},function(t,e,i){function s(t,e,i,s){if(!(Array.isArray(i)||i instanceof n)&&i instanceof Object){var r=s;s=i,i=r}var h=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:"bottom",width:null,height:null,maxHeight:null,minHeight:null},this.options=o.deepExtend({},this.defaultOptions),this._create(t),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:h._toScreen.bind(h),toGlobalScreen:h._toGlobalScreen.bind(h),toTime:h._toTime.bind(h),toGlobalTime:h._toGlobalTime.bind(h)}},this.range=new a(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new d(this.body),this.components.push(this.timeAxis),this.currentTime=new l(this.body),this.components.push(this.currentTime),this.customTime=new c(this.body),this.components.push(this.customTime),this.linegraph=new p(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(t){h.emit("click",h.getEventProperties(t))}),this.on("doubletap",function(t){h.emit("doubleClick",h.getEventProperties(t))}),this.dom.root.oncontextmenu=function(t){h.emit("contextmenu",h.getEventProperties(t))},s&&this.setOptions(s),i&&this.setGroups(i),e?this.setItems(e):this._redraw()}var o=(i(56),i(45),i(1)),n=i(3),r=i(4),a=i(17),h=i(46),d=i(35),l=i(26),c=i(27),p=i(34);s.prototype=new h,s.prototype.setItems=function(t){var e,i=null==this.itemsData;if(e=t?t instanceof n||t instanceof r?t:new n(t,{type:{start:"Date",end:"Date"}}):null,this.itemsData=e,this.linegraph&&this.linegraph.setItems(e),i)if(void 0!=this.options.start||void 0!=this.options.end){var s=void 0!=this.options.start?this.options.start:null,o=void 0!=this.options.end?this.options.end:null;this.setWindow(s,o,{animate:!1})}else this.fit({animate:!1})},s.prototype.setGroups=function(t){var e;e=t?t instanceof n||t instanceof r?t:new n(t):null,this.groupsData=e,this.linegraph.setGroups(e)},s.prototype.getLegend=function(t,e,i){return void 0===e&&(e=15),void 0===i&&(i=15),void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].getLegend(e,i):"cannot find group:"+t},s.prototype.isGroupVisible=function(t){return void 0!==this.linegraph.groups[t]?this.linegraph.groups[t].visible&&(void 0===this.linegraph.options.groups.visibility[t]||1==this.linegraph.options.groups.visibility[t]):!1},s.prototype.getItemRange=function(){var t=null,e=null;for(var i in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(i)&&1==this.linegraph.groups[i].visible)for(var s=0;s<this.linegraph.groups[i].itemsData.length;s++){var n=this.linegraph.groups[i].itemsData[s],r=o.convert(n.x,"Date").valueOf();t=null==t?r:t>r?r:t,e=null==e?r:r>e?r:e}return{min:null!=t?new Date(t):null,max:null!=e?new Date(e):null}},s.prototype.getEventProperties=function(t){var e=t.gesture?t.gesture.center.pageX:t.pageX,i=t.gesture?t.gesture.center.pageY:t.pageY,s=e-o.getAbsoluteLeft(this.dom.centerContainer),n=i-o.getAbsoluteTop(this.dom.centerContainer),r=this._toTime(s),a=o.getTarget(t),h=null;o.hasParent(a,this.timeAxis.dom.foreground)?h="axis":this.timeAxis2&&o.hasParent(a,this.timeAxis2.dom.foreground)?h="axis":o.hasParent(a,this.linegraph.yAxisLeft.dom.frame)?h="data-axis":o.hasParent(a,this.linegraph.yAxisRight.dom.frame)?h="data-axis":o.hasParent(a,this.linegraph.legendLeft.dom.frame)?h="legend":o.hasParent(a,this.linegraph.legendRight.dom.frame)?h="legend":o.hasParent(a,this.customTime.bar)?h="custom-time":o.hasParent(a,this.currentTime.bar)?h="current-time":o.hasParent(a,this.dom.center)&&(h="background");var d=[],l=this.linegraph.yAxisLeft,c=this.linegraph.yAxisRight;return l.hidden||d.push(l.screenToValue(n)),c.hidden||d.push(c.screenToValue(n)),{event:t,what:h,pageX:e,pageY:i,x:s,y:n,time:r,value:d}},t.exports=s},function(t,e,i){var s=i(44);e.convertHiddenOptions=function(t,e){if(t.hiddenDates=[],e&&1==Array.isArray(e)){for(var i=0;i<e.length;i++)if(void 0===e[i].repeat){var o={};o.start=s(e[i].start).toDate().valueOf(),o.end=s(e[i].end).toDate().valueOf(),t.hiddenDates.push(o)}t.hiddenDates.sort(function(t,e){return t.start-e.start})}},e.updateHiddenDates=function(t,i){if(i&&void 0!==t.domProps.centerContainer.width){e.convertHiddenOptions(t,i);for(var o=s(t.range.start),n=s(t.range.end),r=t.range.end-t.range.start,a=r/t.domProps.centerContainer.width,h=0;h<i.length;h++)if(void 0!==i[h].repeat){var d=s(i[h].start),l=s(i[h].end);if("Invalid Date"==d._d)throw new Error("Supplied start date is not valid: "+i[h].start);if("Invalid Date"==l._d)throw new Error("Supplied end date is not valid: "+i[h].end);var c=l-d;if(c>=4*a){var p=0,u=n.clone();switch(i[h].repeat){case"daily":d.day()!=l.day()&&(p=1),d.dayOfYear(o.dayOfYear()),d.year(o.year()),d.subtract(7,"days"),l.dayOfYear(o.dayOfYear()),l.year(o.year()),l.subtract(7-p,"days"),u.add(1,"weeks");break;case"weekly":var m=l.diff(d,"days"),f=d.day();d.date(o.date()),d.month(o.month()),d.year(o.year()),l=d.clone(),d.day(f),l.day(f),l.add(m,"days"),d.subtract(1,"weeks"),l.subtract(1,"weeks"),u.add(1,"weeks");break;case"monthly":d.month()!=l.month()&&(p=1),d.month(o.month()),d.year(o.year()),d.subtract(1,"months"),l.month(o.month()),l.year(o.year()),l.subtract(1,"months"),l.add(p,"months"),u.add(1,"months");break;case"yearly":d.year()!=l.year()&&(p=1),d.year(o.year()),d.subtract(1,"years"),l.year(o.year()),l.subtract(1,"years"),l.add(p,"years"),u.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[h].repeat)}for(;u>d;)switch(t.hiddenDates.push({start:d.valueOf(),end:l.valueOf()}),i[h].repeat){case"daily":d.add(1,"days"),l.add(1,"days");break;case"weekly":d.add(1,"weeks"),l.add(1,"weeks");break;case"monthly":d.add(1,"months"),l.add(1,"months");break;case"yearly":d.add(1,"y"),l.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",i[h].repeat)}t.hiddenDates.push({start:d.valueOf(),end:l.valueOf()})}}e.removeDuplicates(t);var g=e.isHidden(t.range.start,t.hiddenDates),v=e.isHidden(t.range.end,t.hiddenDates),y=t.range.start,b=t.range.end;1==g.hidden&&(y=1==t.range.startToFront?g.startDate-1:g.endDate+1),1==v.hidden&&(b=1==t.range.endToFront?v.startDate-1:v.endDate+1),(1==g.hidden||1==v.hidden)&&t.range._applyRange(y,b)}},e.removeDuplicates=function(t){for(var e=t.hiddenDates,i=[],s=0;s<e.length;s++)for(var o=0;o<e.length;o++)s!=o&&1!=e[o].remove&&1!=e[s].remove&&(e[o].start>=e[s].start&&e[o].end<=e[s].end?e[o].remove=!0:e[o].start>=e[s].start&&e[o].start<=e[s].end?(e[s].end=e[o].end,e[o].remove=!0):e[o].end>=e[s].start&&e[o].end<=e[s].end&&(e[s].start=e[o].start,e[o].remove=!0));for(var s=0;s<e.length;s++)e[s].remove!==!0&&i.push(e[s]);t.hiddenDates=i,t.hiddenDates.sort(function(t,e){return t.start-e.start})},e.printDates=function(t){for(var e=0;e<t.length;e++)console.log(e,new Date(t[e].start),new Date(t[e].end),t[e].start,t[e].end,t[e].remove)},e.stepOverHiddenDates=function(t,e){for(var i=!1,o=t.current.valueOf(),n=0;n<t.hiddenDates.length;n++){var r=t.hiddenDates[n].start,a=t.hiddenDates[n].end;if(o>=r&&a>o){i=!0;break}}if(1==i&&o<t._end.valueOf()&&o!=e){var h=s(e),d=s(a);h.year()!=d.year()?t.switchedYear=!0:h.month()!=d.month()?t.switchedMonth=!0:h.dayOfYear()!=d.dayOfYear()&&(t.switchedDay=!0),t.current=d.toDate()}},e.toScreen=function(t,i,s){if(0==t.body.hiddenDates.length){var o=t.range.conversion(s);return(i.valueOf()-o.offset)*o.scale}var n=e.isHidden(i,t.body.hiddenDates);1==n.hidden&&(i=n.startDate);var r=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end);i=e.correctTimeForHidden(t.body.hiddenDates,t.range,i);var o=t.range.conversion(s,r);return(i.valueOf()-o.offset)*o.scale},e.toTime=function(t,i,s){if(0==t.body.hiddenDates.length){var o=t.range.conversion(s);return new Date(i/o.scale+o.offset)}var n=e.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),r=t.range.end-t.range.start-n,a=r*i/s,h=e.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a),d=new Date(h+a+t.range.start);return d},e.getHiddenDurationBetween=function(t,e,i){for(var s=0,o=0;o<t.length;o++){var n=t[o].start,r=t[o].end;n>=e&&i>r&&(s+=r-n)}return s},e.correctTimeForHidden=function(t,i,o){return o=s(o).toDate().valueOf(),o-=e.getHiddenDurationBefore(t,i,o)},e.getHiddenDurationBefore=function(t,e,i){var o=0;i=s(i).toDate().valueOf();for(var n=0;n<t.length;n++){var r=t[n].start,a=t[n].end;r>=e.start&&a<e.end&&i>=a&&(o+=a-r)}return o},e.getAccumulatedHiddenDuration=function(t,e,i){for(var s=0,o=0,n=e.start,r=0;r<t.length;r++){var a=t[r].start,h=t[r].end;if(a>=e.start&&h<e.end){if(o+=a-n,n=h,o>=i)break;s+=h-a}}return s},e.snapAwayFromHidden=function(t,i,s,o){var n=e.isHidden(i,t);return 1==n.hidden?0>s?1==o?n.startDate-(n.endDate-i)-1:n.startDate-1:1==o?n.endDate+(i-n.startDate)+1:n.endDate+1:i},e.isHidden=function(t,e){for(var i=0;i<e.length;i++){var s=e[i].start,o=e[i].end;if(t>=s&&o>t)return{hidden:!0,startDate:s,endDate:o}}return{hidden:!1,startDate:s,endDate:o}}},function(t,e,i){function s(t,e,i,s,o,n){this.current=0,this.autoScale=!0,this.stepIndex=0,this.step=1,this.scale=1,this.marginStart,this.marginEnd,this.deadSpace=0,this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.alignZeros=n,this.setRange(t,e,i,s,o)}s.prototype.setRange=function(t,e,i,s,o){this._start=void 0===o.min?t:o.min,this._end=void 0===o.max?e:o.max,this._start==this._end&&(this._start-=.75,this._end+=1),1==this.autoScale&&this.setMinimumStep(i,s),this.setFirst(o)},s.prototype.setMinimumStep=function(t,e){var i=this._end-this._start,s=1.2*i,o=t*(s/e),n=Math.round(Math.log(s)/Math.LN10),r=-1,a=Math.pow(10,n),h=0;0>n&&(h=n);for(var d=!1,l=h;Math.abs(l)<=Math.abs(n);l++){a=Math.pow(10,l);for(var c=0;c<this.minorSteps.length;c++){var p=a*this.minorSteps[c];if(p>=o){d=!0,r=c;break}}if(1==d)break}this.stepIndex=r,this.scale=a,this.step=a*this.minorSteps[r]},s.prototype.setFirst=function(t){void 0===t&&(t={});var e=void 0===t.min?this._start-2*this.scale*this.minorSteps[this.stepIndex]:t.min,i=void 0===t.max?this._end+this.scale*this.minorSteps[this.stepIndex]:t.max;this.marginEnd=void 0===t.max?this.roundToMinor(i):t.max,this.marginStart=void 0===t.min?this.roundToMinor(e):t.min,1==this.alignZeros&&(this.marginEnd-this.marginStart)%this.step!=0&&(this.marginEnd+=this.marginEnd%this.step),this.deadSpace=this.roundToMinor(i)-i+this.roundToMinor(e)-e,this.marginRange=this.marginEnd-this.marginStart,this.current=this.marginEnd},s.prototype.roundToMinor=function(t){var e=t-t%(this.scale*this.minorSteps[this.stepIndex]);return t%(this.scale*this.minorSteps[this.stepIndex])>.5*this.scale*this.minorSteps[this.stepIndex]?e+this.scale*this.minorSteps[this.stepIndex]:e},s.prototype.hasNext=function(){return this.current>=this.marginStart},s.prototype.next=function(){var t=this.current;this.current-=this.step,this.current==t&&(this.current=this._end)},s.prototype.previous=function(){this.current+=this.step,this.marginEnd+=this.step,this.marginRange=this.marginEnd-this.marginStart},s.prototype.getCurrent=function(t){var e=Math.abs(this.current)<this.step/2?0:this.current,i=""+Number(e).toPrecision(5);if(void 0===t||isNaN(Number(t))){if(-1!=i.indexOf(",")||-1!=i.indexOf("."))for(var s=i.length-1;s>0;s--){if("0"!=i[s]){if("."==i[s]||","==i[s]){i=i.slice(0,s);break}break}i=i.slice(0,s)}}else{var o="",n=i.indexOf("e");if(-1!=n&&(o=i.slice(n),i=i.slice(0,n)),n=Math.max(i.indexOf(","),i.indexOf(".")),-1===n?(0!==t&&(i+="."),n=i.length+t):0!==t&&(n+=t+1),n>i.length)for(var r=n-i.length;r>0;r--)i+="0";else i=i.slice(0,n);i+=o}return i},s.prototype.isMajor=function(){return this.current%(this.scale*this.majorSteps[this.stepIndex])==0},t.exports=s},function(t,e,i){function s(t,e){var i=h().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=i.clone().add(-3,"days").valueOf(),this.end=i.clone().add(4,"days").valueOf(),this.body=t,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10},this.options=r.extend({},this.defaultOptions),this.props={touch:{}},this.animateTimer=null,this.body.emitter.on("dragstart",this._onDragStart.bind(this)),this.body.emitter.on("drag",this._onDrag.bind(this)),this.body.emitter.on("dragend",this._onDragEnd.bind(this)),this.body.emitter.on("hold",this._onHold.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("DOMMouseScroll",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(e)}function o(t){if("horizontal"!=t&&"vertical"!=t)throw new TypeError(\'Unknown direction "\'+t+\'". Choose "horizontal" or "vertical".\')}function n(t,e){return{x:t.pageX-r.getAbsoluteLeft(e),y:t.pageY-r.getAbsoluteTop(e)}}var r=i(1),a=i(47),h=i(44),d=i(25),l=i(15);s.prototype=new d,s.prototype.setOptions=function(t){if(t){var e=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","activate","hiddenDates"];r.selectiveExtend(e,this.options,t),("start"in t||"end"in t)&&this.setRange(t.start,t.end)}},s.prototype.setRange=function(t,e,i,s){s!==!0&&(s=!1);var o=void 0!=t?r.convert(t,"Date").valueOf():null,n=void 0!=e?r.convert(e,"Date").valueOf():null;if(this._cancelAnimation(),i){var a=this,h=this.start,d=this.end,c="number"==typeof i?i:500,p=(new Date).valueOf(),u=!1,m=function(){if(!a.props.touch.dragging){var t=(new Date).valueOf(),e=t-p,i=e>c,g=i||null===o?o:r.easeInOutQuad(e,h,o,c),v=i||null===n?n:r.easeInOutQuad(e,d,n,c);f=a._applyRange(g,v),l.updateHiddenDates(a.body,a.options.hiddenDates),u=u||f,f&&a.body.emitter.emit("rangechange",{start:new Date(a.start),end:new Date(a.end),byUser:s}),i?u&&a.body.emitter.emit("rangechanged",{start:new Date(a.start),end:new Date(a.end),byUser:s}):a.animateTimer=setTimeout(m,20)}};return m()}var f=this._applyRange(o,n);if(l.updateHiddenDates(this.body,this.options.hiddenDates),f){var g={start:new Date(this.start),end:new Date(this.end),byUser:s};this.body.emitter.emit("rangechange",g),this.body.emitter.emit("rangechanged",g)}},s.prototype._cancelAnimation=function(){this.animateTimer&&(clearTimeout(this.animateTimer),this.animateTimer=null)},s.prototype._applyRange=function(t,e){var i,s=null!=t?r.convert(t,"Date").valueOf():this.start,o=null!=e?r.convert(e,"Date").valueOf():this.end,n=null!=this.options.max?r.convert(this.options.max,"Date").valueOf():null,a=null!=this.options.min?r.convert(this.options.min,"Date").valueOf():null;if(isNaN(s)||null===s)throw new Error(\'Invalid start "\'+t+\'"\');if(isNaN(o)||null===o)throw new Error(\'Invalid end "\'+e+\'"\');if(s>o&&(o=s),null!==a&&a>s&&(i=a-s,s+=i,o+=i,null!=n&&o>n&&(o=n)),null!==n&&o>n&&(i=o-n,s-=i,o-=i,null!=a&&a>s&&(s=a)),null!==this.options.zoomMin){var h=parseFloat(this.options.zoomMin);0>h&&(h=0),h>o-s&&(this.end-this.start===h&&s>this.start&&o<this.end?(s=this.start,o=this.end):(i=h-(o-s),s-=i/2,o+=i/2))}if(null!==this.options.zoomMax){var d=parseFloat(this.options.zoomMax);0>d&&(d=0),o-s>d&&(this.end-this.start===d&&s<this.start&&o>this.end?(s=this.start,o=this.end):(i=o-s-d,s+=i/2,o-=i/2))}var l=this.start!=s||this.end!=o;return s>=this.start&&s<=this.end||o>=this.start&&o<=this.end||this.start>=s&&this.start<=o||this.end>=s&&this.end<=o||this.body.emitter.emit("checkRangedItems"),this.start=s,this.end=o,l},s.prototype.getRange=function(){return{start:this.start,end:this.end}},s.prototype.conversion=function(t,e){return s.conversion(this.start,this.end,t,e)},s.conversion=function(t,e,i,s){return void 0===s&&(s=0),0!=i&&e-t!=0?{offset:t,scale:i/(e-t-s)}:{offset:0,scale:1}},s.prototype._onDragStart=function(t){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},s.prototype._onDrag=function(t){if(this.options.moveable&&this.props.touch.allowDragging){var e=this.options.direction;o(e);var i="horizontal"==e?t.gesture.deltaX:t.gesture.deltaY;i-=this.deltaDifference;var s=this.props.touch.end-this.props.touch.start,n=l.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);s-=n;var r="horizontal"==e?this.body.domProps.center.width:this.body.domProps.center.height,a=-i/r*s,h=this.props.touch.start+a,d=this.props.touch.end+a,c=l.snapAwayFromHidden(this.body.hiddenDates,h,this.previousDelta-i,!0),p=l.snapAwayFromHidden(this.body.hiddenDates,d,this.previousDelta-i,!0);if(c!=h||p!=d)return this.deltaDifference+=i,this.props.touch.start=c,this.props.touch.end=p,void this._onDrag(t);this.previousDelta=i,this._applyRange(h,d),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end),byUser:!0})}},s.prototype._onDragEnd=function(t){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},s.prototype._onMouseWheel=function(t){if(this.options.zoomable&&this.options.moveable){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i;i=0>e?1-e/5:1/(1+e/5);var s=a.fakeGesture(this,t),o=n(s.center,this.body.dom.center),r=this._pointerToDate(o);this.zoom(i,r,e)}t.preventDefault()}},s.prototype._onTouch=function(t){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},s.prototype._onHold=function(){this.props.touch.allowDragging=!1},s.prototype._onPinch=function(t){if(this.options.zoomable&&this.options.moveable&&(this.props.touch.allowDragging=!1,t.gesture.touches.length>1)){this.props.touch.center||(this.props.touch.center=n(t.gesture.center,this.body.dom.center));var e=1/(t.gesture.scale+this.scaleOffset),i=this._pointerToDate(this.props.touch.center),s=l.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=l.getHiddenDurationBefore(this.body.hiddenDates,this,i),r=s-o,a=i-o+(this.props.touch.start-(i-o))*e,h=i+r+(this.props.touch.end-(i+r))*e;this.startToFront=1-e>0?!1:!0,this.endToFront=e-1>0?!1:!0;var d=l.snapAwayFromHidden(this.body.hiddenDates,a,1-e,!0),c=l.snapAwayFromHidden(this.body.hiddenDates,h,e-1,!0);(d!=a||c!=h)&&(this.props.touch.start=d,this.props.touch.end=c,this.scaleOffset=1-t.gesture.scale,a=d,h=c),this.setRange(a,h,!1,!0),this.startToFront=!1,this.endToFront=!0}},s.prototype._pointerToDate=function(t){var e,i=this.options.direction;if(o(i),"horizontal"==i)return this.body.util.toTime(t.x).valueOf();var s=this.body.domProps.center.height;return e=this.conversion(s),t.y/e.scale+e.offset},s.prototype.zoom=function(t,e,i){null==e&&(e=(this.start+this.end)/2);var s=l.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),o=l.getHiddenDurationBefore(this.body.hiddenDates,this,e),n=s-o,r=e-o+(this.start-(e-o))*t,a=e+n+(this.end-(e+n))*t;this.startToFront=i>0?!1:!0,this.endToFront=-i>0?!1:!0;var h=l.snapAwayFromHidden(this.body.hiddenDates,r,i,!0),d=l.snapAwayFromHidden(this.body.hiddenDates,a,-i,!0);(h!=r||d!=a)&&(r=h,a=d),this.setRange(r,a,!1,!0),this.startToFront=!1,this.endToFront=!0},s.prototype.move=function(t){var e=this.end-this.start,i=this.start+e*t,s=this.end+e*t;this.start=i,this.end=s},s.prototype.moveTo=function(t){var e=(this.start+this.end)/2,i=e-t,s=this.start-i,o=this.end-i;this.setRange(s,o)},t.exports=s},function(t,e,i){var s=.001;\n\ne.orderByStart=function(t){t.sort(function(t,e){return t.data.start-e.data.start})},e.orderByEnd=function(t){t.sort(function(t,e){var i="end"in t.data?t.data.end:t.data.start,s="end"in e.data?e.data.end:e.data.start;return i-s})},e.stack=function(t,i,s){var o,n;if(s)for(o=0,n=t.length;n>o;o++)t[o].top=null;for(o=0,n=t.length;n>o;o++){var r=t[o];if(r.stack&&null===r.top){r.top=i.axis;do{for(var a=null,h=0,d=t.length;d>h;h++){var l=t[h];if(null!==l.top&&l!==r&&l.stack&&e.collision(r,l,i.item)){a=l;break}}null!=a&&(r.top=a.top+a.height+i.item.vertical)}while(a)}}},e.nostack=function(t,e,i){var s,o,n;for(s=0,o=t.length;o>s;s++)if(void 0!==t[s].data.subgroup){n=e.axis;for(var r in i)i.hasOwnProperty(r)&&1==i[r].visible&&i[r].index<i[t[s].data.subgroup].index&&(n+=i[r].height+e.item.vertical);t[s].top=n}else t[s].top=e.axis},e.collision=function(t,e,i){return t.left-i.horizontal+s<e.left+e.width&&t.left+t.width+i.horizontal-s>e.left&&t.top-i.vertical+s<e.top+e.height&&t.top+t.height+i.vertical-s>e.top}},function(t,e,i){function s(t,e,i,o){this.current=new Date,this._start=new Date,this._end=new Date,this.autoScale=!0,this.scale="day",this.step=1,this.setRange(t,e,i),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=o,void 0===o&&(this.hiddenDates=[]),this.format=s.FORMAT}var o=i(44),n=i(15),r=i(1);s.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},s.prototype.setFormat=function(t){var e=r.deepExtend({},s.FORMAT);this.format=r.deepExtend(e,t)},s.prototype.setRange=function(t,e,i){if(!(t instanceof Date&&e instanceof Date))throw"No legal start or end date in method setRange";this._start=void 0!=t?new Date(t.valueOf()):new Date,this._end=void 0!=e?new Date(e.valueOf()):new Date,this.autoScale&&this.setMinimumStep(i)},s.prototype.first=function(){this.current=new Date(this._start.valueOf()),this.roundToMinor()},s.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step)),this.current.setMonth(0);case"month":this.current.setDate(1);case"day":case"weekday":this.current.setHours(0);case"hour":this.current.setMinutes(0);case"minute":this.current.setSeconds(0);case"second":this.current.setMilliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case"hour":this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case"month":this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step)}},s.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},s.prototype.next=function(){var t=this.current.valueOf();if(this.current.getMonth()<6)switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current=new Date(this.current.valueOf()+1e3*this.step);break;case"minute":this.current=new Date(this.current.valueOf()+1e3*this.step*60);break;case"hour":this.current=new Date(this.current.valueOf()+1e3*this.step*60*60);var e=this.current.getHours();this.current.setHours(e-e%this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step)}else switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()+this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()+this.step);break;case"hour":this.current.setHours(this.current.getHours()+this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.getMilliseconds()<this.step&&this.current.setMilliseconds(0);break;case"second":this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case"minute":this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case"hour":this.current.getHours()<this.step&&this.current.setHours(0);break;case"weekday":case"day":this.current.getDate()<this.step+1&&this.current.setDate(1);break;case"month":this.current.getMonth()<this.step&&this.current.setMonth(0);break;case"year":}this.current.valueOf()==t&&(this.current=new Date(this._end.valueOf())),n.stepOverHiddenDates(this,t)},s.prototype.getCurrent=function(){return this.current},s.prototype.setScale=function(t){t&&"string"==typeof t.scale&&(this.scale=t.scale,this.step=t.step>0?t.step:1,this.autoScale=!1)},s.prototype.setAutoScale=function(t){this.autoScale=t},s.prototype.setMinimumStep=function(t){if(void 0!=t){var e=31104e6,i=2592e6,s=864e5,o=36e5,n=6e4,r=1e3,a=1;1e3*e>t&&(this.scale="year",this.step=1e3),500*e>t&&(this.scale="year",this.step=500),100*e>t&&(this.scale="year",this.step=100),50*e>t&&(this.scale="year",this.step=50),10*e>t&&(this.scale="year",this.step=10),5*e>t&&(this.scale="year",this.step=5),e>t&&(this.scale="year",this.step=1),3*i>t&&(this.scale="month",this.step=3),i>t&&(this.scale="month",this.step=1),5*s>t&&(this.scale="day",this.step=5),2*s>t&&(this.scale="day",this.step=2),s>t&&(this.scale="day",this.step=1),s/2>t&&(this.scale="weekday",this.step=1),4*o>t&&(this.scale="hour",this.step=4),o>t&&(this.scale="hour",this.step=1),15*n>t&&(this.scale="minute",this.step=15),10*n>t&&(this.scale="minute",this.step=10),5*n>t&&(this.scale="minute",this.step=5),n>t&&(this.scale="minute",this.step=1),15*r>t&&(this.scale="second",this.step=15),10*r>t&&(this.scale="second",this.step=10),5*r>t&&(this.scale="second",this.step=5),r>t&&(this.scale="second",this.step=1),200*a>t&&(this.scale="millisecond",this.step=200),100*a>t&&(this.scale="millisecond",this.step=100),50*a>t&&(this.scale="millisecond",this.step=50),10*a>t&&(this.scale="millisecond",this.step=10),5*a>t&&(this.scale="millisecond",this.step=5),a>t&&(this.scale="millisecond",this.step=1)}},s.snap=function(t,e,i){var s=new Date(t.valueOf());if("year"==e){var o=s.getFullYear()+Math.round(s.getMonth()/12);s.setFullYear(Math.round(o/i)*i),s.setMonth(0),s.setDate(0),s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)}else if("month"==e)s.getDate()>15?(s.setDate(1),s.setMonth(s.getMonth()+1)):s.setDate(1),s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0);else if("day"==e){switch(i){case 5:case 2:s.setHours(24*Math.round(s.getHours()/24));break;default:s.setHours(12*Math.round(s.getHours()/12))}s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)}else if("weekday"==e){switch(i){case 5:case 2:s.setHours(12*Math.round(s.getHours()/12));break;default:s.setHours(6*Math.round(s.getHours()/6))}s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)}else if("hour"==e){switch(i){case 4:s.setMinutes(60*Math.round(s.getMinutes()/60));break;default:s.setMinutes(30*Math.round(s.getMinutes()/30))}s.setSeconds(0),s.setMilliseconds(0)}else if("minute"==e){switch(i){case 15:case 10:s.setMinutes(5*Math.round(s.getMinutes()/5)),s.setSeconds(0);break;case 5:s.setSeconds(60*Math.round(s.getSeconds()/60));break;default:s.setSeconds(30*Math.round(s.getSeconds()/30))}s.setMilliseconds(0)}else if("second"==e)switch(i){case 15:case 10:s.setSeconds(5*Math.round(s.getSeconds()/5)),s.setMilliseconds(0);break;case 5:s.setMilliseconds(1e3*Math.round(s.getMilliseconds()/1e3));break;default:s.setMilliseconds(500*Math.round(s.getMilliseconds()/500))}else if("millisecond"==e){var n=i>5?i/2:1;s.setMilliseconds(Math.round(s.getMilliseconds()/n)*n)}return s},s.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.switchedYear=!1,this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.switchedMonth=!1,this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.switchedDay=!1,this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}switch(this.scale){case"millisecond":return 0==this.current.getMilliseconds();case"second":return 0==this.current.getSeconds();case"minute":return 0==this.current.getHours()&&0==this.current.getMinutes();case"hour":return 0==this.current.getHours();case"weekday":case"day":return 1==this.current.getDate();case"month":return 0==this.current.getMonth();case"year":return!1;default:return!1}},s.prototype.getLabelMinor=function(t){void 0==t&&(t=this.current);var e=this.format.minorLabels[this.scale];return e&&e.length>0?o(t).format(e):""},s.prototype.getLabelMajor=function(t){void 0==t&&(t=this.current);var e=this.format.majorLabels[this.scale];return e&&e.length>0?o(t).format(e):""},s.prototype.getClassName=function(){function t(t){return t/h%2==0?" even":" odd"}function e(t){return t.isSame(new Date,"day")?" today":t.isSame(o().add(1,"day"),"day")?" tomorrow":t.isSame(o().add(-1,"day"),"day")?" yesterday":""}function i(t){return t.isSame(new Date,"week")?" current-week":""}function s(t){return t.isSame(new Date,"month")?" current-month":""}function n(t){return t.isSame(new Date,"year")?" current-year":""}var r=o(this.current),a=r.locale?r.locale("en"):r.lang("en"),h=this.step;switch(this.scale){case"millisecond":return t(a.milliseconds()).trim();case"second":return t(a.seconds()).trim();case"minute":return t(a.minutes()).trim();case"hour":var d=a.hours();return 4==this.step&&(d=d+"-"+(d+4)),d+"h"+e(a)+t(a.hours());case"weekday":return a.format("dddd").toLowerCase()+e(a)+i(a)+t(a.date());case"day":var l=a.date(),c=a.format("MMMM").toLowerCase();return"day"+l+" "+c+s(a)+t(l-1);case"month":return a.format("MMMM").toLowerCase()+s(a)+t(a.month());case"year":var p=a.year();return"year"+p+n(a)+t(p);default:return""}},t.exports=s},function(t,e,i){function s(t,e,i){this.id=null,this.parent=null,this.data=t,this.dom=null,this.conversion=e||{},this.options=i||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.left=null,this.width=null,this.height=null}var o=i(45),n=i(1);s.prototype.stack=!0,s.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},s.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},s.prototype.setData=function(t){var e=void 0!=t.group&&this.data.group!=t.group;e&&this.parent.itemSet._moveToGroup(this,t.group),this.data=t,this.dirty=!0,this.displayed&&this.redraw()},s.prototype.setParent=function(t){this.displayed?(this.hide(),this.parent=t,this.parent&&this.show()):this.parent=t},s.prototype.isVisible=function(t){return!1},s.prototype.show=function(){return!1},s.prototype.hide=function(){return!1},s.prototype.redraw=function(){},s.prototype.repositionX=function(){},s.prototype.repositionY=function(){},s.prototype._repaintDeleteButton=function(t){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var e=this,i=document.createElement("div");i.className="delete",i.title="Delete this item",o(i,{preventDefault:!0}).on("tap",function(t){t.preventDefault(),t.stopPropagation(),e.parent.removeFromDataSet(e)}),t.appendChild(i),this.dom.deleteButton=i}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},s.prototype._updateContents=function(t){var e;if(this.options.template){var i=this.parent.itemSet.itemsData.get(this.id);e=this.options.template(i)}else e=this.data.content;if(e!==this.content){if(e instanceof Element)t.innerHTML="",t.appendChild(e);else if(void 0!=e)t.innerHTML=e;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error(\'Property "content" missing in item \'+this.id);this.content=e}},s.prototype._updateTitle=function(t){null!=this.data.title?t.title=this.data.title||"":t.removeAttribute("title")},s.prototype._updateDataAttributes=function(t){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var e=[];if(Array.isArray(this.options.dataAttributes))e=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;e=Object.keys(this.data)}for(var i=0;i<e.length;i++){var s=e[i],o=this.data[s];null!=o?t.setAttribute("data-"+s,o):t.removeAttribute("data-"+s)}}},s.prototype._updateStyle=function(t){this.style&&(n.removeCssText(t,this.style),this.style=null),this.data.style&&(n.addCssText(t,this.data.style),this.style=this.data.style)},t.exports=s},function(t,e,i){function s(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error(\'Property "start" missing in item \'+t.id);if(void 0==t.end)throw new Error(\'Property "end" missing in item \'+t.id)}o.call(this,t,e,i),this.emptyContent=!1}var o=(i(45),i(20)),n=i(31),r=i(24);s.prototype=new o(null,null,null),s.prototype.baseClassName="item background",s.prototype.stack=!1,s.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},s.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.content=document.createElement("div"),t.content.className="content",t.box.appendChild(t.content),this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.background;if(!e)throw new Error("Cannot redraw item: parent has no background container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},s.prototype.show=r.prototype.show,s.prototype.hide=r.prototype.hide,s.prototype.repositionX=r.prototype.repositionX,s.prototype.repositionY=function(t){var e="top"===this.options.orientation;this.dom.content.style.top=e?"":"0",this.dom.content.style.bottom=e?"0":"";var i;if(void 0!==this.data.subgroup){var s=this.data.subgroup,o=this.parent.subgroups,r=o[s].index;if(1==e){i=this.parent.subgroups[s].height+t.item.vertical,i+=0==r?t.axis-.5*t.item.vertical:0;var a=this.parent.top;for(var h in o)o.hasOwnProperty(h)&&1==o[h].visible&&o[h].index<r&&(a+=o[h].height+t.item.vertical);a+=0!=r?t.axis-.5*t.item.vertical:0,this.dom.box.style.top=a+"px",this.dom.box.style.bottom=""}else{var a=this.parent.top,d=0;for(var h in o)if(o.hasOwnProperty(h)&&1==o[h].visible){var l=o[h].height+t.item.vertical;d+=l,o[h].index>r&&(a+=l)}i=this.parent.subgroups[s].height+t.item.vertical,this.dom.box.style.top=this.parent.height-d+a+"px",this.dom.box.style.bottom=""}}else this.parent instanceof n?(i=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=e?"0":"",this.dom.box.style.bottom=e?"":"0"):(i=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=i+"px"},t.exports=s},function(t,e,i){function s(t,e,i){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},t&&void 0==t.start)throw new Error(\'Property "start" missing in item \'+t);o.call(this,t,e,i)}{var o=i(20);i(1)}s.prototype=new o(null,null,null),s.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},s.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("DIV"),t.content=document.createElement("DIV"),t.content.className="content",t.box.appendChild(t.content),t.line=document.createElement("DIV"),t.line.className="line",t.dot=document.createElement("DIV"),t.dot.className="dot",t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(!t.line.parentNode){var i=this.parent.dom.background;if(!i)throw new Error("Cannot redraw item: parent has no background container element");i.appendChild(t.line)}if(!t.dot.parentNode){var s=this.parent.dom.axis;if(!i)throw new Error("Cannot redraw item: parent has no axis container element");s.appendChild(t.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var o=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");t.box.className="item box"+o,t.line.className="item line"+o,t.dot.className="item dot"+o,this.props.dot.height=t.dot.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.line.width=t.line.offsetWidth,this.width=t.box.offsetWidth,this.height=t.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(t.box)},s.prototype.show=function(){this.displayed||this.redraw()},s.prototype.hide=function(){if(this.displayed){var t=this.dom;t.box.parentNode&&t.box.parentNode.removeChild(t.box),t.line.parentNode&&t.line.parentNode.removeChild(t.line),t.dot.parentNode&&t.dot.parentNode.removeChild(t.dot),this.displayed=!1}},s.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start),e=this.options.align;this.left="right"==e?t-this.width:"left"==e?t:t-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=t-this.props.line.width/2+"px",this.dom.dot.style.left=t-this.props.dot.width/2+"px"},s.prototype.repositionY=function(){var t=this.options.orientation,e=this.dom.box,i=this.dom.line,s=this.dom.dot;if("top"==t)e.style.top=(this.top||0)+"px",i.style.top="0",i.style.height=this.parent.top+this.top+1+"px",i.style.bottom="";else{var o=this.parent.itemSet.props.height,n=o-this.parent.top-this.parent.height+this.top;e.style.top=(this.parent.height-this.top-this.height||0)+"px",i.style.top=o-n+"px",i.style.bottom="0"}s.style.top=-this.props.dot.height/2+"px"},t.exports=s},function(t,e,i){function s(t,e,i){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}},t&&void 0==t.start)throw new Error(\'Property "start" missing in item \'+t);o.call(this,t,e,i)}var o=i(20);s.prototype=new o(null,null,null),s.prototype.isVisible=function(t){var e=(t.end-t.start)/4;return this.data.start>t.start-e&&this.data.start<t.end+e},s.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.point=document.createElement("div"),t.content=document.createElement("div"),t.content.className="content",t.point.appendChild(t.content),t.dot=document.createElement("div"),t.point.appendChild(t.dot),t.point["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.point.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");t.point.className="item point"+i,t.dot.className="item dot"+i,this.width=t.point.offsetWidth,this.height=t.point.offsetHeight,this.props.dot.width=t.dot.offsetWidth,this.props.dot.height=t.dot.offsetHeight,this.props.content.height=t.content.offsetHeight,t.content.style.marginLeft=2*this.props.dot.width+"px",t.dot.style.top=(this.height-this.props.dot.height)/2+"px",t.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1}this._repaintDeleteButton(t.point)},s.prototype.show=function(){this.displayed||this.redraw()},s.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},s.prototype.repositionX=function(){var t=this.conversion.toScreen(this.data.start);this.left=t-this.props.dot.width,this.dom.point.style.left=this.left+"px"},s.prototype.repositionY=function(){var t=this.options.orientation,e=this.dom.point;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},t.exports=s},function(t,e,i){function s(t,e,i){if(this.props={content:{width:0}},this.overflow=!1,t){if(void 0==t.start)throw new Error(\'Property "start" missing in item \'+t.id);if(void 0==t.end)throw new Error(\'Property "end" missing in item \'+t.id)}n.call(this,t,e,i)}var o=i(45),n=i(20);s.prototype=new n(null,null,null),s.prototype.baseClassName="item range",s.prototype.isVisible=function(t){return this.data.start<t.end&&this.data.end>t.start},s.prototype.redraw=function(){var t=this.dom;if(t||(this.dom={},t=this.dom,t.box=document.createElement("div"),t.content=document.createElement("div"),t.content.className="content",t.box.appendChild(t.content),t.box["timeline-item"]=this,this.dirty=!0),!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!t.box.parentNode){var e=this.parent.dom.foreground;if(!e)throw new Error("Cannot redraw item: parent has no foreground container element");e.appendChild(t.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var i=(this.data.className?" "+this.data.className:"")+(this.selected?" selected":"");t.box.className=this.baseClassName+i,this.overflow="hidden"!==window.getComputedStyle(t.content).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintDeleteButton(t.box),this._repaintDragLeft(),this._repaintDragRight()},s.prototype.show=function(){this.displayed||this.redraw()},s.prototype.hide=function(){if(this.displayed){var t=this.dom.box;t.parentNode&&t.parentNode.removeChild(t),this.displayed=!1}},s.prototype.repositionX=function(t){var e,i,s=this.parent.width,o=this.conversion.toScreen(this.data.start),n=this.conversion.toScreen(this.data.end);(void 0===t||t===!0)&&(-s>o&&(o=-s),n>2*s&&(n=2*s));var r=Math.max(n-o,1);switch(this.overflow?(this.left=o,this.width=r+this.props.content.width,i=this.props.content.width):(this.left=o,this.width=r,i=Math.min(n-o-2*this.options.padding,this.props.content.width)),this.dom.box.style.left=this.left+"px",this.dom.box.style.width=r+"px",this.options.align){case"left":this.dom.content.style.left="0";break;case"right":this.dom.content.style.left=Math.max(r-i-2*this.options.padding,0)+"px";break;case"center":this.dom.content.style.left=Math.max((r-i-2*this.options.padding)/2,0)+"px";break;default:e=this.overflow?n>0?Math.max(-o,0):-i:0>o?Math.min(-o,n-o-i-2*this.options.padding):0,this.dom.content.style.left=e+"px"}},s.prototype.repositionY=function(){var t=this.options.orientation,e=this.dom.box;e.style.top="top"==t?this.top+"px":this.parent.height-this.top-this.height+"px"},s.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var t=document.createElement("div");t.className="drag-left",t.dragLeftItem=this,o(t,{preventDefault:!0}).on("drag",function(){}),this.dom.box.appendChild(t),this.dom.dragLeft=t}else!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},s.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var t=document.createElement("div");t.className="drag-right",t.dragRightItem=this,o(t,{preventDefault:!0}).on("drag",function(){}),this.dom.box.appendChild(t),this.dom.dragRight=t}else!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},t.exports=s},function(t,e,i){function s(t,e){this.options=null,this.props=null}s.prototype.setOptions=function(t){t&&util.extend(this.options,t)},s.prototype.redraw=function(){return!1},s.prototype.destroy=function(){},s.prototype._isResized=function(){var t=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,t},t.exports=s},function(t,e,i){function s(t,e){this.body=t,this.defaultOptions={showCurrentTime:!0,locales:a,locale:"en"},this.options=o.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(e)}var o=i(1),n=i(25),r=i(44),a=i(48);s.prototype=new n,s.prototype._create=function(){var t=document.createElement("div");t.className="currenttime",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t},s.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},s.prototype.setOptions=function(t){t&&o.selectiveExtend(["showCurrentTime","locale","locales"],this.options,t)},s.prototype.redraw=function(){if(this.options.showCurrentTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar),this.start());var e=new Date((new Date).valueOf()+this.offset),i=this.body.util.toScreen(e),s=this.options.locales[this.options.locale],o=s.current+" "+s.time+": "+r(e).format("dddd, MMMM Do YYYY, H:mm:ss");o=o.charAt(0).toUpperCase()+o.substring(1),this.bar.style.left=i+"px",this.bar.title=o}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},s.prototype.start=function(){function t(){e.stop();var i=e.body.range.conversion(e.body.domProps.center.width).scale,s=1/i/10;30>s&&(s=30),s>1e3&&(s=1e3),e.redraw(),e.currentTimeTimer=setTimeout(t,s)}var e=this;t()},s.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},s.prototype.setCurrentTime=function(t){var e=o.convert(t,"Date").valueOf(),i=(new Date).valueOf();this.offset=e-i,this.redraw()},s.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},t.exports=s},function(t,e,i){function s(t,e){this.body=t,this.defaultOptions={showCustomTime:!1,locales:h,locale:"en",id:0},this.options=n.extend({},this.defaultOptions),this.customTime=e&&e.time?e.time:new Date,this.eventParams={},this._create(),this.setOptions(e)}var o=i(45),n=i(1),r=i(25),a=i(44),h=i(48);s.prototype=new r,s.prototype.setOptions=function(t){t&&(n.selectiveExtend(["showCustomTime","locale","locales","id"],this.options,t),this.options.id&&this.redraw())},s.prototype._create=function(){var t=document.createElement("div");t.className="customtime",t.style.position="absolute",t.style.top="0px",t.style.height="100%",this.bar=t;var e=document.createElement("div");e.style.position="relative",e.style.top="0px",e.style.left="-10px",e.style.height="100%",e.style.width="20px",t.appendChild(e),this.hammer=o(t,{prevent_default:!0}),this.hammer.on("dragstart",this._onDragStart.bind(this)),this.hammer.on("drag",this._onDrag.bind(this)),this.hammer.on("dragend",this._onDragEnd.bind(this))},s.prototype.destroy=function(){this.options.showCustomTime=!1,this.redraw(),this.hammer.enable(!1),this.hammer=null,this.body=null},s.prototype.redraw=function(){if(this.options.showCustomTime){var t=this.body.dom.backgroundVertical;this.bar.parentNode!=t&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),t.appendChild(this.bar));var e=this.body.util.toScreen(this.customTime),i=this.options.locales[this.options.locale],s=i.time+": "+a(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");s=s.charAt(0).toUpperCase()+s.substring(1),this.bar.style.left=e+"px",this.bar.title=s}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar);return!1},s.prototype.setCustomTime=function(t){this.customTime=n.convert(t,"Date"),this.redraw()},s.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},s.prototype._onDragStart=function(t){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,t.stopPropagation(),t.preventDefault()},s.prototype._onDrag=function(t){if(this.eventParams.dragging){var e=t.gesture.deltaX,i=this.body.util.toScreen(this.eventParams.customTime)+e,s=this.body.util.toTime(i);this.setCustomTime(s),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation(),t.preventDefault()}},s.prototype._onDragEnd=function(t){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),t.stopPropagation(),t.preventDefault())},t.exports=s},function(t,e,i){function s(t,e,i,s){this.id=o.randomUUID(),this.body=t,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}},title:{left:{text:void 0},right:{text:void 0}},format:{left:{decimals:void 0},right:{decimals:void 0}}},this.linegraphOptions=s,this.linegraphSVG=i,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.range={start:0,end:0},this.options=o.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(e),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.offsetHeight,this.hidden=!1,this.stepPixels=25,this.stepPixelsForced=25,this.zeroCrossing=-1,this.lineOffset=0,this.master=!0,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create();var n=this;this.body.emitter.on("verticalDrag",function(){n.dom.lineContainer.style.top=n.body.domProps.scrollTop+"px"})}var o=i(1),n=i(2),r=i(25),a=i(16);s.prototype=new r,s.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},s.prototype.updateGroup=function(t,e){this.groups[t]=e},s.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},s.prototype.setOptions=function(t){if(t){var e=!1;this.options.orientation!=t.orientation&&void 0!==t.orientation&&(e=!0);var i=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","customRange","title","format","alignZeros"];o.selectiveExtend(i,this.options,t),this.minWidth=Number((""+this.options.width).replace("px","")),1==e&&this.dom.frame&&(this.hide(),this.show())}},s.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",\nthis.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},s.prototype._redrawGroupIcons=function(){n.prepareElements(this.svgElements);var t,e=this.options.iconWidth,i=15,s=4,o=s+.5*i;t="left"==this.options.orientation?s:this.width-e-s;for(var r in this.groups)this.groups.hasOwnProperty(r)&&(1!=this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&1!=this.linegraphOptions.visibility[r]||(this.groups[r].drawIcon(t,o,this.svgElements,this.svg,e,i),o+=i+s));n.cleanupElements(this.svgElements),this.iconsRemoved=!1},s.prototype._cleanupIcons=function(){0==this.iconsRemoved&&(n.prepareElements(this.svgElements),n.cleanupElements(this.svgElements),this.iconsRemoved=!0)},s.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"==this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},s.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},s.prototype.setRange=function(t,e){0==this.master&&1==this.options.alignZeros&&-1!=this.zeroCrossing&&t>0&&(t=0),this.range.start=t,this.range.end=e},s.prototype.redraw=function(){var t=!1,e=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var i in this.groups)this.groups.hasOwnProperty(i)&&(1!=this.groups[i].visible||void 0!==this.linegraphOptions.visibility[i]&&1!=this.linegraphOptions.visibility[i]||e++);if(0==this.amountOfGroups||0==e)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=1==this.options.visible?Number((""+this.options.width).replace("px","")):0;var s=this.props,o=this.dom.frame;o.className="dataaxis",this._calculateCharSize();var n=this.options.orientation,r=this.options.showMinorLabels,a=this.options.showMajorLabels;s.minorLabelHeight=r?s.minorCharHeight:0,s.majorLabelHeight=a?s.majorCharHeight:0,s.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,s.minorLineHeight=1,s.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,s.majorLineHeight=1,"left"==n?(o.style.top="0",o.style.left="0",o.style.bottom="",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(o.style.top="",o.style.bottom="0",o.style.left="0",o.style.width=this.width+"px",o.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),t=this._redrawLabels(),t=this._isResized()||t,1==this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(n)}return t},s.prototype._redrawLabels=function(){var t=!1;n.prepareElements(this.DOMelements.lines),n.prepareElements(this.DOMelements.labels);var e=this.options.orientation,i=this.master?this.props.majorCharHeight||10:this.stepPixelsForced,s=new a(this.range.start,this.range.end,i,this.dom.frame.offsetHeight,this.options.customRange[this.options.orientation],0==this.master&&this.options.alignZeros);this.step=s;var o=(this.dom.frame.offsetHeight-s.deadSpace*(this.dom.frame.offsetHeight/s.marginRange))/((s.marginRange-s.deadSpace)/s.step);this.stepPixels=o;var r=this.height/o,h=0;if(0==this.master){o=this.stepPixelsForced,h=Math.round(this.dom.frame.offsetHeight/o-r);for(var d=0;.5*h>d;d++)s.previous();if(r=this.height/o,-1!=this.zeroCrossing&&1==this.options.alignZeros){var l=s.marginEnd/s.step-this.zeroCrossing;if(l>0)for(var d=0;l>d;d++)s.next();else if(0>l)for(var d=0;-l>d;d++)s.previous()}}else r+=.25;this.valueAtZero=s.marginEnd;var c,p=0,u=1;void 0!==this.options.format[e]&&(c=this.options.format[e].decimals),this.maxLabelSize=0;for(var m=0;u<Math.round(r);){s.next(),m=Math.round(u*o),p=u*o;var f=s.isMajor();(this.options.showMinorLabels&&0==f||0==this.master&&1==this.options.showMinorLabels)&&this._redrawLabel(m-2,s.getCurrent(c),e,"yAxis minor",this.props.minorCharHeight),f&&this.options.showMajorLabels&&1==this.master||0==this.options.showMinorLabels&&0==this.master&&1==f?(m>=0&&this._redrawLabel(m-2,s.getCurrent(c),e,"yAxis major",this.props.majorCharHeight),this._redrawLine(m,e,"grid horizontal major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(m,e,"grid horizontal minor",this.options.minorLinesOffset,this.props.minorLineWidth),1==this.master&&0==s.current&&(this.zeroCrossing=u),u++}this.conversionFactor=0==this.master?m/(this.valueAtZero-s.current):this.dom.frame.offsetHeight/s.marginRange;var g=0;void 0!==this.options.title[e]&&void 0!==this.options.title[e].text&&(g=this.props.titleCharHeight);var v=1==this.options.icons?Math.max(this.options.iconWidth,g)+this.options.labelOffsetX+15:g+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-v&&1==this.options.visible?(this.width=this.maxLabelSize+v,this.options.width=this.width+"px",n.cleanupElements(this.DOMelements.lines),n.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):this.maxLabelSize<this.width-v&&1==this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+v),this.options.width=this.width+"px",n.cleanupElements(this.DOMelements.lines),n.cleanupElements(this.DOMelements.labels),this.redraw(),t=!0):(n.cleanupElements(this.DOMelements.lines),n.cleanupElements(this.DOMelements.labels),t=!1),t},s.prototype.convertValue=function(t){var e=this.valueAtZero-t,i=e*this.conversionFactor;return i},s.prototype.screenToValue=function(t){return this.valueAtZero-t/this.conversionFactor},s.prototype._redrawLabel=function(t,e,i,s,o){var r=n.getDOMElement("div",this.DOMelements.labels,this.dom.frame);r.className=s,r.innerHTML=e,"left"==i?(r.style.left="-"+this.options.labelOffsetX+"px",r.style.textAlign="right"):(r.style.right="-"+this.options.labelOffsetX+"px",r.style.textAlign="left"),r.style.top=t-.5*o+this.options.labelOffsetY+"px",e+="";var a=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<e.length*a&&(this.maxLabelSize=e.length*a)},s.prototype._redrawLine=function(t,e,i,s,o){if(1==this.master){var r=n.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);r.className=i,r.innerHTML="","left"==e?r.style.left=this.width-s+"px":r.style.right=this.width-s+"px",r.style.width=o+"px",r.style.top=t+"px"}},s.prototype._redrawTitle=function(t){if(n.prepareElements(this.DOMelements.title),void 0!==this.options.title[t]&&void 0!==this.options.title[t].text){var e=n.getDOMElement("div",this.DOMelements.title,this.dom.frame);e.className="yAxis title "+t,e.innerHTML=this.options.title[t].text,void 0!==this.options.title[t].style&&o.addCssText(e,this.options.title[t].style),"left"==t?e.style.left=this.props.titleCharHeight+"px":e.style.right=this.props.titleCharHeight+"px",e.style.width=this.height+"px"}n.cleanupElements(this.DOMelements.title)},s.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var t=document.createTextNode("0"),e=document.createElement("div");e.className="yAxis minor measure",e.appendChild(t),this.dom.frame.appendChild(e),this.props.minorCharHeight=e.clientHeight,this.props.minorCharWidth=e.clientWidth,this.dom.frame.removeChild(e)}if(!("majorCharHeight"in this.props)){var i=document.createTextNode("0"),s=document.createElement("div");s.className="yAxis major measure",s.appendChild(i),this.dom.frame.appendChild(s),this.props.majorCharHeight=s.clientHeight,this.props.majorCharWidth=s.clientWidth,this.dom.frame.removeChild(s)}if(!("titleCharHeight"in this.props)){var o=document.createTextNode("0"),n=document.createElement("div");n.className="yAxis title measure",n.appendChild(o),this.dom.frame.appendChild(n),this.props.titleCharHeight=n.clientHeight,this.props.titleCharWidth=n.clientWidth,this.dom.frame.removeChild(n)}},t.exports=s},function(t,e,i){function s(t,e,i,s){this.id=e;var n=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","catmullRom"];this.options=o.selectiveBridgeObject(n,i),this.usingDefaultStyle=void 0===t.className,this.groupsUsingDefaultStyles=s,this.zeroPosition=0,this.update(t),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===t.visible?!0:t.visible}var o=i(1),n=i(2),r=i(49),a=i(50),h=i(51);s.prototype.setItems=function(t){null!=t?(this.itemsData=t,1==this.options.sort&&this.itemsData.sort(function(t,e){return t.x-e.x})):this.itemsData=[]},s.prototype.setZeroPosition=function(t){this.zeroPosition=t},s.prototype.setOptions=function(t){if(void 0!==t){var e=["sampling","style","sort","yAxisOrientation","barChart"];o.selectiveDeepExtend(e,this.options,t),o.mergeOptions(this.options,t,"catmullRom"),o.mergeOptions(this.options,t,"drawPoints"),o.mergeOptions(this.options,t,"shaded"),t.catmullRom&&"object"==typeof t.catmullRom&&t.catmullRom.parametrization&&("uniform"==t.catmullRom.parametrization?this.options.catmullRom.alpha=0:"chordal"==t.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=.5))}"line"==this.options.style?this.type=new r(this.id,this.options):"bar"==this.options.style?this.type=new a(this.id,this.options):"points"==this.options.style&&(this.type=new h(this.id,this.options))},s.prototype.update=function(t){this.group=t,this.content=t.content||"graph",this.className=t.className||this.className||"graphGroup"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===t.visible?!0:t.visible,this.style=t.style,this.setOptions(t.options)},s.prototype.drawIcon=function(t,e,i,s,o,r){var a,h,d=.5*r,l=n.getSVGElement("rect",i,s);if(l.setAttributeNS(null,"x",t),l.setAttributeNS(null,"y",e-d),l.setAttributeNS(null,"width",o),l.setAttributeNS(null,"height",2*d),l.setAttributeNS(null,"class","outline"),"line"==this.options.style)a=n.getSVGElement("path",i,s),a.setAttributeNS(null,"class",this.className),void 0!==this.style&&a.setAttributeNS(null,"style",this.style),a.setAttributeNS(null,"d","M"+t+","+e+" L"+(t+o)+","+e),1==this.options.shaded.enabled&&(h=n.getSVGElement("path",i,s),"top"==this.options.shaded.orientation?h.setAttributeNS(null,"d","M"+t+", "+(e-d)+"L"+t+","+e+" L"+(t+o)+","+e+" L"+(t+o)+","+(e-d)):h.setAttributeNS(null,"d","M"+t+","+e+" L"+t+","+(e+d)+" L"+(t+o)+","+(e+d)+"L"+(t+o)+","+e),h.setAttributeNS(null,"class",this.className+" iconFill")),1==this.options.drawPoints.enabled&&n.drawPoint(t+.5*o,e,this,i,s);else{var c=Math.round(.3*o),p=Math.round(.4*r),u=Math.round(.75*r),m=Math.round((o-2*c)/3);n.drawBar(t+.5*c+m,e+d-p-1,c,p,this.className+" bar",i,s),n.drawBar(t+1.5*c+m+2,e+d-u-1,c,u,this.className+" bar",i,s)}},s.prototype.getLegend=function(t,e){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");return this.drawIcon(0,.5*e,[],i,t,e),{icon:i,label:this.content,orientation:this.options.yAxisOrientation}},s.prototype.getYRange=function(t){return this.type.getYRange(t)},s.prototype.draw=function(t,e,i){this.type.draw(t,e,i)},t.exports=s},function(t,e,i){function s(t,e,i){this.groupId=t,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=e&&e.subgroupOrder,this.itemSet=i,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var s=this;this.itemSet.body.emitter.on("checkRangedItems",function(){s.checkRangedItems=!0}),this._create(),this.setData(e)}{var o=i(1),n=i(18);i(24)}s.prototype._create=function(){var t=document.createElement("div");t.className="vlabel",this.dom.label=t;var e=document.createElement("div");e.className="inner",t.appendChild(e),this.dom.inner=e;var i=document.createElement("div");i.className="group",i["timeline-group"]=this,this.dom.foreground=i,this.dom.background=document.createElement("div"),this.dom.background.className="group",this.dom.axis=document.createElement("div"),this.dom.axis.className="group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},s.prototype.setData=function(t){var e=t&&t.content;e instanceof Element?this.dom.inner.appendChild(e):this.dom.inner.innerHTML=void 0!==e&&null!==e?e:this.groupId||"",this.dom.label.title=t&&t.title||"",this.dom.inner.firstChild?o.removeClassName(this.dom.inner,"hidden"):o.addClassName(this.dom.inner,"hidden");var i=t&&t.className||null;i!=this.className&&(this.className&&(o.removeClassName(this.dom.label,this.className),o.removeClassName(this.dom.foreground,this.className),o.removeClassName(this.dom.background,this.className),o.removeClassName(this.dom.axis,this.className)),o.addClassName(this.dom.label,i),o.addClassName(this.dom.foreground,i),o.addClassName(this.dom.background,i),o.addClassName(this.dom.axis,i),this.className=i),this.style&&(o.removeCssText(this.dom.label,this.style),this.style=null),t&&t.style&&(o.addCssText(this.dom.label,t.style),this.style=t.style)},s.prototype.getLabelWidth=function(){return this.props.label.width},s.prototype.redraw=function(t,e,i){var s=!1,r=this.dom.marker.clientHeight;if(r!=this.lastMarkerHeight&&(this.lastMarkerHeight=r,o.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()}),i=!0),"function"==typeof this.itemSet.options.order){if(i){var a=this,h=!1;o.forEach(this.items,function(t){t.displayed||(t.redraw(),a.visibleItems.push(t)),t.repositionX(h)});var d=this.orderedItems.byStart.slice().sort(function(t,e){return a.itemSet.options.order(t.data,e.data)});n.stack(d,e,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t)}else this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.itemSet.options.stack?n.stack(this.visibleItems,e,i):n.nostack(this.visibleItems,e,this.subgroups);var l=this._calculateHeight(e),c=this.dom.foreground;this.top=c.offsetTop,this.left=c.offsetLeft,this.width=c.offsetWidth,s=o.updateProperty(this,"height",l)||s,s=o.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||s,s=o.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||s,this.dom.background.style.height=l+"px",this.dom.foreground.style.height=l+"px",this.dom.label.style.height=l+"px";for(var p=0,u=this.visibleItems.length;u>p;p++){var m=this.visibleItems[p];m.repositionY(e)}return s},s.prototype._calculateHeight=function(t){var e,i=this.visibleItems;this.resetSubgroups();var s=this;if(i.length){var n=i[0].top,r=i[0].top+i[0].height;if(o.forEach(i,function(t){n=Math.min(n,t.top),r=Math.max(r,t.top+t.height),void 0!==t.data.subgroup&&(s.subgroups[t.data.subgroup].height=Math.max(s.subgroups[t.data.subgroup].height,t.height),s.subgroups[t.data.subgroup].visible=!0)}),n>t.axis){var a=n-t.axis;r-=a,o.forEach(i,function(t){t.top-=a})}e=r+t.item.vertical/2}else e=0;return e=Math.max(e,this.props.label.height)},s.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},s.prototype.hide=function(){var t=this.dom.label;t.parentNode&&t.parentNode.removeChild(t);var e=this.dom.foreground;e.parentNode&&e.parentNode.removeChild(e);var i=this.dom.background;i.parentNode&&i.parentNode.removeChild(i);var s=this.dom.axis;s.parentNode&&s.parentNode.removeChild(s)},s.prototype.add=function(t){if(this.items[t.id]=t,t.setParent(this),void 0!==t.data.subgroup&&(void 0===this.subgroups[t.data.subgroup]&&(this.subgroups[t.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[t.data.subgroup].items.push(t)),this.orderSubgroups(),-1==this.visibleItems.indexOf(t)){var e=this.itemSet.body.range;this._checkIfVisible(t,this.visibleItems,e)}},s.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var t=[];if("string"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push({subgroup:e,sortField:this.subgroups[e].items[0].data[this.subgroupOrderer]});t.sort(function(t,e){return t.sortField-e.sortField})}else if("function"==typeof this.subgroupOrderer){for(var e in this.subgroups)t.push(this.subgroups[e].items[0].data);t.sort(this.subgroupOrderer)}if(t.length>0)for(var i=0;i<t.length;i++)this.subgroups[t[i].subgroup].index=i}},s.prototype.resetSubgroups=function(){for(var t in this.subgroups)this.subgroups.hasOwnProperty(t)&&(this.subgroups[t].visible=!1)},s.prototype.remove=function(t){delete this.items[t.id],t.setParent(null);var e=this.visibleItems.indexOf(t);-1!=e&&this.visibleItems.splice(e,1)},s.prototype.removeFromDataSet=function(t){this.itemSet.removeItem(t.id)},s.prototype.order=function(){for(var t=o.toArray(this.items),e=[],i=[],s=0;s<t.length;s++)void 0!==t[s].data.end&&i.push(t[s]),e.push(t[s]);this.orderedItems={byStart:e,byEnd:i},n.orderByStart(this.orderedItems.byStart),n.orderByEnd(this.orderedItems.byEnd)},s.prototype._updateVisibleItems=function(t,e,i){var s,n,r=[],a={},h=(i.end-i.start)/4,d=i.start-h,l=i.end+h,c=function(t){return d>t?-1:l>=t?0:1};if(e.length>0)for(n=0;n<e.length;n++)this._checkIfVisibleWithReference(e[n],r,a,i);var p=o.binarySearchCustom(t.byStart,c,"data","start");if(this._traceVisible(p,t.byStart,r,a,function(t){return t.data.start<d||t.data.start>l}),1==this.checkRangedItems)for(this.checkRangedItems=!1,n=0;n<t.byEnd.length;n++)this._checkIfVisibleWithReference(t.byEnd[n],r,a,i);else{var u=o.binarySearchCustom(t.byEnd,c,"data","end");this._traceVisible(u,t.byEnd,r,a,function(t){return t.data.end<d||t.data.end>l})}for(n=0;n<r.length;n++)s=r[n],s.displayed||s.show(),s.repositionX();return r},s.prototype._traceVisible=function(t,e,i,s,o){var n,r;if(-1!=t){for(r=t;r>=0&&(n=e[r],!o(n));r--)void 0===s[n.id]&&(s[n.id]=!0,i.push(n));for(r=t+1;r<e.length&&(n=e[r],!o(n));r++)void 0===s[n.id]&&(s[n.id]=!0,i.push(n))}},s.prototype._checkIfVisible=function(t,e,i){t.isVisible(i)?(t.displayed||t.show(),t.repositionX(),e.push(t)):t.displayed&&t.hide()},s.prototype._checkIfVisibleWithReference=function(t,e,i,s){t.isVisible(s)?void 0===i[t.id]&&(i[t.id]=!0,e.push(t)):t.displayed&&t.hide()},t.exports=s},function(t,e,i){function s(t,e,i){o.call(this,t,e,i),this.width=0,this.height=0,this.top=0,this.left=0}var o=(i(1),i(30));s.prototype=Object.create(o.prototype),s.prototype.redraw=function(t,e,i){var s=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,t),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var o=0,n=this.visibleItems.length;n>o;o++){var r=this.visibleItems[o];r.repositionY(e)}return s},s.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},t.exports=s},function(t,e,i){function s(t,e){this.body=t,this.defaultOptions={type:null,orientation:"bottom",align:"auto",stack:!0,groupOrder:null,selectable:!0,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},snap:h.snap,onAdd:function(t,e){e(t)},onUpdate:function(t,e){e(t)},onMove:function(t,e){e(t)},onRemove:function(t,e){e(t)},onMoving:function(t,e){e(t)},margin:{item:{horizontal:10,vertical:10},axis:20},padding:5},this.options=n.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:t.util.toScreen,toTime:t.util.toTime},this.dom={},this.props={},this.hammer=null;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,s){i._onAdd(e.items)},update:function(t,e,s){i._onUpdate(e.items)},remove:function(t,e,s){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,s){i._onAddGroups(e.items)},update:function(t,e,s){i._onUpdateGroups(e.items)},remove:function(t,e,s){i._onRemoveGroups(e.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this._create(),this.setOptions(e)}var o=i(45),n=i(1),r=i(3),a=i(4),h=i(19),d=i(25),l=i(30),c=i(31),p=i(22),u=i(23),m=i(24),f=i(21),g="__ungrouped__",v="__background__";s.prototype=new d,s.types={background:f,box:p,range:m,point:u},s.prototype._create=function(){var t=document.createElement("div");t.className="itemset",t["timeline-itemset"]=this,this.dom.frame=t;var e=document.createElement("div");e.className="background",t.appendChild(e),this.dom.background=e;var i=document.createElement("div");i.className="foreground",t.appendChild(i),this.dom.foreground=i;var s=document.createElement("div");s.className="axis",this.dom.axis=s;var n=document.createElement("div");n.className="labelset",this.dom.labelSet=n,this._updateUngrouped();var r=new c(v,null,this);r.show(),this.groups[v]=r,this.hammer=o(this.body.dom.centerContainer,{preventDefault:!0}),this.hammer.on("touch",this._onTouch.bind(this)),this.hammer.on("dragstart",this._onDragStart.bind(this)),this.hammer.on("drag",this._onDrag.bind(this)),this.hammer.on("dragend",this._onDragEnd.bind(this)),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("hold",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.show()},s.prototype.setOptions=function(t){if(t){var e=["type","align","order","padding","stack","selectable","groupOrder","dataAttributes","template","hide","snap"];n.selectiveExtend(e,this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation=t.orientation:"object"==typeof t.orientation&&"item"in t.orientation&&(this.options.orientation=t.orientation.item)),"margin"in t&&("number"==typeof t.margin?(this.options.margin.axis=t.margin,this.options.margin.item.horizontal=t.margin,this.options.margin.item.vertical=t.margin):"object"==typeof t.margin&&(n.selectiveExtend(["axis"],this.options.margin,t.margin),"item"in t.margin&&("number"==typeof t.margin.item?(this.options.margin.item.horizontal=t.margin.item,this.options.margin.item.vertical=t.margin.item):"object"==typeof t.margin.item&&n.selectiveExtend(["horizontal","vertical"],this.options.margin.item,t.margin.item)))),"editable"in t&&("boolean"==typeof t.editable?(this.options.editable.updateTime=t.editable,this.options.editable.updateGroup=t.editable,this.options.editable.add=t.editable,this.options.editable.remove=t.editable):"object"==typeof t.editable&&n.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,t.editable));var i=function(e){var i=t[e];if(i){if(!(i instanceof Function))throw new Error("option "+e+" must be a function "+e+"(item, callback)");this.options[e]=i}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(i),this.markDirty()}},s.prototype.markDirty=function(t){this.groupIds=[],this.stackDirty=!0,t&&t.refreshItems&&n.forEach(this.items,function(t){t.dirty=!0,t.displayed&&t.redraw()})},s.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},s.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},s.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},s.prototype.setSelection=function(t){var e,i,s,o;for(void 0==t&&(t=[]),Array.isArray(t)||(t=[t]),e=0,i=this.selection.length;i>e;e++)s=this.selection[e],o=this.items[s],o&&o.unselect();for(this.selection=[],e=0,i=t.length;i>e;e++)s=t[e],o=this.items[s],o&&(this.selection.push(s),o.select())},s.prototype.getSelection=function(){return this.selection.concat([])},s.prototype.getVisibleItems=function(){var t=this.body.range.getRange(),e=this.body.util.toScreen(t.start),i=this.body.util.toScreen(t.end),s=[];for(var o in this.groups)if(this.groups.hasOwnProperty(o))for(var n=this.groups[o],r=n.visibleItems,a=0;a<r.length;a++){var h=r[a];h.left<i&&h.left+h.width>e&&s.push(h.id)}return s},s.prototype._deselect=function(t){for(var e=this.selection,i=0,s=e.length;s>i;i++)if(e[i]==t){e.splice(i,1);break}},s.prototype.redraw=function(){var t=this.options.margin,e=this.body.range,i=n.option.asSize,s=this.options,o=s.orientation,r=!1,a=this.dom.frame,h=s.editable.updateTime||s.editable.updateGroup;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,a.className="itemset"+(h?" editable":""),r=this._orderGroups()||r;var d=e.end-e.start,l=d!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;l&&(this.stackDirty=!0),this.lastVisibleInterval=d,this.props.lastWidth=this.props.width;var c=this.stackDirty,p=this._firstGroup(),u={item:t.item,axis:t.axis},m={item:t.item,axis:t.item.vertical/2},f=0,g=t.axis+t.item.vertical;return this.groups[v].redraw(e,m,c),n.forEach(this.groups,function(t){var i=t==p?u:m,s=t.redraw(e,i,c);r=s||r,f+=t.height}),f=Math.max(f,g),this.stackDirty=!1,a.style.height=i(f),this.props.width=a.offsetWidth,this.props.height=f,this.dom.axis.style.top=i("top"==o?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.dom.axis.style.left="0",r=this._isResized()||r},s.prototype._firstGroup=function(){var t="top"==this.options.orientation?0:this.groupIds.length-1,e=this.groupIds[t],i=this.groups[e]||this.groups[g];return i||null},s.prototype._updateUngrouped=function(){{var t,e,i=this.groups[g];this.groups[v]}if(this.groupsData){if(i){i.hide(),delete this.groups[g];for(e in this.items)if(this.items.hasOwnProperty(e)){t=this.items[e],t.parent&&t.parent.remove(t);var s=this._getGroupId(t.data),o=this.groups[s];o&&o.add(t)||t.hide()}}}else if(!i){var n=null,r=null;i=new l(n,r,this),this.groups[g]=i;for(e in this.items)this.items.hasOwnProperty(e)&&(t=this.items[e],i.add(t));i.show()}},s.prototype.getLabelSet=function(){return this.dom.labelSet},s.prototype.setItems=function(t){var e,i=this,s=this.itemsData;if(t){if(!(t instanceof r||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(s&&(n.forEach(this.itemListeners,function(t,e){s.off(e,t)}),e=s.getIds(),this._onRemove(e)),this.itemsData){var o=this.id;n.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,o)}),e=this.itemsData.getIds(),this._onAdd(e),this._updateUngrouped()}},s.prototype.getItems=function(){return this.itemsData},s.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(n.forEach(this.groupListeners,function(t,e){i.groupsData.unsubscribe(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof r||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var s=this.id;n.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,s)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._updateUngrouped(),this._order(),this.body.emitter.emit("change",{queue:!0})},s.prototype.getGroups=function(){return this.groupsData},s.prototype.removeItem=function(t){var e=this.itemsData.get(t),i=this.itemsData.getDataSet();e&&this.options.onRemove(e,function(e){e&&i.remove(t)})},s.prototype._getType=function(t){return t.type||this.options.type||(t.end?"range":"box")},s.prototype._getGroupId=function(t){var e=this._getType(t);return"background"==e&&void 0==t.group?v:this.groupsData?t.group:g},s.prototype._onUpdate=function(t){var e=this;t.forEach(function(t){var i=e.itemsData.get(t,e.itemOptions),o=e.items[t],n=e._getType(i),r=s.types[n];if(o&&(r&&o instanceof r?e._updateItem(o,i):(e._removeItem(o),o=null)),!o){if(!r)throw new TypeError("rangeoverflow"==n?\'Item type "rangeoverflow" is deprecated. Use css styling instead: .vis.timeline .item.range .content {overflow: visible;}\':\'Unknown item type "\'+n+\'"\');o=new r(i,e.conversion,e.options),o.id=t,e._addItem(o)}}),this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0})},s.prototype._onAdd=s.prototype._onUpdate,s.prototype._onRemove=function(t){var e=0,i=this;t.forEach(function(t){var s=i.items[t];s&&(e++,i._removeItem(s))}),e&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0}))},s.prototype._order=function(){n.forEach(this.groups,function(t){t.order()})},s.prototype._onUpdateGroups=function(t){this._onAddGroups(t)},s.prototype._onAddGroups=function(t){var e=this;t.forEach(function(t){var i=e.groupsData.get(t),s=e.groups[t];if(s)s.setData(i);else{if(t==g||t==v)throw new Error("Illegal group id. "+t+" is a reserved id.");var o=Object.create(e.options);n.extend(o,{height:null}),s=new l(t,i,e),e.groups[t]=s;for(var r in e.items)if(e.items.hasOwnProperty(r)){var a=e.items[r];a.data.group==t&&s.add(a)}s.order(),s.show()}}),this.body.emitter.emit("change",{queue:!0})},s.prototype._onRemoveGroups=function(t){var e=this.groups;t.forEach(function(t){var i=e[t];i&&(i.hide(),delete e[t])}),this.markDirty(),this.body.emitter.emit("change",{queue:!0})},s.prototype._orderGroups=function(){if(this.groupsData){var t=this.groupsData.getIds({order:this.options.groupOrder}),e=!n.equalArray(t,this.groupIds);if(e){var i=this.groups;t.forEach(function(t){i[t].hide()}),t.forEach(function(t){i[t].show()}),this.groupIds=t}return e}return!1},s.prototype._addItem=function(t){this.items[t.id]=t;var e=this._getGroupId(t.data),i=this.groups[e];i&&i.add(t)},s.prototype._updateItem=function(t,e){var i=t.data.group;if(t.setData(e),i!=t.data.group){var s=this.groups[i];s&&s.remove(t);var o=this._getGroupId(t.data),n=this.groups[o];n&&n.add(t)}},s.prototype._removeItem=function(t){t.hide(),delete this.items[t.id];var e=this.selection.indexOf(t.id);-1!=e&&this.selection.splice(e,1),t.parent&&t.parent.remove(t)},s.prototype._constructByEndArray=function(t){for(var e=[],i=0;i<t.length;i++)t[i]instanceof m&&e.push(t[i]);return e},s.prototype._onTouch=function(t){this.touchParams.item=this.itemFromTarget(t)},s.prototype._onDragStart=function(t){if(this.options.editable.updateTime||this.options.editable.updateGroup){var e,i=this.touchParams.item||null,s=this;if(i&&i.selected){var o=t.target.dragLeftItem,r=t.target.dragRightItem;o?(e={item:o,initialX:t.gesture.center.pageX,dragLeft:!0,data:n.extend({},i.data)},this.touchParams.itemProps=[e]):r?(e={item:r,initialX:t.gesture.center.pageX,dragRight:!0,data:n.extend({},i.data)},this.touchParams.itemProps=[e]):this.touchParams.itemProps=this.getSelection().map(function(e){var i=s.items[e],o={item:i,initialX:t.gesture.center.pageX,data:n.extend({},i.data)};return o}),t.stopPropagation()}else this.options.editable.add&&t.gesture.srcEvent.ctrlKey&&this._onDragStartAddItem(t)}},s.prototype._onDragStartAddItem=function(t){var e=this.options.snap||null,i=n.getAbsoluteLeft(this.dom.frame),s=t.gesture.center.pageX-i-10,o=this.body.util.toTime(s),r=this.body.util.getScale(),a=this.body.util.getStep(),h=e?e(o,r,a):h,d=h,l={type:"range",\nstart:h,end:d,content:"new item"},c=n.randomUUID();l[this.itemsData._fieldId]=c;var p=this.groupFromTarget(t);p&&(l.group=p.groupId);var u=new m(l,this.conversion,this.options);u.id=c,u.data=l,this._addItem(u);var f={item:u,dragRight:!0,initialX:t.gesture.center.pageX,data:n.extend({},l)};this.touchParams.itemProps=[f],t.stopPropagation()},s.prototype._onDrag=function(t){if(t.preventDefault(),this.touchParams.itemProps){t.stopPropagation();var e=this,i=this.options.snap||null,s=this.body.dom.root.offsetLeft+this.body.domProps.left.width,o=this.body.util.getScale(),r=this.body.util.getStep();this.touchParams.itemProps.forEach(function(a){var h=e.body.util.toTime(t.gesture.center.pageX-s),d=e.body.util.toTime(a.initialX-s),l=h-d,c=n.extend({},a.item.data);if(e.options.editable.updateTime)if(a.dragLeft){if(void 0!=c.start){var p=n.convert(a.data.start,"Date"),u=new Date(p.valueOf()+l);c.start=i?i(u,o,r):u}}else if(a.dragRight){if(void 0!=c.end){var m=n.convert(a.data.end,"Date"),f=new Date(m.valueOf()+l);c.end=i?i(f,o,r):f}}else if(void 0!=c.start){var p=n.convert(a.data.start,"Date").valueOf(),u=new Date(p+l);if(void 0!=c.end){var m=n.convert(a.data.end,"Date"),g=m.valueOf()-p.valueOf();c.start=i?i(u,o,r):u,c.end=new Date(c.start.valueOf()+g)}else c.start=i?i(u,o,r):u}if(e.options.editable.updateGroup&&!a.dragLeft&&!a.dragRight&&void 0!=c.group){var v=e.groupFromTarget(t);v&&(c.group=v.groupId)}e.options.onMoving(c,function(t){t&&a.item.setData(t)})}),this.stackDirty=!0,this.body.emitter.emit("change")}},s.prototype._moveToGroup=function(t,e){var i=this.groups[e];if(i&&i.groupId!=t.data.group){var s=t.parent;s.remove(t),s.order(),i.add(t),i.order(),t.data.group=i.groupId}},s.prototype._onDragEnd=function(t){if(t.preventDefault(),this.touchParams.itemProps){t.stopPropagation();var e=[],i=this,s=this.itemsData.getDataSet(),o=this.touchParams.itemProps;this.touchParams.itemProps=null,o.forEach(function(t){var o=t.item.id,r=null!=i.itemsData.get(o,i.itemOptions);if(r){var a=n.extend({},t.item.data);i.options.onMove(a,function(n){n?(n[s._fieldId]=o,e.push(n)):(t.item.setData(t.data),i.stackDirty=!0,i.body.emitter.emit("change"))})}else i.options.onAdd(t.item.data,function(e){i._removeItem(t.item),e&&i.itemsData.getDataSet().add(e),i.stackDirty=!0,i.body.emitter.emit("change")})}),e.length&&s.update(e)}},s.prototype._onSelectItem=function(t){if(this.options.selectable){var e=t.gesture.srcEvent&&t.gesture.srcEvent.ctrlKey,i=t.gesture.srcEvent&&t.gesture.srcEvent.shiftKey;if(e||i)return void this._onMultiSelectItem(t);var s=this.getSelection(),o=this.itemFromTarget(t),n=o?[o.id]:[];this.setSelection(n);var r=this.getSelection();(r.length>0||s.length>0)&&this.body.emitter.emit("select",{items:r})}},s.prototype._onAddItem=function(t){if(this.options.selectable&&this.options.editable.add){var e=this,i=this.options.snap||null,s=this.itemFromTarget(t);if(s){var o=e.itemsData.get(s.id);this.options.onUpdate(o,function(t){t&&e.itemsData.getDataSet().update(t)})}else{var r=n.getAbsoluteLeft(this.dom.frame),a=t.gesture.center.pageX-r,h=this.body.util.toTime(a),d=this.body.util.getScale(),l=this.body.util.getStep(),c={start:i?i(h,d,l):h,content:"new item"};if("range"===this.options.type){var p=this.body.util.toTime(a+this.props.width/5);c.end=i?i(p,d,l):p}c[this.itemsData._fieldId]=n.randomUUID();var u=this.groupFromTarget(t);u&&(c.group=u.groupId),this.options.onAdd(c,function(t){t&&e.itemsData.getDataSet().add(t)})}}},s.prototype._onMultiSelectItem=function(t){if(this.options.selectable){var e,i=this.itemFromTarget(t);if(i){e=this.getSelection();var o=t.gesture.touches[0]&&t.gesture.touches[0].shiftKey||!1;if(o){e.push(i.id);var n=s._getItemRange(this.itemsData.get(e,this.itemOptions));e=[];for(var r in this.items)if(this.items.hasOwnProperty(r)){var a=this.items[r],h=a.data.start,d=void 0!==a.data.end?a.data.end:h;h>=n.min&&d<=n.max&&!(a instanceof f)&&e.push(a.id)}}else{var l=e.indexOf(i.id);-1==l?e.push(i.id):e.splice(l,1)}this.setSelection(e),this.body.emitter.emit("select",{items:this.getSelection()})}}},s._getItemRange=function(t){var e=null,i=null;return t.forEach(function(t){(null==i||t.start<i)&&(i=t.start),void 0!=t.end?(null==e||t.end>e)&&(e=t.end):(null==e||t.start>e)&&(e=t.start)}),{min:i,max:e}},s.prototype.itemFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-item"))return e["timeline-item"];e=e.parentNode}return null},s.prototype.groupFromTarget=function(t){for(var e=t.gesture?t.gesture.center.pageY:t.pageY,i=0;i<this.groupIds.length;i++){var s=this.groupIds[i],o=this.groups[s],r=o.dom.foreground,a=n.getAbsoluteTop(r);if(e>a&&e<a+r.offsetHeight)return o;if("top"===this.options.orientation){if(i===this.groupIds.length-1&&e>a)return o}else if(0===i&&e<a+r.offset)return o}return null},s.itemSetFromTarget=function(t){for(var e=t.target;e;){if(e.hasOwnProperty("timeline-itemset"))return e["timeline-itemset"];e=e.parentNode}return null},t.exports=s},function(t,e,i){function s(t,e,i,s){this.body=t,this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}},this.side=i,this.options=o.extend({},this.defaultOptions),this.linegraphOptions=s,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.setOptions(e)}var o=i(1),n=i(2),r=i(25);s.prototype=new r,s.prototype.clear=function(){this.groups={},this.amountOfGroups=0},s.prototype.addGroup=function(t,e){this.groups.hasOwnProperty(t)||(this.groups[t]=e),this.amountOfGroups+=1},s.prototype.updateGroup=function(t,e){this.groups[t]=e},s.prototype.removeGroup=function(t){this.groups.hasOwnProperty(t)&&(delete this.groups[t],this.amountOfGroups-=1)},s.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="legendText",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},s.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},s.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},s.prototype.setOptions=function(t){var e=["enabled","orientation","icons","left","right"];o.selectiveDeepExtend(e,this.options,t)},s.prototype.redraw=function(){var t=0;for(var e in this.groups)this.groups.hasOwnProperty(e)&&(1!=this.groups[e].visible||void 0!==this.linegraphOptions.visibility[e]&&1!=this.linegraphOptions.visibility[e]||t++);if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==t)this.hide();else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position)this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom="";else{var i=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+i+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var s="";for(var e in this.groups)this.groups.hasOwnProperty(e)&&(1!=this.groups[e].visible||void 0!==this.linegraphOptions.visibility[e]&&1!=this.linegraphOptions.visibility[e]||(s+=this.groups[e].content+"<br />"));this.dom.textArea.innerHTML=s,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},s.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){n.prepareElements(this.svgElements);var t=window.getComputedStyle(this.dom.frame).paddingTop,e=Number(t.replace("px","")),i=e,s=this.options.iconSize,o=.75*this.options.iconSize,r=e+.5*o+3;this.svg.style.width=s+5+e+"px";for(var a in this.groups)this.groups.hasOwnProperty(a)&&(1!=this.groups[a].visible||void 0!==this.linegraphOptions.visibility[a]&&1!=this.linegraphOptions.visibility[a]||(this.groups[a].drawIcon(i,r,this.svgElements,this.svg,s,o),r+=o+this.options.iconSpacing));n.cleanupElements(this.svgElements)}},t.exports=s},function(t,e,i){function s(t,e){this.id=o.randomUUID(),this.body=t,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,handleOverlap:"overlap",align:"center"},catmullRom:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0,alignZeros:!0,customRange:{left:{min:void 0,max:void 0},right:{min:void 0,max:void 0}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},groups:{visibility:{}}},this.options=o.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1;var i=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(t,e,s){i._onAdd(e.items)},update:function(t,e,s){i._onUpdate(e.items)},remove:function(t,e,s){i._onRemove(e.items)}},this.groupListeners={add:function(t,e,s){i._onAddGroups(e.items)},update:function(t,e,s){i._onUpdateGroups(e.items)},remove:function(t,e,s){i._onRemoveGroups(e.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(e),this.groupsUsingDefaultStyles=[0],this.COUNTER=0,this.body.emitter.on("rangechanged",function(){i.lastStart=i.body.range.start,i.svg.style.left=o.option.asSize(-i.props.width),i.redraw.call(i,!0)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.body.emitter.emit("change")}var o=i(1),n=i(2),r=i(3),a=i(4),h=i(25),d=i(28),l=i(29),c=i(33),p=i(50),u="__ungrouped__";s.prototype=new h,s.prototype._create=function(){var t=document.createElement("div");t.className="LineGraph",this.dom.frame=t,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",t.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new d(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new c(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new c(this.body,this.options.legend,"right",this.options.groups),this.show()},s.prototype.setOptions=function(t){if(t){var e=["sampling","defaultGroup","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===t.graphHeight&&void 0!==t.height&&void 0!==this.body.domProps.centerContainer.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==t.graphHeight&&parseInt((t.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),o.selectiveDeepExtend(e,this.options,t),o.mergeOptions(this.options,t,"catmullRom"),o.mergeOptions(this.options,t,"drawPoints"),o.mergeOptions(this.options,t,"shaded"),o.mergeOptions(this.options,t,"legend"),t.catmullRom&&"object"==typeof t.catmullRom&&t.catmullRom.parametrization&&("uniform"==t.catmullRom.parametrization?this.options.catmullRom.alpha=0:"chordal"==t.catmullRom.parametrization?this.options.catmullRom.alpha=1:(this.options.catmullRom.parametrization="centripetal",this.options.catmullRom.alpha=.5)),this.yAxisLeft&&void 0!==t.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==t.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(u)&&this.groups[u].setOptions(t)}this.dom.frame&&this.redraw(!0)},s.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},s.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},s.prototype.setItems=function(t){var e,i=this,s=this.itemsData;if(t){if(!(t instanceof r||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=t}else this.itemsData=null;if(s&&(o.forEach(this.itemListeners,function(t,e){s.off(e,t)}),e=s.getIds(),this._onRemove(e)),this.itemsData){var n=this.id;o.forEach(this.itemListeners,function(t,e){i.itemsData.on(e,t,n)}),e=this.itemsData.getIds(),this._onAdd(e)}this._updateUngrouped(),this.redraw(!0)},s.prototype.setGroups=function(t){var e,i=this;if(this.groupsData&&(o.forEach(this.groupListeners,function(t,e){i.groupsData.unsubscribe(e,t)}),e=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(e)),t){if(!(t instanceof r||t instanceof a))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=t}else this.groupsData=null;if(this.groupsData){var s=this.id;o.forEach(this.groupListeners,function(t,e){i.groupsData.on(e,t,s)}),e=this.groupsData.getIds(),this._onAddGroups(e)}this._onUpdate()},s.prototype._onUpdate=function(t){this._updateUngrouped(),this._updateAllGroupData(),this.redraw(!0)},s.prototype._onAdd=function(t){this._onUpdate(t)},s.prototype._onRemove=function(t){this._onUpdate(t)},s.prototype._onUpdateGroups=function(t){for(var e=0;e<t.length;e++){var i=this.groupsData.get(t[e]);this._updateGroup(i,t[e])}this.redraw(!0)},s.prototype._onAddGroups=function(t){this._onUpdateGroups(t)},s.prototype._onRemoveGroups=function(t){for(var e=0;e<t.length;e++)this.groups.hasOwnProperty(t[e])&&("right"==this.groups[t[e]].options.yAxisOrientation?(this.yAxisRight.removeGroup(t[e]),this.legendRight.removeGroup(t[e]),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(t[e]),this.legendLeft.removeGroup(t[e]),this.legendLeft.redraw()),delete this.groups[t[e]]);this._updateUngrouped(),this.redraw(!0)},s.prototype._updateGroup=function(t,e){this.groups.hasOwnProperty(e)?(this.groups[e].update(t),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.updateGroup(e,this.groups[e]),this.legendRight.updateGroup(e,this.groups[e])):(this.yAxisLeft.updateGroup(e,this.groups[e]),this.legendLeft.updateGroup(e,this.groups[e]))):(this.groups[e]=new l(t,e,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[e].options.yAxisOrientation?(this.yAxisRight.addGroup(e,this.groups[e]),this.legendRight.addGroup(e,this.groups[e])):(this.yAxisLeft.addGroup(e,this.groups[e]),this.legendLeft.addGroup(e,this.groups[e]))),this.legendLeft.redraw(),this.legendRight.redraw()},s.prototype._updateAllGroupData=function(){if(null!=this.itemsData){var t,e={};for(t in this.groups)this.groups.hasOwnProperty(t)&&(e[t]=[]);for(var i in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(i)){var s=this.itemsData._data[i];if(void 0===e[s.group])throw new Error("Cannot find referenced group. Possible reason: items added before groups? Groups need to be added before items, as items refer to groups.");s.x=o.convert(s.x,"Date"),e[s.group].push(s)}for(t in this.groups)this.groups.hasOwnProperty(t)&&this.groups[t].setItems(e[t])}},s.prototype._updateUngrouped=function(){if(this.itemsData&&null!=this.itemsData){var t=0;for(var e in this.itemsData._data)if(this.itemsData._data.hasOwnProperty(e)){var i=this.itemsData._data[e];void 0!=i&&(i.hasOwnProperty("group")?void 0===i.group&&(i.group=u):i.group=u,t=i.group==u?t+1:t)}if(0==t)delete this.groups[u],this.legendLeft.removeGroup(u),this.legendRight.removeGroup(u),this.yAxisLeft.removeGroup(u),this.yAxisRight.removeGroup(u);else{var s={id:u,content:this.options.defaultGroup};this._updateGroup(s,u)}}else delete this.groups[u],this.legendLeft.removeGroup(u),this.legendRight.removeGroup(u),this.yAxisLeft.removeGroup(u),this.yAxisRight.removeGroup(u);this.legendLeft.redraw(),this.legendRight.redraw()},s.prototype.redraw=function(t){var e=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height,void 0===this.lastWidth&&this.props.width&&(t=!0),e=this._isResized()||e;var i=this.body.range.end-this.body.range.start,s=i!=this.lastVisibleInterval;if(this.lastVisibleInterval=i,1==e&&(this.svg.style.width=o.option.asSize(3*this.props.width),this.svg.style.left=o.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.body.domProps.centerContainer.height+"px"&&(this.options.graphHeight=this.body.domProps.centerContainer.height+"px",this.svg.style.height=this.body.domProps.centerContainer.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==e||1==s||1==this.abortedGraphUpdate||1==t)e=this._updateGraph()||e;else if(0!=this.lastStart){var n=this.body.range.start-this.lastStart,r=this.body.range.end-this.body.range.start;if(0!=this.props.width){var a=this.props.width/r,h=n*a;this.svg.style.left=-this.props.width-h+"px"}}return this.legendLeft.redraw(),this.legendRight.redraw(),e},s.prototype._updateGraph=function(){if(n.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var t,e,i={},s={},o={},r=!1,a=[];for(var h in this.groups)this.groups.hasOwnProperty(h)&&(t=this.groups[h],1!=t.visible||void 0!==this.options.groups.visibility[h]&&1!=this.options.groups.visibility[h]||a.push(h));if(a.length>0){var d=this.body.util.toGlobalTime(-this.body.domProps.root.width),l=this.body.util.toGlobalTime(2*this.body.domProps.root.width),c={};for(this._getRelevantData(a,c,d,l),this._applySampling(a,c),e=0;e<a.length;e++)i[a[e]]=this._convertXcoordinates(c[a[e]]);this._getYRanges(a,i,o),r=this._updateYAxis(a,o);var u=5;if(1==r&&this.COUNTER<u)return n.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,this.COUNTER++,this.body.emitter.emit("change"),!0;for(this.COUNTER>u&&console.log("WARNING: there may be an infinite loop in the _updateGraph emitter cycle."),this.COUNTER=0,this.abortedGraphUpdate=!1,e=0;e<a.length;e++)t=this.groups[a[e]],s[a[e]]=this._convertYcoordinates(c[a[e]],t);for(e=0;e<a.length;e++)t=this.groups[a[e]],"bar"!=t.options.style&&t.draw(s[a[e]],t,this.framework);p.draw(a,s,this.framework)}}return n.cleanupElements(this.svgElements),!1},s.prototype._getRelevantData=function(t,e,i,s){var n,r,a,h;if(t.length>0)for(r=0;r<t.length;r++){n=this.groups[t[r]],e[t[r]]=[];var d=e[t[r]];if(1==n.options.sort){var l=Math.max(0,o.binarySearchValue(n.itemsData,i,"x","before"));for(a=l;a<n.itemsData.length;a++)if(h=n.itemsData[a],void 0!==h){if(h.x>s){d.push(h);break}d.push(h)}}else for(a=0;a<n.itemsData.length;a++)h=n.itemsData[a],void 0!==h&&h.x>i&&h.x<s&&d.push(h)}},s.prototype._applySampling=function(t,e){var i;if(t.length>0)for(var s=0;s<t.length;s++)if(i=this.groups[t[s]],1==i.options.sampling){var o=e[t[s]];if(o.length>0){var n=1,r=o.length,a=this.body.util.toGlobalScreen(o[o.length-1].x)-this.body.util.toGlobalScreen(o[0].x),h=r/a;n=Math.min(Math.ceil(.2*r),Math.max(1,Math.round(h)));for(var d=[],l=0;r>l;l+=n)d.push(o[l]);e[t[s]]=d}}},s.prototype._getYRanges=function(t,e,i){var s,o,n,r,a=[],h=[];if(t.length>0){for(n=0;n<t.length;n++)s=e[t[n]],r=this.groups[t[n]].options,s.length>0&&(o=this.groups[t[n]],"stack"==r.barChart.handleOverlap&&"bar"==r.style?"left"==r.yAxisOrientation?a=a.concat(o.getYRange(s)):h=h.concat(o.getYRange(s)):i[t[n]]=o.getYRange(s,t[n]));p.getStackedBarYRange(a,i,t,"__barchartLeft","left"),p.getStackedBarYRange(h,i,t,"__barchartRight","right")}},s.prototype._updateYAxis=function(t,e){var i,s,o=!1,n=!1,r=!1,a=1e9,h=1e9,d=-1e9,l=-1e9;if(t.length>0){for(var c=0;c<t.length;c++){var p=this.groups[t[c]];p&&"right"!=p.options.yAxisOrientation?(n=!0,a=0,d=0):p&&p.options.yAxisOrientation&&(r=!0,h=0,l=0)}for(var c=0;c<t.length;c++)e.hasOwnProperty(t[c])&&e[t[c]].ignore!==!0&&(i=e[t[c]].min,s=e[t[c]].max,"right"!=e[t[c]].yAxisOrientation?(n=!0,a=a>i?i:a,d=s>d?s:d):(r=!0,h=h>i?i:h,l=s>l?s:l));1==n&&this.yAxisLeft.setRange(a,d),1==r&&this.yAxisRight.setRange(h,l)}return o=this._toggleAxisVisiblity(n,this.yAxisLeft)||o,o=this._toggleAxisVisiblity(r,this.yAxisRight)||o,1==r&&1==n?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!n,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==r?this.yAxisRight.width:0,o=this.yAxisLeft.redraw()||o,this.yAxisRight.stepPixelsForced=this.yAxisLeft.stepPixels,this.yAxisRight.zeroCrossing=this.yAxisLeft.zeroCrossing,o=this.yAxisRight.redraw()||o):o=this.yAxisRight.redraw()||o,-1!=t.indexOf("__barchartLeft")&&t.splice(t.indexOf("__barchartLeft"),1),-1!=t.indexOf("__barchartRight")&&t.splice(t.indexOf("__barchartRight"),1),o},s.prototype._toggleAxisVisiblity=function(t,e){var i=!1;return 0==t?e.dom.frame.parentNode&&0==e.hidden&&(e.hide(),i=!0):e.dom.frame.parentNode||1!=e.hidden||(e.show(),i=!0),i},s.prototype._convertXcoordinates=function(t){for(var e,i,s=[],o=this.body.util.toScreen,n=0;n<t.length;n++)e=o(t[n].x)+this.props.width,i=t[n].y,s.push({x:e,y:i});return s},s.prototype._convertYcoordinates=function(t,e){var i,s,o=[],n=this.body.util.toScreen,r=this.yAxisLeft,a=Number(this.svg.style.height.replace("px",""));"right"==e.options.yAxisOrientation&&(r=this.yAxisRight);for(var h=0;h<t.length;h++){var d;d=t[h].label?t[h].label:null,i=n(t[h].x)+this.props.width,s=Math.round(r.convertValue(t[h].y)),o.push({x:i,y:s,label:d})}return e.setZeroPosition(Math.min(a,r.convertValue(0))),o},t.exports=s},function(t,e,i){function s(t,e){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:"bottom",showMinorLabels:!0,showMajorLabels:!0,format:null,timeAxis:null},this.options=o.extend({},this.defaultOptions),this.body=t,this._create(),this.setOptions(e)}var o=i(1),n=i(25),r=i(19),a=i(15),h=i(44);s.prototype=new n,s.prototype.setOptions=function(t){t&&(o.selectiveExtend(["showMinorLabels","showMajorLabels","hiddenDates","format","timeAxis"],this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation=t.orientation:"object"==typeof t.orientation&&"axis"in t.orientation&&(this.options.orientation=t.orientation.axis)),"locale"in t&&("function"==typeof h.locale?h.locale(t.locale):h.lang(t.locale)))},s.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="timeaxis foreground",this.dom.background.className="timeaxis background"},s.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},s.prototype.redraw=function(){var t=this.options,e=this.props,i=this.dom.foreground,s=this.dom.background,o="top"==t.orientation?this.body.dom.top:this.body.dom.bottom,n=i.parentNode!==o;this._calculateCharSize();var r=this.options.showMinorLabels,a=this.options.showMajorLabels;e.minorLabelHeight=r?e.minorCharHeight:0,e.majorLabelHeight=a?e.majorCharHeight:0,e.height=e.minorLabelHeight+e.majorLabelHeight,e.width=i.offsetWidth,e.minorLineHeight=this.body.domProps.root.height-e.majorLabelHeight-("top"==t.orientation?this.body.domProps.bottom.height:this.body.domProps.top.height),e.minorLineWidth=1,e.majorLineHeight=e.minorLineHeight+e.majorLabelHeight,e.majorLineWidth=1;var h=i.nextSibling,d=s.nextSibling;return i.parentNode&&i.parentNode.removeChild(i),s.parentNode&&s.parentNode.removeChild(s),i.style.height=this.props.height+"px",this._repaintLabels(),h?o.insertBefore(i,h):o.appendChild(i),d?this.body.dom.backgroundVertical.insertBefore(s,d):this.body.dom.backgroundVertical.appendChild(s),this._isResized()||n},s.prototype._repaintLabels=function(){var t=this.options.orientation,e=o.convert(this.body.range.start,"Number"),i=o.convert(this.body.range.end,"Number"),s=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf(),n=s-a.getHiddenDurationBefore(this.body.hiddenDates,this.body.range,s);n-=this.body.util.toTime(0).valueOf();var h=new r(new Date(e),new Date(i),n,this.body.hiddenDates);this.options.format&&h.setFormat(this.options.format),this.options.timeAxis&&h.setScale(this.options.timeAxis),this.step=h;var d=this.dom;d.redundant.lines=d.lines,d.redundant.majorTexts=d.majorTexts,d.redundant.minorTexts=d.minorTexts,d.lines=[],d.majorTexts=[],d.minorTexts=[];var l,c,p,u,m=0,f=0,g=0,v=void 0,y=0;for(h.first();h.hasNext()&&1e3>y;)y++,l=h.getCurrent(),c=h.isMajor(),u=h.getClassName(),f=m,m=this.body.util.toScreen(l),g=m-f,p&&(p.style.width=g+"px"),this.options.showMinorLabels&&this._repaintMinorText(m,h.getLabelMinor(),t,u),c&&this.options.showMajorLabels?(m>0&&(void 0==v&&(v=m),this._repaintMajorText(m,h.getLabelMajor(),t,u)),p=this._repaintMajorLine(m,t,u)):p=this._repaintMinorLine(m,t,u),h.next();if(this.options.showMajorLabels){var b=this.body.util.toTime(0),_=h.getLabelMajor(b),x=_.length*(this.props.majorCharWidth||10)+10;(void 0==v||v>x)&&this._repaintMajorText(0,_,t,u)}o.forEach(this.dom.redundant,function(t){for(;t.length;){var e=t.pop();e&&e.parentNode&&e.parentNode.removeChild(e)}})},s.prototype._repaintMinorText=function(t,e,i,s){var o=this.dom.redundant.minorTexts.shift();if(!o){var n=document.createTextNode("");o=document.createElement("div"),o.appendChild(n),this.dom.foreground.appendChild(o)}this.dom.minorTexts.push(o),o.childNodes[0].nodeValue=e,o.style.top="top"==i?this.props.majorLabelHeight+"px":"0",o.style.left=t+"px",o.className="text minor "+s},s.prototype._repaintMajorText=function(t,e,i,s){var o=this.dom.redundant.majorTexts.shift();if(!o){var n=document.createTextNode(e);o=document.createElement("div"),o.appendChild(n),this.dom.foreground.appendChild(o)}this.dom.majorTexts.push(o),o.childNodes[0].nodeValue=e,o.className="text major "+s,o.style.top="top"==i?"0":this.props.minorLabelHeight+"px",o.style.left=t+"px"},s.prototype._repaintMinorLine=function(t,e,i){var s=this.dom.redundant.lines.shift();s||(s=document.createElement("div"),this.dom.background.appendChild(s)),this.dom.lines.push(s);var o=this.props;return s.style.top="top"==e?o.majorLabelHeight+"px":this.body.domProps.top.height+"px",s.style.height=o.minorLineHeight+"px",s.style.left=t-o.minorLineWidth/2+"px",s.className="grid vertical minor "+i,s},s.prototype._repaintMajorLine=function(t,e,i){var s=this.dom.redundant.lines.shift();s||(s=document.createElement("div"),this.dom.background.appendChild(s)),this.dom.lines.push(s);var o=this.props;return s.style.top="top"==e?"0":this.body.domProps.top.height+"px",s.style.left=t-o.majorLineWidth/2+"px",s.style.height=o.majorLineHeight+"px",s.className="grid vertical major "+i,s},s.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="text minor measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="text major measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth},t.exports=s},function(t,e,i){function s(t,e,i){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");this._determineBrowserMethod(),this._initializeMixinLoaders(),this.containerElement=t,this.renderRefreshRate=60,this.renderTimestep=1e3/this.renderRefreshRate,this.renderTime=0,this.physicsTime=0,this.runDoubleSpeed=!1,this.physicsDiscreteStepsize=.5,this.initializing=!0,this.triggerFunctions={add:null,edit:null,editEdge:null,connect:null,del:null};var o=function(t,e,i,s){if(e==t)return.5;var o=1/(e-t);return Math.max(0,(s-t)*o)};this.defaultOptions={nodes:{customScalingFunction:o,mass:1,radiusMin:10,radiusMax:30,radius:10,shape:"ellipse",image:void 0,widthMin:16,widthMax:64,fontColor:"black",fontSize:14,fontFace:"verdana",fontFill:void 0,fontStrokeWidth:0,fontStrokeColor:"#ffffff",fontDrawThreshold:3,scaleFontWithValue:!1,fontSizeMin:14,fontSizeMax:30,fontSizeMaxVisible:30,level:-1,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},group:void 0,borderWidth:1,borderWidthSelected:void 0},edges:{customScalingFunction:o,widthMin:1,widthMax:15,width:1,widthSelectionMultiplier:2,hoverWidth:1.5,style:"line",color:{color:"#848484",highlight:"#848484",hover:"#848484"},opacity:1,fontColor:"#343434",fontSize:14,fontFace:"arial",fontFill:"white",fontStrokeWidth:0,fontStrokeColor:"white",labelAlignment:"horizontal",arrowScaleFactor:1,dash:{length:10,gap:5,altLength:void 0},inheritColor:"from",useGradients:!1},configurePhysics:!1,physics:{barnesHut:{enabled:!0,thetaInverted:2,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09},repulsion:{centralGravity:0,springLength:200,springConstant:.05,nodeDistance:100,damping:.09},hierarchicalRepulsion:{enabled:!1,centralGravity:0,springLength:100,springConstant:.01,nodeDistance:150,damping:.09},damping:null,centralGravity:null,springLength:null,springConstant:null},clustering:{enabled:!1,initialMaxNodes:100,clusterThreshold:500,reduceToNodes:300,chainThreshold:.4,clusterEdgeThreshold:20,sectorThreshold:100,screenSizeThreshold:.2,fontSizeMultiplier:4,maxFontSize:1e3,forceAmplification:.1,distanceAmplification:.1,edgeGrowth:20,nodeScaling:{width:1,height:1,radius:1},maxNodeSizeIncrements:600,activeAreaBoxSize:80,clusterLevelDifference:2,clusterByZoom:!0},navigation:{enabled:!1},keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},dataManipulation:{enabled:!1,initiallyVisible:!1},hierarchicalLayout:{enabled:!1,levelSeparation:150,\nnodeSpacing:100,direction:"UD",layout:"hubsize"},freezeForStabilization:!1,smoothCurves:{enabled:!0,dynamic:!0,type:"continuous",roundness:.5},maxVelocity:50,minVelocity:.1,stabilize:!0,stabilizationIterations:1e3,zoomExtentOnStabilize:!0,locale:"en",locales:_,tooltip:{delay:300,fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}},dragNetwork:!0,dragNodes:!0,zoomable:!0,hover:!1,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,width:"100%",height:"100%",selectable:!0,useDefaultGroups:!0},this.constants=a.extend({},this.defaultOptions),this.pixelRatio=1,this.hoverObj={nodes:{},edges:{}},this.controlNodesActive=!1,this.navigationHammers=[],this.manipulationHammers=[],this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.animating=!1,this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=null,this.lockedOnNodeOffset=null,this.touchTime=0,this.redrawRequested=!1;var n=this;this.groups=new u,this.images=new m,this.images.setOnloadCallback(function(t){n._requestRedraw()}),this.xIncrement=0,this.yIncrement=0,this.zoomIncrement=0,this._loadPhysicsSystem(),this._create(),this._loadSectorSystem(),this._loadClusterSystem(),this._loadSelectionSystem(),this._loadHierarchySystem(),this._setTranslation(this.frame.clientWidth/2,this.frame.clientHeight/2),this._setScale(1),this.setOptions(i),this.freezeSimulationEnabled=!1,this.cachedFunctions={},this.startedStabilization=!1,this.stabilized=!1,this.stabilizationIterations=null,this.draggingNodes=!1,this.calculationNodes={},this.calculationNodeIndices=[],this.nodeIndices=[],this.nodes={},this.edges={},this.canvasTopLeft={x:0,y:0},this.canvasBottomRight={x:0,y:0},this.pointerPosition={x:0,y:0},this.areaCenter={},this.scale=1,this.previousScale=this.scale,this.nodesData=null,this.edgesData=null,this.nodesListeners={add:function(t,e){n._addNodes(e.items),n.start()},update:function(t,e){n._updateNodes(e.items),n.start()},remove:function(t,e){n._removeNodes(e.items),n.start()}},this.edgesListeners={add:function(t,e){n._addEdges(e.items),n.start()},update:function(t,e){n._updateEdges(e.items),n.start()},remove:function(t,e){n._removeEdges(e.items),n.start()}},this.moving=!0,this.timer=void 0,this.setData(e,this.constants.clustering.enabled||this.constants.hierarchicalLayout.enabled),this.initializing=!1,1==this.constants.hierarchicalLayout.enabled?this._setupHierarchicalLayout():0==this.constants.stabilize&&this.zoomExtent({duration:0},!0,this.constants.clustering.enabled),this.constants.clustering.enabled&&this.startWithClustering()}var o=i(56),n=i(45),r=i(57),a=i(1),h=i(47),d=i(3),l=i(4),c=i(42),p=i(43),u=i(38),m=i(39),f=i(40),g=i(37),v=i(41),y=i(52),b=i(53),_=i(54);i(55),o(s.prototype),s.prototype._determineBrowserMethod=function(){var t=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=t.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=t.indexOf("safari")&&t.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)},s.prototype._getScriptPath=function(){for(var t=document.getElementsByTagName("script"),e=0;e<t.length;e++){var i=t[e].src,s=i&&/\\/?vis(.min)?\\.js$/.exec(i);if(s)return i.substring(0,i.length-s[0].length)}return null},s.prototype._getRange=function(t){var e,i=1e9,s=-1e9,o=1e9,n=-1e9;if(t.length>0)for(var r=0;r<t.length;r++)e=this.nodes[t[r]],o>e.boundingBox.left&&(o=e.boundingBox.left),n<e.boundingBox.right&&(n=e.boundingBox.right),i>e.boundingBox.bottom&&(i=e.boundingBox.top),s<e.boundingBox.top&&(s=e.boundingBox.bottom);else for(var a in this.nodes)this.nodes.hasOwnProperty(a)&&(e=this.nodes[a],o>e.boundingBox.left&&(o=e.boundingBox.left),n<e.boundingBox.right&&(n=e.boundingBox.right),i>e.boundingBox.bottom&&(i=e.boundingBox.top),s<e.boundingBox.top&&(s=e.boundingBox.bottom));return 1e9==o&&-1e9==n&&1e9==i&&-1e9==s&&(i=0,s=0,o=0,n=0),{minX:o,maxX:n,minY:i,maxY:s}},s.prototype._findCenter=function(t){return{x:.5*(t.maxX+t.minX),y:.5*(t.maxY+t.minY)}},s.prototype.zoomExtent=function(t,e,i){this._redraw(!0),void 0===e&&(e=!1),void 0===i&&(i=!1),void 0===t&&(t={nodes:[]}),void 0===t.nodes&&(t.nodes=[]);var s,o;if(1==e){var n=0;for(var r in this.nodes)if(this.nodes.hasOwnProperty(r)){var a=this.nodes[r];1==a.predefinedPosition&&(n+=1)}if(n>.5*this.nodeIndices.length)return void this.zoomExtent(t,!1,i);s=this._getRange(t.nodes);var h=this.nodeIndices.length;o=1==this.constants.smoothCurves?1==this.constants.clustering.enabled&&h>=this.constants.clustering.initialMaxNodes?49.07548/(h+142.05338)+91444e-8:12.662/(h+7.4147)+.0964822:1==this.constants.clustering.enabled&&h>=this.constants.clustering.initialMaxNodes?77.5271985/(h+187.266146)+476710517e-13:30.5062972/(h+19.93597763)+.08413486;var d=Math.min(this.frame.canvas.clientWidth/600,this.frame.canvas.clientHeight/600);o*=d}else{s=this._getRange(t.nodes);var l=1.1*Math.abs(s.maxX-s.minX),c=1.1*Math.abs(s.maxY-s.minY),p=this.frame.canvas.clientWidth/l,u=this.frame.canvas.clientHeight/c;o=u>=p?p:u}o>1&&(o=1);var m=this._findCenter(s);if(0==i){var t={position:m,scale:o,animation:t};this.moveTo(t),this.moving=!0,this.start()}else m.x*=o,m.y*=o,m.x-=.5*this.frame.canvas.clientWidth,m.y-=.5*this.frame.canvas.clientHeight,this._setScale(o),this._setTranslation(-m.x,-m.y)},s.prototype._updateNodeIndexList=function(){this._clearNodeIndexList();for(var t in this.nodes)this.nodes.hasOwnProperty(t)&&this.nodeIndices.push(t)},s.prototype.setData=function(t,e){if(void 0===e&&(e=!1),this._unselectAll(!0),this.initializing=!0,t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError(\'Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.\');if(1==this.constants.dataManipulation.enabled&&this._createManipulatorBar(),this.setOptions(t&&t.options),t&&t.dot){if(t&&t.dot){var i=c.DOTToGraph(t.dot);return void this.setData(i)}}else if(t&&t.gephi){if(t&&t.gephi){var s=p.parseGephi(t.gephi);return void this.setData(s)}}else this._setNodes(t&&t.nodes),this._setEdges(t&&t.edges);this._putDataInSector(),0==e&&(1==this.constants.hierarchicalLayout.enabled?(this._resetLevels(),this._setupHierarchicalLayout()):1==this.constants.stabilize&&this._stabilize(),this.start()),this.initializing=!1},s.prototype.setOptions=function(t){if(t){var e,i=["nodes","edges","smoothCurves","hierarchicalLayout","clustering","navigation","keyboard","dataManipulation","onAdd","onEdit","onEditEdge","onConnect","onDelete","clickToUse"];if(a.selectiveNotDeepExtend(i,this.constants,t),a.selectiveNotDeepExtend(["color"],this.constants.nodes,t.nodes),a.selectiveNotDeepExtend(["color","length"],this.constants.edges,t.edges),this.groups.useDefaultGroups=this.constants.useDefaultGroups,t.physics&&(a.mergeOptions(this.constants.physics,t.physics,"barnesHut"),a.mergeOptions(this.constants.physics,t.physics,"repulsion"),t.physics.hierarchicalRepulsion)){this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1;for(e in t.physics.hierarchicalRepulsion)t.physics.hierarchicalRepulsion.hasOwnProperty(e)&&(this.constants.physics.hierarchicalRepulsion[e]=t.physics.hierarchicalRepulsion[e])}if(t.onAdd&&(this.triggerFunctions.add=t.onAdd),t.onEdit&&(this.triggerFunctions.edit=t.onEdit),t.onEditEdge&&(this.triggerFunctions.editEdge=t.onEditEdge),t.onConnect&&(this.triggerFunctions.connect=t.onConnect),t.onDelete&&(this.triggerFunctions.del=t.onDelete),a.mergeOptions(this.constants,t,"smoothCurves"),a.mergeOptions(this.constants,t,"hierarchicalLayout"),a.mergeOptions(this.constants,t,"clustering"),a.mergeOptions(this.constants,t,"navigation"),a.mergeOptions(this.constants,t,"keyboard"),a.mergeOptions(this.constants,t,"dataManipulation"),t.dataManipulation&&(this.editMode=this.constants.dataManipulation.initiallyVisible),t.edges&&(void 0!==t.edges.color&&(a.isString(t.edges.color)?(this.constants.edges.color={},this.constants.edges.color.color=t.edges.color,this.constants.edges.color.highlight=t.edges.color,this.constants.edges.color.hover=t.edges.color):(void 0!==t.edges.color.color&&(this.constants.edges.color.color=t.edges.color.color),void 0!==t.edges.color.highlight&&(this.constants.edges.color.highlight=t.edges.color.highlight),void 0!==t.edges.color.hover&&(this.constants.edges.color.hover=t.edges.color.hover)),this.constants.edges.inheritColor=!1),t.edges.fontColor||void 0!==t.edges.color&&(a.isString(t.edges.color)?this.constants.edges.fontColor=t.edges.color:void 0!==t.edges.color.color&&(this.constants.edges.fontColor=t.edges.color.color))),t.nodes&&t.nodes.color){var s=a.parseColor(t.nodes.color);this.constants.nodes.color.background=s.background,this.constants.nodes.color.border=s.border,this.constants.nodes.color.highlight.background=s.highlight.background,this.constants.nodes.color.highlight.border=s.highlight.border,this.constants.nodes.color.hover.background=s.hover.background,this.constants.nodes.color.hover.border=s.hover.border}if(t.groups)for(var o in t.groups)if(t.groups.hasOwnProperty(o)){var n=t.groups[o];this.groups.add(o,n)}if(t.tooltip){for(e in t.tooltip)t.tooltip.hasOwnProperty(e)&&(this.constants.tooltip[e]=t.tooltip[e]);t.tooltip.color&&(this.constants.tooltip.color=a.parseColor(t.tooltip.color))}if("clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new b(this.frame),this.activator.on("change",this._createKeyBinds.bind(this))):this.activator&&(this.activator.destroy(),delete this.activator)),t.labels)throw new Error(\'Option "labels" is deprecated. Use options "locale" and "locales" instead.\');this._loadPhysicsSystem(),this._loadNavigationControls(),this._loadManipulationSystem(),this._configureSmoothCurves(),this._bindHammer(),this._createKeyBinds(),this._markAllEdgesAsDirty(),this.setSize(this.constants.width,this.constants.height),this.moving=!0,1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this.start()}},s.prototype._create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis network-frame",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var t=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this._bindHammer()},s.prototype._bindHammer=function(){var t=this;void 0!==this.hammer&&this.hammer.dispose(),this.drag={},this.pinch={},this.hammer=n(this.frame.canvas,{prevent_default:!0}),this.hammer.on("tap",t._onTap.bind(t)),this.hammer.on("doubletap",t._onDoubleTap.bind(t)),this.hammer.on("hold",t._onHold.bind(t)),this.hammer.on("touch",t._onTouch.bind(t)),this.hammer.on("dragstart",t._onDragStart.bind(t)),this.hammer.on("drag",t._onDrag.bind(t)),this.hammer.on("dragend",t._onDragEnd.bind(t)),1==this.constants.zoomable&&(this.hammer.on("mousewheel",t._onMouseWheel.bind(t)),this.hammer.on("DOMMouseScroll",t._onMouseWheel.bind(t)),this.hammer.on("pinch",t._onPinch.bind(t))),this.hammer.on("mousemove",t._onMouseMoveTitle.bind(t)),this.hammerFrame=n(this.frame,{prevent_default:!0}),this.hammerFrame.on("release",t._onRelease.bind(t)),this.containerElement.appendChild(this.frame)},s.prototype._createKeyBinds=function(){var t=this;void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=r(1==this.constants.keyboard.bindToWindow?{container:window,preventDefault:!1}:{container:this.frame,preventDefault:!1}),this.keycharm.reset(),this.constants.keyboard.enabled&&this.isActive()&&(this.keycharm.bind("up",this._moveUp.bind(t),"keydown"),this.keycharm.bind("up",this._yStopMoving.bind(t),"keyup"),this.keycharm.bind("down",this._moveDown.bind(t),"keydown"),this.keycharm.bind("down",this._yStopMoving.bind(t),"keyup"),this.keycharm.bind("left",this._moveLeft.bind(t),"keydown"),this.keycharm.bind("left",this._xStopMoving.bind(t),"keyup"),this.keycharm.bind("right",this._moveRight.bind(t),"keydown"),this.keycharm.bind("right",this._xStopMoving.bind(t),"keyup"),this.keycharm.bind("=",this._zoomIn.bind(t),"keydown"),this.keycharm.bind("=",this._stopZoom.bind(t),"keyup"),this.keycharm.bind("num+",this._zoomIn.bind(t),"keydown"),this.keycharm.bind("num+",this._stopZoom.bind(t),"keyup"),this.keycharm.bind("num-",this._zoomOut.bind(t),"keydown"),this.keycharm.bind("num-",this._stopZoom.bind(t),"keyup"),this.keycharm.bind("-",this._zoomOut.bind(t),"keydown"),this.keycharm.bind("-",this._stopZoom.bind(t),"keyup"),this.keycharm.bind("[",this._zoomIn.bind(t),"keydown"),this.keycharm.bind("[",this._stopZoom.bind(t),"keyup"),this.keycharm.bind("]",this._zoomOut.bind(t),"keydown"),this.keycharm.bind("]",this._stopZoom.bind(t),"keyup"),this.keycharm.bind("pageup",this._zoomIn.bind(t),"keydown"),this.keycharm.bind("pageup",this._stopZoom.bind(t),"keyup"),this.keycharm.bind("pagedown",this._zoomOut.bind(t),"keydown"),this.keycharm.bind("pagedown",this._stopZoom.bind(t),"keyup")),1==this.constants.dataManipulation.enabled&&(this.keycharm.bind("esc",this._createManipulatorBar.bind(t)),this.keycharm.bind("delete",this._deleteSelected.bind(t)))},s.prototype.destroy=function(){this.start=function(){},this.redraw=function(){},this.timer=!1,this._cleanupPhysicsConfiguration(),this.keycharm.reset(),this.hammer.dispose(),this.off(),this._recursiveDOMDelete(this.containerElement)},s.prototype._recursiveDOMDelete=function(t){for(;1==t.hasChildNodes();)this._recursiveDOMDelete(t.firstChild),t.removeChild(t.firstChild)},s.prototype._getPointer=function(t){return{x:t.pageX-a.getAbsoluteLeft(this.frame.canvas),y:t.pageY-a.getAbsoluteTop(this.frame.canvas)}},s.prototype._onTouch=function(t){(new Date).valueOf()-this.touchTime>100&&(this.drag.pointer=this._getPointer(t.gesture.center),this.drag.pinched=!1,this.pinch.scale=this._getScale(),this.touchTime=(new Date).valueOf(),this._handleTouch(this.drag.pointer))},s.prototype._onDragStart=function(t){this._handleDragStart(t)},s.prototype._handleDragStart=function(t){void 0===this.drag.pointer&&this._onTouch(t);var e=this._getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=this._getTranslation(),this.drag.nodeId=null,this.draggingNodes=!1,null!=e&&1==this.constants.dragNodes){this.draggingNodes=!0,this.drag.nodeId=e.id,e.isSelected()||this._selectObject(e,!1),this.emit("dragStart",{nodeIds:this.getSelection().nodes});for(var i in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(i)){var s=this.selectionObj.nodes[i],o={id:s.id,node:s,x:s.x,y:s.y,xFixed:s.xFixed,yFixed:s.yFixed};s.xFixed=!0,s.yFixed=!0,this.drag.selection.push(o)}}},s.prototype._onDrag=function(t){this._handleOnDrag(t)},s.prototype._handleOnDrag=function(t){if(!this.drag.pinched){this.releaseNode();var e=this._getPointer(t.gesture.center),i=this,s=this.drag,o=s.selection;if(o&&o.length&&1==this.constants.dragNodes){var n=e.x-s.pointer.x,r=e.y-s.pointer.y;o.forEach(function(t){var e=t.node;t.xFixed||(e.x=i._XconvertDOMtoCanvas(i._XconvertCanvasToDOM(t.x)+n)),t.yFixed||(e.y=i._YconvertDOMtoCanvas(i._YconvertCanvasToDOM(t.y)+r))}),this.moving||(this.moving=!0,this.start())}else if(1==this.constants.dragNetwork){if(void 0===this.drag.pointer)return void this._handleDragStart(t);var a=e.x-this.drag.pointer.x,h=e.y-this.drag.pointer.y;this._setTranslation(this.drag.translation.x+a,this.drag.translation.y+h),this._redraw()}}},s.prototype._onDragEnd=function(t){this._handleDragEnd(t)},s.prototype._handleDragEnd=function(t){this.drag.dragging=!1;var e=this.drag.selection;e&&e.length?(e.forEach(function(t){t.node.xFixed=t.xFixed,t.node.yFixed=t.yFixed}),this.moving=!0,this.start()):this._redraw(),0==this.draggingNodes?this.emit("dragEnd",{nodeIds:[]}):this.emit("dragEnd",{nodeIds:this.getSelection().nodes})},s.prototype._onTap=function(t){var e=this._getPointer(t.gesture.center);this.pointerPosition=e,this._handleTap(e)},s.prototype._onDoubleTap=function(t){var e=this._getPointer(t.gesture.center);this._handleDoubleTap(e)},s.prototype._onHold=function(t){var e=this._getPointer(t.gesture.center);this.pointerPosition=e,this._handleOnHold(e)},s.prototype._onRelease=function(t){var e=this._getPointer(t.gesture.center);this._handleOnRelease(e)},s.prototype._onPinch=function(t){var e=this._getPointer(t.gesture.center);this.drag.pinched=!0,"scale"in this.pinch||(this.pinch.scale=1);var i=this.pinch.scale*t.gesture.scale;this._zoom(i,e)},s.prototype._zoom=function(t,e){if(1==this.constants.zoomable){var i=this._getScale();1e-5>t&&(t=1e-5),t>10&&(t=10);var s=null;void 0!==this.drag&&1==this.drag.dragging&&(s=this.DOMtoCanvas(this.drag.pointer));var o=this._getTranslation(),n=t/i,r=(1-n)*e.x+o.x*n,a=(1-n)*e.y+o.y*n;if(this.areaCenter={x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)},this._setScale(t),this._setTranslation(r,a),this.updateClustersDefault(),null!=s){var h=this.canvasToDOM(s);this.drag.pointer.x=h.x,this.drag.pointer.y=h.y}return this._redraw(),t>i?this.emit("zoom",{direction:"+"}):this.emit("zoom",{direction:"-"}),t}},s.prototype._onMouseWheel=function(t){var e=0;if(t.wheelDelta?e=t.wheelDelta/120:t.detail&&(e=-t.detail/3),e){var i=this._getScale(),s=e/10;0>e&&(s/=1-s),i*=1+s;var o=h.fakeGesture(this,t),n=this._getPointer(o.center);this._zoom(i,n)}t.preventDefault()},s.prototype._onMouseMoveTitle=function(t){var e=h.fakeGesture(this,t),i=this._getPointer(e.center),s=!1;if(void 0!==this.popup&&(this.popup.hidden===!1&&this._checkHidePopup(i),this.popup.hidden===!1&&(s=!0,this.popup.setPosition(i.x+3,i.y-5),this.popup.show())),0==this.constants.keyboard.bindToWindow&&1==this.constants.keyboard.enabled&&this.frame.focus(),s===!1){var o=this,n=function(){o._checkShowPopup(i)};this.popupTimer&&clearInterval(this.popupTimer),this.drag.dragging||(this.popupTimer=setTimeout(n,this.constants.tooltip.delay))}if(1==this.constants.hover){for(var r in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(r)&&(this.hoverObj.edges[r].hover=!1,delete this.hoverObj.edges[r]);var a=this._getNodeAt(i);null==a&&(a=this._getEdgeAt(i)),null!=a&&this._hoverObject(a);for(var d in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(d)&&(a instanceof f&&a.id!=d||a instanceof g||null==a)&&(this._blurObject(this.hoverObj.nodes[d]),delete this.hoverObj.nodes[d]);this.redraw()}},s.prototype._checkShowPopup=function(t){var e,i={left:this._XconvertDOMtoCanvas(t.x),top:this._YconvertDOMtoCanvas(t.y),right:this._XconvertDOMtoCanvas(t.x),bottom:this._YconvertDOMtoCanvas(t.y)},s=void 0===this.popupObj?"":this.popupObj.id,o=!1,n="node";if(void 0==this.popupObj){var r=this.nodes,a=[];for(e in r)if(r.hasOwnProperty(e)){var h=r[e];h.isOverlappingWith(i)&&void 0!==h.getTitle()&&a.push(e)}a.length>0&&(this.popupObj=this.nodes[a[a.length-1]],o=!0)}if(void 0===this.popupObj&&0==o){var d=this.edges,l=[];for(e in d)if(d.hasOwnProperty(e)){var c=d[e];c.connected&&void 0!==c.getTitle()&&c.isOverlappingWith(i)&&l.push(e)}l.length>0&&(this.popupObj=this.edges[l[l.length-1]],n="edge")}this.popupObj?this.popupObj.id!=s&&(void 0===this.popup&&(this.popup=new v(this.frame,this.constants.tooltip)),this.popup.popupTargetType=n,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(t.x+3,t.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show()):this.popup&&this.popup.hide()},s.prototype._checkHidePopup=function(t){var e={left:this._XconvertDOMtoCanvas(t.x),top:this._YconvertDOMtoCanvas(t.y),right:this._XconvertDOMtoCanvas(t.x),bottom:this._YconvertDOMtoCanvas(t.y)},i=!1;if("node"==this.popup.popupTargetType){if(i=this.nodes[this.popup.popupTargetId].isOverlappingWith(e),i===!0){var s=this._getNodeAt(t);i=s.id==this.popup.popupTargetId}}else null===this._getNodeAt(t)&&(i=this.edges[this.popup.popupTargetId].isOverlappingWith(e));i===!1&&(this.popupObj=void 0,this.popup.hide())},s.prototype.setSize=function(t,e){var i=!1,s=this.frame.canvas.width,o=this.frame.canvas.height;t!=this.constants.width||e!=this.constants.height||this.frame.style.width!=t||this.frame.style.height!=e?(this.frame.style.width=t,this.frame.style.height=e,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth*this.pixelRatio,this.frame.canvas.height=this.frame.canvas.clientHeight*this.pixelRatio,this.constants.width=t,this.constants.height=e,i=!0):(this.frame.canvas.width!=this.frame.canvas.clientWidth*this.pixelRatio&&(this.frame.canvas.width=this.frame.canvas.clientWidth*this.pixelRatio,i=!0),this.frame.canvas.height!=this.frame.canvas.clientHeight*this.pixelRatio&&(this.frame.canvas.height=this.frame.canvas.clientHeight*this.pixelRatio,i=!0)),1==i&&this.emit("resize",{width:this.frame.canvas.width*this.pixelRatio,height:this.frame.canvas.height*this.pixelRatio,oldWidth:s*this.pixelRatio,oldHeight:o*this.pixelRatio})},s.prototype._setNodes=function(t){var e=this.nodesData;if(t instanceof d||t instanceof l)this.nodesData=t;else if(Array.isArray(t))this.nodesData=new d,this.nodesData.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.nodesData=new d}if(e&&a.forEach(this.nodesListeners,function(t,i){e.off(i,t)}),this.nodes={},this.nodesData){var i=this;a.forEach(this.nodesListeners,function(t,e){i.nodesData.on(e,t)});var s=this.nodesData.getIds();this._addNodes(s)}this._updateSelection()},s.prototype._addNodes=function(t){for(var e,i=this.nodesData._fieldId||null,s=0,o=t.length;o>s;s++){e=t[s];var n=this.nodesData.get(e);i&&(n.id=n[i]);var r=new f(n,this.images,this.groups,this.constants);if(this.nodes[e]=r,!(0!=r.xFixed&&0!=r.yFixed||null!==r.x&&null!==r.y)){var a=1*t.length+10,h=2*Math.PI*Math.random();0==r.xFixed&&(r.x=a*Math.cos(h)),0==r.yFixed&&(r.y=a*Math.sin(h))}this.moving=!0}this._updateNodeIndexList(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes(),this._reconnectEdges(),this._updateValueRange(this.nodes),this.updateLabels()},s.prototype._updateNodes=function(t){for(var e=this.nodesData.get(t),i=this.nodes,s=0,o=t.length;o>s;s++){var n=t[s],r=i[n],a=e[s];r?r.setProperties(a,this.constants):(r=new f(properties,this.images,this.groups,this.constants),i[n]=r)}this.moving=!0,1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateNodeIndexList(),this._updateValueRange(i),this._markAllEdgesAsDirty()},s.prototype._markAllEdgesAsDirty=function(){for(var t in this.edges)this.edges[t].colorDirty=!0},s.prototype._removeNodes=function(t){for(var e=this.nodes,i=0,s=t.length;s>i;i++)void 0!==this.selectionObj.nodes[t[i]]&&(this.nodes[t[i]].unselect(),this._removeFromSelection(this.nodes[t[i]]));for(var i=0,s=t.length;s>i;i++){var o=t[i];delete e[o]}this._updateNodeIndexList(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes(),this._reconnectEdges(),this._updateSelection(),this._updateValueRange(e)},s.prototype._setEdges=function(t){var e=this.edgesData;if(t instanceof d||t instanceof l)this.edgesData=t;else if(Array.isArray(t))this.edgesData=new d,this.edgesData.add(t);else{if(t)throw new TypeError("Array or DataSet expected");this.edgesData=new d}if(e&&a.forEach(this.edgesListeners,function(t,i){e.off(i,t)}),this.edges={},this.edgesData){var i=this;a.forEach(this.edgesListeners,function(t,e){i.edgesData.on(e,t)});var s=this.edgesData.getIds();this._addEdges(s)}this._reconnectEdges()},s.prototype._addEdges=function(t){for(var e=this.edges,i=this.edgesData,s=this.edgesData._fieldId,o=0,n=t.length;n>o;o++){var r=t[o],a=e[r];a&&a.disconnect();var h=i.get(r,{showInternalIds:!0});s&&(h.id=h[s]),e[r]=new g(h,this,this.constants)}this.moving=!0,this._updateValueRange(e),this._createBezierNodes(),this._updateCalculationNodes(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout())},s.prototype._updateEdges=function(t){for(var e=this.edges,i=this.edgesData,s=0,o=t.length;o>s;s++){var n=t[s],r=i.get(n),a=e[n];a?(a.disconnect(),a.setProperties(r,this.constants),a.connect()):(a=new g(r,this,this.constants),this.edges[n]=a)}this._createBezierNodes(),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this.moving=!0,this._updateValueRange(e)},s.prototype._removeEdges=function(t){for(var e=this.edges,i=0,s=t.length;s>i;i++)void 0!==this.selectionObj.edges[t[i]]&&(e[t[i]].unselect(),this._removeFromSelection(e[t[i]]));for(var i=0,s=t.length;s>i;i++){var o=t[i],n=e[o];n&&(null!=n.via&&delete this.sectors.support.nodes[n.via.id],n.disconnect(),delete e[o])}this.moving=!0,this._updateValueRange(e),1==this.constants.hierarchicalLayout.enabled&&0==this.initializing&&(this._resetLevels(),this._setupHierarchicalLayout()),this._updateCalculationNodes()},s.prototype._reconnectEdges=function(){var t,e=this.nodes,i=this.edges;for(t in e)e.hasOwnProperty(t)&&(e[t].edges=[],e[t].dynamicEdges=[]);for(t in i)if(i.hasOwnProperty(t)){var s=i[t];s.from=null,s.to=null,s.connect()}},s.prototype._updateValueRange=function(t){var e,i=void 0,s=void 0,o=0;for(e in t)if(t.hasOwnProperty(e)){var n=t[e].getValue();void 0!==n&&(i=void 0===i?n:Math.min(n,i),s=void 0===s?n:Math.max(n,s),o+=n)}if(void 0!==i&&void 0!==s)for(e in t)t.hasOwnProperty(e)&&t[e].setValueRange(i,s,o)},s.prototype.redraw=function(){this.setSize(this.constants.width,this.constants.height),this._redraw()},s.prototype._requestRedraw=function(t){this.redrawRequested!==!0&&(this.redrawRequested=!0,this.requiresTimeout===!0?window.setTimeout(this._redraw.bind(this,t),0):window.requestAnimationFrame(this._redraw.bind(this,t,!0)))},s.prototype._redraw=function(t,e){void 0===t&&(t=!1),this.redrawRequested=!1;var i=this.frame.canvas.getContext("2d");i.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var s=this.frame.canvas.clientWidth,o=this.frame.canvas.clientHeight;i.clearRect(0,0,s,o),i.save(),i.translate(this.translation.x,this.translation.y),i.scale(this.scale,this.scale),this.canvasTopLeft={x:this._XconvertDOMtoCanvas(0),y:this._YconvertDOMtoCanvas(0)},this.canvasBottomRight={x:this._XconvertDOMtoCanvas(this.frame.canvas.clientWidth),y:this._YconvertDOMtoCanvas(this.frame.canvas.clientHeight)},t===!1&&(this._doInAllSectors("_drawAllSectorNodes",i),(0==this.drag.dragging||void 0===this.drag.dragging||0==this.constants.hideEdgesOnDrag)&&this._doInAllSectors("_drawEdges",i)),(0==this.drag.dragging||void 0===this.drag.dragging||0==this.constants.hideNodesOnDrag)&&this._doInAllSectors("_drawNodes",i,!1),t===!1&&1==this.controlNodesActive&&this._doInAllSectors("_drawControlNodes",i),i.restore(),t===!0&&i.clearRect(0,0,s,o)},s.prototype._setTranslation=function(t,e){void 0===this.translation&&(this.translation={x:0,y:0}),void 0!==t&&(this.translation.x=t),void 0!==e&&(this.translation.y=e),this.emit("viewChanged")},s.prototype._getTranslation=function(){return{x:this.translation.x,y:this.translation.y}},s.prototype._setScale=function(t){this.scale=t},s.prototype._getScale=function(){return this.scale},s.prototype._XconvertDOMtoCanvas=function(t){return(t-this.translation.x)/this.scale},s.prototype._XconvertCanvasToDOM=function(t){return t*this.scale+this.translation.x},s.prototype._YconvertDOMtoCanvas=function(t){return(t-this.translation.y)/this.scale},s.prototype._YconvertCanvasToDOM=function(t){return t*this.scale+this.translation.y},s.prototype.canvasToDOM=function(t){return{x:this._XconvertCanvasToDOM(t.x),y:this._YconvertCanvasToDOM(t.y)}},s.prototype.DOMtoCanvas=function(t){return{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}},s.prototype._drawNodes=function(t,e){void 0===e&&(e=!1);var i=this.nodes,s=[];for(var o in i)i.hasOwnProperty(o)&&(i[o].setScaleAndPos(this.scale,this.canvasTopLeft,this.canvasBottomRight),i[o].isSelected()?s.push(o):(i[o].inArea()||e)&&i[o].draw(t));for(var n=0,r=s.length;r>n;n++)(i[s[n]].inArea()||e)&&i[s[n]].draw(t)},s.prototype._drawEdges=function(t){var e=this.edges;for(var i in e)if(e.hasOwnProperty(i)){var s=e[i];s.setScale(this.scale),s.connected&&e[i].draw(t)}},s.prototype._drawControlNodes=function(t){var e=this.edges;for(var i in e)e.hasOwnProperty(i)&&e[i]._drawControlNodes(t)},s.prototype._stabilize=function(){1==this.constants.freezeForStabilization&&this._freezeDefinedNodes();for(var t=0;this.moving&&t<this.constants.stabilizationIterations;)this._physicsTick(),t++;1==this.constants.zoomExtentOnStabilize&&this.zoomExtent({duration:0},!1,!0),1==this.constants.freezeForStabilization&&this._restoreFrozenNodes(),this.emit("stabilizationIterationsDone")},s.prototype._freezeDefinedNodes=function(){var t=this.nodes;for(var e in t)t.hasOwnProperty(e)&&null!=t[e].x&&null!=t[e].y&&(t[e].fixedData.x=t[e].xFixed,t[e].fixedData.y=t[e].yFixed,t[e].xFixed=!0,t[e].yFixed=!0)},s.prototype._restoreFrozenNodes=function(){var t=this.nodes;for(var e in t)t.hasOwnProperty(e)&&null!=t[e].fixedData.x&&(t[e].xFixed=t[e].fixedData.x,t[e].yFixed=t[e].fixedData.y)},s.prototype._isMoving=function(t){var e=this.nodes;for(var i in e)if(void 0!==e[i]&&1==e[i].isMoving(t))return!0;return!1},s.prototype._discreteStepNodes=function(){var t,e=this.physicsDiscreteStepsize,i=this.nodes,s=!1;if(this.constants.maxVelocity>0)for(t in i)i.hasOwnProperty(t)&&(i[t].discreteStepLimited(e,this.constants.maxVelocity),s=!0);else for(t in i)i.hasOwnProperty(t)&&(i[t].discreteStep(e),s=!0);if(1==s){var o=this.constants.minVelocity/Math.max(this.scale,.05);return o>.5*this.constants.maxVelocity?!0:this._isMoving(o)}return!1},s.prototype._revertPhysicsState=function(){var t=this.nodes;for(var e in t)t.hasOwnProperty(e)&&t[e].revertPosition()},s.prototype._revertPhysicsTick=function(){this._doInAllActiveSectors("_revertPhysicsState"),1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic&&this._doInSupportSector("_revertPhysicsState")},s.prototype._physicsTick=function(){if(!this.freezeSimulationEnabled&&1==this.moving){var t=!1,e=!1;this._doInAllActiveSectors("_initializeForceCalculation");var i=this._doInAllActiveSectors("_discreteStepNodes");1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic&&(e=this._doInSupportSector("_discreteStepNodes"));for(var s=0;s<i.length;s++)t=i[s]||t;this.moving=t||e,0==this.moving?this._revertPhysicsTick():0==this.startedStabilization&&(this.emit("startStabilization"),this.startedStabilization=!0),this.stabilizationIterations++}},s.prototype._animationStep=function(){if(this.timer=void 0,1==this.requiresTimeout&&this.start(),this._handleNavigation(),1==this.moving){var t=Date.now();this._physicsTick();var e=Date.now()-t;(this.renderTimestep-this.renderTime>2*e||1==this.runDoubleSpeed)&&1==this.moving&&(this._physicsTick(),0!=this.renderTime&&(this.runDoubleSpeed=!0))}var i=Date.now();this._redraw(),this.renderTime=Date.now()-i,0==this.requiresTimeout&&this.start()},"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),s.prototype.start=function(){if(1==this.freezeSimulationEnabled&&(this.moving=!1),1==this.moving||0!=this.xIncrement||0!=this.yIncrement||0!=this.zoomIncrement||1==this.animating)this.timer||(this.timer=1==this.requiresTimeout?window.setTimeout(this._animationStep.bind(this),this.renderTimestep):window.requestAnimationFrame(this._animationStep.bind(this)));\nelse if(this._requestRedraw(),this.stabilizationIterations>1){var t=this,e={iterations:t.stabilizationIterations};this.stabilizationIterations=0,this.startedStabilization=!1,setTimeout(function(){t.emit("stabilized",e)},0)}else this.stabilizationIterations=0},s.prototype._handleNavigation=function(){if(0!=this.xIncrement||0!=this.yIncrement){var t=this._getTranslation();this._setTranslation(t.x+this.xIncrement,t.y+this.yIncrement)}if(0!=this.zoomIncrement){var e={x:this.frame.canvas.clientWidth/2,y:this.frame.canvas.clientHeight/2};this._zoom(this.scale*(1+this.zoomIncrement),e)}},s.prototype.freezeSimulation=function(t){1==t?(this.freezeSimulationEnabled=!0,this.moving=!1):(this.freezeSimulationEnabled=!1,this.moving=!0,this.start())},s.prototype._configureSmoothCurves=function(t){if(void 0===t&&(t=!0),1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic){this._createBezierNodes();for(var e in this.sectors.support.nodes)this.sectors.support.nodes.hasOwnProperty(e)&&void 0===this.edges[this.sectors.support.nodes[e].parentEdgeId]&&delete this.sectors.support.nodes[e]}else{this.sectors.support.nodes={};for(var i in this.edges)this.edges.hasOwnProperty(i)&&(this.edges[i].via=null)}this._updateCalculationNodes(),t||(this.moving=!0,this.start())},s.prototype._createBezierNodes=function(){if(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic)for(var t in this.edges)if(this.edges.hasOwnProperty(t)){var e=this.edges[t];if(null==e.via){var i="edgeId:".concat(e.id);this.sectors.support.nodes[i]=new f({id:i,mass:1,shape:"circle",image:"",internalMultiplier:1},{},{},this.constants),e.via=this.sectors.support.nodes[i],e.via.parentEdgeId=e.id,e.positionBezierNode()}}},s.prototype._initializeMixinLoaders=function(){for(var t in y)y.hasOwnProperty(t)&&(s.prototype[t]=y[t])},s.prototype.storePosition=function(){console.log("storePosition is depricated: use .storePositions() from now on."),this.storePositions()},s.prototype.storePositions=function(){var t=[];for(var e in this.nodes)if(this.nodes.hasOwnProperty(e)){var i=this.nodes[e],s=!this.nodes.xFixed,o=!this.nodes.yFixed;(this.nodesData._data[e].x!=Math.round(i.x)||this.nodesData._data[e].y!=Math.round(i.y))&&t.push({id:e,x:Math.round(i.x),y:Math.round(i.y),allowedToMoveX:s,allowedToMoveY:o})}this.nodesData.update(t)},s.prototype.getPositions=function(t){var e={};if(void 0!==t){if(1==Array.isArray(t)){for(var i=0;i<t.length;i++)if(void 0!==this.nodes[t[i]]){var s=this.nodes[t[i]];e[t[i]]={x:Math.round(s.x),y:Math.round(s.y)}}}else if(void 0!==this.nodes[t]){var s=this.nodes[t];e[t]={x:Math.round(s.x),y:Math.round(s.y)}}}else for(var o in this.nodes)if(this.nodes.hasOwnProperty(o)){var s=this.nodes[o];e[o]={x:Math.round(s.x),y:Math.round(s.y)}}return e},s.prototype.focusOnNode=function(t,e){if(this.nodes.hasOwnProperty(t)){void 0===e&&(e={});var i={x:this.nodes[t].x,y:this.nodes[t].y};e.position=i,e.lockedOnNode=t,this.moveTo(e)}else console.log("This nodeId cannot be found.")},s.prototype.moveTo=function(t){return void 0===t?void(t={}):(void 0===t.offset&&(t.offset={x:0,y:0}),void 0===t.offset.x&&(t.offset.x=0),void 0===t.offset.y&&(t.offset.y=0),void 0===t.scale&&(t.scale=this._getScale()),void 0===t.position&&(t.position=this._getTranslation()),void 0===t.animation&&(t.animation={duration:0}),t.animation===!1&&(t.animation={duration:0}),t.animation===!0&&(t.animation={}),void 0===t.animation.duration&&(t.animation.duration=1e3),void 0===t.animation.easingFunction&&(t.animation.easingFunction="easeInOutQuad"),void this.animateView(t))},s.prototype.animateView=function(t){if(void 0===t)return void(t={});this.releaseNode(),1==t.locked&&(this.lockedOnNodeId=t.lockedOnNode,this.lockedOnNodeOffset=t.offset),0!=this.easingTime&&this._transitionRedraw(1),this.sourceScale=this._getScale(),this.sourceTranslation=this._getTranslation(),this.targetScale=t.scale,this._setScale(this.targetScale);var e=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),i={x:e.x-t.position.x,y:e.y-t.position.y};this.targetTranslation={x:this.sourceTranslation.x+i.x*this.targetScale+t.offset.x,y:this.sourceTranslation.y+i.y*this.targetScale+t.offset.y},0==t.animation.duration?null!=this.lockedOnNodeId?(this._classicRedraw=this._redraw,this._redraw=this._lockedRedraw):(this._setScale(this.targetScale),this._setTranslation(this.targetTranslation.x,this.targetTranslation.y),this._redraw()):(this.animating=!0,this.animationSpeed=1/(this.renderRefreshRate*t.animation.duration*.001)||1/this.renderRefreshRate,this.animationEasingFunction=t.animation.easingFunction,this._classicRedraw=this._redraw,this._redraw=this._transitionRedraw,this._redraw(),this.start())},s.prototype._lockedRedraw=function(){var t={x:this.nodes[this.lockedOnNodeId].x,y:this.nodes[this.lockedOnNodeId].y},e=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),i={x:e.x-t.x,y:e.y-t.y},s=this._getTranslation(),o={x:s.x+i.x*this.scale+this.lockedOnNodeOffset.x,y:s.y+i.y*this.scale+this.lockedOnNodeOffset.y};this._setTranslation(o.x,o.y),this._classicRedraw()},s.prototype.releaseNode=function(){null!=this.lockedOnNodeId&&(this._redraw=this._classicRedraw,this.lockedOnNodeId=null,this.lockedOnNodeOffset=null)},s.prototype._transitionRedraw=function(t){this.easingTime=t||this.easingTime+this.animationSpeed,this.easingTime+=this.animationSpeed;var e=a.easingFunctions[this.animationEasingFunction](this.easingTime);this._setScale(this.sourceScale+(this.targetScale-this.sourceScale)*e),this._setTranslation(this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*e,this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*e),this._classicRedraw(),this.easingTime>=1&&(this.animating=!1,this.easingTime=0,this._redraw=null!=this.lockedOnNodeId?this._lockedRedraw:this._classicRedraw,this.emit("animationFinished"))},s.prototype._classicRedraw=function(){},s.prototype.isActive=function(){return!this.activator||this.activator.active},s.prototype.setScale=function(){return this._setScale()},s.prototype.getScale=function(){return this._getScale()},s.prototype.getCenterCoordinates=function(){return this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight})},s.prototype.getBoundingBox=function(t){return void 0!==this.nodes[t]?this.nodes[t].boundingBox:void 0},s.prototype.getConnectedNodes=function(t){var e=[];if(void 0!==this.nodes[t])for(var i=this.nodes[t],s={nodeId:!0},o=0;o<i.edges.length;o++){var n=i.edges[o];n.toId==t?void 0===s[n.fromId]&&(e.push(n.fromId),s[n.fromId]=!0):n.fromId==t&&void 0===s[n.toId]&&(e.push(n.toId),s[n.toId]=!0)}return e},s.prototype.getEdgesFromNode=function(t){var e=[];if(void 0!==this.nodes[t])for(var i=this.nodes[t],s=0;s<i.edges.length;s++)e.push(i.edges[s].id);return e},s.prototype.generateColorObject=function(t){return a.parseColor(t)},t.exports=s},function(t,e,i){function s(t,e,i){if(!e)throw"No network provided";var s=["edges","physics"],n=o.selectiveBridgeObject(s,i);this.options=n.edges,this.physics=n.physics,this.options.smoothCurves=i.smoothCurves,this.network=e,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.title=void 0,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier,this.value=void 0,this.selected=!1,this.hover=!1,this.labelDimensions={top:0,left:0,width:0,height:0,yLine:0},this.dirtyLabel=!0,this.colorDirty=!0,this.from=null,this.to=null,this.via=null,this.fromBackup=null,this.toBackup=null,this.originalFromId=[],this.originalToId=[],this.connected=!1,this.widthFixed=!1,this.lengthFixed=!1,this.setProperties(t),this.controlNodesEnabled=!1,this.controlNodes={from:null,to:null,positions:{}},this.connectedNode=null}var o=i(1),n=i(40);s.prototype.setProperties=function(t){if(this.colorDirty=!0,t){var e=["style","fontSize","fontFace","fontColor","fontFill","fontStrokeWidth","fontStrokeColor","width","widthSelectionMultiplier","hoverWidth","arrowScaleFactor","dash","inheritColor","labelAlignment","opacity","customScalingFunction","useGradients"];switch(o.selectiveDeepExtend(e,this.options,t),void 0!==t.from&&(this.fromId=t.from),void 0!==t.to&&(this.toId=t.to),void 0!==t.id&&(this.id=t.id),void 0!==t.label&&(this.label=t.label,this.dirtyLabel=!0),void 0!==t.title&&(this.title=t.title),void 0!==t.value&&(this.value=t.value),void 0!==t.length&&(this.physics.springLength=t.length),void 0!==t.color&&(this.options.inheritColor=!1,o.isString(t.color)?(this.options.color.color=t.color,this.options.color.highlight=t.color):(void 0!==t.color.color&&(this.options.color.color=t.color.color),void 0!==t.color.highlight&&(this.options.color.highlight=t.color.highlight),void 0!==t.color.hover&&(this.options.color.hover=t.color.hover))),this.connect(),this.widthFixed=this.widthFixed||void 0!==t.width,this.lengthFixed=this.lengthFixed||void 0!==t.length,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier,this.options.style){case"line":this.draw=this._drawLine;break;case"arrow":this.draw=this._drawArrow;break;case"arrow-center":this.draw=this._drawArrowCenter;break;case"dash-line":this.draw=this._drawDashLine;break;default:this.draw=this._drawLine}}},s.prototype.connect=function(){this.disconnect(),this.from=this.network.nodes[this.fromId]||null,this.to=this.network.nodes[this.toId]||null,this.connected=this.from&&this.to,this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this))},s.prototype.disconnect=function(){this.from&&(this.from.detachEdge(this),this.from=null),this.to&&(this.to.detachEdge(this),this.to=null),this.connected=!1},s.prototype.getTitle=function(){return"function"==typeof this.title?this.title():this.title},s.prototype.getValue=function(){return this.value},s.prototype.setValueRange=function(t,e,i){if(!this.widthFixed&&void 0!==this.value){var s=this.options.customScalingFunction(t,e,i,this.value),o=this.options.widthMax-this.options.widthMin;this.options.width=this.options.widthMin+s*o,this.widthSelected=this.options.width*this.options.widthSelectionMultiplier}},s.prototype.draw=function(t){throw"Method draw not initialized in edge"},s.prototype.isOverlappingWith=function(t){if(this.connected){var e=10,i=this.from.x,s=this.from.y,o=this.to.x,n=this.to.y,r=t.left,a=t.top,h=this._getDistanceToEdge(i,s,o,n,r,a);return e>h}return!1},s.prototype._getColor=function(t){var e=this.options.color;if(1==this.options.useGradients){var i,s,n=t.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);return i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border,0==this.from.selected&&0==this.to.selected?(i=o.overrideOpacity(this.from.options.color.border,this.options.opacity),s=o.overrideOpacity(this.to.options.color.border,this.options.opacity)):1==this.from.selected&&0==this.to.selected?s=this.to.options.color.border:0==this.from.selected&&1==this.to.selected&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return this.colorDirty===!0&&("to"==this.options.inheritColor?e={highlight:this.to.options.color.highlight.border,hover:this.to.options.color.hover.border,color:o.overrideOpacity(this.from.options.color.border,this.options.opacity)}:("from"==this.options.inheritColor||1==this.options.inheritColor)&&(e={highlight:this.from.options.color.highlight.border,hover:this.from.options.color.hover.border,color:o.overrideOpacity(this.from.options.color.border,this.options.opacity)}),this.options.color=e,this.colorDirty=!1),1==this.selected?e.highlight:1==this.hover?e.hover:e.color},s.prototype._drawLine=function(t){if(t.strokeStyle=this._getColor(t),t.lineWidth=this._getLineWidth(),this.from!=this.to){var e,i=this._line(t);if(this.label){if(1==this.options.smoothCurves.enabled&&null!=i){var s=.5*(.5*(this.from.x+i.x)+.5*(this.to.x+i.x)),o=.5*(.5*(this.from.y+i.y)+.5*(this.to.y+i.y));e={x:s,y:o}}else e=this._pointOnLine(.5);this._label(t,this.label,e.x,e.y)}}else{var n,r,a=this.physics.springLength/4,h=this.from;h.width||h.resize(t),h.width>h.height?(n=h.x+h.width/2,r=h.y-a):(n=h.x+a,r=h.y-h.height/2),this._circle(t,n,r,a),e=this._pointOnCircle(n,r,a,.5),this._label(t,this.label,e.x,e.y)}},s.prototype._getLineWidth=function(){return 1==this.selected?Math.max(Math.min(this.widthSelected,this.options.widthMax),.3*this.networkScaleInv):1==this.hover?Math.max(Math.min(this.options.hoverWidth,this.options.widthMax),.3*this.networkScaleInv):Math.max(this.options.width,.3*this.networkScaleInv)},s.prototype._getViaCoordinates=function(){if(1==this.options.smoothCurves.dynamic&&1==this.options.smoothCurves.enabled)return this.via;if(0==this.options.smoothCurves.enabled)return{x:0,y:0};var t=null,e=null,i=this.options.smoothCurves.roundness,s=this.options.smoothCurves.type,o=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if("discrete"==s||"diagonalCross"==s)Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(this.from.y>this.to.y?this.from.x<this.to.x?(t=this.from.x+i*n,e=this.from.y-i*n):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y-i*n):this.from.y<this.to.y&&(this.from.x<this.to.x?(t=this.from.x+i*n,e=this.from.y+i*n):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y+i*n)),"discrete"==s&&(t=i*n>o?this.from.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(t=this.from.x+i*o,e=this.from.y-i*o):this.from.x>this.to.x&&(t=this.from.x-i*o,e=this.from.y-i*o):this.from.y<this.to.y&&(this.from.x<this.to.x?(t=this.from.x+i*o,e=this.from.y+i*o):this.from.x>this.to.x&&(t=this.from.x-i*o,e=this.from.y+i*o)),"discrete"==s&&(e=i*o>n?this.from.y:e));else if("straightCross"==s)Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*n:this.to.y+(1-i)*n):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(t=this.from.x<this.to.x?this.to.x-(1-i)*o:this.to.x+(1-i)*o,e=this.from.y);else if("horizontal"==s)t=this.from.x<this.to.x?this.to.x-(1-i)*o:this.to.x+(1-i)*o,e=this.from.y;else if("vertical"==s)t=this.from.x,e=this.from.y<this.to.y?this.to.y-(1-i)*n:this.to.y+(1-i)*n;else if("curvedCW"==s){var o=this.to.x-this.from.x,n=this.from.y-this.to.y,r=Math.sqrt(o*o+n*n),a=Math.PI,h=Math.atan2(n,o),d=(h+(.5*i+.5)*a)%(2*a);t=this.from.x+(.5*i+.5)*r*Math.sin(d),e=this.from.y+(.5*i+.5)*r*Math.cos(d)}else if("curvedCCW"==s){var o=this.to.x-this.from.x,n=this.from.y-this.to.y,r=Math.sqrt(o*o+n*n),a=Math.PI,h=Math.atan2(n,o),d=(h+(.5*-i+.5)*a)%(2*a);t=this.from.x+(.5*i+.5)*r*Math.sin(d),e=this.from.y+(.5*i+.5)*r*Math.cos(d)}else Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?this.from.y>this.to.y?this.from.x<this.to.x?(t=this.from.x+i*n,e=this.from.y-i*n,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y-i*n,t=this.to.x>t?this.to.x:t):this.from.y<this.to.y&&(this.from.x<this.to.x?(t=this.from.x+i*n,e=this.from.y+i*n,t=this.to.x<t?this.to.x:t):this.from.x>this.to.x&&(t=this.from.x-i*n,e=this.from.y+i*n,t=this.to.x>t?this.to.x:t)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(t=this.from.x+i*o,e=this.from.y-i*o,e=this.to.y>e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*o,e=this.from.y-i*o,e=this.to.y>e?this.to.y:e):this.from.y<this.to.y&&(this.from.x<this.to.x?(t=this.from.x+i*o,e=this.from.y+i*o,e=this.to.y<e?this.to.y:e):this.from.x>this.to.x&&(t=this.from.x-i*o,e=this.from.y+i*o,e=this.to.y<e?this.to.y:e)));return{x:t,y:e}},s.prototype._line=function(t){if(t.beginPath(),t.moveTo(this.from.x,this.from.y),1==this.options.smoothCurves.enabled){if(0==this.options.smoothCurves.dynamic){var e=this._getViaCoordinates();return null==e.x?(t.lineTo(this.to.x,this.to.y),t.stroke(),null):(t.quadraticCurveTo(e.x,e.y,this.to.x,this.to.y),t.stroke(),e)}return t.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y),t.stroke(),this.via}return t.lineTo(this.to.x,this.to.y),t.stroke(),null},s.prototype._circle=function(t,e,i,s){t.beginPath(),t.arc(e,i,s,0,2*Math.PI,!1),t.stroke()},s.prototype._label=function(t,e,i,s){if(e){t.font=(this.from.selected||this.to.selected?"bold ":"")+this.options.fontSize+"px "+this.options.fontFace;var o;if(1==this.dirtyLabel){var n=String(e).split("\\n"),r=n.length,a=Number(this.options.fontSize);o=s+(1-r)/2*a;for(var h=t.measureText(n[0]).width,d=1;r>d;d++){var l=t.measureText(n[d]).width;h=l>h?l:h}var c=this.options.fontSize*r,p=i-h/2,u=s-c/2;this.labelDimensions={top:u,left:p,width:h,height:c,yLine:o}}var o=this.labelDimensions.yLine;t.save(),"horizontal"!=this.options.labelAlignment&&(t.translate(i,o),this._rotateForLabelAlignment(t),i=0,o=0),this._drawLabelRect(t),this._drawLabelText(t,i,o,n,r,a),t.restore()}},s.prototype._rotateForLabelAlignment=function(t){var e=this.from.y-this.to.y,i=this.from.x-this.to.x,s=Math.atan2(e,i);(-1>s&&0>i||s>0&&0>i)&&(s+=Math.PI),t.rotate(s)},s.prototype._drawLabelRect=function(t){if(void 0!==this.options.fontFill&&null!==this.options.fontFill&&"none"!==this.options.fontFill){t.fillStyle=this.options.fontFill;var e=2;"line-center"==this.options.labelAlignment?t.fillRect(.5*-this.labelDimensions.width,.5*-this.labelDimensions.height,this.labelDimensions.width,this.labelDimensions.height):"line-above"==this.options.labelAlignment?t.fillRect(.5*-this.labelDimensions.width,-(this.labelDimensions.height+e),this.labelDimensions.width,this.labelDimensions.height):"line-below"==this.options.labelAlignment?t.fillRect(.5*-this.labelDimensions.width,e,this.labelDimensions.width,this.labelDimensions.height):t.fillRect(this.labelDimensions.left,this.labelDimensions.top,this.labelDimensions.width,this.labelDimensions.height)}},s.prototype._drawLabelText=function(t,e,i,s,o,n){if(t.fillStyle=this.options.fontColor||"black",t.textAlign="center","horizontal"!=this.options.labelAlignment){var r=2;"line-above"==this.options.labelAlignment?(t.textBaseline="alphabetic",i-=2*r):"line-below"==this.options.labelAlignment?(t.textBaseline="hanging",i+=2*r):t.textBaseline="middle"}else t.textBaseline="middle";this.options.fontStrokeWidth>0&&(t.lineWidth=this.options.fontStrokeWidth,t.strokeStyle=this.options.fontStrokeColor,t.lineJoin="round");for(var a=0;o>a;a++)this.options.fontStrokeWidth>0&&t.strokeText(s[a],e,i),t.fillText(s[a],e,i),i+=n},s.prototype._drawDashLine=function(t){t.strokeStyle=this._getColor(t),t.lineWidth=this._getLineWidth();var e=null;if(void 0!==t.setLineDash){t.save();var i=[0];i=void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?[this.options.dash.length,this.options.dash.gap]:[5,5],t.setLineDash(i),t.lineDashOffset=0,e=this._line(t),t.setLineDash([0]),t.lineDashOffset=0,t.restore()}else t.beginPath(),t.lineCap="round",void 0!==this.options.dash.altLength?t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap,this.options.dash.altLength,this.options.dash.gap]):void 0!==this.options.dash.length&&void 0!==this.options.dash.gap?t.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,[this.options.dash.length,this.options.dash.gap]):(t.moveTo(this.from.x,this.from.y),t.lineTo(this.to.x,this.to.y)),t.stroke();if(this.label){var s;if(1==this.options.smoothCurves.enabled&&null!=e){var o=.5*(.5*(this.from.x+e.x)+.5*(this.to.x+e.x)),n=.5*(.5*(this.from.y+e.y)+.5*(this.to.y+e.y));s={x:o,y:n}}else s=this._pointOnLine(.5);this._label(t,this.label,s.x,s.y)}},s.prototype._pointOnLine=function(t){return{x:(1-t)*this.from.x+t*this.to.x,y:(1-t)*this.from.y+t*this.to.y}},s.prototype._pointOnCircle=function(t,e,i,s){var o=2*(s-3/8)*Math.PI;return{x:t+i*Math.cos(o),y:e-i*Math.sin(o)}},s.prototype._drawArrowCenter=function(t){var e;if(t.strokeStyle=this._getColor(t),t.fillStyle=t.strokeStyle,t.lineWidth=this._getLineWidth(),this.from!=this.to){var i=this._line(t),s=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),o=(10+5*this.options.width)*this.options.arrowScaleFactor;if(1==this.options.smoothCurves.enabled&&null!=i){var n=.5*(.5*(this.from.x+i.x)+.5*(this.to.x+i.x)),r=.5*(.5*(this.from.y+i.y)+.5*(this.to.y+i.y));e={x:n,y:r}}else e=this._pointOnLine(.5);t.arrow(e.x,e.y,s,o),t.fill(),t.stroke(),this.label&&this._label(t,this.label,e.x,e.y)}else{var a,h,d=.25*Math.max(100,this.physics.springLength),l=this.from;l.width||l.resize(t),l.width>l.height?(a=l.x+.5*l.width,h=l.y-d):(a=l.x+d,h=l.y-.5*l.height),this._circle(t,a,h,d);var s=.2*Math.PI,o=(10+5*this.options.width)*this.options.arrowScaleFactor;e=this._pointOnCircle(a,h,d,.5),t.arrow(e.x,e.y,s,o),t.fill(),t.stroke(),this.label&&(e=this._pointOnCircle(a,h,d,.5),this._label(t,this.label,e.x,e.y))}},s.prototype._pointOnBezier=function(t){var e=this._getViaCoordinates(),i=Math.pow(1-t,2)*this.from.x+2*t*(1-t)*e.x+Math.pow(t,2)*this.to.x,s=Math.pow(1-t,2)*this.from.y+2*t*(1-t)*e.y+Math.pow(t,2)*this.to.y;return{x:i,y:s}},s.prototype._findBorderPosition=function(t,e){var i,s,o,n,r,a=10,h=0,d=0,l=1,c=.2,p=this.to;for(1==t&&(p=this.from);l>=d&&a>h;){var u=.5*(d+l);if(i=this._pointOnBezier(u),s=Math.atan2(p.y-i.y,p.x-i.x),o=p.distanceToBorder(e,s),n=Math.sqrt(Math.pow(i.x-p.x,2)+Math.pow(i.y-p.y,2)),r=o-n,Math.abs(r)<c)break;0>r?0==t?d=u:l=u:0==t?l=u:d=u,h++}return i.t=u,i},s.prototype._drawArrow=function(t){t.strokeStyle=this._getColor(t),t.fillStyle=t.strokeStyle,t.lineWidth=this._getLineWidth();var e,i,s;if(this.from!=this.to){if(this._line(t),1==this.options.smoothCurves.enabled){var o=this._getViaCoordinates();s=this._findBorderPosition(!1,t);var n=this._pointOnBezier(Math.max(0,s.t-.1));e=Math.atan2(s.y-n.y,s.x-n.x)}else{e=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x);var r=this.to.x-this.from.x,a=this.to.y-this.from.y,h=Math.sqrt(r*r+a*a),d=this.to.distanceToBorder(t,e),l=(h-d)/h;s={},s.x=(1-l)*this.from.x+l*this.to.x,s.y=(1-l)*this.from.y+l*this.to.y}if(i=(10+5*this.options.width)*this.options.arrowScaleFactor,t.arrow(s.x,s.y,e,i),t.fill(),t.stroke(),this.label){var c;c=1==this.options.smoothCurves.enabled&&null!=o?this._pointOnBezier(.5):this._pointOnLine(.5),this._label(t,this.label,c.x,c.y)}}else{var p,u,m,f=this.from,g=.25*Math.max(100,this.physics.springLength);f.width||f.resize(t),f.width>f.height?(p=f.x+.5*f.width,u=f.y-g,m={x:p,y:f.y,angle:.9*Math.PI}):(p=f.x+g,u=f.y-.5*f.height,m={x:f.x,y:u,angle:.6*Math.PI}),t.beginPath(),t.arc(p,u,g,0,2*Math.PI,!1),t.stroke();var i=(10+5*this.options.width)*this.options.arrowScaleFactor;t.arrow(m.x,m.y,m.angle,i),t.fill(),t.stroke(),this.label&&(c=this._pointOnCircle(p,u,g,.5),this._label(t,this.label,c.x,c.y))}},s.prototype._getDistanceToEdge=function(t,e,i,s,o,n){var r=0;if(this.from!=this.to)if(1==this.options.smoothCurves.enabled){var a,h;if(1==this.options.smoothCurves.enabled&&1==this.options.smoothCurves.dynamic)a=this.via.x,h=this.via.y;else{var d=this._getViaCoordinates();a=d.x,h=d.y}var l,c,p,u,m,f,g,v=1e9;for(c=0;10>c;c++)p=.1*c,u=Math.pow(1-p,2)*t+2*p*(1-p)*a+Math.pow(p,2)*i,m=Math.pow(1-p,2)*e+2*p*(1-p)*h+Math.pow(p,2)*s,c>0&&(l=this._getDistanceToLine(f,g,u,m,o,n),v=v>l?l:v),f=u,g=m;r=v}else r=this._getDistanceToLine(t,e,i,s,o,n);else{var u,m,y,b,_=.25*this.physics.springLength,x=this.from;x.width>x.height?(u=x.x+.5*x.width,m=x.y-_):(u=x.x+_,m=x.y-.5*x.height),y=u-o,b=m-n,r=Math.abs(Math.sqrt(y*y+b*b)-_)}return this.labelDimensions.left<o&&this.labelDimensions.left+this.labelDimensions.width>o&&this.labelDimensions.top<n&&this.labelDimensions.top+this.labelDimensions.height>n?0:r},s.prototype._getDistanceToLine=function(t,e,i,s,o,n){var r=i-t,a=s-e,h=r*r+a*a,d=((o-t)*r+(n-e)*a)/h;d>1?d=1:0>d&&(d=0);var l=t+d*r,c=e+d*a,p=l-o,u=c-n;return Math.sqrt(p*p+u*u)},s.prototype.setScale=function(t){this.networkScaleInv=1/t},s.prototype.select=function(){this.selected=!0},s.prototype.unselect=function(){this.selected=!1},s.prototype.positionBezierNode=function(){null!==this.via&&null!==this.from&&null!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):null!==this.via&&(this.via.x=0,this.via.y=0)},s.prototype._drawControlNodes=function(t){if(1==this.controlNodesEnabled){if(null===this.controlNodes.from&&null===this.controlNodes.to){var e="edgeIdFrom:".concat(this.id),i="edgeIdTo:".concat(this.id),s={nodes:{group:"",radius:7,borderWidth:2,borderWidthSelected:2},physics:{damping:0},clustering:{maxNodeSizeIncrements:0,nodeScaling:{width:0,height:0,radius:0}}};this.controlNodes.from=new n({id:e,shape:"dot",color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},s),this.controlNodes.to=new n({id:i,shape:"dot",color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968"}}},{},{},s)}this.controlNodes.positions={},0==this.controlNodes.from.selected&&(this.controlNodes.positions.from=this.getControlNodeFromPosition(t),this.controlNodes.from.x=this.controlNodes.positions.from.x,this.controlNodes.from.y=this.controlNodes.positions.from.y),0==this.controlNodes.to.selected&&(this.controlNodes.positions.to=this.getControlNodeToPosition(t),this.controlNodes.to.x=this.controlNodes.positions.to.x,this.controlNodes.to.y=this.controlNodes.positions.to.y),this.controlNodes.from.draw(t),this.controlNodes.to.draw(t)}else this.controlNodes={from:null,to:null,positions:{}}},s.prototype._enableControlNodes=function(){this.fromBackup=this.from,this.toBackup=this.to,this.controlNodesEnabled=!0},s.prototype._disableControlNodes=function(){this.fromId=this.from.id,this.toId=this.to.id,this.fromId!=this.fromBackup.id?this.fromBackup.detachEdge(this):this.toId!=this.toBackup.id&&this.toBackup.detachEdge(this),this.fromBackup=null,this.toBackup=null,this.controlNodesEnabled=!1},s.prototype._getSelectedControlNode=function(t,e){var i=this.controlNodes.positions,s=Math.sqrt(Math.pow(t-i.from.x,2)+Math.pow(e-i.from.y,2)),o=Math.sqrt(Math.pow(t-i.to.x,2)+Math.pow(e-i.to.y,2));return 15>s?(this.connectedNode=this.from,this.from=this.controlNodes.from,this.controlNodes.from):15>o?(this.connectedNode=this.to,this.to=this.controlNodes.to,this.controlNodes.to):null},s.prototype._restoreControlNodes=function(){1==this.controlNodes.from.selected?(this.from=this.connectedNode,this.connectedNode=null,this.controlNodes.from.unselect()):1==this.controlNodes.to.selected&&(this.to=this.connectedNode,this.connectedNode=null,this.controlNodes.to.unselect())},s.prototype.getControlNodeFromPosition=function(t){var e;if(1==this.options.smoothCurves.enabled)e=this._findBorderPosition(!0,t);else{var i=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),s=this.to.x-this.from.x,o=this.to.y-this.from.y,n=Math.sqrt(s*s+o*o),r=this.from.distanceToBorder(t,i+Math.PI),a=(n-r)/n;e={},e.x=a*this.from.x+(1-a)*this.to.x,e.y=a*this.from.y+(1-a)*this.to.y}return e},s.prototype.getControlNodeToPosition=function(t){var e;if(1==this.options.smoothCurves.enabled)e=this._findBorderPosition(!1,t);else{var i=Math.atan2(this.to.y-this.from.y,this.to.x-this.from.x),s=this.to.x-this.from.x,o=this.to.y-this.from.y,n=Math.sqrt(s*s+o*o),r=this.to.distanceToBorder(t,i),a=(n-r)/n;e={},e.x=(1-a)*this.from.x+a*this.to.x,e.y=(1-a)*this.from.y+a*this.to.y}return e},t.exports=s},function(t,e,i){function s(){this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.useDefaultGroups=!0}i(1);s.DEFAULT=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],s.prototype.clear=function(){this.groups={},this.groups.length=function(){var t=0;for(var e in this)this.hasOwnProperty(e)&&t++;return t}},s.prototype.get=function(t){var e=this.groups[t];if(void 0==e)if(this.useDefaultGroups===!1&&this.groupsArray.length>0){var i=this.groupIndex%this.groupsArray.length;this.groupIndex++,e={},e.color=this.groups[this.groupsArray[i]],this.groups[t]=e}else{var i=this.defaultIndex%s.DEFAULT.length;this.defaultIndex++,e={},e.color=s.DEFAULT[i],this.groups[t]=e}return e},s.prototype.add=function(t,e){return this.groups[t]=e,this.groupsArray.push(t),e},t.exports=s},function(t,e,i){function s(){this.images={},this.imageBroken={},this.callback=void 0}s.prototype.setOnloadCallback=function(t){this.callback=t},s.prototype.load=function(t,e){var i=this.images[t];if(void 0===i){var s=this;i=new Image,i.onload=function(){0==this.width&&(document.body.appendChild(this),this.width=this.offsetWidth,this.height=this.offsetHeight,document.body.removeChild(this)),s.callback&&(s.images[t]=i,s.callback(this))},i.onerror=function(){void 0===e?(console.error("Could not load image:",t),delete this.src,s.callback&&s.callback(this)):s.imageBroken[t]===!0?this.src==e?(console.error("Could not load brokenImage:",e),delete this.src,s.callback&&s.callback(this)):(console.error("Could not load image:",t),this.src=e):(console.error("Could not load image:",t),this.src=e,s.imageBroken[t]=!0)},i.src=t}return i},t.exports=s},function(t,e,i){function s(t,e,i,s){var n=o.selectiveBridgeObject(["nodes"],s);this.options=n.nodes,this.selected=!1,this.hover=!1,this.edges=[],this.dynamicEdges=[],this.reroutedEdges={},this.id=void 0,this.allowedToMoveX=!1,this.allowedToMoveY=!1,this.xFixed=!1,this.yFixed=!1,this.horizontalAlignLeft=!0,this.verticalAlignTop=!0,this.baseRadiusValue=s.nodes.radius,this.radiusFixed=!1,this.level=-1,this.preassignedLevel=!1,this.hierarchyEnumerated=!1,\nthis.labelDimensions={top:0,left:0,width:0,height:0,yLine:0},this.boundingBox={top:0,left:0,right:0,bottom:0},this.imagelist=e,this.grouplist=i,this.fx=0,this.fy=0,this.vx=0,this.vy=0,this.x=null,this.y=null,this.predefinedPosition=!1,this.previousState={vx:0,vy:0,x:0,y:0},this.damping=s.physics.damping,this.fixedData={x:null,y:null},this.setProperties(t,n),this.resetCluster(),this.clusterSession=0,this.clusterSizeWidthFactor=s.clustering.nodeScaling.width,this.clusterSizeHeightFactor=s.clustering.nodeScaling.height,this.clusterSizeRadiusFactor=s.clustering.nodeScaling.radius,this.maxNodeSizeIncrements=s.clustering.maxNodeSizeIncrements,this.growthIndicator=0,this.networkScaleInv=1,this.networkScale=1,this.canvasTopLeft={x:-300,y:-300},this.canvasBottomRight={x:300,y:300},this.parentEdgeId=null}var o=i(1);s.prototype.revertPosition=function(){this.x=this.previousState.x,this.y=this.previousState.y,this.vx=this.previousState.vx,this.vy=this.previousState.vy},s.prototype.resetCluster=function(){this.formationScale=void 0,this.clusterSize=1,this.containedNodes={},this.containedEdges={},this.clusterSessions=[]},s.prototype.attachEdge=function(t){-1==this.edges.indexOf(t)&&this.edges.push(t),-1==this.dynamicEdges.indexOf(t)&&this.dynamicEdges.push(t)},s.prototype.detachEdge=function(t){var e=this.edges.indexOf(t);-1!=e&&this.edges.splice(e,1),e=this.dynamicEdges.indexOf(t),-1!=e&&this.dynamicEdges.splice(e,1)},s.prototype.setProperties=function(t,e){if(t){var i=["borderWidth","borderWidthSelected","shape","image","brokenImage","radius","fontColor","fontSize","fontFace","fontFill","fontStrokeWidth","fontStrokeColor","group","mass","fontDrawThreshold","scaleFontWithValue","fontSizeMaxVisible","customScalingFunction","iconFontFace","icon","iconColor","iconSize"];if(o.selectiveDeepExtend(i,this.options,t),void 0!==t.id&&(this.id=t.id),void 0!==t.label&&(this.label=t.label,this.originalLabel=t.label),void 0!==t.title&&(this.title=t.title),void 0!==t.x&&(this.x=t.x,this.predefinedPosition=!0),void 0!==t.y&&(this.y=t.y,this.predefinedPosition=!0),void 0!==t.value&&(this.value=t.value),void 0!==t.level&&(this.level=t.level,this.preassignedLevel=!0),void 0!==t.horizontalAlignLeft&&(this.horizontalAlignLeft=t.horizontalAlignLeft),void 0!==t.verticalAlignTop&&(this.verticalAlignTop=t.verticalAlignTop),void 0!==t.triggerFunction&&(this.triggerFunction=t.triggerFunction),void 0===this.id)throw"Node must have an id";if("number"==typeof t.group||"string"==typeof t.group&&""!=t.group){var s=this.grouplist.get(t.group);o.deepExtend(this.options,s),this.options.color=o.parseColor(this.options.color)}if(void 0!==t.radius&&(this.baseRadiusValue=this.options.radius),void 0!==t.color&&(this.options.color=o.parseColor(t.color)),void 0!==this.options.image&&""!=this.options.image){if(!this.imagelist)throw"No imagelist provided";this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage)}switch(void 0!==t.allowedToMoveX?(this.xFixed=!t.allowedToMoveX,this.allowedToMoveX=t.allowedToMoveX):void 0!==t.x&&0==this.allowedToMoveX&&(this.xFixed=!0),void 0!==t.allowedToMoveY?(this.yFixed=!t.allowedToMoveY,this.allowedToMoveY=t.allowedToMoveY):void 0!==t.y&&0==this.allowedToMoveY&&(this.yFixed=!0),this.radiusFixed=this.radiusFixed||void 0!==t.radius,("image"===this.options.shape||"circularImage"===this.options.shape)&&(this.options.radiusMin=e.nodes.widthMin,this.options.radiusMax=e.nodes.widthMax),this.options.shape){case"database":this.draw=this._drawDatabase,this.resize=this._resizeDatabase;break;case"box":this.draw=this._drawBox,this.resize=this._resizeBox;break;case"circle":this.draw=this._drawCircle,this.resize=this._resizeCircle;break;case"ellipse":this.draw=this._drawEllipse,this.resize=this._resizeEllipse;break;case"image":this.draw=this._drawImage,this.resize=this._resizeImage;break;case"circularImage":this.draw=this._drawCircularImage,this.resize=this._resizeCircularImage;break;case"text":this.draw=this._drawText,this.resize=this._resizeText;break;case"dot":this.draw=this._drawDot,this.resize=this._resizeShape;break;case"square":this.draw=this._drawSquare,this.resize=this._resizeShape;break;case"triangle":this.draw=this._drawTriangle,this.resize=this._resizeShape;break;case"triangleDown":this.draw=this._drawTriangleDown,this.resize=this._resizeShape;break;case"star":this.draw=this._drawStar,this.resize=this._resizeShape;break;case"icon":this.draw=this._drawIcon,this.resize=this._resizeIcon;break;default:this.draw=this._drawEllipse,this.resize=this._resizeEllipse}this._reset()}},s.prototype.select=function(){this.selected=!0,this._reset()},s.prototype.unselect=function(){this.selected=!1,this._reset()},s.prototype.clearSizeCache=function(){this._reset()},s.prototype._reset=function(){this.width=void 0,this.height=void 0},s.prototype.getTitle=function(){return"function"==typeof this.title?this.title():this.title},s.prototype.distanceToBorder=function(t,e){var i=1;switch(this.width||this.resize(t),this.options.shape){case"circle":case"dot":return this.options.radius+i;case"ellipse":var s=this.width/2,o=this.height/2,n=Math.sin(e)*s,r=Math.cos(e)*o;return s*o/Math.sqrt(n*n+r*r);case"box":case"image":case"text":default:return this.width?Math.min(Math.abs(this.width/2/Math.cos(e)),Math.abs(this.height/2/Math.sin(e)))+i:0}},s.prototype._setForce=function(t,e){this.fx=t,this.fy=e},s.prototype._addForce=function(t,e){this.fx+=t,this.fy+=e},s.prototype.storeState=function(){this.previousState.x=this.x,this.previousState.y=this.y,this.previousState.vx=this.vx,this.previousState.vy=this.vy},s.prototype.discreteStep=function(t){if(this.storeState(),this.xFixed)this.fx=0,this.vx=0;else{var e=this.damping*this.vx,i=(this.fx-e)/this.options.mass;this.vx+=i*t,this.x+=this.vx*t}if(this.yFixed)this.fy=0,this.vy=0;else{var s=this.damping*this.vy,o=(this.fy-s)/this.options.mass;this.vy+=o*t,this.y+=this.vy*t}},s.prototype.discreteStepLimited=function(t,e){if(this.storeState(),this.xFixed)this.fx=0,this.vx=0;else{var i=this.damping*this.vx,s=(this.fx-i)/this.options.mass;this.vx+=s*t,this.vx=Math.abs(this.vx)>e?this.vx>0?e:-e:this.vx,this.x+=this.vx*t}if(this.yFixed)this.fy=0,this.vy=0;else{var o=this.damping*this.vy,n=(this.fy-o)/this.options.mass;this.vy+=n*t,this.vy=Math.abs(this.vy)>e?this.vy>0?e:-e:this.vy,this.y+=this.vy*t}},s.prototype.isFixed=function(){return this.xFixed&&this.yFixed},s.prototype.isMoving=function(t){var e=Math.sqrt(Math.pow(this.vx,2)+Math.pow(this.vy,2));return e>t},s.prototype.isSelected=function(){return this.selected},s.prototype.getValue=function(){return this.value},s.prototype.getDistance=function(t,e){var i=this.x-t,s=this.y-e;return Math.sqrt(i*i+s*s)},s.prototype.setValueRange=function(t,e,i){if(!this.radiusFixed&&void 0!==this.value){var s=this.options.customScalingFunction(t,e,i,this.value),o=this.options.radiusMax-this.options.radiusMin;if(1==this.options.scaleFontWithValue){var n=this.options.fontSizeMax-this.options.fontSizeMin;this.options.fontSize=this.options.fontSizeMin+s*n}this.options.radius=this.options.radiusMin+s*o}this.baseRadiusValue=this.options.radius},s.prototype.draw=function(t){throw"Draw method not initialized for node"},s.prototype.resize=function(t){throw"Resize method not initialized for node"},s.prototype.isOverlappingWith=function(t){return this.left<t.right&&this.left+this.width>t.left&&this.top<t.bottom&&this.top+this.height>t.top},s.prototype._resizeImage=function(t){if(!this.width||!this.height){var e,i;if(this.value){this.options.radius=this.baseRadiusValue;var s=this.imageObj.height/this.imageObj.width;void 0!==s?(e=this.options.radius||this.imageObj.width,i=this.options.radius*s||this.imageObj.height):(e=0,i=0)}else e=this.imageObj.width,i=this.imageObj.height;this.width=e,this.height=i,this.growthIndicator=0,this.width>0&&this.height>0&&(this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-e)}},s.prototype._drawImageAtPosition=function(t){if(0!=this.imageObj.width){if(this.clusterSize>1){var e=this.clusterSize>1?10:0;e*=this.networkScaleInv,e=Math.min(.2*this.width,e),t.globalAlpha=.5,t.drawImage(this.imageObj,this.left-e,this.top-e,this.width+2*e,this.height+2*e)}t.globalAlpha=1,t.drawImage(this.imageObj,this.left,this.top,this.width,this.height)}},s.prototype._drawImageLabel=function(t){var e,i=0;if(this.height){i=this.height/2;var s=this.getTextSize(t);s.lineCount>=1&&(i+=s.height/2,i+=3)}e=this.y+i,this._label(t,this.label,this.x,e,void 0)},s.prototype._drawImage=function(t){this._resizeImage(t),this.left=this.x-this.width/2,this.top=this.y-this.height/2,this._drawImageAtPosition(t),this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,this._drawImageLabel(t),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height)},s.prototype._resizeCircularImage=function(t){if(this.imageObj.src&&this.imageObj.width&&this.imageObj.height)this._swapToImageResizeWhenImageLoaded&&(this.width=0,this.height=0,delete this._swapToImageResizeWhenImageLoaded),this._resizeImage(t);else if(!this.width){var e=2*this.options.radius;this.width=e,this.height=e,this.options.radius+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.options.radius-.5*e,this._swapToImageResizeWhenImageLoaded=!0}},s.prototype._drawCircularImage=function(t){this._resizeCircularImage(t),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var e=this.left+this.width/2,i=this.top+this.height/2,s=Math.abs(this.height/2);this._drawRawCircle(t,e,i,s),t.save(),t.circle(this.x,this.y,s),t.stroke(),t.clip(),this._drawImageAtPosition(t),t.restore(),this.boundingBox.top=this.y-this.options.radius,this.boundingBox.left=this.x-this.options.radius,this.boundingBox.right=this.x+this.options.radius,this.boundingBox.bottom=this.y+this.options.radius,this._drawImageLabel(t),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height)},s.prototype._resizeBox=function(t){if(!this.width){var e=5,i=this.getTextSize(t);this.width=i.width+2*e,this.height=i.height+2*e,this.width+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.growthIndicator=this.width-(i.width+2*e)}},s.prototype._drawBox=function(t){this._resizeBox(t),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var e=2.5,i=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(t.lineWidth=(this.selected?s:i)+(this.clusterSize>1?e:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.roundRect(this.left-2*t.lineWidth,this.top-2*t.lineWidth,this.width+4*t.lineWidth,this.height+4*t.lineWidth,this.options.radius),t.stroke()),t.lineWidth=(this.selected?s:i)+(this.clusterSize>1?e:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background,t.roundRect(this.left,this.top,this.width,this.height,this.options.radius),t.fill(),t.stroke(),this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,this._label(t,this.label,this.x,this.y)},s.prototype._resizeDatabase=function(t){if(!this.width){var e=5,i=this.getTextSize(t),s=i.width+2*e;this.width=s,this.height=s,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-s}},s.prototype._drawDatabase=function(t){this._resizeDatabase(t),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var e=2.5,i=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(t.lineWidth=(this.selected?s:i)+(this.clusterSize>1?e:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.database(this.x-this.width/2-2*t.lineWidth,this.y-.5*this.height-2*t.lineWidth,this.width+4*t.lineWidth,this.height+4*t.lineWidth),t.stroke()),t.lineWidth=(this.selected?s:i)+(this.clusterSize>1?e:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background,t.database(this.x-this.width/2,this.y-.5*this.height,this.width,this.height),t.fill(),t.stroke(),this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,this._label(t,this.label,this.x,this.y)},s.prototype._resizeCircle=function(t){if(!this.width){var e=5,i=this.getTextSize(t),s=Math.max(i.width,i.height)+2*e;this.options.radius=s/2,this.width=s,this.height=s,this.options.radius+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.options.radius-.5*s}},s.prototype._drawRawCircle=function(t,e,i,s){var o=2.5,n=this.options.borderWidth,r=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(t.lineWidth=(this.selected?r:n)+(this.clusterSize>1?o:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.circle(e,i,s+2*t.lineWidth),t.stroke()),t.lineWidth=(this.selected?r:n)+(this.clusterSize>1?o:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background,t.circle(this.x,this.y,s),t.fill(),t.stroke()},s.prototype._drawCircle=function(t){this._resizeCircle(t),this.left=this.x-this.width/2,this.top=this.y-this.height/2,this._drawRawCircle(t,this.x,this.y,this.options.radius),this.boundingBox.top=this.y-this.options.radius,this.boundingBox.left=this.x-this.options.radius,this.boundingBox.right=this.x+this.options.radius,this.boundingBox.bottom=this.y+this.options.radius,this._label(t,this.label,this.x,this.y)},s.prototype._resizeEllipse=function(t){if(!this.width){var e=this.getTextSize(t);this.width=1.5*e.width,this.height=2*e.height,this.width<this.height&&(this.width=this.height);var i=this.width;this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-i}},s.prototype._drawEllipse=function(t){this._resizeEllipse(t),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var e=2.5,i=this.options.borderWidth,s=this.options.borderWidthSelected||2*this.options.borderWidth;t.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(t.lineWidth=(this.selected?s:i)+(this.clusterSize>1?e:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.ellipse(this.left-2*t.lineWidth,this.top-2*t.lineWidth,this.width+4*t.lineWidth,this.height+4*t.lineWidth),t.stroke()),t.lineWidth=(this.selected?s:i)+(this.clusterSize>1?e:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background,t.ellipse(this.left,this.top,this.width,this.height),t.fill(),t.stroke(),this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,this._label(t,this.label,this.x,this.y)},s.prototype._drawDot=function(t){this._drawShape(t,"circle")},s.prototype._drawTriangle=function(t){this._drawShape(t,"triangle")},s.prototype._drawTriangleDown=function(t){this._drawShape(t,"triangleDown")},s.prototype._drawSquare=function(t){this._drawShape(t,"square")},s.prototype._drawStar=function(t){this._drawShape(t,"star")},s.prototype._resizeShape=function(t){if(!this.width){this.options.radius=this.baseRadiusValue;var e=2*this.options.radius;this.width=e,this.height=e,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=.5*Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-e}},s.prototype._drawShape=function(t,e){this._resizeShape(t),this.left=this.x-this.width/2,this.top=this.y-this.height/2;var i=2.5,s=this.options.borderWidth,o=this.options.borderWidthSelected||2*this.options.borderWidth,n=2;switch(e){case"dot":n=2;break;case"square":n=2;break;case"triangle":n=3;break;case"triangleDown":n=3;break;case"star":n=4}t.strokeStyle=this.selected?this.options.color.highlight.border:this.hover?this.options.color.hover.border:this.options.color.border,this.clusterSize>1&&(t.lineWidth=(this.selected?o:s)+(this.clusterSize>1?i:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t[e](this.x,this.y,this.options.radius+n*t.lineWidth),t.stroke()),t.lineWidth=(this.selected?o:s)+(this.clusterSize>1?i:0),t.lineWidth*=this.networkScaleInv,t.lineWidth=Math.min(this.width,t.lineWidth),t.fillStyle=this.selected?this.options.color.highlight.background:this.hover?this.options.color.hover.background:this.options.color.background,t[e](this.x,this.y,this.options.radius),t.fill(),t.stroke(),this.boundingBox.top=this.y-this.options.radius,this.boundingBox.left=this.x-this.options.radius,this.boundingBox.right=this.x+this.options.radius,this.boundingBox.bottom=this.y+this.options.radius,this.label&&(this._label(t,this.label,this.x,this.y+this.height/2,void 0,"hanging",!0),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height))},s.prototype._resizeText=function(t){if(!this.width){var e=5,i=this.getTextSize(t);this.width=i.width+2*e,this.height=i.height+2*e,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-(i.width+2*e)}},s.prototype._drawText=function(t){this._resizeText(t),this.left=this.x-this.width/2,this.top=this.y-this.height/2,this._label(t,this.label,this.x,this.y),this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height},s.prototype._resizeIcon=function(t){if(!this.width){var e=5,i={width:Number(this.options.iconSize),height:Number(this.options.iconSize)};this.width=i.width+2*e,this.height=i.height+2*e,this.width+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeWidthFactor,this.height+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeHeightFactor,this.options.radius+=Math.min(this.clusterSize-1,this.maxNodeSizeIncrements)*this.clusterSizeRadiusFactor,this.growthIndicator=this.width-(i.width+2*e)}},s.prototype._drawIcon=function(t){if(this._resizeIcon(t),this.options.iconSize=this.options.iconSize||50,this.left=this.x-this.width/2,this.top=this.y-this.height/2,this._icon(t),this.boundingBox.top=this.y-this.options.iconSize/2,this.boundingBox.left=this.x-this.options.iconSize/2,this.boundingBox.right=this.x+this.options.iconSize/2,this.boundingBox.bottom=this.y+this.options.iconSize/2,this.label){var e=5;this._label(t,this.label,this.x,this.y+this.height/2+e,"top",!0),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelDimensions.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelDimensions.left+this.labelDimensions.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelDimensions.height)}},s.prototype._icon=function(t){var e=Number(this.options.iconSize)*this.networkScale;if(this.options.icon&&e>this.options.fontDrawThreshold-1){var i=Number(this.options.iconSize);t.font=(this.selected?"bold ":"")+i+"px "+this.options.iconFontFace,t.fillStyle=this.options.iconColor||"black",t.textAlign="center",t.textBaseline="middle",t.fillText(this.options.icon,this.x,this.y)}},s.prototype._label=function(t,e,i,s,n,r,a){var h=Number(this.options.fontSize)*this.networkScale;if(e&&h>=this.options.fontDrawThreshold-1){var d=Number(this.options.fontSize);h>=this.options.fontSizeMaxVisible&&(d=Number(this.options.fontSizeMaxVisible)*this.networkScaleInv);var l=this.options.fontColor||"#000000",c=this.options.fontStrokeColor;if(h<=this.options.fontDrawThreshold){var p=Math.max(0,Math.min(1,1-(this.options.fontDrawThreshold-h)));l=o.overrideOpacity(l,p),c=o.overrideOpacity(c,p)}t.font=(this.selected?"bold ":"")+d+"px "+this.options.fontFace;var u=e.split("\\n"),m=u.length,f=s+(1-m)/2*d;1==a&&(f=s+(1-m)/(2*d));for(var g=t.measureText(u[0]).width,v=1;m>v;v++){var y=t.measureText(u[v]).width;g=y>g?y:g}var b=d*m,_=i-g/2,x=s-b/2;"hanging"==r&&(x+=.5*d,x+=4,f+=4),this.labelDimensions={top:x,left:_,width:g,height:b,yLine:f},void 0!==this.options.fontFill&&null!==this.options.fontFill&&"none"!==this.options.fontFill&&(t.fillStyle=this.options.fontFill,t.fillRect(_,x,g,b)),t.fillStyle=l,t.textAlign=n||"center",t.textBaseline=r||"middle",this.options.fontStrokeWidth>0&&(t.lineWidth=this.options.fontStrokeWidth,t.strokeStyle=c,t.lineJoin="round");for(var v=0;m>v;v++)this.options.fontStrokeWidth&&t.strokeText(u[v],i,f),t.fillText(u[v],i,f),f+=d}},s.prototype.getTextSize=function(t){if(void 0!==this.label){var e=Number(this.options.fontSize);e*this.networkScale>this.options.fontSizeMaxVisible&&(e=Number(this.options.fontSizeMaxVisible)*this.networkScaleInv),t.font=(this.selected?"bold ":"")+e+"px "+this.options.fontFace;for(var i=this.label.split("\\n"),s=(e+4)*i.length,o=0,n=0,r=i.length;r>n;n++)o=Math.max(o,t.measureText(i[n]).width);return{width:o,height:s,lineCount:i.length}}return{width:0,height:0,lineCount:0}},s.prototype.inArea=function(){return void 0!==this.width?this.x+this.width*this.networkScaleInv>=this.canvasTopLeft.x&&this.x-this.width*this.networkScaleInv<this.canvasBottomRight.x&&this.y+this.height*this.networkScaleInv>=this.canvasTopLeft.y&&this.y-this.height*this.networkScaleInv<this.canvasBottomRight.y:!0},s.prototype.inView=function(){return this.x>=this.canvasTopLeft.x&&this.x<this.canvasBottomRight.x&&this.y>=this.canvasTopLeft.y&&this.y<this.canvasBottomRight.y},s.prototype.setScaleAndPos=function(t,e,i){this.networkScaleInv=1/t,this.networkScale=t,this.canvasTopLeft=e,this.canvasBottomRight=i},s.prototype.setScale=function(t){this.networkScaleInv=1/t,this.networkScale=t},s.prototype.clearVelocity=function(){this.vx=0,this.vy=0},s.prototype.updateVelocity=function(t){var e=this.vx*this.vx*t;this.vx=Math.sqrt(e/this.options.mass),e=this.vy*this.vy*t,this.vy=Math.sqrt(e/this.options.mass)},t.exports=s},function(t,e,i){function s(t,e,i,s,o){this.container=t?t:document.body,void 0===o&&("object"==typeof e?(o=e,e=void 0):"object"==typeof s?(o=s,s=void 0):o={fontColor:"black",fontSize:14,fontFace:"verdana",color:{border:"#666",background:"#FFFFC6"}}),this.x=0,this.y=0,this.padding=5,this.hidden=!1,void 0!==e&&void 0!==i&&this.setPosition(e,i),void 0!==s&&this.setText(s),this.frame=document.createElement("div"),this.frame.className="network-tooltip",this.frame.style.color=o.fontColor,this.frame.style.backgroundColor=o.color.background,this.frame.style.borderColor=o.color.border,this.frame.style.fontSize=o.fontSize+"px",this.frame.style.fontFamily=o.fontFace,this.container.appendChild(this.frame)}s.prototype.setPosition=function(t,e){this.x=parseInt(t),this.y=parseInt(e)},s.prototype.setText=function(t){t instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(t)):this.frame.innerHTML=t},s.prototype.show=function(t){if(void 0===t&&(t=!0),t){var e=this.frame.clientHeight,i=this.frame.clientWidth,s=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth,n=this.y-e;n+e+this.padding>s&&(n=s-e-this.padding),n<this.padding&&(n=this.padding);var r=this.x;r+i+this.padding>o&&(r=o-i-this.padding),r<this.padding&&(r=this.padding),this.frame.style.left=r+"px",this.frame.style.top=n+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()},s.prototype.hide=function(){this.hidden=!0,this.frame.style.visibility="hidden"},t.exports=s},function(t,e,i){function s(t){return O=t,m()}function o(){E=0,k=O.charAt(0)}function n(){E++,k=O.charAt(E)}function r(){return O.charAt(E+1)}function a(t){return L.test(t)}function h(t,e){if(t||(t={}),e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function d(t,e,i){for(var s=e.split("."),o=t;s.length;){var n=s.shift();s.length?(o[n]||(o[n]={}),o=o[n]):o[n]=i}}function l(t,e){for(var i,s,o=null,n=[t],r=t;r.parent;)n.push(r.parent),r=r.parent;if(r.nodes)for(i=0,s=r.nodes.length;s>i;i++)if(e.id===r.nodes[i].id){o=r.nodes[i];break}for(o||(o={id:e.id},t.node&&(o.attr=h(o.attr,t.node))),i=n.length-1;i>=0;i--){var a=n[i];a.nodes||(a.nodes=[]),-1==a.nodes.indexOf(o)&&a.nodes.push(o)}e.attr&&(o.attr=h(o.attr,e.attr))}function c(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var i=h({},t.edge);e.attr=h(i,e.attr)}}function p(t,e,i,s,o){var n={from:e,to:i,type:s};return t.edge&&(n.attr=h({},t.edge)),n.attr=h(n.attr||{},o),n}function u(){for(I=C.NULL,N="";" "==k||"\t"==k||"\\n"==k||"\\r"==k;)n();do{var t=!1;if("#"==k){for(var e=E-1;" "==O.charAt(e)||"\t"==O.charAt(e);)e--;if("\\n"==O.charAt(e)||""==O.charAt(e)){for(;""!=k&&"\\n"!=k;)n();t=!0}}if("/"==k&&"/"==r()){for(;""!=k&&"\\n"!=k;)n();t=!0}if("/"==k&&"*"==r()){for(;""!=k;){if("*"==k&&"/"==r()){n(),n();break}n()}t=!0}for(;" "==k||"\t"==k||"\\n"==k||"\\r"==k;)n()}while(t);if(""==k)return void(I=C.DELIMITER);var i=k+r();if(T[i])return I=C.DELIMITER,N=i,n(),void n();if(T[k])return I=C.DELIMITER,N=k,void n();if(a(k)||"-"==k){for(N+=k,n();a(k);)N+=k,n();return"false"==N?N=!1:"true"==N?N=!0:isNaN(Number(N))||(N=Number(N)),void(I=C.IDENTIFIER)}if(\'"\'==k){for(n();""!=k&&(\'"\'!=k||\'"\'==k&&\'"\'==r());)N+=k,\'"\'==k&&n(),n();if(\'"\'!=k)throw w(\'End of string " expected\');return n(),void(I=C.IDENTIFIER)}for(I=C.UNKNOWN;""!=k;)N+=k,n();throw new SyntaxError(\'Syntax error in part "\'+S(N,30)+\'"\')}function m(){var t={};if(o(),u(),"strict"==N&&(t.strict=!0,u()),("graph"==N||"digraph"==N)&&(t.type=N,u()),I==C.IDENTIFIER&&(t.id=N,u()),"{"!=N)throw w("Angle bracket { expected");if(u(),f(t),"}"!=N)throw w("Angle bracket } expected");if(u(),""!==N)throw w("End of file expected");return u(),delete t.node,delete t.edge,delete t.graph,t}function f(t){for(;""!==N&&"}"!=N;)g(t),";"==N&&u()}function g(t){var e=v(t);if(e)return void _(t,e);var i=y(t);if(!i){if(I!=C.IDENTIFIER)throw w("Identifier expected");var s=N;if(u(),"="==N){if(u(),I!=C.IDENTIFIER)throw w("Identifier expected");t[s]=N,u()}else b(t,s)}}function v(t){var e=null;if("subgraph"==N&&(e={},e.type="subgraph",u(),I==C.IDENTIFIER&&(e.id=N,u())),"{"==N){if(u(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,f(e),"}"!=N)throw w("Angle bracket } expected");u(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function y(t){return"node"==N?(u(),t.node=x(),"node"):"edge"==N?(u(),t.edge=x(),"edge"):"graph"==N?(u(),t.graph=x(),"graph"):null}function b(t,e){var i={id:e},s=x();s&&(i.attr=s),l(t,i),_(t,e)}function _(t,e){for(;"->"==N||"--"==N;){var i,s=N;u();var o=v(t);if(o)i=o;else{if(I!=C.IDENTIFIER)throw w("Identifier or subgraph expected");i=N,l(t,{id:i}),u()}var n=x(),r=p(t,e,i,s,n);c(t,r),e=i}}function x(){for(var t=null;"["==N;){for(u(),t={};""!==N&&"]"!=N;){if(I!=C.IDENTIFIER)throw w("Attribute name expected");var e=N;if(u(),"="!=N)throw w("Equal sign = expected");if(u(),I!=C.IDENTIFIER)throw w("Attribute value expected");var i=N;d(t,e,i),u(),","==N&&u()}if("]"!=N)throw w("Bracket ] expected");u()}return t}function w(t){return new SyntaxError(t+\', got "\'+S(N,30)+\'" (char \'+E+")")}function S(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function D(t,e,i){Array.isArray(t)?t.forEach(function(t){Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}):Array.isArray(e)?e.forEach(function(e){i(t,e)}):i(t,e)}function M(t){var e=s(t),i={nodes:[],edges:[],options:{}};if(e.nodes&&e.nodes.forEach(function(t){var e={id:t.id,label:String(t.label||t.id)};h(e,t.attr),e.image&&(e.shape="image"),i.nodes.push(e)}),e.edges){var o=function(t){var e={from:t.from,to:t.to};return h(e,t.attr),e.style="->"==t.type?"arrow":"line",e};e.edges.forEach(function(t){var e,s;e=t.from instanceof Object?t.from.nodes:{id:t.from},s=t.to instanceof Object?t.to.nodes:{id:t.to},t.from instanceof Object&&t.from.edges&&t.from.edges.forEach(function(t){var e=o(t);i.edges.push(e)}),D(e,s,function(e,s){var n=p(i,e.id,s.id,t.type,t.attr),r=o(n);i.edges.push(r)}),t.to instanceof Object&&t.to.edges&&t.to.edges.forEach(function(t){var e=o(t);i.edges.push(e)})})}return e.attr&&(i.options=e.attr),i}var C={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},T={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},O="",E=0,k="",N="",I=C.NULL,L=/[a-zA-Z_0-9.:#]/;e.parseDOT=s,e.DOTToGraph=M},function(t,e,i){function s(t,e){var i=[],s=[];this.options={edges:{inheritColor:!0},nodes:{allowedToMove:!1,parseColor:!1}},void 0!==e&&(this.options.nodes.allowedToMove=e.allowedToMove|!1,this.options.nodes.parseColor=e.parseColor|!1,this.options.edges.inheritColor=e.inheritColor|!0);for(var o=t.edges,n=t.nodes,r=0;r<o.length;r++){var a={},h=o[r];a.id=h.id,a.from=h.source,a.to=h.target,a.attributes=h.attributes,a.color=h.color,a.inheritColor=void 0!==a.color?!1:this.options.inheritColor,i.push(a)}for(var r=0;r<n.length;r++){var d={},l=n[r];d.id=l.id,d.attributes=l.attributes,d.x=l.x,d.y=l.y,d.label=l.label,d.color=1==this.options.nodes.parseColor?l.color:void 0!==l.color?{background:l.color,border:l.color}:void 0,d.radius=l.size,d.allowedToMoveX=this.options.nodes.allowedToMove,d.allowedToMoveY=this.options.nodes.allowedToMove,s.push(d)}return{nodes:s,edges:i}}e.parseGephi=s;\n\n},function(t,e,i){t.exports="undefined"!=typeof window&&window.moment||i(58)},function(t,e,i){t.exports="undefined"!=typeof window?window.Hammer||i(59):function(){throw Error("hammer.js is only available in a browser, not in node.js.")}},function(t,e,i){function s(){}var o=i(56),n=i(45),r=i(1),a=(i(3),i(4),i(17),i(32),i(35)),h=i(53),d=i(15),l=i(27);o(s.prototype),s.prototype._create=function(t){this.dom={},this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis timeline root",this.dom.background.className="vispanel background",this.dom.backgroundVertical.className="vispanel background vertical",this.dom.backgroundHorizontal.className="vispanel background horizontal",this.dom.centerContainer.className="vispanel center",this.dom.leftContainer.className="vispanel left",this.dom.rightContainer.className="vispanel right",this.dom.top.className="vispanel top",this.dom.bottom.className="vispanel bottom",this.dom.left.className="content",this.dom.center.className="content",this.dom.right.className="content",this.dom.shadowTop.className="shadow top",this.dom.shadowBottom.className="shadow bottom",this.dom.shadowTopLeft.className="shadow top",this.dom.shadowBottomLeft.className="shadow bottom",this.dom.shadowTopRight.className="shadow top",this.dom.shadowBottomRight.className="shadow bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",this._redraw.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pinch",this._onPinch.bind(this)),this.on("dragstart",this._onDragStart.bind(this)),this.on("drag",this._onDrag.bind(this));var e=this;this.on("change",function(t){t&&1==t.queue?e._redrawTimer||(e._redrawTimer=setTimeout(function(){e._redrawTimer=null,e._redraw()},0)):e._redraw()}),this.hammer=n(this.dom.root,{preventDefault:!0}),this.listeners={};var i=["touch","pinch","tap","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"];if(i.forEach(function(t){var i=function(){var i=[t].concat(Array.prototype.slice.call(arguments,0));e.isActive()&&e.emit.apply(e,i)};e.hammer.on(t,i),e.listeners[t]=i}),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.touch={},this.redrawCount=0,!t)throw new Error("No container provided");t.appendChild(this.dom.root)},s.prototype.setOptions=function(t){if(t){var e=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates"];if(r.selectiveExtend(e,this.options,t),"orientation"in t&&("string"==typeof t.orientation?this.options.orientation=t.orientation:"object"==typeof t.orientation&&"axis"in t.orientation&&(this.options.orientation=t.orientation.axis)),"both"===this.options.orientation){if(!this.timeAxis2){var i=this.timeAxis2=new a(this.body);i.setOptions=function(t){var e=t?r.extend({},t):{};e.orientation="top",a.prototype.setOptions.call(i,e)},this.components.push(i)}}else if(this.timeAxis2){var s=this.components.indexOf(this.timeAxis2);-1!==s&&this.components.splice(s,1),this.timeAxis2.destroy(),this.timeAxis2=null}"hiddenDates"in this.options&&d.convertHiddenOptions(this.body,this.options.hiddenDates),"clickToUse"in t&&(t.clickToUse?this.activator||(this.activator=new h(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),this._initAutoResize()}this.components.forEach(function(e){e.setOptions(t)}),this._redraw()},s.prototype.isActive=function(){return!this.activator||this.activator.active},s.prototype.destroy=function(){this.clear(),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var t in this.listeners)this.listeners.hasOwnProperty(t)&&delete this.listeners[t];this.listeners=null,this.hammer=null,this.components.forEach(function(t){t.destroy()}),this.body=null},s.prototype.setCustomTime=function(t,e){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");var i=e||0;this.components.forEach(function(e,s,o){e instanceof l&&e.options.id===i&&e.setCustomTime(t)})},s.prototype.getCustomTime=function(t){if(!this.customTime)throw new Error("Cannot get custom time: Custom time bar is not enabled");var e=t||0,i=this.customTime.getCustomTime();return this.components.forEach(function(t,s,o){t instanceof l&&t.options.id===e&&(i=t.getCustomTime())}),i},s.prototype.addCustomTime=function(t,e){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");if(void 0===t)throw new Error("Time parameter for the custom bar must be provided");var i,s,o,n=r.convert(t,"Date").valueOf();return this.customBarIds&&this.customBarIds.constructor===Array||(this.customBarIds=[0]),void 0===e?(i=this.customBarIds.filter(function(t){return r.isNumber(t)}),o=i.length>0?Math.max.apply(null,i)+1:1):(this.customBarIds.forEach(function(t){if(t===e)throw new Error("Custom time ID already exists")}),o=e),this.customBarIds.push(o),s=new l(this.body,{showCustomTime:!0,time:n,id:o}),this.components.push(s),this.redraw(),o},s.prototype.removeCustomTime=function(t){var e=this;this.components.forEach(function(i,s,o){i instanceof l&&i.options.id===t&&0!==i.options.id&&(e.customBarIds.splice(e.customBarIds.indexOf(t),1),o.splice(s,1),i.destroy())})},s.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},s.prototype.clear=function(t){(!t||t.items)&&this.setItems(null),(!t||t.groups)&&this.setGroups(null),(!t||t.options)&&(this.components.forEach(function(t){t.setOptions(t.defaultOptions)}),this.setOptions(this.defaultOptions))},s.prototype.fit=function(t){var e=this._getDataRange();if(null!==e.start||null!==e.end){var i=t&&void 0!==t.animate?t.animate:!0;this.range.setRange(e.start,e.end,i)}},s.prototype._getDataRange=function(){var t=this.getItemRange(),e=t.min,i=t.max;if(null!=e&&null!=i){var s=i.valueOf()-e.valueOf();0>=s&&(s=864e5),e=new Date(e.valueOf()-.05*s),i=new Date(i.valueOf()+.05*s)}return{start:e,end:i}},s.prototype.setWindow=function(t,e,i){var s;if(1==arguments.length){var o=arguments[0];s=void 0!==o.animate?o.animate:!0,this.range.setRange(o.start,o.end,s)}else s=i&&void 0!==i.animate?i.animate:!0,this.range.setRange(t,e,s)},s.prototype.moveTo=function(t,e){var i=this.range.end-this.range.start,s=r.convert(t,"Date").valueOf(),o=s-i/2,n=s+i/2,a=e&&void 0!==e.animate?e.animate:!0;this.range.setRange(o,n,a)},s.prototype.getWindow=function(){var t=this.range.getRange();return{start:new Date(t.start),end:new Date(t.end)}},s.prototype.redraw=function(){this._redraw()},s.prototype._redraw=function(){var t=!1,e=this.options,i=this.props,s=this.dom;if(s){d.updateHiddenDates(this.body,this.options.hiddenDates),"top"==e.orientation?(r.addClassName(s.root,"top"),r.removeClassName(s.root,"bottom")):(r.removeClassName(s.root,"top"),r.addClassName(s.root,"bottom")),s.root.style.maxHeight=r.option.asSize(e.maxHeight,""),s.root.style.minHeight=r.option.asSize(e.minHeight,""),s.root.style.width=r.option.asSize(e.width,""),i.border.left=(s.centerContainer.offsetWidth-s.centerContainer.clientWidth)/2,i.border.right=i.border.left,i.border.top=(s.centerContainer.offsetHeight-s.centerContainer.clientHeight)/2,i.border.bottom=i.border.top;var o=s.root.offsetHeight-s.root.clientHeight,n=s.root.offsetWidth-s.root.clientWidth;0===s.centerContainer.clientHeight&&(i.border.left=i.border.top,i.border.right=i.border.left),0===s.root.clientHeight&&(n=o),i.center.height=s.center.offsetHeight,i.left.height=s.left.offsetHeight,i.right.height=s.right.offsetHeight,i.top.height=s.top.clientHeight||-i.border.top,i.bottom.height=s.bottom.clientHeight||-i.border.bottom;var a=Math.max(i.left.height,i.center.height,i.right.height),h=i.top.height+a+i.bottom.height+o+i.border.top+i.border.bottom;s.root.style.height=r.option.asSize(e.height,h+"px"),i.root.height=s.root.offsetHeight,i.background.height=i.root.height-o;var l=i.root.height-i.top.height-i.bottom.height-o;i.centerContainer.height=l,i.leftContainer.height=l,i.rightContainer.height=i.leftContainer.height,i.root.width=s.root.offsetWidth,i.background.width=i.root.width-n,i.left.width=s.leftContainer.clientWidth||-i.border.left,i.leftContainer.width=i.left.width,i.right.width=s.rightContainer.clientWidth||-i.border.right,i.rightContainer.width=i.right.width;var c=i.root.width-i.left.width-i.right.width-n;i.center.width=c,i.centerContainer.width=c,i.top.width=c,i.bottom.width=c,s.background.style.height=i.background.height+"px",s.backgroundVertical.style.height=i.background.height+"px",s.backgroundHorizontal.style.height=i.centerContainer.height+"px",s.centerContainer.style.height=i.centerContainer.height+"px",s.leftContainer.style.height=i.leftContainer.height+"px",s.rightContainer.style.height=i.rightContainer.height+"px",s.background.style.width=i.background.width+"px",s.backgroundVertical.style.width=i.centerContainer.width+"px",s.backgroundHorizontal.style.width=i.background.width+"px",s.centerContainer.style.width=i.center.width+"px",s.top.style.width=i.top.width+"px",s.bottom.style.width=i.bottom.width+"px",s.background.style.left="0",s.background.style.top="0",s.backgroundVertical.style.left=i.left.width+i.border.left+"px",s.backgroundVertical.style.top="0",s.backgroundHorizontal.style.left="0",s.backgroundHorizontal.style.top=i.top.height+"px",s.centerContainer.style.left=i.left.width+"px",s.centerContainer.style.top=i.top.height+"px",s.leftContainer.style.left="0",s.leftContainer.style.top=i.top.height+"px",s.rightContainer.style.left=i.left.width+i.center.width+"px",s.rightContainer.style.top=i.top.height+"px",s.top.style.left=i.left.width+"px",s.top.style.top="0",s.bottom.style.left=i.left.width+"px",s.bottom.style.top=i.top.height+i.centerContainer.height+"px",this._updateScrollTop();var p=this.props.scrollTop;"bottom"==e.orientation&&(p+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),s.center.style.left="0",s.center.style.top=p+"px",s.left.style.left="0",s.left.style.top=p+"px",s.right.style.left="0",s.right.style.top=p+"px";var u=0==this.props.scrollTop?"hidden":"",m=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";if(s.shadowTop.style.visibility=u,s.shadowBottom.style.visibility=m,s.shadowTopLeft.style.visibility=u,s.shadowBottomLeft.style.visibility=m,s.shadowTopRight.style.visibility=u,s.shadowBottomRight.style.visibility=m,this.components.forEach(function(e){t=e.redraw()||t}),t){var f=3;this.redrawCount<f?(this.redrawCount++,this._redraw()):console.log("WARNING: infinite loop in redraw?"),this.redrawCount=0}this.emit("finishedRedraw")}},s.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},s.prototype.setCurrentTime=function(t){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(t)},s.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},s.prototype._toTime=function(t){return d.toTime(this,t,this.props.center.width)},s.prototype._toGlobalTime=function(t){return d.toTime(this,t,this.props.root.width)},s.prototype._toScreen=function(t){return d.toScreen(this,t,this.props.center.width)},s.prototype._toGlobalScreen=function(t){return d.toScreen(this,t,this.props.root.width)},s.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},s.prototype._startAutoResize=function(){var t=this;this._stopAutoResize(),this._onResize=function(){return 1!=t.options.autoResize?void t._stopAutoResize():void(t.dom.root&&(t.dom.root.offsetWidth!=t.props.lastWidth||t.dom.root.offsetHeight!=t.props.lastHeight)&&(t.props.lastWidth=t.dom.root.offsetWidth,t.props.lastHeight=t.dom.root.offsetHeight,t.emit("change")))},r.addEventListener(window,"resize",this._onResize),this.watchTimer=setInterval(this._onResize,1e3)},s.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),r.removeEventListener(window,"resize",this._onResize),this._onResize=null},s.prototype._onTouch=function(t){this.touch.allowDragging=!0},s.prototype._onPinch=function(t){this.touch.allowDragging=!1},s.prototype._onDragStart=function(t){this.touch.initialScrollTop=this.props.scrollTop},s.prototype._onDrag=function(t){if(this.touch.allowDragging){var e=t.gesture.deltaY,i=this._getScrollTop(),s=this._setScrollTop(this.touch.initialScrollTop+e);s!=i&&(this._redraw(),this.emit("verticalDrag"))}},s.prototype._setScrollTop=function(t){return this.props.scrollTop=t,this._updateScrollTop(),this.props.scrollTop},s.prototype._updateScrollTop=function(){var t=Math.min(this.props.centerContainer.height-this.props.center.height,0);return t!=this.props.scrollTopMin&&("bottom"==this.options.orientation&&(this.props.scrollTop+=t-this.props.scrollTopMin),this.props.scrollTopMin=t),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<t&&(this.props.scrollTop=t),this.props.scrollTop},s.prototype._getScrollTop=function(){return this.props.scrollTop},t.exports=s},function(t,e,i){var s=i(45);e.fakeGesture=function(t,e){var i=null,o=s.event.getTouchList(e,i),n=s.event.collectEventData(this,i,o,e);return isNaN(n.center.pageX)&&(n.center.pageX=e.pageX),isNaN(n.center.pageY)&&(n.center.pageY=e.pageY),n}},function(t,e,i){e.en={current:"current",time:"time"},e.en_EN=e.en,e.en_US=e.en,e.nl={current:"aangepaste",time:"tijd"},e.nl_NL=e.nl,e.nl_BE=e.nl},function(t,e,i){function s(t,e){this.groupId=t,this.options=e}var o=i(2),n=i(51);s.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,s=0;s<t.length;s++)e=e>t[s].y?t[s].y:e,i=i<t[s].y?t[s].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},s.prototype.draw=function(t,e,i){if(null!=t&&t.length>0){var r,a,h=Number(i.svg.style.height.replace("px",""));if(r=o.getSVGElement("path",i.svgElements,i.svg),r.setAttributeNS(null,"class",e.className),void 0!==e.style&&r.setAttributeNS(null,"style",e.style),a=1==e.options.catmullRom.enabled?s._catmullRom(t,e):s._linear(t),1==e.options.shaded.enabled){var d,l=o.getSVGElement("path",i.svgElements,i.svg);d="top"==e.options.shaded.orientation?"M"+t[0].x+",0 "+a+"L"+t[t.length-1].x+",0":"M"+t[0].x+","+h+" "+a+"L"+t[t.length-1].x+","+h,l.setAttributeNS(null,"class",e.className+" fill"),void 0!==e.options.shaded.style&&l.setAttributeNS(null,"style",e.options.shaded.style),l.setAttributeNS(null,"d",d)}r.setAttributeNS(null,"d","M"+a),1==e.options.drawPoints.enabled&&n.draw(t,e,i)}},s._catmullRomUniform=function(t){for(var e,i,s,o,n,r,a=Math.round(t[0].x)+","+Math.round(t[0].y)+" ",h=1/6,d=t.length,l=0;d-1>l;l++)e=0==l?t[0]:t[l-1],i=t[l],s=t[l+1],o=d>l+2?t[l+2]:s,n={x:(-e.x+6*i.x+s.x)*h,y:(-e.y+6*i.y+s.y)*h},r={x:(i.x+6*s.x-o.x)*h,y:(i.y+6*s.y-o.y)*h},a+="C"+n.x+","+n.y+" "+r.x+","+r.y+" "+s.x+","+s.y+" ";return a},s._catmullRom=function(t,e){var i=e.options.catmullRom.alpha;if(0==i||void 0===i)return this._catmullRomUniform(t);for(var s,o,n,r,a,h,d,l,c,p,u,m,f,g,v,y,b,_,x,w=Math.round(t[0].x)+","+Math.round(t[0].y)+" ",S=t.length,D=0;S-1>D;D++)s=0==D?t[0]:t[D-1],o=t[D],n=t[D+1],r=S>D+2?t[D+2]:n,d=Math.sqrt(Math.pow(s.x-o.x,2)+Math.pow(s.y-o.y,2)),l=Math.sqrt(Math.pow(o.x-n.x,2)+Math.pow(o.y-n.y,2)),c=Math.sqrt(Math.pow(n.x-r.x,2)+Math.pow(n.y-r.y,2)),g=Math.pow(c,i),y=Math.pow(c,2*i),v=Math.pow(l,i),b=Math.pow(l,2*i),x=Math.pow(d,i),_=Math.pow(d,2*i),p=2*_+3*x*v+b,u=2*y+3*g*v+b,m=3*x*(x+v),m>0&&(m=1/m),f=3*g*(g+v),f>0&&(f=1/f),a={x:(-b*s.x+p*o.x+_*n.x)*m,y:(-b*s.y+p*o.y+_*n.y)*m},h={x:(y*o.x+u*n.x-b*r.x)*f,y:(y*o.y+u*n.y-b*r.y)*f},0==a.x&&0==a.y&&(a=o),0==h.x&&0==h.y&&(h=n),w+="C"+a.x+","+a.y+" "+h.x+","+h.y+" "+n.x+","+n.y+" ";return w},s._linear=function(t){for(var e="",i=0;i<t.length;i++)e+=0==i?t[i].x+","+t[i].y:" "+t[i].x+","+t[i].y;return e},t.exports=s},function(t,e,i){function s(t,e){this.groupId=t,this.options=e}{var o=i(2);i(51)}s.prototype.getYRange=function(t){if("stack"!=this.options.barChart.handleOverlap){for(var e=t[0].y,i=t[0].y,s=0;s<t.length;s++)e=e>t[s].y?t[s].y:e,i=i<t[s].y?t[s].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}}for(var o=[],s=0;s<t.length;s++)o.push({x:t[s].x,y:t[s].y,groupId:this.groupId});return o},s.draw=function(t,e,i){var n,r,a,h,d,l,c=[],p={},u=0;for(d=0;d<t.length;d++)if(h=i.groups[t[d]],"bar"==h.options.style&&1==h.visible&&(void 0===i.options.groups.visibility[t[d]]||1==i.options.groups.visibility[t[d]]))for(l=0;l<e[t[d]].length;l++)c.push({x:e[t[d]][l].x,y:e[t[d]][l].y,groupId:t[d],label:e[t[d]][l].label}),u+=1;if(0!=u)for(c.sort(function(t,e){return t.x==e.x?t.groupId-e.groupId:t.x-e.x}),s._getDataIntersections(p,c),d=0;d<c.length;d++){h=i.groups[c[d].groupId];var m=.1*h.options.barChart.width;r=c[d].x;var f=0;if(void 0===p[r])d+1<c.length&&(n=Math.abs(c[d+1].x-r)),d>0&&(n=Math.min(n,Math.abs(c[d-1].x-r))),a=s._getSafeDrawData(n,h,m);else{var g=d+(p[r].amount-p[r].resolved),v=d-(p[r].resolved+1);g<c.length&&(n=Math.abs(c[g].x-r)),v>0&&(n=Math.min(n,Math.abs(c[v].x-r))),a=s._getSafeDrawData(n,h,m),p[r].resolved+=1,"stack"==h.options.barChart.handleOverlap?(f=p[r].accumulated,p[r].accumulated+=h.zeroPosition-c[d].y):"sideBySide"==h.options.barChart.handleOverlap&&(a.width=a.width/p[r].amount,a.offset+=p[r].resolved*a.width-.5*a.width*(p[r].amount+1),"left"==h.options.barChart.align?a.offset-=.5*a.width:"right"==h.options.barChart.align&&(a.offset+=.5*a.width))}o.drawBar(c[d].x+a.offset,c[d].y-f,a.width,h.zeroPosition-c[d].y,h.className+" bar",i.svgElements,i.svg),1==h.options.drawPoints.enabled&&o.drawPoint(c[d].x+a.offset,c[d].y,h,i.svgElements,i.svg,c[d].label)}},s._getDataIntersections=function(t,e){for(var i,s=0;s<e.length;s++)s+1<e.length&&(i=Math.abs(e[s+1].x-e[s].x)),s>0&&(i=Math.min(i,Math.abs(e[s-1].x-e[s].x))),0==i&&(void 0===t[e[s].x]&&(t[e[s].x]={amount:0,resolved:0,accumulated:0}),t[e[s].x].amount+=1)},s._getSafeDrawData=function(t,e,i){var s,o;return t<e.options.barChart.width&&t>0?(s=i>t?i:t,o=0,"left"==e.options.barChart.align?o-=.5*t:"right"==e.options.barChart.align&&(o+=.5*t)):(s=e.options.barChart.width,o=0,"left"==e.options.barChart.align?o-=.5*e.options.barChart.width:"right"==e.options.barChart.align&&(o+=.5*e.options.barChart.width)),{width:s,offset:o}},s.getStackedBarYRange=function(t,e,i,o,n){if(t.length>0){t.sort(function(t,e){return t.x==e.x?t.groupId-e.groupId:t.x-e.x});var r={};s._getDataIntersections(r,t),e[o]=s._getStackedBarYRange(r,t),e[o].yAxisOrientation=n,i.push(o)}},s._getStackedBarYRange=function(t,e){for(var i,s=e[0].y,o=e[0].y,n=0;n<e.length;n++)i=e[n].x,void 0===t[i]?(s=s>e[n].y?e[n].y:s,o=o<e[n].y?e[n].y:o):t[i].accumulated+=e[n].y;for(var r in t)t.hasOwnProperty(r)&&(s=s>t[r].accumulated?t[r].accumulated:s,o=o<t[r].accumulated?t[r].accumulated:o);return{min:s,max:o}},t.exports=s},function(t,e,i){function s(t,e){this.groupId=t,this.options=e}var o=i(2);s.prototype.getYRange=function(t){for(var e=t[0].y,i=t[0].y,s=0;s<t.length;s++)e=e>t[s].y?t[s].y:e,i=i<t[s].y?t[s].y:i;return{min:e,max:i,yAxisOrientation:this.options.yAxisOrientation}},s.prototype.draw=function(t,e,i,o){s.draw(t,e,i,o)},s.draw=function(t,e,i,s){void 0===s&&(s=0);for(var n=0;n<t.length;n++)o.drawPoint(t[n].x+s,t[n].y,e,i.svgElements,i.svg,t[n].label)},t.exports=s},function(t,e,i){var s=i(60),o=i(61),n=i(62),r=i(63),a=i(64),h=i(65),d=i(66);e._loadMixin=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])},e._clearMixin=function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=void 0)},e._loadPhysicsSystem=function(){this._loadMixin(s),this._loadSelectedForceSolver(),1==this.constants.configurePhysics?this._loadPhysicsConfiguration():this._cleanupPhysicsConfiguration()},e._loadClusterSystem=function(){this.clusterSession=0,this.hubThreshold=5,this._loadMixin(o)},e._loadSectorSystem=function(){this.sectors={},this.activeSector=["default"],this.sectors.active={},this.sectors.active["default"]={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0},this.sectors.frozen={},this.sectors.support={nodes:{},edges:{},nodeIndices:[],formationScale:1,drawingNode:void 0},this.nodeIndices=this.sectors.active["default"].nodeIndices,this._loadMixin(n)},e._loadSelectionSystem=function(){this.selectionObj={nodes:{},edges:{}},this._loadMixin(r)},e._loadManipulationSystem=function(){this.blockConnectingEdgeSelection=!1,this.forceAppendSelection=!1,1==this.constants.dataManipulation.enabled?(void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="network-manipulationDiv",this.manipulationDiv.style.display=1==this.editMode?"block":"none",this.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="network-manipulation-editMode",this.editModeDiv.style.display=1==this.editMode?"none":"block",this.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="network-manipulation-closeDiv",this.closeDiv.style.display=this.manipulationDiv.style.display,this.frame.appendChild(this.closeDiv)),this._loadMixin(a),this._createManipulatorBar()):void 0!==this.manipulationDiv&&(this._createManipulatorBar(),this.frame.removeChild(this.manipulationDiv),this.frame.removeChild(this.editModeDiv),this.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._clearMixin(a))},e._loadNavigationControls=function(){this._loadMixin(h),this._cleanNavigation(),1==this.constants.navigation.enabled&&this._loadNavigationElements()},e._loadHierarchySystem=function(){this._loadMixin(d)}},function(t,e,i){function s(t){this.active=!1,this.dom={container:t},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=a(this.dom.overlay,{prevent_default:!1}),this.hammer.on("tap",this._onTapOverlay.bind(this));var e=this,i=["touch","pinch","doubletap","hold","dragstart","drag","dragend","mousewheel","DOMMouseScroll"];i.forEach(function(t){e.hammer.on(t,function(t){t.stopPropagation()})}),this.windowHammer=a(window,{prevent_default:!1}),this.windowHammer.on("tap",function(i){o(i.target,t)||e.deactivate()}),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=n(),this.escListener=this.deactivate.bind(this)}function o(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var n=i(57),r=i(56),a=i(45),h=i(1);r(s.prototype),s.current=null,s.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.hammer=null,this.windowHammer=null},s.prototype.activate=function(){s.current&&s.current.deactivate(),s.current=this,this.active=!0,this.dom.overlay.style.display="none",h.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},s.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",h.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},s.prototype._onTapOverlay=function(t){this.activate(),t.stopPropagation()},t.exports=s},function(t,e,i){e.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted."},e.en_EN=e.en,e.en_US=e.en,e.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd."},e.nl_NL=e.nl,e.nl_BE=e.nl},function(t,e,i){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(t,e,i){this.beginPath(),this.arc(t,e,i,0,2*Math.PI,!1)},CanvasRenderingContext2D.prototype.square=function(t,e,i){this.beginPath(),this.rect(t-i,e-i,2*i,2*i)},CanvasRenderingContext2D.prototype.triangle=function(t,e,i){this.beginPath();var s=2*i,o=s/2,n=Math.sqrt(3)/6*s,r=Math.sqrt(s*s-o*o);this.moveTo(t,e-(r-n)),this.lineTo(t+o,e+n),this.lineTo(t-o,e+n),this.lineTo(t,e-(r-n)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(t,e,i){this.beginPath();var s=2*i,o=s/2,n=Math.sqrt(3)/6*s,r=Math.sqrt(s*s-o*o);this.moveTo(t,e+(r-n)),this.lineTo(t+o,e-n),this.lineTo(t-o,e-n),this.lineTo(t,e+(r-n)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(t,e,i){this.beginPath();for(var s=0;10>s;s++){var o=s%2===0?1.3*i:.5*i;this.lineTo(t+o*Math.sin(2*s*Math.PI/10),e-o*Math.cos(2*s*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(t,e,i,s,o){var n=Math.PI/180;0>i-2*o&&(o=i/2),0>s-2*o&&(o=s/2),this.beginPath(),this.moveTo(t+o,e),this.lineTo(t+i-o,e),this.arc(t+i-o,e+o,o,270*n,360*n,!1),this.lineTo(t+i,e+s-o),this.arc(t+i-o,e+s-o,o,0,90*n,!1),this.lineTo(t+o,e+s),this.arc(t+o,e+s-o,o,90*n,180*n,!1),this.lineTo(t,e+o),this.arc(t+o,e+o,o,180*n,270*n,!1)},CanvasRenderingContext2D.prototype.ellipse=function(t,e,i,s){var o=.5522848,n=i/2*o,r=s/2*o,a=t+i,h=e+s,d=t+i/2,l=e+s/2;this.beginPath(),this.moveTo(t,l),this.bezierCurveTo(t,l-r,d-n,e,d,e),this.bezierCurveTo(d+n,e,a,l-r,a,l),this.bezierCurveTo(a,l+r,d+n,h,d,h),this.bezierCurveTo(d-n,h,t,l+r,t,l)},CanvasRenderingContext2D.prototype.database=function(t,e,i,s){var o=1/3,n=i,r=s*o,a=.5522848,h=n/2*a,d=r/2*a,l=t+n,c=e+r,p=t+n/2,u=e+r/2,m=e+(s-r/2),f=e+s;this.beginPath(),this.moveTo(l,u),this.bezierCurveTo(l,u+d,p+h,c,p,c),this.bezierCurveTo(p-h,c,t,u+d,t,u),this.bezierCurveTo(t,u-d,p-h,e,p,e),this.bezierCurveTo(p+h,e,l,u-d,l,u),this.lineTo(l,m),this.bezierCurveTo(l,m+d,p+h,f,p,f),this.bezierCurveTo(p-h,f,t,m+d,t,m),this.lineTo(t,u)},CanvasRenderingContext2D.prototype.arrow=function(t,e,i,s){var o=t-s*Math.cos(i),n=e-s*Math.sin(i),r=t-.9*s*Math.cos(i),a=e-.9*s*Math.sin(i),h=o+s/3*Math.cos(i+.5*Math.PI),d=n+s/3*Math.sin(i+.5*Math.PI),l=o+s/3*Math.cos(i-.5*Math.PI),c=n+s/3*Math.sin(i-.5*Math.PI);this.beginPath(),this.moveTo(t,e),this.lineTo(h,d),this.lineTo(r,a),this.lineTo(l,c),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(t,e,i,s,o){o||(o=[10,5]),0==p&&(p=.001);var n=o.length;this.moveTo(t,e);for(var r=i-t,a=s-e,h=a/r,d=Math.sqrt(r*r+a*a),l=0,c=!0;d>=.1;){var p=o[l++%n];p>d&&(p=d);var u=Math.sqrt(p*p/(1+h*h));0>r&&(u=-u),t+=u,e+=h*u,this[c?"lineTo":"moveTo"](t,e),d-=p,c=!c}})},function(t,e,i){function s(t){return t?o(t):void 0}function o(t){for(var e in s.prototype)t[e]=s.prototype[e];return t}t.exports=s,s.prototype.on=s.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},s.prototype.once=function(t,e){function i(){s.off(t,i),e.apply(this,arguments)}var s=this;return this._callbacks=this._callbacks||{},i.fn=e,this.on(t,i),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[t];if(!i)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var s,o=0;o<i.length;o++)if(s=i[o],s===e||s.fn===e){i.splice(o,1);break}return this},s.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),i=this._callbacks[t];if(i){i=i.slice(0);for(var s=0,o=i.length;o>s;++s)i[s].apply(this,e)}return this},s.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},s.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e,i){var s,o,n;!function(i,r){o=[],s=r,n="function"==typeof s?s.apply(e,o):s,!(void 0!==n&&(t.exports=n))}(this,function(){function t(t){var e,i=t&&t.preventDefault||!1,s=t&&t.container||window,o={},n={keydown:{},keyup:{}},r={};for(e=97;122>=e;e++)r[String.fromCharCode(e)]={code:65+(e-97),shift:!1};for(e=65;90>=e;e++)r[String.fromCharCode(e)]={code:e,shift:!0};for(e=0;9>=e;e++)r[""+e]={code:48+e,shift:!1};for(e=1;12>=e;e++)r["F"+e]={code:111+e,shift:!1};for(e=0;9>=e;e++)r["num"+e]={code:96+e,shift:!1};r["num*"]={code:106,shift:!1},r["num+"]={code:107,shift:!1},r["num-"]={code:109,shift:!1},r["num/"]={code:111,shift:!1},r["num."]={code:110,shift:!1},r.left={code:37,shift:!1},r.up={code:38,shift:!1},r.right={code:39,shift:!1},r.down={code:40,shift:!1},r.space={code:32,shift:!1},r.enter={code:13,shift:!1},r.shift={code:16,shift:void 0},r.esc={code:27,shift:!1},r.backspace={code:8,shift:!1},r.tab={code:9,shift:!1},r.ctrl={code:17,shift:!1},r.alt={code:18,shift:!1},r["delete"]={code:46,shift:!1},r.pageup={code:33,shift:!1},r.pagedown={code:34,shift:!1},r["="]={code:187,shift:!1},r["-"]={code:189,shift:!1},r["]"]={code:221,shift:!1},r["["]={code:219,shift:!1};var a=function(t){d(t,"keydown")},h=function(t){d(t,"keyup")},d=function(t,e){if(void 0!==n[e][t.keyCode]){for(var s=n[e][t.keyCode],o=0;o<s.length;o++)void 0===s[o].shift?s[o].fn(t):1==s[o].shift&&1==t.shiftKey?s[o].fn(t):0==s[o].shift&&0==t.shiftKey&&s[o].fn(t);1==i&&t.preventDefault()}};return o.bind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);void 0===n[i][r[t].code]&&(n[i][r[t].code]=[]),n[i][r[t].code].push({fn:e,shift:r[t].shift})},o.bindAll=function(t,e){void 0===e&&(e="keydown");for(var i in r)r.hasOwnProperty(i)&&o.bind(i,t,e);\n\n},o.getKey=function(t){for(var e in r)if(r.hasOwnProperty(e)){if(1==t.shiftKey&&1==r[e].shift&&t.keyCode==r[e].code)return e;if(0==t.shiftKey&&0==r[e].shift&&t.keyCode==r[e].code)return e;if(t.keyCode==r[e].code&&"shift"==e)return e}return"unknown key, currently not supported"},o.unbind=function(t,e,i){if(void 0===i&&(i="keydown"),void 0===r[t])throw new Error("unsupported key: "+t);if(void 0!==e){var s=[],o=n[i][r[t].code];if(void 0!==o)for(var a=0;a<o.length;a++)(o[a].fn!=e||o[a].shift!=r[t].shift)&&s.push(n[i][r[t].code][a]);n[i][r[t].code]=s}else n[i][r[t].code]=[]},o.reset=function(){n={keydown:{},keyup:{}}},o.destroy=function(){n={keydown:{},keyup:{}},s.removeEventListener("keydown",a,!0),s.removeEventListener("keyup",h,!0)},s.addEventListener("keydown",a,!0),s.addEventListener("keyup",h,!0),o}return t})},function(t,e,i){(function(t){!function(e,i){t.exports=i()}(this,function(){function e(){return Ti.apply(null,arguments)}function i(t){Ti=t}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function n(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function r(t,e){var i,s=[];for(i=0;i<t.length;++i)s.push(e(t[i],i));return s}function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function h(t,e){for(var i in e)a(e,i)&&(t[i]=e[i]);return a(e,"toString")&&(t.toString=e.toString),a(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,i,s){return Mt(t,e,i,s,!0).utc()}function l(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&void 0===t._pf.bigHour)),t._isValid}function c(t){var e=d(0/0);return null!=t?h(e._pf,t):e._pf.userInvalidated=!0,e}function p(t,e){var i,s,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Ei.length>0)for(i in Ei)s=Ei[i],o=e[s],"undefined"!=typeof o&&(t[s]=o);return t}function u(t){p(this,t),this._d=new Date(+t._d),ki===!1&&(ki=!0,e.updateOffset(this),ki=!1)}function m(t){return t instanceof u||null!=t&&a(t,"_isAMomentObject")}function f(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function g(t,e,i){var s,o=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),r=0;for(s=0;o>s;s++)(i&&t[s]!==e[s]||!i&&f(t[s])!==f(e[s]))&&r++;return r+n}function v(){}function y(t){return t?t.toLowerCase().replace("_","-"):t}function b(t){for(var e,i,s,o,n=0;n<t.length;){for(o=y(t[n]).split("-"),e=o.length,i=y(t[n+1]),i=i?i.split("-"):null;e>0;){if(s=_(o.slice(0,e).join("-")))return s;if(i&&i.length>=e&&g(o,i,!0)>=e-1)break;e--}n++}return null}function _(e){var i=null;if(!Ni[e]&&"undefined"!=typeof t&&t&&t.exports)try{i=Oi._abbr,!function(){var t=new Error(\'Cannot find module "./locale"\');throw t.code="MODULE_NOT_FOUND",t}(),x(i)}catch(s){}return Ni[e]}function x(t,e){var i;return t&&(i="undefined"==typeof e?S(t):w(t,e),i&&(Oi=i)),Oi._abbr}function w(t,e){return null!==e?(e.abbr=t,Ni[t]||(Ni[t]=new v),Ni[t].set(e),x(t),Ni[t]):(delete Ni[t],null)}function S(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Oi;if(!o(t)){if(e=_(t))return e;t=[t]}return b(t)}function D(t,e){var i=t.toLowerCase();Ii[i]=Ii[i+"s"]=Ii[e]=t}function M(t){return"string"==typeof t?Ii[t]||Ii[t.toLowerCase()]:void 0}function C(t){var e,i,s={};for(i in t)a(t,i)&&(e=M(i),e&&(s[e]=t[i]));return s}function T(t,i){return function(s){return null!=s?(E(this,t,s),e.updateOffset(this,i),this):O(this,t)}}function O(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function E(t,e,i){return t._d["set"+(t._isUTC?"UTC":"")+e](i)}function k(t,e){var i;if("object"==typeof t)for(i in t)this.set(i,t[i]);else if(t=M(t),"function"==typeof this[t])return this[t](e);return this}function N(t,e,i){for(var s=""+Math.abs(t),o=t>=0;s.length<e;)s="0"+s;return(o?i?"+":"":"-")+s}function I(t,e,i,s){var o=s;"string"==typeof s&&(o=function(){return this[s]()}),t&&(Pi[t]=o),e&&(Pi[e[0]]=function(){return N(o.apply(this,arguments),e[1],e[2])}),i&&(Pi[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function L(t){return t.match(/\\[[\\s\\S]/)?t.replace(/^\\[|\\]$/g,""):t.replace(/\\\\/g,"")}function z(t){var e,i,s=t.match(Li);for(e=0,i=s.length;i>e;e++)s[e]=Pi[s[e]]?Pi[s[e]]:L(s[e]);return function(o){var n="";for(e=0;i>e;e++)n+=s[e]instanceof Function?s[e].call(o,t):s[e];return n}}function A(t,e){return t.isValid()?(e=P(e,t.localeData()),Ai[e]||(Ai[e]=z(e)),Ai[e](t)):t.localeData().invalidDate()}function P(t,e){function i(t){return e.longDateFormat(t)||t}var s=5;for(zi.lastIndex=0;s>=0&&zi.test(t);)t=t.replace(zi,i),zi.lastIndex=0,s-=1;return t}function F(t,e,i){Ki[t]="function"==typeof e?e:function(t){return t&&i?i:e}}function R(t,e){return a(Ki,t)?Ki[t](e._strict,e._locale):new RegExp(H(t))}function H(t){return t.replace("\\\\","").replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g,function(t,e,i,s,o){return e||i||s||o}).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g,"\\\\$&")}function B(t,e){var i,s=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(s=function(t,i){i[e]=f(t)}),i=0;i<t.length;i++)$i[t[i]]=s}function Y(t,e){B(t,function(t,i,s,o){s._w=s._w||{},e(t,s._w,s,o)})}function W(t,e,i){null!=e&&a($i,t)&&$i[t](e,i._a,i,t)}function G(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function j(t){return this._months[t.month()]}function V(t){return this._monthsShort[t.month()]}function U(t,e,i){var s,o,n;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;12>s;s++){if(o=d([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[s]||(n="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[s]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[s].test(t))return s;if(i&&"MMM"===e&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}}function X(t,e){var i;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(i=Math.min(t.date(),G(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t)}function q(t){return null!=t?(X(this,t),e.updateOffset(this,!0),this):O(this,"Month")}function Z(){return G(this.year(),this.month())}function Q(t){var e,i=t._a;return i&&-2===t._pf.overflow&&(e=i[ts]<0||i[ts]>11?ts:i[es]<1||i[es]>G(i[Ji],i[ts])?es:i[is]<0||i[is]>24||24===i[is]&&(0!==i[ss]||0!==i[os]||0!==i[ns])?is:i[ss]<0||i[ss]>59?ss:i[os]<0||i[os]>59?os:i[ns]<0||i[ns]>999?ns:-1,t._pf._overflowDayOfYear&&(Ji>e||e>es)&&(e=es),t._pf.overflow=e),t}function K(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function $(t,e){var i=!0;return h(function(){return i&&(K(t),i=!1),e.apply(this,arguments)},e)}function J(t,e){hs[t]||(K(e),hs[t]=!0)}function tt(t){var e,i,s=t._i,o=ds.exec(s);if(o){for(t._pf.iso=!0,e=0,i=ls.length;i>e;e++)if(ls[e][1].exec(s)){t._f=ls[e][0]+(o[6]||" ");break}for(e=0,i=cs.length;i>e;e++)if(cs[e][1].exec(s)){t._f+=cs[e][0];break}s.match(qi)&&(t._f+="Z"),bt(t)}else t._isValid=!1}function et(t){var i=ps.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(tt(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function it(t,e,i,s,o,n,r){var a=new Date(t,e,i,s,o,n,r);return 1970>t&&a.setFullYear(t),a}function st(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function ot(t){return nt(t)?366:365}function nt(t){return t%4===0&&t%100!==0||t%400===0}function rt(){return nt(this.year())}function at(t,e,i){var s,o=i-e,n=i-t.day();return n>o&&(n-=7),o-7>n&&(n+=7),s=Ct(t).add(n,"d"),{week:Math.ceil(s.dayOfYear()/7),year:s.year()}}function ht(t){return at(t,this._week.dow,this._week.doy).week}function dt(){return this._week.dow}function lt(){return this._week.doy}function ct(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function pt(t){var e=at(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ut(t,e,i,s,o){var n,r,a=st(t,0,1).getUTCDay();return a=0===a?7:a,i=null!=i?i:o,n=o-a+(a>s?7:0)-(o>a?7:0),r=7*(e-1)+(i-o)+n+1,{year:r>0?t:t-1,dayOfYear:r>0?r:ot(t-1)+r}}function mt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function ft(t,e,i){return null!=t?t:null!=e?e:i}function gt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vt(t){var e,i,s,o,n=[];if(!t._d){for(s=gt(t),t._w&&null==t._a[es]&&null==t._a[ts]&&yt(t),t._dayOfYear&&(o=ft(t._a[Ji],s[Ji]),t._dayOfYear>ot(o)&&(t._pf._overflowDayOfYear=!0),i=st(o,0,t._dayOfYear),t._a[ts]=i.getUTCMonth(),t._a[es]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=n[e]=s[e];for(;7>e;e++)t._a[e]=n[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[is]&&0===t._a[ss]&&0===t._a[os]&&0===t._a[ns]&&(t._nextDay=!0,t._a[is]=0),t._d=(t._useUTC?st:it).apply(null,n),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[is]=24)}}function yt(t){var e,i,s,o,n,r,a;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(n=1,r=4,i=ft(e.GG,t._a[Ji],at(Ct(),1,4).year),s=ft(e.W,1),o=ft(e.E,1)):(n=t._locale._week.dow,r=t._locale._week.doy,i=ft(e.gg,t._a[Ji],at(Ct(),n,r).year),s=ft(e.w,1),null!=e.d?(o=e.d,n>o&&++s):o=null!=e.e?e.e+n:n),a=ut(i,s,o,r,n),t._a[Ji]=a.year,t._dayOfYear=a.dayOfYear}function bt(t){if(t._f===e.ISO_8601)return void tt(t);t._a=[],t._pf.empty=!0;var i,s,o,n,r,a=""+t._i,h=a.length,d=0;for(o=P(t._f,t._locale).match(Li)||[],i=0;i<o.length;i++)n=o[i],s=(a.match(R(n,t))||[])[0],s&&(r=a.substr(0,a.indexOf(s)),r.length>0&&t._pf.unusedInput.push(r),a=a.slice(a.indexOf(s)+s.length),d+=s.length),Pi[n]?(s?t._pf.empty=!1:t._pf.unusedTokens.push(n),W(n,s,t)):t._strict&&!s&&t._pf.unusedTokens.push(n);t._pf.charsLeftOver=h-d,a.length>0&&t._pf.unusedInput.push(a),t._pf.bigHour===!0&&t._a[is]<=12&&(t._pf.bigHour=void 0),t._a[is]=_t(t._locale,t._a[is],t._meridiem),vt(t),Q(t)}function _t(t,e,i){var s;return null==i?e:null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?(s=t.isPM(i),s&&12>e&&(e+=12),s||12!==e||(e=0),e):e}function xt(t){var e,i,o,n,r;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(0/0));for(n=0;n<t._f.length;n++)r=0,e=p({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=s(),e._f=t._f[n],bt(e),l(e)&&(r+=e._pf.charsLeftOver,r+=10*e._pf.unusedTokens.length,e._pf.score=r,(null==o||o>r)&&(o=r,i=e));h(t,i||e)}function wt(t){if(!t._d){var e=C(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],vt(t)}}function St(t){var e,i=t._i,s=t._f;return t._locale=t._locale||S(t._l),null===i||void 0===s&&""===i?c({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),m(i)?new u(Q(i)):(o(s)?xt(t):s?bt(t):Dt(t),e=new u(Q(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function Dt(t){var i=t._i;void 0===i?t._d=new Date:n(i)?t._d=new Date(+i):"string"==typeof i?et(t):o(i)?(t._a=r(i.slice(0),function(t){return parseInt(t,10)}),vt(t)):"object"==typeof i?wt(t):"number"==typeof i?t._d=new Date(i):e.createFromInputFallback(t)}function Mt(t,e,i,o,n){var r={};return"boolean"==typeof i&&(o=i,i=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=n,r._l=i,r._i=t,r._f=e,r._strict=o,r._pf=s(),St(r)}function Ct(t,e,i,s){return Mt(t,e,i,s,!1)}function Tt(t,e){var i,s;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return Ct();for(i=e[0],s=1;s<e.length;++s)e[s][t](i)&&(i=e[s]);return i}function Ot(){var t=[].slice.call(arguments,0);return Tt("isBefore",t)}function Et(){var t=[].slice.call(arguments,0);return Tt("isAfter",t)}function kt(t){var e=C(t),i=e.year||0,s=e.quarter||0,o=e.month||0,n=e.week||0,r=e.day||0,a=e.hour||0,h=e.minute||0,d=e.second||0,l=e.millisecond||0;this._milliseconds=+l+1e3*d+6e4*h+36e5*a,this._days=+r+7*n,this._months=+o+3*s+12*i,this._data={},this._locale=S(),this._bubble()}function Nt(t){return t instanceof kt}function It(t,e){I(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+N(~~(t/60),2)+e+N(~~t%60,2)})}function Lt(t){var e=(t||"").match(qi)||[],i=e[e.length-1]||[],s=(i+"").match(vs)||["-",0,0],o=+(60*s[1])+f(s[2]);return"+"===s[0]?o:-o}function zt(t,i){var s,o;return i._isUTC?(s=i.clone(),o=(m(t)||n(t)?+t:+Ct(t))-+s,s._d.setTime(+s._d+o),e.updateOffset(s,!1),s):Ct(t).local()}function At(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Pt(t,i){var s,o=this._offset||0;return null!=t?("string"==typeof t&&(t=Lt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&i&&(s=At(this)),this._offset=t,this._isUTC=!0,null!=s&&this.add(s,"m"),o!==t&&(!i||this._changeInProgress?$t(this,Xt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:At(this)}function Ft(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Rt(t){return this.utcOffset(0,t)}function Ht(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(At(this),"m")),this}function Bt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Lt(this._i)),this}function Yt(t){return t=t?Ct(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Wt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Gt(){if(this._a){var t=this._isUTC?d(this._a):Ct(this._a);return this.isValid()&&g(this._a,t.toArray())>0}return!1}function jt(){return!this._isUTC}function Vt(){return this._isUTC}function Ut(){return this._isUTC&&0===this._offset}function Xt(t,e){var i,s,o,n=t,r=null;return Nt(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(n={},e?n[e]=t:n.milliseconds=t):(r=ys.exec(t))?(i="-"===r[1]?-1:1,n={y:0,d:f(r[es])*i,h:f(r[is])*i,m:f(r[ss])*i,s:f(r[os])*i,ms:f(r[ns])*i}):(r=bs.exec(t))?(i="-"===r[1]?-1:1,n={y:qt(r[2],i),M:qt(r[3],i),d:qt(r[4],i),h:qt(r[5],i),m:qt(r[6],i),s:qt(r[7],i),w:qt(r[8],i)}):null==n?n={}:"object"==typeof n&&("from"in n||"to"in n)&&(o=Qt(Ct(n.from),Ct(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new kt(n),Nt(t)&&a(t,"_locale")&&(s._locale=t._locale),s}function qt(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function Zt(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Qt(t,e){var i;return e=zt(e,t),t.isBefore(e)?i=Zt(t,e):(i=Zt(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i}function Kt(t,e){return function(i,s){var o,n;return null===s||isNaN(+s)||(J(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),n=i,i=s,s=n),i="string"==typeof i?+i:i,o=Xt(i,s),$t(this,o,t),this}}function $t(t,i,s,o){var n=i._milliseconds,r=i._days,a=i._months;o=null==o?!0:o,n&&t._d.setTime(+t._d+n*s),r&&E(t,"Date",O(t,"Date")+r*s),a&&X(t,O(t,"Month")+a*s),o&&e.updateOffset(t,r||a)}function Jt(t){var e=t||Ct(),i=zt(e,this).startOf("day"),s=this.diff(i,"days",!0),o=-6>s?"sameElse":-1>s?"lastWeek":0>s?"lastDay":1>s?"sameDay":2>s?"nextDay":7>s?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Ct(e)))}function te(){return new u(this)}function ee(t,e){var i;return e=M("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Ct(t),+this>+t):(i=m(t)?+t:+Ct(t),i<+this.clone().startOf(e))}function ie(t,e){var i;return e=M("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=m(t)?t:Ct(t),+t>+this):(i=m(t)?+t:+Ct(t),+this.clone().endOf(e)<i)}function se(t,e,i){return this.isAfter(t,i)&&this.isBefore(e,i)}function oe(t,e){var i;return e=M(e||"millisecond"),"millisecond"===e?(t=m(t)?t:Ct(t),+this===+t):(i=+Ct(t),+this.clone().startOf(e)<=i&&i<=+this.clone().endOf(e))}function ne(t){return 0>t?Math.ceil(t):Math.floor(t)}function re(t,e,i){var s,o,n=zt(t,this),r=6e4*(n.utcOffset()-this.utcOffset());return e=M(e),"year"===e||"month"===e||"quarter"===e?(o=ae(this,n),"quarter"===e?o/=3:"year"===e&&(o/=12)):(s=this-n,o="second"===e?s/1e3:"minute"===e?s/6e4:"hour"===e?s/36e5:"day"===e?(s-r)/864e5:"week"===e?(s-r)/6048e5:s),i?o:ne(o)}function ae(t,e){var i,s,o=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(o,"months");return 0>e-n?(i=t.clone().add(o-1,"months"),s=(e-n)/(n-i)):(i=t.clone().add(o+1,"months"),s=(e-n)/(i-n)),-(o+s)}function he(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function de(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():A(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):A(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function le(t){var i=A(this,t||e.defaultFormat);return this.localeData().postformat(i)}function ce(t,e){return Xt({to:this,from:t}).locale(this.locale()).humanize(!e)}function pe(t){return this.from(Ct(),t)}function ue(t){var e;return void 0===t?this._locale._abbr:(e=S(t),null!=e&&(this._locale=e),this)}function me(){return this._locale}function fe(t){switch(t=M(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function ge(t){return t=M(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function ve(){return+this._d-6e4*(this._offset||0)}function ye(){return Math.floor(+this/1e3)}function be(){return this._offset?new Date(+this):this._d}function _e(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xe(){return l(this)}function we(){return h({},this._pf)}function Se(){return this._pf.overflow}function De(t,e){I(0,[t,t.length],0,e)}function Me(t,e,i){return at(Ct([t,11,31+e-i]),e,i).week}function Ce(t){var e=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Te(t){var e=at(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Oe(){return Me(this.year(),1,4)}function Ee(){var t=this.localeData()._week;return Me(this.year(),t.dow,t.doy)}function ke(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Ne(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Ie(t){return this._weekdays[t.day()]}function Le(t){return this._weekdaysShort[t.day()]}function ze(t){return this._weekdaysMin[t.day()]}function Ae(t){var e,i,s;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=Ct([2e3,1]).day(e),s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(s.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Pe(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ne(t,this.localeData()),this.add(t-e,"d")):e}function Fe(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Re(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function He(t,e){I(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Be(t,e){return e._meridiemParse}function Ye(t){return"p"===(t+"").toLowerCase().charAt(0)}function We(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}function Ge(t){I(0,[t,3],0,"millisecond")}function je(){return this._isUTC?"UTC":""}function Ve(){return this._isUTC?"Coordinated Universal Time":""}function Ue(t){return Ct(1e3*t)}function Xe(){return Ct.apply(null,arguments).parseZone()}function qe(t,e,i){var s=this._calendar[t];return"function"==typeof s?s.call(e,i):s}function Ze(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Qe(){return this._invalidDate}function Ke(t){return this._ordinal.replace("%d",t)}function $e(t){return t}function Je(t,e,i,s){var o=this._relativeTime[i];return"function"==typeof o?o(t,e,i,s):o.replace(/%d/i,t)}function ti(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)}function ei(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\\d{1,2}/.source)}function ii(t,e,i,s){var o=S(),n=d().set(s,e);return o[i](n,t)}function si(t,e,i,s,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ii(t,e,i,o);var n,r=[];for(n=0;s>n;n++)r[n]=ii(t,n,i,o);return r}function oi(t,e){return si(t,e,"months",12,"month")}function ni(t,e){return si(t,e,"monthsShort",12,"month")}function ri(t,e){return si(t,e,"weekdays",7,"day")}function ai(t,e){return si(t,e,"weekdaysShort",7,"day")}function hi(t,e){return si(t,e,"weekdaysMin",7,"day")}function di(){var t=this._data;return this._milliseconds=Ys(this._milliseconds),this._days=Ys(this._days),this._months=Ys(this._months),t.milliseconds=Ys(t.milliseconds),t.seconds=Ys(t.seconds),t.minutes=Ys(t.minutes),t.hours=Ys(t.hours),t.months=Ys(t.months),t.years=Ys(t.years),this}function li(t,e,i,s){var o=Xt(e,i);return t._milliseconds+=s*o._milliseconds,t._days+=s*o._days,t._months+=s*o._months,t._bubble()}function ci(t,e){return li(this,t,e,1)}function pi(t,e){return li(this,t,e,-1)}function ui(){var t,e,i,s=this._milliseconds,o=this._days,n=this._months,r=this._data,a=0;return r.milliseconds=s%1e3,t=ne(s/1e3),r.seconds=t%60,e=ne(t/60),r.minutes=e%60,i=ne(e/60),r.hours=i%24,o+=ne(i/24),a=ne(mi(o)),o-=ne(fi(a)),n+=ne(o/30),o%=30,a+=ne(n/12),n%=12,r.days=o,r.months=n,r.years=a,this}function mi(t){return 400*t/146097}function fi(t){return 146097*t/400}function gi(t){var e,i,s=this._milliseconds;if(t=M(t),"month"===t||"year"===t)return e=this._days+s/864e5,i=this._months+12*mi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(fi(this._months/12)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 24*e*60+s/6e4;case"second":return 24*e*60*60+s/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+s;default:throw new Error("Unknown unit "+t)}}function vi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*f(this._months/12)}function yi(t){return function(){return this.as(t)}}function bi(t){return t=M(t),this[t+"s"]()}function _i(t){return function(){return this._data[t]}}function xi(){return ne(this.days()/7)}function wi(t,e,i,s,o){return o.relativeTime(e||1,!!i,t,s)}function Si(t,e,i){var s=Xt(t).abs(),o=so(s.as("s")),n=so(s.as("m")),r=so(s.as("h")),a=so(s.as("d")),h=so(s.as("M")),d=so(s.as("y")),l=o<oo.s&&["s",o]||1===n&&["m"]||n<oo.m&&["mm",n]||1===r&&["h"]||r<oo.h&&["hh",r]||1===a&&["d"]||a<oo.d&&["dd",a]||1===h&&["M"]||h<oo.M&&["MM",h]||1===d&&["y"]||["yy",d];return l[2]=e,l[3]=+t>0,l[4]=i,wi.apply(null,l)}function Di(t,e){return void 0===oo[t]?!1:void 0===e?oo[t]:(oo[t]=e,!0)}function Mi(t){var e=this.localeData(),i=Si(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)}function Ci(){var t=no(this.years()),e=no(this.months()),i=no(this.days()),s=no(this.hours()),o=no(this.minutes()),n=no(this.seconds()+this.milliseconds()/1e3),r=this.asSeconds();return r?(0>r?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(s||o||n?"T":"")+(s?s+"H":"")+(o?o+"M":"")+(n?n+"S":""):"P0D"}var Ti,Oi,Ei=e.momentProperties=[],ki=!1,Ni={},Ii={},Li=/(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,zi=/(\\[[^\\[]*\\])|(\\\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ai={},Pi={},Fi=/\\d/,Ri=/\\d\\d/,Hi=/\\d{3}/,Bi=/\\d{4}/,Yi=/[+-]?\\d{6}/,Wi=/\\d\\d?/,Gi=/\\d{1,3}/,ji=/\\d{1,4}/,Vi=/[+-]?\\d{1,6}/,Ui=/\\d+/,Xi=/[+-]?\\d+/,qi=/Z|[+-]\\d\\d:?\\d\\d/gi,Zi=/[+-]?\\d+(\\.\\d{1,3})?/,Qi=/[0-9]*[\'a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i,Ki={},$i={},Ji=0,ts=1,es=2,is=3,ss=4,os=5,ns=6;I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),I("MMMM",0,0,function(t){return this.localeData().months(this,t)}),D("month","M"),F("M",Wi),F("MM",Wi,Ri),F("MMM",Qi),F("MMMM",Qi),B(["M","MM"],function(t,e){e[ts]=f(t)-1}),B(["MMM","MMMM"],function(t,e,i,s){var o=i._locale.monthsParse(t,s,i._strict);null!=o?e[ts]=o:i._pf.invalidMonth=t});var rs="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),as="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hs={};e.suppressDeprecationWarnings=!1;var ds=/^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,ls=[["YYYYYY-MM-DD",/[+-]\\d{6}-\\d{2}-\\d{2}/],["YYYY-MM-DD",/\\d{4}-\\d{2}-\\d{2}/],["GGGG-[W]WW-E",/\\d{4}-W\\d{2}-\\d/],["GGGG-[W]WW",/\\d{4}-W\\d{2}/],["YYYY-DDD",/\\d{4}-\\d{3}/]],cs=[["HH:mm:ss.SSSS",/(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],["HH:mm:ss",/(T| )\\d\\d:\\d\\d:\\d\\d/],["HH:mm",/(T| )\\d\\d:\\d\\d/],["HH",/(T| )\\d\\d/]],ps=/^\\/?Date\\((\\-?\\d+)/i;e.createFromInputFallback=$("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),D("year","y"),F("Y",Xi),F("YY",Wi,Ri),F("YYYY",ji,Bi),F("YYYYY",Vi,Yi),F("YYYYYY",Vi,Yi),B(["YYYY","YYYYY","YYYYYY"],Ji),B("YY",function(t,i){i[Ji]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(t){return f(t)+(f(t)>68?1900:2e3)};var us=T("FullYear",!1);I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),D("week","w"),D("isoWeek","W"),F("w",Wi),F("ww",Wi,Ri),F("W",Wi),F("WW",Wi,Ri),Y(["w","ww","W","WW"],function(t,e,i,s){e[s.substr(0,1)]=f(t)});var ms={dow:0,doy:6};I("DDD",["DDDD",3],"DDDo","dayOfYear"),D("dayOfYear","DDD"),F("DDD",Gi),F("DDDD",Hi),B(["DDD","DDDD"],function(t,e,i){i._dayOfYear=f(t)}),e.ISO_8601=function(){};var fs=$("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ct.apply(null,arguments);return this>t?this:t}),gs=$("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ct.apply(null,arguments);return t>this?this:t});It("Z",":"),It("ZZ",""),F("Z",qi),F("ZZ",qi),B(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Lt(t)});var vs=/([\\+\\-]|\\d\\d)/gi;e.updateOffset=function(){};var ys=/(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,bs=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,_s=Kt(1,"add"),xs=Kt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var ws=$("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),De("gggg","weekYear"),De("ggggg","weekYear"),De("GGGG","isoWeekYear"),De("GGGGG","isoWeekYear"),D("weekYear","gg"),D("isoWeekYear","GG"),F("G",Xi),F("g",Xi),F("GG",Wi,Ri),F("gg",Wi,Ri),F("GGGG",ji,Bi),F("gggg",ji,Bi),F("GGGGG",Vi,Yi),F("ggggg",Vi,Yi),Y(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,s){e[s.substr(0,2)]=f(t)}),Y(["gg","GG"],function(t,i,s,o){i[o]=e.parseTwoDigitYear(t)}),I("Q",0,0,"quarter"),D("quarter","Q"),F("Q",Fi),B("Q",function(t,e){e[ts]=3*(f(t)-1)}),I("D",["DD",2],"Do","date"),D("date","D"),F("D",Wi),F("DD",Wi,Ri),F("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),B(["D","DD"],es),B("Do",function(t,e){e[es]=f(t.match(Wi)[0],10)});var Ss=T("Date",!0);I("d",0,"do","day"),I("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),I("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),I("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),D("day","d"),D("weekday","e"),D("isoWeekday","E"),F("d",Wi),F("e",Wi),F("E",Wi),F("dd",Qi),F("ddd",Qi),F("dddd",Qi),Y(["dd","ddd","dddd"],function(t,e,i){var s=i._locale.weekdaysParse(t);null!=s?e.d=s:i._pf.invalidWeekday=t}),Y(["d","e","E"],function(t,e,i,s){e[s]=f(t)});var Ds="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ms="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Cs="Su_Mo_Tu_We_Th_Fr_Sa".split("_");I("H",["HH",2],0,"hour"),I("h",["hh",2],0,function(){return this.hours()%12||12}),He("a",!0),He("A",!1),D("hour","h"),F("a",Be),F("A",Be),F("H",Wi),F("h",Wi),F("HH",Wi,Ri),F("hh",Wi,Ri),B(["H","HH"],is),B(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),B(["h","hh"],function(t,e,i){e[is]=f(t),i._pf.bigHour=!0});var Ts=/[ap]\\.?m?\\.?/i,Os=T("Hours",!0);I("m",["mm",2],0,"minute"),D("minute","m"),F("m",Wi),F("mm",Wi,Ri),B(["m","mm"],ss);var Es=T("Minutes",!1);I("s",["ss",2],0,"second"),D("second","s"),F("s",Wi),F("ss",Wi,Ri),B(["s","ss"],os);var ks=T("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ge("SSS"),Ge("SSSS"),D("millisecond","ms"),F("S",Gi,Fi),F("SS",Gi,Ri),F("SSS",Gi,Hi),F("SSSS",Ui),B(["S","SS","SSS","SSSS"],function(t,e){e[ns]=f(1e3*("0."+t))});var Ns=T("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var Is=u.prototype;Is.add=_s,Is.calendar=Jt,Is.clone=te,Is.diff=re,Is.endOf=ge,Is.format=le,Is.from=ce,Is.fromNow=pe,Is.get=k,Is.invalidAt=Se,Is.isAfter=ee,Is.isBefore=ie,Is.isBetween=se,Is.isSame=oe,Is.isValid=xe,Is.lang=ws,Is.locale=ue,Is.localeData=me,Is.max=gs,Is.min=fs,Is.parsingFlags=we,Is.set=k,Is.startOf=fe,Is.subtract=xs,Is.toArray=_e,Is.toDate=be,Is.toISOString=de,Is.toJSON=de,Is.toString=he,Is.unix=ye,Is.valueOf=ve,Is.year=us,Is.isLeapYear=rt,Is.weekYear=Ce,Is.isoWeekYear=Te,Is.quarter=Is.quarters=ke,Is.month=q,Is.daysInMonth=Z,Is.week=Is.weeks=ct,Is.isoWeek=Is.isoWeeks=pt,Is.weeksInYear=Ee,Is.isoWeeksInYear=Oe,Is.date=Ss,Is.day=Is.days=Pe,Is.weekday=Fe,Is.isoWeekday=Re,Is.dayOfYear=mt,Is.hour=Is.hours=Os,Is.minute=Is.minutes=Es,Is.second=Is.seconds=ks,Is.millisecond=Is.milliseconds=Ns,Is.utcOffset=Pt,Is.utc=Rt,Is.local=Ht,Is.parseZone=Bt,Is.hasAlignedHourOffset=Yt,Is.isDST=Wt,Is.isDSTShifted=Gt,Is.isLocal=jt,Is.isUtcOffset=Vt,Is.isUtc=Ut,Is.isUTC=Ut,Is.zoneAbbr=je,Is.zoneName=Ve,Is.dates=$("dates accessor is deprecated. Use date instead.",Ss),Is.months=$("months accessor is deprecated. Use month instead",q),Is.years=$("years accessor is deprecated. Use year instead",us),Is.zone=$("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ft);\n\nvar Ls=Is,zs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},As={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Ps="Invalid date",Fs="%d",Rs=/\\d{1,2}/,Hs={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Bs=v.prototype;Bs._calendar=zs,Bs.calendar=qe,Bs._longDateFormat=As,Bs.longDateFormat=Ze,Bs._invalidDate=Ps,Bs.invalidDate=Qe,Bs._ordinal=Fs,Bs.ordinal=Ke,Bs._ordinalParse=Rs,Bs.preparse=$e,Bs.postformat=$e,Bs._relativeTime=Hs,Bs.relativeTime=Je,Bs.pastFuture=ti,Bs.set=ei,Bs.months=j,Bs._months=rs,Bs.monthsShort=V,Bs._monthsShort=as,Bs.monthsParse=U,Bs.week=ht,Bs._week=ms,Bs.firstDayOfYear=lt,Bs.firstDayOfWeek=dt,Bs.weekdays=Ie,Bs._weekdays=Ds,Bs.weekdaysMin=ze,Bs._weekdaysMin=Cs,Bs.weekdaysShort=Le,Bs._weekdaysShort=Ms,Bs.weekdaysParse=Ae,Bs.isPM=Ye,Bs._meridiemParse=Ts,Bs.meridiem=We,x("en",{ordinalParse:/\\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===f(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+i}}),e.lang=$("moment.lang is deprecated. Use moment.locale instead.",x),e.langData=$("moment.langData is deprecated. Use moment.localeData instead.",S);var Ys=Math.abs,Ws=yi("ms"),Gs=yi("s"),js=yi("m"),Vs=yi("h"),Us=yi("d"),Xs=yi("w"),qs=yi("M"),Zs=yi("y"),Qs=_i("milliseconds"),Ks=_i("seconds"),$s=_i("minutes"),Js=_i("hours"),to=_i("days"),eo=_i("months"),io=_i("years"),so=Math.round,oo={s:45,m:45,h:22,d:26,M:11},no=Math.abs,ro=kt.prototype;ro.abs=di,ro.add=ci,ro.subtract=pi,ro.as=gi,ro.asMilliseconds=Ws,ro.asSeconds=Gs,ro.asMinutes=js,ro.asHours=Vs,ro.asDays=Us,ro.asWeeks=Xs,ro.asMonths=qs,ro.asYears=Zs,ro.valueOf=vi,ro._bubble=ui,ro.get=bi,ro.milliseconds=Qs,ro.seconds=Ks,ro.minutes=$s,ro.hours=Js,ro.days=to,ro.weeks=xi,ro.months=eo,ro.years=io,ro.humanize=Mi,ro.toISOString=Ci,ro.toString=Ci,ro.toJSON=Ci,ro.locale=ue,ro.localeData=me,ro.toIsoString=$("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ci),ro.lang=ws,I("X",0,0,"unix"),I("x",0,0,"valueOf"),F("x",Xi),F("X",Zi),B("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),B("x",function(t,e,i){i._d=new Date(f(t))}),e.version="2.10.0",i(Ct),e.fn=Ls,e.min=Ot,e.max=Et,e.utc=d,e.unix=Ue,e.months=oi,e.isDate=n,e.locale=x,e.invalid=c,e.duration=Xt,e.isMoment=m,e.weekdays=ri,e.parseZone=Xe,e.localeData=S,e.isDuration=Nt,e.monthsShort=ni,e.weekdaysMin=hi,e.defineLocale=w,e.weekdaysShort=ai,e.normalizeUnits=M,e.relativeTimeThreshold=Di;var ao=e;return ao})}).call(e,i(71)(t))},function(t,e,i){var s;!function(o,n){function r(){a.READY||(w.determineEventTypes(),x.each(a.gestures,function(t){D.register(t)}),w.onTouch(a.DOCUMENT,v,D.detect),w.onTouch(a.DOCUMENT,y,D.detect),a.READY=!0)}var a=function M(t,e){return new M.Instance(t,e||{})};a.VERSION="1.1.3",a.defaults={behavior:{userSelect:"none",touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},a.DOCUMENT=document,a.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,a.HAS_TOUCHEVENTS="ontouchstart"in o,a.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),a.NO_MOUSEEVENTS=a.HAS_TOUCHEVENTS&&a.IS_MOBILE||a.HAS_POINTEREVENTS,a.CALCULATE_INTERVAL=25;var h={},d=a.DIRECTION_DOWN="down",l=a.DIRECTION_LEFT="left",c=a.DIRECTION_UP="up",p=a.DIRECTION_RIGHT="right",u=a.POINTER_MOUSE="mouse",m=a.POINTER_TOUCH="touch",f=a.POINTER_PEN="pen",g=a.EVENT_START="start",v=a.EVENT_MOVE="move",y=a.EVENT_END="end",b=a.EVENT_RELEASE="release",_=a.EVENT_TOUCH="touch";a.READY=!1,a.plugins=a.plugins||{},a.gestures=a.gestures||{};var x=a.utils={extend:function(t,e,i){for(var s in e)!e.hasOwnProperty(s)||t[s]!==n&&i||(t[s]=e[s]);return t},on:function(t,e,i){t.addEventListener(e,i,!1)},off:function(t,e,i){t.removeEventListener(e,i,!1)},each:function(t,e,i){var s,o;if("forEach"in t)t.forEach(e,i);else if(t.length!==n){for(s=0,o=t.length;o>s;s++)if(e.call(i,t[s],s,t)===!1)return}else for(s in t)if(t.hasOwnProperty(s)&&e.call(i,t[s],s,t)===!1)return},inStr:function(t,e){return t.indexOf(e)>-1},inArray:function(t,e){if(t.indexOf){var i=t.indexOf(e);return-1===i?!1:i}for(var s=0,o=t.length;o>s;s++)if(t[s]===e)return s;return!1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],i=[],s=[],o=[],n=Math.min,r=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(x.each(t,function(t){e.push(t.pageX),i.push(t.pageY),s.push(t.clientX),o.push(t.clientY)}),{pageX:(n.apply(Math,e)+r.apply(Math,e))/2,pageY:(n.apply(Math,i)+r.apply(Math,i))/2,clientX:(n.apply(Math,s)+r.apply(Math,s))/2,clientY:(n.apply(Math,o)+r.apply(Math,o))/2})},getVelocity:function(t,e,i){return{x:Math.abs(e/t)||0,y:Math.abs(i/t)||0}},getAngle:function(t,e){var i=e.clientX-t.clientX,s=e.clientY-t.clientY;return 180*Math.atan2(s,i)/Math.PI},getDirection:function(t,e){var i=Math.abs(t.clientX-e.clientX),s=Math.abs(t.clientY-e.clientY);return i>=s?t.clientX-e.clientX>0?l:p:t.clientY-e.clientY>0?c:d},getDistance:function(t,e){var i=e.clientX-t.clientX,s=e.clientY-t.clientY;return Math.sqrt(i*i+s*s)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==c||t==d},setPrefixedCss:function(t,e,i,s){var o=["","Webkit","Moz","O","ms"];e=x.toCamelCase(e);for(var n=0;n<o.length;n++){var r=e;if(o[n]&&(r=o[n]+r.slice(0,1).toUpperCase()+r.slice(1)),r in t.style){t.style[r]=(null==s||s)&&i||"";break}}},toggleBehavior:function(t,e,i){if(e&&t&&t.style){x.each(e,function(e,s){x.setPrefixedCss(t,s,e,i)});var s=i&&function(){return!1};"none"==e.userSelect&&(t.onselectstart=s),"none"==e.userDrag&&(t.ondragstart=s)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(t){return t[1].toUpperCase()})}},w=a.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,i,s){var o=e.split(" ");x.each(o,function(e){x.on(t,e,i),s&&s(e)})},off:function(t,e,i,s){var o=e.split(" ");x.each(o,function(e){x.off(t,e,i),s&&s(e)})},onTouch:function(t,e,i){var s=this,o=function(o){var n,r=o.type.toLowerCase(),h=a.HAS_POINTEREVENTS,d=x.inStr(r,"mouse");d&&s.preventMouseEvents||(d&&e==g&&0===o.button?(s.preventMouseEvents=!1,s.shouldDetect=!0):h&&e==g?s.shouldDetect=1===o.buttons||S.matchType(m,o):d||e!=g||(s.preventMouseEvents=!0,s.shouldDetect=!0),h&&e!=y&&S.updatePointer(e,o),s.shouldDetect&&(n=s.doDetect.call(s,o,e,t,i)),n==y&&(s.preventMouseEvents=!1,s.shouldDetect=!1,S.reset()),h&&e==y&&S.updatePointer(e,o))};return this.on(t,h[e],o),o},doDetect:function(t,e,i,s){var o=this.getTouchList(t,e),n=o.length,r=e,a=o.trigger,h=n;e==g?a=_:e==y&&(a=b,h=o.length-(t.changedTouches?t.changedTouches.length:1)),h>0&&this.started&&(r=v),this.started=!0;var d=this.collectEventData(i,r,o,t);return e!=y&&s.call(D,d),a&&(d.changedLength=h,d.eventType=a,s.call(D,d),d.eventType=r,delete d.changedLength),r==y&&(s.call(D,d),this.started=!1),r},determineEventTypes:function(){var t;return t=a.HAS_POINTEREVENTS?o.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:a.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],h[g]=t[0],h[v]=t[1],h[y]=t[2],h},getTouchList:function(t,e){if(a.HAS_POINTEREVENTS)return S.getTouchList();if(t.touches){if(e==v)return t.touches;var i=[],s=[].concat(x.toArray(t.touches),x.toArray(t.changedTouches)),o=[];return x.each(s,function(t){x.inArray(i,t.identifier)===!1&&o.push(t),i.push(t.identifier)}),o}return t.identifier=1,[t]},collectEventData:function(t,e,i,s){var o=m;return x.inStr(s.type,"mouse")||S.matchType(u,s)?o=u:S.matchType(f,s)&&(o=f),{center:x.getCenter(i),timeStamp:Date.now(),target:s.target,touches:i,eventType:e,pointerType:o,srcEvent:s,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return D.stopDetect()}}}},S=a.PointerEvent={pointers:{},getTouchList:function(){var t=[];return x.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){t==y||t!=y&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var i=e.pointerType,s={};return s[u]=i===(e.MSPOINTER_TYPE_MOUSE||u),s[m]=i===(e.MSPOINTER_TYPE_TOUCH||m),s[f]=i===(e.MSPOINTER_TYPE_PEN||f),s[t]},reset:function(){this.pointers={}}},D=a.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:x.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,i=e.options;return x.each(this.gestures,function(s){!this.stopped&&e.enabled&&i[s.name]&&s.handler.call(s,t,e)},this),this.current&&(this.current.lastEvent=t),t.eventType==y&&this.stopDetect(),t}},stopDetect:function(){this.previous=x.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,i,s,o){var n=this.current,r=!1,h=n.lastCalcEvent,d=n.lastCalcData;h&&t.timeStamp-h.timeStamp>a.CALCULATE_INTERVAL&&(e=h.center,i=t.timeStamp-h.timeStamp,s=t.center.clientX-h.center.clientX,o=t.center.clientY-h.center.clientY,r=!0),(t.eventType==_||t.eventType==b)&&(n.futureCalcEvent=t),(!n.lastCalcEvent||r)&&(d.velocity=x.getVelocity(i,s,o),d.angle=x.getAngle(e,t.center),d.direction=x.getDirection(e,t.center),n.lastCalcEvent=n.futureCalcEvent||t,n.futureCalcEvent=t),t.velocityX=d.velocity.x,t.velocityY=d.velocity.y,t.interimAngle=d.angle,t.interimDirection=d.direction},extendEventData:function(t){var e=this.current,i=e.startEvent,s=e.lastEvent||i;(t.eventType==_||t.eventType==b)&&(i.touches=[],x.each(t.touches,function(t){i.touches.push({clientX:t.clientX,clientY:t.clientY})}));var o=t.timeStamp-i.timeStamp,n=t.center.clientX-i.center.clientX,r=t.center.clientY-i.center.clientY;return this.getCalculatedData(t,s.center,o,n,r),x.extend(t,{startEvent:i,deltaTime:o,deltaX:n,deltaY:r,distance:x.getDistance(i.center,t.center),angle:x.getAngle(i.center,t.center),direction:x.getDirection(i.center,t.center),scale:x.getScale(i.touches,t.touches),rotation:x.getRotation(i.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return e[t.name]===n&&(e[t.name]=!0),x.extend(a.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}};a.Instance=function(t,e){var i=this;r(),this.element=t,this.enabled=!0,x.each(e,function(t,i){delete e[i],e[x.toCamelCase(i)]=t}),this.options=x.extend(x.extend({},a.defaults),e||{}),this.options.behavior&&x.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=w.onTouch(t,g,function(t){i.enabled&&t.eventType==g?D.startDetect(i,t):t.eventType==_&&D.detect(t)}),this.eventHandlers=[]},a.Instance.prototype={on:function(t,e){var i=this;return w.on(i.element,t,e,function(t){i.eventHandlers.push({gesture:t,handler:e})}),i},off:function(t,e){var i=this;return w.off(i.element,t,e,function(t){var s=x.inArray({gesture:t,handler:e});s!==!1&&i.eventHandlers.splice(s,1)}),i},trigger:function(t,e){e||(e={});var i=a.DOCUMENT.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e;var s=this.element;return x.hasParent(e.target,s)&&(s=e.target),s.dispatchEvent(i),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(x.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)x.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],w.off(this.element,h[g],this.eventStartHandler),null}},function(t){function e(e,s){var o=D.current;if(!(s.options.dragMaxTouches>0&&e.touches.length>s.options.dragMaxTouches))switch(e.eventType){case g:i=!1;break;case v:if(e.distance<s.options.dragMinDistance&&o.name!=t)return;var n=o.startEvent.center;if(o.name!=t&&(o.name=t,s.options.dragDistanceCorrection&&e.distance>0)){var r=Math.abs(s.options.dragMinDistance/e.distance);n.pageX+=e.deltaX*r,n.pageY+=e.deltaY*r,n.clientX+=e.deltaX*r,n.clientY+=e.deltaY*r,e=D.extendEventData(e)}(o.lastEvent.dragLockToAxis||s.options.dragLockToAxis&&s.options.dragLockMinDistance<=e.distance)&&(e.dragLockToAxis=!0);var a=o.lastEvent.direction;e.dragLockToAxis&&a!==e.direction&&(e.direction=x.isVertical(a)?e.deltaY<0?c:d:e.deltaX<0?l:p),i||(s.trigger(t+"start",e),i=!0),s.trigger(t,e),s.trigger(t+e.direction,e);var h=x.isVertical(e.direction);(s.options.dragBlockVertical&&h||s.options.dragBlockHorizontal&&!h)&&e.preventDefault();break;case b:i&&e.changedLength<=s.options.dragMaxTouches&&(s.trigger(t+"end",e),i=!1);break;case y:i=!1}}var i=!1;a.gestures.Drag={name:t,index:50,handler:e,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),a.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},function(t){function e(e,s){var o=s.options,n=D.current;switch(e.eventType){case g:clearTimeout(i),n.name=t,i=setTimeout(function(){n&&n.name==t&&s.trigger(t,e)},o.holdTimeout);break;case v:e.distance>o.holdThreshold&&clearTimeout(i);break;case b:clearTimeout(i)}}var i;a.gestures.Hold={name:t,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:e}}("hold"),a.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==b&&e.trigger(this.name,t)}},a.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==b){var i=t.touches.length,s=e.options;if(i<s.swipeMinTouches||i>s.swipeMaxTouches)return;(t.velocityX>s.swipeVelocityX||t.velocityY>s.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},function(t){function e(e,s){var o,n,r=s.options,a=D.current,h=D.previous;switch(e.eventType){case g:i=!1;break;case v:i=i||e.distance>r.tapMaxDistance;break;case y:!x.inStr(e.srcEvent.type,"cancel")&&e.deltaTime<r.tapMaxTime&&!i&&(o=h&&h.lastEvent&&e.timeStamp-h.lastEvent.timeStamp,n=!1,h&&h.name==t&&o&&o<r.doubleTapInterval&&e.distance<r.doubleTapDistance&&(s.trigger("doubletap",e),n=!0),(!n||r.tapAlways)&&(a.name=t,s.trigger(a.name,e)))}}var i=!1;a.gestures.Tap={name:t,index:100,handler:e,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),a.gestures.Touch={name:"touch",index:-(1/0),defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){return e.options.preventMouse&&t.pointerType==u?void t.stopDetect():(e.options.preventDefault&&t.preventDefault(),void(t.eventType==_&&e.trigger("touch",t)))}},function(t){function e(e,s){switch(e.eventType){case g:i=!1;break;case v:if(e.touches.length<2)return;var o=Math.abs(1-e.scale),n=Math.abs(e.rotation);if(o<s.options.transformMinScale&&n<s.options.transformMinRotation)return;D.current.name=t,i||(s.trigger(t+"start",e),i=!0),s.trigger(t,e),n>s.options.transformMinRotation&&s.trigger("rotate",e),o>s.options.transformMinScale&&(s.trigger("pinch",e),s.trigger("pinch"+(e.scale<1?"in":"out"),e));break;case b:i&&e.changedLength<2&&(s.trigger(t+"end",e),i=!1)}}var i=!1;a.gestures.Transform={name:t,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:e}}("transform"),s=function(){return a}.call(e,i,e,t),!(s!==n&&(t.exports=s))}(window)},function(t,e,i){function s(){this.constants.smoothCurves.enabled=!this.constants.smoothCurves.enabled;var t=document.getElementById("graph_toggleSmooth");t.style.background=1==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532",this._configureSmoothCurves(!1)}function o(){for(var t in this.calculationNodes)this.calculationNodes.hasOwnProperty(t)&&(this.calculationNodes[t].vx=0,this.calculationNodes[t].vy=0,this.calculationNodes[t].fx=0,this.calculationNodes[t].fy=0);1==this.constants.hierarchicalLayout.enabled?(this._setupHierarchicalLayout(),a.call(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance"),a.call(this,"graph_H_cg",1,"physics_centralGravity"),a.call(this,"graph_H_sc",1,"physics_springConstant"),a.call(this,"graph_H_sl",1,"physics_springLength"),a.call(this,"graph_H_damp",1,"physics_damping")):this.repositionNodes(),this.moving=!0,this.start()}function n(){var t="No options are required, default values used.",e=[],i=document.getElementById("graph_physicsMethod1"),s=document.getElementById("graph_physicsMethod2");if(1==i.checked){if(this.constants.physics.barnesHut.gravitationalConstant!=this.backupConstants.physics.barnesHut.gravitationalConstant&&e.push("gravitationalConstant: "+this.constants.physics.barnesHut.gravitationalConstant),this.constants.physics.centralGravity!=this.backupConstants.physics.barnesHut.centralGravity&&e.push("centralGravity: "+this.constants.physics.centralGravity),this.constants.physics.springLength!=this.backupConstants.physics.barnesHut.springLength&&e.push("springLength: "+this.constants.physics.springLength),this.constants.physics.springConstant!=this.backupConstants.physics.barnesHut.springConstant&&e.push("springConstant: "+this.constants.physics.springConstant),this.constants.physics.damping!=this.backupConstants.physics.barnesHut.damping&&e.push("damping: "+this.constants.physics.damping),0!=e.length){t="var options = {",t+="physics: {barnesHut: {";for(var o=0;o<e.length;o++)t+=e[o],o<e.length-1&&(t+=", ");t+="}}"}this.constants.smoothCurves.enabled!=this.backupConstants.smoothCurves.enabled&&(0==e.length?t="var options = {":t+=", ",t+="smoothCurves: "+this.constants.smoothCurves.enabled),"No options are required, default values used."!=t&&(t+="};")}else if(1==s.checked){if(t="var options = {",t+="physics: {barnesHut: {enabled: false}",this.constants.physics.repulsion.nodeDistance!=this.backupConstants.physics.repulsion.nodeDistance&&e.push("nodeDistance: "+this.constants.physics.repulsion.nodeDistance),this.constants.physics.centralGravity!=this.backupConstants.physics.repulsion.centralGravity&&e.push("centralGravity: "+this.constants.physics.centralGravity),this.constants.physics.springLength!=this.backupConstants.physics.repulsion.springLength&&e.push("springLength: "+this.constants.physics.springLength),this.constants.physics.springConstant!=this.backupConstants.physics.repulsion.springConstant&&e.push("springConstant: "+this.constants.physics.springConstant),this.constants.physics.damping!=this.backupConstants.physics.repulsion.damping&&e.push("damping: "+this.constants.physics.damping),0!=e.length){t+=", repulsion: {";for(var o=0;o<e.length;o++)t+=e[o],o<e.length-1&&(t+=", ");t+="}}"}0==e.length&&(t+="}"),this.constants.smoothCurves!=this.backupConstants.smoothCurves&&(t+=", smoothCurves: "+this.constants.smoothCurves),t+="};"}else{if(t="var options = {",this.constants.physics.hierarchicalRepulsion.nodeDistance!=this.backupConstants.physics.hierarchicalRepulsion.nodeDistance&&e.push("nodeDistance: "+this.constants.physics.hierarchicalRepulsion.nodeDistance),this.constants.physics.centralGravity!=this.backupConstants.physics.hierarchicalRepulsion.centralGravity&&e.push("centralGravity: "+this.constants.physics.centralGravity),this.constants.physics.springLength!=this.backupConstants.physics.hierarchicalRepulsion.springLength&&e.push("springLength: "+this.constants.physics.springLength),this.constants.physics.springConstant!=this.backupConstants.physics.hierarchicalRepulsion.springConstant&&e.push("springConstant: "+this.constants.physics.springConstant),this.constants.physics.damping!=this.backupConstants.physics.hierarchicalRepulsion.damping&&e.push("damping: "+this.constants.physics.damping),0!=e.length){t+="physics: {hierarchicalRepulsion: {";for(var o=0;o<e.length;o++)t+=e[o],o<e.length-1&&(t+=", ");t+="}},"}if(t+="hierarchicalLayout: {",e=[],this.constants.hierarchicalLayout.direction!=this.backupConstants.hierarchicalLayout.direction&&e.push("direction: "+this.constants.hierarchicalLayout.direction),Math.abs(this.constants.hierarchicalLayout.levelSeparation)!=this.backupConstants.hierarchicalLayout.levelSeparation&&e.push("levelSeparation: "+this.constants.hierarchicalLayout.levelSeparation),this.constants.hierarchicalLayout.nodeSpacing!=this.backupConstants.hierarchicalLayout.nodeSpacing&&e.push("nodeSpacing: "+this.constants.hierarchicalLayout.nodeSpacing),0!=e.length){for(var o=0;o<e.length;o++)t+=e[o],o<e.length-1&&(t+=", ");t+="}"}else t+="enabled:true}";t+="};"}this.optionsDiv.innerHTML=t}function r(){var t=["graph_BH_table","graph_R_table","graph_H_table"],e=document.querySelector(\'input[name="graph_physicsMethod"]:checked\').value,i="graph_"+e+"_table",s=document.getElementById(i);s.style.display="block";for(var o=0;o<t.length;o++)t[o]!=i&&(s=document.getElementById(t[o]),s.style.display="none");this._restoreNodes(),"R"==e?(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!1):"H"==e?0==this.constants.hierarchicalLayout.enabled&&(this.constants.hierarchicalLayout.enabled=!0,this.constants.physics.hierarchicalRepulsion.enabled=!0,this.constants.physics.barnesHut.enabled=!1,this.constants.smoothCurves.enabled=!1,this._setupHierarchicalLayout()):(this.constants.hierarchicalLayout.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!1,this.constants.physics.barnesHut.enabled=!0),this._loadSelectedForceSolver();var n=document.getElementById("graph_toggleSmooth");n.style.background=1==this.constants.smoothCurves.enabled?"#A4FF56":"#FF8532",this.moving=!0,this.start()}function a(t,e,i){var s=t+"_value",o=document.getElementById(t).value;Array.isArray(e)?(document.getElementById(s).value=e[parseInt(o)],this._overWriteGraphConstants(i,e[parseInt(o)])):(document.getElementById(s).value=parseInt(e)*parseFloat(o),this._overWriteGraphConstants(i,parseInt(e)*parseFloat(o))),("hierarchicalLayout_direction"==i||"hierarchicalLayout_levelSeparation"==i||"hierarchicalLayout_nodeSpacing"==i)&&this._setupHierarchicalLayout(),this.moving=!0,this.start()}var h=i(1),d=i(68),l=i(69),c=i(70);e._toggleBarnesHut=function(){this.constants.physics.barnesHut.enabled=!this.constants.physics.barnesHut.enabled,this._loadSelectedForceSolver(),this.moving=!0,this.start()},e._loadSelectedForceSolver=function(){1==this.constants.physics.barnesHut.enabled?(this._clearMixin(d),this._clearMixin(l),this.constants.physics.centralGravity=this.constants.physics.barnesHut.centralGravity,this.constants.physics.springLength=this.constants.physics.barnesHut.springLength,this.constants.physics.springConstant=this.constants.physics.barnesHut.springConstant,this.constants.physics.damping=this.constants.physics.barnesHut.damping,this._loadMixin(c)):1==this.constants.physics.hierarchicalRepulsion.enabled?(this._clearMixin(c),this._clearMixin(d),this.constants.physics.centralGravity=this.constants.physics.hierarchicalRepulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.hierarchicalRepulsion.springLength,this.constants.physics.springConstant=this.constants.physics.hierarchicalRepulsion.springConstant,this.constants.physics.damping=this.constants.physics.hierarchicalRepulsion.damping,this._loadMixin(l)):(this._clearMixin(c),this._clearMixin(l),this.barnesHutTree=void 0,this.constants.physics.centralGravity=this.constants.physics.repulsion.centralGravity,this.constants.physics.springLength=this.constants.physics.repulsion.springLength,this.constants.physics.springConstant=this.constants.physics.repulsion.springConstant,this.constants.physics.damping=this.constants.physics.repulsion.damping,this._loadMixin(d))},e._initializeForceCalculation=function(){1==this.nodeIndices.length?this.nodes[this.nodeIndices[0]]._setForce(0,0):(this.nodeIndices.length>this.constants.clustering.clusterThreshold&&1==this.constants.clustering.enabled&&this.clusterToFit(this.constants.clustering.reduceToNodes,!1),this._calculateForces())},e._calculateForces=function(){this._calculateGravitationalForces(),this._calculateNodeForces(),this.constants.physics.springConstant>0&&(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic?this._calculateSpringForcesWithSupport():1==this.constants.physics.hierarchicalRepulsion.enabled?this._calculateHierarchicalSpringForces():this._calculateSpringForces())},e._updateCalculationNodes=function(){if(1==this.constants.smoothCurves.enabled&&1==this.constants.smoothCurves.dynamic){this.calculationNodes={},this.calculationNodeIndices=[];for(var t in this.nodes)this.nodes.hasOwnProperty(t)&&(this.calculationNodes[t]=this.nodes[t]);var e=this.sectors.support.nodes;for(var i in e)e.hasOwnProperty(i)&&(this.edges.hasOwnProperty(e[i].parentEdgeId)?this.calculationNodes[i]=e[i]:e[i]._setForce(0,0));for(var s in this.calculationNodes)this.calculationNodes.hasOwnProperty(s)&&this.calculationNodeIndices.push(s)}else this.calculationNodes=this.nodes,this.calculationNodeIndices=this.nodeIndices},e._calculateGravitationalForces=function(){var t,e,i,s,o,n=this.calculationNodes,r=this.constants.physics.centralGravity,a=0;for(o=0;o<this.calculationNodeIndices.length;o++)s=n[this.calculationNodeIndices[o]],s.damping=this.constants.physics.damping,"default"==this._sector()&&0!=r?(t=-s.x,e=-s.y,i=Math.sqrt(t*t+e*e),a=0==i?0:r/i,s.fx=t*a,s.fy=e*a):(s.fx=0,s.fy=0)},e._calculateSpringForces=function(){var t,e,i,s,o,n,r,a,h,d=this.edges;for(i in d)d.hasOwnProperty(i)&&(e=d[i],e.connected&&this.nodes.hasOwnProperty(e.toId)&&this.nodes.hasOwnProperty(e.fromId)&&(t=e.physics.springLength,t+=(e.to.clusterSize+e.from.clusterSize-2)*this.constants.clustering.edgeGrowth,s=e.from.x-e.to.x,o=e.from.y-e.to.y,h=Math.sqrt(s*s+o*o),0==h&&(h=.01),a=this.constants.physics.springConstant*(t-h)/h,n=s*a,r=o*a,e.from.fx+=n,e.from.fy+=r,e.to.fx-=n,e.to.fy-=r))},e._calculateSpringForcesWithSupport=function(){var t,e,i,s,o=this.edges;for(i in o)if(o.hasOwnProperty(i)&&(e=o[i],e.connected&&this.nodes.hasOwnProperty(e.toId)&&this.nodes.hasOwnProperty(e.fromId)&&null!=e.via)){var n=e.to,r=e.via,a=e.from;t=e.physics.springLength,s=n.clusterSize+a.clusterSize-2,t+=s*this.constants.clustering.edgeGrowth,this._calculateSpringForce(n,r,.5*t),this._calculateSpringForce(r,a,.5*t)}},e._calculateSpringForce=function(t,e,i){var s,o,n,r,a,h;s=t.x-e.x,o=t.y-e.y,h=Math.sqrt(s*s+o*o),0==h&&(h=.01),a=this.constants.physics.springConstant*(i-h)/h,n=s*a,r=o*a,t.fx+=n,t.fy+=r,e.fx-=n,e.fy-=r},e._cleanupPhysicsConfiguration=function(){if(void 0!==this.physicsConfiguration){for(;this.physicsConfiguration.hasChildNodes();)this.physicsConfiguration.removeChild(this.physicsConfiguration.firstChild);this.physicsConfiguration.parentNode.removeChild(this.physicsConfiguration),this.physicsConfiguration=void 0}},e._loadPhysicsConfiguration=function(){if(void 0===this.physicsConfiguration){this.backupConstants={},h.deepExtend(this.backupConstants,this.constants);var t=Math.max(2e4,-1*this.constants.physics.barnesHut.gravitationalConstant*10),e=Math.min(.05,10*this.constants.physics.barnesHut.springConstant),i=["LR","RL","UD","DU"];this.physicsConfiguration=document.createElement("div"),this.physicsConfiguration.className="PhysicsConfiguration",this.physicsConfiguration.innerHTML=\'<table><tr><td><b>Simulation Mode:</b></td></tr><tr><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod1" value="BH" checked="checked">Barnes Hut</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod2" value="R">Repulsion</td><td width="120px"><input type="radio" name="graph_physicsMethod" id="graph_physicsMethod3" value="H">Hierarchical</td></tr></table><table id="graph_BH_table" style="display:none"><tr><td><b>Barnes Hut</b></td></tr><tr><td width="150px">gravitationalConstant</td><td>0</td><td><input type="range" min="0" max="\'+t+\'" value="\'+-1*this.constants.physics.barnesHut.gravitationalConstant+\'" step="25" style="width:300px" id="graph_BH_gc"></td><td  width="50px">-\'+t+\'</td><td><input value="\'+this.constants.physics.barnesHut.gravitationalConstant+\'" id="graph_BH_gc_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="6"  value="\'+this.constants.physics.barnesHut.centralGravity+\'" step="0.05"  style="width:300px" id="graph_BH_cg"></td><td>3</td><td><input value="\'+this.constants.physics.barnesHut.centralGravity+\'" id="graph_BH_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="\'+this.constants.physics.barnesHut.springLength+\'" step="1" style="width:300px" id="graph_BH_sl"></td><td>500</td><td><input value="\'+this.constants.physics.barnesHut.springLength+\'" id="graph_BH_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="\'+e+\'" value="\'+this.constants.physics.barnesHut.springConstant+\'" step="0.0001" style="width:300px" id="graph_BH_sc"></td><td>\'+e+\'</td><td><input value="\'+this.constants.physics.barnesHut.springConstant+\'" id="graph_BH_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="\'+this.constants.physics.barnesHut.damping+\'" step="0.005" style="width:300px" id="graph_BH_damp"></td><td>0.3</td><td><input value="\'+this.constants.physics.barnesHut.damping+\'" id="graph_BH_damp_value" style="width:60px"></td></tr></table><table id="graph_R_table" style="display:none"><tr><td><b>Repulsion</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="\'+this.constants.physics.repulsion.nodeDistance+\'" step="1" style="width:300px" id="graph_R_nd"></td><td width="50px">300</td><td><input value="\'+this.constants.physics.repulsion.nodeDistance+\'" id="graph_R_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="\'+this.constants.physics.repulsion.centralGravity+\'" step="0.05"  style="width:300px" id="graph_R_cg"></td><td>3</td><td><input value="\'+this.constants.physics.repulsion.centralGravity+\'" id="graph_R_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="\'+this.constants.physics.repulsion.springLength+\'" step="1" style="width:300px" id="graph_R_sl"></td><td>500</td><td><input value="\'+this.constants.physics.repulsion.springLength+\'" id="graph_R_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="\'+this.constants.physics.repulsion.springConstant+\'" step="0.001" style="width:300px" id="graph_R_sc"></td><td>0.5</td><td><input value="\'+this.constants.physics.repulsion.springConstant+\'" id="graph_R_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="\'+this.constants.physics.repulsion.damping+\'" step="0.005" style="width:300px" id="graph_R_damp"></td><td>0.3</td><td><input value="\'+this.constants.physics.repulsion.damping+\'" id="graph_R_damp_value" style="width:60px"></td></tr></table><table id="graph_H_table" style="display:none"><tr><td width="150"><b>Hierarchical</b></td></tr><tr><td width="150px">nodeDistance</td><td>0</td><td><input type="range" min="0" max="300" value="\'+this.constants.physics.hierarchicalRepulsion.nodeDistance+\'" step="1" style="width:300px" id="graph_H_nd"></td><td width="50px">300</td><td><input value="\'+this.constants.physics.hierarchicalRepulsion.nodeDistance+\'" id="graph_H_nd_value" style="width:60px"></td></tr><tr><td width="150px">centralGravity</td><td>0</td><td><input type="range" min="0" max="3"  value="\'+this.constants.physics.hierarchicalRepulsion.centralGravity+\'" step="0.05"  style="width:300px" id="graph_H_cg"></td><td>3</td><td><input value="\'+this.constants.physics.hierarchicalRepulsion.centralGravity+\'" id="graph_H_cg_value" style="width:60px"></td></tr><tr><td width="150px">springLength</td><td>0</td><td><input type="range" min="0" max="500" value="\'+this.constants.physics.hierarchicalRepulsion.springLength+\'" step="1" style="width:300px" id="graph_H_sl"></td><td>500</td><td><input value="\'+this.constants.physics.hierarchicalRepulsion.springLength+\'" id="graph_H_sl_value" style="width:60px"></td></tr><tr><td width="150px">springConstant</td><td>0</td><td><input type="range" min="0" max="0.5" value="\'+this.constants.physics.hierarchicalRepulsion.springConstant+\'" step="0.001" style="width:300px" id="graph_H_sc"></td><td>0.5</td><td><input value="\'+this.constants.physics.hierarchicalRepulsion.springConstant+\'" id="graph_H_sc_value" style="width:60px"></td></tr><tr><td width="150px">damping</td><td>0</td><td><input type="range" min="0" max="0.3" value="\'+this.constants.physics.hierarchicalRepulsion.damping+\'" step="0.005" style="width:300px" id="graph_H_damp"></td><td>0.3</td><td><input value="\'+this.constants.physics.hierarchicalRepulsion.damping+\'" id="graph_H_damp_value" style="width:60px"></td></tr><tr><td width="150px">direction</td><td>1</td><td><input type="range" min="0" max="3" value="\'+i.indexOf(this.constants.hierarchicalLayout.direction)+\'" step="1" style="width:300px" id="graph_H_direction"></td><td>4</td><td><input value="\'+this.constants.hierarchicalLayout.direction+\'" id="graph_H_direction_value" style="width:60px"></td></tr><tr><td width="150px">levelSeparation</td><td>1</td><td><input type="range" min="0" max="500" value="\'+this.constants.hierarchicalLayout.levelSeparation+\'" step="1" style="width:300px" id="graph_H_levsep"></td><td>500</td><td><input value="\'+this.constants.hierarchicalLayout.levelSeparation+\'" id="graph_H_levsep_value" style="width:60px"></td></tr><tr><td width="150px">nodeSpacing</td><td>1</td><td><input type="range" min="0" max="500" value="\'+this.constants.hierarchicalLayout.nodeSpacing+\'" step="1" style="width:300px" id="graph_H_nspac"></td><td>500</td><td><input value="\'+this.constants.hierarchicalLayout.nodeSpacing+\'" id="graph_H_nspac_value" style="width:60px"></td></tr></table><table><tr><td><b>Options:</b></td></tr><tr><td width="180px"><input type="button" id="graph_toggleSmooth" value="Toggle smoothCurves" style="width:150px"></td><td width="180px"><input type="button" id="graph_repositionNodes" value="Reinitialize" style="width:150px"></td><td width="180px"><input type="button" id="graph_generateOptions" value="Generate Options" style="width:150px"></td></tr></table>\',\nthis.containerElement.parentElement.insertBefore(this.physicsConfiguration,this.containerElement),this.optionsDiv=document.createElement("div"),this.optionsDiv.style.fontSize="14px",this.optionsDiv.style.fontFamily="verdana",this.containerElement.parentElement.insertBefore(this.optionsDiv,this.containerElement);var d;d=document.getElementById("graph_BH_gc"),d.onchange=a.bind(this,"graph_BH_gc",-1,"physics_barnesHut_gravitationalConstant"),d=document.getElementById("graph_BH_cg"),d.onchange=a.bind(this,"graph_BH_cg",1,"physics_centralGravity"),d=document.getElementById("graph_BH_sc"),d.onchange=a.bind(this,"graph_BH_sc",1,"physics_springConstant"),d=document.getElementById("graph_BH_sl"),d.onchange=a.bind(this,"graph_BH_sl",1,"physics_springLength"),d=document.getElementById("graph_BH_damp"),d.onchange=a.bind(this,"graph_BH_damp",1,"physics_damping"),d=document.getElementById("graph_R_nd"),d.onchange=a.bind(this,"graph_R_nd",1,"physics_repulsion_nodeDistance"),d=document.getElementById("graph_R_cg"),d.onchange=a.bind(this,"graph_R_cg",1,"physics_centralGravity"),d=document.getElementById("graph_R_sc"),d.onchange=a.bind(this,"graph_R_sc",1,"physics_springConstant"),d=document.getElementById("graph_R_sl"),d.onchange=a.bind(this,"graph_R_sl",1,"physics_springLength"),d=document.getElementById("graph_R_damp"),d.onchange=a.bind(this,"graph_R_damp",1,"physics_damping"),d=document.getElementById("graph_H_nd"),d.onchange=a.bind(this,"graph_H_nd",1,"physics_hierarchicalRepulsion_nodeDistance"),d=document.getElementById("graph_H_cg"),d.onchange=a.bind(this,"graph_H_cg",1,"physics_centralGravity"),d=document.getElementById("graph_H_sc"),d.onchange=a.bind(this,"graph_H_sc",1,"physics_springConstant"),d=document.getElementById("graph_H_sl"),d.onchange=a.bind(this,"graph_H_sl",1,"physics_springLength"),d=document.getElementById("graph_H_damp"),d.onchange=a.bind(this,"graph_H_damp",1,"physics_damping"),d=document.getElementById("graph_H_direction"),d.onchange=a.bind(this,"graph_H_direction",i,"hierarchicalLayout_direction"),d=document.getElementById("graph_H_levsep"),d.onchange=a.bind(this,"graph_H_levsep",1,"hierarchicalLayout_levelSeparation"),d=document.getElementById("graph_H_nspac"),d.onchange=a.bind(this,"graph_H_nspac",1,"hierarchicalLayout_nodeSpacing");var l=document.getElementById("graph_physicsMethod1"),c=document.getElementById("graph_physicsMethod2"),p=document.getElementById("graph_physicsMethod3");c.checked=!0,this.constants.physics.barnesHut.enabled&&(l.checked=!0),this.constants.hierarchicalLayout.enabled&&(p.checked=!0);var u=document.getElementById("graph_toggleSmooth"),m=document.getElementById("graph_repositionNodes"),f=document.getElementById("graph_generateOptions");u.onclick=s.bind(this),m.onclick=o.bind(this),f.onclick=n.bind(this),u.style.background=1==this.constants.smoothCurves&&0==this.constants.dynamicSmoothCurves?"#A4FF56":"#FF8532",r.apply(this),l.onchange=r.bind(this),c.onchange=r.bind(this),p.onchange=r.bind(this)}},e._overWriteGraphConstants=function(t,e){var i=t.split("_");1==i.length?this.constants[i[0]]=e:2==i.length?this.constants[i[0]][i[1]]=e:3==i.length&&(this.constants[i[0]][i[1]][i[2]]=e)}},function(t,e,i){e.startWithClustering=function(){this.clusterToFit(this.constants.clustering.initialMaxNodes,!0),this.updateLabels(),1==this.constants.stabilize&&this._stabilize(),this.start()},e.clusterToFit=function(t,e){for(var i=this.nodeIndices.length,s=50,o=0;i>t&&s>o;)o%3==0?(this.forceAggregateHubs(!0),this.normalizeClusterLevels()):this.increaseClusterLevel(),this.forceAggregateHubs(!0),i=this.nodeIndices.length,o+=1;o>0&&1==e&&this.repositionNodes(),this._updateCalculationNodes()},e.openCluster=function(t){var e=this.moving;if(t.clusterSize>this.constants.clustering.sectorThreshold&&this._nodeInActiveArea(t)&&("default"!=this._sector()||1!=this.nodeIndices.length)){this._addSector(t);for(var i=0;this.nodeIndices.length<this.constants.clustering.initialMaxNodes&&10>i;)this.decreaseClusterLevel(),i+=1}else this._expandClusterNode(t,!1,!0),this._updateNodeIndexList(),this._updateCalculationNodes(),this.updateLabels();this.moving!=e&&this.start()},e.updateClustersDefault=function(){1==this.constants.clustering.enabled&&1==this.constants.clustering.clusterByZoom&&this.updateClusters(0,!1,!1)},e.increaseClusterLevel=function(){this.updateClusters(-1,!1,!0)},e.decreaseClusterLevel=function(){this.updateClusters(1,!1,!0)},e.updateClusters=function(t,e,i,s){var o=this.moving,n=this.nodeIndices.length,r=this.previousScale<this.scale&&0==t,a=this.previousScale>this.scale&&0==t;1==a&&this._collapseSector(),1==a||-1==t?this._formClusters(i):(1==r||1==t)&&(1==i?this._openClusters(e,i):this._openClusters(e,!1)),this._updateNodeIndexList(),this.nodeIndices.length!=n||1!=a&&-1!=t||(this._aggregateHubs(i),this._updateNodeIndexList()),(1==a||-1==t)&&(this.handleChains(),this._updateNodeIndexList()),this.previousScale=this.scale,this.updateLabels(),this.nodeIndices.length<n&&(this.clusterSession+=1,this.normalizeClusterLevels()),(0==s||void 0===s)&&this.moving!=o&&this.start(),this._updateCalculationNodes()},e.handleChains=function(){var t=this._getChainFraction();t>this.constants.clustering.chainThreshold&&this._reduceAmountOfChains(1-this.constants.clustering.chainThreshold/t)},e._aggregateHubs=function(t){this._getHubSize(),this._formClustersByHub(t,!1)},e.forceAggregateHubs=function(t){var e=this.moving,i=this.nodeIndices.length;this._aggregateHubs(!0),this._updateNodeIndexList(),this.updateLabels(),this._updateCalculationNodes(),this.nodeIndices.length!=i&&(this.clusterSession+=1),(0==t||void 0===t)&&this.moving!=e&&this.start()},e._openClustersBySize=function(){if(1==this.constants.clustering.clusterByZoom)for(var t in this.nodes)if(this.nodes.hasOwnProperty(t)){var e=this.nodes[t];1==e.inView()&&(e.width*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||e.height*this.scale>this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)&&this.openCluster(e)}},e._openClusters=function(t,e){for(var i=0;i<this.nodeIndices.length;i++){var s=this.nodes[this.nodeIndices[i]];this._expandClusterNode(s,t,e),this._updateCalculationNodes()}},e._expandClusterNode=function(t,e,i,s){if(t.clusterSize>1&&(void 0===s&&(s=!1),e=s||e,t.formationScale<this.scale||1==i))for(var o in t.containedNodes)if(t.containedNodes.hasOwnProperty(o)){var n=t.containedNodes[o];1==i?(n.clusterSession==t.clusterSessions[t.clusterSessions.length-1]||s)&&this._expelChildFromParent(t,o,e,i,s):this._nodeInActiveArea(t)&&this._expelChildFromParent(t,o,e,i,s)}},e._expelChildFromParent=function(t,e,i,s,o){var n=t.containedNodes[e];if(n.formationScale<this.scale||1==s){this._unselectAll(),this.nodes[e]=n,this._releaseContainedEdges(t,n),this._connectEdgeBackToChild(t,n),this._validateEdges(t),t.options.mass-=n.options.mass,t.clusterSize-=n.clusterSize,t.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*(t.clusterSize-1)),n.x=t.x+t.growthIndicator*(.5-Math.random()),n.y=t.y+t.growthIndicator*(.5-Math.random()),delete t.containedNodes[e];var r=!1;for(var a in t.containedNodes)if(t.containedNodes.hasOwnProperty(a)&&t.containedNodes[a].clusterSession==n.clusterSession){r=!0;break}0==r&&t.clusterSessions.pop(),this._repositionBezierNodes(n),n.clusterSession=0,t.clearSizeCache(),this.moving=!0}1==i&&this._expandClusterNode(n,i,s,o)},e._repositionBezierNodes=function(t){for(var e=0;e<t.dynamicEdges.length;e++)t.dynamicEdges[e].positionBezierNode()},e._formClusters=function(t){0==t?1==this.constants.clustering.clusterByZoom&&this._formClustersByZoom():this._forceClustersByZoom()},e._formClustersByZoom=function(){var t,e,i,s=this.constants.clustering.clusterEdgeThreshold/this.scale;for(var o in this.edges)if(this.edges.hasOwnProperty(o)){var n=this.edges[o];if(n.connected&&n.toId!=n.fromId&&(t=n.to.x-n.from.x,e=n.to.y-n.from.y,i=Math.sqrt(t*t+e*e),s>i)){var r=n.from,a=n.to;n.to.options.mass>n.from.options.mass&&(r=n.to,a=n.from),1==a.dynamicEdges.length?this._addToCluster(r,a,!1):1==r.dynamicEdges.length&&this._addToCluster(a,r,!1)}}},e._forceClustersByZoom=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t)){var e=this.nodes[t];if(1==e.dynamicEdges.length){var i=e.dynamicEdges[0],s=i.toId==e.id?this.nodes[i.fromId]:this.nodes[i.toId];e.id!=s.id&&(s.options.mass>e.options.mass?this._addToCluster(s,e,!0):this._addToCluster(e,s,!0))}}},e._clusterToSmallestNeighbour=function(t){for(var e=-1,i=null,s=0;s<t.dynamicEdges.length;s++)if(void 0!==t.dynamicEdges[s]){var o=null;t.dynamicEdges[s].fromId!=t.id?o=t.dynamicEdges[s].from:t.dynamicEdges[s].toId!=t.id&&(o=t.dynamicEdges[s].to),null!=o&&e>o.clusterSessions.length&&(e=o.clusterSessions.length,i=o)}null!=o&&void 0!==this.nodes[o.id]&&this._addToCluster(o,t,!0)},e._formClustersByHub=function(t,e){for(var i in this.nodes)this.nodes.hasOwnProperty(i)&&this._formClusterFromHub(this.nodes[i],t,e)},e._formClusterFromHub=function(t,e,i,s){if(void 0===s&&(s=0),t.dynamicEdges.length>=this.hubThreshold&&0==i||t.dynamicEdges.length==this.hubThreshold&&1==i){for(var o,n,r,a=this.constants.clustering.clusterEdgeThreshold/this.scale,h=!1,d=[],l=t.dynamicEdges.length,c=0;l>c;c++)d.push(t.dynamicEdges[c].id);if(0==e)for(h=!1,c=0;l>c;c++){var p=this.edges[d[c]];if(void 0!==p&&p.connected&&p.toId!=p.fromId&&(o=p.to.x-p.from.x,n=p.to.y-p.from.y,r=Math.sqrt(o*o+n*n),a>r)){h=!0;break}}if(!e&&h||e){var u=[],m={};for(c=0;l>c;c++){p=this.edges[d[c]];var f=this.nodes[p.fromId==t.id?p.toId:p.fromId];void 0===m[f.id]&&(m[f.id]=!0,u.push(f))}for(c=0;c<u.length;c++){var f=u[c];f.dynamicEdges.length<=this.hubThreshold+s&&f.id!=t.id&&this._addToCluster(t,f,e)}}}},e._addToCluster=function(t,e,i){t.containedNodes[e.id]=e;for(var s=0;s<e.dynamicEdges.length;s++){var o=e.dynamicEdges[s];o.toId==t.id||o.fromId==t.id?this._addToContainedEdges(t,e,o):this._connectEdgeToCluster(t,e,o)}e.dynamicEdges=[],this._containCircularEdgesFromNode(t,e),delete this.nodes[e.id];var n=t.options.mass;e.clusterSession=this.clusterSession,t.options.mass+=e.options.mass,t.clusterSize+=e.clusterSize,t.options.fontSize=Math.min(this.constants.clustering.maxFontSize,this.constants.nodes.fontSize+this.constants.clustering.fontSizeMultiplier*t.clusterSize),t.clusterSessions[t.clusterSessions.length-1]!=this.clusterSession&&t.clusterSessions.push(this.clusterSession),t.formationScale=1==i?0:this.scale,t.clearSizeCache(),t.containedNodes[e.id].formationScale=t.formationScale,e.clearVelocity(),t.updateVelocity(n),this.moving=!0},e._addToContainedEdges=function(t,e,i){void 0===t.containedEdges[e.id]&&(t.containedEdges[e.id]=[]),t.containedEdges[e.id].push(i),delete this.edges[i.id];for(var s=0;s<t.dynamicEdges.length;s++)if(t.dynamicEdges[s].id==i.id){t.dynamicEdges.splice(s,1);break}},e._connectEdgeToCluster=function(t,e,i){i.toId==i.fromId?this._addToContainedEdges(t,e,i):(i.toId==e.id?(i.originalToId.push(e.id),i.to=t,i.toId=t.id):(i.originalFromId.push(e.id),i.from=t,i.fromId=t.id),this._addToReroutedEdges(t,e,i))},e._containCircularEdgesFromNode=function(t,e){for(var i=0;i<t.dynamicEdges.length;i++){var s=t.dynamicEdges[i];s.toId==s.fromId&&this._addToContainedEdges(t,e,s)}},e._addToReroutedEdges=function(t,e,i){t.reroutedEdges.hasOwnProperty(e.id)||(t.reroutedEdges[e.id]=[]),t.reroutedEdges[e.id].push(i),t.dynamicEdges.push(i)},e._connectEdgeBackToChild=function(t,e){if(t.reroutedEdges.hasOwnProperty(e.id)){for(var i=0;i<t.reroutedEdges[e.id].length;i++){var s=t.reroutedEdges[e.id][i];s.originalFromId[s.originalFromId.length-1]==e.id?(s.originalFromId.pop(),s.fromId=e.id,s.from=e):(s.originalToId.pop(),s.toId=e.id,s.to=e),e.dynamicEdges.push(s);for(var o=0;o<t.dynamicEdges.length;o++)if(t.dynamicEdges[o].id==s.id){t.dynamicEdges.splice(o,1);break}}delete t.reroutedEdges[e.id]}},e._validateEdges=function(t){for(var e=[],i=0;i<t.dynamicEdges.length;i++){var s=t.dynamicEdges[i];(t.id==s.toId||t.id==s.fromId)&&e.push(s)}t.dynamicEdges=e},e._releaseContainedEdges=function(t,e){for(var i=0;i<t.containedEdges[e.id].length;i++){var s=t.containedEdges[e.id][i];this.edges[s.id]=s,e.dynamicEdges.push(s),t.dynamicEdges.push(s)}delete t.containedEdges[e.id]},e.updateLabels=function(){var t;for(t in this.nodes)if(this.nodes.hasOwnProperty(t)){var e=this.nodes[t];e.clusterSize>1&&(e.label="[".concat(String(e.clusterSize),"]"))}for(t in this.nodes)this.nodes.hasOwnProperty(t)&&(e=this.nodes[t],1==e.clusterSize&&(e.label=void 0!==e.originalLabel?e.originalLabel:String(e.id)))},e.normalizeClusterLevels=function(){var t,e=0,i=1e9,s=0;for(t in this.nodes)this.nodes.hasOwnProperty(t)&&(s=this.nodes[t].clusterSessions.length,s>e&&(e=s),i>s&&(i=s));if(e-i>this.constants.clustering.clusterLevelDifference){var o=this.nodeIndices.length,n=e-this.constants.clustering.clusterLevelDifference;for(t in this.nodes)this.nodes.hasOwnProperty(t)&&this.nodes[t].clusterSessions.length<n&&this._clusterToSmallestNeighbour(this.nodes[t]);this._updateNodeIndexList(),this.nodeIndices.length!=o&&(this.clusterSession+=1)}},e._nodeInActiveArea=function(t){return Math.abs(t.x-this.areaCenter.x)<=this.constants.clustering.activeAreaBoxSize/this.scale&&Math.abs(t.y-this.areaCenter.y)<=this.constants.clustering.activeAreaBoxSize/this.scale},e.repositionNodes=function(){for(var t=0;t<this.nodeIndices.length;t++){var e=this.nodes[this.nodeIndices[t]];if(0==e.xFixed||0==e.yFixed){var i=1*this.nodeIndices.length*Math.min(100,e.options.mass),s=2*Math.PI*Math.random();0==e.xFixed&&(e.x=i*Math.cos(s)),0==e.yFixed&&(e.y=i*Math.sin(s)),this._repositionBezierNodes(e)}}},e._getHubSize=function(){for(var t=0,e=0,i=0,s=0,o=0;o<this.nodeIndices.length;o++){var n=this.nodes[this.nodeIndices[o]];n.dynamicEdges.length>s&&(s=n.dynamicEdges.length),t+=n.dynamicEdges.length,e+=Math.pow(n.dynamicEdges.length,2),i+=1}t/=i,e/=i;var r=e-Math.pow(t,2),a=Math.sqrt(r);this.hubThreshold=Math.floor(t+2*a),this.hubThreshold>s&&(this.hubThreshold=s)},e._reduceAmountOfChains=function(t){this.hubThreshold=2;var e=Math.floor(this.nodeIndices.length*t);for(var i in this.nodes)this.nodes.hasOwnProperty(i)&&2==this.nodes[i].dynamicEdges.length&&e>0&&(this._formClusterFromHub(this.nodes[i],!0,!0,1),e-=1)},e._getChainFraction=function(){var t=0,e=0;for(var i in this.nodes)this.nodes.hasOwnProperty(i)&&(2==this.nodes[i].dynamicEdges.length&&(t+=1),e+=1);return t/e}},function(t,e,i){var s=i(1),o=i(40);e._putDataInSector=function(){this.sectors.active[this._sector()].nodes=this.nodes,this.sectors.active[this._sector()].edges=this.edges,this.sectors.active[this._sector()].nodeIndices=this.nodeIndices},e._switchToSector=function(t,e){void 0===e||"active"==e?this._switchToActiveSector(t):this._switchToFrozenSector(t)},e._switchToActiveSector=function(t){this.nodeIndices=this.sectors.active[t].nodeIndices,this.nodes=this.sectors.active[t].nodes,this.edges=this.sectors.active[t].edges},e._switchToSupportSector=function(){this.nodeIndices=this.sectors.support.nodeIndices,this.nodes=this.sectors.support.nodes,this.edges=this.sectors.support.edges},e._switchToFrozenSector=function(t){this.nodeIndices=this.sectors.frozen[t].nodeIndices,this.nodes=this.sectors.frozen[t].nodes,this.edges=this.sectors.frozen[t].edges},e._loadLatestSector=function(){this._switchToSector(this._sector())},e._sector=function(){return this.activeSector[this.activeSector.length-1]},e._previousSector=function(){if(this.activeSector.length>1)return this.activeSector[this.activeSector.length-2];throw new TypeError("there are not enough sectors in the this.activeSector array.")},e._setActiveSector=function(t){this.activeSector.push(t)},e._forgetLastSector=function(){this.activeSector.pop()},e._createNewSector=function(t){this.sectors.active[t]={nodes:{},edges:{},nodeIndices:[],formationScale:this.scale,drawingNode:void 0},this.sectors.active[t].drawingNode=new o({id:t,color:{background:"#eaefef",border:"495c5e"}},{},{},this.constants),this.sectors.active[t].drawingNode.clusterSize=2},e._deleteActiveSector=function(t){delete this.sectors.active[t]},e._deleteFrozenSector=function(t){delete this.sectors.frozen[t]},e._freezeSector=function(t){this.sectors.frozen[t]=this.sectors.active[t],this._deleteActiveSector(t)},e._activateSector=function(t){this.sectors.active[t]=this.sectors.frozen[t],this._deleteFrozenSector(t)},e._mergeThisWithFrozen=function(t){for(var e in this.nodes)this.nodes.hasOwnProperty(e)&&(this.sectors.frozen[t].nodes[e]=this.nodes[e]);for(var i in this.edges)this.edges.hasOwnProperty(i)&&(this.sectors.frozen[t].edges[i]=this.edges[i]);for(var s=0;s<this.nodeIndices.length;s++)this.sectors.frozen[t].nodeIndices.push(this.nodeIndices[s])},e._collapseThisToSingleCluster=function(){this.clusterToFit(1,!1)},e._addSector=function(t){var e=this._sector();delete this.nodes[t.id];var i=s.randomUUID();this._freezeSector(e),this._createNewSector(i),this._setActiveSector(i),this._switchToSector(this._sector()),this.nodes[t.id]=t},e._collapseSector=function(){var t=this._sector();if("default"!=t&&(1==this.nodeIndices.length||this.sectors.active[t].drawingNode.width*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientWidth||this.sectors.active[t].drawingNode.height*this.scale<this.constants.clustering.screenSizeThreshold*this.frame.canvas.clientHeight)){var e=this._previousSector();this._collapseThisToSingleCluster(),this._mergeThisWithFrozen(e),this._deleteActiveSector(t),this._activateSector(e),this._switchToSector(e),this._forgetLastSector(),this._updateNodeIndexList(),this._updateCalculationNodes()}},e._doInAllActiveSectors=function(t,e){var i=[];if(void 0===e)for(var s in this.sectors.active)this.sectors.active.hasOwnProperty(s)&&(this._switchToActiveSector(s),i.push(this[t]()));else for(var s in this.sectors.active)if(this.sectors.active.hasOwnProperty(s)){this._switchToActiveSector(s);var o=Array.prototype.splice.call(arguments,1);i.push(o.length>1?this[t](o[0],o[1]):this[t](e))}return this._loadLatestSector(),i},e._doInSupportSector=function(t,e){var i=!1;if(void 0===e)this._switchToSupportSector(),i=this[t]();else{this._switchToSupportSector();var s=Array.prototype.splice.call(arguments,1);i=s.length>1?this[t](s[0],s[1]):this[t](e)}return this._loadLatestSector(),i},e._doInAllFrozenSectors=function(t,e){if(void 0===e)for(var i in this.sectors.frozen)this.sectors.frozen.hasOwnProperty(i)&&(this._switchToFrozenSector(i),this[t]());else for(var i in this.sectors.frozen)if(this.sectors.frozen.hasOwnProperty(i)){this._switchToFrozenSector(i);var s=Array.prototype.splice.call(arguments,1);s.length>1?this[t](s[0],s[1]):this[t](e)}this._loadLatestSector()},e._doInAllSectors=function(t,e){var i=Array.prototype.splice.call(arguments,1);void 0===e?(this._doInAllActiveSectors(t),this._doInAllFrozenSectors(t)):i.length>1?(this._doInAllActiveSectors(t,i[0],i[1]),this._doInAllFrozenSectors(t,i[0],i[1])):(this._doInAllActiveSectors(t,e),this._doInAllFrozenSectors(t,e))},e._clearNodeIndexList=function(){var t=this._sector();this.sectors.active[t].nodeIndices=[],this.nodeIndices=this.sectors.active[t].nodeIndices},e._drawSectorNodes=function(t,e){var i,s=1e9,o=-1e9,n=1e9,r=-1e9;for(var a in this.sectors[e])if(this.sectors[e].hasOwnProperty(a)&&void 0!==this.sectors[e][a].drawingNode){this._switchToSector(a,e),s=1e9,o=-1e9,n=1e9,r=-1e9;for(var h in this.nodes)this.nodes.hasOwnProperty(h)&&(i=this.nodes[h],i.resize(t),n>i.x-.5*i.width&&(n=i.x-.5*i.width),r<i.x+.5*i.width&&(r=i.x+.5*i.width),s>i.y-.5*i.height&&(s=i.y-.5*i.height),o<i.y+.5*i.height&&(o=i.y+.5*i.height));i=this.sectors[e][a].drawingNode,i.x=.5*(r+n),i.y=.5*(o+s),i.width=2*(i.x-n),i.height=2*(i.y-s),i.options.radius=Math.sqrt(Math.pow(.5*i.width,2)+Math.pow(.5*i.height,2)),i.setScale(this.scale),i._drawCircle(t)}},e._drawAllSectorNodes=function(t){this._drawSectorNodes(t,"frozen"),this._drawSectorNodes(t,"active"),this._loadLatestSector()}},function(t,e,i){var s=i(40);e._getNodesOverlappingWith=function(t,e){var i=this.nodes;for(var s in i)i.hasOwnProperty(s)&&i[s].isOverlappingWith(t)&&e.push(s)},e._getAllNodesOverlappingWith=function(t){var e=[];return this._doInAllActiveSectors("_getNodesOverlappingWith",t,e),e},e._pointerToPositionObject=function(t){var e=this._XconvertDOMtoCanvas(t.x),i=this._YconvertDOMtoCanvas(t.y);return{left:e,top:i,right:e,bottom:i}},e._getNodeAt=function(t){var e=this._pointerToPositionObject(t),i=this._getAllNodesOverlappingWith(e);return i.length>0?this.nodes[i[i.length-1]]:null},e._getEdgesOverlappingWith=function(t,e){var i=this.edges;for(var s in i)i.hasOwnProperty(s)&&i[s].isOverlappingWith(t)&&e.push(s)},e._getAllEdgesOverlappingWith=function(t){var e=[];return this._doInAllActiveSectors("_getEdgesOverlappingWith",t,e),e},e._getEdgeAt=function(t){var e=this._pointerToPositionObject(t),i=this._getAllEdgesOverlappingWith(e);return i.length>0?this.edges[i[i.length-1]]:null},e._addToSelection=function(t){t instanceof s?this.selectionObj.nodes[t.id]=t:this.selectionObj.edges[t.id]=t},e._addToHover=function(t){t instanceof s?this.hoverObj.nodes[t.id]=t:this.hoverObj.edges[t.id]=t},e._removeFromSelection=function(t){t instanceof s?delete this.selectionObj.nodes[t.id]:delete this.selectionObj.edges[t.id]},e._unselectAll=function(t){void 0===t&&(t=!1);for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].unselect();for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&this.selectionObj.edges[i].unselect();this.selectionObj={nodes:{},edges:{}},0==t&&this.emit("select",this.getSelection())},e._unselectClusters=function(t){void 0===t&&(t=!1);for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&this.selectionObj.nodes[e].clusterSize>1&&(this.selectionObj.nodes[e].unselect(),this._removeFromSelection(this.selectionObj.nodes[e]));0==t&&this.emit("select",this.getSelection())},e._getSelectedNodeCount=function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);return t},e._getSelectedNode=function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return this.selectionObj.nodes[t];return null},e._getSelectedEdge=function(){for(var t in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(t))return this.selectionObj.edges[t];return null},e._getSelectedEdgeCount=function(){var t=0;for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(t+=1);return t},e._getSelectedObjectCount=function(){var t=0;for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&(t+=1);for(var i in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(i)&&(t+=1);return t},e._selectionIsEmpty=function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t))return!1;for(var e in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(e))return!1;return!0},e._clusterInSelection=function(){for(var t in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(t)&&this.selectionObj.nodes[t].clusterSize>1)return!0;return!1},e._selectConnectedEdges=function(t){for(var e=0;e<t.dynamicEdges.length;e++){var i=t.dynamicEdges[e];i.select(),this._addToSelection(i)}},e._hoverConnectedEdges=function(t){for(var e=0;e<t.dynamicEdges.length;e++){var i=t.dynamicEdges[e];i.hover=!0,this._addToHover(i)}},e._unselectConnectedEdges=function(t){for(var e=0;e<t.dynamicEdges.length;e++){var i=t.dynamicEdges[e];i.unselect(),this._removeFromSelection(i)}},e._selectObject=function(t,e,i,o,n){void 0===i&&(i=!1),void 0===o&&(o=!0),0==this._selectionIsEmpty()&&0==e&&0==this.forceAppendSelection&&this._unselectAll(!0),0!=t.selected||1!=this.constants.selectable&&!n?0==t.selected?(this._addToSelection(t),i=!0):(t.unselect(),this._removeFromSelection(t)):(t.select(),this._addToSelection(t),t instanceof s&&0==this.blockConnectingEdgeSelection&&1==o&&this._selectConnectedEdges(t)),0==i&&this.emit("select",this.getSelection())},e._blurObject=function(t){1==t.hover&&(t.hover=!1,this.emit("blurNode",{node:t.id}))},e._hoverObject=function(t){0==t.hover&&(t.hover=!0,this._addToHover(t),t instanceof s&&this.emit("hoverNode",{node:t.id})),t instanceof s&&this._hoverConnectedEdges(t)},e._handleTouch=function(t){},e._handleTap=function(t){var e=this._getNodeAt(t);if(null!=e)this._selectObject(e,!1);else{var i=this._getEdgeAt(t);null!=i?this._selectObject(i,!1):this._unselectAll()}var s=this.getSelection();s.pointer={DOM:{x:t.x,y:t.y},canvas:{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}},this.emit("click",s),this._requestRedraw()},e._handleDoubleTap=function(t){var e=this._getNodeAt(t);null!=e&&void 0!==e&&(this.areaCenter={x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)},this.openCluster(e));var i=this.getSelection();i.pointer={DOM:{x:t.x,y:t.y},canvas:{x:this._XconvertDOMtoCanvas(t.x),y:this._YconvertDOMtoCanvas(t.y)}},this.emit("doubleClick",i)},e._handleOnHold=function(t){var e=this._getNodeAt(t);if(null!=e)this._selectObject(e,!0);else{var i=this._getEdgeAt(t);null!=i&&this._selectObject(i,!0)}this._requestRedraw()},e._handleOnRelease=function(t){this._manipulationReleaseOverload(t),this._navigationReleaseOverload(t)},e._manipulationReleaseOverload=function(t){},e._navigationReleaseOverload=function(t){},e.getSelection=function(){var t=this.getSelectedNodes(),e=this.getSelectedEdges();return{nodes:t,edges:e}},e.getSelectedNodes=function(){var t=[];if(1==this.constants.selectable)for(var e in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(e)&&t.push(e);return t},e.getSelectedEdges=function(){var t=[];if(1==this.constants.selectable)for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&t.push(e);return t},e.setSelection=function(){console.log("setSelection is deprecated. Please use selectNodes instead.")},e.selectNodes=function(t,e){var i,s,o;if(!t||void 0==t.length)throw"Selection must be an array with ids";for(this._unselectAll(!0),i=0,s=t.length;s>i;i++){o=t[i];var n=this.nodes[o];if(!n)throw new RangeError(\'Node with id "\'+o+\'" not found\');this._selectObject(n,!0,!0,e,!0)}this.redraw()},e.selectEdges=function(t){var e,i,s;if(!t||void 0==t.length)throw"Selection must be an array with ids";for(this._unselectAll(!0),e=0,i=t.length;i>e;e++){s=t[e];var o=this.edges[s];if(!o)throw new RangeError(\'Edge with id "\'+s+\'" not found\');this._selectObject(o,!0,!0,!1,!0)}this.redraw()},e._updateSelection=function(){for(var t in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(t)&&(this.nodes.hasOwnProperty(t)||delete this.selectionObj.nodes[t]);for(var e in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(e)&&(this.edges.hasOwnProperty(e)||delete this.selectionObj.edges[e])}},function(t,e,i){var s=i(1),o=i(40),n=i(37),r=i(45);e._clearManipulatorBar=function(){this._recursiveDOMDelete(this.manipulationDiv),this.manipulationDOM={},this._cleanManipulatorHammers(),this._manipulationReleaseOverload=function(){},delete this.sectors.support.nodes.targetNode,delete this.sectors.support.nodes.targetViaNode,this.controlNodesActive=!1,this.freezeSimulation(!1)},e._cleanManipulatorHammers=function(){if(0!=this.manipulationHammers.length){for(var t=0;t<this.manipulationHammers.length;t++)this.manipulationHammers[t].dispose();this.manipulationHammers=[]}},e._restoreOverloadedFunctions=function(){for(var t in this.cachedFunctions)this.cachedFunctions.hasOwnProperty(t)&&(this[t]=this.cachedFunctions[t],delete this.cachedFunctions[t])},e._toggleEditMode=function(){this.editMode=!this.editMode;var t=this.manipulationDiv,e=this.closeDiv,i=this.editModeDiv;1==this.editMode?(t.style.display="block",e.style.display="block",i.style.display="none",this._bindHammerToDiv(e,"_toggleEditMode")):(t.style.display="none",e.style.display="none",i.style.display="block"),this._createManipulatorBar()},e._createManipulatorBar=function(){this.boundFunction&&this.off("select",this.boundFunction),this._cleanManipulatorHammers();var t=this.constants.locales[this.constants.locale];if(void 0!==this.edgeBeingEdited&&(this.edgeBeingEdited._disableControlNodes(),this.edgeBeingEdited=void 0,this.selectedControlNode=null,this.controlNodesActive=!1,this._redraw()),this._restoreOverloadedFunctions(),this.freezeSimulation(!1),this.blockConnectingEdgeSelection=!1,this.forceAppendSelection=!1,this.manipulationDOM={},1==this.editMode){for(;this.manipulationDiv.hasChildNodes();)this.manipulationDiv.removeChild(this.manipulationDiv.firstChild);this.manipulationDOM.addNodeSpan=document.createElement("div"),this.manipulationDOM.addNodeSpan.className="network-manipulationUI add",this.manipulationDOM.addNodeLabelSpan=document.createElement("div"),this.manipulationDOM.addNodeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.addNodeLabelSpan.innerHTML=t.addNode,this.manipulationDOM.addNodeSpan.appendChild(this.manipulationDOM.addNodeLabelSpan),this.manipulationDOM.seperatorLineDiv1=document.createElement("div"),this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine",this.manipulationDOM.addEdgeSpan=document.createElement("div"),this.manipulationDOM.addEdgeSpan.className="network-manipulationUI connect",this.manipulationDOM.addEdgeLabelSpan=document.createElement("div"),this.manipulationDOM.addEdgeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.addEdgeLabelSpan.innerHTML=t.addEdge,this.manipulationDOM.addEdgeSpan.appendChild(this.manipulationDOM.addEdgeLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.addNodeSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1),this.manipulationDiv.appendChild(this.manipulationDOM.addEdgeSpan),1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?(this.manipulationDOM.seperatorLineDiv2=document.createElement("div"),this.manipulationDOM.seperatorLineDiv2.className="network-seperatorLine",this.manipulationDOM.editNodeSpan=document.createElement("div"),this.manipulationDOM.editNodeSpan.className="network-manipulationUI edit node",this.manipulationDOM.editNodeLabelSpan=document.createElement("div"),this.manipulationDOM.editNodeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.editNodeLabelSpan.innerHTML=t.editNode,this.manipulationDOM.editNodeSpan.appendChild(this.manipulationDOM.editNodeLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv2),this.manipulationDiv.appendChild(this.manipulationDOM.editNodeSpan)):1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&(this.manipulationDOM.seperatorLineDiv3=document.createElement("div"),this.manipulationDOM.seperatorLineDiv3.className="network-seperatorLine",this.manipulationDOM.editEdgeSpan=document.createElement("div"),this.manipulationDOM.editEdgeSpan.className="network-manipulationUI edit edge",this.manipulationDOM.editEdgeLabelSpan=document.createElement("div"),this.manipulationDOM.editEdgeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.editEdgeLabelSpan.innerHTML=t.editEdge,this.manipulationDOM.editEdgeSpan.appendChild(this.manipulationDOM.editEdgeLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv3),this.manipulationDiv.appendChild(this.manipulationDOM.editEdgeSpan)),0==this._selectionIsEmpty()&&(this.manipulationDOM.seperatorLineDiv4=document.createElement("div"),this.manipulationDOM.seperatorLineDiv4.className="network-seperatorLine",this.manipulationDOM.deleteSpan=document.createElement("div"),this.manipulationDOM.deleteSpan.className="network-manipulationUI delete",this.manipulationDOM.deleteLabelSpan=document.createElement("div"),this.manipulationDOM.deleteLabelSpan.className="network-manipulationLabel",this.manipulationDOM.deleteLabelSpan.innerHTML=t.del,this.manipulationDOM.deleteSpan.appendChild(this.manipulationDOM.deleteLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv4),\nthis.manipulationDiv.appendChild(this.manipulationDOM.deleteSpan)),this._bindHammerToDiv(this.manipulationDOM.addNodeSpan,"_createAddNodeToolbar"),this._bindHammerToDiv(this.manipulationDOM.addEdgeSpan,"_createAddEdgeToolbar"),this._bindHammerToDiv(this.closeDiv,"_toggleEditMode"),1==this._getSelectedNodeCount()&&this.triggerFunctions.edit?this._bindHammerToDiv(this.manipulationDOM.editNodeSpan,"_editNode"):1==this._getSelectedEdgeCount()&&0==this._getSelectedNodeCount()&&this._bindHammerToDiv(this.manipulationDOM.editEdgeSpan,"_createEditEdgeToolbar"),0==this._selectionIsEmpty()&&this._bindHammerToDiv(this.manipulationDOM.deleteSpan,"_deleteSelected");var e=this;this.boundFunction=e._createManipulatorBar,this.on("select",this.boundFunction)}else{for(;this.editModeDiv.hasChildNodes();)this.editModeDiv.removeChild(this.editModeDiv.firstChild);this.manipulationDOM.editModeSpan=document.createElement("div"),this.manipulationDOM.editModeSpan.className="network-manipulationUI edit editmode",this.manipulationDOM.editModeLabelSpan=document.createElement("div"),this.manipulationDOM.editModeLabelSpan.className="network-manipulationLabel",this.manipulationDOM.editModeLabelSpan.innerHTML=t.edit,this.manipulationDOM.editModeSpan.appendChild(this.manipulationDOM.editModeLabelSpan),this.editModeDiv.appendChild(this.manipulationDOM.editModeSpan),this._bindHammerToDiv(this.manipulationDOM.editModeSpan,"_toggleEditMode")}},e._bindHammerToDiv=function(t,e){var i=r(t,{prevent_default:!0});i.on("touch",this[e].bind(this)),this.manipulationHammers.push(i)},e._createAddNodeToolbar=function(){this._clearManipulatorBar(),this.boundFunction&&this.off("select",this.boundFunction);var t=this.constants.locales[this.constants.locale];this.manipulationDOM={},this.manipulationDOM.backSpan=document.createElement("div"),this.manipulationDOM.backSpan.className="network-manipulationUI back",this.manipulationDOM.backLabelSpan=document.createElement("div"),this.manipulationDOM.backLabelSpan.className="network-manipulationLabel",this.manipulationDOM.backLabelSpan.innerHTML=t.back,this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan),this.manipulationDOM.seperatorLineDiv1=document.createElement("div"),this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine",this.manipulationDOM.descriptionSpan=document.createElement("div"),this.manipulationDOM.descriptionSpan.className="network-manipulationUI none",this.manipulationDOM.descriptionLabelSpan=document.createElement("div"),this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel",this.manipulationDOM.descriptionLabelSpan.innerHTML=t.addDescription,this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.backSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1),this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan),this._bindHammerToDiv(this.manipulationDOM.backSpan,"_createManipulatorBar");var e=this;this.boundFunction=e._addNode,this.on("select",this.boundFunction)},e._createAddEdgeToolbar=function(){this._clearManipulatorBar(),this._unselectAll(!0),this.freezeSimulation(!0),this.boundFunction&&this.off("select",this.boundFunction);var t=this.constants.locales[this.constants.locale];this._unselectAll(),this.forceAppendSelection=!1,this.blockConnectingEdgeSelection=!0,this.manipulationDOM={},this.manipulationDOM.backSpan=document.createElement("div"),this.manipulationDOM.backSpan.className="network-manipulationUI back",this.manipulationDOM.backLabelSpan=document.createElement("div"),this.manipulationDOM.backLabelSpan.className="network-manipulationLabel",this.manipulationDOM.backLabelSpan.innerHTML=t.back,this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan),this.manipulationDOM.seperatorLineDiv1=document.createElement("div"),this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine",this.manipulationDOM.descriptionSpan=document.createElement("div"),this.manipulationDOM.descriptionSpan.className="network-manipulationUI none",this.manipulationDOM.descriptionLabelSpan=document.createElement("div"),this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel",this.manipulationDOM.descriptionLabelSpan.innerHTML=t.edgeDescription,this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.backSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1),this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan),this._bindHammerToDiv(this.manipulationDOM.backSpan,"_createManipulatorBar");var e=this;this.boundFunction=e._handleConnect,this.on("select",this.boundFunction),this.cachedFunctions._handleTouch=this._handleTouch,this.cachedFunctions._manipulationReleaseOverload=this._manipulationReleaseOverload,this.cachedFunctions._handleDragStart=this._handleDragStart,this.cachedFunctions._handleDragEnd=this._handleDragEnd,this.cachedFunctions._handleOnHold=this._handleOnHold,this._handleTouch=this._handleConnect,this._manipulationReleaseOverload=function(){},this._handleOnHold=function(){},this._handleDragStart=function(){},this._handleDragEnd=this._finishConnect,this._redraw()},e._createEditEdgeToolbar=function(){this._clearManipulatorBar(),this.controlNodesActive=!0,this.boundFunction&&this.off("select",this.boundFunction),this.edgeBeingEdited=this._getSelectedEdge(),this.edgeBeingEdited._enableControlNodes();var t=this.constants.locales[this.constants.locale];this.manipulationDOM={},this.manipulationDOM.backSpan=document.createElement("div"),this.manipulationDOM.backSpan.className="network-manipulationUI back",this.manipulationDOM.backLabelSpan=document.createElement("div"),this.manipulationDOM.backLabelSpan.className="network-manipulationLabel",this.manipulationDOM.backLabelSpan.innerHTML=t.back,this.manipulationDOM.backSpan.appendChild(this.manipulationDOM.backLabelSpan),this.manipulationDOM.seperatorLineDiv1=document.createElement("div"),this.manipulationDOM.seperatorLineDiv1.className="network-seperatorLine",this.manipulationDOM.descriptionSpan=document.createElement("div"),this.manipulationDOM.descriptionSpan.className="network-manipulationUI none",this.manipulationDOM.descriptionLabelSpan=document.createElement("div"),this.manipulationDOM.descriptionLabelSpan.className="network-manipulationLabel",this.manipulationDOM.descriptionLabelSpan.innerHTML=t.editEdgeDescription,this.manipulationDOM.descriptionSpan.appendChild(this.manipulationDOM.descriptionLabelSpan),this.manipulationDiv.appendChild(this.manipulationDOM.backSpan),this.manipulationDiv.appendChild(this.manipulationDOM.seperatorLineDiv1),this.manipulationDiv.appendChild(this.manipulationDOM.descriptionSpan),this._bindHammerToDiv(this.manipulationDOM.backSpan,"_createManipulatorBar"),this.cachedFunctions._handleTouch=this._handleTouch,this.cachedFunctions._manipulationReleaseOverload=this._manipulationReleaseOverload,this.cachedFunctions._handleTap=this._handleTap,this.cachedFunctions._handleDragStart=this._handleDragStart,this.cachedFunctions._handleOnDrag=this._handleOnDrag,this._handleTouch=this._selectControlNode,this._handleTap=function(){},this._handleOnDrag=this._controlNodeDrag,this._handleDragStart=function(){},this._manipulationReleaseOverload=this._releaseControlNode,this._redraw()},e._selectControlNode=function(t){this.edgeBeingEdited.controlNodes.from.unselect(),this.edgeBeingEdited.controlNodes.to.unselect(),this.selectedControlNode=this.edgeBeingEdited._getSelectedControlNode(this._XconvertDOMtoCanvas(t.x),this._YconvertDOMtoCanvas(t.y)),null!==this.selectedControlNode&&(this.selectedControlNode.select(),this.freezeSimulation(!0)),this._redraw()},e._controlNodeDrag=function(t){var e=this._getPointer(t.gesture.center);null!==this.selectedControlNode&&void 0!==this.selectedControlNode&&(this.selectedControlNode.x=this._XconvertDOMtoCanvas(e.x),this.selectedControlNode.y=this._YconvertDOMtoCanvas(e.y)),this._redraw()},e._releaseControlNode=function(t){var e=this._getNodeAt(t);null!==e?(1==this.edgeBeingEdited.controlNodes.from.selected&&(this.edgeBeingEdited._restoreControlNodes(),this._editEdge(e.id,this.edgeBeingEdited.to.id),this.edgeBeingEdited.controlNodes.from.unselect()),1==this.edgeBeingEdited.controlNodes.to.selected&&(this.edgeBeingEdited._restoreControlNodes(),this._editEdge(this.edgeBeingEdited.from.id,e.id),this.edgeBeingEdited.controlNodes.to.unselect())):this.edgeBeingEdited._restoreControlNodes(),this.freezeSimulation(!1),this._redraw()},e._handleConnect=function(t){if(0==this._getSelectedNodeCount()){var e=this._getNodeAt(t);if(null!=e)if(e.clusterSize>1)alert(this.constants.locales[this.constants.locale].createEdgeError);else{this._selectObject(e,!1);var i=this.sectors.support.nodes;i.targetNode=new o({id:"targetNode"},{},{},this.constants);var s=i.targetNode;s.x=e.x,s.y=e.y,this.edges.connectionEdge=new n({id:"connectionEdge",from:e.id,to:s.id},this,this.constants);var r=this.edges.connectionEdge;r.from=e,r.connected=!0,r.options.smoothCurves={enabled:!0,dynamic:!1,type:"continuous",roundness:.5},r.selected=!0,r.to=s,this.cachedFunctions._handleOnDrag=this._handleOnDrag;var a=this;this._handleOnDrag=function(t){var e=this._getPointer(t.gesture.center),i=a.edges.connectionEdge;i.to.x=a._XconvertDOMtoCanvas(e.x),i.to.y=a._YconvertDOMtoCanvas(e.y),a._redraw()},this.moving=!0,this.start()}}},e._finishConnect=function(t){if(1==this._getSelectedNodeCount()){var e=this._getPointer(t.gesture.center);this._handleOnDrag=this.cachedFunctions._handleOnDrag,delete this.cachedFunctions._handleOnDrag;var i=this.edges.connectionEdge.fromId;delete this.edges.connectionEdge,delete this.sectors.support.nodes.targetNode,delete this.sectors.support.nodes.targetViaNode;var s=this._getNodeAt(e);null!=s&&(s.clusterSize>1?alert(this.constants.locales[this.constants.locale].createEdgeError):(this._createEdge(i,s.id),this._createManipulatorBar())),this._unselectAll()}},e._addNode=function(){if(this._selectionIsEmpty()&&1==this.editMode){var t=this._pointerToPositionObject(this.pointerPosition),e={id:s.randomUUID(),x:t.left,y:t.top,label:"new",allowedToMoveX:!0,allowedToMoveY:!0};if(this.triggerFunctions.add){if(2!=this.triggerFunctions.add.length)throw new Error("The function for add does not support two arguments (data,callback)");var i=this;this.triggerFunctions.add(e,function(t){i.nodesData.add(t),i._createManipulatorBar(),i.moving=!0,i.start()})}else this.nodesData.add(e),this._createManipulatorBar(),this.moving=!0,this.start()}},e._createEdge=function(t,e){if(1==this.editMode){var i={from:t,to:e};if(this.triggerFunctions.connect){if(2!=this.triggerFunctions.connect.length)throw new Error("The function for connect does not support two arguments (data,callback)");var s=this;this.triggerFunctions.connect(i,function(t){s.edgesData.add(t),s.moving=!0,s.start()})}else this.edgesData.add(i),this.moving=!0,this.start()}},e._editEdge=function(t,e){if(1==this.editMode){var i={id:this.edgeBeingEdited.id,from:t,to:e};if(this.triggerFunctions.editEdge){if(2!=this.triggerFunctions.editEdge.length)throw new Error("The function for edit does not support two arguments (data, callback)");var s=this;this.triggerFunctions.editEdge(i,function(t){s.edgesData.update(t),s.moving=!0,s.start()})}else this.edgesData.update(i),this.moving=!0,this.start()}},e._editNode=function(){if(!this.triggerFunctions.edit||1!=this.editMode)throw new Error("No edit function has been bound to this button");var t=this._getSelectedNode(),e={id:t.id,label:t.label,group:t.options.group,shape:t.options.shape,color:{background:t.options.color.background,border:t.options.color.border,highlight:{background:t.options.color.highlight.background,border:t.options.color.highlight.border}}};if(2!=this.triggerFunctions.edit.length)throw new Error("The function for edit does not support two arguments (data, callback)");var i=this;this.triggerFunctions.edit(e,function(t){i.nodesData.update(t),i._createManipulatorBar(),i.moving=!0,i.start()})},e._deleteSelected=function(){if(!this._selectionIsEmpty()&&1==this.editMode)if(this._clusterInSelection())alert(this.constants.locales[this.constants.locale].deleteClusterError);else{var t=this.getSelectedNodes(),e=this.getSelectedEdges();if(this.triggerFunctions.del){var i=this,s={nodes:t,edges:e};if(2!=this.triggerFunctions.del.length)throw new Error("The function for delete does not support two arguments (data, callback)");this.triggerFunctions.del(s,function(t){i.edgesData.remove(t.edges),i.nodesData.remove(t.nodes),i._unselectAll(),i.moving=!0,i.start()})}else this.edgesData.remove(e),this.nodesData.remove(t),this._unselectAll(),this.moving=!0,this.start()}}},function(t,e,i){var s=(i(1),i(45));e._cleanNavigation=function(){if(0!=this.navigationHammers.length){for(var t=0;t<this.navigationHammers.length;t++)this.navigationHammers[t].dispose();this.navigationHammers=[]}this._navigationReleaseOverload=function(){},this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper)},e._loadNavigationElements=function(){this._cleanNavigation(),this.navigationDOM={};var t=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],e=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_zoomExtent"];this.navigationDOM.wrapper=document.createElement("div"),this.frame.appendChild(this.navigationDOM.wrapper);for(var i=0;i<t.length;i++){this.navigationDOM[t[i]]=document.createElement("div"),this.navigationDOM[t[i]].className="network-navigation "+t[i],this.navigationDOM.wrapper.appendChild(this.navigationDOM[t[i]]);var o=s(this.navigationDOM[t[i]],{prevent_default:!0});o.on("touch",this[e[i]].bind(this)),this.navigationHammers.push(o)}this._navigationReleaseOverload=this._stopMovement},e._zoomExtent=function(t){this.zoomExtent({duration:700}),t.stopPropagation()},e._stopMovement=function(){this._xStopMoving(),this._yStopMoving(),this._stopZoom()},e._moveUp=function(t){this.yIncrement=this.constants.keyboard.speed.y,this.start(),t.preventDefault()},e._moveDown=function(t){this.yIncrement=-this.constants.keyboard.speed.y,this.start(),t.preventDefault()},e._moveLeft=function(t){this.xIncrement=this.constants.keyboard.speed.x,this.start(),t.preventDefault()},e._moveRight=function(t){this.xIncrement=-this.constants.keyboard.speed.y,this.start(),t.preventDefault()},e._zoomIn=function(t){this.zoomIncrement=this.constants.keyboard.speed.zoom,this.start(),t.preventDefault()},e._zoomOut=function(t){this.zoomIncrement=-this.constants.keyboard.speed.zoom,this.start(),t.preventDefault()},e._stopZoom=function(t){this.zoomIncrement=0,t&&t.preventDefault()},e._yStopMoving=function(t){this.yIncrement=0,t&&t.preventDefault()},e._xStopMoving=function(t){this.xIncrement=0,t&&t.preventDefault()}},function(t,e,i){e._resetLevels=function(){for(var t in this.nodes)if(this.nodes.hasOwnProperty(t)){var e=this.nodes[t];0==e.preassignedLevel&&(e.level=-1,e.hierarchyEnumerated=!1)}},e._setupHierarchicalLayout=function(){if(1==this.constants.hierarchicalLayout.enabled&&this.nodeIndices.length>0){var t,e,i=0,s=!1,o=!1;for(e in this.nodes)this.nodes.hasOwnProperty(e)&&(t=this.nodes[e],-1!=t.level?s=!0:o=!0,i<t.edges.length&&(i=t.edges.length));if(1==o&&1==s)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");this._changeConstants(),1==o&&("hubsize"==this.constants.hierarchicalLayout.layout?this._determineLevels(i):this._determineLevelsDirected(!1));var n=this._getDistribution();this._placeNodesByHierarchy(n),this.start()}},e._placeNodesByHierarchy=function(t){var e,i;for(var s in t)if(t.hasOwnProperty(s))for(e in t[s].nodes)t[s].nodes.hasOwnProperty(e)&&(i=t[s].nodes[e],"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?i.xFixed&&(i.x=t[s].minPos,i.xFixed=!1,t[s].minPos+=t[s].nodeSpacing):i.yFixed&&(i.y=t[s].minPos,i.yFixed=!1,t[s].minPos+=t[s].nodeSpacing),this._placeBranchNodes(i.edges,i.id,t,i.level));this._stabilize()},e._getDistribution=function(){var t,e,i,s={};for(t in this.nodes)this.nodes.hasOwnProperty(t)&&(e=this.nodes[t],e.xFixed=!0,e.yFixed=!0,"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?e.y=this.constants.hierarchicalLayout.levelSeparation*e.level:e.x=this.constants.hierarchicalLayout.levelSeparation*e.level,void 0===s[e.level]&&(s[e.level]={amount:0,nodes:{},minPos:0,nodeSpacing:0}),s[e.level].amount+=1,s[e.level].nodes[t]=e);var o=0;for(i in s)s.hasOwnProperty(i)&&o<s[i].amount&&(o=s[i].amount);for(i in s)s.hasOwnProperty(i)&&(s[i].nodeSpacing=(o+1)*this.constants.hierarchicalLayout.nodeSpacing,s[i].nodeSpacing/=s[i].amount+1,s[i].minPos=s[i].nodeSpacing-.5*(s[i].amount+1)*s[i].nodeSpacing);return s},e._determineLevels=function(t){var e,i;for(e in this.nodes)this.nodes.hasOwnProperty(e)&&(i=this.nodes[e],i.edges.length==t&&(i.level=0));for(e in this.nodes)this.nodes.hasOwnProperty(e)&&(i=this.nodes[e],0==i.level&&this._setLevel(1,i.edges,i.id))},e._determineLevelsDirected=function(){var t,e,i,s=1e4;i=this.nodes[this.nodeIndices[0]],i.level=s,this._setLevelDirected(s,i.edges,i.id);for(t in this.nodes)this.nodes.hasOwnProperty(t)&&(e=this.nodes[t],s=e.level<s?e.level:s);for(t in this.nodes)this.nodes.hasOwnProperty(t)&&(e=this.nodes[t],e.level-=s)},e._changeConstants=function(){this.constants.clustering.enabled=!1,this.constants.physics.barnesHut.enabled=!1,this.constants.physics.hierarchicalRepulsion.enabled=!0,this._loadSelectedForceSolver(),1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.dynamic=!1),this._configureSmoothCurves();var t=this.constants.hierarchicalLayout;t.levelSeparation=Math.abs(t.levelSeparation),("RL"==t.direction||"DU"==t.direction)&&(t.levelSeparation*=-1),"RL"==t.direction||"LR"==t.direction?1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="vertical"):1==this.constants.smoothCurves.enabled&&(this.constants.smoothCurves.type="horizontal")},e._placeBranchNodes=function(t,e,i,s){for(var o=0;o<t.length;o++){var n=null;n=t[o].toId==e?t[o].from:t[o].to;var r=!1;"UD"==this.constants.hierarchicalLayout.direction||"DU"==this.constants.hierarchicalLayout.direction?n.xFixed&&n.level>s&&(n.xFixed=!1,n.x=i[n.level].minPos,r=!0):n.yFixed&&n.level>s&&(n.yFixed=!1,n.y=i[n.level].minPos,r=!0),1==r&&(i[n.level].minPos+=i[n.level].nodeSpacing,n.edges.length>1&&this._placeBranchNodes(n.edges,n.id,i,n.level))}},e._setLevel=function(t,e,i){for(var s=0;s<e.length;s++){var o=null;o=e[s].toId==i?e[s].from:e[s].to,(-1==o.level||o.level>t)&&(o.level=t,o.edges.length>1&&this._setLevel(t+1,o.edges,o.id))}},e._setLevelDirected=function(t,e,i){this.nodes[i].hierarchyEnumerated=!0;for(var s,o,n=0;n<e.length;n++)o=1,e[n].toId==i?(s=e[n].from,o=-1):s=e[n].to,-1==s.level&&(s.level=t+o);for(var n=0;n<e.length;n++)s=e[n].toId==i?e[n].from:e[n].to,s.edges.length>1&&s.hierarchyEnumerated===!1&&this._setLevelDirected(s.level,s.edges,s.id)},e._restoreNodes=function(){for(var t in this.nodes)this.nodes.hasOwnProperty(t)&&(this.nodes[t].xFixed=!1,this.nodes[t].yFixed=!1)}},function(t,e,i){function s(t){throw new Error("Cannot find module \'"+t+"\'.")}s.keys=function(){return[]},s.resolve=s,t.exports=s,s.id=67},function(t,e,i){e._calculateNodeForces=function(){var t,e,i,s,o,n,r,a,h,d,l,c=this.calculationNodes,p=this.calculationNodeIndices,u=-2/3,m=4/3,f=this.constants.physics.repulsion.nodeDistance,g=f;for(d=0;d<p.length-1;d++)for(a=c[p[d]],l=d+1;l<p.length;l++){h=c[p[l]],n=a.clusterSize+h.clusterSize-2,t=h.x-a.x,e=h.y-a.y,i=Math.sqrt(t*t+e*e),0==i&&(i=.1*Math.random(),t=i),g=0==n?f:f*(1+n*this.constants.clustering.distanceAmplification);var v=u/g;2*g>i&&(r=.5*g>i?1:v*i+m,r*=0==n?1:1+n*this.constants.clustering.forceAmplification,r/=Math.max(i,.01*g),s=t*r,o=e*r,a.fx-=s,a.fy-=o,h.fx+=s,h.fy+=o)}}},function(t,e,i){e._calculateNodeForces=function(){var t,e,i,s,o,n,r,a,h,d,l=this.calculationNodes,c=this.calculationNodeIndices,p=this.constants.physics.hierarchicalRepulsion.nodeDistance;for(h=0;h<c.length-1;h++)for(r=l[c[h]],d=h+1;d<c.length;d++)if(a=l[c[d]],r.level==a.level){t=a.x-r.x,e=a.y-r.y,i=Math.sqrt(t*t+e*e);var u=.05;n=p>i?-Math.pow(u*i,2)+Math.pow(u*p,2):0,0==i?i=.01:n/=i,s=t*n,o=e*n,r.fx-=s,r.fy-=o,a.fx+=s,a.fy+=o}},e._calculateHierarchicalSpringForces=function(){for(var t,e,i,s,o,n,r,a,h,d=this.edges,l=this.calculationNodes,c=this.calculationNodeIndices,p=0;p<c.length;p++){var u=l[c[p]];u.springFx=0,u.springFy=0}for(i in d)if(d.hasOwnProperty(i)&&(e=d[i],e.connected&&this.nodes.hasOwnProperty(e.toId)&&this.nodes.hasOwnProperty(e.fromId)))if(t=e.physics.springLength,t+=(e.to.clusterSize+e.from.clusterSize-2)*this.constants.clustering.edgeGrowth,s=e.from.x-e.to.x,o=e.from.y-e.to.y,h=Math.sqrt(s*s+o*o),0==h&&(h=.01),a=this.constants.physics.springConstant*(t-h)/h,n=s*a,r=o*a,e.to.level!=e.from.level)e.to.springFx-=n,e.to.springFy-=r,e.from.springFx+=n,e.from.springFy+=r;else{var m=.5;e.to.fx-=m*n,e.to.fy-=m*r,e.from.fx+=m*n,e.from.fy+=m*r}var f,g,a=1;for(p=0;p<c.length;p++){var v=l[c[p]];f=Math.min(a,Math.max(-a,v.springFx)),g=Math.min(a,Math.max(-a,v.springFy)),v.fx+=f,v.fy+=g}var y=0,b=0;for(p=0;p<c.length;p++){var v=l[c[p]];y+=v.fx,b+=v.fy}var _=y/c.length,x=b/c.length;for(p=0;p<c.length;p++){var v=l[c[p]];v.fx-=_,v.fy-=x}}},function(t,e,i){e._calculateNodeForces=function(){if(0!=this.constants.physics.barnesHut.gravitationalConstant){var t,e=this.calculationNodes,i=this.calculationNodeIndices,s=i.length;this._formBarnesHutTree(e,i);for(var o=this.barnesHutTree,n=0;s>n;n++)t=e[i[n]],t.options.mass>0&&(this._getForceContribution(o.root.children.NW,t),this._getForceContribution(o.root.children.NE,t),this._getForceContribution(o.root.children.SW,t),this._getForceContribution(o.root.children.SE,t))}},e._getForceContribution=function(t,e){if(t.childrenCount>0){var i,s,o;if(i=t.centerOfMass.x-e.x,s=t.centerOfMass.y-e.y,o=Math.sqrt(i*i+s*s),o*t.calcSize>this.constants.physics.barnesHut.thetaInverted){0==o&&(o=.1*Math.random(),i=o);var n=this.constants.physics.barnesHut.gravitationalConstant*t.mass*e.options.mass/(o*o*o),r=i*n,a=s*n;e.fx+=r,e.fy+=a}else if(4==t.childrenCount)this._getForceContribution(t.children.NW,e),this._getForceContribution(t.children.NE,e),this._getForceContribution(t.children.SW,e),this._getForceContribution(t.children.SE,e);else if(t.children.data.id!=e.id){0==o&&(o=.5*Math.random(),i=o);var n=this.constants.physics.barnesHut.gravitationalConstant*t.mass*e.options.mass/(o*o*o),r=i*n,a=s*n;e.fx+=r,e.fy+=a}}},e._formBarnesHutTree=function(t,e){for(var i,s=e.length,o=Number.MAX_VALUE,n=Number.MAX_VALUE,r=-Number.MAX_VALUE,a=-Number.MAX_VALUE,h=0;s>h;h++){var d=t[e[h]].x,l=t[e[h]].y;t[e[h]].options.mass>0&&(o>d&&(o=d),d>r&&(r=d),n>l&&(n=l),l>a&&(a=l))}var c=Math.abs(r-o)-Math.abs(a-n);c>0?(n-=.5*c,a+=.5*c):(o+=.5*c,r-=.5*c);var p=1e-5,u=Math.max(p,Math.abs(r-o)),m=.5*u,f=.5*(o+r),g=.5*(n+a),v={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-m,maxX:f+m,minY:g-m,maxY:g+m},size:u,calcSize:1/u,children:{data:null},maxWidth:0,level:0,childrenCount:4}};for(this._splitBranch(v.root),h=0;s>h;h++)i=t[e[h]],i.options.mass>0&&this._placeInTree(v.root,i);this.barnesHutTree=v},e._updateBranchMass=function(t,e){var i=t.mass+e.options.mass,s=1/i;t.centerOfMass.x=t.centerOfMass.x*t.mass+e.x*e.options.mass,t.centerOfMass.x*=s,t.centerOfMass.y=t.centerOfMass.y*t.mass+e.y*e.options.mass,t.centerOfMass.y*=s,t.mass=i;var o=Math.max(Math.max(e.height,e.radius),e.width);t.maxWidth=t.maxWidth<o?o:t.maxWidth},e._placeInTree=function(t,e,i){(1!=i||void 0===i)&&this._updateBranchMass(t,e),t.children.NW.range.maxX>e.x?t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NW"):this._placeInRegion(t,e,"SW"):t.children.NW.range.maxY>e.y?this._placeInRegion(t,e,"NE"):this._placeInRegion(t,e,"SE")},e._placeInRegion=function(t,e,i){switch(t.children[i].childrenCount){case 0:t.children[i].children.data=e,t.children[i].childrenCount=1,this._updateBranchMass(t.children[i],e);break;case 1:t.children[i].children.data.x==e.x&&t.children[i].children.data.y==e.y?(e.x+=Math.random(),e.y+=Math.random()):(this._splitBranch(t.children[i]),this._placeInTree(t.children[i],e));break;case 4:this._placeInTree(t.children[i],e)}},e._splitBranch=function(t){var e=null;1==t.childrenCount&&(e=t.children.data,t.mass=0,t.centerOfMass.x=0,t.centerOfMass.y=0),t.childrenCount=4,t.children.data=null,this._insertRegion(t,"NW"),this._insertRegion(t,"NE"),this._insertRegion(t,"SW"),this._insertRegion(t,"SE"),null!=e&&this._placeInTree(t,e)},e._insertRegion=function(t,e){var i,s,o,n,r=.5*t.size;switch(e){case"NW":i=t.range.minX,s=t.range.minX+r,o=t.range.minY,n=t.range.minY+r;break;case"NE":i=t.range.minX+r,s=t.range.maxX,o=t.range.minY,n=t.range.minY+r;break;case"SW":i=t.range.minX,s=t.range.minX+r,o=t.range.minY+r,n=t.range.maxY;break;case"SE":i=t.range.minX+r,s=t.range.maxX,o=t.range.minY+r,n=t.range.maxY}t.children[e]={centerOfMass:{x:0,y:0},mass:0,range:{minX:i,maxX:s,minY:o,maxY:n},size:.5*t.size,calcSize:2*t.calcSize,children:{data:null},maxWidth:0,level:t.level+1,childrenCount:0}},e._drawTree=function(t,e){void 0!==this.barnesHutTree&&(t.lineWidth=1,this._drawBranch(this.barnesHutTree.root,t,e))},e._drawBranch=function(t,e,i){void 0===i&&(i="#FF0000"),4==t.childrenCount&&(this._drawBranch(t.children.NW,e),this._drawBranch(t.children.NE,e),this._drawBranch(t.children.SE,e),this._drawBranch(t.children.SW,e)),e.strokeStyle=i,e.beginPath(),e.moveTo(t.range.minX,t.range.minY),e.lineTo(t.range.maxX,t.range.minY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.minY),e.lineTo(t.range.maxX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.maxX,t.range.maxY),e.lineTo(t.range.minX,t.range.maxY),e.stroke(),e.beginPath(),e.moveTo(t.range.minX,t.range.maxY),e.lineTo(t.range.minX,t.range.minY),e.stroke()}},function(t,e,i){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}}])});\n//# sourceMappingURL=vis.map\n\n\n//@filename {Foo} fileName ./html/libs.min.js\n\nif(function(t,e){"use strict";"function"==typeof define&&define.amd?define(["exports"],e):e("undefined"!=typeof exports?exports:t.esprima={})}(this,function(t){"use strict";function e(t,e){if(!t)throw new Error("ASSERT: "+e)}function n(t){return t>=48&&t<=57}function r(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function i(t){return"01234567".indexOf(t)>=0}function o(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&"\\ufeff".indexOf(String.fromCharCode(t))>0}function s(t){return 10===t||13===t||8232===t||8233===t}function a(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&Zt.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function l(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&Zt.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function u(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function c(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function h(t){return"eval"===t||"arguments"===t}function p(t){if(ne&&c(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function f(t,n,r,i,o){var s;e("number"==typeof r,"Comment must have valid position"),ue.lastCommentStart>=r||(ue.lastCommentStart=r,s={type:t,value:n},ce.range&&(s.range=[r,i]),ce.loc&&(s.loc=o),ce.comments.push(s))}function d(){var t,e,n,r;for(t=re-2,e={start:{line:ie,column:re-oe-2}};re<se;)if(n=ee.charCodeAt(re),++re,s(n))return ce.comments&&(r=ee.slice(t+2,re-1),e.end={line:ie,column:re-oe-1},f("Line",r,t,re-1,e)),13===n&&10===ee.charCodeAt(re)&&++re,++ie,void(oe=re);ce.comments&&(r=ee.slice(t+2,re),e.end={line:ie,column:re-oe},f("Line",r,t,re,e))}function g(){var t,e,n,r;for(ce.comments&&(t=re-2,e={start:{line:ie,column:re-oe-2}});re<se;)if(n=ee.charCodeAt(re),s(n))13===n&&10===ee.charCodeAt(re+1)&&++re,++ie,oe=++re,re>=se&&O({},Yt.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===ee.charCodeAt(re+1))return++re,++re,void(ce.comments&&(r=ee.slice(t+2,re-2),e.end={line:ie,column:re-oe},f("Block",r,t,re,e)));++re}else++re;O({},Yt.UnexpectedToken,"ILLEGAL")}function m(){for(var t;re<se;)if(t=ee.charCodeAt(re),o(t))++re;else if(s(t))++re,13===t&&10===ee.charCodeAt(re)&&++re,++ie,oe=re;else{if(47!==t)break;if(47===(t=ee.charCodeAt(re+1)))++re,++re,d();else{if(42!==t)break;++re,++re,g()}}}function y(t){var e,n,i,o=0;for(n="u"===t?4:2,e=0;e<n;++e){if(!(re<se&&r(ee[re])))return"";i=ee[re++],o=16*o+"0123456789abcdef".indexOf(i.toLowerCase())}return String.fromCharCode(o)}function v(){var t,e;for(t=ee.charCodeAt(re++),e=String.fromCharCode(t),92===t&&(117!==ee.charCodeAt(re)&&O({},Yt.UnexpectedToken,"ILLEGAL"),++re,(t=y("u"))&&"\\\\"!==t&&a(t.charCodeAt(0))||O({},Yt.UnexpectedToken,"ILLEGAL"),e=t);re<se&&(t=ee.charCodeAt(re),l(t));)++re,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==ee.charCodeAt(re)&&O({},Yt.UnexpectedToken,"ILLEGAL"),++re,(t=y("u"))&&"\\\\"!==t&&l(t.charCodeAt(0))||O({},Yt.UnexpectedToken,"ILLEGAL"),e+=t);return e}function b(){var t,e;for(t=re++;re<se;){if(92===(e=ee.charCodeAt(re)))return re=t,v();if(!l(e))break;++re}return ee.slice(t,re)}function x(){var t,e,n;return t=re,e=92===ee.charCodeAt(re)?v():b(),n=1===e.length?Kt.Identifier:p(e)?Kt.Keyword:"null"===e?Kt.NullLiteral:"true"===e||"false"===e?Kt.BooleanLiteral:Kt.Identifier,{type:n,value:e,lineNumber:ie,lineStart:oe,range:[t,re]}}function w(){var t,e,n,r,i=re,o=ee.charCodeAt(re),s=ee[re];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++re,ce.tokenize&&(40===o?ce.openParenToken=ce.tokens.length:123===o&&(ce.openCurlyToken=ce.tokens.length)),{type:Kt.Punctuator,value:String.fromCharCode(o),lineNumber:ie,lineStart:oe,range:[i,re]};default:if(61===(t=ee.charCodeAt(re+1)))switch(o){case 37:case 38:case 42:case 43:case 45:case 47:case 60:case 62:case 94:case 124:return re+=2,{type:Kt.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(t),lineNumber:ie,lineStart:oe,range:[i,re]};case 33:case 61:return re+=2,61===ee.charCodeAt(re)&&++re,{type:Kt.Punctuator,value:ee.slice(i,re),lineNumber:ie,lineStart:oe,range:[i,re]}}}return e=ee[re+1],n=ee[re+2],r=ee[re+3],">"===s&&">"===e&&">"===n&&"="===r?(re+=4,{type:Kt.Punctuator,value:">>>=",lineNumber:ie,lineStart:oe,range:[i,re]}):">"===s&&">"===e&&">"===n?(re+=3,{type:Kt.Punctuator,value:">>>",lineNumber:ie,lineStart:oe,range:[i,re]}):"<"===s&&"<"===e&&"="===n?(re+=3,{type:Kt.Punctuator,value:"<<=",lineNumber:ie,lineStart:oe,range:[i,re]}):">"===s&&">"===e&&"="===n?(re+=3,{type:Kt.Punctuator,value:">>=",lineNumber:ie,lineStart:oe,range:[i,re]}):s===e&&"+-<>&|".indexOf(s)>=0?(re+=2,{type:Kt.Punctuator,value:s+e,lineNumber:ie,lineStart:oe,range:[i,re]}):"<>=!+-*%&|^/".indexOf(s)>=0?(++re,{type:Kt.Punctuator,value:s,lineNumber:ie,lineStart:oe,range:[i,re]}):void O({},Yt.UnexpectedToken,"ILLEGAL")}function k(t){for(var e="";re<se&&r(ee[re]);)e+=ee[re++];return 0===e.length&&O({},Yt.UnexpectedToken,"ILLEGAL"),a(ee.charCodeAt(re))&&O({},Yt.UnexpectedToken,"ILLEGAL"),{type:Kt.NumericLiteral,value:parseInt("0x"+e,16),lineNumber:ie,lineStart:oe,range:[t,re]}}function S(t){for(var e="0"+ee[re++];re<se&&i(ee[re]);)e+=ee[re++];return(a(ee.charCodeAt(re))||n(ee.charCodeAt(re)))&&O({},Yt.UnexpectedToken,"ILLEGAL"),{type:Kt.NumericLiteral,value:parseInt(e,8),octal:!0,lineNumber:ie,lineStart:oe,range:[t,re]}}function C(){var t,r,o;if(o=ee[re],e(n(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),r=re,t="","."!==o){if(t=ee[re++],o=ee[re],"0"===t){if("x"===o||"X"===o)return++re,k(r);if(i(o))return S(r);o&&n(o.charCodeAt(0))&&O({},Yt.UnexpectedToken,"ILLEGAL")}for(;n(ee.charCodeAt(re));)t+=ee[re++];o=ee[re]}if("."===o){for(t+=ee[re++];n(ee.charCodeAt(re));)t+=ee[re++];o=ee[re]}if("e"===o||"E"===o)if(t+=ee[re++],"+"!==(o=ee[re])&&"-"!==o||(t+=ee[re++]),n(ee.charCodeAt(re)))for(;n(ee.charCodeAt(re));)t+=ee[re++];else O({},Yt.UnexpectedToken,"ILLEGAL");return a(ee.charCodeAt(re))&&O({},Yt.UnexpectedToken,"ILLEGAL"),{type:Kt.NumericLiteral,value:parseFloat(t),lineNumber:ie,lineStart:oe,range:[r,re]}}function E(){var t,n,r,o,a,l,u="",c=!1;for(e("\'"===(t=ee[re])||\'"\'===t,"String literal must starts with a quote"),n=re,++re;re<se;){if((r=ee[re++])===t){t="";break}if("\\\\"===r)if((r=ee[re++])&&s(r.charCodeAt(0)))++ie,"\\r"===r&&"\\n"===ee[re]&&++re;else switch(r){case"n":u+="\\n";break;case"r":u+="\\r";break;case"t":u+="\\t";break;case"u":case"x":l=re,(a=y(r))?u+=a:(re=l,u+=r);break;case"b":u+="\\b";break;case"f":u+="\\f";break;case"v":u+="\\v";break;default:i(r)?(0!==(o="01234567".indexOf(r))&&(c=!0),re<se&&i(ee[re])&&(c=!0,o=8*o+"01234567".indexOf(ee[re++]),"0123".indexOf(r)>=0&&re<se&&i(ee[re])&&(o=8*o+"01234567".indexOf(ee[re++]))),u+=String.fromCharCode(o)):u+=r}else{if(s(r.charCodeAt(0)))break;u+=r}}return""!==t&&O({},Yt.UnexpectedToken,"ILLEGAL"),{type:Kt.StringLiteral,value:u,octal:c,lineNumber:ie,lineStart:oe,range:[n,re]}}function T(){var t,n,r,i,o,a,u,c=!1,h=!1;for(le=null,m(),r=re,e("/"===(n=ee[re]),"Regular expression literal must start with a slash"),t=ee[re++];re<se;)if(n=ee[re++],t+=n,"\\\\"===n)s((n=ee[re++]).charCodeAt(0))&&O({},Yt.UnterminatedRegExp),t+=n;else if(c)"]"===n&&(c=!1);else{if("/"===n){h=!0;break}"["===n?c=!0:s(n.charCodeAt(0))&&O({},Yt.UnterminatedRegExp)}for(h||O({},Yt.UnterminatedRegExp),i=t.substr(1,t.length-2),o="";re<se&&(n=ee[re],l(n.charCodeAt(0)));)if(++re,"\\\\"===n&&re<se)if("u"===(n=ee[re]))if(++re,u=re,n=y("u"))for(o+=n,t+="\\\\u";u<re;++u)t+=ee[u];else re=u,o+="u",t+="\\\\u";else t+="\\\\";else o+=n,t+=n;try{a=new RegExp(i,o)}catch(t){O({},Yt.InvalidRegExp)}return D(),ce.tokenize?{type:Kt.RegularExpression,value:a,lineNumber:ie,lineStart:oe,range:[r,re]}:{literal:t,value:a,range:[r,re]}}function _(){var t,e,n,r;return m(),t=re,e={start:{line:ie,column:re-oe}},n=T(),e.end={line:ie,column:re-oe},ce.tokenize||(ce.tokens.length>0&&(r=ce.tokens[ce.tokens.length-1]).range[0]===t&&"Punctuator"===r.type&&("/"!==r.value&&"/="!==r.value||ce.tokens.pop()),ce.tokens.push({type:"RegularExpression",value:n.literal,range:[t,re],loc:e})),n}function $(t){return t.type===Kt.Identifier||t.type===Kt.Keyword||t.type===Kt.BooleanLiteral||t.type===Kt.NullLiteral}function A(){var t,e;if(!(t=ce.tokens[ce.tokens.length-1]))return _();if("Punctuator"===t.type){if(")"===t.value)return!(e=ce.tokens[ce.openParenToken-1])||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?w():_();if("}"===t.value){if(ce.tokens[ce.openCurlyToken-3]&&"Keyword"===ce.tokens[ce.openCurlyToken-3].type){if(!(e=ce.tokens[ce.openCurlyToken-4]))return w()}else{if(!ce.tokens[ce.openCurlyToken-4]||"Keyword"!==ce.tokens[ce.openCurlyToken-4].type)return w();if(!(e=ce.tokens[ce.openCurlyToken-5]))return _()}return Gt.indexOf(e.value)>=0?w():_()}return _()}return"Keyword"===t.type?_():w()}function N(){var t;return m(),re>=se?{type:Kt.EOF,lineNumber:ie,lineStart:oe,range:[re,re]}:40===(t=ee.charCodeAt(re))||41===t||58===t?w():39===t||34===t?E():a(t)?x():46===t?n(ee.charCodeAt(re+1))?C():w():n(t)?C():ce.tokenize&&47===t?A():w()}function L(){var t,e,n,r;return m(),re,t={start:{line:ie,column:re-oe}},e=N(),t.end={line:ie,column:re-oe},e.type!==Kt.EOF&&(n=[e.range[0],e.range[1]],r=ee.slice(e.range[0],e.range[1]),ce.tokens.push({type:Qt[e.type],value:r,range:n,loc:t})),e}function I(){var t;return t=le,re=t.range[1],ie=t.lineNumber,oe=t.lineStart,le=void 0!==ce.tokens?L():N(),re=t.range[1],ie=t.lineNumber,oe=t.lineStart,t}function D(){var t,e,n;t=re,e=ie,n=oe,le=void 0!==ce.tokens?L():N(),re=t,ie=e,oe=n}function j(){var t,e,n,r;return t=re,e=ie,n=oe,m(),r=ie!==e,re=t,ie=e,oe=n,r}function O(t,n){var r,i=Array.prototype.slice.call(arguments,2),o=n.replace(/%(\\d)/g,function(t,n){return e(n<i.length,"Message reference must be in range"),i[n]});throw"number"==typeof t.lineNumber?((r=new Error("Line "+t.lineNumber+": "+o)).index=t.range[0],r.lineNumber=t.lineNumber,r.column=t.range[0]-oe+1):((r=new Error("Line "+ie+": "+o)).index=re,r.lineNumber=ie,r.column=re-oe+1),r.description=o,r}function P(){try{O.apply(null,arguments)}catch(t){if(!ce.errors)throw t;ce.errors.push(t)}}function R(t){if(t.type===Kt.EOF&&O(t,Yt.UnexpectedEOS),t.type===Kt.NumericLiteral&&O(t,Yt.UnexpectedNumber),t.type===Kt.StringLiteral&&O(t,Yt.UnexpectedString),t.type===Kt.Identifier&&O(t,Yt.UnexpectedIdentifier),t.type===Kt.Keyword){if(u(t.value))O(t,Yt.UnexpectedReserved);else if(ne&&c(t.value))return void P(t,Yt.StrictReservedWord);O(t,Yt.UnexpectedToken,t.value)}O(t,Yt.UnexpectedToken,t.value)}function F(t){var e=I();e.type===Kt.Punctuator&&e.value===t||R(e)}function q(t){var e=I();e.type===Kt.Keyword&&e.value===t||R(e)}function H(t){return le.type===Kt.Punctuator&&le.value===t}function B(t){return le.type===Kt.Keyword&&le.value===t}function M(){var t;return le.type===Kt.Punctuator&&("="===(t=le.value)||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t)}function U(){var t;59!==ee.charCodeAt(re)?(t=ie,m(),ie===t&&(H(";")?I():le.type===Kt.EOF||H("}")||R(le))):I()}function W(t){return t.type===Xt.Identifier||t.type===Xt.MemberExpression}function z(){var t=[];for(F("[");!H("]");)H(",")?(I(),t.push(null)):(t.push(ct()),H("]")||F(","));return F("]"),ae.createArrayExpression(t)}function V(t,e){var n,r;return n=ne,m(),ae.markStart(),r=Rt(),e&&ne&&h(t[0].name)&&P(e,Yt.StrictParamName),ne=n,ae.markEnd(ae.createFunctionExpression(null,t,[],r))}function K(){var t;return m(),ae.markStart(),(t=I()).type===Kt.StringLiteral||t.type===Kt.NumericLiteral?(ne&&t.octal&&P(t,Yt.StrictOctalLiteral),ae.markEnd(ae.createLiteral(t))):ae.markEnd(ae.createIdentifier(t.value))}function Q(){var t,e,n,r,i;return t=le,m(),ae.markStart(),t.type===Kt.Identifier?(n=K(),"get"!==t.value||H(":")?"set"!==t.value||H(":")?(F(":"),r=ct(),ae.markEnd(ae.createProperty("init",n,r))):(e=K(),F("("),(t=le).type!==Kt.Identifier?(F(")"),P(t,Yt.UnexpectedToken,t.value),r=V([])):(i=[dt()],F(")"),r=V(i,t)),ae.markEnd(ae.createProperty("set",e,r))):(e=K(),F("("),F(")"),r=V([]),ae.markEnd(ae.createProperty("get",e,r)))):t.type!==Kt.EOF&&t.type!==Kt.Punctuator?(e=K(),F(":"),r=ct(),ae.markEnd(ae.createProperty("init",e,r))):void R(t)}function G(){var t,e,n,r,i=[],o={},s=String;for(F("{");!H("}");)e=(t=Q()).key.type===Xt.Identifier?t.key.name:s(t.key.value),r="init"===t.kind?Jt.Data:"get"===t.kind?Jt.Get:Jt.Set,n="$"+e,Object.prototype.hasOwnProperty.call(o,n)?(o[n]===Jt.Data?ne&&r===Jt.Data?P({},Yt.StrictDuplicateProperty):r!==Jt.Data&&P({},Yt.AccessorDataProperty):r===Jt.Data?P({},Yt.AccessorDataProperty):o[n]&r&&P({},Yt.AccessorGetSet),o[n]|=r):o[n]=r,i.push(t),H("}")||F(",");return F("}"),ae.createObjectExpression(i)}function X(){var t;return F("("),t=ht(),F(")"),t}function J(){var t,e,n;return H("(")?X():(t=le.type,ae.markStart(),t===Kt.Identifier?n=ae.createIdentifier(I().value):t===Kt.StringLiteral||t===Kt.NumericLiteral?(ne&&le.octal&&P(le,Yt.StrictOctalLiteral),n=ae.createLiteral(I())):t===Kt.Keyword?B("this")?(I(),n=ae.createThisExpression()):B("function")&&(n=Ht()):t===Kt.BooleanLiteral?((e=I()).value="true"===e.value,n=ae.createLiteral(e)):t===Kt.NullLiteral?((e=I()).value=null,n=ae.createLiteral(e)):H("[")?n=z():H("{")?n=G():(H("/")||H("/="))&&(n=void 0!==ce.tokens?ae.createLiteral(_()):ae.createLiteral(T())),n?ae.markEnd(n):void R(I()))}function Y(){var t=[];if(F("("),!H(")"))for(;re<se&&(t.push(ct()),!H(")"));)F(",");return F(")"),t}function Z(){var t;return ae.markStart(),t=I(),$(t)||R(t),ae.markEnd(ae.createIdentifier(t.value))}function tt(){return F("."),Z()}function et(){var t;return F("["),t=ht(),F("]"),t}function nt(){var t,e;return ae.markStart(),q("new"),t=it(),e=H("(")?Y():[],ae.markEnd(ae.createNewExpression(t,e))}function rt(){var t,e,n,r;for(t=Vt(),e=B("new")?nt():J();H(".")||H("[")||H("(");)H("(")?(n=Y(),e=ae.createCallExpression(e,n)):H("[")?(r=et(),e=ae.createMemberExpression("[",e,r)):(r=tt(),e=ae.createMemberExpression(".",e,r)),t&&(t.end(),t.apply(e));return e}function it(){var t,e,n;for(t=Vt(),e=B("new")?nt():J();H(".")||H("[");)H("[")?(n=et(),e=ae.createMemberExpression("[",e,n)):(n=tt(),e=ae.createMemberExpression(".",e,n)),t&&(t.end(),t.apply(e));return e}function ot(){var t,e;return ae.markStart(),t=rt(),le.type===Kt.Punctuator&&(!H("++")&&!H("--")||j()||(ne&&t.type===Xt.Identifier&&h(t.name)&&P({},Yt.StrictLHSPostfix),W(t)||O({},Yt.InvalidLHSInAssignment),e=I(),t=ae.createPostfixExpression(e.value,t))),ae.markEndIf(t)}function st(){var t,e;return ae.markStart(),le.type!==Kt.Punctuator&&le.type!==Kt.Keyword?e=ot():H("++")||H("--")?(t=I(),e=st(),ne&&e.type===Xt.Identifier&&h(e.name)&&P({},Yt.StrictLHSPrefix),W(e)||O({},Yt.InvalidLHSInAssignment),e=ae.createUnaryExpression(t.value,e)):H("+")||H("-")||H("~")||H("!")?(t=I(),e=st(),e=ae.createUnaryExpression(t.value,e)):B("delete")||B("void")||B("typeof")?(t=I(),e=st(),e=ae.createUnaryExpression(t.value,e),ne&&"delete"===e.operator&&e.argument.type===Xt.Identifier&&P({},Yt.StrictDelete)):e=ot(),ae.markEndIf(e)}function at(t,e){var n=0;if(t.type!==Kt.Punctuator&&t.type!==Kt.Keyword)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=e?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function lt(){var t,e,n,r,i,o,s,a,l,u,c;if(o=ue.allowIn,ue.allowIn=!0,t=Vt(),u=st(),r=le,0===(i=at(r,o)))return u;for(r.prec=i,I(),e=[t,Vt()],s=[u,r,a=st()];(i=at(le,o))>0;){for(;s.length>2&&i<=s[s.length-2].prec;)a=s.pop(),l=s.pop().value,u=s.pop(),n=ae.createBinaryExpression(l,u,a),e.pop(),(t=e.pop())&&(t.end(),t.apply(n)),s.push(n),e.push(t);(r=I()).prec=i,s.push(r),e.push(Vt()),n=st(),s.push(n)}for(ue.allowIn=o,n=s[c=s.length-1],e.pop();c>1;)n=ae.createBinaryExpression(s[c-1].value,s[c-2],n),c-=2,(t=e.pop())&&(t.end(),t.apply(n));return n}function ut(){var t,e,n,r;return ae.markStart(),t=lt(),H("?")?(I(),e=ue.allowIn,ue.allowIn=!0,n=ct(),ue.allowIn=e,F(":"),r=ct(),t=ae.markEnd(ae.createConditionalExpression(t,n,r))):ae.markEnd({}),t}function ct(){var t,e,n,r;return t=le,ae.markStart(),r=e=ut(),M()&&(W(e)||O({},Yt.InvalidLHSInAssignment),ne&&e.type===Xt.Identifier&&h(e.name)&&P(t,Yt.StrictLHSAssignment),t=I(),n=ct(),r=ae.createAssignmentExpression(t.value,e,n)),ae.markEndIf(r)}function ht(){var t;if(ae.markStart(),t=ct(),H(","))for(t=ae.createSequenceExpression([t]);re<se&&H(",");)I(),t.expressions.push(ct());return ae.markEndIf(t)}function pt(){for(var t,e=[];re<se&&!H("}")&&void 0!==(t=Bt());)e.push(t);return e}function ft(){var t;return m(),ae.markStart(),F("{"),t=pt(),F("}"),ae.markEnd(ae.createBlockStatement(t))}function dt(){var t;return m(),ae.markStart(),(t=I()).type!==Kt.Identifier&&R(t),ae.markEnd(ae.createIdentifier(t.value))}function gt(t){var e,n=null;return m(),ae.markStart(),e=dt(),ne&&h(e.name)&&P({},Yt.StrictVarName),"const"===t?(F("="),n=ct()):H("=")&&(I(),n=ct()),ae.markEnd(ae.createVariableDeclarator(e,n))}function mt(t){var e=[];do{if(e.push(gt(t)),!H(","))break;I()}while(re<se);return e}function yt(){var t;return q("var"),t=mt(),U(),ae.createVariableDeclaration(t,"var")}function vt(t){var e;return m(),ae.markStart(),q(t),e=mt(t),U(),ae.markEnd(ae.createVariableDeclaration(e,t))}function bt(){return F(";"),ae.createEmptyStatement()}function xt(){var t=ht();return U(),ae.createExpressionStatement(t)}function wt(){var t,e,n;return q("if"),F("("),t=ht(),F(")"),e=Pt(),B("else")?(I(),n=Pt()):n=null,ae.createIfStatement(t,e,n)}function kt(){var t,e,n;return q("do"),n=ue.inIteration,ue.inIteration=!0,t=Pt(),ue.inIteration=n,q("while"),F("("),e=ht(),F(")"),H(";")&&I(),ae.createDoWhileStatement(t,e)}function St(){var t,e,n;return q("while"),F("("),t=ht(),F(")"),n=ue.inIteration,ue.inIteration=!0,e=Pt(),ue.inIteration=n,ae.createWhileStatement(t,e)}function Ct(){var t,e;return ae.markStart(),t=I(),e=mt(),ae.markEnd(ae.createVariableDeclaration(e,t.value))}function Et(){var t,e,n,r,i,o,s;return t=e=n=null,q("for"),F("("),H(";")?I():(B("var")||B("let")?(ue.allowIn=!1,t=Ct(),ue.allowIn=!0,1===t.declarations.length&&B("in")&&(I(),r=t,i=ht(),t=null)):(ue.allowIn=!1,t=ht(),ue.allowIn=!0,B("in")&&(W(t)||O({},Yt.InvalidLHSInForIn),I(),r=t,i=ht(),t=null)),void 0===r&&F(";")),void 0===r&&(H(";")||(e=ht()),F(";"),H(")")||(n=ht())),F(")"),s=ue.inIteration,ue.inIteration=!0,o=Pt(),ue.inIteration=s,void 0===r?ae.createForStatement(t,e,n,o):ae.createForInStatement(r,i,o)}function Tt(){var t,e=null;return q("continue"),59===ee.charCodeAt(re)?(I(),ue.inIteration||O({},Yt.IllegalContinue),ae.createContinueStatement(null)):j()?(ue.inIteration||O({},Yt.IllegalContinue),ae.createContinueStatement(null)):(le.type===Kt.Identifier&&(t="$"+(e=dt()).name,Object.prototype.hasOwnProperty.call(ue.labelSet,t)||O({},Yt.UnknownLabel,e.name)),U(),null!==e||ue.inIteration||O({},Yt.IllegalContinue),ae.createContinueStatement(e))}function _t(){var t,e=null;return q("break"),59===ee.charCodeAt(re)?(I(),ue.inIteration||ue.inSwitch||O({},Yt.IllegalBreak),ae.createBreakStatement(null)):j()?(ue.inIteration||ue.inSwitch||O({},Yt.IllegalBreak),ae.createBreakStatement(null)):(le.type===Kt.Identifier&&(t="$"+(e=dt()).name,Object.prototype.hasOwnProperty.call(ue.labelSet,t)||O({},Yt.UnknownLabel,e.name)),U(),null!==e||ue.inIteration||ue.inSwitch||O({},Yt.IllegalBreak),ae.createBreakStatement(e))}function $t(){var t=null;return q("return"),ue.inFunctionBody||P({},Yt.IllegalReturn),32===ee.charCodeAt(re)&&a(ee.charCodeAt(re+1))?(t=ht(),U(),ae.createReturnStatement(t)):j()?ae.createReturnStatement(null):(H(";")||H("}")||le.type===Kt.EOF||(t=ht()),U(),ae.createReturnStatement(t))}function At(){var t,e;return ne&&P({},Yt.StrictModeWith),q("with"),F("("),t=ht(),F(")"),e=Pt(),ae.createWithStatement(t,e)}function Nt(){var t,e,n=[];for(m(),ae.markStart(),B("default")?(I(),t=null):(q("case"),t=ht()),F(":");re<se&&!(H("}")||B("default")||B("case"));)e=Pt(),n.push(e);return ae.markEnd(ae.createSwitchCase(t,n))}function Lt(){var t,e,n,r,i;if(q("switch"),F("("),t=ht(),F(")"),F("{"),e=[],H("}"))return I(),ae.createSwitchStatement(t,e);for(r=ue.inSwitch,ue.inSwitch=!0,i=!1;re<se&&!H("}");)null===(n=Nt()).test&&(i&&O({},Yt.MultipleDefaultsInSwitch),i=!0),e.push(n);return ue.inSwitch=r,F("}"),ae.createSwitchStatement(t,e)}function It(){var t;return q("throw"),j()&&O({},Yt.NewlineAfterThrow),t=ht(),U(),ae.createThrowStatement(t)}function Dt(){var t,e;return m(),ae.markStart(),q("catch"),F("("),H(")")&&R(le),t=dt(),ne&&h(t.name)&&P({},Yt.StrictCatchVariable),F(")"),e=ft(),ae.markEnd(ae.createCatchClause(t,e))}function jt(){var t,e=[],n=null;return q("try"),t=ft(),B("catch")&&e.push(Dt()),B("finally")&&(I(),n=ft()),0!==e.length||n||O({},Yt.NoCatchOrFinally),ae.createTryStatement(t,[],e,n)}function Ot(){return q("debugger"),U(),ae.createDebuggerStatement()}function Pt(){var t,e,n,r=le.type;if(r===Kt.EOF&&R(le),m(),ae.markStart(),r===Kt.Punctuator)switch(le.value){case";":return ae.markEnd(bt());case"{":return ae.markEnd(ft());case"(":return ae.markEnd(xt())}if(r===Kt.Keyword)switch(le.value){case"break":return ae.markEnd(_t());case"continue":return ae.markEnd(Tt());case"debugger":return ae.markEnd(Ot());case"do":return ae.markEnd(kt());case"for":return ae.markEnd(Et());case"function":return ae.markEnd(qt());case"if":return ae.markEnd(wt());case"return":return ae.markEnd($t());case"switch":return ae.markEnd(Lt());case"throw":return ae.markEnd(It());case"try":return ae.markEnd(jt());case"var":return ae.markEnd(yt());case"while":return ae.markEnd(St());case"with":return ae.markEnd(At())}return(t=ht()).type===Xt.Identifier&&H(":")?(I(),n="$"+t.name,Object.prototype.hasOwnProperty.call(ue.labelSet,n)&&O({},Yt.Redeclaration,"Label",t.name),ue.labelSet[n]=!0,e=Pt(),delete ue.labelSet[n],ae.markEnd(ae.createLabeledStatement(t,e))):(U(),ae.markEnd(ae.createExpressionStatement(t)))}function Rt(){var t,e,n,r,i,o,s,a=[];for(m(),ae.markStart(),F("{");re<se&&le.type===Kt.StringLiteral&&(e=le,t=Bt(),a.push(t),t.expression.type===Xt.Literal);)"use strict"===ee.slice(e.range[0]+1,e.range[1]-1)?(ne=!0,n&&P(n,Yt.StrictOctalLiteral)):!n&&e.octal&&(n=e);for(r=ue.labelSet,i=ue.inIteration,o=ue.inSwitch,s=ue.inFunctionBody,ue.labelSet={},ue.inIteration=!1,ue.inSwitch=!1,ue.inFunctionBody=!0;re<se&&!H("}")&&void 0!==(t=Bt());)a.push(t);return F("}"),ue.labelSet=r,ue.inIteration=i,ue.inSwitch=o,ue.inFunctionBody=s,ae.markEnd(ae.createBlockStatement(a))}function Ft(t){var e,n,r,i,o,s,a=[];if(F("("),!H(")"))for(i={};re<se&&(n=le,e=dt(),o="$"+n.value,ne?(h(n.value)&&(r=n,s=Yt.StrictParamName),Object.prototype.hasOwnProperty.call(i,o)&&(r=n,s=Yt.StrictParamDupe)):t||(h(n.value)?(t=n,s=Yt.StrictParamName):c(n.value)?(t=n,s=Yt.StrictReservedWord):Object.prototype.hasOwnProperty.call(i,o)&&(t=n,s=Yt.StrictParamDupe)),a.push(e),i[o]=!0,!H(")"));)F(",");return F(")"),{params:a,stricted:r,firstRestricted:t,message:s}}function qt(){var t,e,n,r,i,o,s,a,l=[];return m(),ae.markStart(),q("function"),n=le,t=dt(),ne?h(n.value)&&P(n,Yt.StrictFunctionName):h(n.value)?(o=n,s=Yt.StrictFunctionName):c(n.value)&&(o=n,s=Yt.StrictReservedWord),i=Ft(o),l=i.params,r=i.stricted,o=i.firstRestricted,i.message&&(s=i.message),a=ne,e=Rt(),ne&&o&&O(o,s),ne&&r&&P(r,s),ne=a,ae.markEnd(ae.createFunctionDeclaration(t,l,[],e))}function Ht(){var t,e,n,r,i,o,s,a=null,l=[];return ae.markStart(),q("function"),H("(")||(t=le,a=dt(),ne?h(t.value)&&P(t,Yt.StrictFunctionName):h(t.value)?(n=t,r=Yt.StrictFunctionName):c(t.value)&&(n=t,r=Yt.StrictReservedWord)),i=Ft(n),l=i.params,e=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),s=ne,o=Rt(),ne&&n&&O(n,r),ne&&e&&P(e,r),ne=s,ae.markEnd(ae.createFunctionExpression(a,l,[],o))}function Bt(){if(le.type===Kt.Keyword)switch(le.value){case"const":case"let":return vt(le.value);case"function":return qt();default:return Pt()}if(le.type!==Kt.EOF)return Pt()}function Mt(){for(var t,e,n,r=[];re<se&&(e=le).type===Kt.StringLiteral&&(t=Bt(),r.push(t),t.expression.type===Xt.Literal);)"use strict"===ee.slice(e.range[0]+1,e.range[1]-1)?(ne=!0,n&&P(n,Yt.StrictOctalLiteral)):!n&&e.octal&&(n=e);for(;re<se&&void 0!==(t=Bt());)r.push(t);return r}function Ut(){var t;return m(),ae.markStart(),ne=!1,D(),t=Mt(),ae.markEnd(ae.createProgram(t))}function Wt(){var t,e,n,r=[];for(t=0;t<ce.tokens.length;++t)n={type:(e=ce.tokens[t]).type,value:e.value},ce.range&&(n.range=e.range),ce.loc&&(n.loc=e.loc),r.push(n);ce.tokens=r}function zt(){this.marker=[re,ie,re-oe,0,0,0]}function Vt(){return ce.loc||ce.range?(m(),new zt):null}var Kt,Qt,Gt,Xt,Jt,Yt,Zt,te,ee,ne,re,ie,oe,se,ae,le,ue,ce;(Qt={})[(Kt={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9}).BooleanLiteral]="Boolean",Qt[Kt.EOF]="<end>",Qt[Kt.Identifier]="Identifier",Qt[Kt.Keyword]="Keyword",Qt[Kt.NullLiteral]="Null",Qt[Kt.NumericLiteral]="Numeric",Qt[Kt.Punctuator]="Punctuator",Qt[Kt.StringLiteral]="String",Qt[Kt.RegularExpression]="RegularExpression",Gt=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],Xt={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},Jt={Data:1,Get:2,Set:4},Yt={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label \'%0\'",Redeclaration:"%0 \'%1\' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},Zt={NonAsciiIdentifierStart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]"),NonAsciiIdentifierPart:new RegExp("[------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]")},te={name:"SyntaxTree",markStart:function(){ce.loc&&(ue.markerStack.push(re-oe),ue.markerStack.push(ie)),ce.range&&ue.markerStack.push(re)},markEnd:function(t){return ce.range&&(t.range=[ue.markerStack.pop(),re]),ce.loc&&(t.loc={start:{line:ue.markerStack.pop(),column:ue.markerStack.pop()},end:{line:ie,column:re-oe}},this.postProcess(t)),t},markEndIf:function(t){return t.range||t.loc?(ce.loc&&(ue.markerStack.pop(),ue.markerStack.pop()),ce.range&&ue.markerStack.pop()):this.markEnd(t),t},postProcess:function(t){return ce.source&&(t.loc.source=ce.source),t},createArrayExpression:function(t){return{type:Xt.ArrayExpression,elements:t}},createAssignmentExpression:function(t,e,n){return{type:Xt.AssignmentExpression,operator:t,left:e,right:n}},createBinaryExpression:function(t,e,n){return{type:"||"===t||"&&"===t?Xt.LogicalExpression:Xt.BinaryExpression,operator:t,left:e,right:n}},createBlockStatement:function(t){return{type:Xt.BlockStatement,body:t}},createBreakStatement:function(t){return{type:Xt.BreakStatement,label:t}},createCallExpression:function(t,e){return{type:Xt.CallExpression,callee:t,arguments:e}},createCatchClause:function(t,e){return{type:Xt.CatchClause,param:t,body:e}},createConditionalExpression:function(t,e,n){return{type:Xt.ConditionalExpression,test:t,consequent:e,alternate:n}},createContinueStatement:function(t){return{type:Xt.ContinueStatement,label:t}},createDebuggerStatement:function(){return{type:Xt.DebuggerStatement}},createDoWhileStatement:function(t,e){return{type:Xt.DoWhileStatement,body:t,test:e}},createEmptyStatement:function(){return{type:Xt.EmptyStatement}},createExpressionStatement:function(t){return{type:Xt.ExpressionStatement,expression:t}},createForStatement:function(t,e,n,r){return{type:Xt.ForStatement,init:t,test:e,update:n,body:r}},createForInStatement:function(t,e,n){return{type:Xt.ForInStatement,left:t,right:e,body:n,each:!1}},createFunctionDeclaration:function(t,e,n,r){return{type:Xt.FunctionDeclaration,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createFunctionExpression:function(t,e,n,r){return{type:Xt.FunctionExpression,id:t,params:e,defaults:n,body:r,rest:null,generator:!1,expression:!1}},createIdentifier:function(t){return{type:Xt.Identifier,name:t}},createIfStatement:function(t,e,n){return{type:Xt.IfStatement,test:t,consequent:e,alternate:n}},createLabeledStatement:function(t,e){return{type:Xt.LabeledStatement,label:t,body:e}},createLiteral:function(t){return{type:Xt.Literal,value:t.value,raw:ee.slice(t.range[0],t.range[1])}},createMemberExpression:function(t,e,n){return{type:Xt.MemberExpression,computed:"["===t,object:e,property:n}},createNewExpression:function(t,e){return{type:Xt.NewExpression,callee:t,arguments:e}},createObjectExpression:function(t){return{type:Xt.ObjectExpression,properties:t}},createPostfixExpression:function(t,e){return{type:Xt.UpdateExpression,operator:t,argument:e,prefix:!1}},createProgram:function(t){return{type:Xt.Program,body:t}},createProperty:function(t,e,n){return{type:Xt.Property,key:e,value:n,kind:t}},createReturnStatement:function(t){return{type:Xt.ReturnStatement,argument:t}},createSequenceExpression:function(t){return{type:Xt.SequenceExpression,expressions:t}},createSwitchCase:function(t,e){return{type:Xt.SwitchCase,test:t,consequent:e}},createSwitchStatement:function(t,e){return{type:Xt.SwitchStatement,discriminant:t,cases:e}},createThisExpression:function(){return{type:Xt.ThisExpression}},createThrowStatement:function(t){return{type:Xt.ThrowStatement,argument:t}},createTryStatement:function(t,e,n,r){return{type:Xt.TryStatement,block:t,guardedHandlers:e,handlers:n,finalizer:r}},createUnaryExpression:function(t,e){return"++"===t||"--"===t?{type:Xt.UpdateExpression,operator:t,argument:e,prefix:!0}:{type:Xt.UnaryExpression,operator:t,argument:e,prefix:!0}},createVariableDeclaration:function(t,e){return{type:Xt.VariableDeclaration,declarations:t,kind:e}},createVariableDeclarator:function(t,e){return{type:Xt.VariableDeclarator,id:t,init:e}},createWhileStatement:function(t,e){return{type:Xt.WhileStatement,test:t,body:e}},createWithStatement:function(t,e){return{type:Xt.WithStatement,object:t,body:e}}},zt.prototype={constructor:zt,end:function(){this.marker[3]=re,this.marker[4]=ie,this.marker[5]=re-oe},apply:function(t){ce.range&&(t.range=[this.marker[0],this.marker[3]]),ce.loc&&(t.loc={start:{line:this.marker[1],column:this.marker[2]},end:{line:this.marker[4],column:this.marker[5]}}),t=ae.postProcess(t)}},t.version="1.1.0-dev",t.tokenize=function(t,e){var n,r;n=String,"string"==typeof t||t instanceof String||(t=n(t)),ae=te,re=0,ie=(ee=t).length>0?1:0,oe=0,se=ee.length,le=null,ue={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},ce={},(e=e||{}).tokens=!0,ce.tokens=[],ce.tokenize=!0,ce.openParenToken=-1,ce.openCurlyToken=-1,ce.range="boolean"==typeof e.range&&e.range,ce.loc="boolean"==typeof e.loc&&e.loc,"boolean"==typeof e.comment&&e.comment&&(ce.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(ce.errors=[]),se>0&&void 0===ee[0]&&t instanceof String&&(ee=t.valueOf());try{if(D(),le.type===Kt.EOF)return ce.tokens;for(I();le.type!==Kt.EOF;)try{I()}catch(t){if(ce.errors){ce.errors.push(t);break}throw t}Wt(),r=ce.tokens,void 0!==ce.comments&&(r.comments=ce.comments),void 0!==ce.errors&&(r.errors=ce.errors)}catch(t){throw t}finally{ce={}}return r},t.parse=function(t,e){var n,r;r=String,"string"==typeof t||t instanceof String||(t=r(t)),ae=te,re=0,ie=(ee=t).length>0?1:0,oe=0,se=ee.length,le=null,ue={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1,markerStack:[]},ce={},void 0!==e&&(ce.range="boolean"==typeof e.range&&e.range,ce.loc="boolean"==typeof e.loc&&e.loc,ce.loc&&null!==e.source&&void 0!==e.source&&(ce.source=r(e.source)),"boolean"==typeof e.tokens&&e.tokens&&(ce.tokens=[]),"boolean"==typeof e.comment&&e.comment&&(ce.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(ce.errors=[])),se>0&&void 0===ee[0]&&t instanceof String&&(ee=t.valueOf());try{n=Ut(),void 0!==ce.comments&&(n.comments=ce.comments),void 0!==ce.tokens&&(Wt(),n.tokens=ce.tokens),void 0!==ce.errors&&(n.errors=ce.errors)}catch(t){throw t}finally{ce={}}return n},t.Syntax=function(){var t,e={};"function"==typeof Object.create&&(e=Object.create(null));for(t in Xt)Xt.hasOwnProperty(t)&&(e[t]=Xt[t]);return"function"==typeof Object.freeze&&Object.freeze(e),e}()}),function(){var t=this,e=t._,n={},r=Array.prototype,i=Object.prototype,o=Function.prototype,s=r.push,a=r.slice,l=r.concat,u=i.toString,c=i.hasOwnProperty,h=r.forEach,p=r.map,f=r.reduce,d=r.reduceRight,g=r.filter,m=r.every,y=r.some,v=r.indexOf,b=r.lastIndexOf,x=Array.isArray,w=Object.keys,k=o.bind,S=function(t){return t instanceof S?t:this instanceof S?void(this._wrapped=t):new S(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=S),exports._=S):t._=S,S.VERSION="1.5.1";var C=S.each=S.forEach=function(t,e,r){if(null!=t)if(h&&t.forEach===h)t.forEach(e,r);else if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(e.call(r,t[i],i,t)===n)return}else for(var s in t)if(S.has(t,s)&&e.call(r,t[s],s,t)===n)return};S.map=S.collect=function(t,e,n){var r=[];return null==t?r:p&&t.map===p?t.map(e,n):(C(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r)};var E="Reduce of empty array with no initial value";S.reduce=S.foldl=S.inject=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),f&&t.reduce===f)return r&&(e=S.bind(e,r)),i?t.reduce(e,n):t.reduce(e);if(C(t,function(t,o,s){i?n=e.call(r,n,t,o,s):(n=t,i=!0)}),!i)throw new TypeError(E);return n},S.reduceRight=S.foldr=function(t,e,n,r){var i=arguments.length>2;if(null==t&&(t=[]),d&&t.reduceRight===d)return r&&(e=S.bind(e,r)),i?t.reduceRight(e,n):t.reduceRight(e);var o=t.length;if(o!==+o){var s=S.keys(t);o=s.length}if(C(t,function(a,l,u){l=s?s[--o]:--o,i?n=e.call(r,n,t[l],l,u):(n=t[l],i=!0)}),!i)throw new TypeError(E);return n},S.find=S.detect=function(t,e,n){var r;return T(t,function(t,i,o){if(e.call(n,t,i,o))return r=t,!0}),r},S.filter=S.select=function(t,e,n){var r=[];return null==t?r:g&&t.filter===g?t.filter(e,n):(C(t,function(t,i,o){e.call(n,t,i,o)&&r.push(t)}),r)},S.reject=function(t,e,n){return S.filter(t,function(t,r,i){return!e.call(n,t,r,i)},n)},S.every=S.all=function(t,e,r){e||(e=S.identity);var i=!0;return null==t?i:m&&t.every===m?t.every(e,r):(C(t,function(t,o,s){if(!(i=i&&e.call(r,t,o,s)))return n}),!!i)};var T=S.some=S.any=function(t,e,r){e||(e=S.identity);var i=!1;return null==t?i:y&&t.some===y?t.some(e,r):(C(t,function(t,o,s){if(i||(i=e.call(r,t,o,s)))return n}),!!i)};S.contains=S.include=function(t,e){return null!=t&&(v&&t.indexOf===v?-1!=t.indexOf(e):T(t,function(t){return t===e}))},S.invoke=function(t,e){var n=a.call(arguments,2),r=S.isFunction(e);return S.map(t,function(t){return(r?e:t[e]).apply(t,n)})},S.pluck=function(t,e){return S.map(t,function(t){return t[e]})},S.where=function(t,e,n){return S.isEmpty(e)?n?void 0:[]:S[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},S.findWhere=function(t,e){return S.where(t,e,!0)},S.max=function(t,e,n){if(!e&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&S.isEmpty(t))return-1/0;var r={computed:-1/0,value:-1/0};return C(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s>r.computed&&(r={value:t,computed:s})}),r.value},S.min=function(t,e,n){if(!e&&S.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&S.isEmpty(t))return 1/0;var r={computed:1/0,value:1/0};return C(t,function(t,i,o){var s=e?e.call(n,t,i,o):t;s<r.computed&&(r={value:t,computed:s})}),r.value},S.shuffle=function(t){var e,n=0,r=[];return C(t,function(t){e=S.random(n++),r[n-1]=r[e],r[e]=t}),r};var _=function(t){return S.isFunction(t)?t:function(e){return e[t]}};S.sortBy=function(t,e,n){var r=_(e);return S.pluck(S.map(t,function(t,e,i){return{value:t,index:e,criteria:r.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return t.index<e.index?-1:1}),"value")};var $=function(t,e,n,r){var i={},o=_(null==e?S.identity:e);return C(t,function(e,s){var a=o.call(n,e,s,t);r(i,a,e)}),i};S.groupBy=function(t,e,n){return $(t,e,n,function(t,e,n){(S.has(t,e)?t[e]:t[e]=[]).push(n)})},S.countBy=function(t,e,n){return $(t,e,n,function(t,e){S.has(t,e)||(t[e]=0),t[e]++})},S.sortedIndex=function(t,e,n,r){for(var i=(n=null==n?S.identity:_(n)).call(r,e),o=0,s=t.length;o<s;){var a=o+s>>>1;n.call(r,t[a])<i?o=a+1:s=a}return o},S.toArray=function(t){return t?S.isArray(t)?a.call(t):t.length===+t.length?S.map(t,S.identity):S.values(t):[]},S.size=function(t){return null==t?0:t.length===+t.length?t.length:S.keys(t).length},S.first=S.head=S.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:a.call(t,0,e)},S.initial=function(t,e,n){return a.call(t,0,t.length-(null==e||n?1:e))},S.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:a.call(t,Math.max(t.length-e,0))},S.rest=S.tail=S.drop=function(t,e,n){return a.call(t,null==e||n?1:e)},S.compact=function(t){return S.filter(t,S.identity)};var A=function(t,e,n){return e&&S.every(t,S.isArray)?l.apply(n,t):(C(t,function(t){S.isArray(t)||S.isArguments(t)?e?s.apply(n,t):A(t,e,n):n.push(t)}),n)};S.flatten=function(t,e){return A(t,e,[])},S.without=function(t){return S.difference(t,a.call(arguments,1))},S.uniq=S.unique=function(t,e,n,r){S.isFunction(e)&&(r=n,n=e,e=!1);var i=n?S.map(t,n,r):t,o=[],s=[];return C(i,function(n,r){(e?r&&s[s.length-1]===n:S.contains(s,n))||(s.push(n),o.push(t[r]))}),o},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=function(t){var e=a.call(arguments,1);return S.filter(S.uniq(t),function(t){return S.every(e,function(e){return S.indexOf(e,t)>=0})})},S.difference=function(t){var e=l.apply(r,a.call(arguments,1));return S.filter(t,function(t){return!S.contains(e,t)})},S.zip=function(){for(var t=S.max(S.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;n<t;n++)e[n]=S.pluck(arguments,""+n);return e},S.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;r<i;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},S.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=S.sortedIndex(t,e),t[r]===e?r:-1;r=n<0?Math.max(0,i+n):n}if(v&&t.indexOf===v)return t.indexOf(e,n);for(;r<i;r++)if(t[r]===e)return r;return-1},S.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=null!=n;if(b&&t.lastIndexOf===b)return r?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=r?n:t.length;i--;)if(t[i]===e)return i;return-1},S.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=0,o=new Array(r);i<r;)o[i++]=t,t+=n;return o};var N=function(){};S.bind=function(t,e){var n,r;if(k&&t.bind===k)return k.apply(t,a.call(arguments,1));if(!S.isFunction(t))throw new TypeError;return n=a.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(a.call(arguments)));N.prototype=t.prototype;var i=new N;N.prototype=null;var o=t.apply(i,n.concat(a.call(arguments)));return Object(o)===o?o:i}},S.partial=function(t){var e=a.call(arguments,1);return function(){return t.apply(this,e.concat(a.call(arguments)))}},S.bindAll=function(t){var e=a.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return C(e,function(e){t[e]=S.bind(t[e],t)}),t},S.memoize=function(t,e){var n={};return e||(e=S.identity),function(){var r=e.apply(this,arguments);return S.has(n,r)?n[r]:n[r]=t.apply(this,arguments)}},S.delay=function(t,e){var n=a.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},S.defer=function(t){return S.delay.apply(S,[t,1].concat(a.call(arguments,1)))},S.throttle=function(t,e,n){var r,i,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:new Date,s=null,o=t.apply(r,i)};return function(){var u=new Date;a||!1!==n.leading||(a=u);var c=e-(u-a);return r=this,i=arguments,c<=0?(clearTimeout(s),s=null,a=u,o=t.apply(r,i)):s||!1===n.trailing||(s=setTimeout(l,c)),o}},S.debounce=function(t,e,n){var r,i=null;return function(){var o=this,s=arguments,a=n&&!i;return clearTimeout(i),i=setTimeout(function(){i=null,n||(r=t.apply(o,s))},e),a&&(r=t.apply(o,s)),r}},S.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},S.wrap=function(t,e){return function(){var n=[t];return s.apply(n,arguments),e.apply(this,n)}},S.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},S.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},S.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)S.has(t,n)&&e.push(n);return e},S.values=function(t){var e=[];for(var n in t)S.has(t,n)&&e.push(t[n]);return e},S.pairs=function(t){var e=[];for(var n in t)S.has(t,n)&&e.push([n,t[n]]);return e},S.invert=function(t){var e={};for(var n in t)S.has(t,n)&&(e[t[n]]=n);return e},S.functions=S.methods=function(t){var e=[];for(var n in t)S.isFunction(t[n])&&e.push(n);return e.sort()},S.extend=function(t){return C(a.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},S.pick=function(t){var e={},n=l.apply(r,a.call(arguments,1));return C(n,function(n){n in t&&(e[n]=t[n])}),e},S.omit=function(t){var e={},n=l.apply(r,a.call(arguments,1));for(var i in t)S.contains(n,i)||(e[i]=t[i]);return e},S.defaults=function(t){return C(a.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},S.clone=function(t){return S.isObject(t)?S.isArray(t)?t.slice():S.extend({},t):t},S.tap=function(t,e){return e(t),t};var L=function(t,e,n,r){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof S&&(t=t._wrapped),e instanceof S&&(e=e._wrapped);var i=u.call(t);if(i!=u.call(e))return!1;switch(i){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]==t)return r[o]==e;var s=t.constructor,a=e.constructor;if(s!==a&&!(S.isFunction(s)&&s instanceof s&&S.isFunction(a)&&a instanceof a))return!1;n.push(t),r.push(e);var l=0,c=!0;if("[object Array]"==i){if(l=t.length,c=l==e.length)for(;l--&&(c=L(t[l],e[l],n,r)););}else{for(var h in t)if(S.has(t,h)&&(l++,!(c=S.has(e,h)&&L(t[h],e[h],n,r))))break;if(c){for(h in e)if(S.has(e,h)&&!l--)break;c=!l}}return n.pop(),r.pop(),c};S.isEqual=function(t,e){return L(t,e,[],[])},S.isEmpty=function(t){if(null==t)return!0;if(S.isArray(t)||S.isString(t))return 0===t.length;for(var e in t)if(S.has(t,e))return!1;return!0},S.isElement=function(t){return!(!t||1!==t.nodeType)},S.isArray=x||function(t){return"[object Array]"==u.call(t)},S.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){S["is"+t]=function(e){return u.call(e)=="[object "+t+"]"}}),S.isArguments(arguments)||(S.isArguments=function(t){return!(!t||!S.has(t,"callee"))}),"function"!=typeof/./&&(S.isFunction=function(t){return"function"==typeof t}),S.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},S.isNaN=function(t){return S.isNumber(t)&&t!=+t},S.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==u.call(t)},S.isNull=function(t){return null===t},S.isUndefined=function(t){return void 0===t},S.has=function(t,e){return c.call(t,e)},S.noConflict=function(){return t._=e,this},S.identity=function(t){return t},S.times=function(t,e,n){for(var r=Array(Math.max(0,t)),i=0;i<t;i++)r[i]=e.call(n,i);return r},S.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",\'"\':"&quot;","\'":"&#x27;","/":"&#x2F;"}};I.unescape=S.invert(I.escape);var D={escape:new RegExp("["+S.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+S.keys(I.unescape).join("|")+")","g")};S.each(["escape","unescape"],function(t){S[t]=function(e){return null==e?"":(""+e).replace(D[t],function(e){return I[t][e]})}}),S.result=function(t,e){if(null!=t){var n=t[e];return S.isFunction(n)?n.call(t):n}},S.mixin=function(t){C(S.functions(t),function(e){var n=S[e]=t[e];S.prototype[e]=function(){var t=[this._wrapped];return s.apply(t,arguments),F.call(this,n.apply(S,t))}})};var j=0;S.uniqueId=function(t){var e=++j+"";return t?t+e:e},S.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var O=/(.)^/,P={"\'":"\'","\\\\":"\\\\","\\r":"r","\\n":"n","\\t":"t","\\u2028":"u2028","\\u2029":"u2029"},R=/\\\\|\'|\\r|\\n|\\t|\\u2028|\\u2029/g;S.template=function(t,e,n){var r;n=S.defaults({},n,S.templateSettings);var i=new RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g"),o=0,s="__p+=\'";t.replace(i,function(e,n,r,i,a){return s+=t.slice(o,a).replace(R,function(t){return"\\\\"+P[t]}),n&&(s+="\'+\\n((__t=("+n+"))==null?\'\':_.escape(__t))+\\n\'"),r&&(s+="\'+\\n((__t=("+r+"))==null?\'\':__t)+\\n\'"),i&&(s+="\';\\n"+i+"\\n__p+=\'"),o=a+e.length,e}),s+="\';\\n",n.variable||(s="with(obj||{}){\\n"+s+"}\\n"),s="var __t,__p=\'\',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,\'\');};\\n"+s+"return __p;\\n";try{r=new Function(n.variable||"obj","_",s)}catch(t){throw t.source=s,t}if(e)return r(e,S);var a=function(t){return r.call(this,t,S)};return a.source="function("+(n.variable||"obj")+"){\\n"+s+"}",a},S.chain=function(t){return S(t).chain()};var F=function(t){return this._chain?S(t).chain():t};S.mixin(S),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];S.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],F.call(this,n)}}),C(["concat","join","slice"],function(t){var e=r[t];S.prototype[t]=function(){return F.call(this,e.apply(this._wrapped,arguments))}}),S.extend(S.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(t,e){function n(t){var e=t.length,n=it.type(t);return!it.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||"function"!==n&&(0===e||"number"==typeof e&&e>0&&e-1 in t)))}function r(t){var e=ft[t]={};return it.each(t.match(st)||[],function(t,n){e[n]=!0}),e}function i(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=it.expando+Math.random()}function o(t,n,r){var i;if(r===e&&1===t.nodeType)if(i="data-"+n.replace(yt,"-$1").toLowerCase(),"string"==typeof(r=t.getAttribute(i))){try{r="true"===r||"false"!==r&&("null"===r?null:+r+""===r?+r:mt.test(r)?JSON.parse(r):r)}catch(t){}dt.set(t,n,r)}else r=e;return r}function s(){return!0}function a(){return!1}function l(){try{return W.activeElement}catch(t){}}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t,e,n){if(it.isFunction(e))return it.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return it.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(Tt.test(e))return it.filter(e,t,n);e=it.filter(e,t)}return it.grep(t,function(t){return tt.call(e,t)>=0!==n})}function h(t,e){return it.nodeName(t,"table")&&it.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function f(t){var e=Rt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function d(t,e){for(var n=t.length,r=0;n>r;r++)gt.set(t[r],"globalEval",!e||gt.get(e[r],"globalEval"))}function g(t,e){var n,r,i,o,s,a,l,u;if(1===e.nodeType){if(gt.hasData(t)&&(o=gt.access(t),s=gt.set(e,o),u=o.events)){delete s.handle,s.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)it.event.add(e,i,u[i][n])}dt.hasData(t)&&(a=dt.access(t),l=it.extend({},a),dt.set(e,l))}}function m(t,n){var r=t.getElementsByTagName?t.getElementsByTagName(n||"*"):t.querySelectorAll?t.querySelectorAll(n||"*"):[];return n===e||n&&it.nodeName(t,n)?it.merge([t],r):r}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&jt.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function v(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),r=e,i=Jt.length;i--;)if((e=Jt[i]+n)in t)return e;return r}function b(t,e){return t=e||t,"none"===it.css(t,"display")||!it.contains(t.ownerDocument,t)}function x(e){return t.getComputedStyle(e,null)}function w(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)(r=t[s]).style&&(o[s]=gt.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&b(r)&&(o[s]=gt.access(r,"olddisplay",E(r.nodeName)))):o[s]||(i=b(r),(n&&"none"!==n||!i)&&gt.set(r,"olddisplay",i?n:it.css(r,"display"))));for(s=0;a>s;s++)(r=t[s]).style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function k(t,e,n){var r=Wt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function S(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=it.css(t,n+Xt[o],!0,i)),r?("content"===n&&(s-=it.css(t,"padding"+Xt[o],!0,i)),"margin"!==n&&(s-=it.css(t,"border"+Xt[o]+"Width",!0,i))):(s+=it.css(t,"padding"+Xt[o],!0,i),"padding"!==n&&(s+=it.css(t,"border"+Xt[o]+"Width",!0,i)));return s}function C(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=x(t),s=it.support.boxSizing&&"border-box"===it.css(t,"boxSizing",!1,o);if(0>=i||null==i){if((0>(i=Ht(t,e,o))||null==i)&&(i=t.style[e]),zt.test(i))return i;r=s&&(it.support.boxSizingReliable||i===t.style[e]),i=parseFloat(i)||0}return i+S(t,e,n||(s?"border":"content"),r,o)+"px"}function E(t){var e=W,n=Kt[t];return n||("none"!==(n=T(t,e))&&n||(Bt=(Bt||it("<iframe frameborder=\'0\' width=\'0\' height=\'0\'/>").css("cssText","display:block !important")).appendTo(e.documentElement),(e=(Bt[0].contentWindow||Bt[0].contentDocument).document).write("<!doctype html><html><body>"),e.close(),n=T(t,e),Bt.detach()),Kt[t]=n),n}function T(t,e){var n=it(e.createElement(t)).appendTo(e.body),r=it.css(n[0],"display");return n.remove(),r}function _(t,e,n,r){var i;if(it.isArray(e))it.each(e,function(e,i){n||Zt.test(t)?r(t,i):_(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==it.type(e))r(t,e);else for(i in e)_(t+"["+i+"]",e[i],n,r)}function $(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(st)||[];if(it.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function A(t,n,r,i){function o(l){var u;return s[l]=!0,it.each(t[l]||[],function(t,l){var c=l(n,r,i);return"string"!=typeof c||a||s[c]?a?!(u=c):e:(n.dataTypes.unshift(c),o(c),!1)}),u}var s={},a=t===me;return o(n.dataTypes[0])||!s["*"]&&o("*")}function N(t,n){var r,i,o=it.ajaxSettings.flatOptions||{};for(r in n)n[r]!==e&&((o[r]?t:i||(i={}))[r]=n[r]);return i&&it.extend(!0,t,i),t}function L(t,n,r){for(var i,o,s,a,l=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),i===e&&(i=t.mimeType||n.getResponseHeader("Content-Type"));if(i)for(o in l)if(l[o]&&l[o].test(i)){u.unshift(o);break}if(u[0]in r)s=u[0];else{for(o in r){if(!u[0]||t.converters[o+" "+u[0]]){s=o;break}a||(a=o)}s=s||a}return s?(s!==u[0]&&u.unshift(s),r[s]):e}function I(t,e,n,r){var i,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(i in u)if((a=i.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[i]:!0!==u[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function D(){return setTimeout(function(){Ce=e}),Ce=it.now()}function j(t,e,n){for(var r,i=(Ne[e]||[]).concat(Ne["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function O(t,e,n){var r,i,o=0,s=Ae.length,a=it.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=Ce||D(),n=Math.max(0,u.startTime+u.duration-e),r=1-(n/u.duration||0),o=0,s=u.tweens.length;s>o;o++)u.tweens[o].run(r);return a.notifyWith(t,[u,r,n]),1>r&&s?n:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:it.extend({},e),opts:it.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Ce||D(),duration:n.duration,tweens:[],createTween:function(e,n){var r=it.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(P(c,u.opts.specialEasing);s>o;o++)if(r=Ae[o].call(u,t,c,u.opts))return r;return it.map(c,j,u),it.isFunction(u.opts.start)&&u.opts.start.call(t,u),it.fx.timer(it.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function P(t,e){var n,r,i,o,s;for(n in t)if(r=it.camelCase(n),i=e[r],o=t[n],it.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(s=it.cssHooks[r])&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function R(t,e,n,r,i){return new R.prototype.init(t,e,n,r,i)}function F(t,e){var n,r={height:t},i=0;for(e=e?1:0;4>i;i+=2-e)n=Xt[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function q(t){return it.isWindow(t)?t:9===t.nodeType&&t.defaultView}var H,B,M=typeof e,U=t.location,W=t.document,z=W.documentElement,V=t.jQuery,K=t.$,Q={},G=[],X="2.0.3",J=G.concat,Y=G.push,Z=G.slice,tt=G.indexOf,et=Q.toString,nt=Q.hasOwnProperty,rt=X.trim,it=function(t,e){return new it.fn.init(t,e,H)},ot=/[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/.source,st=/\\S+/g,at=/^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,lt=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,ut=/^-ms-/,ct=/-([\\da-z])/gi,ht=function(t,e){return e.toUpperCase()},pt=function(){W.removeEventListener("DOMContentLoaded",pt,!1),t.removeEventListener("load",pt,!1),it.ready()};it.fn=it.prototype={jquery:X,constructor:it,init:function(t,n,r){var i,o;if(!t)return this;if("string"==typeof t){if(!(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:at.exec(t))||!i[1]&&n)return!n||n.jquery?(n||r).find(t):this.constructor(n).find(t);if(i[1]){if(n=n instanceof it?n[0]:n,it.merge(this,it.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:W,!0)),lt.test(i[1])&&it.isPlainObject(n))for(i in n)it.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}return(o=W.getElementById(i[2]))&&o.parentNode&&(this.length=1,this[0]=o),this.context=W,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):it.isFunction(t)?r.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),it.makeArray(t,this))},selector:"",length:0,toArray:function(){return Z.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=it.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return it.each(this,t,e)},ready:function(t){return it.ready.promise().done(t),this},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},map:function(t){return this.pushStack(it.map(this,function(e,n){return t.call(e,n,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:[].sort,splice:[].splice},it.fn.init.prototype=it.fn,it.extend=it.fn.extend=function(){var t,n,r,i,o,s,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||it.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(t=arguments[l]))for(n in t)r=a[n],i=t[n],a!==i&&(c&&i&&(it.isPlainObject(i)||(o=it.isArray(i)))?(o?(o=!1,s=r&&it.isArray(r)?r:[]):s=r&&it.isPlainObject(r)?r:{},a[n]=it.extend(c,s,i)):i!==e&&(a[n]=i));return a},it.extend({expando:"jQuery"+(X+Math.random()).replace(/\\D/g,""),noConflict:function(e){return t.$===it&&(t.$=K),e&&t.jQuery===it&&(t.jQuery=V),it},isReady:!1,readyWait:1,holdReady:function(t){t?it.readyWait++:it.ready(!0)},ready:function(t){(!0===t?--it.readyWait:it.isReady)||(it.isReady=!0,!0!==t&&--it.readyWait>0||(B.resolveWith(W,[it]),it.fn.trigger&&it(W).trigger("ready").off("ready")))},isFunction:function(t){return"function"===it.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Q[et.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==it.type(t)||t.nodeType||it.isWindow(t))return!1;try{if(t.constructor&&!nt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||W;var r=lt.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=it.buildFragment([t],e,i),i&&it(i).remove(),it.merge([],r.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var n,r;if(!t||"string"!=typeof t)return null;try{r=new DOMParser,n=r.parseFromString(t,"text/xml")}catch(t){n=e}return(!n||n.getElementsByTagName("parsererror").length)&&it.error("Invalid XML: "+t),n},noop:function(){},globalEval:function(t){var e,n=eval;(t=it.trim(t))&&(1===t.indexOf("use strict")?(e=W.createElement("script"),e.text=t,W.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(ut,"ms-").replace(ct,ht)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i=0,o=t.length,s=n(t);if(r){if(s)for(;o>i&&!1!==e.apply(t[i],r);i++);else for(i in t)if(!1===e.apply(t[i],r))break}else if(s)for(;o>i&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":rt.call(t)},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?it.merge(r,"string"==typeof t?[t]:t):Y.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:tt.call(e,t,n)},merge:function(t,n){var r=n.length,i=t.length,o=0;if("number"==typeof r)for(;r>o;o++)t[i++]=n[o];else for(;n[o]!==e;)t[i++]=n[o++];return t.length=i,t},grep:function(t,e,n){var r,i=[],o=0,s=t.length;for(n=!!n;s>o;o++)r=!!e(t[o],o),n!==r&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,s=t.length,a=[];if(n(t))for(;s>o;o++)null!=(i=e(t[o],o,r))&&(a[a.length]=i);else for(o in t)null!=(i=e(t[o],o,r))&&(a[a.length]=i);return J.apply([],a)},guid:1,proxy:function(t,n){var r,i,o;return"string"==typeof n&&(r=t[n],n=t,t=r),it.isFunction(t)?(i=Z.call(arguments,2),o=function(){return t.apply(n||this,i.concat(Z.call(arguments)))},o.guid=t.guid=t.guid||it.guid++,o):e},access:function(t,n,r,i,o,s,a){var l=0,u=t.length,c=null==r;if("object"===it.type(r)){o=!0;for(l in r)it.access(t,n,l,r[l],!0,s,a)}else if(i!==e&&(o=!0,it.isFunction(i)||(a=!0),c&&(a?(n.call(t,i),n=null):(c=n,n=function(t,e,n){return c.call(it(t),n)})),n))for(;u>l;l++)n(t[l],r,a?i:i.call(t[l],l,n(t[l],r)));return o?t:c?n.call(t):u?n(t[0],r):s},now:Date.now,swap:function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i}}),it.ready.promise=function(e){return B||(B=it.Deferred(),"complete"===W.readyState?setTimeout(it.ready):(W.addEventListener("DOMContentLoaded",pt,!1),t.addEventListener("load",pt,!1))),B.promise(e)},it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Q["[object "+e+"]"]=e.toLowerCase()}),H=it(W),function(t,e){function n(t,e,n,r){var i,o,s,a,l,u,p,f,d,g;if((e?e.ownerDocument||e:F)!==N&&A(e),e=e||N,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(I&&!r){if(i=yt.exec(t))if(s=i[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&P(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Y.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&w.getElementsByClassName&&e.getElementsByClassName)return Y.apply(n,e.getElementsByClassName(s)),n}if(w.qsa&&(!D||!D.test(t))){if(f=p=R,d=e,g=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=c(t),(p=e.getAttribute("id"))?f=p.replace(xt,"\\\\$&"):e.setAttribute("id",f),f="[id=\'"+f+"\'] ",l=u.length;l--;)u[l]=f+h(u[l]);d=ht.test(t)&&e.parentNode||e,g=u.join(",")}if(g)try{return Y.apply(n,d.querySelectorAll(g)),n}catch(t){}finally{p||e.removeAttribute("id")}}}return b(t.replace(lt,"$1"),e,n,r)}function r(){function t(n,r){return e.push(n+=" ")>S.cacheLength&&delete t[e.shift()],t[n]=r}var e=[];return t}function i(t){return t[R]=!0,t}function o(t){var e=N.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var n=t.split("|"),r=t.length;r--;)S.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function l(t){return i(function(e){return e=+e,i(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function u(){}function c(t,e){var r,i,o,s,a,l,u,c=M[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=S.preFilter;a;){(!r||(i=ut.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),l.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(lt," ")}),a=a.slice(r.length));for(s in S.filter)!(i=gt[s].exec(a))||u[s]&&!(i=u[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return e?a.length:a?n.error(t):M(t,l).slice(0)}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=H++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,l,u,c=q+" "+o;if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i)if(u=e[R]||(e[R]={}),(l=u[r])&&l[0]===c){if(!0===(a=l[1])||a===k)return!0===a}else if(l=u[r]=[c],l[1]=t(e,n,s)||k,!0===l[1])return!0}}function f(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function d(t,e,n,r,i){for(var o,s=[],a=0,l=t.length,u=null!=e;l>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),u&&e.push(a));return s}function g(t,e,n,r,o,s){return r&&!r[R]&&(r=g(r)),o&&!o[R]&&(o=g(o,s)),i(function(i,s,a,l){var u,c,h,p=[],f=[],g=s.length,m=i||v(e||"*",a.nodeType?[a]:a,[]),y=!t||!i&&e?m:d(m,p,t,a,l),b=n?o||(i?t:g||r)?[]:s:y;if(n&&n(y,b,a,l),r)for(u=d(b,f),r(u,[],a,l),c=u.length;c--;)(h=u[c])&&(b[f[c]]=!(y[f[c]]=h));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(h=b[c])&&u.push(y[c]=h);o(null,b=[],u,l)}for(c=b.length;c--;)(h=b[c])&&(u=o?tt.call(i,h):p[c])>-1&&(i[u]=!(s[u]=h))}}else b=d(b===s?b.splice(g,b.length):b),o?o(null,s,b,l):Y.apply(s,b)})}function m(t){for(var e,n,r,i=t.length,o=S.relative[t[0].type],s=o||S.relative[" "],a=o?1:0,l=p(function(t){return t===e},s,!0),u=p(function(t){return tt.call(e,t)>-1},s,!0),c=[function(t,n,r){return!o&&(r||n!==_)||((e=n).nodeType?l(t,n,r):u(t,n,r))}];i>a;a++)if(n=S.relative[t[a].type])c=[p(f(c),n)];else{if((n=S.filter[t[a].type].apply(null,t[a].matches))[R]){for(r=++a;i>r&&!S.relative[t[r].type];r++);return g(a>1&&f(c),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(lt,"$1"),n,r>a&&m(t.slice(a,r)),i>r&&m(t=t.slice(r)),i>r&&h(t))}c.push(n)}return f(c)}function y(t,e){var r=0,o=e.length>0,s=t.length>0,a=function(i,a,l,u,c){var h,p,f,g=[],m=0,y="0",v=i&&[],b=null!=c,x=_,w=i||s&&S.find.TAG("*",c&&a.parentNode||a),C=q+=null==x?1:Math.random()||.1;for(b&&(_=a!==N&&a,k=r);null!=(h=w[y]);y++){if(s&&h){for(p=0;f=t[p++];)if(f(h,a,l)){u.push(h);break}b&&(q=C,k=++r)}o&&((h=!f&&h)&&m--,i&&v.push(h))}if(m+=y,o&&y!==m){for(p=0;f=e[p++];)f(v,g,a,l);if(i){if(m>0)for(;y--;)v[y]||g[y]||(g[y]=X.call(u));g=d(g)}Y.apply(u,g),b&&!i&&g.length>0&&m+e.length>1&&n.uniqueSort(u)}return b&&(q=C,_=x),v};return o?i(a):a}function v(t,e,r){for(var i=0,o=e.length;o>i;i++)n(t,e[i],r);return r}function b(t,e,n,r){var i,o,s,a,l,u=c(t);if(!r&&1===u.length){if((o=u[0]=u[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&I&&S.relative[o[1].type]){if(!(e=(S.find.ID(s.matches[0].replace(wt,kt),e)||[])[0]))return n;t=t.slice(o.shift().value.length)}for(i=gt.needsContext.test(t)?0:o.length;i--&&(s=o[i],!S.relative[a=s.type]);)if((l=S.find[a])&&(r=l(s.matches[0].replace(wt,kt),ht.test(o[0].type)&&e.parentNode||e))){if(o.splice(i,1),!(t=r.length&&h(o)))return Y.apply(n,r),n;break}}return T(t,u)(r,e,!I,n,ht.test(t)),n}var x,w,k,S,C,E,T,_,$,A,N,L,I,D,j,O,P,R="sizzle"+-new Date,F=t.document,q=0,H=0,B=r(),M=r(),U=r(),W=!1,z=function(t,e){return t===e?(W=!0,0):0},V="undefined",K=1<<31,Q={}.hasOwnProperty,G=[],X=G.pop,J=G.push,Y=G.push,Z=G.slice,tt=G.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\\\x20\\\\t\\\\r\\\\n\\\\f]",rt="(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+",ot=rt.replace("w","w#"),st="\\\\["+nt+"*("+rt+")"+nt+"*(?:([*^$|!~]?=)"+nt+"*(?:([\'\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|("+ot+")|)|)"+nt+"*\\\\]",at=":("+rt+")(?:\\\\((([\'\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|"+st.replace(3,8)+")*)|.*)\\\\)|)",lt=RegExp("^"+nt+"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)"+nt+"+$","g"),ut=RegExp("^"+nt+"*,"+nt+"*"),ct=RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=RegExp(nt+"*[+~]"),pt=RegExp("="+nt+"*([^\\\\]\'\\"]*)"+nt+"*\\\\]","g"),ft=RegExp(at),dt=RegExp("^"+ot+"$"),gt={ID:RegExp("^#("+rt+")"),CLASS:RegExp("^\\\\.("+rt+")"),TAG:RegExp("^("+rt.replace("w","w*")+")"),ATTR:RegExp("^"+st),PSEUDO:RegExp("^"+at),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\("+nt+"*(even|odd|(([+-]|)(\\\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\\\d+)|))"+nt+"*\\\\)|)","i"),bool:RegExp("^(?:"+et+")$","i"),needsContext:RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\("+nt+"*((?:-\\\\d)?\\\\d*)"+nt+"*\\\\)|)(?=[^-]|$)","i")},mt=/^[^{]+\\{\\s*\\[native \\w/,yt=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,vt=/^(?:input|select|textarea|button)$/i,bt=/^h\\d$/i,xt=/\'|\\\\/g,wt=RegExp("\\\\\\\\([\\\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),kt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(55296|r>>10,56320|1023&r)};try{Y.apply(G=Z.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(t){Y={apply:G.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}E=n.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},w=n.support={},A=n.setDocument=function(t){var e=t?t.ownerDocument||t:F,n=e.defaultView;return e!==N&&9===e.nodeType&&e.documentElement?(N=e,L=e.documentElement,I=!E(e),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){A()}),w.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=o(function(t){return t.appendChild(e.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=o(function(t){return t.innerHTML="<div class=\'a\'></div><div class=\'a i\'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),w.getById=o(function(t){return L.appendChild(t).id=R,!e.getElementsByName||!e.getElementsByName(R).length}),w.getById?(S.find.ID=function(t,e){if(typeof e.getElementById!==V&&I){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){return t.getAttribute("id")===e}}):(delete S.find.ID,S.filter.ID=function(t){var e=t.replace(wt,kt);return function(t){var n=typeof t.getAttributeNode!==V&&t.getAttributeNode("id");return n&&n.value===e}}),S.find.TAG=w.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==V?e.getElementsByTagName(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},S.find.CLASS=w.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==V&&I?e.getElementsByClassName(t):void 0},j=[],D=[],(w.qsa=mt.test(e.querySelectorAll))&&(o(function(t){t.innerHTML="<select><option selected=\'\'></option></select>",t.querySelectorAll("[selected]").length||D.push("\\\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll(":checked").length||D.push(":checked")}),o(function(t){var n=e.createElement("input");n.setAttribute("type","hidden"),t.appendChild(n).setAttribute("t",""),t.querySelectorAll("[t^=\'\']").length&&D.push("[*^$]="+nt+"*(?:\'\'|\\"\\")"),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=mt.test(O=L.webkitMatchesSelector||L.mozMatchesSelector||L.oMatchesSelector||L.msMatchesSelector))&&o(function(t){w.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!=\'\']:x"),j.push("!=",at)}),D=D.length&&RegExp(D.join("|")),j=j.length&&RegExp(j.join("|")),P=mt.test(L.contains)||L.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=L.compareDocumentPosition?function(t,n){if(t===n)return W=!0,0;var r=n.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(n);return r?1&r||!w.sortDetached&&n.compareDocumentPosition(t)===r?t===e||P(F,t)?-1:n===e||P(F,n)?1:$?tt.call($,t)-tt.call($,n):0:4&r?-1:1:t.compareDocumentPosition?-1:1}:function(t,n){var r,i=0,o=t.parentNode,s=n.parentNode,l=[t],u=[n];if(t===n)return W=!0,0;if(!o||!s)return t===e?-1:n===e?1:o?-1:s?1:$?tt.call($,t)-tt.call($,n):0;if(o===s)return a(t,n);for(r=t;r=r.parentNode;)l.unshift(r);for(r=n;r=r.parentNode;)u.unshift(r);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===F?-1:u[i]===F?1:0},e):N},n.matches=function(t,e){return n(t,null,null,e)},n.matchesSelector=function(t,e){if((t.ownerDocument||t)!==N&&A(t),e=e.replace(pt,"=\'$1\']"),!(!w.matchesSelector||!I||j&&j.test(e)||D&&D.test(e)))try{var r=O.call(t,e);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){}return n(e,N,null,[t]).length>0},n.contains=function(t,e){return(t.ownerDocument||t)!==N&&A(t),P(t,e)},n.attr=function(t,e){(t.ownerDocument||t)!==N&&A(t);var n=S.attrHandle[e.toLowerCase()],r=n&&Q.call(S.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0===r?w.attributes||!I?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null:r},n.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},n.uniqueSort=function(t){var e,n=[],r=0,i=0;if(W=!w.detectDuplicates,$=!w.sortStable&&t.slice(0),t.sort(z),W){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return t},C=n.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r];r++)n+=C(e);return n},(S=n.selectors={cacheLength:50,createPseudo:i,match:gt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,kt),t[3]=(t[4]||t[5]||"").replace(wt,kt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||n.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&n.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return gt.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:n&&ft.test(n)&&(e=c(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,kt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==V&&t.getAttribute("class")||"")})},ATTR:function(t,e,r){return function(i){var o=n.attr(i,t);return null==o?"!="===e:!e||(o+="","="===e?o===r:"!="===e?o!==r:"^="===e?r&&0===o.indexOf(r):"*="===e?r&&o.indexOf(r)>-1:"$="===e?r&&o.slice(-r.length)===r:"~="===e?(" "+o+" ").indexOf(r)>-1:"|="===e&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,p,f,d,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,y=a&&e.nodeName.toLowerCase(),v=!l&&!a;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(a?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&v){for(f=(u=(c=m[R]||(m[R]={}))[t]||[])[0]===q&&u[1],p=u[0]===q&&u[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(p=f=0)||d.pop();)if(1===h.nodeType&&++p&&h===e){c[t]=[q,f,p];break}}else if(v&&(u=(e[R]||(e[R]={}))[t])&&u[0]===q)p=u[1];else for(;(h=++f&&h&&h[g]||(p=f=0)||d.pop())&&((a?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++p||(v&&((h[R]||(h[R]={}))[t]=[q,p]),h!==e)););return(p-=i)===r||0==p%r&&p/r>=0}}},PSEUDO:function(t,e){var r,o=S.pseudos[t]||S.setFilters[t.toLowerCase()]||n.error("unsupported pseudo: "+t);return o[R]?o(e):o.length>1?(r=[t,t,"",e],S.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,n){for(var r,i=o(t,e),s=i.length;s--;)r=tt.call(t,i[s]),t[r]=!(n[r]=i[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=T(t.replace(lt,"$1"));return r[R]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(t){return function(e){return n(t,e).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return dt.test(t||"")||n.error("unsupported lang: "+t),t=t.replace(wt,kt).toLowerCase(),function(e){var n;do{if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===L},focus:function(t){return t===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return bt.test(t.nodeName)},input:function(t){return vt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=0>n?n+e:n;e>++r;)t.push(r);return t})}}).pseudos.nth=S.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=function(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}(x);u.prototype=S.filters=S.pseudos,S.setFilters=new u,T=n.compile=function(t,e){var n,r=[],i=[],o=U[t+" "];if(!o){for(e||(e=c(t)),n=e.length;n--;)(o=m(e[n]))[R]?r.push(o):i.push(o);o=U(t,y(i,r))}return o},w.sortStable=R.split("").sort(z).join("")===R,w.detectDuplicates=W,A(),w.sortDetached=o(function(t){return 1&t.compareDocumentPosition(N.createElement("div"))}),o(function(t){return t.innerHTML="<a href=\'#\'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||s(et,function(t,e,n){var r;return n?void 0:(r=t.getAttributeNode(e))&&r.specified?r.value:!0===t[e]?e.toLowerCase():null}),it.find=n,it.expr=n.selectors,it.expr[":"]=it.expr.pseudos,it.unique=n.uniqueSort,it.text=n.getText,it.isXMLDoc=n.isXML,it.contains=n.contains}(t);var ft={};it.Callbacks=function(t){var n,i,o,s,a,l,u=[],c=!(t="string"==typeof t?ft[t]||r(t):it.extend({},t)).once&&[],h=function(e){for(n=t.memory&&e,i=!0,l=s||0,s=0,a=u.length,o=!0;u&&a>l;l++)if(!1===u[l].apply(e[0],e[1])&&t.stopOnFalse){n=!1;break}o=!1,u&&(c?c.length&&h(c.shift()):n?u=[]:p.disable())},p={add:function(){if(u){var e=u.length;(function e(n){it.each(n,function(n,r){var i=it.type(r);"function"===i?t.unique&&p.has(r)||u.push(r):r&&r.length&&"string"!==i&&e(r)})})(arguments),o?a=u.length:n&&(s=e,h(n))}return this},remove:function(){return u&&it.each(arguments,function(t,e){for(var n;(n=it.inArray(e,u,n))>-1;)u.splice(n,1),o&&(a>=n&&a--,l>=n&&l--)}),this},has:function(t){return t?it.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=n=e,this},disabled:function(){return!u},lock:function(){return c=e,n||p.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||i&&!c||(e=e||[],e=[t,e.slice?e.slice():e],o?c.push(e):h(e)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},it.extend({Deferred:function(t){var e=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return it.Deferred(function(n){it.each(e,function(e,o){var s=o[0],a=it.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&it.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?it.extend(t,r):r}},i={};return r.pipe=r.then,it.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=Z.call(arguments),s=o.length,a=1!==s||t&&it.isFunction(t.promise)?s:0,l=1===a?t:it.Deferred(),u=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?Z.call(arguments):i,r===e?l.notifyWith(n,r):--a||l.resolveWith(n,r)}};if(s>1)for(e=Array(s),n=Array(s),r=Array(s);s>i;i++)o[i]&&it.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,e)):--a;return a||l.resolveWith(r,o),l.promise()}}),it.support=function(e){var n=W.createElement("input"),r=W.createDocumentFragment(),i=W.createElement("div"),o=W.createElement("select"),s=o.appendChild(W.createElement("option"));return n.type?(n.type="checkbox",e.checkOn=""!==n.value,e.optSelected=s.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,n.checked=!0,e.noCloneChecked=n.cloneNode(!0).checked,o.disabled=!0,e.optDisabled=!s.disabled,n=W.createElement("input"),n.value="t",n.type="radio",e.radioValue="t"===n.value,n.setAttribute("checked","t"),n.setAttribute("name","t"),r.appendChild(n),e.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,i.style.backgroundClip="content-box",i.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===i.style.backgroundClip,it(function(){var n,r,o=W.getElementsByTagName("body")[0];o&&(n=W.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",o.appendChild(n).appendChild(i),i.innerHTML="",i.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",it.swap(o,null!=o.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===i.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(i,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(i,null)||{width:"4px"}).width,r=i.appendChild(W.createElement("div")),r.style.cssText=i.style.cssText="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r.style.marginRight=r.style.width="0",i.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight)),o.removeChild(n))}),e):e}({});var dt,gt,mt=/(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,yt=/([A-Z])/g;i.uid=1,i.accepts=function(t){return!t.nodeType||(1===t.nodeType||9===t.nodeType)},i.prototype={key:function(t){if(!i.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=i.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,it.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(it.isEmptyObject(o))it.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,n){var r=this.cache[this.key(t)];return n===e?r:r[n]},access:function(t,n,r){var i;return n===e||n&&"string"==typeof n&&r===e?(i=this.get(t,n))!==e?i:this.get(t,it.camelCase(n)):(this.set(t,n,r),r!==e?r:n)},remove:function(t,n){var r,i,o,s=this.key(t),a=this.cache[s];if(n===e)this.cache[s]={};else{it.isArray(n)?i=n.concat(n.map(it.camelCase)):(o=it.camelCase(n),n in a?i=[n,o]:(i=o,i=i in a?[i]:i.match(st)||[])),r=i.length;for(;r--;)delete a[i[r]]}},hasData:function(t){return!it.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}},dt=new i,gt=new i,it.extend({acceptData:i.accepts,hasData:function(t){return dt.hasData(t)||gt.hasData(t)},data:function(t,e,n){return dt.access(t,e,n)},removeData:function(t,e){dt.remove(t,e)},_data:function(t,e,n){return gt.access(t,e,n)},_removeData:function(t,e){gt.remove(t,e)}}),it.fn.extend({data:function(t,n){var r,i,s=this[0],a=0,l=null;if(t===e){if(this.length&&(l=dt.get(s),1===s.nodeType&&!gt.get(s,"hasDataAttrs"))){for(r=s.attributes;r.length>a;a++)0===(i=r[a].name).indexOf("data-")&&(i=it.camelCase(i.slice(5)),o(s,i,l[i]));gt.set(s,"hasDataAttrs",!0)}return l}return"object"==typeof t?this.each(function(){dt.set(this,t)}):it.access(this,function(n){var r,i=it.camelCase(t);if(s&&n===e){if((r=dt.get(s,t))!==e)return r;if((r=dt.get(s,i))!==e)return r;if((r=o(s,i,e))!==e)return r}else this.each(function(){var r=dt.get(this,i);dt.set(this,i,n),-1!==t.indexOf("-")&&r!==e&&dt.set(this,t,n)})},null,n,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){dt.remove(this,t)})}}),it.extend({queue:function(t,n,r){var i;return t?(n=(n||"fx")+"queue",i=gt.get(t,n),r&&(!i||it.isArray(r)?i=gt.access(t,n,it.makeArray(r)):i.push(r)),i||[]):e},dequeue:function(t,e){e=e||"fx";var n=it.queue(t,e),r=n.length,i=n.shift(),o=it._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){it.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return gt.get(t,n)||gt.access(t,n,{empty:it.Callbacks("once memory").add(function(){gt.remove(t,[e+"queue",n])})})}}),it.fn.extend({queue:function(t,n){var r=2;return"string"!=typeof t&&(n=t,t="fx",r--),r>arguments.length?it.queue(this[0],t):n===e?this:this.each(function(){var e=it.queue(this,t,n);it._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&it.dequeue(this,t)})},dequeue:function(t){return this.each(function(){it.dequeue(this,t)})},delay:function(t,e){return t=it.fx?it.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,n){var r,i=1,o=it.Deferred(),s=this,a=this.length,l=function(){--i||o.resolveWith(s,[s])};for("string"!=typeof t&&(n=t,t=e),t=t||"fx";a--;)(r=gt.get(s[a],t+"queueHooks"))&&r.empty&&(i++,r.empty.add(l));return l(),o.promise(n)}});var vt,bt=/[\\t\\r\\n\\f]/g,xt=/\\r/g,wt=/^(?:input|select|textarea|button)$/i;it.fn.extend({attr:function(t,e){return it.access(this,it.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){it.removeAttr(this,t)})},prop:function(t,e){return it.access(this,it.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[it.propFix[t]||t]})},addClass:function(t){var e,n,r,i,o,s=0,a=this.length,l="string"==typeof t&&t;if(it.isFunction(t))return this.each(function(e){it(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(st)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(bt," "):" ")){for(o=0;i=e[o++];)0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=it.trim(r)}return this},removeClass:function(t){var e,n,r,i,o,s=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(it.isFunction(t))return this.each(function(e){it(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(st)||[];a>s;s++)if(n=this[s],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(bt," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");n.className=t?it.trim(r):""}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):it.isFunction(t)?this.each(function(n){it(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,r=0,i=it(this),o=t.match(st)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===M||"boolean"===n)&&(this.className&&gt.set(this,"__className__",this.className),this.className=this.className||!1===t?"":gt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(bt," ").indexOf(e)>=0)return!0;return!1},val:function(t){var n,r,i,o=this[0];return arguments.length?(i=it.isFunction(t),this.each(function(r){var o;1===this.nodeType&&(null==(o=i?t.call(this,r,it(this).val()):t)?o="":"number"==typeof o?o+="":it.isArray(o)&&(o=it.map(o,function(t){return null==t?"":t+""})),(n=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,o,"value")!==e||(this.value=o))})):o?(n=it.valHooks[o.type]||it.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&(r=n.get(o,"value"))!==e?r:"string"==typeof(r=o.value)?r.replace(xt,""):null==r?"":r:void 0}}),it.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,l=0>i?a:o?i:0;a>l;l++)if(!(!(n=r[l]).selected&&l!==i||(it.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&it.nodeName(n.parentNode,"optgroup"))){if(e=it(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=it.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=it.inArray(it(r).val(),o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}},attr:function(t,n,r){var i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===M?it.prop(t,n,r):(1===s&&it.isXMLDoc(t)||(n=n.toLowerCase(),i=it.attrHooks[n]||(it.expr.match.bool.test(n)?vt:void 0)),r===e?i&&"get"in i&&null!==(o=i.get(t,n))?o:null==(o=it.find.attr(t,n))?e:o:null!==r?i&&"set"in i&&(o=i.set(t,r,n))!==e?o:(t.setAttribute(n,r+""),r):(it.removeAttr(t,n),e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(st);if(o&&1===t.nodeType)for(;n=o[i++];)r=it.propFix[n]||n,it.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!it.support.radioValue&&"radio"===e&&it.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},propFix:{for:"htmlFor",class:"className"},prop:function(t,n,r){var i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return(1!==s||!it.isXMLDoc(t))&&(n=it.propFix[n]||n,o=it.propHooks[n]),r!==e?o&&"set"in o&&(i=o.set(t,r,n))!==e?i:t[n]=r:o&&"get"in o&&null!==(i=o.get(t,n))?i:t[n]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||wt.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),vt={set:function(t,e,n){return!1===e?it.removeAttr(t,n):t.setAttribute(n,n),n}},it.each(it.expr.match.bool.source.match(/\\w+/g),function(t,n){var r=it.expr.attrHandle[n]||it.find.attr;it.expr.attrHandle[n]=function(t,n,i){var o=it.expr.attrHandle[n],s=i?e:(it.expr.attrHandle[n]=e)!=r(t,n,i)?n.toLowerCase():null;return it.expr.attrHandle[n]=o,s}}),it.support.optSelected||(it.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(t,n){return it.isArray(n)?t.checked=it.inArray(it(t).val(),n)>=0:e}},it.support.checkOn||(it.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var kt=/^key/,St=/^(?:mouse|contextmenu)|click/,Ct=/^(?:focusinfocus|focusoutblur)$/,Et=/^([^.]*)(?:\\.(.+)|)$/;it.event={global:{},add:function(t,n,r,i,o){var s,a,l,u,c,h,p,f,d,g,m,y=gt.get(t);if(y){for(r.handler&&(s=r,r=s.handler,o=s.selector),r.guid||(r.guid=it.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return typeof it===M||t&&it.event.triggered===t.type?e:it.event.dispatch.apply(a.elem,arguments)},a.elem=t),c=(n=(n||"").match(st)||[""]).length;c--;)l=Et.exec(n[c])||[],d=m=l[1],g=(l[2]||"").split(".").sort(),d&&(p=it.event.special[d]||{},d=(o?p.delegateType:p.bindType)||d,p=it.event.special[d]||{},h=it.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:o,needsContext:o&&it.expr.match.needsContext.test(o),namespace:g.join(".")},s),(f=u[d])||(f=u[d]=[],f.delegateCount=0,p.setup&&!1!==p.setup.call(t,i,g,a)||t.addEventListener&&t.addEventListener(d,a,!1)),p.add&&(p.add.call(t,h),h.handler.guid||(h.handler.guid=r.guid)),o?f.splice(f.delegateCount++,0,h):f.push(h),it.event.global[d]=!0);t=null}},remove:function(t,e,n,r,i){var o,s,a,l,u,c,h,p,f,d,g,m=gt.hasData(t)&&gt.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(st)||[""]).length;u--;)if(a=Et.exec(e[u])||[],f=g=a[1],d=(a[2]||"").split(".").sort(),f){for(h=it.event.special[f]||{},p=l[f=(r?h.delegateType:h.bindType)||f]||[],a=a[2]&&RegExp("(^|\\\\.)"+d.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"),s=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(t,c));s&&!p.length&&(h.teardown&&!1!==h.teardown.call(t,d,m.handle)||it.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)it.event.remove(t,f+e[u],n,r,!0);it.isEmptyObject(l)&&(delete m.handle,gt.remove(t,"events"))}},trigger:function(n,r,i,o){var s,a,l,u,c,h,p,f=[i||W],d=nt.call(n,"type")?n.type:n,g=nt.call(n,"namespace")?n.namespace.split("."):[];if(a=l=i=i||W,3!==i.nodeType&&8!==i.nodeType&&!Ct.test(d+it.event.triggered)&&(d.indexOf(".")>=0&&(g=d.split("."),d=g.shift(),g.sort()),c=0>d.indexOf(":")&&"on"+d,n=n[it.expando]?n:new it.Event(d,"object"==typeof n&&n),n.isTrigger=o?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?RegExp("(^|\\\\.)"+g.join("\\\\.(?:.*\\\\.|)")+"(\\\\.|$)"):null,n.result=e,n.target||(n.target=i),r=null==r?[n]:it.makeArray(r,[n]),p=it.event.special[d]||{},o||!p.trigger||!1!==p.trigger.apply(i,r))){if(!o&&!p.noBubble&&!it.isWindow(i)){for(u=p.delegateType||d,Ct.test(u+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),l=a;l===(i.ownerDocument||W)&&f.push(l.defaultView||l.parentWindow||t)}for(s=0;(a=f[s++])&&!n.isPropagationStopped();)n.type=s>1?u:p.bindType||d,(h=(gt.get(a,"events")||{})[n.type]&&gt.get(a,"handle"))&&h.apply(a,r),(h=c&&a[c])&&it.acceptData(a)&&h.apply&&!1===h.apply(a,r)&&n.preventDefault();return n.type=d,o||n.isDefaultPrevented()||p._default&&!1!==p._default.apply(f.pop(),r)||!it.acceptData(i)||c&&it.isFunction(i[d])&&!it.isWindow(i)&&((l=i[c])&&(i[c]=null),it.event.triggered=d,i[d](),it.event.triggered=e,l&&(i[c]=l)),n.result}},dispatch:function(t){t=it.event.fix(t);var n,r,i,o,s,a=[],l=Z.call(arguments),u=(gt.get(this,"events")||{})[t.type]||[],c=it.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,t)){for(a=it.event.handlers.call(this,t,u),n=0;(o=a[n++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,r=0;(s=o.handlers[r++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,(i=((it.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,l))!==e&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,n){var r,i,o,s,a=[],l=n.delegateCount,u=t.target;if(l&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==t.type){for(i=[],r=0;l>r;r++)s=n[r],o=s.selector+" ",i[o]===e&&(i[o]=s.needsContext?it(o,this).index(u)>=0:it.find(o,this,null,[u]).length),i[o]&&i.push(s);i.length&&a.push({elem:u,handlers:i})}return n.length>l&&a.push({elem:this,handlers:n.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,n){var r,i,o,s=n.button;return null==t.pageX&&null!=n.clientX&&(r=t.target.ownerDocument||W,i=r.documentElement,o=r.body,t.pageX=n.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),t.pageY=n.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),t.which||s===e||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[it.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=St.test(i)?this.mouseHooks:kt.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new it.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=W),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):e},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&it.nodeName(this,"input")?(this.click(),!1):e},_default:function(t){return it.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=it.extend(new it.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?it.event.trigger(i,null,e):it.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},it.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},it.Event=function(t,n){return this instanceof it.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?s:a):this.type=t,n&&it.extend(this,n),this.timeStamp=t&&t.timeStamp||it.now(),this[it.expando]=!0,e):new it.Event(t,n)},it.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=s,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=s,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){it.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!it.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),it.support.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(t,e){var n=0,r=function(t){it.event.simulate(e,t.target,it.event.fix(t),!0)};it.event.special[e]={setup:function(){0==n++&&W.addEventListener(t,r,!0)},teardown:function(){0==--n&&W.removeEventListener(t,r,!0)}}}),it.fn.extend({on:function(t,n,r,i,o){var s,l;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=e);for(l in t)this.on(l,n,r,t[l],o);return this}if(null==r&&null==i?(i=n,r=n=e):null==i&&("string"==typeof n?(i=r,r=e):(i=r,r=n,n=e)),!1===i)i=a;else if(!i)return this;return 1===o&&(s=i,i=function(t){return it().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=it.guid++)),this.each(function(){it.event.add(this,t,i,r,n)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,n,r){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,it(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,n,t[o]);return this}return(!1===n||"function"==typeof n)&&(r=n,n=e),!1===r&&(r=a),this.each(function(){it.event.remove(this,t,r,n)})},trigger:function(t,e){return this.each(function(){it.event.trigger(t,e,this)})},triggerHandler:function(t,n){var r=this[0];return r?it.event.trigger(t,n,r,!0):e}});var Tt=/^.[^:#\\[\\.,]*$/,_t=/^(?:parents|prev(?:Until|All))/,$t=it.expr.match.needsContext,At={children:!0,contents:!0,next:!0,prev:!0};it.fn.extend({find:function(t){var e,n=[],r=this,i=r.length;if("string"!=typeof t)return this.pushStack(it(t).filter(function(){for(e=0;i>e;e++)if(it.contains(r[e],this))return!0}));for(e=0;i>e;e++)it.find(t,r[e],n);return n=this.pushStack(i>1?it.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},has:function(t){var e=it(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(it.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(c(this,t||[],!0))},filter:function(t){return this.pushStack(c(this,t||[],!1))},is:function(t){return!!c(this,"string"==typeof t&&$t.test(t)?it(t):t||[],!1).length},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=$t.test(t)||"string"!=typeof t?it(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(11>n.nodeType&&(s?s.index(n)>-1:1===n.nodeType&&it.find.matchesSelector(n,t))){n=o.push(n);break}return this.pushStack(o.length>1?it.unique(o):o)},index:function(t){return t?"string"==typeof t?tt.call(it(t),this[0]):tt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var n="string"==typeof t?it(t,e):it.makeArray(t&&t.nodeType?[t]:t),r=it.merge(this.get(),n);return this.pushStack(it.unique(r))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),it.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return it.dir(t,"parentNode")},parentsUntil:function(t,e,n){return it.dir(t,"parentNode",n)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return it.dir(t,"nextSibling")},prevAll:function(t){return it.dir(t,"previousSibling")},nextUntil:function(t,e,n){return it.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return it.dir(t,"previousSibling",n)},siblings:function(t){return it.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return it.sibling(t.firstChild)},contents:function(t){return t.contentDocument||it.merge([],t.childNodes)}},function(t,e){it.fn[t]=function(n,r){var i=it.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=it.filter(r,i)),this.length>1&&(At[t]||it.unique(i),_t.test(t)&&i.reverse()),this.pushStack(i)}}),it.extend({filter:function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?it.find.matchesSelector(r,t)?[r]:[]:it.find.matches(t,it.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,n,r){for(var i=[],o=r!==e;(t=t[n])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&it(t).is(r))break;i.push(t)}return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}});var Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,Lt=/<([\\w:]+)/,It=/<|&#?\\w+;/,Dt=/<(?:script|style|link)/i,jt=/^(?:checkbox|radio)$/i,Ot=/checked\\s*(?:[^=]|=\\s*.checked.)/i,Pt=/^$|\\/(?:java|ecma)script/i,Rt=/^true\\/(.*)/,Ft=/^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,qt={option:[1,"<select multiple=\'multiple\'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td,it.fn.extend({text:function(t){return it.access(this,function(t){return t===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||W).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||h(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?it.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||it.cleanData(m(n)),n.parentNode&&(e&&it.contains(n.ownerDocument,n)&&d(m(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(it.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return it.clone(this,t,e)})},html:function(t){return it.access(this,function(t){var n=this[0]||{},r=0,i=this.length;if(t===e&&1===n.nodeType)return n.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!qt[(Lt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Nt,"<$1></$2>");try{for(;i>r;r++)1===(n=this[r]||{}).nodeType&&(it.cleanData(m(n,!1)),n.innerHTML=t);n=0}catch(t){}}n&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=it.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(n){var r=t[e++],i=t[e++];i&&(r&&r.parentNode!==i&&(r=this.nextSibling),it(this).remove(),i.insertBefore(n,r))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,n){t=J.apply([],t);var r,i,o,s,a,l,u=0,c=this.length,h=this,d=c-1,g=t[0],y=it.isFunction(g);if(y||!(1>=c||"string"!=typeof g||it.support.checkClone)&&Ot.test(g))return this.each(function(r){var i=h.eq(r);y&&(t[0]=g.call(this,r,i.html())),i.domManip(t,e,n)});if(c&&(r=it.buildFragment(t,this[0].ownerDocument,!1,!n&&this),i=r.firstChild,1===r.childNodes.length&&(r=i),i)){for(s=(o=it.map(m(r,"script"),p)).length;c>u;u++)a=r,u!==d&&(a=it.clone(a,!0,!0),s&&it.merge(o,m(a,"script"))),e.call(this[u],a,u);if(s)for(l=o[o.length-1].ownerDocument,it.map(o,f),u=0;s>u;u++)a=o[u],Pt.test(a.type||"")&&!gt.access(a,"globalEval")&&it.contains(l,a)&&(a.src?it._evalUrl(a.src):it.globalEval(a.textContent.replace(Ft,"")))}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){it.fn[t]=function(t){for(var n,r=[],i=it(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),it(i[s])[e](n),Y.apply(r,n.get());return this.pushStack(r)}}),it.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),l=it.contains(t.ownerDocument,t);if(!(it.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||it.isXMLDoc(t)))for(s=m(a),o=m(t),r=0,i=o.length;i>r;r++)y(o[r],s[r]);if(e)if(n)for(o=o||m(t),s=s||m(a),r=0,i=o.length;i>r;r++)g(o[r],s[r]);else g(t,a);return(s=m(a,"script")).length>0&&d(s,!l&&m(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,l,u,c=0,h=t.length,p=e.createDocumentFragment(),f=[];h>c;c++)if((i=t[c])||0===i)if("object"===it.type(i))it.merge(f,i.nodeType?[i]:i);else if(It.test(i)){for(o=o||p.appendChild(e.createElement("div")),s=(Lt.exec(i)||["",""])[1].toLowerCase(),a=qt[s]||qt._default,o.innerHTML=a[1]+i.replace(Nt,"<$1></$2>")+a[2],u=a[0];u--;)o=o.lastChild;it.merge(f,o.childNodes),(o=p.firstChild).textContent=""}else f.push(e.createTextNode(i));for(p.textContent="",c=0;i=f[c++];)if((!r||-1===it.inArray(i,r))&&(l=it.contains(i.ownerDocument,i),o=m(p.appendChild(i),"script"),l&&d(o),n))for(u=0;i=o[u++];)Pt.test(i.type||"")&&n.push(i);return p},cleanData:function(t){for(var n,r,o,s,a,l,u=it.event.special,c=0;(r=t[c])!==e;c++){if(i.accepts(r)&&(a=r[gt.expando])&&(n=gt.cache[a])){if((o=Object.keys(n.events||{})).length)for(l=0;(s=o[l])!==e;l++)u[s]?it.event.remove(r,s):it.removeEvent(r,s,n.handle);gt.cache[a]&&delete gt.cache[a]}delete dt.cache[r[dt.expando]]}},_evalUrl:function(t){return it.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})}}),it.fn.extend({wrapAll:function(t){var e;return it.isFunction(t)?this.each(function(e){it(this).wrapAll(t.call(this,e))}):(this[0]&&(e=it(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return it.isFunction(t)?this.each(function(e){it(this).wrapInner(t.call(this,e))}):this.each(function(){var e=it(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=it.isFunction(t);return this.each(function(n){it(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}});var Ht,Bt,Mt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Wt=RegExp("^("+ot+")(.*)$","i"),zt=RegExp("^("+ot+")(?!px)[a-z%]+$","i"),Vt=RegExp("^([+-])=("+ot+")","i"),Kt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:0,fontWeight:400},Xt=["Top","Right","Bottom","Left"],Jt=["Webkit","O","Moz","ms"];it.fn.extend({css:function(t,n){return it.access(this,function(t,n,r){var i,o,s={},a=0;if(it.isArray(n)){for(i=x(t),o=n.length;o>a;a++)s[n[a]]=it.css(t,n[a],!1,i);return s}return r!==e?it.style(t,n,r):it.css(t,n)},t,n,arguments.length>1)},show:function(){return w(this,!0)},hide:function(){return w(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){b(this)?it(this).show():it(this).hide()})}}),it.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ht(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,n,r,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,s,a,l=it.camelCase(n),u=t.style;return n=it.cssProps[l]||(it.cssProps[l]=v(u,l)),a=it.cssHooks[n]||it.cssHooks[l],r===e?a&&"get"in a&&(o=a.get(t,!1,i))!==e?o:u[n]:("string"===(s=typeof r)&&(o=Vt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(it.css(t,n)),s="number"),null==r||"number"===s&&isNaN(r)||("number"!==s||it.cssNumber[l]||(r+="px"),it.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(u[n]="inherit"),a&&"set"in a&&(r=a.set(t,r,i))===e||(u[n]=r)),e)}},css:function(t,n,r,i){var o,s,a,l=it.camelCase(n);return n=it.cssProps[l]||(it.cssProps[l]=v(t.style,l)),(a=it.cssHooks[n]||it.cssHooks[l])&&"get"in a&&(o=a.get(t,!0,r)),o===e&&(o=Ht(t,n,i)),"normal"===o&&n in Gt&&(o=Gt[n]),""===r||r?(s=parseFloat(o),!0===r||it.isNumeric(s)?s||0:o):o}}),Ht=function(t,n,r){var i,o,s,a=r||x(t),l=a?a.getPropertyValue(n)||a[n]:e,u=t.style;return a&&(""!==l||it.contains(t.ownerDocument,t)||(l=it.style(t,n)),zt.test(l)&&Ut.test(n)&&(i=u.width,o=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=a.width,u.width=i,u.minWidth=o,u.maxWidth=s)),l},it.each(["height","width"],function(t,n){it.cssHooks[n]={get:function(t,r,i){return r?0===t.offsetWidth&&Mt.test(it.css(t,"display"))?it.swap(t,Qt,function(){return C(t,n,i)}):C(t,n,i):e},set:function(t,e,r){var i=r&&x(t);return k(0,e,r?S(t,n,r,it.support.boxSizing&&"border-box"===it.css(t,"boxSizing",!1,i),i):0)}}}),it(function(){it.support.reliableMarginRight||(it.cssHooks.marginRight={get:function(t,n){return n?it.swap(t,{display:"inline-block"},Ht,[t,"marginRight"]):e}}),!it.support.pixelPosition&&it.fn.position&&it.each(["top","left"],function(t,n){it.cssHooks[n]={get:function(t,r){return r?(r=Ht(t,n),zt.test(r)?it(t).position()[n]+"px":r):e}}})}),it.expr&&it.expr.filters&&(it.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight},it.expr.filters.visible=function(t){return!it.expr.filters.hidden(t)}),it.each({margin:"",padding:"",border:"Width"},function(t,e){it.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Xt[r]+e]=o[r]||o[r-2]||o[0];return i}},Ut.test(t)||(it.cssHooks[t+e].set=k)});var Yt=/%20/g,Zt=/\\[\\]$/,te=/\\r?\\n/g,ee=/^(?:submit|button|image|reset|file)$/i,ne=/^(?:input|select|textarea|keygen)/i;it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=it.prop(this,"elements");return t?it.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!it(this).is(":disabled")&&ne.test(this.nodeName)&&!ee.test(t)&&(this.checked||!jt.test(t))}).map(function(t,e){var n=it(this).val();return null==n?null:it.isArray(n)?it.map(n,function(t){return{name:e.name,value:t.replace(te,"\\r\\n")}}):{name:e.name,value:n.replace(te,"\\r\\n")}}).get()}}),it.param=function(t,n){var r,i=[],o=function(t,e){e=it.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(n===e&&(n=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(t)||t.jquery&&!it.isPlainObject(t))it.each(t,function(){o(this.name,this.value)});else for(r in t)_(r,t[r],n,o);return i.join("&").replace(Yt,"+")},it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){it.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),it.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var re,ie,oe=it.now(),se=/\\?/,ae=/#.*$/,le=/([?&])_=[^&]*/,ue=/^(.*?):[ \\t]*([^\\r\\n]*)$/gm,ce=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,he=/^(?:GET|HEAD)$/,pe=/^\\/\\//,fe=/^([\\w.+-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,de=it.fn.load,ge={},me={},ye="*/".concat("*");try{ie=U.href}catch(t){(ie=W.createElement("a")).href="",ie=ie.href}re=fe.exec(ie.toLowerCase())||[],it.fn.load=function(t,n,r){if("string"!=typeof t&&de)return de.apply(this,arguments);var i,o,s,a=this,l=t.indexOf(" ");return l>=0&&(i=t.slice(l),t=t.slice(0,l)),it.isFunction(n)?(r=n,n=e):n&&"object"==typeof n&&(o="POST"),a.length>0&&it.ajax({url:t,type:o,dataType:"html",data:n}).done(function(t){s=arguments,a.html(i?it("<div>").append(it.parseHTML(t)).find(i):t)}).complete(r&&function(t,e){a.each(r,s||[t.responseText,e,t])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){it.fn[e]=function(t){return this.on(e,t)}}),it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ie,type:"GET",isLocal:ce.test(re[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?N(N(t,it.ajaxSettings),e):N(it.ajaxSettings,t)},ajaxPrefilter:$(ge),ajaxTransport:$(me),ajax:function(t,n){function r(t,n,r,a){var u,h,v,b,w,S=n;2!==x&&(x=2,l&&clearTimeout(l),i=e,s=a||"",k.readyState=t>0?4:0,u=t>=200&&300>t||304===t,r&&(b=L(p,k,r)),b=I(p,b,k,u),u?(p.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(it.lastModified[o]=w),(w=k.getResponseHeader("etag"))&&(it.etag[o]=w)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=b.state,h=b.data,v=b.error,u=!v)):(v=S,(t||!S)&&(S="error",0>t&&(t=0))),k.status=t,k.statusText=(n||S)+"",u?g.resolveWith(f,[h,S,k]):g.rejectWith(f,[k,S,v]),k.statusCode(y),y=e,c&&d.trigger(u?"ajaxSuccess":"ajaxError",[k,p,u?h:v]),m.fireWith(f,[k,S]),c&&(d.trigger("ajaxComplete",[k,p]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=e),n=n||{};var i,o,s,a,l,u,c,h,p=it.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?it(f):it.event,g=it.Deferred(),m=it.Callbacks("once memory"),y=p.statusCode||{},v={},b={},x=0,w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!a)for(a={};e=ue.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=b[n]=b[n]||t,v[t]=e),this},overrideMimeType:function(t){return x||(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)y[e]=[y[e],t[e]];else k.always(t[k.status]);return this},abort:function(t){var e=t||w;return i&&i.abort(e),r(0,e),this}};if(g.promise(k).complete=m.add,k.success=k.done,k.error=k.fail,p.url=((t||p.url||ie)+"").replace(ae,"").replace(pe,re[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=it.trim(p.dataType||"*").toLowerCase().match(st)||[""],null==p.crossDomain&&(u=fe.exec(p.url.toLowerCase()),p.crossDomain=!(!u||u[1]===re[1]&&u[2]===re[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(re[3]||("http:"===re[1]?"80":"443")))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=it.param(p.data,p.traditional)),A(ge,p,n,k),2===x)return k;(c=p.global)&&0==it.active++&&it.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!he.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(se.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(p.url=le.test(o)?o.replace(le,"$1_="+oe++):o+(se.test(o)?"&":"?")+"_="+oe++)),p.ifModified&&(it.lastModified[o]&&k.setRequestHeader("If-Modified-Since",it.lastModified[o]),it.etag[o]&&k.setRequestHeader("If-None-Match",it.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+ye+"; q=0.01":""):p.accepts["*"]);for(h in p.headers)k.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(f,k,p)||2===x))return k.abort();w="abort";for(h in{success:1,error:1,complete:1})k[h](p[h]);if(i=A(me,p,n,k)){k.readyState=1,c&&d.trigger("ajaxSend",[k,p]),p.async&&p.timeout>0&&(l=setTimeout(function(){k.abort("timeout")},p.timeout));try{x=1,i.send(v,r)}catch(t){if(!(2>x))throw t;r(-1,t)}}else r(-1,"No Transport");return k},getJSON:function(t,e,n){return it.get(t,e,n,"json")},getScript:function(t,n){return it.get(t,e,n,"script")}}),it.each(["get","post"],function(t,n){it[n]=function(t,r,i,o){return it.isFunction(r)&&(o=o||i,i=r,r=e),it.ajax({url:t,type:n,dataType:o,data:r,success:i})}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return it.globalEval(t),t}}}),it.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),it.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=it("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),W.head.appendChild(e[0])},abort:function(){n&&n()}}}});var ve=[],be=/(=)\\?(?=&|$)|\\?\\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ve.pop()||it.expando+"_"+oe++;return this[t]=!0,t}}),it.ajaxPrefilter("json jsonp",function(n,r,i){var o,s,a,l=!1!==n.jsonp&&(be.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&be.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=it.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(be,"$1"+o):!1!==n.jsonp&&(n.url+=(se.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return a||it.error(o+" was not called"),a[0]},n.dataTypes[0]="json",s=t[o],t[o]=function(){a=arguments},i.always(function(){t[o]=s,n[o]&&(n.jsonpCallback=r.jsonpCallback,ve.push(o)),a&&it.isFunction(s)&&s(a[0]),a=s=e}),"script"):e}),it.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var xe=it.ajaxSettings.xhr(),we={0:200,1223:204},ke=0,Se={};t.ActiveXObject&&it(t).on("unload",function(){for(var t in Se)Se[t]();Se=e}),it.support.cors=!!xe&&"withCredentials"in xe,it.support.ajax=xe=!!xe,it.ajaxTransport(function(t){var n;return it.support.cors||xe&&!t.crossDomain?{send:function(r,i){var o,s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(o in r)a.setRequestHeader(o,r[o]);n=function(t){return function(){n&&(delete Se[s],n=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?i(a.status||404,a.statusText):i(we[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:e,a.getAllResponseHeaders()))}},a.onload=n(),a.onerror=n("error"),n=Se[s=ke++]=n("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){n&&n()}}:e});var Ce,Ee,Te=/^(?:toggle|show|hide)$/,_e=RegExp("^(?:([+-])=|)("+ot+")([a-z%]*)$","i"),$e=/queueHooks$/,Ae=[function(t,n,r){var i,o,s,a,l,u,c=this,h={},p=t.style,f=t.nodeType&&b(t),d=gt.get(t,"fxshow");r.queue||(null==(l=it._queueHooks(t,"fx")).unqueued&&(l.unqueued=0,u=l.empty.fire,l.empty.fire=function(){l.unqueued||u()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,it.queue(t,"fx").length||l.empty.fire()})})),1===t.nodeType&&("height"in n||"width"in n)&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===it.css(t,"display")&&"none"===it.css(t,"float")&&(p.display="inline-block")),r.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]}));for(i in n)if(o=n[i],Te.exec(o)){if(delete n[i],s=s||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!d||d[i]===e)continue;f=!0}h[i]=d&&d[i]||it.style(t,i)}if(!it.isEmptyObject(h)){d?"hidden"in d&&(f=d.hidden):d=gt.access(t,"fxshow",{}),s&&(d.hidden=!f),f?it(t).show():c.done(function(){it(t).hide()}),c.done(function(){var e;gt.remove(t,"fxshow");for(e in h)it.style(t,e,h[e])});for(i in h)a=j(f?d[i]:0,i,c),i in d||(d[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}],Ne={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=_e.exec(e),o=i&&i[3]||(it.cssNumber[t]?"":"px"),s=(it.cssNumber[t]||"px"!==o&&+r)&&_e.exec(it.css(n.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do{a=a||".5",s/=a,it.style(n.elem,t,s+o)}while(a!==(a=n.cur()/r)&&1!==a&&--l)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};it.Animation=it.extend(O,{tweener:function(t,e){it.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],Ne[n]=Ne[n]||[],Ne[n].unshift(e)},prefilter:function(t,e){e?Ae.unshift(t):Ae.push(t)}}),it.Tween=R,R.prototype={constructor:R,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(it.cssNumber[n]?"":"px")},cur:function(){var t=R.propHooks[this.prop];return t&&t.get?t.get(this):R.propHooks._default.get(this)},run:function(t){var e,n=R.propHooks[this.prop];return this.pos=e=this.options.duration?it.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=it.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){it.fx.step[t.prop]?it.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[it.cssProps[t.prop]]||it.cssHooks[t.prop])?it.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},it.each(["toggle","show","hide"],function(t,e){var n=it.fn[e];it.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(F(e,!0),t,r,i)}}),it.fn.extend({fadeTo:function(t,e,n,r){return this.filter(b).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=it.isEmptyObject(t),o=it.speed(e,n,r),s=function(){var e=O(this,it.extend({},t),o);(i||gt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,n,r){var i=function(t){var e=t.stop;delete t.stop,e(r)};return"string"!=typeof t&&(r=n,n=t,t=e),n&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,n=null!=t&&t+"queueHooks",o=it.timers,s=gt.get(this);if(n)s[n]&&s[n].stop&&i(s[n]);else for(n in s)s[n]&&s[n].stop&&$e.test(n)&&i(s[n]);for(n=o.length;n--;)o[n].elem!==this||null!=t&&o[n].queue!==t||(o[n].anim.stop(r),e=!1,o.splice(n,1));(e||!r)&&it.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=gt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=it.timers,s=r?r.length:0;for(n.finish=!0,it.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),it.each({slideDown:F("show"),slideUp:F("hide"),slideToggle:F("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){it.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),it.speed=function(t,e,n){var r=t&&"object"==typeof t?it.extend({},t):{complete:n||!n&&e||it.isFunction(t)&&t,duration:t,easing:n&&e||e&&!it.isFunction(e)&&e};return r.duration=it.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in it.fx.speeds?it.fx.speeds[r.duration]:it.fx.speeds._default,(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){it.isFunction(r.old)&&r.old.call(this),r.queue&&it.dequeue(this,r.queue)},r},it.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},it.timers=[],it.fx=R.prototype.init,it.fx.tick=function(){var t,n=it.timers,r=0;for(Ce=it.now();n.length>r;r++)(t=n[r])()||n[r]!==t||n.splice(r--,1);n.length||it.fx.stop(),Ce=e},it.fx.timer=function(t){t()&&it.timers.push(t)&&it.fx.start()},it.fx.interval=13,it.fx.start=function(){Ee||(Ee=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(Ee),Ee=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fx.step={},it.expr&&it.expr.filters&&(it.expr.filters.animated=function(t){return it.grep(it.timers,function(e){return t===e.elem}).length}),it.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){it.offset.setOffset(this,t,e)});var n,r,i=this[0],o={top:0,left:0},s=i&&i.ownerDocument;return s?(n=s.documentElement,it.contains(n,i)?(typeof i.getBoundingClientRect!==M&&(o=i.getBoundingClientRect()),r=q(s),{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}):o):void 0},it.offset={setOffset:function(t,e,n){var r,i,o,s,a,l,u=it.css(t,"position"),c=it(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=it.css(t,"top"),l=it.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(r=c.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(l)||0),it.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):c.css(h)}},it.fn.extend({position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===it.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),it.nodeName(t[0],"html")||(r=t.offset()),r.top+=it.css(t[0],"borderTopWidth",!0),r.left+=it.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-it.css(n,"marginTop",!0),left:e.left-r.left-it.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||z;t&&!it.nodeName(t,"html")&&"static"===it.css(t,"position");)t=t.offsetParent;return t||z})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var i="pageYOffset"===r;it.fn[n]=function(o){return it.access(this,function(n,o,s){var a=q(n);return s===e?a?a[r]:n[o]:(a?a.scrollTo(i?t.pageXOffset:s,i?s:t.pageYOffset):n[o]=s,e)},n,o,arguments.length,null)}}),it.each({Height:"height",Width:"width"},function(t,n){it.each({padding:"inner"+t,content:n,"":"outer"+t},function(r,i){it.fn[i]=function(i,o){var s=arguments.length&&(r||"boolean"!=typeof i),a=r||(!0===i||!0===o?"margin":"border");return it.access(this,function(n,r,i){var o;return it.isWindow(n)?n.document.documentElement["client"+t]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+t],o["scroll"+t],n.body["offset"+t],o["offset"+t],o["client"+t])):i===e?it.css(n,r,a):it.style(n,r,i,a)},n,s?i:e,s,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=it:"function"==typeof define&&define.amd&&define("jquery",[],function(){return it}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=it)}(window),function(t,e){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){t.Backbone=e(t,i,n,r)});else if("undefined"!=typeof exports){var n=require("underscore");e(t,exports,n)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(this,function(t,e,n,r){var i=t.Backbone,o=[],s=o.slice;e.VERSION="1.1.2",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=e.Events={on:function(t,e,n){return u(this,"on",t,[e,n])&&e?(this._events||(this._events={}),(this._events[t]||(this._events[t]=[])).push({callback:e,context:n,ctx:n||this}),this):this},once:function(t,e,r){if(!u(this,"once",t,[e,r])||!e)return this;var i=this,o=n.once(function(){i.off(t,o),e.apply(this,arguments)});return o._callback=e,this.on(t,o,r)},off:function(t,e,r){var i,o,s,a,l,c,h,p;if(!this._events||!u(this,"off",t,[e,r]))return this;if(!t&&!e&&!r)return this._events=void 0,this;for(l=0,c=(a=t?[t]:n.keys(this._events)).length;l<c;l++)if(t=a[l],s=this._events[t]){if(this._events[t]=i=[],e||r)for(h=0,p=s.length;h<p;h++)o=s[h],(e&&e!==o.callback&&e!==o.callback._callback||r&&r!==o.context)&&i.push(o);i.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=s.call(arguments,1);if(!u(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&c(n,e),r&&c(r,arguments),this},stopListening:function(t,e,r){var i=this._listeningTo;if(!i)return this;var o=!e&&!r;r||"object"!=typeof e||(r=this),t&&((i={})[t._listenId]=t);for(var s in i)(t=i[s]).off(e,r,this),(o||n.isEmpty(t._events))&&delete this._listeningTo[s];return this}},l=/\\s+/,u=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(l.test(n)){for(var o=n.split(l),s=0,a=o.length;s<a;s++)t[e].apply(t,[o[s]].concat(r));return!1}return!0},c=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},h={listenTo:"on",listenToOnce:"once"};n.each(h,function(t,e){a[e]=function(e,r,i){return(this._listeningTo||(this._listeningTo={}))[e._listenId||(e._listenId=n.uniqueId("l"))]=e,i||"object"!=typeof r||(i=this),e[t](r,i,this),this}}),a.bind=a.on,a.unbind=a.off,n.extend(e,a);var p=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId("c"),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,r){var i,o,s,a,l,u,c,h;if(null==t)return this;if("object"==typeof t?(o=t,r=e):(o={})[t]=e,r||(r={}),!this._validate(o,r))return!1;s=r.unset,l=r.silent,a=[],u=this._changing,this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={}),h=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(i in o)e=o[i],n.isEqual(h[i],e)||a.push(i),n.isEqual(c[i],e)?delete this.changed[i]:this.changed[i]=e,s?delete h[i]:h[i]=e;if(!l){a.length&&(this._pending=r);for(var p=0,f=a.length;p<f;p++)this.trigger("change:"+a[p],this,h[a[p]],r)}if(u)return this;if(!l)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=!1,i=this._changing?this._previousAttributes:this.attributes;for(var o in t)n.isEqual(i[o],e=t[o])||((r||(r={}))[o]=e);return r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){void 0===(t=t?n.clone(t):{}).parse&&(t.parse=!0);var e=this,r=t.success;return t.success=function(n){if(!e.set(e.parse(n,t),t))return!1;r&&r(e,n,t),e.trigger("sync",e,n,t)},P(this,t),this.sync("read",this,t)},save:function(t,e,r){var i,o,s,a=this.attributes;if(null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0},r),i&&!r.wait){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;i&&r.wait&&(this.attributes=n.extend({},a,i)),void 0===r.parse&&(r.parse=!0);var l=this,u=r.success;return r.success=function(t){l.attributes=a;var e=l.parse(t,r);if(r.wait&&(e=n.extend(i||{},e)),n.isObject(e)&&!l.set(e,r))return!1;u&&u(l,t,r),l.trigger("sync",l,t,r)},P(this,r),"patch"===(o=this.isNew()?"create":r.patch?"patch":"update")&&(r.attrs=i),s=this.sync(o,this,r),i&&r.wait&&(this.attributes=a),s},destroy:function(t){var e=this,r=(t=t?n.clone(t):{}).success,i=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(n){(t.wait||e.isNew())&&i(),r&&r(e,n,t),e.isNew()||e.trigger("sync",e,n,t)},this.isNew())return t.success(),!1;P(this,t);var o=this.sync("delete",this,t);return t.wait||i(),o},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||O();return this.isNew()?t:t.replace(/([^\\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var f=["keys","values","pairs","invert","pick","omit"];n.each(f,function(t){p.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.attributes),n[t].apply(n,e)}});var d=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},g={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(d.prototype,a,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,m))},remove:function(t,e){var r=!n.isArray(t);t=r?[t]:n.clone(t),e||(e={});var i,o,s,a;for(i=0,o=t.length;i<o;i++)(a=t[i]=this.get(t[i]))&&(delete this._byId[a.id],delete this._byId[a.cid],s=this.indexOf(a),this.models.splice(s,1),this.length--,e.silent||(e.index=s,a.trigger("remove",a,this,e)),this._removeReference(a,e));return r?t[0]:t},set:function(t,e){(e=n.defaults({},e,g)).parse&&(t=this.parse(t,e));var r=!n.isArray(t);t=r?t?[t]:[]:n.clone(t);var i,o,s,a,l,u,c,h=e.at,f=this.model,d=this.comparator&&null==h&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null,y=[],v=[],b={},x=e.add,w=e.merge,k=e.remove,S=!(d||!x||!k)&&[];for(i=0,o=t.length;i<o;i++){if(l=t[i]||{},s=l instanceof p?a=l:l[f.prototype.idAttribute||"id"],u=this.get(s))k&&(b[u.cid]=!0),w&&(l=l===a?a.attributes:l,e.parse&&(l=u.parse(l,e)),u.set(l,e),d&&!c&&u.hasChanged(m)&&(c=!0)),t[i]=u;else if(x){if(!(a=t[i]=this._prepareModel(l,e)))continue;y.push(a),this._addReference(a,e)}a=u||a,!S||!a.isNew()&&b[a.id]||S.push(a),b[a.id]=!0}if(k){for(i=0,o=this.length;i<o;++i)b[(a=this.models[i]).cid]||v.push(a);v.length&&this.remove(v,e)}if(y.length||S&&S.length)if(d&&(c=!0),this.length+=y.length,null!=h)for(i=0,o=y.length;i<o;i++)this.models.splice(h+i,0,y[i]);else{S&&(this.models.length=0);var C=S||y;for(i=0,o=C.length;i<o;i++)this.models.push(C[i])}if(c&&this.sort({silent:!0}),!e.silent){for(i=0,o=y.length;i<o;i++)(a=y[i]).trigger("add",a,this,e);(c||S&&S.length)&&this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,i=this.models.length;r<i;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(){return s.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){return n.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return n.invoke(this.models,"get",t)},fetch:function(t){void 0===(t=t?n.clone(t):{}).parse&&(t.parse=!0);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e(r,n,t),r.trigger("sync",r,n,t)},P(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?n.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var r=this,i=e.success;return e.success=function(t,n){e.wait&&r.add(t,e),i&&i(t,n,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t;(e=e?n.clone(e):{}).collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_addReference:function(t,e){this._byId[t.cid]=t,null!=t.id&&(this._byId[t.id]=t),t.collection||(t.collection=this),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(y,function(t){d.prototype[t]=function(){var e=s.call(arguments);return e.unshift(this.models),n[t].apply(n,e)}});var v=["groupBy","countBy","sortBy","indexBy"];n.each(v,function(t){d.prototype[t]=function(e,r){var i=n.isFunction(e)?e:function(t){return t.get(e)};return n[t](this.models,i,r)}});var b=e.View=function(t){this.cid=n.uniqueId("view"),t||(t={}),n.extend(this,n.pick(t,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},x=/^(\\S+)\\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,a,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=n.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[t[e]]),r){var i=e.match(x),o=i[1],s=i[2];r=n.bind(r,this),o+=".delegateEvents"+this.cid,""===s?this.$el.on(o,r):this.$el.on(o,s,r)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className"));var r=e.$("<"+n.result(this,"tagName")+">").attr(t);this.setElement(r,!1)}}}),e.sync=function(t,r,i){var o=S[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:"json"};if(i.url||(s.url=n.result(r,"url")||O()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(s.contentType="application/json",s.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",i.emulateJSON&&(s.data._method=o);var a=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||i.emulateJSON||(s.processData=!1),"PATCH"===s.type&&k&&(s.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=i.xhr=e.ajax(n.extend(s,i));return r.trigger("request",r,l,i),l};var k=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),S={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var C=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\\((.*?)\\)/g,T=/(\\(\\?)?:\\w+/g,_=/\\*\\w+/g,$=/[\\-{}\\[\\]+?.,\\\\\\^$|#\\s]/g;n.extend(C.prototype,a,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var s=o._extractParameters(t,n);o.execute(i,s),o.trigger.apply(o,["route:"+r].concat(s)),o.trigger("route",r,s),e.history.trigger("route",o,r,s)}),this},execute:function(t,e){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace($,"\\\\$&").replace(E,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/?]+)"}).replace(_,"([^?]*?)"),new RegExp("^"+t+"(?:\\\\?([\\\\s\\\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var A=e.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\\/]|\\s+$/g,L=/^\\/+|\\/+$/g,I=/msie [\\w.]+/,D=/\\/$/,j=/#.*$/;A.started=!1,n.extend(A.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(D,"");t.indexOf(n)||(t=t.slice(n.length))}else t=this.getHash();return t.replace(N,"")},start:function(t){if(A.started)throw new Error("Backbone.history has already been started");A.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment(),i=document.documentMode,o=I.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);if(this.root=("/"+this.root+"/").replace(L,"/"),o&&this._wantsHashChange){var s=e.$(\'<iframe src="javascript:0" tabindex="-1">\');this.iframe=s.hide().appendTo("body")[0].contentWindow,this.navigate(r)}this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=r;var a=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&a.hash&&(this.fragment=this.getHash().replace(N,""),this.history.replaceState({},document.title,this.root+this.fragment))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return t=this.fragment=this.getFragment(t),n.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(t,e){if(!A.started)return!1;e&&!0!==e||(e={trigger:!!e});var n=this.root+(t=this.getFragment(t||""));if(t=t.replace(j,""),this.fragment!==t){if(this.fragment=t,""===t&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new A;p.extend=d.extend=C.extend=b.extend=A.extend=function(t,e){var r,i=this;r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e);var o=function(){this.constructor=r};return o.prototype=i.prototype,r.prototype=new o,t&&n.extend(r.prototype,t),r.__super__=i.prototype,r};var O=function(){throw new Error(\'A "url" property or function must be specified\')},P=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}};return e}),"undefined"==typeof jQuery)throw new Error("Bootstrap\'s JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,r=this;t(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||t(r).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),function(t){"use strict";var e=\'[data-dismiss="alert"]\',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.2.0",n.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var r=t(this),i=r.attr("data-target");i||(i=r.attr("href"),i=i&&i.replace(/.*(?=#[^\\s]*$)/,""));var o=t(i);e&&e.preventDefault(),o.length||(o=r.hasClass("alert")?r:r.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var r=t(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),"string"==typeof e&&i[e].call(r)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.button"),o="object"==typeof e&&e;i||r.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();e+="Text",null==o.resetText&&r.data("resetText",r[i]()),r[i](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest(\'[data-toggle="buttons"]\');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var r=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=r,this},t(document).on("click.bs.button.data-api",\'[data-toggle^="button"]\',function(n){var r=t(n.target);r.hasClass("btn")||(r=r.closest(".btn")),e.call(r,"toggle"),n.preventDefault()})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.carousel"),o=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e),s="string"==typeof e?e:o.slide;i||r.data("bs.carousel",i=new n(this,o)),"number"==typeof e?i.to(e):s?i[s]():o.interval&&i.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,r=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):r==e?this.pause().cycle():this.slide(e>r?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,n){var r=this.$element.find(".item.active"),i=n||r[e](),o=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[a]()}if(i.hasClass("active"))return this.sliding=!1;var u=i[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(i)]);h&&h.addClass("active")}var p=t.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,r.addClass(s),i.addClass(s),r.one("bsTransitionEnd",function(){i.removeClass([e,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*r.css("transition-duration").slice(0,-1))):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var r=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=r,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var r,i=t(this),o=t(i.attr("data-target")||(r=i.attr("href"))&&r.replace(/.*(?=#[^\\s]+$)/,""));if(o.hasClass("carousel")){var s=t.extend({},o.data(),i.data()),a=i.attr("data-slide-to");a&&(s.interval=!1),e.call(o,s),a&&o.data("bs.carousel").to(a),n.preventDefault()}}),t(window).on("load",function(){t(\'[data-ride="carousel"]\').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.collapse"),o=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);!i&&o.toggle&&"show"==e&&(e=!e),i||r.data("bs.collapse",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,r){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var r=this.$parent&&this.$parent.find("> .panel > .in");if(r&&r.length){var i=r.data("bs.collapse");if(i&&i.transitioning)return;e.call(r,"hide"),i||r.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var a=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(350):r.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var r=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",\'[data-toggle="collapse"]\',function(n){var r,i=t(this),o=i.attr("data-target")||n.preventDefault()||(r=i.attr("href"))&&r.replace(/.*(?=#[^\\s]+$)/,""),s=t(o),a=s.data("bs.collapse"),l=a?"toggle":i.data(),u=i.attr("data-parent"),c=u&&t(u);a&&a.transitioning||(c&&c.find(\'[data-toggle="collapse"][data-parent="\'+u+\'"]\').not(i).addClass("collapsed"),i[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(s,l)})}(jQuery),function(t){"use strict";function e(e){e&&3===e.which||(t(r).remove(),t(i).each(function(){var r=n(t(this)),i={relatedTarget:this};r.hasClass("open")&&(r.trigger(e=t.Event("hide.bs.dropdown",i)),e.isDefaultPrevented()||r.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}var r=".dropdown-backdrop",i=\'[data-toggle="dropdown"]\',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.2.0",o.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(\'<div class="dropdown-backdrop"/>\').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",a)),r.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var r=t(this);if(e.preventDefault(),e.stopPropagation(),!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&o.find(i).trigger("focus"),r.trigger("click");var a=" li:not(.divider):visible a",l=o.find(\'[role="menu"]\'+a+\', [role="listbox"]\'+a);if(l.length){var u=l.index(l.filter(":focus"));38==e.keyCode&&u>0&&u--,40==e.keyCode&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new o(this)),"string"==typeof e&&r[e].call(n)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",i,o.prototype.toggle).on("keydown.bs.dropdown.data-api",i+\', [role="menu"], [role="listbox"]\',o.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,r){return this.each(function(){var i=t(this),o=i.data("bs.modal"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);o||i.data("bs.modal",o=new n(this,s)),"string"==typeof e?o[e](r):s.show&&o.show(r)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",\'[data-dismiss="modal"]\',t.proxy(this.hide,this)),this.backdrop(function(){var r=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=t.Event("shown.bs.modal",{relatedTarget:e});r?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&r;if(this.$backdrop=t(\'<div class="modal-backdrop \'+r+\'" />\').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var r=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=r,this},t(document).on("click.bs.modal.data-api",\'[data-toggle="modal"]\',function(n){var r=t(this),i=r.attr("href"),o=t(r.attr("data-target")||i&&i.replace(/.*(?=#[^\\s]+$)/,"")),s=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),e.call(o,s,this)})}(jQuery),function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.VERSION="3.2.0",e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:\'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>\',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,r){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var s=i[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focusin",l="hover"==s?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,r){n[t]!=r&&(e[t]=r)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var r=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\\s?auto?\\s?/i,l=a.test(s);l&&(s=s.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var u=this.getPosition(),c=i[0].offsetWidth,h=i[0].offsetHeight;if(l){var p=s,f=this.$element.parent(),d=this.getPosition(f);s="bottom"==s&&u.top+u.height+h-d.scroll>d.height?"top":"top"==s&&u.top-d.scroll-h<0?"bottom":"right"==s&&u.right+c>d.width?"left":"left"==s&&u.left-c<d.left?"right":s,i.removeClass(p).addClass(s)}var g=this.getCalculatedOffset(s,u,c,h);this.applyPlacement(g,s);var m=function(){r.$element.trigger("shown.bs."+r.type),r.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},e.prototype.applyPlacement=function(e,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,s=parseInt(r.css("margin-top"),10),a=parseInt(r.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),e.top=e.top+s,e.left=e.left+a,t.offset.setOffset(r[0],t.extend({using:function(t){r.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),r.addClass("in");var l=r[0].offsetWidth,u=r[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=c.left?2*c.left-i+l:2*c.top-o+u,p=c.left?"left":"top",f=c.left?"offsetWidth":"offsetHeight";r.offset(e),this.replaceArrow(h,r[0][f],p)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&r.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,r=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(r.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],r="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:r?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:r?t(window).width():e.outerWidth(),height:r?t(window).height():e.outerHeight()},r?{top:0,left:0}:e.offset())},e.prototype.getCalculatedOffset=function(t,e,n,r){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-r,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-r/2,left:e.left-n}:{top:e.top+e.height/2-r/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,s=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-o-s.scroll,l=e.top+o-s.scroll+r;a<s.top?i.top=s.top-a:l>s.top+s.height&&(i.top=s.top+s.height-l)}else{var u=e.left-o,c=e.left+o+n;u<s.left?i.left=s.left-u:c>s.width&&(i.left=s.left+s.width-c)}return i},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var r=t(this),i=r.data("bs.tooltip"),o="object"==typeof n&&n;(i||"destroy"!=n)&&(i||r.data("bs.tooltip",i=new e(this,o)),"string"==typeof n&&i[n]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.2.0",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:\'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>\'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var r=t(this),i=r.data("bs.popover"),o="object"==typeof n&&n;(i||"destroy"!=n)&&(i||r.data("bs.popover",i=new e(this,o)),"string"==typeof n&&i[n]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(n,r){var i=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,r),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var r=t(this),i=r.data("bs.scrollspy"),o="object"==typeof n&&n;i||r.data("bs.scrollspy",i=new e(this,o)),"string"==typeof n&&i[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var r=this;this.$body.find(this.selector).map(function(){var r=t(this),i=r.data("target")||r.attr("href"),o=/^#./.test(i)&&t(i);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,i]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){r.offsets.push(this[0]),r.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),r=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,s=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=r)return s!=(t=o[o.length-1])&&this.activate(t);if(s&&e<=i[0])return s!=(t=o[0])&&this.activate(t);for(t=i.length;t--;)s!=o[t]&&e>=i[t]&&(!i[t+1]||e<=i[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+\'[data-target="\'+e+\'"],\'+this.selector+\'[href="\'+e+\'"]\',r=t(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var r=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=r,this},t(window).on("load.bs.scrollspy.data-api",function(){t(\'[data-spy="scroll"]\').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new n(this)),"string"==typeof e&&i[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),r=e.data("target");if(r||(r=e.attr("href"),r=r&&r.replace(/.*(?=#[^\\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:i});if(e.trigger(o),!o.isDefaultPrevented()){var s=t(r);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(e,n,r){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),r&&r()}var o=n.find("> .active"),s=r&&t.support.transition&&o.hasClass("fade");s?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var r=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=r,this},t(document).on("click.bs.tab.data-api",\'[data-toggle="tab"], [data-toggle="pill"]\',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),i=r.data("bs.affix"),o="object"==typeof e&&e;i||r.data("bs.affix",i=new n(this,o)),"string"==typeof e&&i[e]()})}var n=function(e,r){this.options=t.extend({},n.DEFAULTS,r),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),r=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,s=o.top,a=o.bottom;"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top(this.$element)),"function"==typeof a&&(a=o.bottom(this.$element));var l=!(null!=this.unpin&&r+this.unpin<=i.top)&&(null!=a&&i.top+this.$element.height()>=e-a?"bottom":null!=s&&s>=r&&"top");if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var u="affix"+(l?"-"+l:""),c=t.Event(u+".bs.affix");this.$element.trigger(c),c.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(u).trigger(t.Event(u.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-a}))}}};var r=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=r,this},t(window).on("load",function(){t(\'[data-spy="affix"]\').each(function(){var n=t(this),r=n.data();r.offset=r.offset||{},r.offsetBottom&&(r.offset.bottom=r.offsetBottom),r.offsetTop&&(r.offset.top=r.offsetTop),e.call(n,r)})})}(jQuery),function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g,"\\\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){t.each(e,function(t,e){return n(e,t)})},map:t.map,filter:t.grep,every:function(e,n){var r=!0;return e?(t.each(e,function(t,i){if(!(r=n.call(null,i,t,e)))return!1}),!!r):r},some:function(e,n){var r=!1;return e?(t.each(e,function(t,i){if(r=n.call(null,i,t,e))return!1}),!!r):r},mixin:t.extend,getUniqueId:function(){var t=0;return function(){return t++}}(),templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r,i;return function(){var o,s,a=this,l=arguments;return o=function(){r=null,n||(i=t.apply(a,l))},s=n&&!r,clearTimeout(r),r=setTimeout(o,e),s&&(i=t.apply(a,l)),i}},throttle:function(t,e){var n,r,i,o,s,a;return s=0,a=function(){s=new Date,i=null,o=t.apply(n,r)},function(){var l=new Date,u=e-(l-s);return n=this,r=arguments,u<=0?(clearTimeout(i),i=null,s=l,o=t.apply(n,r)):i||(i=setTimeout(a,u)),o}},noop:function(){}}}(),n="0.10.4",r=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\\s+/):[]}function n(t){return(t=e.toStr(t))?t.split(/\\W+/):[]}function r(t){return function(){var n=[].slice.call(arguments,0);return function(r){var i=[];return e.each(n,function(n){i=i.concat(t(e.toStr(r[n])))}),i}}}return{nonword:n,whitespace:t,obj:{nonword:r(n),whitespace:r(t)}}}(),i=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function r(){this.head=this.tail=null}function i(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,r=this.list.tail;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key]),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new i(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new r}}),e.mixin(r.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),o=function(){"use strict";function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix))}function n(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function i(t){return JSON.parse(t)}var o,s;try{(o=window.localStorage).setItem("~~~","!"),o.removeItem("~~~")}catch(t){o=null}return s=o&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),i(o.getItem(this._prefix(t)))},set:function(t,i,s){return e.isNumber(s)?o.setItem(this._ttlKey(t),r(n()+s)):o.removeItem(this._ttlKey(t)),o.setItem(this._prefix(t),r(i))},remove:function(t){return o.removeItem(this._ttlKey(t)),o.removeItem(this._prefix(t)),this},clear:function(){var t,e,n=[],r=o.length;for(t=0;t<r;t++)(e=o.key(t)).match(this.keyMatcher)&&n.push(e.replace(this.keyMatcher,""));for(t=n.length;t--;)this.remove(n[t]);return this},isExpired:function(t){var r=i(o.getItem(this._ttlKey(t)));return!!(e.isNumber(r)&&n()>r)}}:{get:e.noop,set:e.noop,remove:e.noop,clear:e.noop,isExpired:e.noop},e.mixin(t.prototype,s),t}(),s=function(){"use strict";function n(e){e=e||{},this.cancelled=!1,this.lastUrl=null,this._send=e.transport?r(e.transport):t.ajax,this._get=e.rateLimiter?e.rateLimiter(this._get):this._get,this._cache=!1===e.cache?new i(0):l}function r(n){return function(r,i){var o=t.Deferred();return n(r,i,function(t){e.defer(function(){o.resolve(t)})},function(t){e.defer(function(){o.reject(t)})}),o}}var o=0,s={},a=6,l=new i(10);return n.setMaxPendingRequests=function(t){a=t},n.resetCache=function(){l.reset()},e.mixin(n.prototype,{_get:function(t,e,n){function r(e){n&&n(null,e),u._cache.set(t,e)}function i(){n&&n(!0)}var l,u=this;this.cancelled||t!==this.lastUrl||((l=s[t])?l.done(r).fail(i):o<a?(o++,s[t]=this._send(t,e).done(r).fail(i).always(function(){o--,delete s[t],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(t,n,r){var i;return e.isFunction(n)&&(r=n,n={}),this.cancelled=!1,this.lastUrl=t,(i=this._cache.get(t))?e.defer(function(){r&&r(null,i)}):this._get(t,n,r),!!i},cancel:function(){this.cancelled=!0}}),n}(),a=function(){"use strict";function n(e){(e=e||{}).datumTokenizer&&e.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=e.datumTokenizer,this.queryTokenizer=e.queryTokenizer,this.reset()}function r(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function i(t){for(var e={},n=[],r=0,i=t.length;r<i;r++)e[t[r]]||(e[t[r]]=!0,n.push(t[r]));return n}function o(t,e){function n(t,e){return t-e}var r=0,i=0,o=[];t=t.sort(n),e=e.sort(n);for(var s=t.length,a=e.length;r<s&&i<a;)t[r]<e[i]?r++:t[r]>e[i]?i++:(o.push(t[r]),r++,i++);return o}return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var i,o;i=n.datums.push(t)-1,o=r(n.datumTokenizer(t)),e.each(o,function(t){var e,r,o;for(e=n.trie,r=t.split("");o=r.shift();)(e=e.children[o]||(e.children[o]={ids:[],children:{}})).ids.push(i)})})},get:function(t){var n,s,a=this;return n=r(this.queryTokenizer(t)),e.each(n,function(t){var e,n,r,i;if(s&&0===s.length)return!1;for(e=a.trie,n=t.split("");e&&(r=n.shift());)e=e.children[r];if(!e||0!==n.length)return s=[],!1;i=e.ids.slice(0),s=s?o(s,i):i}),s?e.map(i(s),function(t){return a.datums[t]}):[]},reset:function(){this.datums=[],this.trie={ids:[],children:{}}},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";return{local:function(t){return t.local||null},prefetch:function(r){var i,o;return o={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}},(i=r.prefetch||null)&&(i=e.isString(i)?{url:i}:i,(i=e.mixin(o,i)).thumbprint=n+i.thumbprint,i.ajax.type=i.ajax.type||"GET",i.ajax.dataType=i.ajax.dataType||"json",!i.url&&t.error("prefetch requires url to be set")),i},remote:function(n){var r,i;return i={url:null,cache:!0,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}},(r=n.remote||null)&&(r=e.isString(r)?{url:r}:r,(r=e.mixin(i,r)).rateLimiter=/^throttle$/i.test(r.rateLimitBy)?function(t){return function(n){return e.throttle(n,t)}}(r.rateLimitWait):function(t){return function(n){return e.debounce(n,t)}}(r.rateLimitWait),r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",delete r.rateLimitBy,delete r.rateLimitWait,!r.url&&t.error("remote requires url to be set")),r}}}();!function(n){"use strict";function i(e){e&&(e.local||e.prefetch||e.remote)||t.error("one of local, prefetch, or remote is required"),this.limit=e.limit||5,this.sorter=u(e.sorter),this.dupDetector=e.dupDetector||c,this.local=l.local(e),this.prefetch=l.prefetch(e),this.remote=l.remote(e),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer}),this.storage=this.cacheKey?new o(this.cacheKey):null}function u(t){return e.isFunction(t)?function(e){return e.sort(t)}:function(t){return t}}function c(){return!1}var h,p;h=n.Bloodhound,p={data:"data",protocol:"protocol",thumbprint:"thumbprint"},n.Bloodhound=i,i.noConflict=function(){return n.Bloodhound=h,i},i.tokenizers=r,e.mixin(i.prototype,{_loadPrefetch:function(e){var n,r,i=this;return(n=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(n),r=t.Deferred().resolve()):r=t.ajax(e.url,e.ajax).done(function(t){i.clear(),i.add(e.filter?e.filter(t):t),i._saveToStorage(i.index.serialize(),e.thumbprint,e.ttl)}),r},_getFromRemote:function(t,e){var n,r,i=this;if(this.transport)return t=t||"",r=encodeURIComponent(t),n=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,r),this.transport.get(n,this.remote.ajax,function(t,n){e(t?[]:i.remote.filter?i.remote.filter(n):n)})},_cancelLastRemoteRequest:function(){this.transport&&this.transport.cancel()},_saveToStorage:function(t,e,n){this.storage&&(this.storage.set(p.data,t,n),this.storage.set(p.protocol,location.protocol,n),this.storage.set(p.thumbprint,e,n))},_readFromStorage:function(t){var e,n={};return this.storage&&(n.data=this.storage.get(p.data),n.protocol=this.storage.get(p.protocol),n.thumbprint=this.storage.get(p.thumbprint)),e=n.thumbprint!==t||n.protocol!==location.protocol,n.data&&!e?n.data:null},_initialize:function(){var n,r=this,i=this.local;return n=this.prefetch?this._loadPrefetch(this.prefetch):t.Deferred().resolve(),i&&n.done(function(){r.add(e.isFunction(i)?i():i)}),this.transport=this.remote?new s(this.remote):null,this.initPromise=n.promise()},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){this.index.add(t)},get:function(t,n){var r=this,i=[],o=!1;i=this.index.get(t),(i=this.sorter(i).slice(0,this.limit)).length<this.limit?o=this._getFromRemote(t,function(t){var o=i.slice(0);e.each(t,function(t){return!e.some(o,function(e){return r.dupDetector(t,e)})&&o.push(t),o.length<r.limit}),n&&n(r.sorter(o))}):this._cancelLastRemoteRequest(),o||(i.length>0||!this.transport)&&n&&n(i)},clear:function(){this.index.reset()},clearPrefetchCache:function(){this.storage&&this.storage.clear()},clearRemoteCache:function(){this.transport&&s.resetCache()},ttAdapter:function(){return e.bind(this.get,this)}})}(this);var u={wrapper:\'<span class="twitter-typeahead"></span>\',dropdown:\'<span class="tt-dropdown-menu"></span>\',dataset:\'<div class="tt-dataset-%CLASS%"></div>\',suggestions:\'<span class="tt-suggestions"></span>\',suggestion:\'<div class="tt-suggestion"></div>\'},c=function(){"use strict";var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),e.isMsie()&&e.isMsie()<=7&&e.mixin(t.input,{marginTop:"-1px"}),t}(),h=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}return e.mixin(n.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+t,e)}}),n}(),p=function(){"use strict";function t(t,e,i,o){var s;if(!i)return this;for(e=e.split(r),i=o?n(i,o):i,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(i);return this}function e(t,e,n){return function(){for(var r,i=0,o=t.length;!r&&i<o;i+=1)r=!1===t[i].apply(e,n);return!r}}function n(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var r=/\\s+/,i=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return{onSync:function(e,n,r){return t.call(this,"sync",e,n,r)},onAsync:function(e,n,r){return t.call(this,"async",e,n,r)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(r);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var n,o,s,a,l;if(!this._callbacks)return this;for(t=t.split(r),s=[].slice.call(arguments,1);(n=t.shift())&&(o=this._callbacks[n]);)a=e(o.sync,this,[n].concat(s)),l=e(o.async,this,[n].concat(s)),a()&&i(l);return this}}}(),f=function(t){"use strict";function n(t,n,r){for(var i,o=[],s=0,a=t.length;s<a;s++)o.push(e.escapeRegExChars(t[s]));return i=r?"\\\\b("+o.join("|")+")\\\\b":"("+o.join("|")+")",n?new RegExp(i):new RegExp(i,"i")}var r={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(i){function o(t,e){for(var n,r=0;r<t.childNodes.length;r++)3===(n=t.childNodes[r]).nodeType?r+=e(n)?1:0:o(n,e)}var s;(i=e.mixin({},r,i)).node&&i.pattern&&(i.pattern=e.isArray(i.pattern)?i.pattern:[i.pattern],s=n(i.pattern,i.caseSensitive,i.wordsOnly),o(i.node,function(e){var n,r,o;return(n=s.exec(e.data))&&(o=t.createElement(i.tagName),i.className&&(o.className=i.className),(r=e.splitText(n.index)).splitText(n[0].length),o.appendChild(r.cloneNode(!0)),e.parentNode.replaceChild(o,r)),!!n}))}}(window.document),d=function(){"use strict";function n(n){var i,o,a,l,u=this;(n=n||{}).input||t.error("input is missing"),i=e.bind(this._onBlur,this),o=e.bind(this._onFocus,this),a=e.bind(this._onKeydown,this),l=e.bind(this._onInput,this),this.$hint=t(n.hint),this.$input=t(n.input).on("blur.tt",i).on("focus.tt",o).on("keydown.tt",a),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop),e.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){s[t.which||t.keyCode]||e.defer(e.bind(u._onInput,u,t))}):this.$input.on("input.tt",l),this.query=this.$input.val(),this.$overflowHelper=r(this.$input)}function r(e){return t(\'<pre aria-hidden="true"></pre>\').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function i(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var s;return s={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return(t||"").replace(/^\\s*/g,"").replace(/\\s{2,}/g," ")},e.mixin(n.prototype,p,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=s[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var n,r,i;switch(t){case"tab":r=this.getHint(),i=this.getInputValue(),n=r&&r!==i&&!o(e);break;case"up":case"down":n=!o(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!o(e);break;default:n=!0}return n},_checkInputValue:function(){var t,e,n;n=!!(e=i(t=this.getInputValue(),this.query))&&this.query.length!==t.length,this.query=t,e?n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e?this.clearHint():this._checkInputValue()},resetInputValue:function(){this.setInputValue(this.query,!0)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n;n=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&n&&!this.hasOverflow())&&this.clearHint()},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,r;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:!document.selection||((r=document.selection.createRange()).moveStart("character",-t),t===r.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),n}(),g=function(){"use strict";function n(n){(n=n||{}).templates=n.templates||{},n.source||t.error("missing source"),n.name&&!o(n.name)&&t.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||e.getUniqueId(),this.source=n.source,this.displayFn=r(n.display||n.displayKey),this.templates=i(n.templates,this.displayFn),this.$el=t(u.dataset.replace("%CLASS%",this.name))}function r(t){return t=t||"value",e.isFunction(t)?t:function(e){return e[t]}}function i(t,n){return{empty:t.empty&&e.templatify(t.empty),header:t.header&&e.templatify(t.header),footer:t.footer&&e.templatify(t.footer),suggestion:t.suggestion||function(t){return"<p>"+n(t)+"</p>"}}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var s="ttDataset",a="ttValue",l="ttDatum";return n.extractDatasetName=function(e){return t(e).data(s)},n.extractValue=function(e){return t(e).data(a)},n.extractDatum=function(e){return t(e).data(l)},e.mixin(n.prototype,p,{_render:function(n,r){function i(){return p.templates.header({query:n,isEmpty:!h})}function o(){return p.templates.footer({query:n,isEmpty:!h})}if(this.$el){var h,p=this;this.$el.empty(),!(h=r&&r.length)&&this.templates.empty?this.$el.html(p.templates.empty({query:n,isEmpty:!0})).prepend(p.templates.header?i():null).append(p.templates.footer?o():null):h&&this.$el.html(function(){var i,o;return i=t(u.suggestions).css(c.suggestions),o=e.map(r,function(e){var n;return(n=t(u.suggestion).append(p.templates.suggestion(e)).data(s,p.name).data(a,p.displayFn(e)).data(l,e)).children().each(function(){t(this).css(c.suggestionChild)}),n}),i.append.apply(i,o),p.highlight&&f({className:"tt-highlight",node:i[0],pattern:n}),i}()).prepend(p.templates.header?i():null).append(p.templates.footer?o():null),this.trigger("rendered")}},getRoot:function(){return this.$el},update:function(t){var e=this;this.query=t,this.canceled=!1,this.source(t,function(n){e.canceled||t!==e.query||e._render(t,n)})},cancel:function(){this.canceled=!0},clear:function(){this.cancel(),this.$el.empty(),this.trigger("rendered")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),n}(),m=function(){"use strict";function n(n){var i,o,s,a=this;(n=n||{}).menu||t.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=e.map(n.datasets,r),i=e.bind(this._onSuggestionClick,this),o=e.bind(this._onSuggestionMouseEnter,this),s=e.bind(this._onSuggestionMouseLeave,this),this.$menu=t(n.menu).on("click.tt",".tt-suggestion",i).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",s),e.each(this.datasets,function(t){a.$menu.append(t.getRoot()),t.onSync("rendered",a._onRendered,a)})}function r(t){return new g(t)}return e.mixin(n.prototype,p,{_onSuggestionClick:function(e){this.trigger("suggestionClicked",t(e.currentTarget))},_onSuggestionMouseEnter:function(e){this._removeCursor(),this._setCursor(t(e.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){this.isEmpty=e.every(this.datasets,function(t){return t.isEmpty()}),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),!e&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,n,r,i;this.isOpen&&(n=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1!==(r=((r=e.index(n)+t)+1)%(e.length+1)-1)?(r<-1&&(r=e.length-1),this._setCursor(i=e.eq(r)),this._ensureVisible(i)):this.trigger("cursorRemoved"))},_ensureVisible:function(t){var e,n,r,i;n=(e=t.position().top)+t.outerHeight(!0),r=this.$menu.scrollTop(),i=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),e<0?this.$menu.scrollTop(r+e):i<n&&this.$menu.scrollTop(r+(n-i))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?c.ltr:c.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return t.length&&(e={raw:g.extractDatum(t),value:g.extractValue(t),datasetName:g.extractDatasetName(t)}),e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(t){e.each(this.datasets,function(e){e.update(t)})},empty:function(){e.each(this.datasets,function(t){t.clear()}),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off(".tt"),this.$menu=null,e.each(this.datasets,function(t){t.destroy()})}}),n}(),y=function(){"use strict";function n(n){var i,o,s;(n=n||{}).input||t.error("missing input"),this.isActivated=!1,this.autoselect=!!n.autoselect,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.$node=r(n.input,n.withHint),i=this.$node.find(".tt-dropdown-menu"),o=this.$node.find(".tt-input"),s=this.$node.find(".tt-hint"),o.on("blur.tt",function(t){var n,r,s;n=document.activeElement,r=i.is(n),s=i.has(n).length>0,e.isMsie()&&(r||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){o.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()}),this.eventBus=n.eventBus||new h({el:o}),this.dropdown=new m({menu:i,datasets:n.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new d({input:o,hint:s}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),this._setLanguageDirection()}function r(e,n){var r,o,a,l;r=t(e),o=t(u.wrapper).css(c.wrapper),a=t(u.dropdown).css(c.dropdown),(l=r.clone().css(c.hint).css(i(r))).val("").removeData().addClass("tt-hint").removeAttr("id name placeholder required").prop("readonly",!0).attr({autocomplete:"off",spellcheck:"false",tabindex:-1}),r.data(s,{dir:r.attr("dir"),autocomplete:r.attr("autocomplete"),spellcheck:r.attr("spellcheck"),style:r.attr("style")}),r.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(n?c.input:c.inputWithNoHint);try{!r.attr("dir")&&r.attr("dir","auto")}catch(t){}return r.wrap(o).parent().prepend(n?l:null).append(a)}function i(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function o(t){var n=t.find(".tt-input");e.each(n.data(s),function(t,r){e.isUndefined(t)?n.removeAttr(r):n.attr(r,t)}),n.detach().removeData(s).removeClass("tt-input").insertAfter(t),t.remove()}var s="ttAttrs";return e.mixin(n.prototype,{_onSuggestionClicked:function(t,e){var n;(n=this.dropdown.getDatumForSuggestion(e))&&this._select(n)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.isActivated=!0,this.dropdown.open()},_onBlurred:function(){this.isActivated=!1,this.dropdown.empty(),this.dropdown.close()},_onEnterKeyed:function(t,e){var n,r;n=this.dropdown.getDatumForCursor(),r=this.dropdown.getDatumForTopSuggestion(),n?(this._select(n),e.preventDefault()):this.autoselect&&r&&(this._select(r),e.preventDefault())},_onTabKeyed:function(t,e){var n;(n=this.dropdown.getDatumForCursor())?(this._select(n),e.preventDefault()):this._autocomplete(!0)},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorUp(),this.dropdown.open()},_onDownKeyed:function(){var t=this.input.getQuery();this.dropdown.isEmpty&&t.length>=this.minLength?this.dropdown.update(t):this.dropdown.moveCursorDown(),this.dropdown.open()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHintIfInvalid(),e.length>=this.minLength?this.dropdown.update(e):this.dropdown.empty(),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,n,r,i,o;(t=this.dropdown.getDatumForTopSuggestion())&&this.dropdown.isVisible()&&!this.input.hasOverflow()?(n=this.input.getInputValue(),r=d.normalizeQuery(n),i=e.escapeRegExChars(r),(o=new RegExp("^(?:"+i+")(.+$)","i").exec(t.value))?this.input.setHint(n+o[1]):this.input.clearHint()):this.input.clearHint()},_autocomplete:function(t){var e,n,r,i;e=this.input.getHint(),n=this.input.getQuery(),r=t||this.input.isCursorAtEnd(),e&&n!==e&&r&&((i=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(i.value),this.eventBus.trigger("autocompleted",i.raw,i.datasetName))},_select:function(t){this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),e.defer(e.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},setVal:function(t){t=e.toStr(t),this.isActivated?this.input.setInputValue(t):(this.input.setQuery(t),this.input.setInputValue(t,!0)),this._setLanguageDirection()},getVal:function(){return this.input.getQuery()},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),n}();!function(){"use strict";var n,r,i;n=t.fn.typeahead,r="ttTypeahead",i={initialize:function(n,i){return i=e.isArray(i)?i:[].slice.call(arguments,1),n=n||{},this.each(function(){var o,s=t(this);e.each(i,function(t){t.highlight=!!n.highlight}),o=new y({input:s,eventBus:new h({el:s}),withHint:!!e.isUndefined(n.hint)||!!n.hint,minLength:n.minLength,autoselect:n.autoselect,datasets:i}),s.data(r,o)})},open:function(){return this.each(function(){var e;(e=t(this).data(r))&&e.open()})},close:function(){return this.each(function(){var e;(e=t(this).data(r))&&e.close()})},val:function(e){return arguments.length?this.each(function(){var n;(n=t(this).data(r))&&n.setVal(e)}):function(t){var e,n;return(e=t.data(r))&&(n=e.getVal()),n}(this.first())},destroy:function(){return this.each(function(){var e,n=t(this);(e=n.data(r))&&(e.destroy(),n.removeData(r))})}},t.fn.typeahead=function(e){var n;return i[e]&&"initialize"!==e?(n=this.filter(function(){return!!t(this).data(r)}),i[e].apply(n,[].slice.call(arguments,1))):i.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=n,this}}()}(window.jQuery),function(){function t(t){this.tokens=[],this.tokens.links={},this.options=t||u.defaults,this.rules=c.normal,this.options.gfm&&(this.options.tables?this.rules=c.tables:this.rules=c.gfm)}function e(t,e){if(this.options=e||u.defaults,this.links=t,this.rules=h.normal,this.renderer=this.options.renderer||new n,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=h.breaks:this.rules=h.gfm:this.options.pedantic&&(this.rules=h.pedantic)}function n(t){this.options=t||{}}function r(t){this.tokens=[],this.token=null,this.options=t||u.defaults,this.options.renderer=this.options.renderer||new n,this.renderer=this.options.renderer,this.renderer.options=this.options}function i(t,e){return t.replace(e?/&/g:/&(?!#?\\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/\'/g,"&#39;")}function o(t){return t.replace(/&([#\\w]+);/g,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function s(t,e){return t=t.source,e=e||"",function n(r,i){return r?(i=i.source||i,i=i.replace(/(^|[^\\[])\\^/g,"$1"),t=t.replace(r,i),n):new RegExp(t,e)}}function a(){}function l(t){for(var e,n,r=1;r<arguments.length;r++){e=arguments[r];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t}function u(e,n,o){if(o||"function"==typeof n){o||(o=n,n=null);var s,a,c=(n=l({},u.defaults,n||{})).highlight,h=0;try{s=t.lex(e,n)}catch(t){return o(t)}a=s.length;var p=function(t){if(t)return n.highlight=c,o(t);var e;try{e=r.parse(s,n)}catch(e){t=e}return n.highlight=c,t?o(t):o(null,e)};if(!c||c.length<3)return p();if(delete n.highlight,!a)return p();for(;h<s.length;h++)!function(t){"code"!==t.type?--a||p():c(t.text,t.lang,function(e,n){return e?p(e):null==n||n===t.text?--a||p():(t.text=n,t.escaped=!0,void(--a||p()))})}(s[h])}else try{return n&&(n=l({},u.defaults,n)),r.parse(t.lex(e,n),n)}catch(t){if(t.message+="\\nPlease report this to https://github.com/chjj/marked.",(n||u.defaults).silent)return"<p>An error occured:</p><pre>"+i(t.message+"",!0)+"</pre>";throw t}}var c={newline:/^\\n+/,code:/^( {4}[^\\n]+\\n*)+/,fences:a,hr:/^( *[-*_]){3,} *(?:\\n+|$)/,heading:/^ *(#{1,6}) *([^\\n]+?) *#* *(?:\\n+|$)/,nptable:a,lheading:/^([^\\n]+)\\n *(=|-){2,} *(?:\\n+|$)/,blockquote:/^( *>[^\\n]+(\\n(?!def)[^\\n]+)*\\n*)+/,list:/^( *)(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,html:/^ *(?:comment *(?:\\n|\\s*$)|closed *(?:\\n{2,}|\\s*$)|closing *(?:\\n{2,}|\\s*$))/,def:/^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +["(]([^\\n]+)[")])? *(?:\\n+|$)/,table:a,paragraph:/^((?:[^\\n]+\\n?(?!hr|heading|lheading|blockquote|tag|def))+)\\n*/,text:/^[^\\n]+/};c.bullet=/(?:[*+-]|\\d+\\.)/,c.item=/^( *)(bull) [^\\n]*(?:\\n(?!\\1bull )[^\\n]*)*/,c.item=s(c.item,"gm")(/bull/g,c.bullet)(),c.list=s(c.list)(/bull/g,c.bullet)("hr","\\\\n+(?=\\\\1?(?:[-*_] *){3,}(?:\\\\n+|$))")("def","\\\\n+(?="+c.def.source+")")(),c.blockquote=s(c.blockquote)("def",c.def)(),c._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\\\b)\\\\w+(?!:/|[^\\\\w\\\\s@]*@)\\\\b",c.html=s(c.html)("comment",/\x3c!--[\\s\\S]*?--\x3e/)("closed",/<(tag)[\\s\\S]+?<\\/\\1>/)("closing",/<tag(?:"[^"]*"|\'[^\']*\'|[^\'">])*?>/)(/tag/g,c._tag)(),c.paragraph=s(c.paragraph)("hr",c.hr)("heading",c.heading)("lheading",c.lheading)("blockquote",c.blockquote)("tag","<"+c._tag)("def",c.def)(),c.normal=l({},c),c.gfm=l({},c.normal,{fences:/^ *(`{3,}|~{3,}) *(\\S+)? *\\n([\\s\\S]+?)\\s*\\1 *(?:\\n+|$)/,paragraph:/^/}),c.gfm.paragraph=s(c.paragraph)("(?!","(?!"+c.gfm.fences.source.replace("\\\\1","\\\\2")+"|"+c.list.source.replace("\\\\1","\\\\3")+"|")(),c.tables=l({},c.gfm,{nptable:/^ *(\\S.*\\|.*)\\n *([-:]+ *\\|[-| :]*)\\n((?:.*\\|.*(?:\\n|$))*)\\n*/,table:/^ *\\|(.+)\\n *\\|( *[-:]+[-| :]*)\\n((?: *\\|.*(?:\\n|$))*)\\n*/}),t.rules=c,t.lex=function(e,n){return new t(n).lex(e)},t.prototype.lex=function(t){return t=t.replace(/\\r\\n|\\r/g,"\\n").replace(/\\t/g,"    ").replace(/\\u00a0/g," ").replace(/\\u2424/g,"\\n"),this.token(t,!0)},t.prototype.token=function(t,e,n){for(var r,i,o,s,a,l,u,h,p,t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\\| *$/g,"").split(/ *\\| */),align:o[2].replace(/^ *|\\| *$/g,"").split(/ *\\| */),cells:o[3].replace(/\\n$/,"").split("\\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].split(/ *\\| */);this.tokens.push(l)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),s=o[2],this.tokens.push({type:"list_start",ordered:s.length>1}),r=!1,p=(o=o[0].match(this.rules.item)).length,h=0;h<p;h++)u=(l=o[h]).length,~(l=l.replace(/^ *([*+-]|\\d+\\.) +/,"")).indexOf("\\n ")&&(u-=l.length,l=this.options.pedantic?l.replace(/^ {1,4}/gm,""):l.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&h!==p-1&&(s===(a=c.bullet.exec(o[h+1])[0])||s.length>1&&a.length>1||(t=o.slice(h+1).join("\\n")+t,h=p-1)),i=r||/\\n\\n(?!\\s*$)/.test(l),h!==p-1&&(r="\\n"===l.charAt(l.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(l,!1,n),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:"pre"===o[1]||"script"===o[1]||"style"===o[1],text:o[0]});else if(!n&&e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),l={type:"table",header:o[1].replace(/^ *| *\\| *$/g,"").split(/ *\\| */),align:o[2].replace(/^ *|\\| *$/g,"").split(/ *\\| */),cells:o[3].replace(/(?: *\\| *)?\\n$/,"").split("\\n")},h=0;h<l.align.length;h++)/^ *-+: *$/.test(l.align[h])?l.align[h]="right":/^ *:-+: *$/.test(l.align[h])?l.align[h]="center":/^ *:-+ *$/.test(l.align[h])?l.align[h]="left":l.align[h]=null;for(h=0;h<l.cells.length;h++)l.cells[h]=l.cells[h].replace(/^ *\\| *| *\\| *$/g,"").split(/ *\\| */);this.tokens.push(l)}else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var h={escape:/^\\\\([\\\\`*{}\\[\\]()#+\\-.!_>])/,autolink:/^<([^ >]+(@|:\\/)[^ >]+)>/,url:a,tag:/^\x3c!--[\\s\\S]*?--\x3e|^<\\/?\\w+(?:"[^"]*"|\'[^\']*\'|[^\'">])*?>/,link:/^!?\\[(inside)\\]\\(href\\)/,reflink:/^!?\\[(inside)\\]\\s*\\[([^\\]]*)\\]/,nolink:/^!?\\[((?:\\[[^\\]]*\\]|[^\\[\\]])*)\\]/,strong:/^__([\\s\\S]+?)__(?!_)|^\\*\\*([\\s\\S]+?)\\*\\*(?!\\*)/,em:/^\\b_((?:__|[\\s\\S])+?)_\\b|^\\*((?:\\*\\*|[\\s\\S])+?)\\*(?!\\*)/,code:/^(`+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/,br:/^ {2,}\\n(?!\\s*$)/,del:a,text:/^[\\s\\S]+?(?=[\\\\<!\\[_*`]| {2,}\\n|$)/};h._inside=/(?:\\[[^\\]]*\\]|[^\\[\\]]|\\](?=[^\\[]*\\]))*/,h._href=/\\s*<?([\\s\\S]*?)>?(?:\\s+[\'"]([\\s\\S]*?)[\'"])?\\s*/,h.link=s(h.link)("inside",h._inside)("href",h._href)(),h.reflink=s(h.reflink)("inside",h._inside)(),h.normal=l({},h),h.pedantic=l({},h.normal,{strong:/^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,em:/^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/}),h.gfm=l({},h.normal,{escape:s(h.escape)("])","~|])")(),url:/^(https?:\\/\\/[^\\s<]+[^<.,:;"\')\\]\\s])/,del:/^~~(?=\\S)([\\s\\S]*?\\S)~~/,text:s(h.text)("]|","~]|")("|","|https?://|")()}),h.breaks=l({},h.gfm,{br:s(h.br)("{2,}","*")(),text:s(h.gfm.text)("{2,}","*")()}),e.rules=h,e.output=function(t,n,r){return new e(n,r).output(t)},e.prototype.output=function(t){for(var e,n,r,o,s="";t;)if(o=this.rules.escape.exec(t))t=t.substring(o[0].length),s+=o[1];else if(o=this.rules.autolink.exec(t))t=t.substring(o[0].length),"@"===o[2]?(n=":"===o[1].charAt(6)?this.mangle(o[1].substring(7)):this.mangle(o[1]),r=this.mangle("mailto:")+n):r=n=i(o[1]),s+=this.renderer.link(r,null,n);else if(this.inLink||!(o=this.rules.url.exec(t))){if(o=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(o[0])?this.inLink=!0:this.inLink&&/^<\\/a>/i.test(o[0])&&(this.inLink=!1),t=t.substring(o[0].length),s+=this.options.sanitize?i(o[0]):o[0];else if(o=this.rules.link.exec(t))t=t.substring(o[0].length),this.inLink=!0,s+=this.outputLink(o,{href:o[2],title:o[3]}),this.inLink=!1;else if((o=this.rules.reflink.exec(t))||(o=this.rules.nolink.exec(t))){if(t=t.substring(o[0].length),e=(o[2]||o[1]).replace(/\\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){s+=o[0].charAt(0),t=o[0].substring(1)+t;continue}this.inLink=!0,s+=this.outputLink(o,e),this.inLink=!1}else if(o=this.rules.strong.exec(t))t=t.substring(o[0].length),s+=this.renderer.strong(this.output(o[2]||o[1]));else if(o=this.rules.em.exec(t))t=t.substring(o[0].length),s+=this.renderer.em(this.output(o[2]||o[1]));else if(o=this.rules.code.exec(t))t=t.substring(o[0].length),s+=this.renderer.codespan(i(o[2],!0));else if(o=this.rules.br.exec(t))t=t.substring(o[0].length),s+=this.renderer.br();else if(o=this.rules.del.exec(t))t=t.substring(o[0].length),s+=this.renderer.del(this.output(o[1]));else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),s+=i(this.smartypants(o[0]));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(o[0].length),r=n=i(o[1]),s+=this.renderer.link(r,null,n);return s},e.prototype.outputLink=function(t,e){var n=i(e.href),r=e.title?i(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.output(t[1])):this.renderer.image(n,r,i(t[1]))},e.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/--/g,"").replace(/(^|[-\\u2014/(\\[{"\\s])\'/g,"$1").replace(/\'/g,"").replace(/(^|[-\\u2014/(\\[{\\u2018\\s])"/g,"$1").replace(/"/g,"").replace(/\\.{3}/g,""):t},e.prototype.mangle=function(t){for(var e,n="",r=t.length,i=0;i<r;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},n.prototype.code=function(t,e,n){if(this.options.highlight){var r=this.options.highlight(t,e);null!=r&&r!==t&&(n=!0,t=r)}return e?\'<pre><code class="\'+this.options.langPrefix+i(e,!0)+\'">\'+(n?t:i(t,!0))+"\\n</code></pre>\\n":"<pre><code>"+(n?t:i(t,!0))+"\\n</code></pre>"},n.prototype.blockquote=function(t){return"<blockquote>\\n"+t+"</blockquote>\\n"},n.prototype.html=function(t){return t},n.prototype.heading=function(t,e,n){return"<h"+e+\' id="\'+this.options.headerPrefix+n.toLowerCase().replace(/[^\\w]+/g,"-")+\'">\'+t+"</h"+e+">\\n"},n.prototype.hr=function(){return this.options.xhtml?"<hr/>\\n":"<hr>\\n"},n.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\\n"+t+"</"+n+">\\n"},n.prototype.listitem=function(t){return"<li>"+t+"</li>\\n"},n.prototype.paragraph=function(t){return"<p>"+t+"</p>\\n"},n.prototype.table=function(t,e){return"<table>\\n<thead>\\n"+t+"</thead>\\n<tbody>\\n"+e+"</tbody>\\n</table>\\n"},n.prototype.tablerow=function(t){return"<tr>\\n"+t+"</tr>\\n"},n.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+\' style="text-align:\'+e.align+\'">\':"<"+n+">")+t+"</"+n+">\\n"},n.prototype.strong=function(t){return"<strong>"+t+"</strong>"},n.prototype.em=function(t){return"<em>"+t+"</em>"},n.prototype.codespan=function(t){return"<code>"+t+"</code>"},n.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.prototype.del=function(t){return"<del>"+t+"</del>"},n.prototype.link=function(t,e,n){if(this.options.sanitize){try{var r=decodeURIComponent(o(t)).replace(/[^\\w:]/g,"").toLowerCase()}catch(t){return""}if(0===r.indexOf("javascript:"))return""}var i=\'<a href="\'+t+\'"\';return e&&(i+=\' title="\'+e+\'"\'),i+=">"+n+"</a>"},n.prototype.image=function(t,e,n){var r=\'<img src="\'+t+\'" alt="\'+n+\'"\';return e&&(r+=\' title="\'+e+\'"\'),r+=this.options.xhtml?"/>":">"},r.parse=function(t,e,n){return new r(e,n).parse(t)},r.prototype.parse=function(t){this.inline=new e(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var n="";this.next();)n+=this.tok();return n},r.prototype.next=function(){return this.token=this.tokens.pop()},r.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},r.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\\n"+this.next().text;return this.inline.output(t)},r.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,r,i="",o="";for(n="",t=0;t<this.token.header.length;t++)({header:!0,align:this.token.align[t]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":for(var o="",s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},a.exec=a,u.options=u.setOptions=function(t){return l(u.defaults,t),u},u.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new n,xhtml:!1},u.Parser=r,u.parser=r.parse,u.Renderer=n,u.Lexer=t,u.lexer=t.lex,u.InlineLexer=e,u.inlineLexer=e.output,u.parse=u,"undefined"!=typeof module&&"object"==typeof exports?module.exports=u:"function"==typeof define&&define.amd?define(function(){return u}):this.marked=u}.call(function(){return this||("undefined"!=typeof window?window:global)}()),function(){var t=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function e(t){function e(t){var e=t.charCodeAt(0);if(92!==e)return e;var n=t.charAt(1);return(e=c[n])?e:"0"<=n&&n<="7"?parseInt(t.substring(1),8):"u"===n||"x"===n?parseInt(t.substring(2),16):t.charCodeAt(1)}function n(t){return t<32?(t<16?"\\\\x0":"\\\\x")+t.toString(16):"\\\\"===(t=String.fromCharCode(t))||"-"===t||"]"===t||"^"===t?"\\\\"+t:t}function r(t){var r=t.substring(1,t.length-1).match(/\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\S\\s]|[^\\\\]/g),t=[],i=["["];(o="^"===r[0])&&i.push("^");for(var o=o?1:0,s=r.length;o<s;++o){l=r[o];if(/\\\\[bdsw]/i.test(l))i.push(l);else{var a,l=e(l);o+2<s&&"-"===r[o+1]?(a=e(r[o+2]),o+=2):a=l,t.push([l,a]),a<65||l>122||(a<65||l>90||t.push([32|Math.max(65,l),32|Math.min(a,90)]),a<97||l>122||t.push([-33&Math.max(97,l),-33&Math.min(a,122)]))}}for(t.sort(function(t,e){return t[0]-e[0]||e[1]-t[1]}),r=[],s=[],o=0;o<t.length;++o)(l=t[o])[0]<=s[1]+1?s[1]=Math.max(s[1],l[1]):r.push(s=l);for(o=0;o<r.length;++o)l=r[o],i.push(n(l[0])),l[1]>l[0]&&(l[1]+1>l[0]&&i.push("-"),i.push(n(l[1])));return i.push("]"),i.join("")}for(var i=0,o=!1,s=!1,a=0,l=t.length;a<l;++a){var u=t[a];if(u.ignoreCase)s=!0;else if(/[a-z]/i.test(u.source.replace(/\\\\u[\\da-f]{4}|\\\\x[\\da-f]{2}|\\\\[^UXux]/gi,""))){o=!0,s=!1;break}}for(var c={b:8,t:9,n:10,v:11,f:12,r:13},h=[],a=0,l=t.length;a<l;++a){if((u=t[a]).global||u.multiline)throw Error(""+u);h.push("(?:"+function(t){for(var e=t.source.match(/\\[(?:[^\\\\\\]]|\\\\[\\S\\s])*]|\\\\u[\\dA-Fa-f]{4}|\\\\x[\\dA-Fa-f]{2}|\\\\\\d+|\\\\[^\\dux]|\\(\\?[!:=]|[()^]|[^()[\\\\^]+/g),s=e.length,a=[],l=0,u=0;l<s;++l){var c=e[l];"("===c?++u:"\\\\"===c.charAt(0)&&(c=+c.substring(1))&&(c<=u?a[c]=-1:e[l]=n(c))}for(l=1;l<a.length;++l)-1===a[l]&&(a[l]=++i);for(u=l=0;l<s;++l)"("===(c=e[l])?(++u,a[u]||(e[l]="(?:")):"\\\\"===c.charAt(0)&&(c=+c.substring(1))&&c<=u&&(e[l]="\\\\"+a[c]);for(l=0;l<s;++l)"^"===e[l]&&"^"!==e[l+1]&&(e[l]="");if(t.ignoreCase&&o)for(l=0;l<s;++l)c=e[l],t=c.charAt(0),c.length>=2&&"["===t?e[l]=r(c):"\\\\"!==t&&(e[l]=c.replace(/[A-Za-z]/g,function(t){return t=t.charCodeAt(0),"["+String.fromCharCode(-33&t,32|t)+"]"}));return e.join("")}(u)+")")}return RegExp(h.join("|"),s?"gi":"g")}function n(t,e){function n(t){var l=t.nodeType;if(1==l){if(!r.test(t.className)){for(l=t.firstChild;l;l=l.nextSibling)n(l);"br"!==(l=t.nodeName.toLowerCase())&&"li"!==l||(i[a]="\\n",s[a<<1]=o++,s[a++<<1|1]=t)}}else 3!=l&&4!=l||(l=t.nodeValue).length&&(l=e?l.replace(/\\r\\n?/g,"\\n"):l.replace(/[\\t\\n\\r ]+/g," "),i[a]=l,s[a<<1]=o,o+=l.length,s[a++<<1|1]=t)}var r=/(?:^|\\s)nocode(?:\\s|$)/,i=[],o=0,s=[],a=0;return n(t),{a:i.join("").replace(/\\n$/,""),d:s}}function r(t,e,n,r){e&&(t={a:e,e:t},n(t),r.push.apply(r,t.g))}function i(t){for(var e=void 0,n=t.firstChild;n;n=n.nextSibling)var r=n.nodeType,e=1===r?e?t:n:3===r&&w.test(n.nodeValue)?t:e;return e===t?void 0:e}function o(n,i){function o(t){for(var e=t.e,n=[e,"pln"],c=0,h=t.a.match(s)||[],p={},f=0,d=h.length;f<d;++f){var g,m=h[f],y=p[m],v=void 0;if("string"==typeof y)g=!1;else{var b=a[m.charAt(0)];if(b)v=m.match(b[1]),y=b[0];else{for(g=0;g<l;++g)if(b=i[g],v=m.match(b[1])){y=b[0];break}v||(y="pln")}!(g=y.length>=5&&"lang-"===y.substring(0,5))||v&&"string"==typeof v[1]||(g=!1,y="src"),g||(p[m]=y)}if(b=c,c+=m.length,g){g=v[1];var x=m.indexOf(g),w=x+g.length;v[2]&&(w=m.length-v[2].length,x=w-g.length),y=y.substring(5),r(e+b,m.substring(0,x),o,n),r(e+b+x,g,u(y,g),n),r(e+b+w,m.substring(w),o,n)}else n.push(e+b,y)}t.g=n}var s,a={};!function(){for(var r=n.concat(i),o=[],l={},u=0,c=r.length;u<c;++u){var h=r[u],p=h[3];if(p)for(var f=p.length;--f>=0;)a[p.charAt(f)]=h;p=""+(h=h[1]),l.hasOwnProperty(p)||(o.push(h),l[p]=t)}o.push(/[\\S\\s]/),s=e(o)}();var l=i.length;return o}function s(e){var n=[],r=[];e.tripleQuotedStrings?n.push(["str",/^(?:\'\'\'(?:[^\'\\\\]|\\\\[\\S\\s]|\'\'?(?=[^\']))*(?:\'\'\'|$)|"""(?:[^"\\\\]|\\\\[\\S\\s]|""?(?=[^"]))*(?:"""|$)|\'(?:[^\'\\\\]|\\\\[\\S\\s])*(?:\'|$)|"(?:[^"\\\\]|\\\\[\\S\\s])*(?:"|$))/,t,"\'\\""]):e.multiLineStrings?n.push(["str",/^(?:\'(?:[^\'\\\\]|\\\\[\\S\\s])*(?:\'|$)|"(?:[^"\\\\]|\\\\[\\S\\s])*(?:"|$)|`(?:[^\\\\`]|\\\\[\\S\\s])*(?:`|$))/,t,"\'\\"`"]):n.push(["str",/^(?:\'(?:[^\\n\\r\'\\\\]|\\\\.)*(?:\'|$)|"(?:[^\\n\\r"\\\\]|\\\\.)*(?:"|$))/,t,"\\"\'"]),e.verbatimStrings&&r.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,t]);var i=e.hashComments;if(i&&(e.cStyleComments?(i>1?n.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,t,"#"]):n.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\\b|[^\\n\\r]*)/,t,"#"]),r.push(["str",/^<(?:(?:(?:\\.\\.\\/)*|\\/?)(?:[\\w-]+(?:\\/[\\w-]+)+)?[\\w-]+\\.h(?:h|pp|\\+\\+)?|[a-z]\\w*)>/,t])):n.push(["com",/^#[^\\n\\r]*/,t,"#"])),e.cStyleComments&&(r.push(["com",/^\\/\\/[^\\n\\r]*/,t]),r.push(["com",/^\\/\\*[\\S\\s]*?(?:\\*\\/|$)/,t])),i=e.regexLiterals){var s=(i=i>1?"":"\\n\\r")?".":"[\\\\S\\\\s]";r.push(["lang-regex",RegExp("^(?:^^\\\\.?|[+-]|[!=]=?=?|\\\\#|%=?|&&?=?|\\\\(|\\\\*=?|[+\\\\-]=|->|\\\\/=?|::?|<<?=?|>>?>?=?|,|;|\\\\?|@|\\\\[|~|{|\\\\^\\\\^?=?|\\\\|\\\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\\\s*(/(?=[^/*"+i+"])(?:[^/\\\\x5B\\\\x5C"+i+"]|\\\\x5C"+s+"|\\\\x5B(?:[^\\\\x5C\\\\x5D"+i+"]|\\\\x5C"+s+")*(?:\\\\x5D|$))+/)")])}return(i=e.types)&&r.push(["typ",i]),(i=(""+e.keywords).replace(/^ | $/g,"")).length&&r.push(["kwd",RegExp("^(?:"+i.replace(/[\\s,]+/g,"|")+")\\\\b"),t]),n.push(["pln",/^\\s+/,t," \\r\\n\\t"]),i="^.[^\\\\s\\\\w.$@\'\\"`/\\\\\\\\]*",e.regexLiterals&&(i+="(?!s*/)"),r.push(["lit",/^@[$_a-z][\\w$@]*/i,t],["typ",/^(?:[@_]?[A-Z]+[a-z][\\w$@]*|\\w+_t\\b)/,t],["pln",/^[$_a-z][\\w$@]*/i,t],["lit",/^(?:0x[\\da-f]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+-]?\\d+)?)[a-z]*/i,t,"0123456789"],["pln",/^\\\\[\\S\\s]?/,t],["pun",RegExp(i),t]),o(n,r)}function a(t,e,n){function r(t){var e=t.nodeType;if(1!=e||o.test(t.className)){if((3==e||4==e)&&n){var l=t.nodeValue,u=l.match(s);u&&(e=l.substring(0,u.index),t.nodeValue=e,(l=l.substring(u.index+u[0].length))&&t.parentNode.insertBefore(a.createTextNode(l),t.nextSibling),i(t),e||t.parentNode.removeChild(t))}}else if("br"===t.nodeName)i(t),t.parentNode&&t.parentNode.removeChild(t);else for(t=t.firstChild;t;t=t.nextSibling)r(t)}function i(t){function e(t,n){var r=n?t.cloneNode(!1):t;if(i=t.parentNode){var i=e(i,1),o=t.nextSibling;i.appendChild(r);for(var s=o;s;s=o)o=s.nextSibling,i.appendChild(s)}return r}for(;!t.nextSibling;)if(!(t=t.parentNode))return;for(var n,t=e(t.nextSibling,0);(n=t.parentNode)&&1===n.nodeType;)t=n;u.push(t)}for(var o=/(?:^|\\s)nocode(?:\\s|$)/,s=/\\r\\n?|\\n/,a=t.ownerDocument,l=a.createElement("li");t.firstChild;)l.appendChild(t.firstChild);for(var u=[l],c=0;c<u.length;++c)r(u[c]);e===(0|e)&&u[0].setAttribute("value",e);var h=a.createElement("ol");h.className="linenums";for(var e=Math.max(0,e-1|0)||0,c=0,p=u.length;c<p;++c)l=u[c],l.className="L"+(c+e)%10,l.firstChild||l.appendChild(a.createTextNode("")),h.appendChild(l);t.appendChild(h)}function l(t,e){for(var n=e.length;--n>=0;){var r=e[n];k.hasOwnProperty(r)?h.console&&console.warn("cannot override language handler %s",r):k[r]=t}}function u(t,e){return t&&k.hasOwnProperty(t)||(t=/^\\s*</.test(e)?"default-markup":"default-code"),k[t]}function c(t){r=t.h;try{c=(s=n(t.c,t.i)).a;t.a=c,t.d=s.d,t.e=0,u(r,c)(t);var e=(e=/\\bMSIE\\s(\\d+)/.exec(navigator.userAgent))&&+e[1]<=8,r=/\\n/g,i=t.a,o=i.length,s=0,a=t.d,l=a.length,c=0,p=t.g,f=p.length,d=0;p[f]=o;var g,m;for(m=g=0;m<f;)p[m]!==p[m+2]?(p[g++]=p[m++],p[g++]=p[m++]):m+=2;for(f=g,m=g=0;m<f;){for(var y=p[m],v=p[m+1],b=m+2;b+2<=f&&p[b+1]===v;)b+=2;p[g++]=y,p[g++]=v,m=b}p.length=g;var x,w=t.c;w&&(x=w.style.display,w.style.display="none");try{for(;c<l;){var k,S=a[c+2]||o,C=p[d+2]||o,b=Math.min(S,C),E=a[c+1];if(1!==E.nodeType&&(k=i.substring(s,b))){e&&(k=k.replace(r,"\\r")),E.nodeValue=k;var T=E.ownerDocument,_=T.createElement("span");_.className=p[d+1];var $=E.parentNode;$.replaceChild(_,E),_.appendChild(E),s<S&&(a[c+1]=E=T.createTextNode(i.substring(b,S)),$.insertBefore(E,_.nextSibling))}(s=b)>=S&&(c+=2),s>=C&&(d+=2)}}finally{w&&(w.style.display=x)}}catch(t){h.console&&console.log(t&&t.stack||t)}}var h=window,p=["break,continue,do,else,for,if,return,while"],f=[[p,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],d=[f,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],g=[f,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],m=[g,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],y=[p,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],v=[p,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],b=[p,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],x=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\\d*)\\b/,w=/\\S/,k={};l(s({keywords:[d,m,f=[f,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",y,v,p=[p,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"]],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),["default-code"]),l(o([],[["pln",/^[^<?]+/],["dec",/^<!\\w[^>]*(?:>|$)/],["com",/^<\\!--[\\S\\s]*?(?:--\\>|$)/],["lang-",/^<\\?([\\S\\s]+?)(?:\\?>|$)/],["lang-",/^<%([\\S\\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\\b[^>]*>([\\S\\s]+?)<\\/xmp\\b[^>]*>/i],["lang-js",/^<script\\b[^>]*>([\\S\\s]*?)(<\\/script\\b[^>]*>)/i],["lang-css",/^<style\\b[^>]*>([\\S\\s]*?)(<\\/style\\b[^>]*>)/i],["lang-in.tag",/^(<\\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),l(o([["pln",/^\\s+/,t," \\t\\r\\n"],["atv",/^(?:"[^"]*"?|\'[^\']*\'?)/,t,"\\"\'"]],[["tag",/^^<\\/?[a-z](?:[\\w-.:]*\\w)?|\\/?>$/i],["atn",/^(?!style[\\s=]|on)[a-z](?:[\\w:-]*\\w)?/i],["lang-uq.val",/^=\\s*([^\\s"\'>]*(?:[^\\s"\'/>]|\\/(?=\\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\\w+\\s*=\\s*"([^"]+)"/i],["lang-js",/^on\\w+\\s*=\\s*\'([^\']+)\'/i],["lang-js",/^on\\w+\\s*=\\s*([^\\s"\'>]+)/i],["lang-css",/^style\\s*=\\s*"([^"]+)"/i],["lang-css",/^style\\s*=\\s*\'([^\']+)\'/i],["lang-css",/^style\\s*=\\s*([^\\s"\'>]+)/i]]),["in.tag"]),l(o([],[["atv",/^[\\S\\s]+/]]),["uq.val"]),l(s({keywords:d,hashComments:!0,cStyleComments:!0,types:x}),["c","cc","cpp","cxx","cyc","m"]),l(s({keywords:"null,true,false"}),["json"]),l(s({keywords:m,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:x}),["cs"]),l(s({keywords:g,cStyleComments:!0}),["java"]),l(s({keywords:p,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),l(s({keywords:y,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),l(s({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),l(s({keywords:v,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),l(s({keywords:f,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),l(s({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),l(s({keywords:b,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),l(o([],[["str",/^[\\S\\s]+/]]),["regex"]);var S=h.PR={createSimpleLexer:o,registerLangHandler:l,sourceDecorator:s,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:h.prettyPrintOne=function(t,e,n){var r=document.createElement("div");return r.innerHTML="<pre>"+t+"</pre>",r=r.firstChild,n&&a(r,n,!0),c({h:e,j:n,c:r,i:1}),r.innerHTML},prettyPrint:h.prettyPrint=function(e,n){function r(){for(var n=h.PR_SHOULD_USE_CONTINUATION?d.now()+250:1/0;m<l.length&&d.now()<n;m++){for(var s=l[m],u=S,p=s;(p=p.previousSibling)&&((E=(7===(C=p.nodeType)||8===C)&&p.nodeValue)?/^\\??prettify\\b/.test(E):3===C&&!/\\S/.test(p.nodeValue));)if(E){u={},E.replace(/\\b(\\w+)=([\\w%+\\-.:]+)/g,function(t,e,n){u[e]=n});break}if(p=s.className,(u!==S||v.test(p))&&!b.test(p)){for(C=!1,E=s.parentNode;E;E=E.parentNode)if(k.test(E.tagName)&&E.className&&v.test(E.className)){C=!0;break}if(!C){if(s.className+=" prettyprinted",!(C=u.lang)){var f,C=p.match(y);!C&&(f=i(s))&&w.test(f.tagName)&&(C=f.className.match(y)),C&&(C=C[1])}if(x.test(s.tagName))E=1;else var E=s.currentStyle,T=o.defaultView,E=(E=E?E.whiteSpace:T&&T.getComputedStyle?T.getComputedStyle(s,t).getPropertyValue("white-space"):0)&&"pre"===E.substring(0,3);(T="true"===(T=u.linenums)||+T)||(T=!!(T=p.match(/\\blinenums\\b(?::(\\d+))?/))&&(!T[1]||!T[1].length||+T[1])),T&&a(s,T,E),c(g={h:C,c:s,j:T,i:E})}}}m<l.length?setTimeout(r,250):"function"==typeof e&&e()}for(var o=(s=n||document.body).ownerDocument||document,s=[s.getElementsByTagName("pre"),s.getElementsByTagName("code"),s.getElementsByTagName("xmp")],l=[],u=0;u<s.length;++u)for(var p=0,f=s[u].length;p<f;++p)l.push(s[u][p]);var s=t,d=Date;d.now||(d={now:function(){return+new Date}});var g,m=0,y=/\\blang(?:uage)?-([\\w.]+)(?!\\S)/,v=/\\bprettyprint\\b/,b=/\\bprettyprinted\\b/,x=/pre|xmp/i,w=/^code$/i,k=/^(?:pre|code|xmp)$/i,S={};r()}};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return S})}()}(),function(t,e,n){"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(n):t.toast=n}(this,0,function(){var t={};return function(){var e,n=document,r=n.getElementsByTagName("head")[0],i=this.setTimeout,o="createElement",s="appendChild",a="onreadystatechange",l="styleSheet",u=0,c=function(){--u},h=function(t,n,o,s){if(r){if(t.length){for(e=-1;o=t[++e];){if("function"==(s=typeof o)){n=function(){return o(),!0};break}if("string"==s)p(o);else if(o.pop){p(o[0]),n=o[1];break}}f(n,Array.prototype.slice.call(t,e+1))}}else i(function(){h(t)},10)},p=function(e,i,h){h=/(^.+\\.\\w+)(\\?.*)?$/.exec(e)[1],t[h]||(t[h]=1,++u,/\\.js$/.test(h)?(i=n[o]("script"),i.src=e,r[s](i),null===i[a]?i[a]=g:i.onload=c):(i=n[o]("link"),i.rel=l,i.href=e,r[s](i),d(i)))},f=function(t,e){return u||t&&!t()?void i(function(){f(t,e)},10):void h(e)},d=function(t){return t.sheet||t[l]?void c():void i(function(){d(t)},10)},g=function(){/ded|co/.test(this.readyState)&&c()};h(arguments)}}());\n//# sourceMappingURL=libs.min.js.map\n\n//@filename {Foo} fileName ./html/src/JsDocMaker_browser.js\n\n(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module \'"+o+"\'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n//     Underscore.js 1.8.3\n//     http://underscorejs.org\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `exports` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var\n    push             = ArrayProto.push,\n    slice            = ArrayProto.slice,\n    toString         = ObjProto.toString,\n    hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind,\n    nativeCreate       = Object.create;\n\n  // Naked function reference for surrogate-prototype-swapping.\n  var Ctor = function(){};\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we\'re in\n  // the browser, add `_` as a global object.\n  if (typeof exports !== \'undefined\') {\n    if (typeof module !== \'undefined\' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = \'1.8.3\';\n\n  // Internal function that returns an efficient (for current engines) version\n  // of the passed-in callback, to be repeatedly applied in other Underscore\n  // functions.\n  var optimizeCb = function(func, context, argCount) {\n    if (context === void 0) return func;\n    switch (argCount == null ? 3 : argCount) {\n      case 1: return function(value) {\n        return func.call(context, value);\n      };\n      case 2: return function(value, other) {\n        return func.call(context, value, other);\n      };\n      case 3: return function(value, index, collection) {\n        return func.call(context, value, index, collection);\n      };\n      case 4: return function(accumulator, value, index, collection) {\n        return func.call(context, accumulator, value, index, collection);\n      };\n    }\n    return function() {\n      return func.apply(context, arguments);\n    };\n  };\n\n  // A mostly-internal function to generate callbacks that can be applied\n  // to each element in a collection, returning the desired result  either\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\n  var cb = function(value, context, argCount) {\n    if (value == null) return _.identity;\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\n    if (_.isObject(value)) return _.matcher(value);\n    return _.property(value);\n  };\n  _.iteratee = function(value, context) {\n    return cb(value, context, Infinity);\n  };\n\n  // An internal function for creating assigner functions.\n  var createAssigner = function(keysFunc, undefinedOnly) {\n    return function(obj) {\n      var length = arguments.length;\n      if (length < 2 || obj == null) return obj;\n      for (var index = 1; index < length; index++) {\n        var source = arguments[index],\n            keys = keysFunc(source),\n            l = keys.length;\n        for (var i = 0; i < l; i++) {\n          var key = keys[i];\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\n        }\n      }\n      return obj;\n    };\n  };\n\n  // An internal function for creating a new object that inherits from another.\n  var baseCreate = function(prototype) {\n    if (!_.isObject(prototype)) return {};\n    if (nativeCreate) return nativeCreate(prototype);\n    Ctor.prototype = prototype;\n    var result = new Ctor;\n    Ctor.prototype = null;\n    return result;\n  };\n\n  var property = function(key) {\n    return function(obj) {\n      return obj == null ? void 0 : obj[key];\n    };\n  };\n\n  // Helper for collection methods to determine whether a collection\n  // should be iterated as an array or as an object\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\n  // Avoids a very nasty iOS 8 JIT bug on ARM-64. #2094\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\n  var getLength = property(\'length\');\n  var isArrayLike = function(collection) {\n    var length = getLength(collection);\n    return typeof length == \'number\' && length >= 0 && length <= MAX_ARRAY_INDEX;\n  };\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles raw objects in addition to array-likes. Treats all\n  // sparse array-likes as if they were dense.\n  _.each = _.forEach = function(obj, iteratee, context) {\n    iteratee = optimizeCb(iteratee, context);\n    var i, length;\n    if (isArrayLike(obj)) {\n      for (i = 0, length = obj.length; i < length; i++) {\n        iteratee(obj[i], i, obj);\n      }\n    } else {\n      var keys = _.keys(obj);\n      for (i = 0, length = keys.length; i < length; i++) {\n        iteratee(obj[keys[i]], keys[i], obj);\n      }\n    }\n    return obj;\n  };\n\n  // Return the results of applying the iteratee to each element.\n  _.map = _.collect = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length,\n        results = Array(length);\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\n    }\n    return results;\n  };\n\n  // Create a reducing function iterating left or right.\n  function createReduce(dir) {\n    // Optimized iterator function as using arguments.length\n    // in the main function will deoptimize the, see #1991.\n    function iterator(obj, iteratee, memo, keys, index, length) {\n      for (; index >= 0 && index < length; index += dir) {\n        var currentKey = keys ? keys[index] : index;\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\n      }\n      return memo;\n    }\n\n    return function(obj, iteratee, memo, context) {\n      iteratee = optimizeCb(iteratee, context, 4);\n      var keys = !isArrayLike(obj) && _.keys(obj),\n          length = (keys || obj).length,\n          index = dir > 0 ? 0 : length - 1;\n      // Determine the initial value if none is provided.\n      if (arguments.length < 3) {\n        memo = obj[keys ? keys[index] : index];\n        index += dir;\n      }\n      return iterator(obj, iteratee, memo, keys, index, length);\n    };\n  }\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`.\n  _.reduce = _.foldl = _.inject = createReduce(1);\n\n  // The right-associative version of reduce, also known as `foldr`.\n  _.reduceRight = _.foldr = createReduce(-1);\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, predicate, context) {\n    var key;\n    if (isArrayLike(obj)) {\n      key = _.findIndex(obj, predicate, context);\n    } else {\n      key = _.findKey(obj, predicate, context);\n    }\n    if (key !== void 0 && key !== -1) return obj[key];\n  };\n\n  // Return all the elements that pass a truth test.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, predicate, context) {\n    var results = [];\n    predicate = cb(predicate, context);\n    _.each(obj, function(value, index, list) {\n      if (predicate(value, index, list)) results.push(value);\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, predicate, context) {\n    return _.filter(obj, _.negate(cb(predicate)), context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\n    }\n    return true;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Aliased as `any`.\n  _.some = _.any = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = !isArrayLike(obj) && _.keys(obj),\n        length = (keys || obj).length;\n    for (var index = 0; index < length; index++) {\n      var currentKey = keys ? keys[index] : index;\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\n    }\n    return false;\n  };\n\n  // Determine if the array or object contains a given item (using `===`).\n  // Aliased as `includes` and `include`.\n  _.contains = _.includes = _.include = function(obj, item, fromIndex, guard) {\n    if (!isArrayLike(obj)) obj = _.values(obj);\n    if (typeof fromIndex != \'number\' || guard) fromIndex = 0;\n    return _.indexOf(obj, item, fromIndex) >= 0;\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      var func = isFunc ? method : value[method];\n      return func == null ? func : func.apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, _.property(key));\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs) {\n    return _.filter(obj, _.matcher(attrs));\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.find(obj, _.matcher(attrs));\n  };\n\n  // Return the maximum element (or element-based computation).\n  _.max = function(obj, iteratee, context) {\n    var result = -Infinity, lastComputed = -Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value > result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iteratee, context) {\n    var result = Infinity, lastComputed = Infinity,\n        value, computed;\n    if (iteratee == null && obj != null) {\n      obj = isArrayLike(obj) ? obj : _.values(obj);\n      for (var i = 0, length = obj.length; i < length; i++) {\n        value = obj[i];\n        if (value < result) {\n          result = value;\n        }\n      }\n    } else {\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index, list) {\n        computed = iteratee(value, index, list);\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\n          result = value;\n          lastComputed = computed;\n        }\n      });\n    }\n    return result;\n  };\n\n  // Shuffle a collection, using the modern version of the\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/FisherYates_shuffle).\n  _.shuffle = function(obj) {\n    var set = isArrayLike(obj) ? obj : _.values(obj);\n    var length = set.length;\n    var shuffled = Array(length);\n    for (var index = 0, rand; index < length; index++) {\n      rand = _.random(0, index);\n      if (rand !== index) shuffled[index] = shuffled[rand];\n      shuffled[rand] = set[index];\n    }\n    return shuffled;\n  };\n\n  // Sample **n** random values from a collection.\n  // If **n** is not specified, returns a single random element.\n  // The internal `guard` argument allows it to work with `map`.\n  _.sample = function(obj, n, guard) {\n    if (n == null || guard) {\n      if (!isArrayLike(obj)) obj = _.values(obj);\n      return obj[_.random(obj.length - 1)];\n    }\n    return _.shuffle(obj).slice(0, Math.max(0, n));\n  };\n\n  // Sort the object\'s values by a criterion produced by an iteratee.\n  _.sortBy = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value: value,\n        index: index,\n        criteria: iteratee(value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index - right.index;\n    }), \'value\');\n  };\n\n  // An internal function used for aggregate "group by" operations.\n  var group = function(behavior) {\n    return function(obj, iteratee, context) {\n      var result = {};\n      iteratee = cb(iteratee, context);\n      _.each(obj, function(value, index) {\n        var key = iteratee(value, index, obj);\n        behavior(result, value, key);\n      });\n      return result;\n    };\n  };\n\n  // Groups the object\'s values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\n  });\n\n  // Indexes the object\'s values by a criterion, similar to `groupBy`, but for\n  // when you know that your index values will be unique.\n  _.indexBy = group(function(result, value, key) {\n    result[key] = value;\n  });\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = group(function(result, value, key) {\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\n  });\n\n  // Safely create a real, live array from anything iterable.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\n  };\n\n  // Split a collection into two arrays: one whose elements all satisfy the given\n  // predicate, and one whose elements all do not satisfy the predicate.\n  _.partition = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var pass = [], fail = [];\n    _.each(obj, function(value, key, obj) {\n      (predicate(value, key, obj) ? pass : fail).push(value);\n    });\n    return [pass, fail];\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[0];\n    return _.initial(array, array.length - n);\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if (n == null || guard) return array[array.length - 1];\n    return _.rest(array, Math.max(0, array.length - n));\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, n == null || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, strict, startIndex) {\n    var output = [], idx = 0;\n    for (var i = startIndex || 0, length = getLength(input); i < length; i++) {\n      var value = input[i];\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\n        //flatten current level of array or arguments object\n        if (!shallow) value = flatten(value, shallow, strict);\n        var j = 0, len = value.length;\n        output.length += len;\n        while (j < len) {\n          output[idx++] = value[j++];\n        }\n      } else if (!strict) {\n        output[idx++] = value;\n      }\n    }\n    return output;\n  };\n\n  // Flatten out an array, either recursively (by default), or just one level.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, false);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\n    if (!_.isBoolean(isSorted)) {\n      context = iteratee;\n      iteratee = isSorted;\n      isSorted = false;\n    }\n    if (iteratee != null) iteratee = cb(iteratee, context);\n    var result = [];\n    var seen = [];\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var value = array[i],\n          computed = iteratee ? iteratee(value, i, array) : value;\n      if (isSorted) {\n        if (!i || seen !== computed) result.push(value);\n        seen = computed;\n      } else if (iteratee) {\n        if (!_.contains(seen, computed)) {\n          seen.push(computed);\n          result.push(value);\n        }\n      } else if (!_.contains(result, value)) {\n        result.push(value);\n      }\n    }\n    return result;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(flatten(arguments, true, true));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var result = [];\n    var argsLength = arguments.length;\n    for (var i = 0, length = getLength(array); i < length; i++) {\n      var item = array[i];\n      if (_.contains(result, item)) continue;\n      for (var j = 1; j < argsLength; j++) {\n        if (!_.contains(arguments[j], item)) break;\n      }\n      if (j === argsLength) result.push(item);\n    }\n    return result;\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = flatten(arguments, true, true, 1);\n    return _.filter(array, function(value){\n      return !_.contains(rest, value);\n    });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    return _.unzip(arguments);\n  };\n\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\n  // each array\'s elements on shared indices\n  _.unzip = function(array) {\n    var length = array && _.max(array, getLength).length || 0;\n    var result = Array(length);\n\n    for (var index = 0; index < length; index++) {\n      result[index] = _.pluck(array, index);\n    }\n    return result;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    var result = {};\n    for (var i = 0, length = getLength(list); i < length; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // Generator function to create the findIndex and findLastIndex functions\n  function createPredicateIndexFinder(dir) {\n    return function(array, predicate, context) {\n      predicate = cb(predicate, context);\n      var length = getLength(array);\n      var index = dir > 0 ? 0 : length - 1;\n      for (; index >= 0 && index < length; index += dir) {\n        if (predicate(array[index], index, array)) return index;\n      }\n      return -1;\n    };\n  }\n\n  // Returns the first index on an array-like that passes a predicate test\n  _.findIndex = createPredicateIndexFinder(1);\n  _.findLastIndex = createPredicateIndexFinder(-1);\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iteratee, context) {\n    iteratee = cb(iteratee, context, 1);\n    var value = iteratee(obj);\n    var low = 0, high = getLength(array);\n    while (low < high) {\n      var mid = Math.floor((low + high) / 2);\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\n    }\n    return low;\n  };\n\n  // Generator function to create the indexOf and lastIndexOf functions\n  function createIndexFinder(dir, predicateFind, sortedIndex) {\n    return function(array, item, idx) {\n      var i = 0, length = getLength(array);\n      if (typeof idx == \'number\') {\n        if (dir > 0) {\n            i = idx >= 0 ? idx : Math.max(idx + length, i);\n        } else {\n            length = idx >= 0 ? Math.min(idx + 1, length) : idx + length + 1;\n        }\n      } else if (sortedIndex && idx && length) {\n        idx = sortedIndex(array, item);\n        return array[idx] === item ? idx : -1;\n      }\n      if (item !== item) {\n        idx = predicateFind(slice.call(array, i, length), _.isNaN);\n        return idx >= 0 ? idx + i : -1;\n      }\n      for (idx = dir > 0 ? i : length - 1; idx >= 0 && idx < length; idx += dir) {\n        if (array[idx] === item) return idx;\n      }\n      return -1;\n    };\n  }\n\n  // Return the position of the first occurrence of an item in an array,\n  // or -1 if the item is not included in the array.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = createIndexFinder(1, _.findIndex, _.sortedIndex);\n  _.lastIndexOf = createIndexFinder(-1, _.findLastIndex);\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (stop == null) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = step || 1;\n\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\n    var range = Array(length);\n\n    for (var idx = 0; idx < length; idx++, start += step) {\n      range[idx] = start;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Determines whether to execute a function as a constructor\n  // or a normal function with the provided arguments\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\n    var self = baseCreate(sourceFunc.prototype);\n    var result = sourceFunc.apply(self, args);\n    if (_.isObject(result)) return result;\n    return self;\n  };\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**\'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    if (!_.isFunction(func)) throw new TypeError(\'Bind must be called on a function\');\n    var args = slice.call(arguments, 2);\n    var bound = function() {\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\n    };\n    return bound;\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\n  _.partial = function(func) {\n    var boundArgs = slice.call(arguments, 1);\n    var bound = function() {\n      var position = 0, length = boundArgs.length;\n      var args = Array(length);\n      for (var i = 0; i < length; i++) {\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\n      }\n      while (position < arguments.length) args.push(arguments[position++]);\n      return executeBound(func, bound, this, this, args);\n    };\n    return bound;\n  };\n\n  // Bind a number of an object\'s methods to that object. Remaining arguments\n  // are the method names to be bound. Useful for ensuring that all callbacks\n  // defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var i, length = arguments.length, key;\n    if (length <= 1) throw new Error(\'bindAll must be passed function names\');\n    for (i = 1; i < length; i++) {\n      key = arguments[i];\n      obj[key] = _.bind(obj[key], obj);\n    }\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memoize = function(key) {\n      var cache = memoize.cache;\n      var address = \'\' + (hasher ? hasher.apply(this, arguments) : key);\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\n      return cache[address];\n    };\n    memoize.cache = {};\n    return memoize;\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){\n      return func.apply(null, args);\n    }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = _.partial(_.delay, _, 1);\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time. Normally, the throttled function will run\n  // as much as it can, without ever going more than once per `wait` duration;\n  // but if you\'d like to disable the execution on the leading edge, pass\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\n  _.throttle = function(func, wait, options) {\n    var context, args, result;\n    var timeout = null;\n    var previous = 0;\n    if (!options) options = {};\n    var later = function() {\n      previous = options.leading === false ? 0 : _.now();\n      timeout = null;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    };\n    return function() {\n      var now = _.now();\n      if (!previous && options.leading === false) previous = now;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0 || remaining > wait) {\n        if (timeout) {\n          clearTimeout(timeout);\n          timeout = null;\n        }\n        previous = now;\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      } else if (!timeout && options.trailing !== false) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function() {\n      var last = _.now() - timestamp;\n\n      if (last < wait && last >= 0) {\n        timeout = setTimeout(later, wait - last);\n      } else {\n        timeout = null;\n        if (!immediate) {\n          result = func.apply(context, args);\n          if (!timeout) context = args = null;\n        }\n      }\n    };\n\n    return function() {\n      context = this;\n      args = arguments;\n      timestamp = _.now();\n      var callNow = immediate && !timeout;\n      if (!timeout) timeout = setTimeout(later, wait);\n      if (callNow) {\n        result = func.apply(context, args);\n        context = args = null;\n      }\n\n      return result;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return _.partial(wrapper, func);\n  };\n\n  // Returns a negated version of the passed-in predicate.\n  _.negate = function(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var args = arguments;\n    var start = args.length - 1;\n    return function() {\n      var i = start;\n      var result = args[start].apply(this, arguments);\n      while (i--) result = args[i].call(this, result);\n      return result;\n    };\n  };\n\n  // Returns a function that will only be executed on and after the Nth call.\n  _.after = function(times, func) {\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Returns a function that will only be executed up to (but not including) the Nth call.\n  _.before = function(times, func) {\n    var memo;\n    return function() {\n      if (--times > 0) {\n        memo = func.apply(this, arguments);\n      }\n      if (times <= 1) func = null;\n      return memo;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = _.partial(_.before, 2);\n\n  // Object Functions\n  // ----------------\n\n  // Keys in IE < 9 that won\'t be iterated by `for key in ...` and thus missed.\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable(\'toString\');\n  var nonEnumerableProps = [\'valueOf\', \'isPrototypeOf\', \'toString\',\n                      \'propertyIsEnumerable\', \'hasOwnProperty\', \'toLocaleString\'];\n\n  function collectNonEnumProps(obj, keys) {\n    var nonEnumIdx = nonEnumerableProps.length;\n    var constructor = obj.constructor;\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\n\n    // Constructor is a special case.\n    var prop = \'constructor\';\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\n\n    while (nonEnumIdx--) {\n      prop = nonEnumerableProps[nonEnumIdx];\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\n        keys.push(prop);\n      }\n    }\n  }\n\n  // Retrieve the names of an object\'s own properties.\n  // Delegates to **ECMAScript 5**\'s native `Object.keys`\n  _.keys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    if (nativeKeys) return nativeKeys(obj);\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve all the property names of an object.\n  _.allKeys = function(obj) {\n    if (!_.isObject(obj)) return [];\n    var keys = [];\n    for (var key in obj) keys.push(key);\n    // Ahem, IE < 9.\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\n    return keys;\n  };\n\n  // Retrieve the values of an object\'s properties.\n  _.values = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var values = Array(length);\n    for (var i = 0; i < length; i++) {\n      values[i] = obj[keys[i]];\n    }\n    return values;\n  };\n\n  // Returns the results of applying the iteratee to each element of the object\n  // In contrast to _.map it returns an object\n  _.mapObject = function(obj, iteratee, context) {\n    iteratee = cb(iteratee, context);\n    var keys =  _.keys(obj),\n          length = keys.length,\n          results = {},\n          currentKey;\n      for (var index = 0; index < length; index++) {\n        currentKey = keys[index];\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\n      }\n      return results;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var keys = _.keys(obj);\n    var length = keys.length;\n    var pairs = Array(length);\n    for (var i = 0; i < length; i++) {\n      pairs[i] = [keys[i], obj[keys[i]]];\n    }\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    var keys = _.keys(obj);\n    for (var i = 0, length = keys.length; i < length; i++) {\n      result[obj[keys[i]]] = keys[i];\n    }\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = createAssigner(_.allKeys);\n\n  // Assigns a given object with all the own properties in the passed-in object(s)\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\n  _.extendOwn = _.assign = createAssigner(_.keys);\n\n  // Returns the first key on an object that passes a predicate test\n  _.findKey = function(obj, predicate, context) {\n    predicate = cb(predicate, context);\n    var keys = _.keys(obj), key;\n    for (var i = 0, length = keys.length; i < length; i++) {\n      key = keys[i];\n      if (predicate(obj[key], key, obj)) return key;\n    }\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(object, oiteratee, context) {\n    var result = {}, obj = object, iteratee, keys;\n    if (obj == null) return result;\n    if (_.isFunction(oiteratee)) {\n      keys = _.allKeys(obj);\n      iteratee = optimizeCb(oiteratee, context);\n    } else {\n      keys = flatten(arguments, false, false, 1);\n      iteratee = function(value, key, obj) { return key in obj; };\n      obj = Object(obj);\n    }\n    for (var i = 0, length = keys.length; i < length; i++) {\n      var key = keys[i];\n      var value = obj[key];\n      if (iteratee(value, key, obj)) result[key] = value;\n    }\n    return result;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj, iteratee, context) {\n    if (_.isFunction(iteratee)) {\n      iteratee = _.negate(iteratee);\n    } else {\n      var keys = _.map(flatten(arguments, false, false, 1), String);\n      iteratee = function(value, key) {\n        return !_.contains(keys, key);\n      };\n    }\n    return _.pick(obj, iteratee, context);\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = createAssigner(_.allKeys, true);\n\n  // Creates an object that inherits from the given prototype object.\n  // If additional properties are provided then they will be added to the\n  // created object.\n  _.create = function(prototype, props) {\n    var result = baseCreate(prototype);\n    if (props) _.extendOwn(result, props);\n    return result;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to "tap into" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Returns whether an object has a given set of `key:value` pairs.\n  _.isMatch = function(object, attrs) {\n    var keys = _.keys(attrs), length = keys.length;\n    if (object == null) return !length;\n    var obj = Object(object);\n    for (var i = 0; i < length; i++) {\n      var key = keys[i];\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\n    }\n    return true;\n  };\n\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren\'t identical.\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className !== toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\n      case \'[object RegExp]\':\n      // RegExps are coerced to strings for comparison (Note: \'\' + /a/i === \'/a/i\')\n      case \'[object String]\':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is\n        // equivalent to `new String("5")`.\n        return \'\' + a === \'\' + b;\n      case \'[object Number]\':\n        // `NaN`s are equivalent, but non-reflexive.\n        // Object(NaN) is equivalent to NaN\n        if (+a !== +a) return +b !== +b;\n        // An `egal` comparison is performed for other numeric values.\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\n      case \'[object Date]\':\n      case \'[object Boolean]\':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a === +b;\n    }\n\n    var areArrays = className === \'[object Array]\';\n    if (!areArrays) {\n      if (typeof a != \'object\' || typeof b != \'object\') return false;\n\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\n                          && (\'constructor\' in a && \'constructor\' in b)) {\n        return false;\n      }\n    }\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n\n    // Initializing stack of traversed objects.\n    // It\'s done here since we only need them for objects and arrays comparison.\n    aStack = aStack || [];\n    bStack = bStack || [];\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] === a) return bStack[length] === b;\n    }\n\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n\n    // Recursively compare objects and arrays.\n    if (areArrays) {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      length = a.length;\n      if (length !== b.length) return false;\n      // Deep compare the contents, ignoring non-numeric properties.\n      while (length--) {\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\n      }\n    } else {\n      // Deep compare objects.\n      var keys = _.keys(a), key;\n      length = keys.length;\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\n      if (_.keys(b).length !== length) return false;\n      while (length--) {\n        // Deep compare each member\n        key = keys[length];\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return true;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b);\n  };\n\n  // Is a given array, string, or object empty?\n  // An "empty" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\n    return _.keys(obj).length === 0;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5\'s native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) === \'[object Array]\';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    var type = typeof obj;\n    return type === \'function\' || type === \'object\' && !!obj;\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\n  _.each([\'Arguments\', \'Function\', \'String\', \'Number\', \'Date\', \'RegExp\', \'Error\'], function(name) {\n    _[\'is\' + name] = function(obj) {\n      return toString.call(obj) === \'[object \' + name + \']\';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\n  // there isn\'t any inspectable "Arguments" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return _.has(obj, \'callee\');\n    };\n  }\n\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\n  // IE 11 (#1621), and in Safari 8 (#1929).\n  if (typeof /./ != \'function\' && typeof Int8Array != \'object\') {\n    _.isFunction = function(obj) {\n      return typeof obj == \'function\' || false;\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj !== +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) === \'[object Boolean]\';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return obj != null && hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iteratees.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Predicate-generating functions. Often useful outside of Underscore.\n  _.constant = function(value) {\n    return function() {\n      return value;\n    };\n  };\n\n  _.noop = function(){};\n\n  _.property = property;\n\n  // Generates a function for a given object that returns a given property.\n  _.propertyOf = function(obj) {\n    return obj == null ? function(){} : function(key) {\n      return obj[key];\n    };\n  };\n\n  // Returns a predicate for checking whether an object has a given set of\n  // `key:value` pairs.\n  _.matcher = _.matches = function(attrs) {\n    attrs = _.extendOwn({}, attrs);\n    return function(obj) {\n      return _.isMatch(obj, attrs);\n    };\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iteratee, context) {\n    var accum = Array(Math.max(0, n));\n    iteratee = optimizeCb(iteratee, context, 1);\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // A (possibly faster) way to get the current timestamp as an integer.\n  _.now = Date.now || function() {\n    return new Date().getTime();\n  };\n\n   // List of HTML entities for escaping.\n  var escapeMap = {\n    \'&\': \'&amp;\',\n    \'<\': \'&lt;\',\n    \'>\': \'&gt;\',\n    \'"\': \'&quot;\',\n    "\'": \'&#x27;\',\n    \'`\': \'&#x60;\'\n  };\n  var unescapeMap = _.invert(escapeMap);\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  var createEscaper = function(map) {\n    var escaper = function(match) {\n      return map[match];\n    };\n    // Regexes for identifying a key that needs to be escaped\n    var source = \'(?:\' + _.keys(map).join(\'|\') + \')\';\n    var testRegexp = RegExp(source);\n    var replaceRegexp = RegExp(source, \'g\');\n    return function(string) {\n      string = string == null ? \'\' : \'\' + string;\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\n    };\n  };\n  _.escape = createEscaper(escapeMap);\n  _.unescape = createEscaper(unescapeMap);\n\n  // If the value of the named `property` is a function then invoke it with the\n  // `object` as context; otherwise, return it.\n  _.result = function(object, property, fallback) {\n    var value = object == null ? void 0 : object[property];\n    if (value === void 0) {\n      value = fallback;\n    }\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + \'\';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don\'t want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    "\'":      "\'",\n    \'\\\\\':     \'\\\\\',\n    \'\\r\':     \'r\',\n    \'\\n\':     \'n\',\n    \'\\u2028\': \'u2028\',\n    \'\\u2029\': \'u2029\'\n  };\n\n  var escaper = /\\\\|\'|\\r|\\n|\\u2028|\\u2029/g;\n\n  var escapeChar = function(match) {\n    return \'\\\\\' + escapes[match];\n  };\n\n  // JavaScript micro-templating, similar to John Resig\'s implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  // NB: `oldSettings` only exists for backwards compatibility.\n  _.template = function(text, settings, oldSettings) {\n    if (!settings && oldSettings) settings = oldSettings;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join(\'|\') + \'|$\', \'g\');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = "__p+=\'";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset).replace(escaper, escapeChar);\n      index = offset + match.length;\n\n      if (escape) {\n        source += "\'+\\n((__t=(" + escape + "))==null?\'\':_.escape(__t))+\\n\'";\n      } else if (interpolate) {\n        source += "\'+\\n((__t=(" + interpolate + "))==null?\'\':__t)+\\n\'";\n      } else if (evaluate) {\n        source += "\';\\n" + evaluate + "\\n__p+=\'";\n      }\n\n      // Adobe VMs need the match returned to produce the correct offest.\n      return match;\n    });\n    source += "\';\\n";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = \'with(obj||{}){\\n\' + source + \'}\\n\';\n\n    source = "var __t,__p=\'\',__j=Array.prototype.join," +\n      "print=function(){__p+=__j.call(arguments,\'\');};\\n" +\n      source + \'return __p;\\n\';\n\n    try {\n      var render = new Function(settings.variable || \'obj\', \'_\', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled source as a convenience for precompilation.\n    var argument = settings.variable || \'obj\';\n    template.source = \'function(\' + argument + \'){\\n\' + source + \'}\';\n\n    return template;\n  };\n\n  // Add a "chain" function. Start chaining a wrapped Underscore object.\n  _.chain = function(obj) {\n    var instance = _(obj);\n    instance._chain = true;\n    return instance;\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(instance, obj) {\n    return instance._chain ? _(obj).chain() : obj;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    _.each(_.functions(obj), function(name) {\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  _.each([\'pop\', \'push\', \'reverse\', \'shift\', \'sort\', \'splice\', \'unshift\'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name === \'shift\' || name === \'splice\') && obj.length === 0) delete obj[0];\n      return result(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  _.each([\'concat\', \'join\', \'slice\'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  // Extracts the result from a wrapped and chained object.\n  _.prototype.value = function() {\n    return this._wrapped;\n  };\n\n  // Provide unwrapping proxy for some methods used in engine operations\n  // such as arithmetic and JSON stringification.\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\n\n  _.prototype.toString = function() {\n    return \'\' + this._wrapped;\n  };\n\n  // AMD registration happens at the end for compatibility with AMD loaders\n  // that may not enforce next-turn semantics on modules. Even though general\n  // practice for AMD registration is to be anonymous, underscore registers\n  // as a named module because, like jQuery, it is a base library that is\n  // popular enough to be bundled in a third party lib, but not be part of\n  // an AMD load request. Those cases could generate an error when an\n  // anonymous define() is called outside of a loader request.\n  if (typeof define === \'function\' && define.amd) {\n    define(\'underscore\', [], function() {\n      return _;\n    });\n  }\n}.call(this));\n\n},{}],2:[function(require,module,exports){\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'./class\'); \nvar _ = require(\'underscore\'); \n\n// BINDING / post processing\n\n//@class TypeBinding a datatype with an association between types names in source code and parsed class nodes. \n//It support generic types (recursive)\n//@property {TypeBinding} type\n//@property {Array<TypeBinding>} params - the generic types params array. For example the params for {Map<String,Apple>} is [StringBynding]\n//@property {Object<String,TypeBinding>} properties - the properties literal object declaration binding, {a:A,b:B}\n//@property {String} nativeTypeUrl the url for native type only\n\n\n//@class JsDocMaker\n//@method parseTypeString public, do a type binding @return {TypeBinding} the object binding to the original r\n//eferenced AST node. Or null in case the given type cannot be parsed\n//TODO: support multiple generics and generics anidation like in\nJsDocMaker.prototype.parseTypeString = function(typeString, baseClass)\n{\n\tif(!typeString || !baseClass)\n\t{ \n\t\treturn null;\n\t}\n\t//first remove the \'{}\'\n\ttypeString = JsDocMaker.stringFullTrim(typeString); \n\tvar inner = /^{([^}]+)}$/.exec(typeString);\n\tif(!inner || inner.length<2)\n\t{\n\t\treturn null;\n\t}\n\ttypeString = inner[1]; \n\ttypeString = typeString.replace(/\\s+/gi, \'\');\n\tvar ret = this.parseSingleTypeString(typeString, baseClass); \n\t// console.log(\'parseTypeString\', ret)\n\tif(ret && ret.length===1)\n\t{\n\t\treturn ret[0]; \n\t}\n\telse\n\t{\t\n\t\treturn ret;\t\n\t}\t\n}; \n\n// @method parseSingleTypeString @param {String} typeStr\nJsDocMaker.prototype.parseSingleTypeString = function(typeStr, baseClass)\n{\n\tvar a = typeStr.split(\'|\'), ret = [], self = this;\n\n\t_(a).each(function(typeString)\n\t{\n\t\n\t\t// is this a custom type, like #custom(1,2) ? \n\n\t\tvar regex = /^#(\\w+)\\(([^\\()]+)\\)/\n\t\t,\tcustomType = regex.exec(typeString)\n\t\t,\ttype_binded = null\n\t\t,\ttype = null;\n\n\t\tif(customType && customType.length === 3)\n\t\t{\n\t\t\tvar parserName = customType[1];\n\t\t\tvar parserInput = customType[2]; \n\t\t\tvar parser = self.typeParsers[parserName]; \n\t\t\tif(parser)\n\t\t\t{\n\t\t\t\ttry \n\t\t\t\t{\n\t\t\t\t\tvar parsed = parser.parse(parserInput, baseClass);\n\t\t\t\t\tif(parsed)\n\t\t\t\t\t{\n\t\t\t\t\t\t// TODO bind type ? \n\t\t\t\t\t\t//BIG PROBLEM HERE - this code executes at parsing time and here we are binding - do this binding in a post processing ast\n\t\t\t\t\t\t//TODO probably all this code should be moved to postprocessing ast phase and here we only dump the original type string.\n\t\t\t\t\t\ttype_binded = self.bindParsedType(parsed, baseClass); \n\t\t\t\t\t\tret.push(type_binded); \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcatch(ex)\n\t\t\t\t{\n\t\t\t\t\tself.error(\'Invalid Custom Type: \'+typeString, \', baseClass: \', (baseClass && baseClass.absoluteName)); \n\t\t\t\t}\t\t\t\t\n\t\t\t}\n\t\t}\n\n\t\t//it is a literal object type, like {a:String,b:Number}? \n\n\t\telse if(typeString.indexOf(\':\')!==-1 && typeString.indexOf(\'#\')===-1 ) //and is not a custom type #cus\n\t\t{\n\t\t\ttype = null; \n\t\t\ttry\n\t\t\t{\n\t\t\t\tvar props = JsDocMaker.parseType(typeString);\n\t\t\t\ttype = {name: \'Object\', properties: props}; \n\t\t\t\ttype_binded = self.bindParsedType(type, baseClass);\n\t\t\t\tret.push(type_binded); \n\t\t\t}\n\t\t\tcatch(ex)\n\t\t\t{\n\t\t\t\tself.error(\'Invalid Type: \'+typeString, \', baseClass: \', (baseClass && baseClass.absoluteName)); \n\t\t\t}\t\n\t\t}\n\n\n\t\t// it is a generic type like Array<String> ? \n\n\t\telse if(typeString.indexOf(\'<\')!==-1)\n\t\t{\n\t\t\ttype = null;\n\t\t\ttry\n\t\t\t{\n\t\t\t\ttype = JsDocMaker.parseType(typeString);\n\t\t\t\ttype_binded = self.bindParsedType(type, baseClass);\n\t\t\t\tret.push(type_binded); \n\t\t\t}\n\t\t\tcatch(ex)\n\t\t\t{\n\t\t\t\tself.error(\'Invalid Type: \'+typeString, \', baseClass: \', (baseClass && baseClass.absoluteName)); \n\t\t\t}\t\n\t\t}\n\n\t\telse\n\t\t{\t\n\t\t\tret.push(self.bindClass(typeString, baseClass));\t\n\t\t}\n\t}) ; \n\n\treturn ret;\n}; \n\n//@method bindParsedType merges the data of JsDocMaker.parseType with bindings of current jsdoc. recursive!\n//@param {Object} typeObject @param {Object} baseClass @return {Object}\nJsDocMaker.prototype.bindParsedType = function(typeObject, baseClass)\n{\n\tvar c = null\n\t,\tout = typeObject\n\t,\tself = this;\n\n\tif(typeObject && _(typeObject).isString())\n\t{\n\t\tc = this.bindClass(typeObject, baseClass); \n\t\tout = {name: typeObject}; \n\t}\n\telse if(typeObject && typeObject.name)\n\t{\n\t\t//recurse on params for generic types like M<T,K>!\n\t\tif(out.params)\n\t\t{\t\t\t\n\t\t\tvar new_params = [];\n\n\t\t\tc = this.bindClass(typeObject.name, baseClass); \n\n\t\t\t_(out.params).each(function(param)\n\t\t\t{\n\t\t\t\tvar new_param = self.bindParsedType(param, baseClass);\n\t\t\t\tnew_params.push(new_param);\n\t\t\t}); \n\t\t\tout.params = new_params;\t\n\t\t}\n\n\t\t//recurse on properties for literal object type like name:String,config:Config\n\t\tif(out.properties)\n\t\t{\n\t\t\tvar new_properties = {};\n\t\t\t_(out.properties).each(function(value, name)\n\t\t\t{\n\t\t\t\tvar new_property = self.bindParsedType(value, baseClass);\n\t\t\t\tnew_properties[name] = new_property; \n\t\t\t}); \n\t\t\tout.properties = new_properties;\t\n\t\t}\n\t}\n\tif(c)\n\t{\n\t\t_(out).extend(c);\n\t}\n\treturn out;\n}; \n\n\n\nvar PluginContainer = require(\'./plugin\'); \n\n\n\n//POST PROCESSING\n\n// @property {PluginContainer} beforeBindClassPlugins these plugins accept an object like \n// {name:name,baseClass:JsDocASTNode,jsdocmaker:JsDocMaker} and perform some modification to passed node:parsed instance.\n// This is done just before a class name is binding to an actual AST class node.\nJsDocMaker.prototype.beforeBindClassPlugins = new PluginContainer(); \n\n// @property {PluginContainer} afterBindClassPlugins these plugins accept an object like \n// {name:name,baseClass:JsDocASTNode,jsdocmaker:JsDocMaker} and perform some modification to passed node:parsed instance.\n// This is done just after a class name is binding to an actual AST class node.\nJsDocMaker.prototype.afterBindClassPlugins = new PluginContainer(); \n\n\n\n//@method bindClass @param {String}name @param {Object} baseClass\n//TODO: using a internal map this could be done faster\nJsDocMaker.prototype.bindClass = function(name, baseClass)\n{\n\tvar context = {\n\t\tname:name\n\t,\tbaseClass: baseClass\n\t,\tjsdocmaker: this\n\t}; \n\n\tthis.beforeBindClassPlugins.execute(context); \n\n\t// beforeBindClassPlugins have the oportunity of changing the context\n\tname = context.name || name;\n\tbaseClass = context.baseClass || baseClass;\n\n\tvar moduleName = baseClass.annotation === \'module\' ? baseClass.name : baseClass.module.name; \n\t\n\t//search all classes that matches the name\n\tvar classesWithName = _(_(this.data.classes).values()).filter(function(c)\n\t{\n\t\treturn c.name===name;//JsDocMaker.stringEndsWith(c.name, name); \n\t});\n\t//search classes of the module\n\tvar moduleClasses = _(classesWithName).filter(function(c)\n\t{\n\t\treturn JsDocMaker.startsWith(c.module.name, moduleName); \n\t}); \n\n\t//TODO: performance - classesWithName could be compauted only if moduleClasses is empty\n\n\tvar c = moduleClasses.length ? moduleClasses[0] : classesWithName[0]; \n\n\tif(!c)\n\t{\n\t\t//then it could be a function\n\t\tvar fns = []\n\t\t_.each(this.data.modules, function(module)\n\t\t{\n\t\t\t_.each(module.functions, function(fn)\n\t\t\t{\n\t\t\t\tif(fn.name===name)\n\t\t\t\t{\n\t\t\t\t\tfns.push(fn)\n\t\t\t\t}\n\t\t\t})\n\t\t});\n\t\tif(fns.length)\n\t\t{\n\t\t\tc = fns[0]\n\t\t}\n\t}\n\n\tif(!c)\n\t{\n\t\t//TODO: look at native types\n\t\tvar nativeType = this.getNativeTypeUrl ? this.getNativeTypeUrl(name) : null;\n\t\tvar o = {name:name}; \n\t\tif(nativeType)\n\t\t{\n\t\t\to.nativeTypeUrl = nativeType; \n\t\t}\n\t\telse\n\t\t{\n\t\t\to.error = \'NAME_NOT_FOUND\'; \n\t\t}\n\t\tc = o;\t\t\n\t}\n\n\tthis.afterBindClassPlugins.execute({name:name, binded: c, baseClass: baseClass, jsdocmaker: this});\n\n\treturn c;\n\n}; \n\n// @method simpleName @param {String} name @return {String}\nJsDocMaker.prototype.simpleName = function(name, prefix)\n{\n\tif(prefix && name.indexOf(prefix) === 0)\n\t{\n\t\treturn name.substring(prefix.length + 1, name.length);\n\t}\n\telse\n\t{\t\n\t\tvar a = name.split(JsDocMaker.ABSOLUTE_NAME_SEPARATOR);\n\t\treturn a[a.length - 1]; \t\n\t}\n}; \n\n\n\n\n\n\n\n},{"./class":3,"./plugin":6,"underscore":1}],3:[function(require,module,exports){\n// @module shortjsdoc @class JsDocMaker\n// Main jsdoc parser utility. It accepts a valid js source code String and returns a JavaScript object with a jsdoc AST, this is an object\n// with classes and modules array that users can use to easily access jsdocs information, for example, parsed.classes.Apple.methods.getColor\n// use the parseFile method for this! This will return the AST, if you want to perform more enrichment and type binding, then use \n// postProccess and postProccessBinding methods after.\n\n/* jshint evil:true*/\n\nvar _ = require(\'underscore\'); \n\nvar JsDocMaker = function(options)\n{\t\n\t//@property {Object<String,String>} customNativeTypes name to url map that the user can modify to register new native types b givin its url.\n\tthis.customNativeTypes = this.customNativeTypes || {};\n\tthis.annotationRegexp = /(\\s+@\\w+)/gi;\n\tthis.typeParsers = {};\n\tthis.inputSource = [];\n\tthis.options = options || {};\n\n\tif(this.initializePluginContainers)\n\t{\n\t\tthis.initializePluginContainers();\n\t}\n}; \n\n// @property {String} DEFAULT_CLASS @static\nJsDocMaker.DEFAULT_CLASS = \'Object\'; \n\n// @property {String} DEFAULT_MODULE @static\nJsDocMaker.DEFAULT_MODULE = \'__DefaultModule\'; \n\n// @property {String} ABSOLUTE_NAME_SEPARATOR @static\nJsDocMaker.ABSOLUTE_NAME_SEPARATOR = \'.\'; \n\n// @property {String} MULTIPLE_TEXT_SEPARATOR @static\nJsDocMaker.MULTIPLE_TEXT_SEPARATOR = \'\\n\\n\'; \n\n//expose\nif(typeof(window) !== \'undefined\')\n{\n\twindow.JsDocMaker = JsDocMaker; \n}\n\n\n//@method require perform an intelligent require n browser&nodejs, needed for esprima. Ugly :(\nJsDocMaker.require = function(name)\n{\n\treturn (typeof(window) != \'undefined\' && window[name]) ? window[name] : require(name);\n}; \n\nmodule.exports = JsDocMaker; \n},{"underscore":1}],4:[function(require,module,exports){\n\'strict mode\'; \n\nvar JsDocMaker = require(\'./class\'); \n\nrequire(\'./util\'); \n\nrequire(\'./parse\'); \n\nrequire(\'./preprocess\'); \n\nrequire(\'./type-parsing\'); \n\nrequire(\'./postprocess\'); \n\nrequire(\'./binding\'); \n\n\nmodule.exports = JsDocMaker;\n},{"./binding":2,"./class":3,"./parse":5,"./postprocess":7,"./preprocess":8,"./type-parsing":9,"./util":10}],5:[function(require,module,exports){\n/*\n@module shortjsdoc \n\n@class JsDocMaker.Data\n@property {Object<String, JsDocASTNode>} methods\n@property {Object<JsDocASTNode>} classes\n@property {Array<JsDocASTNode>} classes\n\n@class JsDocASTNode all the jsdoc parsed information is stored as nodes one containing others. modules contains classes, @class contains methods and @method contains @param and @returns\n\n\n@class JsDocMaker\n\n#Parsing and processing \n\nThe first thing done with source code is parsing its comments to extract general information about annotations. This implies\n\n * parse the sources with exprima and work with the comments array.\n * preprocess the comments array for normalization before start parsing them. Call preprocessing plugins. \n * iterate the comments text and split using PRIMARY annotations\n\n##Primary annotations\nFor representing some logic of JSDOC like \'a class contains methods that contains parameters\' we have the concept of PRIMARY ANNOTATIONS. \n*These are @class @module @method @property*\n\nThese are the concepts that contains the stuff. All the other annotations are children of one primary annotation. For example @return, @param, @extend, @static are SECOND LEVEL ANNOTATIONS\nand are always children of one primary annotation.\n\nBut this is the only logic contained in the core parsing. Then a general AST, using this primary container names logic, is returned. \n\nALL declared annotations will be outputed (unless a plugin remove something)\n\n*/\n\n\nvar JsDocMaker = require(\'./class\'); \nvar PluginContainer = require(\'./plugin\'); \nvar esprima = JsDocMaker.require(\'esprima\');\nvar _ = require(\'underscore\'); \n\n\n// @property {PluginContainer} allCommentPreprocessorPlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to esprima comment node - \n// this is the FIRST stage of the parser. This is the same as commentPreprocessorPlugins but all comments nodes are passed for those plugins that need some context about the comments. \nJsDocMaker.prototype.allCommentPreprocessorPlugins = new PluginContainer(); \n\n// @property {PluginContainer} commentPreprocessorPlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to esprima comment node - this is the FIRST stage of the parser\nJsDocMaker.prototype.commentPreprocessorPlugins = new PluginContainer(); \n\n// @property {PluginContainer} beforeParseNodePlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done just before the first parsing is done on the first AST node. Only primary nodes are visited!\nJsDocMaker.prototype.beforeParseNodePlugins = new PluginContainer(); \n\n// @property {PluginContainer} parsePreprocessors these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done just after the first parsing is done on the first AST node. Only primary nodes are visited!\nJsDocMaker.prototype.afterParseNodePlugins = new PluginContainer();\n\n// @property {PluginContainer} afterParseUnitSimplePlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done after an unit is parsed - this will iterated all nodes as units .The first node object is formed at this stage. \nJsDocMaker.prototype.afterParseUnitSimplePlugins = new PluginContainer();\n\n// @property {String}primaryAnnotationsRegexString\nJsDocMaker.prototype.primaryAnnotationsRegexString = \'((?:@class)|(?:@method)|(?:@property)|(?:@attribute)|(?:@module)|(?:@event)|(?:@constructor)|(?:@function)|(?:@interface)|(?:@filename))\';\n\nJsDocMaker.prototype.isPrimaryAnnotation = function(s)\n{\n\tif(s.indexOf(\'@\')!==0)\n\t{\n\t\ts = \'@\' + s; \n\t}\n\treturn new RegExp(\'^\'+this.primaryAnnotationsRegexString, \'g\').test(s);\n}\n\n\n//@method jsdoc the public method to parse all the added files with addFile. @return {Object} the parsed object @param {String} source . Optional\nJsDocMaker.prototype.jsdoc = function(source)\n{\n\t//@property {Array<String>} all the input added included @filename annotations\n\tsource = source || this.inputSource.join(\'\');\n\tthis.data = this.data || {}; \n\tthis.data.source = source;\n\n\t// @property {EsprimaSyntax} the Sprima Syntax object of the current pased file.\t\n\tthis.syntax = esprima.parse(source, {\n\t\traw: true\n\t,\trange: true\n\t,\tcomment: true\t\t\n\t});\n\n\tthis.parse(this.syntax.comments);\n\n\treturn this.data;\n}; \n\n//@method parseFile a public method for parsing a single file. Note if you want to parse more than one file please use addFile() and the jsdoc() \n//@return {Object} the parsed object @param {String} source @param {String} filename\nJsDocMaker.prototype.parseFile = function(source, fileName)\n{\n\tthis.addFile(source, fileName); \n\treturn this.jsdoc(); \n}; \n\n//@method addFile @param {String}source the source code of the file @param  {String} the file name\nJsDocMaker.prototype.addFile = function(source, fileName)\n{\n\tthis.inputSource.push(\'\\n\\n//@filename {Foo} fileName \' + fileName+\'\\n\\n\');\n\tthis.inputSource.push(source);\n}; \n\n//@property {String} ignoreCommentPrefix\nJsDocMaker.prototype.ignoreCommentPrefix = \'?\';\n\n//@method parse\t@return {Array} array of class description - with methods, and methods containing params. \nJsDocMaker.prototype.parse = function(comments)\n{\n\tvar self = this\n\t,\tcurrentClass = null\n\t,\tcurrentMethod = null\n\t,\tcurrentModule = null\n\t,\tcurrentFile = null;\n\n\tthis.comments = comments;\n\tthis.data = this.data || {}; \n\tthis.data.classes = this.data.classes || {}; \n\tthis.data.modules = this.data.modules || {}; \n\tthis.data.files = this.data.files || {}; \n\n\tself.allCommentPreprocessorPlugins.execute({node: self.comments, jsdocMaker: self}); \n\n\t_(self.comments).each(function(node)\n\t{\n\t\tself.commentPreprocessorPlugins.execute({node: node, jsdocMaker: self}); \n\n\t\t//because is global we must instantiate this regex each time\n\t\tvar regex = new RegExp(self.primaryAnnotationsRegexString, \'gi\');\n\n\t\tvar a = JsDocMaker.splitAndPreserve(node.value || \'\', regex); \n\t\ta = _(a).filter(function(v)  //delete empties and trim\n\t\t{\n\t\t\treturn JsDocMaker.stringTrim(v);\n\t\t});\n\t\t\n\t\t_(a).each(function(value)\n\t\t{\n\t\t\tvar parsed_array = self.parseUnit(value, node);\n\t\t\t\n\t\t\t_(parsed_array).each(function(parsed)\n\t\t\t{\n\t\t\t\tparsed.commentRange = node.range;\n\t\t\t\tparsed.fileName = (currentFile && currentFile.fileName) ? currentFile.fileName : undefined;\n\n\t\t\t\tdelete parsed.theRestString; \n\t\t\t\t\n\t\t\t\tself.beforeParseNodePlugins.execute({node:parsed, jsdocmaker:self}); \n\n\t\t\t\t//Note: the following lines is the (only) place were the \'primary annotations\' (class,module,method,property) are implemented \n\t\t\t\t//We get primary tags like class,module,method,property and form the first primary AST (a module contains classes which contain methods and properties)\n\t\t\t\t//All the other annotations are treated as secondary, this means they will be assigned as childresn to the last primary annotation.\n\n\t\t\t\tif(parsed.annotation === \'class\'||parsed.annotation === \'interface\') \n\t\t\t\t{\n\t\t\t\t\t//allow classes without modules - asignated to a defulat module\n\t\t\t\t\tif (!currentModule)\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrentModule = {name: JsDocMaker.DEFAULT_MODULE};\n\t\t\t\t\t}\n\n\t\t\t\t\tparsed.module = currentModule; \n\t\t\t\t\tparsed.absoluteName = currentModule.name + JsDocMaker.ABSOLUTE_NAME_SEPARATOR + parsed.name;\n\n\t\t\t\t\t//if the class was already defined we want to preserve all the definitions children and texts \n\t\t\t\t\tif(self.data.classes[parsed.absoluteName])\n\t\t\t\t\t{\n\t\t\t\t\t\t//preserve text\n\t\t\t\t\t\tif(self.data.classes[parsed.absoluteName].text !== parsed.text)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.data.classes[parsed.absoluteName].text += JsDocMaker.MULTIPLE_TEXT_SEPARATOR + parsed.text; \n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// preserve children\n\t\t\t\t\t\tself.data.classes[parsed.absoluteName].children = self.data.classes[parsed.absoluteName].children || [];\n\t\t\t\t\t\t_(parsed.children).each(function(classPreservedChild)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar originalChild = _(self.data.classes[parsed.absoluteName].cihldren).find(function(c2)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn c2.annotation===classPreservedChild.annotation; \n\t\t\t\t\t\t\t}); \n\t\t\t\t\t\t\tif(!originalChild)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tself.data.classes[parsed.absoluteName].children.push(classPreservedChild); \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\n\t\t\t\t\t\tcurrentClass = self.data.classes[parsed.absoluteName]; \n\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\t\t\t\t\t\t\n\t\t\t\t\t\tself.data.classes[parsed.absoluteName] = parsed; \n\t\t\t\t\t\tdelete self.data.classes[parsed.name];\n\t\t\t\t\t\tcurrentClass = parsed; \n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(parsed.annotation === \'filename\') \n\t\t\t\t{\n\t\t\t\t\tcurrentFile = parsed; \n\t\t\t\t\tcurrentFile.fileName = parsed.text; \n\t\t\t\t\tdelete parsed.text;\n\t\t\t\t\tself.data.files[currentFile.fileName] = currentFile;\n\t\t\t\t}\n\n\t\t\t\telse if(parsed.annotation === \'module\')\n\t\t\t\t{\t\n\t\t\t\t\tcurrentModule = parsed;\n\n\t\t\t\t\t//if the module was already defined we want to preserve all the definitions texts\n\t\t\t\t\tif(self.data.modules[currentModule.name])\n\t\t\t\t\t{\n\t\t\t\t\t\tif(self.data.modules[currentModule.name].text !== currentModule.text)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tself.data.modules[currentModule.name].text += JsDocMaker.MULTIPLE_TEXT_SEPARATOR + currentModule.text; \n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tself.data.modules[currentModule.name] = currentModule; \n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t//the rest are all children of class : \n\n\t\t\t\t//? we treat @method as equivalent as @constructor\n\t\t\t\telse if (parsed.annotation === \'method\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.methods = currentClass.methods || {};\n\t\t\t\t\tcurrentClass.methods[parsed.name] = parsed;\n\t\t\t\t\tcurrentMethod = parsed;\n\t\t\t\t}\n\t\t\t\telse if(parsed.annotation === \'constructor\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.constructors = currentClass.constructors || [];\n\t\t\t\t\tcurrentClass.constructors.push(parsed); \n\t\t\t\t\tcurrentMethod = parsed; \n\t\t\t\t}\n\n\n\t\t\t\telse if(parsed.annotation === \'function\' && currentModule)\n\t\t\t\t{\n\t\t\t\t\tcurrentModule.functions = currentModule.functions || [];\n\t\t\t\t\tcurrentModule.functions.push(parsed); \n\t\t\t\t\tcurrentMethod = parsed; // heads up - so future @params and @returns are assigned to this function\n\t\t\t\t}\n\n\t\t\t\t//? @property and @event and @attribute are treated similarly\n\t\t\t\telse if(parsed.annotation === \'property\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.properties = currentClass.properties || {};\n\t\t\t\t\tcurrentClass.properties[parsed.name] = parsed;\n\t\t\t\t}\n\t\t\t\telse if(parsed.annotation === \'event\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.events = currentClass.events || {};\n\t\t\t\t\tcurrentClass.events[parsed.name] = parsed;\n\t\t\t\t}\n\t\t\t\telse if(parsed.annotation === \'attribute\' && currentClass)\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.attributes = currentClass.attributes || {};\n\t\t\t\t\tcurrentClass.attributes[parsed.name] = parsed;\n\t\t\t\t}\n\n\t\t\t\tself.afterParseNodePlugins.execute({\n\t\t\t\t\tnode: parsed\n\t\t\t\t,\tjsdocmaker: self\n\t\t\t\t\t//add loop context information to plugins\n\t\t\t\t,\tcurrentClass: currentClass\n\t\t\t\t,\tcurrentMethod: currentMethod\n\t\t\t\t,\tcurrentModule: currentModule\n\t\t\t\t,\tcurrentFile: currentFile\n\t\t\t\t});\n\t\t\t}); \n\t\t});\n\t\t\n\t}); \n};\n\n// @method {Unit} parseUnit parse a simple substring like \'@annotation {Type} a text\' into an object {annotation, type, text} object.\n// syntax: @method {String} methodName blabla @return {Number} blabla @param {Object} p1 blabla\nJsDocMaker.prototype.parseUnit = function(str, comment)\n{\n\t// TODO: split str into major units and then do the parsing\n\tvar parsed = this.parseUnitSimple(str, comment); \n\tif(!parsed)\n\t{\n\t\treturn null;\n\t}\n\tvar ret = [parsed];\n\tif(parsed.theRestString)\n\t{\n\t\tvar s = parsed.theRestString; \n\t\tvar child;\n\t\twhile((child = this.parseUnitSimple(s, comment)))\n\t\t{\n\t\t\tif(child.annotation === \'class\') {\n\t\t\t\tret.push(child); \n\t\t\t\tparsed = child;\n\t\t\t}\n\t\t\telse\n\t\t\t{\t\t\t\t\t\n\t\t\t\tparsed.children = parsed.children || []; \n\t\t\t\tparsed.children.push(child); \n\t\t\t}\n\t\t\ts = child.theRestString; \n\t\t}\n\t}\n\treturn ret; \n}; \n\n//@method parseUnitSimple @param {String} str @param {ASTSprimaNode} comment\nJsDocMaker.prototype.parseUnitSimple = function(str, comment) \n{\t\n\tif(!str)\n\t{\n\t\treturn null;\n\t}\n\tvar result;\n\tvar regexp = null; \n\n\t// HEADS UP - TODO: the fgollowing two regex definitions must be identical in the content but not perhasin the endings/begginigns / globals\n\t// if you fix one you must also fix the other\n\tif(comment.type===\'Line\')\n\t{\n\t\tstr = JsDocMaker.stringFullTrim(str); \n\t\tregexp = /\\s*@([\\w\\.\\-\\_]+)\\s*(\\{[\\w<>\\|, #:\\(\\)\\.]+\\}){0,1}\\s*([\\w:\\-\\._\\$]+){0,1}(.*)\\s*/i; \n\t\tresult = regexp.exec(str);\n\t}\n\telse\n\t{\n\t\tstr = JsDocMaker.stringTrim(str); \n\t\tregexp = /\\s*@([\\w\\.\\-\\_]+)\\s*(\\{[\\w<>\\|, #:\\(\\)\\.]+\\}){0,1}\\s*([\\w:\\-\\._\\$]+){0,1}([.\\s\\w\\W]*)/gmi;\n\t\t//TODO: I have to put this regexp inline here - if not the second time I call exec on the instance it won\'t match. This is because the \'g\' modifier.\n\t\tresult = regexp.exec(str); \n\t}\n\tif(!result || result.length<4)\n\t{\n\t\treturn null;  \n\t}\n\tvar text = result[4] || \'\';\n\t\t\n\tvar splitted = JsDocMaker.splitAndPreserve(text, this.annotationRegexp) || [\'\'];  \n\ttext = splitted[0]; \n\t//@property {String} lineCommentSeparator used to separate each Line comment type text\n\tthis.lineCommentSeparator = this.lineCommentSeparator || \'\\n\';\n\ttext = text.replace(new RegExp(this.lineCommentSeparatorMark, \'g\'), this.lineCommentSeparator);\n\ttext = JsDocMaker.stringTrim(text||\'\')\n\tsplitted.splice(0,1); \n\tvar ret = {\n\t\tannotation: result[1]\n\t,\ttype: result[2]\n\t,\tname: result[3]\n\t,\ttext: text\n\t,\ttheRestString: JsDocMaker.stringTrim(splitted.join(\'\'))\n\t};\n\n\tthis.afterParseUnitSimplePlugins.execute({node:ret, jsdocmaker:this}); \n\n\treturn ret;\n}; \n\n\n\n// at last we want to document the output ast data that the parser returns:\n\n// @property {JsDocMaker.Data} data the main data on which the parser and plugins will be working on. This is the resulting AST of jsdoc.\n\n},{"./class":3,"./plugin":6,"underscore":1}],6:[function(require,module,exports){\n// @module shortjsdoc.plugin\nvar JsDocMaker = require(\'./class\')\n,\t_ = require(\'underscore\'); \n\n// @class PluginContainer a plugin container can be used for installing plugins and then processing \n// some action with all of them, executing them in sequence.\n// A plugin is basically a function that acts on some data - state\n// Registered plugins are executed secuentially. plugin execution arguments can be modified so next-to-execute plugin can \n// consume new information - same with return value.\nvar PluginContainer = function()\n{\n\tthis.plugins = [];\n};\n\n//expose\nJsDocMaker.PluginContainer = PluginContainer; \n\n//@method add @param {JsDocMakerPlugin} plugin\nPluginContainer.prototype.add = function(plugin)\n{\n\tthis.plugins.push(plugin); \n\tthis.priorized = null;//clean priorized cache\n}; \n\n//TODO: remove(plugin)\n\n// @method execute @param {Object} @param {Any} input options @return {Any}\nPluginContainer.prototype.execute = function(options, input)\n{\n\tvar result = null;\n\tthis.visitPlugins(function(plugin)\n\t{\n\t\tresult = plugin.execute(options, result);\n\t}); \n\treturn result; \n}; \n\n//@method visitPlugins visit children plugins respecting priority @param {Function} visitor\nPluginContainer.prototype.visitPlugins = function(visitor)\n{\n\t// @property {Array<Array<Plugin>>} priorized array of priorities - each priority index contains the plugins with that priority\n\tvar priorized = this.priorized;// = (this.priorized || [1]); //priority calculations cache\n\n\tif(!priorized)\n\t{\n\t\tpriorized = this.priorized = []; \n\t\tfor (var i = 0; i < PluginContainer.MAX_PRIORITY; i++) \n\t\t{\n\t\t\tpriorized[i] = []; \n\t\t};\n\t\t_(this.plugins).each(function(plugin)\n\t\t{\n\t\t\t// visitor(plugin); \n\t\t\tvar p = plugin.priority || PluginContainer.DEFAULT_PRIORITY; // priority zero is invalid and it is treated as default\n\t\t\t// priorized[p] = priorized[p] || []; \n\t\t\tpriorized[p].push(plugin); \n\t\t}); \n\t}\n\n\tfor (var i = 1; i < priorized.length; i++) \n\t{\n\t\tvar p = priorized[i]; \n\t\tfor (var j = 0; j < p.length; j++) \n\t\t{\n\t\t\tvisitor(p[j]);\n\t\t};\n\t};\n}; \n\nPluginContainer.DEFAULT_PRIORITY = 6; \nPluginContainer.MAX_PRIORITY = 10; \n\n// TODO: priority\n\n\n\n// @class JsDocMakerPlugin\n// @property {String} name\n// @method execute execute this plugin @param{Object}options @param {Any}result \n// @returns{Any} result possible enriched by the plugin in the chain\n\nmodule.exports = PluginContainer;\n\n\n\n\n\n\n//@method globalPlugins @static\n// JsDocMaker.registerGlobalPlugin = function(pluginContainerName, plugin)\n// {\n// \tJsDocMaker.prototype.plugins = JsDocMaker.prototype.plugins || {};\n// \tJsDocMaker.globalPlugins[pluginContainerName] = JsDocMaker.globalPlugins[pluginContainerName] || {}; \n// }; \n// //@method initializePluginContainers called in the constructor - will install all static plugins registered with JsDocMaker.registerGlobalPlugin\n// JsDocMaker.prototype.initializePluginContainers = function()\n// {\n// }\n\n\n\n\n},{"./class":3,"underscore":1}],7:[function(require,module,exports){\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'./class\'); \nvar _ = require(\'underscore\'); \nvar PluginContainer = require(\'./plugin\'); \n\n//POST PROCESSING\n\n// @property {PluginContainer} beforeTypeBindingPlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done just before doing the type binding.\nJsDocMaker.prototype.beforeTypeBindingPlugins = new PluginContainer(); \n\n// @property {PluginContainer} afterTypeBindingPlugins these plugins accept an object like \n// {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance.\n// This is done just after doing the type binding.\nJsDocMaker.prototype.afterTypeBindingPlugins = new PluginContainer(); \n\n// @method postProccess so the data is already parsed but we want to normalize some \n// children like @extend and @ module to be properties of the unit instead children.\n// Also we enforce explicit  parent reference, this is a class must reference its \n// parent module and a method muest reference its parent class. Also related to this \n// is the fullname property that will return an unique full name in the format \n// \'$MODULE.$CLASS.$METHOD\'. We assume that a module contains unique named classes and \n// that classes contain unique named properties and methods. \nJsDocMaker.prototype.postProccess = function()\n{\n\tvar self = this;\n\t// set params and throws of constructors\n\t_(self.data.classes).each(function(c)\n\t{\n\t\t_(c.constructors).each(function(co)\n\t\t{\n\t\t\tco.params = _(co.children||[]).filter(function(child)\n\t\t\t{\n\t\t\t\treturn child.annotation === \'param\'; \n\t\t\t});\n\n\t\t\tco.throws = _(co.children||[]).filter(function(child)\n\t\t\t{\n\t\t\t\treturn child.annotation === \'throw\' || child.annotation === \'throws\'; \n\t\t\t});\n\t\t}); \n\t}); \n}; \n\n\n//@method postProccessBinding precondion: call postProccess() first. We separated the post proccessing in two because we shouln\'t do JSON.stringify() after we bind types because of recursive loops. \nJsDocMaker.prototype.postProccessBinding = function()\n{\n\tif(this.literalObjectInstall)\n\t{\n\t\tthis.literalObjectInstall(); \n\t}\n\tvar self = this;\n\n\t_(self.data.modules).each(function(m)\n\t{\n\t\tself.beforeTypeBindingPlugins.execute({node: m, jsdocmaker: self});\n\t\tself._postProccessBinding_methodSetup(m.functions, m, true);\n\t});\n\t\n\t//at this points we have all our modules and classes - now we normalize extend, methods and params and also do the type binding. \n\t_(self.data.classes).each(function(c)\n\t{\n\t\tself.beforeTypeBindingPlugins.execute({node: c, jsdocmaker: self});\n\t\t//class.extends property\n\t\tvar extend = _(c.children||[]).find(function(child)\n\t\t{\n\t\t\treturn child.annotation === \'extend\' || child.annotation === \'extends\'; \n\t\t}); \n\t\tif(!extend) // All classes must extend something\n\t\t{\n\t\t\textend = c.extends = (self.bindClass(JsDocMaker.DEFAULT_CLASS, c) || {error: \'NAME_NOT_FOUND\', name: JsDocMaker.DEFAULT_CLASS});\n\t\t}\n\t\telse \n\t\t{\n\t\t\tc.extends = self.bindClass(extend.name, c);\n\t\t\tc.children = _(c.children).without(extend);\t//TODO: why we would want to do this? - remove this line\n\t\t}\n\n\t\tvar implement = _(c.children||[]).filter(function(child)\n\t\t{\n\t\t\treturn child.annotation === \'implement\' || child.annotation === \'implements\'; \n\t\t}) || []; \n\t\tif(!implement.length) // All classes must implement something\n\t\t{\n\t\t\timplement = c.implements = []//[(self.bindClass(JsDocMaker.DEFAULT_CLASS, c) || {error: \'NAME_NOT_FOUND\', name: JsDocMaker.DEFAULT_CLASS})];\n\t\t}\n\t\telse \n\t\t{\n\t\t\tc.implements = c.implements || [];\n\t\t\t_.each(implement, function(i)\n\t\t\t{\n\t\t\t\tc.implements.push(self.bindClass(i.name, c));\n\t\t\t\tc.children = _(c.children).without(i);\t//TODO: why we would want to do this? - remove this line\n\t\t\t})\n\t\t}\n\n\n\t\t//setup methods & constructors\n\n\t\tvar methods = _(c.methods).clone() || {};\n\t\tif(c.constructors) \n        {\n            for (var i = 0; i < c.constructors.length; i++) \n            {\n                var cname = \'constructor \' + i;\n                methods[cname] = c.constructors[i]; //using invalid method name\n                c.constructors[i].name = i+\'\';\n            }\n        }\n\n\t\tself._postProccessBinding_methodSetup(methods, c);\t\t\n\n\t\t//setup properties\n\t\tvar propertySetup = function(prop)\n\t\t{\n\t\t\tprop.ownerClass = c.absoluteName;\n\t\t\tprop.absoluteName = c.absoluteName + JsDocMaker.ABSOLUTE_NAME_SEPARATOR + prop.name; \n\n\t\t\tif(self.installModifiers)\n\t\t\t{\n\t\t\t\tself.installModifiers(prop); \n\t\t\t}\n\t\t\tif(_(prop.type).isString())\n\t\t\t{\n\t\t\t\tprop.type = self.parseTypeString(prop.type, c) || prop.type;\n\t\t\t}\n\n\t\t\tself.beforeTypeBindingPlugins.execute({node: prop, jsdocmaker: self});\n\t\t}; \n\t\t_(c.properties).each(propertySetup);\n\t\t_(c.events).each(propertySetup);\n\t\t_(c.attributes).each(propertySetup);\t\t\n\t});\n\n\tself.afterTypeBindingPlugins.execute({jsdocmaker: self});\n};\n\nJsDocMaker.prototype._postProccessBinding_methodSetup = function(methods, c, isFunction)\n{\n\tvar self = this;\n\tc = c || {}; \n\t_(methods).each(function(method)\n\t{\n\t\tself.beforeTypeBindingPlugins.execute({node: method, jsdocmaker: self});\n\t\t//method.param property\n\t\tvar params = _(method.children||[]).filter(function(child)\n\t\t{\n\t\t\tchild.text = JsDocMaker.stringTrim(child.text||\'\'); \n\t\t\treturn child.annotation === \'param\'; \n\t\t}); \n\t\tmethod.params = params; \n\n\t\tvar absoluteName = c.absoluteName || c.name || \'\';\n\t\tif(!isFunction)\n\t\t{\n\t\t\tmethod.ownerClass = absoluteName;\t\n\t\t}\n\t\telse\n\t\t{\n\t\t\tmethod.ownerModule = absoluteName;\n\t\t}\t\t\n\t\tmethod.absoluteName = absoluteName + JsDocMaker.ABSOLUTE_NAME_SEPARATOR + method.name; \n\n\t\t_(method.params).each(function(param)\n\t\t{\n\t\t\tself.beforeTypeBindingPlugins.execute({node: param, jsdocmaker: self});\n\n\t\t\tif(_(param.type).isString())\n\t\t\t{\n\t\t\t\tparam.typeOriginalString = param.type; \n\t\t\t\tparam.type = self.parseTypeString(param.type, c) || param.type;\t\t\t\t\t\t\n\t\t\t}\n\t\t}); \n\n\t\t//method throws property\n\t\tvar throw$ = _(method.children||[]).filter(function(child)\n\t\t{\n\t\t\treturn child.annotation === \'throw\' || child.annotation === \'throws\'; \n\t\t}); \n\t\tmethod.throws = throw$; \n\t\t_(method.throws).each(function(t)\n\t\t{\n\t\t\tself.beforeTypeBindingPlugins.execute({node: t, jsdocmaker: self});\n\n\t\t\t//because @throws doesn\'t have a name it breaks our simple grammar, so we merge the name with its text.\n\t\t\tt.text = (t.name ? t.name+\' \' : \'\') + (t.text||\'\'); \n\t\t\tif(_(t.type).isString())\n\t\t\t{\n\t\t\t\tt.typeOriginalString = t.type; \n\t\t\t\tt.type = self.parseTypeString(t.type, c) || t.type;\t\t\t\t\t\t\n\t\t\t}\n\t\t}); \n\n\t\t//method.returns property\n\t\tvar returns = _(method.children||[]).filter(function(child)\n\t\t{\t\t\t\t\n\t\t\tself.beforeTypeBindingPlugins.execute({node: child, jsdocmaker: self});\n\t\t\tchild.text = JsDocMaker.stringTrim(child.text||\'\'); \n\t\t\treturn child.annotation === \'returns\' || child.annotation === \'return\'; \n\t\t}); \n\t\tmethod.returns = returns.length ? returns[0] : {name:\'\',type:\'\'};\n\n\t\t//because @returns doesn\'t have a name it breaks our simple grammar, so we merge the name with its text.\n\t\tmethod.returns.text = (method.returns.name ? method.returns.name+\' \' : \'\') + (method.returns.text||\'\'); \n\n\t\tif(_(method.returns.type).isString())\n\t\t{\n\t\t\tmethod.returns.type = self.parseTypeString(method.returns.type, c) || method.returns.type;\t\t\t\t\t\t\n\t\t}\n\n\t\tif(self.installModifiers)\n\t\t{\n\t\t\tself.installModifiers(method); \n\t\t}\n\t});\n};\n},{"./class":3,"./plugin":6,"underscore":1}],8:[function(require,module,exports){\n/* @module shortjsdoc\n\n#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc\n\n*/\nvar JsDocMaker = require(\'./class\'); \nvar _ = require(\'underscore\'); \n\n//COMMENT PREPROCESSORS\n\n//@class PreprocessCommentsPlugin1 @extends JsDocMakerPlugin  this plugin is registered in JsDocMaker.prototype.allCommentPreprocessorPlugins plugin container\n// and do an initial preprocesing on the comments erasing those marked comments to be ignored, and fixing its text to support alternative syntax.\nvar preprocessCommentsPlugin1 = {\n\tname: \'preprocessCommentsPlugin1\'\n,\texecute: function(options)\n\t{\n\t\tvar comments = options.node;\n\t\t//we do the parsing block by block,\n\t\tfor (var i = 0; i < comments.length; i++) \n\t\t{\n\t\t\tvar node = comments[i];//options.node; \n\t\t\tnode.value = node.value || \'\'; \n\n\t\t\t// fix styled comment blocks with \'*\' as new line prefix\n\t\t\t// if(node.type === \'Block\')\n\t\t\t// {\n\t\t\t// \t// Note: syntax /** - not necesary to implement\n\t\t\t// \tdebugger\n\t\t\t// \tnode.value = node.value.replace(/\\n \\*/gi, \'\\n\');\n\t\t\t// }\n\n\t\t\t// remove comments that starts with ignoreCommentPrefix\n\t\t\tif(JsDocMaker.startsWith(JsDocMaker.stringTrim(node.value), options.jsdocMaker.ignoreCommentPrefix))\n\t\t\t{\n\t\t\t\t//if \\n * is detected it is fixed to not count the decorative \'*\'\n\t\t\t\tcomments.splice(i, 1); //remove this node\n\t\t\t}\n\t\t}\n\t}\n} ; \n\n//install it as comment preprocessor plugin!\nJsDocMaker.prototype.allCommentPreprocessorPlugins.add(preprocessCommentsPlugin1);//.push(JsDocMaker.prototype.preprocessComments); \n\n\n//@class FixUnamedAnnotationsPlugin @extends JsDocMakerPlugin This plugin is installed at JsDocMaker.prototype.commentPreprocessorPlugins and and solves the following problem: \n//Our regexp format expect an anotation with a name. So for enabling unamed annotations we do this dirty fix, this is add a name to precondition\nvar fixUnamedAnnotationsPlugin = {\n\tname: \'fixUnamedAnnotationsPlugin\'\n,\tpriority: 3\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node;\n\t\tif(node.value)\n\t\t{\n\t\t\tnode.value = node.value.replace(/@constructor/gi, \'@constructor n\'); \n\t\t\tnode.value = node.value.replace(/(@\\w+)\\s*$/gi, \'$1 dummy \');\n\t\t\tnode.value = node.value.replace(/(@\\w+)\\s+(@\\w+)/gi, \'$1 dummy $2\');\n\t\t}\n\t}\n}; \n//install it as comment preprocessor plugin!\nJsDocMaker.prototype.commentPreprocessorPlugins.add(fixUnamedAnnotationsPlugin); \n\n//@class UnifyLineCommentsPlugin @extends JsDocMakerPlugin this is a very important plugin for normalize our js input Line comments \n// It is executed at JsDocMaker.prototype.allCommentPreprocessorPlugins\nvar unifyLineCommentsPlugin = {\n\tname: \'unifyLineCommentsPlugin\'\n,\texecute: function(options)\n\t{\n\t\tvar i = 0\n\t\t,\tcomments = options.node\n\t\t,\tjsdocMaker = options.jsdocMaker; \n\t\n\t\tjsdocMaker.lineCommentSeparatorMark = \'_lineCommentSeparatorMark_\';\n\t\twhile(i < comments.length - 1)\n\t\t{\n\t\t\tvar c = comments[i]\n\t\t\t,\tnext = comments[i+1]; \n\n\t\t\tvar sss = JsDocMaker.stringFullTrim(options.jsdocMaker.data.source.substring(c.range[1], next.range[0])); \n\t\t\tif (c.type===\'Line\' && next.type===\'Line\' && !sss)\n\t\t\t{\n\t\t\t\tc.value += \' \' + jsdocMaker.lineCommentSeparatorMark + \' \' + next.value; \n\t\t\t\tc.range[1] = next.range[1]; \n\t\t\t\tcomments.splice(i+1, 1); \n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t}\n}; \nJsDocMaker.prototype.allCommentPreprocessorPlugins.add(unifyLineCommentsPlugin); \n\n\n},{"./class":3,"underscore":1}],9:[function(require,module,exports){\n/* jshint evil:true */\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'./class\'); \nvar shortjsdocParseLiteralObject = require(\'../objectTypeParser/parser.js\');\nvar _ = require(\'underscore\'); \n\n//TYPE PARSING\n\n//@method parseType parse a type string like \'Map<String,Array<Apple>>\' or \'String\' and return an object like {name: \'Map\',params:[\'String\',{name: \'Array\',params:[\'Apple\']}]}. This is the default type parser. \n//It depends on type parser file typeParser.js @static\nJsDocMaker.parseType = function(s)\n{\n\tvar parsed, ss;\n\tif(s.indexOf(\':\')!==-1)\n\t{\n\t\tss = \'{\'+s+\'}\'; \n\t\tparsed = JsDocMaker.parseLiteralObjectType(ss);\n\t}\n\telse\n\t{\n\t\tss =\'{name:\'+s+\'}\'; \n\t\tparsed = JsDocMaker.parseLiteralObjectType(ss);\n\t\tparsed = parsed.name; \n\t}\t\n\treturn parsed;\n}; \n\n// @method parse a object literal type string like \'\' @return {Object} the parsed object @static\nJsDocMaker.parseLiteralObjectType = function(s)\n{\n\tvar parsed = shortjsdocParseLiteralObject.parse(s);\t\n\tvar obj = eval(\'(\' + parsed + \')\'); \n\treturn obj;\n}; \n\nJsDocMaker.prototype.registerTypeParser = function(typeParser)\n{\n\tthis.typeParsers = this.typeParsers || {};\n\tthis.typeParsers[typeParser.name] = typeParser; \n}; \n\n\n},{"../objectTypeParser/parser.js":12,"./class":3,"underscore":1}],10:[function(require,module,exports){\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'./class\'); \nvar _ = require(\'underscore\'); \n\n// STATIC UTILITIES\n\n// @method splitAndPreserve search for given regexp and split the given string but preserving the matches\n// @param {Regexp} regexp must contain a capturing group (like /(\\s+@\\w+)/gi)\n// @return {Array of string}\n// @static\nJsDocMaker.splitAndPreserve = function(string, replace)\n{\n\tstring = string || \'\';\n\tvar marker = \'_%_%_\';\n\tvar splitted = string.replace(replace, marker+\'$1\');\n\tif(splitted.length<2)\n\t{\n\t\treturn null; //TODO: notify error?\n\t}\n\tsplitted = splitted.split(marker);\n\treturn splitted; \n}; \n\n//@method stringFullTrim @param {String} s @static\nJsDocMaker.stringFullTrim = function(s)\n{\n\treturn (s||\'\').replace(/(?:(?:^|\\n)\\s+|\\s+(?:$|\\n))/g,\'\').replace(/\\s+/g,\' \');\n};\n//@method stringTrim @param {String} s @static\nJsDocMaker.stringTrim = function(str)\n{\n\tvar whitespace = \' \\n\\r\\t\\f\\x0b\\xa0\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u200b\\u2028\\u2029\\u3000\';\n\tfor (var i = 0; i < str.length; i++) {\n\t\tif (whitespace.indexOf(str.charAt(i)) === -1) {\n\t\t\tstr = str.substring(i);\n\t\t\tbreak;\n\t\t}\n\t}\n\tfor (i = str.length - 1; i >= 0; i--) {\n\t\tif (whitespace.indexOf(str.charAt(i)) === -1) {\n\t\t\tstr = str.substring(0, i + 1);\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn whitespace.indexOf(str.charAt(0)) === -1 ? str : \'\';\n};\n//@method stringEndsWith @static\nJsDocMaker.stringEndsWith = function(str, suffix) \n{\n\tstr = str || \'\';\n\treturn str.indexOf(suffix, str.length - suffix.length) !== -1;\n}; \n//@method stringEndsWith @static\nJsDocMaker.startsWith = function(s, prefix)\n{\n\ts = s || \'\';\n\treturn s.indexOf(prefix)===0;\n}; \n\n//@method error @param {String}msg\nJsDocMaker.prototype.error = function(msg)\n{\n\tconsole.error(\'Error detected: \' + msg); \n\t// throw msg;\n}; \n\n\n// JsDocMaker.getChildren = function(node, compareProperties)\n// {\n// \tvar a = []\n// }; \n// JsDocMaker.getAChildren = function(node, compareProperties)\n// {\n// \tvar c = JsDocMaker.getChildren(node, compareProperties);\n// \treturn (c && c.length) ? return c[0] : null;\n// }; \n},{"./class":3,"underscore":1}],11:[function(require,module,exports){\nvar JsDocMaker = require(\'./core/main\'); \n\nrequire(\'./plugin/main.js\'); \n\nmodule.exports = JsDocMaker;\n},{"./core/main":4,"./plugin/main.js":20}],12:[function(require,module,exports){\n/*\n\nThis is a syntax definition compiled to JavaScript that parses an expression like \n\n  {name:String,colors:Map<String,Array<String>>}\n\nHow to work with this file ? open the following syntax into http://pegjs.org/online. \nThen make sure it returns the parse() function in the global \'shortjsdocParseLiteralObject\'\n\n\nstart\n  = "{" exprs:(EXPR)+ [,]* "}" {return \'{\' + exprs.join(\',\') + \'}\'; }\n\nEXPR\n  = name:NAME ":" value:(VALUE) [,]* {return name + \':\' + value; }\n\nVALUE\n  = type:TYPE / name:NAME [,]* {if(typeof name !== \'undefined\'){return name;}}\n\nTYPE\n  = name:NAME "<" list:(LIST_OF_NAMES)+ ">" {return \'{name: \'+ name +\',params:[\'+list.join(\',\')+\']}\'; }\n\nNAME\n  = name:[a-zA-z1-9_.]+ {return \'\\\'\'+name.join(\'\')+\'\\\'\'; }\n\nLIST_OF_NAMES\n  = type:TYPE / name:NAME [,]* {\n  if(typeof name !== \'undefined\'){\n  return name; \n  }\n}\n\n*/\nmodule.exports = (function() {\n  /*\n   * Generated by PEG.js 0.8.0.\n   *\n   * http://pegjs.majda.cz/\n   */\n\n  function peg$subclass(child, parent) {\n    function ctor() { this.constructor = child; }\n    ctor.prototype = parent.prototype;\n    child.prototype = new ctor();\n  }\n\n  function SyntaxError(message, expected, found, offset, line, column) {\n    this.message  = message;\n    this.expected = expected;\n    this.found    = found;\n    this.offset   = offset;\n    this.line     = line;\n    this.column   = column;\n\n    this.name     = "SyntaxError";\n  }\n\n  peg$subclass(SyntaxError, Error);\n\n  function parse(input) {\n    var options = arguments.length > 1 ? arguments[1] : {},\n\n        peg$FAILED = {},\n\n        peg$startRuleIndices = { start: 0 },\n        peg$startRuleIndex   = 0,\n\n        peg$consts = [\n          peg$FAILED,\n          "{",\n          { type: "literal", value: "{", description: "\\"{\\"" },\n          [],\n          /^[,]/,\n          { type: "class", value: "[,]", description: "[,]" },\n          "}",\n          { type: "literal", value: "}", description: "\\"}\\"" },\n          function(exprs) {return \'{\' + exprs.join(\',\') + \'}\'; },\n          ":",\n          { type: "literal", value: ":", description: "\\":\\"" },\n          function(name, value) {return name + \':\' + value; },\n          function(name) {if(typeof name !== \'undefined\'){return name;}},\n          "<",\n          { type: "literal", value: "<", description: "\\"<\\"" },\n          ">",\n          { type: "literal", value: ">", description: "\\">\\"" },\n          function(name, list) {return \'{name: \'+ name +\',params:[\'+list.join(\',\')+\']}\'; },\n          /^[a-zA-z1-9_.]/,\n          { type: "class", value: "[a-zA-z1-9_.]", description: "[a-zA-z1-9_.]" },\n          function(name) {return \'\\\'\'+name.join(\'\')+\'\\\'\'; },\n          function(name) {\n            if(typeof name !== \'undefined\'){\n            return name; \n            }\n          }\n        ],\n\n        peg$bytecode = [\n          peg$decode("!.!\\"\\"2!3\\"+o$ #7!+&$,#&7!\\"\\"\\"  +V% #0$\\"\\"1!3%,)&0$\\"\\"1!3%\\"+8%.&\\"\\"2&3\'+(%4$6($!\\"%$$#  $##  $\\"#  \\"#  "),\n          peg$decode("!7$+a$.)\\"\\"2)3*+Q%7\\"+G% #0$\\"\\"1!3%,)&0$\\"\\"1!3%\\"+)%4$6+$\\"#!%$$#  $##  $\\"#  \\"#  "),\n          peg$decode("7#*Q \\"!7$+F$ #0$\\"\\"1!3%,)&0$\\"\\"1!3%\\"+(%4\\"6,\\"!!%$\\"#  \\"#  "),\n          peg$decode("!7$+b$.-\\"\\"2-3.+R% #7%+&$,#&7%\\"\\"\\"  +9%./\\"\\"2/30+)%4$61$\\"#!%$$#  $##  $\\"#  \\"#  "),\n          peg$decode("! #02\\"\\"1!33+,$,)&02\\"\\"1!33\\"\\"\\"  +\' 4!64!! %"),\n          peg$decode("7#*Q \\"!7$+F$ #0$\\"\\"1!3%,)&0$\\"\\"1!3%\\"+(%4\\"65\\"!!%$\\"#  \\"#  ")\n        ],\n\n        peg$currPos          = 0,\n        peg$reportedPos      = 0,\n        peg$cachedPos        = 0,\n        peg$cachedPosDetails = { line: 1, column: 1, seenCR: false },\n        peg$maxFailPos       = 0,\n        peg$maxFailExpected  = [],\n        peg$silentFails      = 0,\n\n        peg$result;\n\n    if ("startRule" in options) {\n      if (!(options.startRule in peg$startRuleIndices)) {\n        throw new Error("Can\'t start parsing from rule \\"" + options.startRule + "\\".");\n      }\n\n      peg$startRuleIndex = peg$startRuleIndices[options.startRule];\n    }\n\n    function text() {\n      return input.substring(peg$reportedPos, peg$currPos);\n    }\n\n    function offset() {\n      return peg$reportedPos;\n    }\n\n    function line() {\n      return peg$computePosDetails(peg$reportedPos).line;\n    }\n\n    function column() {\n      return peg$computePosDetails(peg$reportedPos).column;\n    }\n\n    function expected(description) {\n      throw peg$buildException(\n        null,\n        [{ type: "other", description: description }],\n        peg$reportedPos\n      );\n    }\n\n    function error(message) {\n      throw peg$buildException(message, null, peg$reportedPos);\n    }\n\n    function peg$computePosDetails(pos) {\n      function advance(details, startPos, endPos) {\n        var p, ch;\n\n        for (p = startPos; p < endPos; p++) {\n          ch = input.charAt(p);\n          if (ch === "\\n") {\n            if (!details.seenCR) { details.line++; }\n            details.column = 1;\n            details.seenCR = false;\n          } else if (ch === "\\r" || ch === "\\u2028" || ch === "\\u2029") {\n            details.line++;\n            details.column = 1;\n            details.seenCR = true;\n          } else {\n            details.column++;\n            details.seenCR = false;\n          }\n        }\n      }\n\n      if (peg$cachedPos !== pos) {\n        if (peg$cachedPos > pos) {\n          peg$cachedPos = 0;\n          peg$cachedPosDetails = { line: 1, column: 1, seenCR: false };\n        }\n        advance(peg$cachedPosDetails, peg$cachedPos, pos);\n        peg$cachedPos = pos;\n      }\n\n      return peg$cachedPosDetails;\n    }\n\n    function peg$fail(expected) {\n      if (peg$currPos < peg$maxFailPos) { return; }\n\n      if (peg$currPos > peg$maxFailPos) {\n        peg$maxFailPos = peg$currPos;\n        peg$maxFailExpected = [];\n      }\n\n      peg$maxFailExpected.push(expected);\n    }\n\n    function peg$buildException(message, expected, pos) {\n      function cleanupExpected(expected) {\n        var i = 1;\n\n        expected.sort(function(a, b) {\n          if (a.description < b.description) {\n            return -1;\n          } else if (a.description > b.description) {\n            return 1;\n          } else {\n            return 0;\n          }\n        });\n\n        while (i < expected.length) {\n          if (expected[i - 1] === expected[i]) {\n            expected.splice(i, 1);\n          } else {\n            i++;\n          }\n        }\n      }\n\n      function buildMessage(expected, found) {\n        function stringEscape(s) {\n          function hex(ch) { return ch.charCodeAt(0).toString(16).toUpperCase(); }\n\n          return s\n            .replace(/\\\\/g,   \'\\\\\\\\\')\n            .replace(/"/g,    \'\\\\"\')\n            .replace(/\\x08/g, \'\\\\b\')\n            .replace(/\\t/g,   \'\\\\t\')\n            .replace(/\\n/g,   \'\\\\n\')\n            .replace(/\\f/g,   \'\\\\f\')\n            .replace(/\\r/g,   \'\\\\r\')\n            .replace(/[\\x00-\\x07\\x0B\\x0E\\x0F]/g, function(ch) { return \'\\\\x0\' + hex(ch); })\n            .replace(/[\\x10-\\x1F\\x80-\\xFF]/g,    function(ch) { return \'\\\\x\'  + hex(ch); })\n            .replace(/[\\u0180-\\u0FFF]/g,         function(ch) { return \'\\\\u0\' + hex(ch); })\n            .replace(/[\\u1080-\\uFFFF]/g,         function(ch) { return \'\\\\u\'  + hex(ch); });\n        }\n\n        var expectedDescs = new Array(expected.length),\n            expectedDesc, foundDesc, i;\n\n        for (i = 0; i < expected.length; i++) {\n          expectedDescs[i] = expected[i].description;\n        }\n\n        expectedDesc = expected.length > 1\n          ? expectedDescs.slice(0, -1).join(", ")\n              + " or "\n              + expectedDescs[expected.length - 1]\n          : expectedDescs[0];\n\n        foundDesc = found ? "\\"" + stringEscape(found) + "\\"" : "end of input";\n\n        return "Expected " + expectedDesc + " but " + foundDesc + " found.";\n      }\n\n      var posDetails = peg$computePosDetails(pos),\n          found      = pos < input.length ? input.charAt(pos) : null;\n\n      if (expected !== null) {\n        cleanupExpected(expected);\n      }\n\n      return new SyntaxError(\n        message !== null ? message : buildMessage(expected, found),\n        expected,\n        found,\n        pos,\n        posDetails.line,\n        posDetails.column\n      );\n    }\n\n    function peg$decode(s) {\n      var bc = new Array(s.length), i;\n\n      for (i = 0; i < s.length; i++) {\n        bc[i] = s.charCodeAt(i) - 32;\n      }\n\n      return bc;\n    }\n\n    function peg$parseRule(index) {\n      var bc    = peg$bytecode[index],\n          ip    = 0,\n          ips   = [],\n          end   = bc.length,\n          ends  = [],\n          stack = [],\n          params, i;\n\n      function protect(object) {\n        return Object.prototype.toString.apply(object) === "[object Array]" ? [] : object;\n      }\n\n      while (true) {\n        while (ip < end) {\n          switch (bc[ip]) {\n            case 0:\n              stack.push(protect(peg$consts[bc[ip + 1]]));\n              ip += 2;\n              break;\n\n            case 1:\n              stack.push(peg$currPos);\n              ip++;\n              break;\n\n            case 2:\n              stack.pop();\n              ip++;\n              break;\n\n            case 3:\n              peg$currPos = stack.pop();\n              ip++;\n              break;\n\n            case 4:\n              stack.length -= bc[ip + 1];\n              ip += 2;\n              break;\n\n            case 5:\n              stack.splice(-2, 1);\n              ip++;\n              break;\n\n            case 6:\n              stack[stack.length - 2].push(stack.pop());\n              ip++;\n              break;\n\n            case 7:\n              stack.push(stack.splice(stack.length - bc[ip + 1], bc[ip + 1]));\n              ip += 2;\n              break;\n\n            case 8:\n              stack.pop();\n              stack.push(input.substring(stack[stack.length - 1], peg$currPos));\n              ip++;\n              break;\n\n            case 9:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1]) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 10:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1] === peg$FAILED) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 11:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (stack[stack.length - 1] !== peg$FAILED) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 12:\n              if (stack[stack.length - 1] !== peg$FAILED) {\n                ends.push(end);\n                ips.push(ip);\n\n                end = ip + 2 + bc[ip + 1];\n                ip += 2;\n              } else {\n                ip += 2 + bc[ip + 1];\n              }\n\n              break;\n\n            case 13:\n              ends.push(end);\n              ips.push(ip + 3 + bc[ip + 1] + bc[ip + 2]);\n\n              if (input.length > peg$currPos) {\n                end = ip + 3 + bc[ip + 1];\n                ip += 3;\n              } else {\n                end = ip + 3 + bc[ip + 1] + bc[ip + 2];\n                ip += 3 + bc[ip + 1];\n              }\n\n              break;\n\n            case 14:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (input.substr(peg$currPos, peg$consts[bc[ip + 1]].length) === peg$consts[bc[ip + 1]]) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 15:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (input.substr(peg$currPos, peg$consts[bc[ip + 1]].length).toLowerCase() === peg$consts[bc[ip + 1]]) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 16:\n              ends.push(end);\n              ips.push(ip + 4 + bc[ip + 2] + bc[ip + 3]);\n\n              if (peg$consts[bc[ip + 1]].test(input.charAt(peg$currPos))) {\n                end = ip + 4 + bc[ip + 2];\n                ip += 4;\n              } else {\n                end = ip + 4 + bc[ip + 2] + bc[ip + 3];\n                ip += 4 + bc[ip + 2];\n              }\n\n              break;\n\n            case 17:\n              stack.push(input.substr(peg$currPos, bc[ip + 1]));\n              peg$currPos += bc[ip + 1];\n              ip += 2;\n              break;\n\n            case 18:\n              stack.push(peg$consts[bc[ip + 1]]);\n              peg$currPos += peg$consts[bc[ip + 1]].length;\n              ip += 2;\n              break;\n\n            case 19:\n              stack.push(peg$FAILED);\n              if (peg$silentFails === 0) {\n                peg$fail(peg$consts[bc[ip + 1]]);\n              }\n              ip += 2;\n              break;\n\n            case 20:\n              peg$reportedPos = stack[stack.length - 1 - bc[ip + 1]];\n              ip += 2;\n              break;\n\n            case 21:\n              peg$reportedPos = peg$currPos;\n              ip++;\n              break;\n\n            case 22:\n              params = bc.slice(ip + 4, ip + 4 + bc[ip + 3]);\n              for (i = 0; i < bc[ip + 3]; i++) {\n                params[i] = stack[stack.length - 1 - params[i]];\n              }\n\n              stack.splice(\n                stack.length - bc[ip + 2],\n                bc[ip + 2],\n                peg$consts[bc[ip + 1]].apply(null, params)\n              );\n\n              ip += 4 + bc[ip + 3];\n              break;\n\n            case 23:\n              stack.push(peg$parseRule(bc[ip + 1]));\n              ip += 2;\n              break;\n\n            case 24:\n              peg$silentFails++;\n              ip++;\n              break;\n\n            case 25:\n              peg$silentFails--;\n              ip++;\n              break;\n\n            default:\n              throw new Error("Invalid opcode: " + bc[ip] + ".");\n          }\n        }\n\n        if (ends.length > 0) {\n          end = ends.pop();\n          ip = ips.pop();\n        } else {\n          break;\n        }\n      }\n\n      return stack[0];\n    }\n\n    peg$result = peg$parseRule(peg$startRuleIndex);\n\n    if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n      return peg$result;\n    } else {\n      if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n        peg$fail({ type: "end", description: "end of input" });\n      }\n\n      throw peg$buildException(null, peg$maxFailExpected, peg$maxFailPos);\n    }\n  }\n\n  return {\n    SyntaxError: SyntaxError,\n    parse:       parse\n  };\n})();\n},{}],13:[function(require,module,exports){\n// @module shortjsdoc.plugin.alias \n/*\n#Alias plugin\n\nthis plugin allow to define an alias for annotations and classes. This means we can add name \nalias to annotations or classes. Alias can override previous defined ones. \n\n##Class alias\n\nClass alias can be used to shortcut class names, like \n\n\t@alias class A Array\n\t@alias class O Object\n\t@alias class S String\n\t@alias class N Number\n\t@alias class B Boolean\n\nOr just use the shortcut\n\n\t@alias class A Array O Object S String\n\nAfter this I just can write my types like this:\n\n\t@property {config:O<S,N>,tools:A<Tool>} complex\n\nNote that these plugins perform two tasks using two different plugins: \n1) replace aliases initial annotation with original ones on parsing - the plugin runs on beforeParseNodePlugins\n2) but also perform the aliasing on type binding. This is done on beforeBindClassPlugins\n\nIMPORTANT. alias to complex types are not supported, only alias to simple types. The following is WRONG: @alias class MySuper Array<Leg>\n\n##annotation alias\n@alias annotation task method\n\n##Implementation notes\n\nat preprocessing the alias meta information will be stored in the AST under the \'alias\' property. \nThen this information will be consumed at binding time in the second plugin\n\n*/\n\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//@class AliasBeforeParseNodePlugin @extends JsDocMakerPlugin a plugin executed at afterParseUnitSimplePlugins. Responsible of TODO \nvar aliasBeforeParseNodePlugin = {\n\n\tname: \'alias\'\n\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node\n\t\t,\tcontext = options.jsdocmaker.data\n\t\t,\tself = this;\n\n\t\tcontext.alias = context.alias || {}; \n\n\n\t\tvar aliasList = []; //its a list because node can have many alias children inside. alias is a second-level AST node\n\t\t\t\n\t\tif (node.annotation==\'alias\')\n\t\t{\t\t\t\n\t\t\taliasList = [node];\n\t\t}\n\t\telse \n\t\t{\n\t\t\taliasList = _(node.children).select(function(c)\n\t\t\t{\n\t\t\t\treturn c.annotation==\'alias\';\n\t\t\t});\n\t\t}\n\n\t\t_(aliasList).each(function(alias)\n\t\t{\n\t\t\tself.parseAlias(alias, context, true); \n\t\t}); \n\n\t\t//TODO: remove the alias node from comments array ? \n\t\t\n\t}\n\n\t//@method parseAlias @return {JSDocASTNode} the enhanced node with property *alias* enhanced\n\t//@param {JSDocASTNode} alias @param {JsDocMaker} context @param {Boolean} install  @return {Array<JSDocASTNode>} contained in the annotation text.\n,\tparseAlias: function(alias, context, install)\n\t{\n\t\tif(!alias)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tvar a = alias.text.split(/\\s+/)\n\t\t,\tparsed = [];\n\t\tfor (var i = 0; i < a.length; i+=2) \n\t\t{\n\t\t\tvar o = {type: alias.name, name: a[i], target: a[i+1]};\n\t\t\tparsed.push(o); \n\t\t\tif(install)\n\t\t\t{\n\t\t\t\tcontext.alias[o.name] = o;\n\n\t\t\t}\n\t\t}\n\t\treturn parsed;\n\t}\n}; \n\n\n\nJsDocMaker.prototype.afterParseUnitSimplePlugins.add(aliasBeforeParseNodePlugin); \n\n//@class AliasBeforeBindClassPlugin @extends JsDocMakerPlugin a plugin executed at afterParseUnitSimplePlugins. Responsible of TODO \nvar aliasBeforeBindClassPlugin = {\n\tname: \'aliasAfterTypeBindingPlugin\'\n\n\t//@param {name:name, baseClass: baseClass, jsdocmaker: this} context  this plugin has the change of chainging the context.\n,\texecute: function(context)\n\t{\n\t\tcontext.jsdocmaker.data.alias = context.jsdocmaker.data.alias || {}; \n\t\tvar alias = context.jsdocmaker.data.alias[context.name]; \n\n\t\tif(alias)\n\t\t{\n\t\t\tcontext.name = alias.target; //alias only sypport targetting single types!\n\t\t}\n\t}\n}; \n\nJsDocMaker.prototype.beforeBindClassPlugins.add(aliasBeforeBindClassPlugin); \n\n//@class annotationAliasPlugin @extends JsDocMakerPlugin a plugin executed at commentPreprocessorPlugins. Responsible of TODO \nvar annotationAliasPlugin = {\n\texecute: function(options)\n\t{\n\t\tvar alias = {}\n\t\tvar regex = /@alias\\s+annotation\\s+([\\w\\-_\\.]+)\\s+([\\w\\-_\\.]+)/gi; //TODO: the core should provide this regex\n\t\toptions.node.value.replace(regex, function(s, newName, targetName)\n\t\t{\n\t\t\talias[newName] = targetName;\n\t\t});\n\t\t_.each(alias, function(targetName, newName)\n\t\t{\n\t\t\tvar newNameRegex = new RegExp(\'@\'+newName, \'gi\');\n\t\t\toptions.node.value = options.node.value.replace(newNameRegex, \'@\'+targetName);\n\t\t});\n\t}\n}\nJsDocMaker.prototype.commentPreprocessorPlugins.add(annotationAliasPlugin);\n\n},{"../core/class":3,"underscore":1}],14:[function(require,module,exports){\n/*\n@module shortjsdoc.plugin.comment.indentation \n#Comment indentation plugin\nTakes care of respecting the original indentation of block comments. \nIt will erase the initial spaces of each line according to the comment indentation.\n*/\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n\n//@class commentIndentationPlugin @extends JsDocMakerPlugin a plugin executed at beforeParseNodePlugins. \nvar commentIndentationPlugin = {\n\n\tname: \'commentIndentation\'\n\n,\texecute: function(options)\n\t{\n\t\tif(!options.node.text)\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tvar fileSource = options.jsdocmaker.data.files[options.currentFile.fileName]\n\t\tvar beforeCommentText = options.jsdocmaker.data.source.substring(0, options.node.commentRange[0]); \n\n\t\tvar result = /([ \\t]+)$/.exec(beforeCommentText)\n\t\t,\tprefix = 0;\n\t\tif(result && result.length) \n\t\t{\n\t\t\tprefix = result[0];\n\n\t\t\tvar a = options.node.text.split(\'\\n\'), output = [];;\n\t\t\t_(a).each(function(line)\n\t\t\t{\n\t\t\t\tvar repl = line.replace(new RegExp(\'^\'+prefix), \'\'); \n\t\t\t\t// console.log(line, repl); \n\t\t\t\toutput.push(repl);\n\t\t\t}); \n\n\t\t\t// TODO we are ssumming files have unix end to line. we should pre process all commments first. \n\t\t\toptions.node.text = output.join(\'\\n\');//replaceAll(\'\\n\' + options.node.text, prefix, \'\'); \n\t\t}\t\n\t}\n}\nJsDocMaker.prototype.afterParseNodePlugins.add(commentIndentationPlugin); \n\n\n// function escapeRegExp(string) \n// {\n//     return string.replace(/([.*+?^=!:${}()|\\[\\]\\/\\\\])/g, "\\\\$1");\n// }\n// function replaceAll(string, find, replace) \n// {\n// \tvar r = new RegExp(escapeRegExp(find), \'g\');\n// \tdebugger;\n// \tconsole.log(r)\n// \treturn string.replace(r, replace);\n// }\n\n},{"../core/class":3,"underscore":1}],15:[function(require,module,exports){\n// @module shortjsdoc.plugin.dependencies \n/*\n#dependencies plugin\n\nthis is not technically a plugin because we don\'t want to make the cmd line tool slower and is a not \nimportant feature. It should be executed by hand in the user agent.\n\n*/\n\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\nvar Tool = function(maker, config)\n{\n\tthis.maker = maker;\n\tthis.config = config || {}; \n}; \n_(Tool.prototype).extend({\n\tcalculateClassDependencies: function()\n\t{\n\t\tvar self = this\n\t\t,\tcurrentClass\n\t\t// ,\tcurrentModule\n\t\t,\tfn = function(node)\n\t\t\t{\n\t\t\t\t// if(node.annotation===\'module\')\n\t\t\t\t// {\n\t\t\t\t// \tcurrentModule = node; \n\t\t\t\t// }\n\t\t\t\tif(node.annotation===\'class\')\n\t\t\t\t{\n\t\t\t\t\tcurrentClass = node;\n\t\t\t\t\tcurrentClass.dependencies = currentClass.dependencies || {}; \n\t\t\t\t\tcurrentClass.dependencies.classes = currentClass.dependencies.classes || {}; \n\t\t\t\t\tif(self.config.includeExtends && currentClass.extends && \n\t\t\t\t\t\t!_(self.config.ignoreClasses).contains(currentClass.extends.absoluteName))\n\t\t\t\t\t{\n\t\t\t\t\t\tcurrentClass.dependencies.classes[currentClass.extends.absoluteName] = currentClass.extends; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tvar deps = _(node.children).filter(function(c)\n\t\t\t\t{ \n\t\t\t\t\treturn c.annotation===\'depends\'; \n\t\t\t\t});\n\t\t\t\n\t\t\t\tif(deps && deps.length)\n\t\t\t\t{\t\n\t\t\t\t\t_(deps).each(function(dep)\n\t\t\t\t\t{\n\t\t\t\t\t\tif(dep.name===\'class\')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar c = self.maker.findClassByName(dep.text);\n\t\t\t\t\t\t\tif(!c)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconsole.log(\'warning dependency class not found: \'+dep.text); \n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif(_(self.config.ignoreClasses).contains(c.absoluteName))\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tnode.dependencies = node.dependencies || {}; \n\t\t\t\t\t\t\tnode.dependencies.classes = node.dependencies.classes || {}; \n\t\t\t\t\t\t\tnode.dependencies.classes[c.absoluteName] = c; \n\t\t\t\t\t\t\tif(currentClass)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcurrentClass.dependencies.classes[c.absoluteName] = c; \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// else if(dep.name===\'module\') //TODO\n\t\t\t\t\t\t// { }\n\t\t\t\t\t\t// else //TOOD: make class to be the default and use name instead of text\n\t\t\t\t\t\t// { }\n\t\t\t\t\t}); \n\t\t\t\t}\n\t\t\t}\n\t\t,\tfn_type = function(type, ownerNode)\n\t\t\t{\n\t\t\t\tif(!currentClass || _(self.config.ignoreClasses).contains(type.absoluteName))\n\t\t\t\t{\n\t\t\t\t\treturn; \n\t\t\t\t}\n\n\t\t\t\t//when iterating types, we automatically add the type as class dependency to the currentClass\n\t\t\t\tif(type.absoluteName !== currentClass.absoluteName && \n\t\t\t\t\t!_(self.config.ignoreClasses).contains(type.absoluteName))\n\t\t\t\t{\n\t\t\t\t\tcurrentClass.dependencies.classes[type.absoluteName] = type; \t\n\t\t\t\t}\n\t\t\t};\n\t\tthis.maker.recurseAST(fn, fn_type); \n\t}\n});\n\nJsDocMaker.prototype.tools = JsDocMaker.tools || {}; \nJsDocMaker.prototype.tools.DependencyTool = Tool; \n\nJsDocMaker.prototype.findClassByName = function(className, data)\n{\n\tdata = data || this.data;\n\tvar c = _(data.classes).find(function(c)\n\t{\n\t\treturn c.absoluteName===className; \n\t});\n\tif(!c)\n\t{\n\t\tc = _(data.classes).find(function(c)\n\t\t{\n\t\t\treturn c.name===className; \n\t\t});\n\t}\n\treturn c; \n}; \n},{"../core/class":3,"underscore":1}],16:[function(require,module,exports){\nvar _ = require(\'underscore\'); \nvar JsDocMaker = require(\'../core/class\'); \nvar PluginContainer = require(\'../core/plugin\'); \n\nrequire(\'./recurse-plugin-containers\');\n\nvar key, keyRegexp; \n\nvar pluginBefore = {\n\tname: \'escape-at\'\n,\tpriority: 2\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node;\n\t\tif(!key)\n\t\t{\n\t\t\t// debugger;\n\t\t\tkey = \'escape_at_\'+_.uniqueId();\n\t\t\tkeyRegexp = new RegExp(key, \'g\'); \n\t\t}\n\n\t\tnode.value = (node.value||\'\').replace(/@@/g, key); \n\t}\n}; \nJsDocMaker.prototype.commentPreprocessorPlugins.add(pluginBefore);\n\n\nvar pluginAfter = {\n\tname: \'escape-at\'\n,\texecute: function(node) \n\t{\n\t\tnode.text = (node.text||\'\').replace(keyRegexp, \'@\'); \n\t}\n}; \nJsDocMaker.prototype.afterTypeBindingRecurseASTPlugins.add(pluginAfter);\n\n\n\n\n\n// old impl\n// var plugin = {\n// \tname: \'escape-at\'\n// ,\texecute: function(node)\n// \t{\n// \t\t// debugger;\n// \t\tnode.text = (node.text||\'\').replace(/@@/g, \'@\'); \n// \t}\n// }; \n// // debugger;\n// JsDocMaker.prototype.afterTypeBindingRecurseASTPlugins.add(plugin);\n//JsDocMaker.prototype.commentPreprocessorPlugins.add(plugin);\n\n\n},{"../core/class":3,"../core/plugin":6,"./recurse-plugin-containers":24,"underscore":1}],17:[function(require,module,exports){\n// @module shortjsdoc.plugin @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\nJsDocMaker.filterByChildAnnotation = function(options)\n{\n\tvar data = options.jsdocmaker.data;\n\tvar annotations = options.annotations || [];\n\tvar predicate = function(node)\n\t{\n\t\treturn annotations.indexOf(node.annotation)!=-1;\n\t};\n\t_.each(_.values(data.classes), function(c)\n\t{\n\t\tif(!classHasDescendant(c, predicate))\n\t\t{\n\t\t\tdelete data.classes[c.absoluteName];\n\t\t}\n\t});\n\t_.each(_.values(data.modules), function(m)\n\t{\n\t\tif(!_.find(_.values(data.classes), function(c)\n\t\t{\n\t\t\treturn c.module && c.module.name==m.name\n\t\t}))\n\t\t{\n\t\t\tdelete data.modules[m.name]\n\t\t}\n\t});\n\n\t// TODO: remove module\'s functions\n\n};\n\nfunction classHasDescendant(c, predicate){\n\tvar has;\n\thas = has || _.find(c.children, function(node){return predicate(node)});\n\n\tfunction doChildNodes(parentNode, childName, predicate)\n\t{\n\t\tvar found\n\t\t_.each(parentNode[childName], function(node, key)\n\t\t{\n\t\t\tif(!_.find(node.children, function(c){return predicate(c)}))\n\t\t\t{\n\t\t\t\tdelete parentNode[childName][key];\n\t\t\t}\n\t\t\telse \n\t\t\t{\n\t\t\t\tfound = true;\n\t\t\t}\n\t\t});\n\t\treturn found;\n\t}\n\n\treturn doChildNodes(c, \'methods\', predicate) || doChildNodes(c, \'properties\', predicate) || doChildNodes(c, \'events\', predicate);\n}\n},{"../core/class":3,"underscore":1}],18:[function(require,module,exports){\n// @module shortjsdoc.plugin @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n// TODO : turn this into a normal plugin - right now it is mixing itself in JsDocMaker\n// INHERITED methods&properties postproccessing. Optional\n\n//@method postProccessInherited calculates inherited methods&properties and put it in class\'properties inheritedMethods and inheritedProperties\nJsDocMaker.prototype.postProccessInherited = function()\n{\n\tvar self = this;\n\t_(self.data.classes).each(function(c)\n\t{\n\t\tc.inherited\t= c.inherited || {}; \n\t\tvar inheritedData = {}; \n\n\t\tc.inherited.methods = c.inherited.methods || {};\n\t\tself.extractInherited(c, c.extends, \'method\', inheritedData);\n\t\t_(c.inherited.methods).extend(inheritedData); \n\n\t\tinheritedData = {}; \n\t\tc.inherited.properties = c.inherited.properties || {};\n\t\tself.extractInherited(c, c.extends, \'property\', inheritedData);\n\t\t_(c.inherited.properties).extend(inheritedData); \n\n\t\tinheritedData = {}; \n\t\tc.inherited.events = c.inherited.events || {};\n\t\tself.extractInherited(c, c.extends, \'event\', inheritedData);\n\t\t_(c.inherited.events).extend(inheritedData); \n\n\t\tinheritedData = {}; \n\t\tc.inherited.attributes = c.inherited.attributes || {};\n\t\tself.extractInherited(c, c.extends, \'attribute\', inheritedData);\n\t\t_(c.inherited.attributes).extend(inheritedData); \n\t});\n};\n\n//@method extractInherited @param baseClass @param c @param what @para data\nJsDocMaker.prototype.extractInherited = function(baseClass, c, what, data)\n{\n\tvar self = this;\n\tif(!c || c.nativeTypeUrl)\n\t{\n\t\treturn;\n\t}\n\twhat = what || \'method\'; \n\tif(what === \'method\')\n\t{\t\t\n\t\t_(c.methods).each(function(method, name)\n\t\t{\n\t\t\tbaseClass.methods = baseClass.methods || {};\n\t\t\tif(!baseClass.methods[name])\n\t\t\t{\n\t\t\t\tdata[name] = method;\n\t\t\t\t// TODO: here we can act and clone the inherited nodes and add more info about the owner\n\t\t\t\t// data[name].inherited = true; \n\t\t\t\t// data[name].inheritedFrom = c; \n\t\t\t}\n\t\t});\n\t}\n\telse if(what === \'property\')\n\t{\n\t\t_(c.properties).each(function(p, name)\n\t\t{\n\t\t\tbaseClass.properties = baseClass.properties || {};\n\t\t\tif(!baseClass.properties[name])\n\t\t\t{\n\t\t\t\tdata[name] = p;\n\t\t\t\t// TODO: here we can act and clone the inherited nodes and add more info about the owner\n\t\t\t\t// data[name].inherited = true; \n\t\t\t\t// data[name].inheritedFrom = c; \n\t\t\t}\n\t\t});\n\t}\n\telse if(what === \'event\')\n\t{\n\t\t_(c.events).each(function(p, name)\n\t\t{\n\t\t\tbaseClass.events = baseClass.events || {};\n\t\t\tif(!baseClass.events[name])\n\t\t\t{\n\t\t\t\tdata[name] = p;\n\t\t\t\t// TODO: here we can act and clone the inherited nodes and add more info about the owner\t\n\t\t\t\t// data[name].inherited = true; \n\t\t\t\t// data[name].inheritedFrom = c; \n\t\t\t}\n\t\t});\n\t}\n\n\telse if(what === \'attribute\')\n\t{\n\t\t_(c.attributes).each(function(p, name)\n\t\t{\n\t\t\tbaseClass.attributes = baseClass.attributes || {};\n\t\t\tif(!baseClass.attributes[name])\n\t\t\t{\n\t\t\t\tdata[name] = p;\n\t\t\t\t// TODO: here we can act and clone the inherited nodes and add more info about the owner\t\n\t\t\t\t// data[name].inherited = true; \n\t\t\t\t// data[name].inheritedFrom = c; \n\t\t\t}\n\t\t});\n\t}\n\n\tif(c.extends && c !== c.extends) //recurse!\n\t{\n\t\tself.extractInherited(baseClass, c.extends, what, data);\n\t}\n};\n\n//@method isClassOwner utility method for knowing if a property is defined in given class or is inherithed\n//@static @param aClass @param prop\nJsDocMaker.classOwnsProperty = function(aClass, prop)\n{\n\tvar result = prop.absoluteName && aClass.absoluteName && prop.absoluteName.indexOf(aClass.absoluteName) === 0; \n\treturn result;\n}; \n\n},{"../core/class":3,"underscore":1}],19:[function(require,module,exports){\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//\n// it is an exmaple of a plugin that parse literal types like @param {#obj({p1:P1,p2:P2,...})} param1\n\n// CUSTOM TPE PLUGIN literalObjectParse - requires literalObjectParser.js - it adds support \n// for the custom type syntax #obj({p1:P1,p2:P2,...})to express literal objects\n// syntax: {#obj(prop1:String,prop2:Array<Apple>)}\n// DEPRECATED - turn it into a unit test showing an  example of plugin making. this file will be delete.\n// @method literalObjectParse\nJsDocMaker.prototype.literalObjectParse = function(s, baseClass)\n{\n\tvar parsed = null\n\t,\tself=this\n\t,\tproperties = {};\n\ttry\n\t{\n\t\tvar result  = JsDocMaker.parseLiteralObjectType(\'{\' + s + \'}\');\n\t\t_(result).each(function(value, key)\n\t\t{\n\t\t\tvar valueBinded = self.bindParsedType(value, baseClass);\n\t\t\tproperties[key] = valueBinded; \n\t\t}); \n\t}\n\tcatch(ex)\n\t{\n\t\tJsDocMaker.prototype.error(\'Failed to parse literal object \' + s);\n\t\tthrow ex;\n\t}\n\treturn {\n\t\tname: \'Object\'\n\t,\tproperties: properties\n\t,\tpropertiesOriginal: parsed\n\t}; \n};\n\nJsDocMaker.prototype.literalObjectInstall = function()\n{\t\n\tthis.typeParsers = this.typeParsers || {}; \n\tvar parser = {\n\t\tname: \'obj\'\n\t,\tparse: _(this.literalObjectParse).bind(this)\n\t};\n\tthis.registerTypeParser(parser); \n}; \n\n\n},{"../core/class":3,"underscore":1}],20:[function(require,module,exports){\n\'strict mode\'; \n\nvar JsDocMaker = require(\'../core/main.js\'); \n\n// heads up ! the following require() list are our installed plugins !\n\nrequire(\'./native-types.js\'); \nrequire(\'./modifiers.js\'); \nrequire(\'./inherited.js\');\nrequire(\'./util.js\');\nrequire(\'./literal-object.js\');\nrequire(\'./module-exports.js\');\nrequire(\'./alias.js\');\n// require(\'./metadata.js\');\nrequire(\'./comment-indentation.js\');\n\nrequire(\'./text-marks.js\');\nrequire(\'./text-marks-references.js\');\n\nrequire(\'./recurse-plugin-containers.js\');\nrequire(\'./escape-at.js\');\n\n\nrequire(\'./filter-by-child-annotations\'); \n\n\n//tools\nrequire(\'./dependencies.js\'); //TODO: review, this probably makes compilation slower. \n\nmodule.exports = JsDocMaker; \n},{"../core/main.js":4,"./alias.js":13,"./comment-indentation.js":14,"./dependencies.js":15,"./escape-at.js":16,"./filter-by-child-annotations":17,"./inherited.js":18,"./literal-object.js":19,"./modifiers.js":21,"./module-exports.js":22,"./native-types.js":23,"./recurse-plugin-containers.js":24,"./text-marks-references.js":25,"./text-marks.js":26,"./util.js":27}],21:[function(require,module,exports){\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//MODIFIERS postproccessing- like static, private, final. Optional module\n\n//@property {Array<String>}MODIFIERS @static\nJsDocMaker.MODIFIERS = [\'static\', \'private\', \'final\', \'deprecated\', \'experimental\', \'optional\', \'abstract\']; \n//@method installModifiers sets the property modifiers to the node according its children\nJsDocMaker.prototype.installModifiers = function(node)\n{\n\tnode.modifiers = node.modifiers || []; \n\t_(node.children).each(function(child)\n\t{\n\t\tif(_(JsDocMaker.MODIFIERS).contains(child.annotation))\n\t\t{\n\t\t\tnode.modifiers.push(child.annotation); \n\t\t}\n\t});\n}; \n \n},{"../core/class":3,"underscore":1}],22:[function(require,module,exports){\n/* @module shortjsdoc.plugin.module-export\n\n#@module @exports\nthe module AST will contain a property exports pointing to a type that can be complex. Example:\n\n\t@module module1 blabla\n\t@class MyTool1\n\t@exports {version:String,Tool:MyTool1}\n*/\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//@class ModuleExportsPlugin @extends JsDocMakerPlugin\nvar plugin_beforeTypeBinding = {\n\tname: \'@module @exports - beforeTypeBinding\'\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node\n\t\t,\tjsdocMaker = options.jsdocmaker; \n\t\tif(node.annotation!=\'module\')\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tvar exports = _(node.children).select(function(child)\n\t\t{\n\t\t\treturn child.annotation==\'exports\';\n\t\t}) || null;\n\n\t\tif(exports && exports.length)\n\t\t{\n\t\t\texports = exports[0]; \n\t\t\tnode.exports = exports;\n\t\t\t//name is part of the text\n\t\t\texports.text = exports.name + \' \' + exports.text; \n\n\t\t\t//type binding\n\t\t\tvar parsedType = jsdocMaker.parseTypeString(node.exports.type, node);\n\t\t\tnode.exports.typeString = node.exports.type;\n\t\t\tnode.exports.type = parsedType;\n\t\t}\n\t}\n}; \n  \nJsDocMaker.prototype.beforeTypeBindingPlugins.add(plugin_beforeTypeBinding); \n},{"../core/class":3,"underscore":1}],23:[function(require,module,exports){\n// @module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n// NATIVE TYPES LINKING / post processing. Optional\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String\nJsDocMaker.NATIVE_TYPES = [\'String\', \'Object\', \'Array\', \'Date\', \'Regex\', \'Function\', \n\t\'Boolean\', \'Error\', \'TypeError\', \'Number\']; \n\n//@method getNativeTypeUrl @returns {String}an url if given name match a native types or undefined otherwise\nJsDocMaker.prototype.getNativeTypeUrl = function(name)\n{\n\tif(_(JsDocMaker.NATIVE_TYPES).contains(name))\n\t{\n\t\treturn \'https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/\' + name;\n\t}\n\n\tvar customTypeUrl;\n\t_(this.customNativeTypes).each(function(val, key)\n\t{\n\t\tif(key===name)\n\t\t{\n\t\t\t//TODO: support wildcard like $(name) for inserting the name in the given url dynamically\n\t\t\tcustomTypeUrl = val;\n\t\t}\n\t});\n\treturn customTypeUrl;\n}; \n\n},{"../core/class":3,"underscore":1}],24:[function(require,module,exports){\n// @module recurse-plugin-containers - a plugin to be used by concrete plugins to iterate on all \n// nodes after some interesting stages. by calling recurseAST. \n// The objective is that other concrete plugins register here and so the AST recursion is made \n// ONCE instead of using recurseAST in each of them.\n\n\nvar JsDocMaker = require(\'../core/class\'); \nvar PluginContainer = require(\'../core/plugin\'); \nrequire(\'./util\'); \nvar _ = require(\'underscore\'); \n\n// @class AfterTypeBindingRecurseASTPluginContainer it is both a plugin and a plugin container @extends PluginContainer\nvar AfterTypeBindingRecurseASTPluginContainer = function()\n{\n\treturn PluginContainer.apply(this, arguments); \n};\nAfterTypeBindingRecurseASTPluginContainer.prototype = _({}).extend(PluginContainer.prototype);\n_(AfterTypeBindingRecurseASTPluginContainer.prototype).extend(\n{\n\tname: \'AfterTypeBindingRecurseASTPluginContainer\'\n\n\t// for each AST node all child plugins will be executed - the objective is to recurse the ast only once.\n,\texecute: function(options)\n\t{\n\t\t// debugger;\n\t\t//TODO: this logic doesn\'t respect priority - don\'t copy and paste this logic here - define a cisitor method in super\n\t\tvar result = null, self = this;\n\t\toptions.jsdocmaker.recurseAST(function(node)\n\t\t{\n\t\t\t_(self.plugins).each(function(plugin) \n\t\t\t{\n\t\t\t\tresult = plugin.execute(node, plugin);\n\t\t\t}); \n\t\t}); \n\t\treturn result; \n\t}\n}); \n\n\nvar plugin = new AfterTypeBindingRecurseASTPluginContainer();\n\n//@module shortjsdoc @class JsDocMaker @property {AfterTypeBindingRecurseASTPluginContainer} afterTypeBindingRecurseASTPlugins\nJsDocMaker.prototype.afterTypeBindingRecurseASTPlugins = plugin; \n\nJsDocMaker.prototype.afterTypeBindingPlugins.add(plugin); \n},{"../core/class":3,"../core/plugin":6,"./util":27,"underscore":1}],25:[function(require,module,exports){\n/*\n@module shortjsdoc.plugin.text-marks-references\n\nIt is based on text-marks plugin to give support to @?class @?method @?module @?property @?event and @?ref  text marks. \n\nThey will be binded to referenced nodes. The @?ref can bind anything passed as absolute name but it is less performant. \n\nAlso it contains the implementation for @?link\n\n*/\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\nvar textMarksReferencesPlugin = {\n\n\tname: \'text-marks-references\'\n\n,\texecute: function(options)\n\t{\n\t\tvar currentClass\n\t\t,\tself = this\n\t\t,\tclassMemberNameDic = {\n\t\t\t\tmethod: \'methods\'\n\t\t\t,\tproperty: \'properties\'\n\t\t\t,\tevent: \'events\'\n\t\t\t}; \n\n\t\toptions.jsdocmaker.recurseAST(function(node)\n\t\t{\n\t\t\tif(node.annotation===\'class\')\n\t\t\t{\n\t\t\t\tcurrentClass = node;\n\t\t\t}\n\t\t\t_(node.textMarks).each(function(mark, key)\n\t\t\t{\n\t\t\t\tif(mark.binding)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(mark.name===\'link\')\n\t\t\t\t{\n\t\t\t\t\tvar linkRegex = /\\[([^\\]]+)\\]\\(([^\\)]+)\\)/g; \n\t\t\t\t\tvar result = linkRegex.exec(mark.arg); \n\t\t\t\t\tif(result && result.length >= 3)\n\t\t\t\t\t{\n\t\t\t\t\t\tmark.linkLabel = result[1]; \n\t\t\t\t\t\tmark.linkUrl = result[2]; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(mark.name===\'class\')\n\t\t\t\t{\n\t\t\t\t\tmark.binding = self.bindClass(mark, currentClass, options.jsdocmaker) || {annotation: \'class\', name: mark.name, error:\'NAME_NOT_FOUND\'};\n\t\t\t\t}\n\t\t\t\telse if(mark.name===\'module\')\n\t\t\t\t{\n\t\t\t\t\tmark.binding = self.bindModule(mark, currentClass, options.jsdocmaker) || {annotation: \'module\', name: mark.name, error:\'NAME_NOT_FOUND\'};\n\t\t\t\t}\n\t\t\t\telse if(mark.name===\'method\' || mark.name===\'property\' || mark.name===\'event\')\n\t\t\t\t{\n\t\t\t\t\tmark.binding = self.bindClassMember(mark, currentClass, options.jsdocmaker, [classMemberNameDic[mark.name]]) || {annotation: mark.name, name: mark.name, error:\'NAME_NOT_FOUND\'};\n\t\t\t\t}\n\t\t\t\telse if(mark.name===\'ref\')\n\t\t\t\t{\n\t\t\t\t\tmark.binding = self.bindModule(mark, currentClass, options.jsdocmaker); \n\t\t\t\t\tif(!mark.binding)\n\t\t\t\t\t{\n\t\t\t\t\t\tmark.binding = self.bindClass(mark, currentClass, options.jsdocmaker); \n\t\t\t\t\t}\n\t\t\t\t\tif(!mark.binding)\n\t\t\t\t\t{\n\t\t\t\t\t\tmark.binding = self.bindClassMember(mark, currentClass, options.jsdocmaker, [classMemberNameDic[\'method\'], classMemberNameDic[\'property\'], classMemberNameDic[\'event\']]) || {annotation: mark.name, name: mark.name, error:\'NAME_NOT_FOUND\'}; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}); \n\t\t});\n\t}\n\n\t//@method bindClassMember binds a method, property or event using the marking  @param {String} what can be method, property, event\n,\tbindClassMember:function(mark, currentClass, maker, what)\n\t{\n\t\tvar binded;\n\t\tif(currentClass)\n\t\t{\n\t\t\t_(what).each(function(member)\n\t\t\t{\n\t\t\t\tif(currentClass[member] && currentClass[member][mark.arg])\n\t\t\t\t{\n\t\t\t\t\tbinded = currentClass[member][mark.arg];\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tif(!binded)\n\t\t{\n\t\t\t//the assume absolute method name\n\t\t\tvar className = mark.arg.substring(0, mark.arg.lastIndexOf(\'.\')); \n\t\t\tvar c = maker.data.classes[className]; \n\t\t\tif(!c)\n\t\t\t{\n\t\t\t\treturn;//return {name: \'\', error: \'NAME_NOT_FOUND\'}; // this is probably an error on the text don\'t do anything.\n\t\t\t}\n\t\t\t_(what).each(function(member)\n\t\t\t{\n\t\t\t\tif(!binded)\n\t\t\t\t{\n\t\t\t\t\tif(c[member])\n\t\t\t\t\t{\n\t\t\t\t\t\tvar simpleName = mark.arg.substring(mark.arg.lastIndexOf(\'.\') + 1, mark.arg.length);\n\t\t\t\t\t\tbinded = c[member][simpleName];\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}); \t\t\n\t\t}\n\t\treturn binded;\n\t} \n\n,\tbindClass: function(mark, currentClass, maker)\n\t{\n\t\tvar self=this\n\t\t,\tbinded = maker.parseSingleTypeString(mark.arg, currentClass);\n\t\tif(_(binded).isArray() && binded.length)\n\t\t{\n\t\t\tbinded = binded[0]; \n\t\t}\n\t\tif(!binded || binded.error === \'NAME_NOT_FOUND\')\n\t\t{\n\t\t\tbinded = self.findClass(mark.arg, maker); \t\t\t\n\t\t}\n\t\treturn binded;\n\t}\n\n,\tfindClass: function(name, maker)\n\t{\n\t\tvar binded;\n\t\t_(maker.data.classes).each(function(c, absoluteName)\n\t\t{\n\t\t\tif(absoluteName === name)\n\t\t\t{\n\t\t\t\tbinded = c;\n\t\t\t}\n\t\t}); \n\t\treturn binded;\n\t}\n\n,\tbindModule: function(mark, currentClass, maker)\n\t{\n\t\tvar binded;\n\t\t_(maker.data.modules).each(function(m, module_name)\n\t\t{\n\t\t\tif(module_name === mark.arg)\n\t\t\t{\n\t\t\t\tbinded = m;\n\t\t\t}\n\t\t}); \n\t\treturn binded;\n\t}\n}\n\nJsDocMaker.prototype.afterTypeBindingPlugins.add(textMarksReferencesPlugin); \n\n\n\n\n\n},{"../core/class":3,"underscore":1}],26:[function(require,module,exports){\n/*\n@module shortjsdoc.plugin.text-marks\n\nTODO: markings should be done 100% on post processing. \n\nthis is a meta plugin that allow to define marks inside a text. markings like @?foo something will be replaced with \na unique string key and evaluate functions and store the result in the AST under the node \'textMarks\' property.\n\nOther concrete plugins then can expose a certain functionality, for example\n\n@module client \n@class MyClass The attributes of this class are given and well explained the server service that poblate this \nmodel with JSON @?see server.MyService.Attributes\n\n##History\n\nThis tool born with the neccesity of java\'s @see. We consider using templates (underscore,handlebars) but discarded because we cannot introduce any new \nreserved characters or complexity. An approach with template would allow also to call a function. \n\nBut finally the idea of markins is more compatible and enrich the AST and don\'t add a postprocessing that complicate the syntax. \n\n##Implementation notes\n\nWhy @?see and not @see ? Because @see will break the simple syntax @annotation name text. We don\'t want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing @see with a no annotation mark. \n*/\n\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//@class TextMarksAfterParseNodePlugin @extends JsDocMakerPlugin a plugin executed at afterParseNodePlugin that implements the text-marks feature. \nvar textMarksAfterParseNodePlugin = {\n\n\tname: \'text-marks\'\n\n,\texecute: function(options)\n\t{\n\t\tvar node = options.node\n\t\t,\tself = this;\n\n\t\tnode.text = node.text || \'\'; \n\n\t\tvar replaceHandler = function(all, name, arg)\n\t\t{\n\t\t\tnode.textMarks = node.textMarks || {}; \n\t\t\tvar mark = options.jsdocmaker.getUnique(\'_shortjsdoc_textmarkplugin_\');\n\t\t\tnode.textMarks[mark] = {name:name, arg:arg}; \n\t\t\treturn mark; \n\t\t}; \n\n\t\t// first expressions like this: @?link "[This is a link](http://google.com)"\n\t\t// TODO: remove the link functionality since the user can use markdowns or html\'s\n\t\t// var regex = /@\\?([a-zA-Z0-9_\\.]+)\\s+"([^"]+)"/g; \n\t\t// node.text = node.text.replace(regex, replaceHandler); \n\n\t\t// and then expressions like this: @?ref foo.bar.Class.method2\n\t\tregex = /@\\?([a-zA-Z0-9_\\.]+)\\s+([^\\s]+)/g; \n\t\t// console.log(regex.exec(node.text))\n\t\tnode.text = node.text.replace(regex, replaceHandler); \n\t}\n}; \n\t\nJsDocMaker.prototype.beforeTypeBindingPlugins.add(textMarksAfterParseNodePlugin); \n\n\n\n\n\n// afterTypeBindingPlugins\n\n\n},{"../core/class":3,"underscore":1}],27:[function(require,module,exports){\n//TODO: move this file to core/recurseAST.js\n//@module shortjsdoc @class JsDocMaker\nvar JsDocMaker = require(\'../core/class\'); \nvar _ = require(\'underscore\'); \n\n//@method recurseAST An utility method that can be used in extensions to visit all the ast nodes and types of the AST recursively. Children are visited first. JsDocMaker.recurseAST can be used for visiting nodes through AST. The same for Types, this is visiting all subtypes of a complex type. \n//@param {Function} fn a visitor for all the nodes\n//@param {Function} fn_type a visitor for all the nodes\' types\nJsDocMaker.prototype.recurseAST = function(fn, fn_type, fn_end)\n{\n\tvar self = this;\n\t_(self.data.classes).each(function(c)\n\t{\n\t\tself.recurseASTClass(c, fn, fn_type); \n\t});\n\t_(self.data.modules).each(function(m)\n\t{\n\t\tfn.apply(m, [m]); \n\t});\n\tfn_end && fn_end();\n}; \n\nJsDocMaker.prototype.recurseASTClass = function(c, fn, fn_type)\n{\n\tif(!c)\n\t{\n\t\treturn;\n\t}\n\tfn.apply(c, [c]);\n\t_(c.methods).each(function(m)\n\t{\n\t\tfn.apply(m, [m]); \n\t\t_(m.params).each(function(p)\n\t\t{\n\t\t\tp.parentNode=m;\n\t\t\tfn.apply(p, [p]); \n\t\t\tJsDocMaker.recurseType(p.type, fn_type, p); \n\t\t}); \n\t\tif(m.returns)\n\t\t{\n\t\t\tm.returns.parentNode=m;\n\t\t\tfn.apply(m.returns, [m.returns]);\n\t\t\tJsDocMaker.recurseType(m.returns.type, fn_type, m); \n\t\t}\n\t\t_(m.throws).each(function(t)\n\t\t{\n\t\t\tfn.apply(t, [t]); \n\t\t\tJsDocMaker.recurseType(t.type, fn_type, t); \n\t\t}); \n\t}); \n\n\t_(c.properties).each(function(p)\n\t{\n\t\tfn.apply(p, [p]);\n\t\tJsDocMaker.recurseType(p.type, fn_type, p);\n\t}); \n\t_(c.events).each(function(p)\n\t{\n\t\tfn.apply(p, [p]);\n\t\tJsDocMaker.recurseType(p.type, fn_type, p);\n\t}); \n\t_(c.attributes).each(function(p)\n\t{\n\t\tfn.apply(p, [p]);\n\t\tJsDocMaker.recurseType(p.type, fn_type, p);\n\t});\n\tif (c.extends)\n\t{\n\t\tfn.apply(c.extends, [c.extends]);\n\t\tJsDocMaker.recurseType(c.extends.type, fn_type, c);\n\t}\n}\n// @method recurseType will recurse the type AST - children first. \n// @param {ASTNode} type a class node @param {Function}fn @param {ASTNode} ownerNode @static \nJsDocMaker.recurseType = function(type, fn, ownerNode)\n{\n\tif(!type || !fn)\n\t{\n\t\treturn;\n\t}\n\tif(_(type).isArray())\n\t{\n\t\t_(type).each(function(t)\n\t\t{\n\t\t\tJsDocMaker.recurseType(t, fn, ownerNode); \n\t\t}); \n\t}\n\telse if(!type.annotation || type.annotation !== \'class\')\n\t{\n\t\t_(type.properties).each(function(prop)\n\t\t{\n\t\t\tJsDocMaker.recurseType(prop, fn, ownerNode); \n\t\t}); \n\t\t_(type.params).each(function(param)\n\t\t{\n\t\t\tJsDocMaker.recurseType(param, fn, ownerNode); \n\t\t}); \t\t\n\t}\n\n\n\t// console.log(\'recurseType\', type.name, ownerNode.absoluteName|| ownerNode.name)\n\tfn(type, ownerNode); \n}; \n\n\nJsDocMaker.prototype.getUnique = function(prefix)\n{\n\tthis.counter = this.counter || 0;\n\tprefix = prefix || \'\'; \n\tthis.counter++;\n\treturn prefix + this.counter;\n}\n},{"../core/class":3,"underscore":1}]},{},[11]);\n\n\n//@filename {Foo} fileName ./html/src/js/AbstractTreeView.js\n\n//@module shortjsdoc.html\n//@class IndexView display the full AST @extends AbstractView\nvar AbstractTreeView = AbstractView.extend({\n\n\n\texpandAll: function()\n\t{\n\t\tvar self = this;\n\t\tthis.$(\'.tree [data-tree-node]\').each(function()\n\t\t{\t\t\t\n\t\t\tself.treeView.expandNode($(this));\n\t\t}); \n\t}\n\n,\tcollapseAll: function()\n\t{\n\t\tvar self = this;\n\t\tthis.$(\'.tree > ul > .tree-node > [data-tree-node]\').each(function()\n\t\t{\t\t\t\n\t\t\tself.treeView.collapseNode($(this));\n\t\t}); \n\t}\n\n\n});\n\n\n\n\n\n\n\n\n//TreeWidget - reusable GUI component\n(function(){\n\n\n\n/*\n\n@class TreeWidget\nTreeWidget - bootstrap based TreeView. Usage: \n\n\tvar model = {children: [\n\t\t{label: \'1\',  children: [\n\t\t\t{label: \'1.1\', type: \'apple\', children: []}\n\t\t]}\n\t,   {label: \'2\', children: [\n\t\t\t{label: \'2.1\', type: \'orange\', children: []}\n\t\t]}\n\t]};\n\tvar widget = new TreeWidget(model);\n\twidget.render(\'#mytree\');\n\twidget.onNodeEvent(\'click\', function(nodeModel){\n\t\talert(nodeModel.label+\' was clicked\')\n\t})\n\n@author Sebastin Gurin\n*/\n\nif(window.TreeWidget) {\n\treturn;\n}\n\n// @constructor @param {Object} rootNode\nvar TreeWidget = function(rootNode) {\n\t//@property {TreeNode} rootNode\n\tthis.rootNode = rootNode;\n\n}; \n\n/*\n@property {Object}TreeWidget.cssOptions configurable css options\n@static\n*/\nTreeWidget.cssOptions = {\n\thoverChildren: false\n,   hoverColor: \'red\'\n}; \n\n\n\n/*\n@method render\n@param {HTMLElement} parent HtmlElement - optional if passed the tree will be created and appended to it\n@return {String} the html markup of the tree ready to be append() or html()\n*/\nTreeWidget.prototype.render = function(parent) \n{\n\tthis.parentEl = parent;\n\treturn this._renderTree(this.rootNode, parent); \n}; \nTreeWidget.prototype._renderTree = function(tree, parent) \n{\n\tvar self = this, html = this.renderNode({node: tree, renderNode: this.renderNode, isRoot: true});\n\tif(parent) \n\t{    \n\t\tjQuery(parent).empty().append(html);    \n\t}\n\t//TODO: use less global selectors\n\t$(\'.tree li:has(ul)\').addClass(\'parent_li\').find(\' > span\').attr(\'title\', \'Collapse this branch\');\n\t$(\'.tree li.parent_li > span\').on(\'click\', function (e) \n\t{\n\t\tvar children = $(this).parent(\'li.parent_li\').find(\' > ul > li\');\n\t\tif (children.is(":visible")) {\n\t\t\tself.collapseNode($(this));\t\t\t\n\t\t} else {\n\t\t\tself.expandNode($(this));\n\t\t}\n\t\te.stopPropagation();\n\t});\n\treturn html; \n}; \n\nTreeWidget.prototype.collapseNode = function($node)\n{\n\tvar children = $node.parent(\'li.parent_li\').find(\' > ul > li\');\n\tchildren.hide(\'fast\');\n\t// glyphicon glyphicon-minus\n\t$node.attr(\'title\', \'Expand this branch\').find(\' > i\').addClass(\'glyphicon-plus-sign\').removeClass(\'glyphicon-minus-sign\');\n\t// $node.attr(\'title\', \'Expand this branch\').find(\' > i\').addClass(\'icon-plus-sign\').removeClass(\'icon-minus-sign\');\n}; \nTreeWidget.prototype.expandNode = function($node)\n{\n\tvar children = $node.parent(\'li.parent_li\').find(\' > ul > li\');\n\tchildren.show(\'fast\');\n\t// $node.attr(\'title\', \'Collapse this branch\').find(\' > i\').addClass(\'icon-minus-sign\').removeClass(\'icon-plus-sign\');\n\t$node.attr(\'title\', \'Collapse this branch\').find(\' > i\').addClass(\'glyphicon-minus-sign\').removeClass(\'glyphicon-plus-sign\');\n}; \n\n/*@method onNodeEvent. Usage example: \n\ttreeWidget.onNodeEvent =(\'click\', function(node, event){...}); \n@method onNodeEvent @param {String} eventType @param {Function} fn\n*/\nTreeWidget.prototype.onNodeEvent = function(eventType, fn) {\t\n\tjQuery(this.parentEl).on(eventType, \'li > span\', function()\n\t{ //event delegation\t\t\n\t\tvar nodeId = parseInt($(this).data(\'tree-node-id\')); \n\t\tfn && fn(this, nodeId); \n\t}); \n}; \n \n\nwindow.TreeWidget = TreeWidget;\n\n\n\n\nTreeWidget.treeNodeTemplate = \n\'<% var isRoot = isRoot || false; %>\'+\n\'<% if(isRoot) { %>\'+\n\'<div class="tree">\'+\n\'<% } else { %>\'+\n\'<li class="tree-node tree-node-type-<%= node.type %>">\'+\n\t\'<span data-tree-node data-tree-node-id="<%= node.tree_node_id %>">\'+\n\t\t\'<i class="glyphicon glyphicon-minus-sign"></i>\'+\n\t\t\'<%= node.label%>\'+\n\t\'</span>\'+\n\'<% } %>\'+\n\t\'<% if(node.children) { %>\'+\n\t\'<ul>\'+\n\t\'<% _(node.children).each(function(child){ %>\'+\n\t\t\'<%= renderNode({node:child, isRoot: false, renderNode: renderNode}) %>\'+\n\t\'<% }) %>\'+\n\t\'</ul>\'+\n\t\'<% } %>\'+\n\'<%= isRoot ? \\\'</div>\\\' : \\\'</li>\\\' %>\';\n\nTreeWidget.prototype.renderNode = _(TreeWidget.treeNodeTemplate).template();\n\n// TreeWidget.CSS = \n// \'<style type=\\"text/css\\">\\n\'+\n// \'.tree {\\n\'+\n// \'    min-height:20px;\\n\'+\n// \'    padding:19px;\\n\'+\n// \'    margin-bottom:20px;\\n\'+\n// \'    background-color:#fbfbfb;\\n\'+\n// \'    border:1px solid #999;\\n\'+\n// \'    -webkit-border-radius:4px;\\n\'+\n// \'    -moz-border-radius:4px;\\n\'+\n// \'    border-radius:4px;\\n\'+\n// \'    -webkit-box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.05);\\n\'+\n// \'    -moz-box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.05);\\n\'+\n// \'    box-shadow:inset 0 1px 1px rgba(0, 0, 0, 0.05)\\n\'+\n// \'}\\n\'+\n// \'.tree li {\\n\'+\n// \'    list-style-type:none;\\n\'+\n// \'    margin:0;\\n\'+\n// \'    padding:10px 5px 0 5px;\\n\'+\n// \'    position:relative\\n\'+\n// \'}\\n\'+\n// \'.tree li::before, .tree li::after {\\n\'+\n// \'    content:\\\'\\\';\\n\'+\n// \'    left:-20px;\\n\'+\n// \'    position:absolute;\\n\'+\n// \'    right:auto\\n\'+\n// \'}\\n\'+\n// \'.tree li::before {\\n\'+\n// \'    border-left:1px solid #999;\\n\'+\n// \'    bottom:50px;\\n\'+\n// \'    height:100%;\\n\'+\n// \'    top:0;\\n\'+\n// \'    width:1px\\n\'+\n// \'}\\n\'+\n// \'.tree li::after {\\n\'+\n// \'    border-top:1px solid #999;\\n\'+\n// \'    height:20px;\\n\'+\n// \'    top:25px;\\n\'+\n// \'    width:25px\\n\'+\n// \'}\\n\'+\n// \'.tree li span {\\n\'+\n// \'    -moz-border-radius:5px;\\n\'+\n// \'    -webkit-border-radius:5px;\\n\'+\n// \'    border:1px solid #999;\\n\'+\n// \'    border-radius:5px;\\n\'+\n// \'    display:inline-block;\\n\'+\n// \'    padding:3px 8px;\\n\'+\n// \'    text-decoration:none\\n\'+\n// \'}\\n\'+\n// \'.tree li.parent_li>span {\\n\'+\n// \'    cursor:pointer\\n\'+\n// \'}\\n\'+\n// \'.tree>ul>li::before, .tree>ul>li::after {\\n\'+\n// \'    border:0\\n\'+\n// \'}\\n\'+\n// \'.tree li:last-child::before {\\n\'+\n// \'    height:30px\\n\'+\n// \'}\\n\'+\n// \'.tree li.parent_li>span:hover\' + \n// \t(TreeWidget.cssOptions.hoverChildren ? \', .tree li.parent_li>span:hover+ul li span \' : \'\') + \n// \t\'{\\n\'+\n// \'    background:\'+TreeWidget.cssOptions.hoverColor+\';\\n\'+\n// \'    border:1px solid #94a0b4;\\n\'+\n// \'    color:#000\\n\'+\n// \'}\\n\'+\n// \'</style>\'; \n\n// //install style (only once per DOM)\n// jQuery(document.body).append(TreeWidget.CSS); \n\n\n})();\n\n\n//now an example: \n// var model = {children: [\n//     {label: \'1\',  children: [\n//         {label: \'1.1\', id: \'2234412\', children: []}\n//     ]}\n// ,   {label: \'2\', children: [\n//         {label: \'2.1\', children: []}\n//     ]}\n// ]};\n// var widget = new TreeWidget(model);\n// widget.render(\'#mytree\');\n\n\n\n\n/** \n@class TreeNode\n*/\n/**\n@property label\n@type String\n*/\n/**\n@property tree_node_id\n@type String\n*/\n/**\n@property label\n@type String\n*/\n/**\n@property parentNode\n@type TreeNode\n*/\n\n//@filename {Foo} fileName ./html/src/js/AbstractView.js\n\n//@module shortjsdoc.html\n//@class AbstractView @extend Backbone.View @module shortjsdoc\n\nvar AbstractView = Backbone.View.extend({\n\n\ttagName: \'div\'\n\n,\tinitialize: function(application) \n\t{\n\t\tthis.application = application;\n\t}\n\n\t//@method renderIn renders this view in given parent element @param {jQuery} $parent\n,\trenderIn: function($parent)\n\t{\n\t\tvar template = _.isFunction(this.template) ? this.template : this.application.templates[this.template];\n\t\tthis.options = this.options || {}; \n\t\t_.extend(this.options, this.application.config); \t\n\t\tvar html = template.apply(this, []); \n\t\tthis.$el.html(html);\n\t\t$parent.append(this.$el);\n\t\tthis.afterRender();\n\t}\n\n,\tdestroy: function()\n\t{\n\t\tthis.undelegateEvents()\n\t}\n\n\t//@method render implemented to comply with Backbone View contract\n,\trender: function()\n\t{\n\t\treturn this.renderIn(jQuery(this.el)); \n\t}\n\n,\tafterRender: function()\n\t{\n\t\tthis.renderSource(); \n\t}\n\n,\tsetTitle: function(t)\n\t{\n\t\t// var self = this;\n\t\t// this.title = t;\n\t\t// setTimeout(function()\n\t\t// {\n\t\t\tdocument.title = t; \n\t\t// }, 200);\n\t}\n\n\t//sources stuff\n\n,\trenderSource_: function(jsdoc, $container)\n\t{\n\t\tif(!jsdoc.commentRange)\n\t\t{\n\t\t\treturn ; //this view doesn\'t have a related jsdoc - don\'t need this feature.\n\t\t}\n\t\tvar view = new SourcesView(this.application, jsdoc); \n\t\tview.fileNameUrl = encodeURIComponent(this.jsdoc.fileName); \n\t\t// this.jsdoc.fileName.replace(/[\\\\\\/]/g, \'_\'); \n\t\tview.renderIn($container); \n\t} \n\n,\trenderSource: function()\n\t{\n\t\tif(!this.jsdoc)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.renderSource_(this.jsdoc, this.$(\'[data-type="sources"]\')); \n\t\tthis.$(\'pre code\').addClass(\'prettyprint\'); \n\t\tif(typeof prettyPrint !== \'undefined\') \n\t\t{\n\t\t\tprettyPrint(\'pre code\');\n\t\t}\n\t}\n});\n\n\n\n//@filename {Foo} fileName ./html/src/js/Application.js\n\n//@module shortjsdoc.html\n// this is the main class for all the application\n// utilities for rendering jsdoc data generated by jsdocgenerator1 js-indentator plugin\n// using backbone. The user should provide with underscore templates. \n// @class AbstractView @extend Backbone.View @module shortjsdoc\n// @author: sgurin\n\n//@class Application \n/*\n@constructor Application \n\n@param {Object} data is the data.json object outputed by running \n\t\n\tvar maker = new JsDocMaker();\n\tmaker.parseFile(myCodeString);\n\tmaker.postProccess();\n\tvar data = maker.data; \n*/\nvar Application = function(data, config)\n{\n\t//@property {String} textFormat  can be markdown or html. default: markdown\n\tthis.textFormat = \'markdown\'; \n\t\n\t//@property {Object} templates The templates dictionary (given by template-output.js)\n\tthis.templates = shortjsdoc;\n\tthis.config = config; \n\n\t/*@property {Object} data is the data.json object outputed by running:\t\n\n\t\tvar maker = new JsDocMaker();\n\t\tmaker.parseFile(myCodeString);\n\t\tmaker.postProccess();\n\t\tvar data = maker.data; \n\t*/\n\tthis.data = data; \n\n\n\t//@property {JsDocMaker} maker the JsDocMaker instance we will use for loading the parsed data and doing some post processing stage (type binding and so)\n\tthis.maker = new JsDocMaker();\n\t// this.maker.lineCommentSeparator = \'888898888\';\n\tthis.maker.data = data;\t\n\n\tthis.maker.postProccess();\n\tthis.maker.postProccessBinding();\n\tthis.maker.postProccessInherited(); // <-- important - explicitly ask the framework to calculate inherited methods&properties\n\n\n\twindow.shortjsdocdata = data;//for debugging only\n\t\n\tif(jQuery(\'#mainContainer\').size()===0)\n\t{\n\t\tjQuery(\'body\').append(\'<div id="mainContainer"></div>\'); \n\t}\n\tthis.$containerEl = jQuery(\'#mainContainer\'); \n\tthis.$body = jQuery(\'.main-view-container\');\t\n};\n\n_(Application.prototype).extend({\n\n\t//@method start starts the application by instantiating routers and history and navigating to the index.\n\tstart: function()\n\t{\t\t\n\t\tthis.router = new JsDocRouter(this);\n\t\tBackbone.history.start();\n\t\tvar navigateTo = Backbone.history.getHash() || \'index\'; \n\t\tBackbone.history.navigate(navigateTo, {trigger: true});\n\t}\n\n\t//@method showView @param {AbstractView} view\n,\tshowView: function(view)\n\t{\n\t\tthis.applicationView = this.applicationView || new ApplicationView(this); \n\t\tif(this.currentView && this.currentView !== view)\n\t\t{\n\t\t\tthis.currentView.destroy(); \n\t\t}\n\t\tthis.currentView = view;\n\t\tthis.$containerEl.empty();\n\t\tthis.applicationView.renderIn(this.$containerEl);\n\t\tdocument.title = view.title || document.title;\n\t}\n\n\t//@method refreshWithNewModel @param {Object}data\n,\trefreshWithNewModel: function(data)\n\t{\n\t\tthis.data = data; \n\t\tBackbone.history.navigate(\'#index\', {trigger: true}); \n\t\tthis.showView(this.currentView);\n\t}\n\n\t//@method showErrorView @param {String}s \n,\tshowErrorView: function(s) \n\t{\n\t\tvar errorView = new AbstractView();\n\t\terrorView.application = this;\n\t\terrorView.template = _.template(\'<h1>\'+s+\'</h1>\');\n\t\tthis.showView(errorView)\n\t}\n\n});\n\n//@method start an application loading it with given data. @static\n//@param data the output of passing jsindentator JsDocMaker. \nApplication.startApplication = function(data, config)\n{\n\tvar app = new Application(data, config); \n\tapp.start();\n}; \n  \n\n//@filename {Foo} fileName ./html/src/js/ApplicationView.js\n\n//@module shortjsdoc.html\n//@class ApplicationView @extends AbstractView\nvar ApplicationView = AbstractView.extend({\n\n\tclassName: \'application-view\'\n\n,\ttemplate: \'application\'\n\n,\tinitialize: function(application) \n\t{\n\t\tthis.application = application;\n\t}\n\n,\trenderIn: function($el)\n\t{\n\t\tAbstractView.prototype.renderIn.apply(this, arguments); \n\n\t\tthis.headerView = this.headerView || new HeaderView(this.application);\n\t\tthis.headerView.renderIn(this.$(\'[data-type="header-container"]\')); \n\n\t\tthis.mainView = this.application.currentView; \n\n\t\tthis.mainView.renderIn(this.$(\'[data-type="main-view-container"]\')); \n\n\t\tdocument.title = this.title || window.location.href + \'\';\n\t}\n\n});\n\n//@filename {Foo} fileName ./html/src/js/BookView.js\n\n//@module shortjsdoc.html\n//@class BookView @extends AbstractView\nvar BookView = AbstractView.extend({\n\n\tclassName: \'book\'\n\n,\ttemplate: \'book\'\n\n,\tinitialize: function(application, options)\n\t{\n\t\tvar self = this; \n\t\tthis.application = application;\n\t\tthis.options = options || {}; \n\t\tthis.options.private = this.options.private ? parseInt(this.options.private, 10) : 0;\n\n\t\tthis.modules = [];\n\t\t_.each(this.application.data.modules, function(m){self.modules.push(m);});\n\t\tthis.modules = this.modules.sort(function(m1, m2){return m1.name < m2.name ? 0 : 1;});\n\n\t\tif(this.options.private)\n\t\t{\n\t\t\tthis.modules = _.filter(this.modules, function(m)\n\t\t\t{\n\t\t\t\treturn self.isModulePublic(m);\n\t\t\t});\n\t\t}\n\n\t\tthis.classes = this.application.data.classes;\n\t\tif(this.options.private)\n\t\t{\n\t\t\tthis.classes = _.filter(this.classes, function(c)\n\t\t\t{\n\t\t\t\treturn self.isClassPublic(c);\n\t\t\t});\n\t\t}\n\t\tthis.title = this.application.data.projectMetadata.name;\n\t}\n\n,\tafterRender: function()\n\t{\n\t\tvar self = this;\n\t\tthis.$(\'[data-class]\').each(function()\n\t\t{\n\t\t\tvar $el = jQuery(this)\n\t\t\t, className = $el.data(\'class\');\n\t\t\tvar view = new ClassView(self.application, className, self.options);\n\t\t\t_.extend(view.options, {\n\t\t\t\tdontShowSources: true\n\t\t\t,\tdontShowSidebar: true\n\t\t\t,\tdontShowOptions: true\n\t\t\t}); \n\t\t\tif(view.resourceNotFound)\n\t\t\t{\n\t\t\t\t$el.append(\'Class \' + className + \' not found!\');\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tview.renderIn($el);\n\t\t\t}\n\t\t});\n\t}\n\n});\n\n/*\n@module justjstest\n\n@function resolveAndHit \n\nThis is just a sample global function. \n\nFunctions belong to a module - they have the same importance as classes. \n\nA function signature is just the same as a method. \n\n@param{Array<Promise>} promises \n@param {Boolean} required\n@return {Array<Number>} lorem ipsum\n*/\n\n//@filename {Foo} fileName ./html/src/js/ClassView.js\n\n//@module shortjsdoc.html\n//@class ClassView @extends AbstractView\n\nvar ClassView = AbstractView.extend({\n\n\tclassName: \'class-view\'\n\n,\ttemplate: \'class\'\n\n,\tevents: {\n\t\t\'click [data-type="sources-collapse"]\': \'sourceCollapseHandler\'\n\t}\n\n,\tinitialize: function(application, className, options) \n\t{\n\t\tvar self = this;\n\t\tthis.application = application;\n\t\tthis.jsdoc = this.application.data.classes[className]; \n\t\tif(!this.jsdoc)\n\t\t{\n\t\t\tthis.resourceNotFound = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.isInterface = this.jsdoc.annotation===\'interface\';\n\n\t\tthis.jsdoc.textHtml = this.getTextHtml(this.jsdoc);\t\n\n\t\tthis.options = options || {};\n\t\tthis.options.inherited = this.options.inherited ? parseInt(this.options.inherited, 10) : 0;\n\t\tthis.options.private = this.options.private ? parseInt(this.options.private, 10) : 0;\n\t\tthis.options.text = this.options.text ? parseInt(this.options.text, 10) : 1;\n\n\t\t// calculate properties, events and attributes inheritance information\n\t\tthis.methods = this.jsdoc.methods || {};\n\t\tthis.properties = this.jsdoc.properties || {};\n\t\tthis.events_ = this.jsdoc.events || {}; //heads up, we cannot use this.events because is a backbone view thing\n\t\tthis.attributes = this.jsdoc.attributes || {};\n\t\t\n\t\tif(this.options.inherited)\n\t\t{\n\t\t\tthis.properties = _(_(this.properties).clone()).extend(this.jsdoc.inherited.properties); \n\t\t\tthis.events_ = _(_(this.events_).clone()).extend(this.jsdoc.inherited.events); \n\t\t\tthis.attributes = _(_(this.attributes).clone()).extend(this.jsdoc.inherited.attributes); \n\t\t\tthis.methods = _(_(this.methods).clone()).extend(this.jsdoc.inherited.methods); \n\t\t}\n\n\t\t//calculate properties, events and attributes respecting visibility (i.e. the user choose to see only public props)\n\t\tif(this.options.private)\n\t\t{\n\t\t\tthis.properties = _.filter(this.properties, this.propertyIsPublicPredicate);\n\t\t\tthis.methods = _.filter(this.methods, this.propertyIsPublicPredicate);\n\t\t\tthis.events_ = _.filter(this.events_, this.propertyIsPublicPredicate);\n\t\t\tthis.attributes = _.filter(this.attributes, this.propertyIsPublicPredicate);\n\t\t}\n\t\tthis.hierarchy = this.computeHierarchy();\n\t\tthis.knownSubclasses = this.computeKnownSubclasses();\n\n\n\t\tthis.inlineProperties = true;  //TODO: configure / parametrize\n\t\tif(this.inlineProperties) \n\t\t{\n\t\t\tthis.inlineMethodViews = [];\n\t\t\t_(this.methods).each(function(node)\n\t\t\t{\n\t\t\t\tvar view = new MethodView(self.application, node.absoluteName, true);\n\t\t\t\tview.render();\n\t\t\t\tself.inlineMethodViews.push(view);\n\t\t\t});\n\n\t\t\tthis.inlinePropertyViews = [];\n\t\t\t_(this.properties).each(function(node)\n\t\t\t{\n\t\t\t\tvar view = new PropertyView(self.application, node.absoluteName, \'property\', true);\n\t\t\t\tview.render();\n\t\t\t\tself.inlinePropertyViews.push(view);\n\t\t\t});\n\n\t\t\tthis.inlineEventViews = [];\n\t\t\t_(this.events_).each(function(node)\n\t\t\t{\n\t\t\t\tvar view = new PropertyView(self.application, node.absoluteName, \'event\', true);\n\t\t\t\tview.render();\n\t\t\t\tself.inlineEventViews.push(view);\n\t\t\t});\n\n\t\t\tthis.inlineAttributeViews = [];\n\t\t\t_(this.attributes).each(function(node)\n\t\t\t{\n\t\t\t\tvar view = new PropertyView(self.application, node.absoluteName, \'attribute\', true);\n\t\t\t\tview.render();\n\t\t\t\tself.inlineAttributeViews.push(view);\n\t\t\t});\n\t\t}\n\t}\n\n,\tafterRender: function()\n\t{\n\t\tvar self = this;\n\t\tAbstractView.prototype.afterRender.apply(this, arguments);\n\t\t_.each(this.inlineMethodViews, function(v)\n\t\t{\n\t\t\tself.$(\'[data-type="inline-methods"]\').append(v.$el);\n\t\t});\n\t\t_.each(this.inlinePropertyViews, function(v)\n\t\t{\n\t\t\tself.$(\'[data-type="inline-properties"]\').append(v.$el);\n\t\t});\n\t\t_.each(this.inlineEventViews, function(v)\n\t\t{\n\t\t\tself.$(\'[data-type="inline-events"]\').append(v.$el);\n\t\t});\n\t\t_.each(this.inlineAttributeViews, function(v)\n\t\t{\n\t\t\tself.$(\'[data-type="inline-attributes"]\').append(v.$el);\n\t\t});\n\t\tthis.buttonCollapsed = this.options.collapseSources\n\t\tthis.sourceCollapseHandler()\n\t}\n\n,\tsourceCollapseHandler: function()\n\t{\n\t\tif(this.buttonCollapsed)\n\t\t{\n\t\t\tthis.$(\'[data-type="sources"]\').hide()\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.$(\'[data-type="sources"]\').show()\n\t\t}\n\t\tthis.buttonCollapsed = !this.buttonCollapsed\n\t}\n\n\t//@method makePartialText @param {AST} node @return {String}\n,\tmakePartialText: function(node)\n\t{\n\t\tif(!node.text){return \'\'; }\n\t\telse\n\t\t{\n\t\t\tvar min = Math.min(node.text.length, 100); \n\t\t\treturn node.text.substring(0, min) + \'...\'; \n\t\t}\t\t\n\t}\n\n\t//@method computeHierarchy @return {Array<ASTNode>}\n,\tcomputeHierarchy: function()\n\t{\n\t\tvar hierarchy = [];\n\t\tvar c = this.jsdoc;\t\t\n\t\tdo \n\t\t{\n\t\t\tif(c && c.extends)\n\t\t\t{\n\t\t\t\thierarchy.push(c);// = [c].concat(hierarchy);\n\t\t\t\tif(c.extends.absoluteName===c.absoluteName)\n\t\t\t\t{\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t}\t\t\n\t\t}\n\t\twhile( (c = c.extends) );\t\n\t\treturn hierarchy;\n\t}\n\n\t//@method computeKnownSubclasses @return {Array<ASTNode>}\n,\tcomputeKnownSubclasses: function()\n\t{\n\t\tvar self = this;\n\t\tvar knownSubclasses = [];\n\t\t_(this.application.data.classes).each(function(c)\n\t\t{\n\t\t\tif(self.isInterface)\n\t\t\t{\n\t\t\t\t_.each(c.implements, function(interface)\n\t\t\t\t{\n\t\t\t\t\tif(interface.extends.absoluteName === self.jsdoc.absoluteName)\n\t\t\t\t\t{\n\t\t\t\t\t\tknownSubclasses.push(interface); \n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif(c.extends.absoluteName === self.jsdoc.absoluteName)\n\t\t\t\t{\n\t\t\t\t\tknownSubclasses.push(c); \n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}); \n\t\treturn knownSubclasses; \n\t}\n\n});\n\n//@filename {Foo} fileName ./html/src/js/DependenciesView.js\n\n//@module shortjsdoc.html\n//@class IndexView display the full AST @extends AbstractView\nvar DependenciesView = AbstractView.extend({\n\n\tclassName: \'dependencies\'\n\n,\ttemplate: \'dependencies\'\n\n,\tevents: {\n\t\t\'click [data-type="includeExtends"]\': \'includeExtends\'\n\t,\t\'click [data-type="includeNativeClasses"]\': \'includeNativeClasses\'\n\t}\n\n,\tinitialize: function(application, options)\n\t{\n\t\tthis.application = application; \n\t\tthis.options = options || {}; \n\t\tthis.options.includeExtends = this.options.includeExtends && this.options.includeExtends!==\'0\'; \n\t\tthis.options.includeNativeClasses = this.options.includeNativeClasses && this.options.includeNativeClasses!==\'0\'; \n\n\t\tthis.ignoreClasses = this.options.includeNativeClasses ? [] : [\n\t\t\t\'javascript.String\'\n\t\t,\t\'javascript.Object\'\n\t\t,\t\'javascript.Function\'\n\t\t,\t\'javascript.Any\'\n\t\t,\t\'javascript.Number\'\n\t\t,\t\'javascript.Boolean\'\n\t\t,\t\'javascript.Array\'\n\t\t]; \n\t}\n\n,\trenderIn: function()\n\t{\n\t\tvar self = this; \n\t\tAbstractView.prototype.renderIn.apply(this, arguments); \n\n\t\ttoast(\n\t\t\t\'lib/vis/dist/vis.min.js\'\n\t\t,\t\'lib/vis/dist/vis.min.css\'\n\t\t,\tfunction()\n\t\t\t{\n\t\t\t\tself.doTheGraph();\n\t\t\t}\n\t\t); \n\t} \n\n\t//TODO repeated code\n,\tincludeExtends: function()\n\t{\n\t\tvar checked = this.$(\'[data-type="includeExtends"]\').is(\':checked\');\t\t\n\t\tvar options = this.getOptionsFromHash();\n\t\toptions.includeExtends = checked ? \'1\' : \'0\';\n\t\tvar url = \'dependencies?\' + this.optionsToString(options); \n\t\tBackbone.history.navigate(url, {trigger: true}); \n\t}\n\n\t//TODO repeated code\n,\tincludeNativeClasses: function()\n\t{\n\t\tvar checked = this.$(\'[data-type="includeNativeClasses"]\').is(\':checked\');\t\t\n\t\tvar options = this.getOptionsFromHash();\n\t\toptions.includeNativeClasses = checked ? \'1\' : \'0\';\n\t\tvar url = \'dependencies?\' + this.optionsToString(options); \n\t\tBackbone.history.navigate(url, {trigger: true}); \n\t}\n\n,\tdoTheGraph: function()\n\t{\n\t\tthis.$(\'.loading-message\').show();\n\t\tvar toolConfig = {\n\t\t\t\tignoreClasses: this.ignoreClasses\n\t\t\t,\tincludeExtends: this.options.includeExtends\n\t\t\t}\n\t\t,\ttool = new this.application.maker.tools.DependencyTool(this.application.maker, toolConfig); \n\n\t\ttool.calculateClassDependencies();\n\n\t\t// this.application.maker.calculateClassDependencies();\n\t\tvar self = this, nodes = [], edges = []; \n\n\t\tvar counter = 1, nodeIds = {};\n\t\t_(this.application.data.classes).each(function(c)\n\t\t{\n\t\t\tvar node = {id: counter, label: c.name}; \n\t\t\tnodes.push(node); \n\t\t\tnodeIds[c.absoluteName] = node; \n\t\t\tcounter++; \n\t\t}); \n\t\t_(this.application.data.classes).each(function(c)\n\t\t{\n\t\t\t_(c.dependencies.classes).each(function(dep)\n\t\t\t{\n\t\t\t\t// debugger;\n\t\t\t\tif(nodeIds[c.absoluteName] && nodeIds[dep.absoluteName])\n\t\t\t\t{\t\t\t\t\n\t\t\t\t\tedges.push({\n\t\t\t\t\t\tfrom: nodeIds[c.absoluteName].id\n\t\t\t\t\t\t, to: nodeIds[dep.absoluteName].id\n\t\t\t\t\t}); \t\n\t\t\t\t}\n\t\t\t}); \n\t\t}); \n\n\t\t// create a vis network graph\n\t\tvar container = this.$(\'[data-type="dependency-graph"]\').get(0); \n\t\tvar data = {\n\t\t\tnodes: nodes,\n\t\t\tedges: edges\n\t\t};\n\n\t\tvar options = {\n\t\t\tnodes: {\n\t\t\t\tshape: \'box\'\n\t\t\t}\n\t\t,\tedges: {\n\t\t\t\tstyle: \'arrow\'\n\t\t\t}\n\t\t};\n\n\t\tvar network = new vis.Network(container, data, options);\n\n\t\tthis.$(\'.loading-message\').hide();\n\t}\n\n});\n\n\n\n\n\n\n\n//@filename {Foo} fileName ./html/src/js/FileView.js\n\n//@module shortjsdoc.html\n//@class ClassView @extends AbstractView\n\nvar FileView = AbstractView.extend({\n\n\tclassName: \'file-view\'\n\n,\ttemplate: \'file\'\n\n,\tevents: {\n\t\t\'click [data-action="donwload"]\': \'download\'\n\t}\n\n,\tinitialize: function(application, fileName, options) \n\t{\n\n\t\tthis.fileName = decodeURIComponent(fileName); \n\t\t\n\t\tthis.application = application;\n\t\tthis.jsdoc = this.application.data.files[fileName]; \n\t\tif(!this.jsdoc)\n\t\t{\n\t\t\tthis.resourceNotFound = true;\n\t\t\treturn;\n\t\t}\n\t\tvar end = this.application.data.source.indexOf(\'@filename\', this.jsdoc.commentRange[1]); \n\t\tend = end === -1 ? this.application.data.source.length : end; \n\t\tthis.fileContent = this.application.data.source.substring(this.jsdoc.commentRange[1], end);\n\t}\n\n,\tafterRender: function()\n\t{\n\t\tif(typeof prettyPrint !== \'undefined\') \n\t\t{\n\t\t\tprettyPrint();\n\t\t}\n\t}\n\n,\tdownload: function()\n\t{\n\t\tvar fileName = this.fileName.split(\'/\');\n\t\tfileName = fileName[fileName.length-1]; \n\t\tvar a = document.createElement(\'a\');\n\t\tvar blob = new Blob([this.fileContent], {\'type\': \'text/javascript\'});\n\t\ta.href = window.URL.createObjectURL(blob);\n\t\ta.download = fileName;\n\t\ta.click();\n\t}\n});\n\n\n//@filename {Foo} fileName ./html/src/js/HeaderView.js\n\n//@module shortjsdoc.html\n//@class HeaderView @extends AbstractView\nvar HeaderView = AbstractView.extend({\n\n\tclassName: \'header-view\'\n\n,\ttemplate: \'header\'\n\n,\tinitialize: function(application) \n\t{\n\t\tthis.application = application;\n\t}\n\t\n,\trenderIn: function()\n\t{\n\t\tAbstractView.prototype.renderIn.apply(this, arguments); \n\t\tthis.installTypeAhead();\n\t}\n\n,\tinstallTypeAhead: function()\n\t{\n\t\tthis.classes = this.application.data.classes;\n\t\tthis.modules = this.application.data.modules;\n\n\t\tthis.typeahead = $(\'.main-header .typeahead1\').typeahead({\n\t\t\thint: true,\n\t\t\thighlight: true,\n\t\t\tminLength: 1\n\t\t},\t{\n\t\t\tname: \'jsdoc\',\n\t\t\tdisplayKey: \'value\',\n\t\t\tsource: this.substringMatcher(),\n\t\t\ttemplates: {\n\t\t\t\tempty: \'<div class="empty-message">Sorry, nothing found.</div>\'\n\t\t\t,\tsuggestion: this.application.templates.typeaheadSuggestion\n\t\t\t}\n\t\t});\n\n\t\tvar self = this;\n\t\tthis.typeahead.on(\'typeahead:selected\', function()\n\t\t{\n\t\t\tself.handleSearchSelection.apply(self, arguments);\n\t\t});\n\n\t\tif(jQuery(window).width()<400)\n\t\t{\n\t\t\tjQuery(\'.tt-dropdown-menu\').css({width: jQuery(window).width()+\'px\'}); \n\t\t}\n\t\t\n\t}\n\n,\thandleSearchSelection: function(event, object, dataset)\n\t{\n\t\tvar href = this.makeLink(object.node);\n\t\tBackbone.history.navigate(href, {trigger: true}); \n\t}\n\n,\tsearch: function(q)\n\t{\n\t\tvar self=this,matches = []\n\n\t\t// regex used to determine if a string contains the substring `q`\n\t\t,\tsubstrRegex = new RegExp(q, \'i\');\n\n\t\t// iterate through the pool of strings and for any string that\n\t\t// contains the substring `q`, add it to the `matches` array\n\t\t_(self.classes).each(function (c)\n\t\t{\n\t\t\tif (substrRegex.test(c.name)) \n\t\t\t{\n\t\t\t\tmatches.push({ value: c.name, node: c });\n\t\t\t}\n\t\t\t_(c.methods).each(function (m)\n\t\t\t{\n\t\t\t\tif (substrRegex.test(m.name)) \n\t\t\t\t{\n\t\t\t\t\tmatches.push({ value: m.name, node: m });\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}); \n\t\t}); \n\n\t\t_(self.modules).each(function (m)\n\t\t{\n\t\t\tif (substrRegex.test(m.name)) \n\t\t\t{\n\t\t\t\tmatches.push({ value: m.name, node: m });\n\t\t\t}\n\t\t}); \n\n\t\treturn matches;\n\t}\n\n,\tsubstringMatcher: function() \n\t{\n\t\tvar self = this;\n\t\treturn function findMatches(q, cb) \n\t\t{\n\t\t\tvar matches;\n\t\t\t// an array that will be populated with substring matches\n\t\t\tmatches = self.search(q);\t\t\t\n\t\t\tcb(matches);\n\t\t};\n\t}\n\n});\n\n\n//@filename {Foo} fileName ./html/src/js/HierarchyTreeView.js\n\n//@module shortjsdoc.html\n//@class HierarchyTreeView display the full AST @extends AbstractView\nvar HierarchyTreeView = AbstractTreeView.extend({\n\n\tclassName: \'hierarchy-tree\'\n\n,\ttemplate: \'hierarchytree\'\n\n,\tevents: {\n\t\t\'click [data-action="show-tree"]\': \'showTree\'\n\t,\t\'click [data-action="expand-all"]\': \'expandAll\'\n\t,\t\'click [data-action="collapse-all"]\': \'collapseAll\'\n\t}\n\n,\trenderIn: function()\n\t{\n\t\tAbstractView.prototype.renderIn.apply(this, arguments); \n\n\t\tvar rootNode = this.application.data.classes[\'javascript.Object\'];\n\t\tif(!rootNode)\n\t\t{\n\t\t\trootNode = {name:\'Object\'}; \n\t\t}\n\n\t\tvar a = this.classesExtendsFrom(rootNode);\n\n\t\tthis.treeModel = this.buildTreeModel(rootNode);\n\t\tthis.treeModel = {label: \'Something\', children: [this.treeModel]}; // add an extra level so root class also appears\n\n\t\tthis.treeView = new TreeWidget(this.treeModel);\n\t\tthis.treeView.render(\'.the-tree\');\n\t\tthis.treeView.onNodeEvent(\'click\', function(nodeModel)\n\t\t{\n\t\t\talert(nodeModel.label+\' was clicked\'); \n\t\t}); \n\n\t}\n\t// @method classesExtendsFrom search for classes extending from given type. It taks in consideration native object type and normal types. \n\t// @param {ASTNode} type @return {Array<ASTNode>}\n,\tclassesExtendsFrom: function(type)\n\t{\n\t\tvar a = [];\n\t\t_(this.application.data.classes).each(function(c)\n\t\t{\n\t\t\tif(!c.extends || !type){}\n\t\t\telse if(c.extends.absoluteName )\n\t\t\t{\n\t\t\t\tif(c.extends.absoluteName === type.absoluteName && c.absoluteName !== c.extends.absoluteName)\n\t\t\t\t{\n\t\t\t\t\ta.push(c); \n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(c.extends.name && c.name !== c.extends.name)\n\t\t\t{\n\t\t\t\tif(c.extends.name === type.name)\n\t\t\t\t{\n\t\t\t\t\ta.push(c); \n\t\t\t\t}\n\t\t\t}\n\t\t}); \n\t\treturn a;\n\t}\n\t//@method buildTreeModel @return {children:Array,label:String} @param {ASTNode} node \n,\tbuildTreeModel: function(node)\n\t{\n\t\tif(!node) return [];\n\t\tvar model = {\n\t\t\tchildren: []\n\t\t,\tlabel: \'<a href="\' + this.makeLink(node) + \'">\' + (node.absoluteName || node.name) + \'</a>\'\n\t\t}\n\t\t,\tself = this\n\t\t,\tclassesExtendsFrom = self.classesExtendsFrom(node); \n\n\t\t_(classesExtendsFrom).each(function(c)\n\t\t{\n\t\t\tmodel.children.push(self.buildTreeModel(c)); \n\t\t}); \n\n\t\treturn model;\n\t}\n\n});\n\n\n\n\n\n\n\n\n\n//@filename {Foo} fileName ./html/src/js/IndexView.js\n\n//@module shortjsdoc.html\n//@class IndexView @extends AbstractView\nvar IndexView = AbstractView.extend({\n\n\tclassName: \'index\'\n\n,\ttemplate: \'index\'\n\n,\tinitialize: function(application, options)\n\t{\n\t\tvar self = this; \n\t\tthis.application = application;\n\t\tthis.options = options || {}; \n\t\tthis.options.private = this.options.private ? parseInt(this.options.private, 10) : 0;\n\n\t\tthis.modules = this.application.data.modules;\n\t\tif(this.options.private)\n\t\t{\n\t\t\tthis.modules = _.filter(this.modules, function(m)\n\t\t\t{\n\t\t\t\treturn self.isModulePublic(m);\n\t\t\t});\n\t\t}\n\n\t\tthis.classes = this.application.data.classes;\n\t\tif(this.options.private)\n\t\t{\n\t\t\tthis.classes = _.filter(this.classes, function(c)\n\t\t\t{\n\t\t\t\treturn self.isClassPublic(c);\n\t\t\t});\n\t\t}\n\t}\n\n});\n\n\n\n\n\n\n\n//@filename {Foo} fileName ./html/src/js/JsDocRouter.js\n\n//@module shortjsdoc.html\n//@class JsDocRouter @extends Backbone.Router\nvar JsDocRouter = Backbone.Router.extend({\n\n\troutes: {\n\t\t\'class/:class\': \'showClass\'\n\t,\t\'class/:class?:options\': \'showClass\'\n\n\t,\t\'module/:module\': \'showModule\'\n\t,\t\'module/:module?:options\': \'showModule\'\n\n\t,\t\'method/:method\': \'showMethod\'\n\t,\t\'constructor/:method\': \'showMethod\'\n\t,\t\'function/:method\': \'showMethod\'\n\n\t,\t\'property/:property\': \'showProperty\'\n\t,\t\'event/:event\': \'showEvent\'\n\t,\t\'attribute/:attribute\': \'showAttribute\'\n\n\t,\t\'index\': \'showIndex\'\n\t,\t\'index/?:options\': \'showIndex\'\n\n\t,\t\'book\': \'showBook\'\n\t,\t\'book/?:options\': \'showBook\'\n\n\t,\t\'modules\': \'showModules\'\n\t,\t\'classes\': \'showClasses\'\n\n\t,\t\'parse\': \'showParse\'\n\n\t,\t\'tree\': \'showTree\'\n\t,\t\'hierarchyTree\': \'showHierarchyTree\'\n\n\t,\t\'file/:file\': \'showFile\'\n\t,\t\'file/:file?:options\': \'showFile\'\n\n\t,\t\'search\': \'doSearch\'\n\t,\t\'search/:options\': \'doSearch\'\n\n\t,\t\'dependencies/:options\': \'showDependencies\'\n\t,\t\'dependencies\': \'showDependencies\'\n\t}\n\n,\tinitialize: function(application) \n\t{\n\t\tthis.application=application;\n\t}\n\n\t//@method showView @param {AbstractView}view @param {String} resourceName\n,\tshowView: function(view, resourceName)\n\t{\n\t\tif(view.resourceNotFound)\n\t\t{\n\t\t\tresourceName = resourceName||Backbone.history.fragment;\n\t\t\tthis.application.showErrorView(\'Resource \' + resourceName + \' not found!\'); \n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.application.showView(view); \n\t\t}\n\t}\n\n\t//@method showModule  @param {String} moduleName\n,\tshowModule: function(moduleName, options) \n\t{\n\t\toptions = options || \'\';\n\t\tvar params = this.parseOptions(options);\t\n\t\tvar view = new ModuleView(this.application, moduleName, params);\n\t\tthis.showView(view); \n\t}\n\n\t//method parseOptions @return {Object<String,String>}\n,\tparseOptions: function(options)\n\t{\n\t\tvar params = {};\n\t\t_(options.split(\'&\')).each(function(p)\n\t\t{\n\t\t\tvar a = p.split(\'=\'); \n\t\t\tif (a.length >= 2)\n\t\t\t{\n\t\t\t\tparams[a[0]] = a[1]; \n\t\t\t}\n\t\t}); \n\t\treturn params;\n\t}\n\n\t//@method showClass  @param {String} className\n,\tshowClass: function(className, options) \n\t{\n\t\toptions = options || \'\';\n\t\tvar params = this.parseOptions(options);\t\t\n\t\tvar view = new ClassView(this.application, className, params);\n\t\tthis.showView(view); \n\t}\n\n\t//@method showMethod Responsible of showing Methods, Constructors and Functions @param {String} method\n,\tshowMethod: function(method)\n\t{\n\t\tvar view = new MethodView(this.application, method);\n\t\tthis.showView(view); \n\t}\n\n\n\t//@method showProperty  @param {String} property\n,\tshowProperty: function(property)\n\t{\n\t\tvar view = new PropertyView(this.application, property, \'property\');\n\t\tthis.showView(view); \n\t}\n\t//@method showEvent  @param {String} event\n,\tshowEvent: function(event)\n\t{\n\t\tvar view = new PropertyView(this.application, event, \'event\');\n\t\tthis.showView(view); \n\t}\n\t//@method showAttribute  @param {String} attribute\n,\tshowAttribute: function(attribute)\n\t{\n\t\tvar view = new PropertyView(this.application, attribute, \'attribute\');\n\t\tthis.showView(view); \n\t}\n\n\n\t//@method showModules\n,\tshowModules: function()\n\t{\n\t\tvar view = new AbstractView(this.application);\n\t\tview.template = \'modules\';\n\t\tthis.showView(view);\n\t}\n\t\n\t//@method showClasses\n,\tshowClasses: function()\n\t{\n\t\tvar view = new AbstractView(this.application);\n\t\tview.template = \'classes\';\n\t\tthis.showView(view);\n\t}\n\n\t//@method search  @param {String} options\n,\tdoSearch: function(optionsStr)\n\t{\n\t\tvar options = this.parseOptions(optionsStr||\'\'); \n\t\tvar view = new SearchView(this.application, options);\n\t\tthis.showView(view); \n\t}\n\n\t//@method showDependencies  @param {String} options\n,\tshowDependencies: function(optionsStr)\n\t{\n\t\tvar options = this.parseOptions(optionsStr||\'\'); \n\t\tvar view = new DependenciesView(this.application, options);\n\t\tthis.showView(view); \n\t}\n\n\t//@method showIndex\n,\tshowIndex: function(optionsStr) \n\t{\n\t\tvar options = this.parseOptions(optionsStr||\'\'); \n\t\tvar view = new IndexView(this.application, options);\n\t\tthis.application.showView(view); \n\t}\n\t//@method showBook\n,\tshowBook: function(optionsStr) \n\t{\n\t\tvar userWants = confirm(\'This can take some time for the browser, are you sure you want to continue ? \')\n\t\tif(userWants)\n\t\t{\n\t\t\tvar options = this.parseOptions(optionsStr||\'\'); \n\t\t\tvar view = new BookView(this.application, options);\n\t\t\tthis.application.showView(view); \n\t\t}\n\t\telse\n\t\t{\n\t\t\tBackbone.history.navigate(\'index\', {trigger: true})\n\t\t}\n\t}\n\n\n\t//@method showTree\n,\tshowTree: function()\n\t{\t\t\n\t\tvar view = new TreeView(this.application);\n\t\tthis.application.showView(view); \n\t}\n\n\t//@method showHierarchyTree\n,\tshowHierarchyTree: function()\n\t{\t\t\n\t\tvar view = new HierarchyTreeView(this.application);\n\t\tthis.application.showView(view); \n\t}\t\n\n\t//@method showParse\n,\tshowParse: function() \n\t{\n\t\tvar view = new ParseView(this.application);\n\t\tthis.application.showView(view); \n\t}\n\n\t//@method showFile  @param {String} file\n,\tshowFile: function(file, options) \n\t{\n\t\toptions = options || \'\';\n\t\tvar params = this.parseOptions(options);\t\t\n\t\tvar view = new FileView(this.application, file, params);\n\t\tthis.showView(view); \n\t}\n\n});\n\n\n//@filename {Foo} fileName ./html/src/js/MethodView.js\n\n// @module shortjsdoc.html\n// @class MethodView Responsible of showing Methods, Constructors and Functions \n// @extends AbstractView\nvar MethodView = AbstractView.extend({\n\n\tclassName: \'method-view\'\n\n,\ttemplate: \'method\'\n\n,\tinitialize: function(application, methodName, asChildView) \n\t{\n\t\tthis.application = application;\n\t\tthis.asChildView = asChildView;\n\t\t// if(Backbone.history.fragment.indexOf(\'method\')===0 || Backbone.history.fragment.indexOf(\'constructor\')===0)\n\t\tif(Backbone.history.fragment.indexOf(\'function\')!==0)\n\t\t{\n\t\t\tvar className = this.getClassName(methodName);\n\t\t\tvar methodSimpleName = this.getSimpleName(methodName);\n\n\t\t\tvar class_ = this.application.data.classes[className];\n\t\t\tthis.ownerModule = class_.module.name;\n\n\t\t\t//is a method or constructor\n\t\t\tif(!isNaN(parseInt(methodSimpleName, 10)))\n\t\t\t{\n\t\t\t\tthis.jsdoc = class_.constructors[parseInt(methodSimpleName, 10)]; \n\t\t\t\tthis.isConstructor = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\t\t\t\n\t\t\t\tthis.jsdoc = class_.methods[methodSimpleName]; \n\t\t\t\tthis.isConstructor = false;\n\t\t\t}\n\t\t\tif(!this.jsdoc)\n\t\t\t{\n\t\t\t\tthis.resourceNotFound = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.jsdoc.textHtml = this.getTextHtml(this.jsdoc);\n\t\t\tthis.ownerClass = this.application.data.classes[this.jsdoc.ownerClass]; \n\n\t\t}\n\t\telse if(Backbone.history.fragment.indexOf(\'function\')===0)\n\t\t{\n\t\t\t//is a function\n\t\t\tvar moduleName = methodName.split(\'.\')[0]\n\t\t\tthis.ownerModule = this.application.data.modules[moduleName]\n\t\t\tvar f = _.find(this.ownerModule.functions, function(f){return f.absoluteName===methodName})\n\t\t\tthis.jsdoc = f;\n\t\t\tthis.jsdoc.textHtml = this.getTextHtml(this.jsdoc); \n\t\t\tif(!this.jsdoc)\n\t\t\t{\n\t\t\t\tthis.resourceNotFound = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.isFunction = true;\t\n\t\t}\n\t}\n\n});\n\n\n\n//@filename {Foo} fileName ./html/src/js/ModuleView.js\n\n//@module shortjsdoc.html\n//@class ModuleView @extends AbstractView\nvar ModuleView = AbstractView.extend({\n\n\tclassName: \'module\'\n\n,\ttemplate: \'module\'\n\n,\tinitialize: function(application, moduleName, options) \n\t{\n\t\tvar self = this;\n\t\tthis.application = application;\n\t\tthis.jsdoc = this.application.data.modules[moduleName]; \n\t\tthis.classes = _( _(this.application.data.classes).values() ).filter(function(c)\n\t\t{\n\t\t\treturn c.module.name === moduleName && c.annotation===\'class\'; \n\t\t}); \n\t\tthis.interfaces = _( _(this.application.data.classes).values() ).filter(function(c)\n\t\t{\n\t\t\treturn c.module.name === moduleName && c.annotation===\'interface\'; \n\t\t}); \n\t\tthis.options = options || {}\n\t\tthis.options.private = this.options.private ? parseInt(this.options.private, 10) : 0;\n\n\t\tif(this.options.private)\n\t\t{\n\t\t\tthis.classes = _.filter(this.classes, function(c)\n\t\t\t{\n\t\t\t\treturn self.isClassPublic(c)\n\t\t\t});\n\t\t}\n\n\t\tthis.jsdoc.textHtml = this.getTextHtml(this.jsdoc);\t\n\t}\n\n});\n\n//@filename {Foo} fileName ./html/src/js/ParseView.js\n\n//@module shortjsdoc.html\n//@class ParseView @extends AbstractView\nvar ParseView = AbstractView.extend({\n\n\tclassName: \'parse\'\n\n,\tevents: {\n\t\t\'click [data-action="inputcode_doit"]\': \'inputCodeDoit\'\n\t}\n\n,\ttemplate: \'parse\'\n\n,\tinputCodeDoit: function()\n\t{\n\t\tvar code = this.$(\'[data-type="inputcode"]\').val();\n\t\tvar maker = this.application.maker;\n\n\t\tvar clean = this.$(\'[data-action="clean"]:checked\').val();\n\t\tif(clean)\n\t\t{\n\t\t\tthis.application.data = maker.data = {};\n\t\t}\n\t\tmaker.parseFile(code, \'textarea\');\t\t\n\t\tmaker.postProccess();\n\t\t//console.log(JSON.stringify(maker.data));\n\t\tmaker.postProccessBinding();\n\t\tthis.application.refreshWithNewModel(maker.data);\n\t}\n\n});\n\n//@filename {Foo} fileName ./html/src/js/PropertyView.js\n\n//@module shortjsdoc.html\n//@class PropertyView @extends AbstractView\nvar PropertyView = AbstractView.extend({\n\n\tclassName: \'property-view\'\n\n,\ttemplate: \'property\'\n\n,\tinitialize: function(application, propertyName, propertyType, asChildView) \n\t{\n\t\tthis.application = application;\n\n\t\tthis.asChildView = asChildView;\n\n\t\tvar propertyLabelsDic = {\n\t\t\tevent: \'Event\'\n\t\t,\tproperty: \'Property\'\n\t\t,\tattribute: \'Attribute\'\n\t\t};\n\n\t\tthis.propertyLabel = propertyLabelsDic[propertyType]; \n\n\t\tvar className = this.getClassName(propertyName);\n\t\t\n\t\tvar propertySimpleName = this.getSimpleName(propertyName);\n\n\t\tvar class_ = this.application.data.classes[className];\t\t\n\t\tthis.ownerModule = class_.module.name;\n\n\t\tvar propertyPropNamesDic = {\n\t\t\tevent: \'events\'\n\t\t,\tproperty: \'properties\'\n\t\t,\tattribute: \'attributes\'\n\t\t};\n\n\t\tthis.jsdoc = class_[propertyPropNamesDic[propertyType]][propertySimpleName];\n\n\t\tif(!this.jsdoc)\n\t\t{\n\t\t\tthis.resourceNotFound = true;\n\t\t\treturn;\n\t\t}\n\n\t\tthis.jsdoc.textHtml = this.getTextHtml(this.jsdoc);\t\n\t}\n\n\n});\n\n\n\n//@filename {Foo} fileName ./html/src/js/SearchView.js\n\n//@module shortjsdoc.html\n//@class SearchView @extends AbstractView\n\nvar SearchView = AbstractView.extend({\n\n\tclassName: \'search-view\'\n\n,\ttemplate: \'search\'\n\n,\tevents: {\n\t\t\'click [data-action="search"]\': \'searchActionHandler\'\n\t}\n\n,\tinitialize: function(application, options) \n\t{\n\t\tthis.application = application;\n\t\tthis.jsdoc = this.application.data;\n\n\t\tvar self = this;\n\t\t// @property {SearchView.Query} query;\n\t\tthis.query = options; \n\t\tthis.search(function(results)\n\t\t{\n\t\t\t// @property {Array<SearchView.Result>} results\n\t\t\tself.results = results;\n\t\t\t// debugger;\n\t\t\tself.render();\n\t\t});\n\t}\n\n,\tformToJson: function(form)\n\t{\n\t\tvar s = jQuery(form).serialize(); \n\t\tvar a = s.split(\'&\')\n\t\tvar obj = {};\n\t\t_(a).each(function(b)\n\t\t{\n\t\t\tvar c = b.split(\'=\');\n\t\t\tobj[c[0]] = c[1]; \n\t\t}); \n\t\treturn obj;\n\t}\n\n,\tsearchActionHandler: function(e)\n\t{\n\t\tvar options = this.$(\'[data-type="search-form"]\').serialize();\n\t\tBackbone.history.navigate(\'search?\'+options, {trigger: true});//, {replace: true}); \n\t\t// var query = this.formToJson(this.$(\'[data-type="search-form"]\'));\n\t\t// var results = this.doSearch(query);\n\t\te.preventDefault();\n\t}\n\n,\tsearch: function(cb)\n\t{\n\t\tif(!this.query.keywords)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tvar self = this, results = {}\n\t\t,\tkeywordsCompare = self.query.keywords.toLowerCase()\n\t\t,\tnodeVisitor = function(node){}; \n\n\t\tvar typeVisitor = function(type, ownerNode)\n\t\t{\n\t\t\tvar typeName = type.absoluteName ? type.absoluteName : type.name; \n\n\t\t\tif(!typeName || ! ownerNode)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar typeName = typeName.toLowerCase();\n\t\t\tif(typeName && typeName.indexOf(keywordsCompare) !== -1)\n\t\t\t{\n\t\t\t\tvar label, url, ownerNodeId;\n\t\t\t\tif(ownerNode.annotation===\'param\')\n\t\t\t\t{\n\t\t\t\t\townerNodeId = ownerNode.parentNode.absoluteName + \'.\' + ownerNode.name;\n\t\t\t\t\tlabel = \'parameter \\\'\' + ownerNode.name + \'\\\' of method \\\'\' + \n\t\t\t\t\t\townerNode.parentNode.absoluteName + \'\\\'\'; \n\t\t\t\t\turl = self.makeLink(ownerNode.parentNode);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\townerNodeId = ownerNode.absoluteName;\n\t\t\t\t\tlabel = ownerNode.annotation /*+ \' \' + ownerNode.name + \' of \' + \n\t\t\t\t\t\townerNode.annotation */ + \' \\\'\' + ownerNode.absoluteName + \'\\\'\'; \t\n\t\t\t\t\turl = self.makeLink(ownerNode);\n\t\t\t\t}\n\t\t\t\tresults[ownerNodeId] = {\n\t\t\t\t\tlabel: label\n\t\t\t\t,\turl: url\n\t\t\t\t}\n\t\t\t}\n\t\t}; \n\n\t\tvar endCallback = function()\n\t\t{\n\t\t\tvar nodeVisitorArray =[];\n\t\t\t_(results).each(function(val)\n\t\t\t{\n\t\t\t\tnodeVisitorArray.push(val)\n\t\t\t}); \n\t\t\tcb(nodeVisitorArray); \n\t\t}\n\n\t\tthis.application.maker.recurseAST(nodeVisitor, typeVisitor, endCallback); \n\n\t}\n\n});\n\n// @class SearchView.Query @property {String} keywords \n// @property {Boolean} types will list method and properties that reference given type \n// @property {String} match can be \'contains\', \'exactly\', \'regexp\' - default: \'contains\'\n\n//@filename {Foo} fileName ./html/src/js/SourcesView.js\n\n//@module shortjsdoc.html\n//@class SourcesView @extends AbstractView\nvar SourcesView = AbstractView.extend({\n\n\tclassName: \'sources\'\n\n,\ttemplate: \'sources\'\n\n,\tevents: {\n\t\t\'click [data-type="goto-source"]\': \'gotoSource\'\n\t}\n\n,\tinitialize: function(application, jsdoc)\n\t{\n\t\tthis.application = application;\n\t\tthis.jsdoc = jsdoc;\n\t\tthis.allSource = this.application.maker.data.source; \n\n\t\tvar rangeRatio = 400;\n\t\tvar rangeMin = Math.max(0, this.jsdoc.commentRange[0] - rangeRatio);\n\t\tvar rangeMax = Math.min(this.allSource.length - 1, this.jsdoc.commentRange[1] + rangeRatio);\n\t\tthis.sourceSubset = this.allSource.substring(rangeMin, rangeMax);\n\t\tvar jsdocSource = this.allSource.substring(this.jsdoc.commentRange[0], this.jsdoc.commentRange[1]); \n\t\tvar previusSource = this.sourceSubset.substring(0, this.sourceSubset.indexOf(jsdocSource));\n\t\tvar previusSourceLineCount = previusSource.split(\'\\n\').length; \n\n\t\tthis.jsdocLineNumber = previusSourceLineCount - 1;\n\n\t\tthis.lineCount = jsdocSource.split(\'\\n\').length; \n\n\t\t//TODO: count the lines of the comment and show all the lines - not only the first one\n\t}\n\n,\tafterRender: function()\n\t{\n\t\tif(typeof prettyPrint !== \'undefined\') \n\t\t{\n\t\t\tprettyPrint();\n\t\t}\n\t}\n\n,\tgotoSource: function()\n\t{\n\t\tvar selector = \'ol.linenums>li\'\n\t\t,\t$target = jQuery(jQuery(selector).get(this.jsdocLineNumber));\n\t\tif($target.size())\n\t\t{\n\t\t\tjQuery(window).scrollTop($target.position().top);\n\t\t\t$target.addClass(\'selectedJsDocLine\'); \n\t\t}\n\n\t\tfor (var i = 0; i < this.lineCount; i++) \n\t\t{\n\t\t\t$target = jQuery(jQuery(selector).get(this.jsdocLineNumber+i));\n\t\t\t$target.addClass(\'selectedJsDocLine\'); \n\t\t}\n\t}\n});\n\n//@filename {Foo} fileName ./html/src/js/TreeView.js\n\n//@module shortjsdoc.html\n//@class IndexView display the full AST @extends AbstractView\nvar TreeView = AbstractTreeView.extend({\n\n\tclassName: \'tree\'\n\n,\ttemplate: \'tree\'\n\n,\tevents: {\n\t\t\'click [data-action="show-tree"]\': \'showTree\'\n\t,\t\'click [data-action="expand-all"]\': \'expandAll\'\n\t,\t\'click [data-action="collapse-all"]\': \'collapseAll\'\n\t}\n\n,\trenderIn: function()\n\t{\n\t\tAbstractView.prototype.renderIn.apply(this, arguments); \n\n\t\t// just show the tree\n\t\tthis.treeModel = this.buildTreeModel(this.application.data);\t\t\n\t\tthis.treeView = new TreeWidget(this.treeModel);\n\t\tthis.treeView.render(\'.the-tree\');\n\t\tthis.treeView.onNodeEvent(\'click\', function(nodeModel)\n\t\t{\n\t\t\talert(nodeModel.label+\' was clicked\'); \n\t\t}); \n\t}\n\n,\tbuildTreeModel: function()\n\t{\n\t\tvar model = {children: []}\n\t\t,\tself = this\n\t\t,\tdata = this.application.data; \n\n\t\t_(data.modules).each(function(m)\n\t\t{\n\t\t\tmodel.children.push(self.buildTreeModelForModule(m, data)); \n\t\t}); \n\t\treturn model;\n\t}\n,\tbuildTreeModelForModule: function(m, data)\n\t{\n\t\tvar node = {\n\t\t\tchildren: []\n\t\t,\tlabel: \'Module \' + this.makeLink(m, true)\n\t\t,\ttype: \'module\'\n\t\t}\n\t\t,\tself = this; \n\t\tvar classes = _(data.classes).filter(function(c){return c.module.name === m.name; }); \n\t\t_(classes).each(function(c)\n\t\t{\n\t\t\tnode.children.push(self.buildTreeModelForClass(c, data)); \n\t\t}); \n\t\treturn node;\n\t}\n,\tbuildTreeModelForClass: function(c, data)\n\t{\n\t\tvar node = {\n\t\t\tchildren: []\n\t\t,\tlabel: \'Class \' + this.makeLink(c, true)\n\t\t,\ttype: \'class\'\n\t\t}\n\t\t,\tself = this; \n\t\t_(c.methods).each(function(m)\n\t\t{\n\t\t\tnode.children.push(self.buildTreeModelForMethod(m, data)); \n\t\t}); \n\t\t_(c.properties).each(function(p)\n\t\t{\n\t\t\tnode.children.push(self.buildTreeModelForProperty(p, data, \'Property\')); \n\t\t});  \n\t\t_(c.events).each(function(e)\n\t\t{\n\t\t\tnode.children.push(self.buildTreeModelForProperty(e, data, \'Event\')); \n\t\t}); \n\t\treturn node;\n\t}\n\n,\tbuildTreeModelForProperty: function(p, data, label)\n\t{\n\t\tvar node = {\n\t\t\tchildren: []\n\t\t,\tlabel: label + \' \' + this.makeLink(p, true)\n\t\t,\ttype: \'method\'\n\t\t}; \n\t\treturn node;\n\t}\n\n,\tbuildTreeModelForMethod: function(m, data)\n\t{\n\t\tvar node = {\n\t\t\tchildren: []\n\t\t,\tlabel: \'Method \' + this.makeLink(m, true)\n\t\t,\ttype: \'method\'\n\t\t}\n\t\t,\tself = this; \n\t\t// if(m.returns)\n\t\t// {\t\t\t\n\t\t// \tnode.children.push({\n\t\t// \t\tchildren: []\n\t\t// \t,\tlabel: \'Returns\'\n\t\t// \t,\ttype: \'returns\'\n\t\t// \t}); \t\n\t\t// }\n\t\treturn node;\n\t}\n});\n\n\n\n\n\n\n\n//@filename {Foo} fileName ./html/src/js/TypesUtil.js\n\n// @module shortjsdoc.html\n// this file add methods to Abstract Application for dealing with types and html markup. \n// @class AbstractView @extends Backbone.View\n_(AbstractView.prototype).extend({\n\n\t//@method printTag\n\tprintTag: function(text, classAttribute, tag) \n\t{\n\t\ttag = tag || \'span\'; \n\t\tclassAttribute = classAttribute ||\'\';\n\t\tif(text)\n\t\t{\n\t\t\treturn \'<\'+tag+ (classAttribute?(\' class="\'+classAttribute+\'"\'):\'\') +\'>\'+text+\'</\'+tag+\'>\'; \n\t\t}\n\t\treturn \'\';\n\t}\n\n\t//@method simpleName @param {String}name\n,\tsimpleName: function(name, prefix)\n\t{\n\t\treturn this.application.maker.simpleName(name, prefix);\n\t}\n\n\t//@method makeLink @param {boolean} htmlAnchors will output anchor elements html @param {Object|String} options\n,\tmakeLink: function(node, htmlAnchors, options)\n\t{\n\t\tif(!node)\n\t\t{\n\t\t\tdebugger;\n\t\t}\n\t\t\n\t\tvar className = node.annotation + \'-name\'; \n\t\tvar s = htmlAnchors ? (\'<a class="\' + className + \'" href="\') : \'\';\n\n\t\tvar href = \'\';\n\t\tif(_.isString(node))\n\t\t{\n\t\t\thref += \'#\' + node;\n\t\t}\n\t\telse if(node.annotation===\'method\')\n\t\t{\n\t\t\thref += \'#method/\' + node.absoluteName; \n\t\t}\n\t\telse if(node.annotation===\'constructor\')\n\t\t{\t\t\t\n\t\t\thref += \'#constructor/\' + node.absoluteName; \n\t\t}\n\t\telse if(node.annotation===\'function\')\n\t\t{\t\t\t\n\t\t\thref += \'#function/\' + node.absoluteName; \n\t\t}\n\t\telse if(node.annotation===\'property\')\n\t\t{\n\t\t\thref += \'#property/\' + node.absoluteName; \n\t\t}\n\t\telse if(node.annotation===\'event\')\n\t\t{\n\t\t\thref += \'#event/\' + node.absoluteName; \n\t\t}\n\t\telse if(node.annotation===\'class\'||node.annotation===\'interface\')\n\t\t{\n\t\t\thref += \'#class/\' + node.absoluteName; \n\t\t}\n\t\telse if(node.annotation===\'module\')\n\t\t{\n\t\t\thref += \'#module/\' + node.name; \n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn \'\';\n\t\t}\n\n\t\t//preserve current params\n\t\tvar search = location.hash.indexOf(\'?\')===-1 ? \'\' : location.hash.split(\'?\')[1];\n\t\tsearch = this.paramStringToObject(search);\n\t\tif(_.isString(options))\n\t\t{\n\t\t\toptions = this.paramStringToObject(options);\n\t\t}\n\t\t_.extend(search, options||{});\n\t\tsearch = this.paramObjectToString(search);\n\t\thref += search ? (\'?\' + search) : \'\';\n\n\t\ts += href + (htmlAnchors?(\'">\'+node.name+\'</a>\'):\'\');\n\n\t\treturn s;\n\t}\n\n,\tparamStringToObject: function(s)\n\t{\n\t\tvar a = s.split(\'&\');\n\t\tvar o = {};\n\t\t_.each(a, function(pf)\n\t\t{\n\t\t\tvar a2 = pf.split(\'=\');\n\t\t\to[a2[0]] = a2[1];\n\t\t});\n\t\treturn o;\n\t}\n\n,\tparamObjectToString: function(o)\n\t{\n\t\tvar s = [];\n\t\t_.each(o, function(val,name)\n\t\t{\n\t\t\tif(name)\n\t\t\t{\n\t\t\t\ts.push(name+\'=\'+val);\n\t\t\t}\n\t\t});\n\t\treturn s.join(\'&\');\n\t}\n\n,\tprintLiteralObjectType: function(context)\n\t{\n\t\tvar self = this;\n\t\tvar buf = []; \n\t\tcontext.buffer.push(this.printType(context.type, true));\n\t\tvar has_only_proto = _(context.type.properties).keys().length===1 && context.type.properties.prototype; \n\t\tif(has_only_proto) //dirty hack to resolve incompatibility between literal types and Object class inherited props\n\t\t{\n\t\t\treturn;\n\t\t}\n\t\tif(context.type.name===\'Object\')\n\t\t{\n\t\t\tcontext.buffer.push(\'{\')\n\t\t\t_(context.type.properties).each(function(value, key)\n\t\t\t{\n\t\t\t\tbuf.push(key + \': \' + self.printSingleTypeAsString(value, true));\t\t\t\t\n\t\t\t}); \n\t\t}\n\t\tcontext.buffer.push(buf.join(\', \'));\n\t\tif(context.type.name===\'Object\')\n\t\t{\n\t\t\tcontext.buffer.push(\'}\'); \n\t\t}\n\t}\n\t\n\t// @method printType prints a type as html support generic. This is really a html template function\n\t// @param {Object}context  @return {String} the type html\n,\tprintType: function(context, ignoreLiteralObject)\n\t{\n\t\tif(!context || !context.type)\n\t\t{\n\t\t\treturn \'\'; \n\t\t}\n\n\t\tvar self = this;\n\t\tvar href = context.type.nativeTypeUrl || this.makeLink(context.type);//\'#class/\'+context.type.absoluteName; \n\t\tvar htmlText = context.type.name; \n\t\tvar aclass = (context.type.nativeTypeUrl ? \' type external \' : \' type \');\n\t\tvar iconHtml = context.type.nativeTypeUrl ? \'<span class="glyphicon glyphicon-share"></span>\' : \'\'; \n\n\t\tcontext.buffer.push(\'<a class="\'+aclass+\'" href="\'+href+\'">\'+iconHtml+htmlText+\'</a>\');\n\n\t\tif(context.type.properties && !ignoreLiteralObject)\n\t\t{\n\t\t\tthis.printLiteralObjectType(context); \n\t\t}\n\n\t\telse if(context.type.params && context.type.annotation!==\'function\') \n\t\t{\n\t\t\tcontext.buffer.push(\'&lt;\');\n\t\t\tfor (var i = 0; i < (context.type.params||[]).length; i++) \n\t\t\t{\n\t\t\t\tvar param = context.type.params[i]; \n\t\t\t\tself.printType({ //recurse!\n\t\t\t\t\ttype:param\n\t\t\t\t,\tbuffer: context.buffer\n\t\t\t\t});\n\t\t\t\tif(i < context.type.params.length - 1)\n\t\t\t\t{\n\t\t\t\t\tcontext.buffer.push(\',\'); \n\t\t\t\t}\n\t\t\t}\n\t\t\tcontext.buffer.push(\'>\'); \n\t\t} \n\t}\n\n\t//@method printSingleTypeAsString this is the public method for printing a type - supports any type @param {String} type @return {String}  @return {String} the type html\n,\tprintSingleTypeAsString: function(type, dontRecurse)\n\t{\n\t\tvar buffer = [];\n\t\tvar context = {type: type, typeTemplate: this.printType, buffer: buffer}; \n\n\t\tthis.printType(context); \n\t\tvar typeOutput = buffer.join(\'\'); \n\t\treturn typeOutput; \n\t}\n\t\n\t//@method printTypeAsString @param {Array<Type>|Type} type @return {String} the type html\n,\tprintTypeAsString: function(type)\n\t{\n\t\tvar self = this;\n\t\tif(_(type).isArray())\n\t\t{\n\t\t\tvar a = [];\n\t\t\t_(type).each(function(t)\n\t\t\t{\n\t\t\t\ta.push(self.printSingleTypeAsString(t));\n\t\t\t}); \n\t\t\treturn a.join(\'<span class="type-separator">or</span>\'); \n\t\t}\n\t\telse\n\t\t{\n\t\t\treturn this.printSingleTypeAsString(type); \n\t\t}\n\t}\n\t//@method getTextHtml depends on lib/marked/ - all texts should be printed using this method\n,\tgetTextHtml: function(node)\n\t{\n\t\tif(!node || !node.text)\n\t\t{\n\t\t\treturn \'\';\n\t\t}\n\t\tif(node.text_html_app) //caching\n\t\t{\n\t\t\treturn node.text_html_app; \n\t\t}\n\n\t\tvar self2 = this //TODO investigate why I need self2 and self always binds to other thing than this...\n\t\t,\ttext = node.text\n\t\t,\ttype = this.application.textFormat || \'markdown\'\n\t\t,\thtml = _(node.children).find(function(c){return c.annotation===\'html\'; })\n\t\t,\tmarkdown = _(node.children).find(function(c){return c.annotation===\'markdown\'; });\n\t\t\n\t\tif(html)\n\t\t{\n\t\t\ttype = \'html\'; \n\t\t}\n\t\tif(markdown)\n\t\t{\n\t\t\ttype = \'markdown\'; \n\t\t}\n\n\t\t// perform text marks replacement.\n\t\t_(node.textMarks).each(function(mark, markId)\n\t\t{\n\t\t\tif(mark.name === \'link\')\n\t\t\t{\n\t\t\t\tif(type === \'markdown\')\n\t\t\t\t{\n\t\t\t\t\ttext = text.replace(markId, \'[\'+mark.linkLabel+\'](\'+mark.linkUrl+\')\'); \n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\t\t\t\t\t\n\t\t\t\t\ttext = text.replace(markId, \'< href="mark.linkUrl" class="text-mark-link">\'+mark.linkLabel+\'</a>\'); \n\t\t\t\t}\n\t\t\t}\n\t\t\telse if(mark.binding)\n\t\t\t{\n\t\t\t\ttext = text.replace(markId, self2.makeLink(mark.binding, true)); \n\t\t\t}\n\t\t}); \n\n\t\tif(type === \'markdown\')\n\t\t{\n\t\t\ttext = marked(text); \n\t\t}\n\n\t\tnode.text_html_app = text;\n\t\treturn text; \n\t\t\n\t}\n\n\t//@method printMethod\n,\tprintMethod: function(m)\n\t{\n\t\tvar isConstructor = m.annotation===\'constructor\'; \n\t\tvar s = \'<span class="method">\';\n\t\tvar methodName = isConstructor ? this.simpleName(m.ownerClass) : m.name;\n\t\tif(!isConstructor && m.returns)\n\t\t{\n\t\t\ts += this.printTypeAsString(m.returns) + \'&nbsp;\'; \n\t\t}\n\n\t\ts += \'<a href="\' + this.makeLink(m) + \'">\' + methodName + \'</a>\'; \n\n\t\treturn s + \'</span>\';\n\t}\n\t\n,\tgetInherited: function(c, what)\n\t{\n\t\tvar data = {};\n\t\tif(what===\'method\')\n\t\t{\n\t\t\tdata = _(c.methods).clone();\n\t\t\t_(data).extend(c.inherited.methods || {});\n\t\t}\n\t\treturn data;\n\t}\n\t\n,\tgetClassName: function(absoluteName, data)\n\t{\n\t\tdata = data || this.application.data;\n\t\tvar a = absoluteName.split(\'.\')\n\t\twhile(a)\n\t\t{\t\n\t\t\ta = _.initial(a)\n\t\t\tvar name = a.join(\'.\')\n\t\t\tif(data.classes[name])\n\t\t\t{\n\t\t\t\treturn name;\n\t\t\t}\n\t\t}\n\t\treturn absoluteName.substring(0, absoluteName.lastIndexOf(\'.\')); //probably an error\n\t}\n\n,\tgetSimpleName: function(absoluteName)\n\t{\n\t\tvar className = this.getClassName(absoluteName);\n\t\treturn absoluteName.substring(className.length + 1, absoluteName.length);\n\t}\n\n,\tgetModuleClasses: function(moduleName, data)\n\t{\n\t\tif(!data)\n\t\t{\n\t\t\tdata = this.application.data;\n\t\t}\n\t\tvar a = [];\n\t\t_(data.classes).each(function(c)\n\t\t{\n\t\t\tif(c.absoluteName.indexOf(moduleName)===0)\n\t\t\t{\n\t\t\t\ta.push(c); \n\t\t\t}\n\t\t});\n\t\treturn a;\n\t}\n\n\n\t// TODO: move the following to misc utility class \n\n\t//@method parseOptions @return {Object<String,String>}\n,\tparseOptions: function(options, propSep, valueSep)\n\t{\n\t\tpropSep = propSep || \'&\'; \n\t\tvalueSep = valueSep || \'=\'; \n\t\tif(!options)\n\t\t{\n\t\t\treturn {}; \n\t\t}\n\t\tvar params = {};\n\t\t_(options.split(propSep)).each(function(p)\n\t\t{\n\t\t\tvar a = p.split(valueSep); \n\t\t\tif (a.length >= 2)\n\t\t\t{\n\t\t\t\tparams[a[0]] = a[1]; \n\t\t\t\tif(!a[1] || a[1]===\'0\' || a[1]===\'false\')\n\t\t\t\t{\n\t\t\t\t\tparams[a[0]] = false;\n\t\t\t\t}\n\t\t\t}\n\t\t}); \n\t\treturn params;\n\t}\n\n,\tgetOptionsFromHash: function(hash)\n\t{\n\t\thash = hash || window.location.hash;\n\t\tvar options = hash.split(\'?\');\n\t\toptions = options.length<2 ? \'\' : options[1]; \n\t\treturn this.parseOptions(options);\n\t}\n\n,\tsetOptionsToHash: function(hash, newOptions)\n\t{\t\t\n\t\thash = hash || window.location.hash;\n\t\tvar options = hash.split(\'?\');\n\t\toptions = options.length<2 ? \'\' : options[1]; \n\t\toptions = this.parseOptions(options); \n\t\t_(options).extend(newOptions);\n\t\treturn hash.split(\'?\')[0] + \'?\' + this.optionsToString(options); \n\t}\n\n,\toptionsToString: function(options, propSep, valueSep)\n\t{\n\t\tpropSep = propSep || \'&\'; \n\t\tvalueSep = valueSep || \'=\'; \n\t\tvar a = []; \n\t\t_(options).each(function(value, key)\n\t\t{\n\t\t\ta.push(key + valueSep + value); \n\t\t}); \n\t\treturn a.join(propSep); \n\t}\n\n\n\n\t//public / private \n\n,\tpropertyIsPublicPredicate: function(p)\n\t{\n\t\treturn _.find(p.children, function(c)\n\t\t{\n\t\t\treturn c.annotation === \'public\';\n\t\t});\n\t}\n\n,\tisClassPublic:function(c)\n\t{\n\t\tvar isPublic = this.propertyIsPublicPredicate(c)\n\t\tisPublic = isPublic || _.find(c.methods, this.propertyIsPublicPredicate)\n\t\tisPublic = isPublic || _.find(c.properties, this.propertyIsPublicPredicate)\n\t\tisPublic = isPublic || _.find(c.events, this.propertyIsPublicPredicate)\n\t\tisPublic = isPublic || _.find(c.attributes, this.propertyIsPublicPredicate)\n\t\treturn isPublic;\n\t}\n\n,\tisModulePublic: function(m)\n\t{\n\t\tvar classes = this.getModuleClasses(m.name); \n\t\t// debugger;\n\t\treturn _.find(classes, _.bind(this.isClassPublic, this))\n\t}\n\n});\n\n//@filename {Foo} fileName ./html/template-output.js\n\nthis["shortjsdoc"] = this["shortjsdoc"] || {};\n\nthis["shortjsdoc"]["application"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape;\nwith (obj) {\n__p += \'<div class="container">\\n\\t<div data-type="header-container"></div>\\n\\t<div data-type="main-view-container" class="main-view-container"></div>\\n</div>\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["book"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n\n \nvar self = this;\nvar data = this.application.data; \ndata.projectMetadata = data.projectMetadata || {}; \n;\n__p += \'\\n\\n\\n<div class="pull-right">&nbsp;&nbsp;<a href="\' +\n((__t = ( this.makeLink(\'book\', false, {private: this.options.private ? 0 : 1}) )) == null ? \'\' : __t) +\n\'">\\n\' +\n((__t = ( this.options.private ? \'Show\' : \'Hide\' )) == null ? \'\' : __t) +\n\' private classes</a></div> \\n\\n\\n<h1>\' +\n((__t = ( data.projectMetadata.name + \' API Reference\')) == null ? \'\' : __t) +\n\'</h2>\\n<p><strong>\' +\n((__t = ( \'Version \' + data.projectMetadata.version )) == null ? \'\' : __t) +\n\'</strong></p>\\n<p>\' +\n((__t = ( data.projectMetadata.description )) == null ? \'\' : __t) +\n\'</p>\\n\\n\\n\' +\n((__t = ( data.projectMetadata.name && this.application.templates[\'project-metadata\'].apply(this, arguments) )) == null ? \'\' : __t) +\n\'\\n\\n\\n<h1>Index</h1>\\n\\n<ul class="index-modules">\\n\';\n _.each(self.modules, function(module) { ;\n__p += \'\\n\\n\\t<li><a href="#module-\' +\n((__t = ( module.name)) == null ? \'\' : __t) +\n\'">Module \' +\n((__t = ( module.name)) == null ? \'\' : __t) +\n\'</a>\\n\\t\\t<ul class="index-modules-classes">\\n\\t\\t\\t\';\n var moduleClasses = self.getModuleClasses(module.name, self.application.data); \n\t\t\t_(moduleClasses).each(function(c) { ;\n__p += \'\\n\\t\\t\\t\\t<li><a class=\\\'class-name\\\' href="#class-\' +\n((__t = ( c.absoluteName)) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( c.annotation)) == null ? \'\' : __t) +\n\' \' +\n((__t = ( c.name )) == null ? \'\' : __t) +\n\'</a></li>\\n\\t\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\t</li>\\n\';\n });\n__p += \'\\n\\n</ul>\\n\\n\\n\\n\';\n _.each(self.modules, function(module) { ;\n__p += \'\\n<br/><br/><br/>\\n<div class="book-module">\\n\\t<h1 id="module-\' +\n((__t = ( module.name )) == null ? \'\' : __t) +\n\'">Module \' +\n((__t = ( module.name)) == null ? \'\' : __t) +\n\'</h1>\\n\\t<p>\' +\n((__t = ( self.getTextHtml(module) )) == null ? \'\' : __t) +\n\' </p>\\n\\n\\t\';\n var moduleClasses = self.getModuleClasses(module.name, self.application.data); \n\t_(moduleClasses).each(function(c) { ;\n__p += \'\\n\\t\\t<br/><br/>\\n\\t\\t<div class="book-class" id="class-\' +\n((__t = ( c.absoluteName )) == null ? \'\' : __t) +\n\'" data-class="\' +\n((__t = ( c.absoluteName)) == null ? \'\' : __t) +\n\'"></div>\\n\\t\';\n }); ;\n__p += \'\\n</div>\\n\';\n });\n__p += \'\\n\\n\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["class"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n\n \nvar self = this; \n;\n__p += \'\\n\\n<div class="row class-header">\\n\\t<div class="col-md-4">\\n\\t\\t<h2 class="class-title">\' +\n((__t = ( this.isInterface?\'Interface\':\'Class\')) == null ? \'\' : __t) +\n\' \' +\n((__t = ( this.makeLink(this.jsdoc, true) )) == null ? \'\' : __t) +\n\'</h2>\\n\\t</div>\\n\\t<div class="col-md-4">\\t\\t\\n\\t\\t\';\n if (this.jsdoc.extends && this.jsdoc.absoluteName != this.jsdoc.extends.absoluteName && !(this.isInterface && this.jsdoc.extends.name===\'Object\')) { ;\n__p += \'\\n\\t\\t<h3 class="class-extends-title">Extends \' +\n((__t = ( this.printTypeAsString(this.jsdoc.extends))) == null ? \'\' : __t) +\n\'</h3>\\n\\t\\t\';\n } ;\n__p += \'\\n\\t</div>\\n\\t<div class="col-md-4">\\n\\t\\t<h3 class="class-module-title">Module \' +\n((__t = ( this.makeLink(this.jsdoc.module, true) )) == null ? \'\' : __t) +\n\'</h3>\\n\\t</div>\\n</div>\\n\\n\\n\';\n if(!self.options.dontShowOptions) { ;\n__p += \'\\n<div class="pull-right">&nbsp;&nbsp;<a href="\' +\n((__t = ( this.makeLink(this.jsdoc, false, {private: this.options.private ? 0 : 1}) )) == null ? \'\' : __t) +\n\'">\\n\' +\n((__t = ( this.options.private ? \'Show\' : \'Hide\' )) == null ? \'\' : __t) +\n\' private properties</a></div> \\n\\n<div class="pull-right">&nbsp;&nbsp;<a href="\' +\n((__t = ( this.makeLink(this.jsdoc, false, {inherited: this.options.inherited ? 0 : 1}) )) == null ? \'\' : __t) +\n\'">\\n\' +\n((__t = ( this.options.inherited ? \'Hide\' : \'Show\' )) == null ? \'\' : __t) +\n\' inherited properties</a></div>\\n\\n<div class="pull-right">&nbsp;&nbsp;<a href="\' +\n((__t = ( this.makeLink(this.jsdoc, false, {text: this.options.text ? 0 : 1}) )) == null ? \'\' : __t) +\n\'">\\n\' +\n((__t = ( this.options.text ? \'Hide\' : \'Show\' )) == null ? \'\' : __t) +\n\' partial text</a></div>\\n\';\n } /* if(!self.options.dontShowOptions) */;\n__p += \'\\n\\n\\n\';\n if(this.jsdoc.implements&&this.jsdoc.implements.length) { ;\n__p += \'\\n<div class="row"><br/>\\n<div class="col-md-12">Implements: <ul>\\n\';\n _.each(this.jsdoc.implements, function(interface){;\n__p += \'\\n\\t<li>\' +\n((__t = ( self.makeLink(interface, true, {text: self.options.text ? 0 : 1}) )) == null ? \'\' : __t) +\n\'</li>\\n\';\n });;\n__p += \'\\n</ul>\\n</div>\\n</div>\\n\';\n };\n__p += \'\\n\\n\\n<div class="row">\\n\\n\\n\';\n if(!self.options.dontShowSidebar) {;\n__p += \'\\n\\t<div class="col-md-5">\\n\\n\\n\\n\\t\\t\';\n if(this.jsdoc.constructors && this.jsdoc.constructors.length) { ;\n__p += \'\\n\\t\\t<h3 class=\\\'methods\\\'>Constructors</h3>\\n\\t\\t<ul>\\n\\t\\t\';\n\n\t\t_(this.jsdoc.constructors).each(function(method) { ;\n__p += \'\\n\\t\\t\' +\n((__t = ( self.printMethod(method) )) == null ? \'\' : __t) +\n\'\\n\\t\\t\\t<li class="constructor">\\n\\t\\t\\t\\t\';\n if(method.params && method.params.length) { ;\n__p += \'\\n\\t\\t\\t\\tParameters:\\n\\t\\t\\t\\t<ol class="params">\\n\\t\\t\\t\\t\\t\';\n _(method.params).each(function(param){ ;\n__p += \'\\n\\t\\t\\t\\t\\t<li class="param">\\n\\t\\t\\t\\t\\t\\t<span class="param-name">\' +\n((__t = ( param.name )) == null ? \'\' : __t) +\n\'</span>\\n\\t\\t\\t\\t\\t\\t<span class="param-type">\' +\n((__t = ( self.printTypeAsString(param.type) )) == null ? \'\' : __t) +\n\'</span> \\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t\\t\\t</ol>\\n\\t\\t\\t\\t\';\n } ;\n__p += \'\\n\\t\\t\\t</li>\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\n\\n\\n\\t\\t\';\n if(this.properties && _(this.properties).keys().length) { ;\n__p += \'\\n\\t\\t<h3 class=\\\'properties\\\'>Properties</h3>\\n\\t\\t<ul>\\n\\t\\t\';\n \n\t\tvar self = this; \n\t\t_(this.properties).each(function(p) { \n\t\t\tvar inherited = !JsDocMaker.classOwnsProperty(self.jsdoc, p); \n\t\t\t//TODO: perform this in the view or plugin\n\t\t\t\n\t\t\tvar inheritedByName = p.absoluteName.substring(0, p.absoluteName.lastIndexOf(\'.\'));\n\t\t\tvar inheritedBy = self.application.data.classes[inheritedByName] || {};\n\t\t\t\n\t\t\t;\n__p += \'\\n\\t\\t\\t<li class="property \' +\n((__t = ( inherited ? \'inherited\' : \'\' )) == null ? \'\' : __t) +\n\'">\\n\\t\\t\\t\\t<a class=\\\'property-name\\\' href="#property/\' +\n((__t = ( p.absoluteName )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( p.name )) == null ? \'\' : __t) +\n\'</a>\\n\\t\\t\\t\\t<span class="property-type">\' +\n((__t = ( self.printTypeAsString(p.type) )) == null ? \'\' : __t) +\n\'</span> \\n\\t\\t\\t\\t\' +\n((__t = ( !inherited ? \'\' : (\'(inherited by \' + self.printTypeAsString(inheritedBy) + \')\') )) == null ? \'\' : __t) +\n\'\\n\\t\\t\\t\\t\';\n if (self.options.text) {;\n__p += \' <span class="partial-text">\' +\n((__t = ( self.makePartialText(p))) == null ? \'\' : __t) +\n\'</span>\';\n };\n__p += \'\\n\\t\\t\\t</li>\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\n\\t\\t\';\n if(this.attributes && _(this.attributes).keys().length) { ;\n__p += \'\\n\\t\\t<h3 class=\\\'attributes\\\'>attributes</h3>\\n\\t\\t<ul>\\n\\t\\t\';\n \n\t\tvar self = this; \n\t\t_(this.attributes).each(function(p) { \n\t\t\tvar inherited = !JsDocMaker.classOwnsProperty(self.jsdoc, p); \n\t\t\t//TODO: perform this in the view or plugin\n\t\t\t\n\t\t\tvar inheritedByName = p.absoluteName.substring(0, p.absoluteName.lastIndexOf(\'.\'));\n\t\t\tvar inheritedBy = self.application.data.classes[inheritedByName] || {};\n\t\t\t\n\t\t\t;\n__p += \'\\n\\t\\t\\t<li class="attribute \' +\n((__t = ( inherited ? \'inherited\' : \'\' )) == null ? \'\' : __t) +\n\'">\\n\\t\\t\\t\\t<a class=\\\'attribute-name\\\' href="#attribute/\' +\n((__t = ( p.absoluteName )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( p.name )) == null ? \'\' : __t) +\n\'</a>\\n\\t\\t\\t\\t<span class="attribute-type">\' +\n((__t = ( self.printTypeAsString(p.type) )) == null ? \'\' : __t) +\n\'</span> \\n\\t\\t\\t\\t\' +\n((__t = ( !inherited ? \'\' : (\'(inherited by \' + self.printTypeAsString(inheritedBy) + \')\') )) == null ? \'\' : __t) +\n\'\\n\\t\\t\\t\\t\';\n if (self.options.text) {;\n__p += \' <span class="partial-text">\' +\n((__t = ( self.makePartialText(p))) == null ? \'\' : __t) +\n\'</span>\';\n };\n__p += \'\\n\\t\\t\\t</li>\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\t\\t\';\n if(this.events_ && _(this.events_).keys().length) {;\n__p += \'\\n\\t\\t<h3 class=\\\'events\\\'>Events</h3>\\n\\t\\t<ul>\\n\\t\\t\';\n \n\t\tvar self = this; \n\t\t_(this.events_).each(function(p) { \n\t\t\tvar inherited = !JsDocMaker.classOwnsProperty(self.jsdoc, p); \n\t\t\t//TODO: perform this in the view or plugin\n\t\t\t\n\t\t\tvar inheritedByName = p.absoluteName.substring(0, p.absoluteName.lastIndexOf(\'.\'));\n\t\t\tvar inheritedBy = self.application.data.classes[inheritedByName] || {};\n\t\t\t\n\t\t\t;\n__p += \'\\n\\t\\t\\t<li class="event \' +\n((__t = ( inherited ? \'inherited\' : \'\' )) == null ? \'\' : __t) +\n\'">\\n\\t\\t\\t\\t<a class=\\\'event-name\\\' href="#event/\' +\n((__t = ( p.absoluteName )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( p.name )) == null ? \'\' : __t) +\n\'</a>\\n\\t\\t\\t\\t<span class="event-type">\' +\n((__t = ( self.printTypeAsString(p.type) )) == null ? \'\' : __t) +\n\'</span> \\n\\t\\t\\t\\t\' +\n((__t = ( !inherited ? \'\' : (\'(inherited by \' + self.printTypeAsString(inheritedBy) + \')\') )) == null ? \'\' : __t) +\n\'\\n\\t\\t\\t\\t\';\n if (self.options.text) {;\n__p += \' <span class="partial-text">\' +\n((__t = ( self.makePartialText(p))) == null ? \'\' : __t) +\n\'</span>\';\n };\n__p += \'\\n\\t\\t\\t</li>\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\n\\n\\n\\t\\t\';\n if(this.methods && _(this.methods).keys().length) { ;\n__p += \'\\n\\t\\t<h3 class=\\\'methods\\\'>Methods</h3>\\n\\t\\t<ul>\\n\\t\\t\';\n\n\t\t_(this.methods).each(function(method) { \n\t\t\tvar inherited = !JsDocMaker.classOwnsProperty(self.jsdoc, method); \t\t\t\n\t\t\tvar inheritedByName = method.absoluteName.substring(0, method.absoluteName.lastIndexOf(\'.\'));\n\t\t\tvar inheritedBy = self.application.data.classes[inheritedByName] || {};\n\t\t;\n__p += \'\\n\\n\\t\\t\\t<li class="method \' +\n((__t = ( inherited ? \'inherited\' : \'\' )) == null ? \'\' : __t) +\n\'">\\n\\n\\t\\t\\t\\t\x3c!-- method name --\x3e\\n\\t\\t\\t\\t<span class="method-name">\' +\n((__t = ( self.makeLink(method, true))) == null ? \'\' : __t) +\n\'</span>\\n\\n\\n\\t\\t\\t\\t\x3c!-- method params  --\x3e\\n\\t\\t\\t\\t<span class="method-param-decorator">(</span>\\n\\t\\t\\t\\t\';\n if(method.params && method.params.length) { ;\n__p += \'\\n\\t\\t\\t\\t<ol class="params">\\n\\t\\t\\t\\t\\t\';\n \n\t\t\t\t\tfor(var paramIndex = 0; paramIndex < method.params.length; paramIndex++) {\n\t\t\t\t\t\tvar param = method.params[paramIndex];\n\t\t\t\t\t;\n__p += \'\\n\\t\\t\\t\\t\\t<li class="param">\\n\\t\\t\\t\\t\\t\\t<span class="param-type">\' +\n((__t = ( self.printTypeAsString(param.type) )) == null ? \'\' : __t) +\n\'</span> \\n\\t\\t\\t\\t\\t\\t<span class="param-name">\' +\n((__t = ( param.name )) == null ? \'\' : __t) +\n\'</span>\\n\\t\\t\\t\\t\\t\\t\';\n if(paramIndex < method.params.length-1) { ;\n__p += \'\\n\\t\\t\\t\\t\\t\\t<span class="method-param-decorator">,</span>\\n\\t\\t\\t\\t\\t\\t\';\n } ;\n__p += \'\\n\\t\\t\\t\\t\\t</li>\\n\\t\\t\\t\\t\\t\';\n } ;\n__p += \'\\n\\t\\t\\t\\t</ol>\\n\\t\\t\\t\\t\';\n } ;\n__p += \'\\n\\t\\t\\t\\t<span class="method-param-decorator">)&nbsp;:&nbsp;</span>\\n\\n\\n\\t\\t\\t\\t\x3c!-- method return type --\x3e\\n\\t\\t\\t\\t\';\n if(method.returns && (method.returns.type || method.returns.text)) {;\n__p += \'\\n\\t\\t\\t\\t<span class="method-return">\' +\n((__t = ( self.printTypeAsString(method.returns.type) )) == null ? \'\' : __t) +\n\'</span>\\n\\t\\t\\t\\t\x3c!-- <span class="returns-text">\' +\n((__t = ( method.returns.text || \'\')) == null ? \'\' : __t) +\n\'</span> --\x3e\\n\\t\\t\\t\\t\';\n } else {;\n__p += \'\\n\\t\\t\\t\\tvoid\\n\\t\\t\\t\\t\';\n } ;\n__p += \'\\n\\n\\n\\t\\t\\t\\t\x3c!-- method inherited by  --\x3e\\n\\t\\t\\t\\t\' +\n((__t = ( !inherited ? \'\' : (\'(inherited by \' + self.printTypeAsString(inheritedBy) + \')\') )) == null ? \'\' : __t) +\n\'\\n\\n\\t\\t\\t\\t\\n\\n\\t\\t\\t\\t\x3c!-- TODO: do throw here ?  --\x3e\\n\\t\\t\\t\\t\\n\\t\\t\\t\\t\x3c!-- method description --\x3e\\n\\t\\t\\t\\t\';\n if (self.options.text) {;\n__p += \' <span class="partial-text">\' +\n((__t = ( self.makePartialText(method))) == null ? \'\' : __t) +\n\'</span>\';\n };\n__p += \'\\n\\t\\t\\t</li>\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\n\\n\\n\\n\\t</div>\\n\\n\\n\';\n } /*if(!self.options.dontShowSidebar)*/ ;\n__p += \'\\n\\n\\n\\t<div class="\' +\n((__t = ( self.options.dontShowSidebar ? \'col-md-12\' : \'col-md-7\' )) == null ? \'\' : __t) +\n\'">\\n\\n\\t\\t\';\n if(this.hierarchy && this.hierarchy.length>2) {;\n__p += \'\\n\\t\\t<div class="class-hierarchy">\\n\\t\\t<h3>Class Hierarchy</h3>\\n\\t\\t<ul>\\n\\t\\t\';\n _(_(this.hierarchy).reverse()).each(function(c){ ;\n__p += \'\\n\\t\\t\\t<li>&gt;&nbsp;<a href="\' +\n((__t = ( self.makeLink(c))) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( c.name )) == null ? \'\' : __t) +\n\'</a></li>\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t\';\n};\n__p += \'\\n\\n\\t\\t\';\n if(this.knownSubclasses && this.knownSubclasses.length) {;\n__p += \'\\n\\t\\t<div class="known-subclasses">\\n\\t\\t<h3>Known \' +\n((__t = ( self.isInterface ? \'sub-interfaces\' : \'sub-classes\')) == null ? \'\' : __t) +\n\'</h3>\\n\\t\\t<ul class="known-subclasses-list">\\t\\n\\t\\t\';\n _(this.knownSubclasses).each(function(c){ ;\n__p += \'\\n\\t\\t\\t<li>\' +\n((__t = ( self.makeLink(c, true))) == null ? \'\' : __t) +\n\'</li>\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\t\\t</div>\\n\\t\\t\';\n};\n__p += \'\\n\\n\\n\\t\\t\';\n if(!self.options.dontShowOptions) { ;\n__p += \'\\n\\t\\t<p><a href="#search?keywords=\' +\n((__t = ( this.jsdoc.absoluteName)) == null ? \'\' : __t) +\n\'&propsReferencingType=1">Search Class Usage</a></p>\\n\\t\\t\';\n } ;\n__p += \' \\n\\t\\t\\n\\t\\t\';\n var summary_text = this.jsdoc.textHtml || self.getTextHtml(this.jsdoc.text) || this.jsdoc.text || \'\'; ;\n__p += \'\\n\\n\\n\\n\\n\\t\\t\';\n if(summary_text) {;\n__p += \'\\n\\t\\t<h3>Summary</h3>\\n\\t\\t\\n\\t\\t<div class="class-text">\\n\\t\\t\' +\n((__t = ( summary_text )) == null ? \'\' : __t) +\n\'\\n\\t\\t</div>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\n\\n\\t\\t\';\n if(this.inlineProperties) {;\n__p += \'\\n\\t\\t<div class="inline-class-properties">\\n\\n\\t\\t\';\n if(_(this.properties).keys().length) { ;\n__p += \'\\n\\t\\t<h3>Properties</h3>\\n\\t\\t<div data-type="inline-properties" class="inline-properties"></div>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\t\\t\';\n if(_(this.attributes).keys().length) { ;\n__p += \'\\n\\t\\t<h3>Attributes</h3>\\n\\t\\t<div data-type="inline-attributes" class="inline-attributes"></div>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\t\\t\';\n if(_(this.events_).keys().length) { ;\n__p += \'\\n\\t\\t<h3>Events</h3>\\n\\t\\t<div data-type="inline-events" class="inline-events"></div>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\t\\t\';\n if(_(this.methods).keys().length) { ;\n__p += \'\\n\\t\\t<h3>Methods</h3>\\n\\t\\t<div data-type="inline-methods" class="inline-methods"></div>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\t\\t</div>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\n\\n\\t\\t\';\n if(!self.options.dontShowSources) {;\n__p += \'\\n\\t\\t<button class="btn btn-info" data-type="sources-collapse">Show/Hide Sources</button>\\n\\t\\t<div data-type="sources" id="class-sources"></div>\\n\\t\\t\';\n};\n__p += \'\\n\\n\\t</div>\\n</div>\\n\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["classes"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n__p += \'<h3><a href="#classes">Classes and interfaces</a></h3>\\n\\n<ul class="classes-list">\\n\';\n \n\t_(this.classes).each(function(c) { ;\n__p += \'\\n\\t<li><a href="#class/\' +\n((__t = ( c.absoluteName )) == null ? \'\' : __t) +\n\'" class="\' +\n((__t = ( c.annotation )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( c.name )) == null ? \'\' : __t) +\n\'</a></li>\\n\';\n }); ;\n__p += \'\\n</ul>\\n\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["dependencies"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape;\nwith (obj) {\n__p += \'<p><input data-type="includeNativeClasses" type="checkbox" \' +\n((__t = ( this.options.includeNativeClasses ? \'checked\' : \'\')) == null ? \'\' : __t) +\n\'></input>\\n\\t\' +\n((__t = ( this.options.includeNativeClasses ? \'Include\' : \'Don\\\'t include\' )) == null ? \'\' : __t) +\n\' native classes</a></p>\\n\\n<p><input data-type="includeExtends" type="checkbox" \' +\n((__t = ( this.options.includeExtends ? \'checked\' : \'\')) == null ? \'\' : __t) +\n\'></input>\\n\\t\' +\n((__t = ( this.options.includeExtends ? \'Include\' : \'Don\\\'t include\' )) == null ? \'\' : __t) +\n\' inheritance</a></p>\\n\\n<p>The following is a graph showing dependencies between classes. A class A depends on a class B if any A property or method references the type B or contains an explicit dependency declaration to B using \\\'@depends class B\\\' : </p>\\n\\n<div class="loading-message">Calculating, please stand by...</div>\\n\\n<div data-type="dependency-graph"></div>\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["file"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape;\nwith (obj) {\n__p += \'<h2>File \' +\n((__t = ( this.jsdoc.fileName)) == null ? \'\' : __t) +\n\'</h2>\\n<button data-action="donwload">Download</button>\\n<pre class="prettyprint linenums">\\n\' +\n((__t = ( this.fileContent )) == null ? \'\' : __t) +\n\'\\n</pre>\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["header"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n\n var metadata = this.application.data.projectMetadata; ;\n__p += \'\\n<header class="main-header">\\n<div class="row">\\n\\n\\n\x3c!-- <span class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> --\x3e\\n<span class="col-sm-5 col-xs-12">\\n\\t<span class="dropdown">\\n\\t\\t<button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">\\n\\t\\t\' +\n((__t = ( (metadata && metadata.name) ||  \'short-jsdoc demo\' )) == null ? \'\' : __t) +\n\'\\n\\t\\t<span class="caret"></span>\\n\\t\\t</button>\\n\\t\\t<ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">\\n\\t\\t\\t\\n\\t\\t\\t<li role="presentation"><a role="menuitem" href="#index">Index</a></li>\\n\\n\\t\\t\\t<li role="presentation"><a role="menuitem" href="#book">Book view (for printing it all)</a></li>\\n\\n\\t\\t\\t<li role="presentation"><a role="menuitem" href="#tree">Full Abstract Syntax Tree</a></li>\\t\\n\\n\\t\\t\\t<li role="presentation"><a role="menuitem" href="#hierarchyTree">Class Hierarchy Tree</a></li>\\t\\n\\n\\t\\t\\t<li role="presentation"><a role="menuitem" href="#search?keywords=Array&propsReferencingType=1">Search type references</a></li>\\n\\n\\t\\t\\t<li role="presentation"><a role="menuitem" href="#dependencies">Class Dependencies Graph</a></li>\\t\\n\\n\\t\\t\\t<li role="presentation"><a role="menuitem" href="#parse">Parse your code !</a></li>\\n\\n\\t\\t\\t<li role="presentation" class="divider"></li>\\n\\n\\t\\t\\t<li role="presentation"><a role="menuitem" href="https://github.com/cancerberoSgx/short-jsdoc">short-jsdoc home page</a></li>\\n\\t\\t\\t<li role="presentation"><a role="menuitem" href="../test/SpecRunner.html">Run short-jsdoc Specs</a></li>\\n\\n\\t\\t</ul>.\\n\\t\\t\\n\\t</span>\\t\\t\\n</span>\\n\\n\x3c!-- <span class="col-lg-12 col-md-12 col-sm-12 col-xs-12"> --\x3e\\n<span class="col-sm-7 col-xs-12">\\n\\t<span class="main-search pull-right">\\n\\t<a role="menuitem" href="#index">Index</a>\\n\\t\\tSearch <input class="typeahead1">\\n\\t</span>\\t\\t\\n</span>\\n\\n\\n</div>\\n</header>\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["hierarchytree"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n\n var data = this.application.data; ;\n__p += \'\\n\\n\' +\n((__t = ( data.projectMetadata && this.application.templates[\'project-metadata\'].apply(this, arguments) )) == null ? \'\' : __t) +\n\'\\n\\n<h2>Class Hierarchy Tree</h2>\\n\\n<button data-action="expand-all">Expand all</button>\\n\\n<button data-action="collapse-all">Collapse all</button>\\n\\n<div class="the-tree"></div>\\n\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["index"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n\n var data = this.application.data; ;\n__p += \'\\n\\n\' +\n((__t = ( data.projectMetadata && this.application.templates[\'project-metadata\'].apply(this, arguments) )) == null ? \'\' : __t) +\n\'\\n\\n<div class="pull-right">&nbsp;&nbsp;<a href="\' +\n((__t = ( this.makeLink(\'index\', false, {private: this.options.private ? 0 : 1}) )) == null ? \'\' : __t) +\n\'">\\n\' +\n((__t = ( this.options.private ? \'Show\' : \'Hide\' )) == null ? \'\' : __t) +\n\' private classes</a></div> \\n\\n<p>Take a look at the <a href="#tree">Full Abstract Syntax Tree (AST) View</a></p>\\n<p>Or to the <a href="#hierarchyTree">Full Class Hierarchy tree</a></p>\\n\\n\' +\n((__t = ( this.application.templates[\'modules\'].apply(this, arguments) )) == null ? \'\' : __t) +\n\'\\n\\n\' +\n((__t = ( this.application.templates[\'classes\'].apply(this, arguments) )) == null ? \'\' : __t) +\n\'\\n\\n\\n\\n\\n\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["method"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n\n var self = this;;\n__p += \'\\n\\n\\n\\n<div class="row method-header">\\n\\t<div class="\' +\n((__t = ( this.asChildView ? \'col-md-12\' : \'col-md-4\')) == null ? \'\' : __t) +\n\'">\\n\\t\\t<div class="method-title">\\n\\t\\t\\t\';\n if(this.isConstructor){ ;\n__p += \'\\n\\t\\t\\t<h3>Constructor</h3>\\n\\t\\t\\t\';\n } else if(!this.isFunction) { ;\n__p += \'\\n\\t\\t\\t<h3>Method&nbsp;<a href="\' +\n((__t = ( this.makeLink(this.jsdoc) )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( this.jsdoc.name)) == null ? \'\' : __t) +\n\'</a></h3>\\n\\t\\t\\t\';\n } else { ;\n__p += \'\\n\\t\\t\\t<h3>Function&nbsp;<a href="\' +\n((__t = ( this.makeLink(this.jsdoc) )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( this.jsdoc.name)) == null ? \'\' : __t) +\n\'</a></h3>\\n\\t\\t\\t\';\n };\n__p += \'\\n\\t\\t</div>\\n\\n\\t\\t\';\n if (this.jsdoc.text) { ;\n__p += \'\\n\\t\\t<div class="method-text">\\n\\t\\t\\t\' +\n((__t = ( this.jsdoc.textHtml )) == null ? \'\' : __t) +\n\'\\n\\t\\t</div>\\n\\t\\t\';\n } ;\n__p += \'\\n\\t</div>\\n\\t\';\n if(!this.asChildView) {;\n__p += \'\\n\\t<div class="col-md-4">\\n\\t\\t\';\n if(!this.isFunction){;\n__p += \'\\n\\t\\t<h3>Of class <a href="#class/\' +\n((__t = ( this.jsdoc.ownerClass )) == null ? \'\' : __t) +\n\'">\\n\\t\\t\\t\' +\n((__t = ( this.simpleName(this.jsdoc.ownerClass, this.ownerModule) )) == null ? \'\' : __t) +\n\'</a>\\n\\t\\t</h3>\\n\\t\\t\';\n } ;\n__p += \'\\n\\t</div>\\n\\n\\t<div class="col-md-4">\\n\\t\\t<h3 class="class-module-title">Of Module \' +\n((__t = ( this.makeLink(this.ownerClass ? this.ownerClass.module : this.ownerModule, true) )) == null ? \'\' : __t) +\n\'</h3>\\n\\t</div>\\n\\t\';\n };\n__p += \'\\n</div>\\n\\n\\n\\n\\n\\n\\n\\n<div class="row">\\n\\t<div class="\' +\n((__t = ( this.asChildView ? \'col-md-12\' : \'col-md-4\' )) == null ? \'\' : __t) +\n\'">\\n\\n\\t\\t\';\n if( this.jsdoc.params.length ) { ;\n__p += \'\\n\\t\\t<h3>Parameters</h3>\\n\\t\\t\';\n } ;\n__p += \'\\n\\n\\t\\t<ul class="parameter-list">\\n\\t\\t\';\n _(this.jsdoc.params).each(function(param) { ;\n__p += \'\\n\\t\\t\\t<li>\\n\\t\\t\\t\\t\' +\n((__t = ( param.name)) == null ? \'\' : __t) +\n\': \' +\n((__t = ( self.printTypeAsString(param.type) )) == null ? \'\' : __t) +\n\'\\n\\t\\t\\t\\t<span class="param-text">\' +\n((__t = ( self.getTextHtml(param) )) == null ? \'\' : __t) +\n\'</span>\\n\\t\\t\\t</li>\\n\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\n\\n\\n\\t\\t\';\n if(!this.isConstructor) { ;\n__p += \'\\n\\t\\t\\t\';\nif (this.jsdoc.returns && (this.jsdoc.returns.type || this.jsdoc.returns.text) ) { ;\n__p += \'\\n\\t\\t\\t\\t<h3 class="returns-title">Returns</h3>\\n\\t\\t\\t\\t\' +\n((__t = ( self.printTypeAsString(this.jsdoc.returns.type) )) == null ? \'\' : __t) +\n\'\\n\\n\\t\\t\\t\\t\';\n if(this.jsdoc.returns.text){ ;\n__p += \'\\n\\t\\t\\t\\t\\t<span class="returns-text">\' +\n((__t = ( self.getTextHtml(this.jsdoc.returns) )) == null ? \'\' : __t) +\n\'</span>\\n\\t\\t\\t\\t\';\n } ;\n__p += \'\\n\\n\\t\\t\\t\';\n };\n__p += \'\\n\\t\\t\';\n };\n__p += \'\\n\\n\\n\\n\\n\\t\\t\';\n if(this.jsdoc.throws && this.jsdoc.throws.length) { ;\n__p += \'\\n\\n\\t\\t<h3>Throws</h3>\\n\\n\\t\\t<ul class="throws-list">\\n\\t\\t\';\n _(this.jsdoc.throws).each(function(t) { ;\n__p += \'\\n\\t\\t\\t<li>\\n\\t\\t\\t\\t\' +\n((__t = ( self.printTypeAsString(t.type) )) == null ? \'\' : __t) +\n\'\\n\\t\\t\\t\\t<span class="param-text">\' +\n((__t = ( self.getTextHtml(t) )) == null ? \'\' : __t) +\n\'</span>\\n\\t\\t\\t</li>\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\n\\t\\t\';\n } ;\n__p += \'\\n\\t</div>\\n\\n\\n\\n\\t\\n\\t<div class="\' +\n((__t = ( this.asChildView ? \'col-md-12\' : \'col-md-8\' )) == null ? \'\' : __t) +\n\'">\\n\\t\\t\\n\\t\\t\\n\\t\';\n if(!this.asChildView) {;\n__p += \'<div data-type="sources"></div>\';\n };\n__p += \'\\n\\t</div>\\n\\t\\n</div>\\n\\n\\n\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["module"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n\n \nvar self = this;\n;\n__p += \'\\n\\n<h2 class="module-title">Module \' +\n((__t = ( this.jsdoc.name)) == null ? \'\' : __t) +\n\'</h2>\\n\\n<div class="pull-right">&nbsp;&nbsp;<a href="\' +\n((__t = ( this.makeLink(this.jsdoc, false, {private: this.options.private ? 0 : 1}) )) == null ? \'\' : __t) +\n\'">\\n\' +\n((__t = ( this.options.private ? \'Show\' : \'Hide\' )) == null ? \'\' : __t) +\n\' private classes</a></div> \\n\\n\';\n if (this.jsdoc.text) { ;\n__p += \'\\n<div class="method-text">\\n\\t\' +\n((__t = ( this.jsdoc.textHtml )) == null ? \'\' : __t) +\n\'\\n</div>\\n\';\n };\n__p += \'\\n\\n<h3>Classes</h3>\\n\\n<ul class="classes">\\n\';\n _(this.classes).each(function(c) { ;\n__p += \'\\n\\t<li>\\n\\t\\t<a class="module-class-name"href="#class/\' +\n((__t = ( c.absoluteName )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( c.name )) == null ? \'\' : __t) +\n\'</a>\\t\\t\\n\\n\\t\\t<ul class="module-class-properties-list">\\n\\t\\t\';\n _(c.methods).each(function(m){ ;\n__p += \'\\n\\t\\t\\t<li><a href="\' +\n((__t = ( self.makeLink(m))) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( m.name)) == null ? \'\' : __t) +\n\'(), </a>\\n\\t\\t\';\n}) ;\n__p += \'\\n\\t\\t\';\n _(c.properties).each(function(m){ ;\n__p += \'\\n\\t\\t\\t<li><a href="\' +\n((__t = ( self.makeLink(m))) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( m.name)) == null ? \'\' : __t) +\n\', </a>\\n\\t\\t\';\n}) ;\n__p += \'\\n\\t\\t</ul>\\n\\t\\t\';\n _(c.attributes).each(function(m){ ;\n__p += \'\\n\\t\\t\\t<li><a href="\' +\n((__t = ( self.makeLink(m))) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( m.name)) == null ? \'\' : __t) +\n\', </a>\\n\\t\\t\';\n}) ;\n__p += \'\\n\\t\\t</ul>\\n\\t</li>\\n\';\n }); ;\n__p += \'\\n</ul>\\n\\n<h3>Interfaces</h3>\\n\\n<ul class="interfaces">\\n\';\n _(this.interfaces).each(function(c) { ;\n__p += \'\\n\\t<li>\\n\\t\\t<a class="module-class-name"href="#class/\' +\n((__t = ( c.absoluteName )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( c.name )) == null ? \'\' : __t) +\n\'</a>\\t\\t\\n\\n\\t\\t<ul class="module-class-properties-list">\\n\\t\\t\';\n _(c.methods).each(function(m){ ;\n__p += \'\\n\\t\\t\\t<li><a href="\' +\n((__t = ( self.makeLink(m))) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( m.name)) == null ? \'\' : __t) +\n\'(), </a>\\n\\t\\t\';\n}) ;\n__p += \'\\n\\t\\t\';\n _(c.properties).each(function(m){ ;\n__p += \'\\n\\t\\t\\t<li><a href="\' +\n((__t = ( self.makeLink(m))) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( m.name)) == null ? \'\' : __t) +\n\', </a>\\n\\t\\t\';\n}) ;\n__p += \'\\n\\t\\t</ul>\\n\\t\\t\';\n _(c.attributes).each(function(m){ ;\n__p += \'\\n\\t\\t\\t<li><a href="\' +\n((__t = ( self.makeLink(m))) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( m.name)) == null ? \'\' : __t) +\n\', </a>\\n\\t\\t\';\n}) ;\n__p += \'\\n\\t\\t</ul>\\n\\t</li>\\n\';\n }); ;\n__p += \'\\n</ul>\\n\\n<h3>Functions</h3>\\n<ul class="Functions">\\n\';\n _(this.jsdoc.functions).each(function(c) { ;\n__p += \'\\n\\t<li>\\n\\t\\t<a class="module-function-name"href="#function/\' +\n((__t = ( c.absoluteName )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( c.name )) == null ? \'\' : __t) +\n\'</a>\\t\\t\\n\\n\\t</li>\\n\';\n }); ;\n__p += \'\\n</ul>\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["modules"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n__p += \'<div class="modules">\\n\\n<h3><a href="#modules">Modules</a></h3>\\n\\n\';\n \nvar self = this; ;\n__p += \'\\n<ul class="modules-list">\\n\';\n _(this.modules).each(function(m) { ;\n__p += \'\\n\\t<li class="modules-module"><a class=\\\'module-name\\\' href="#module/\' +\n((__t = ( m.name )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( m.name )) == null ? \'\' : __t) +\n\'</a>\\n\\t\\t<ul class="modules-classes-list">\\n\\t\\t\';\n \n\t\t/* TODO: make a view */\n\t\tvar moduleClasses = self.getModuleClasses(m.name, self.application.data); \n\t\t_(moduleClasses).each(function(c) { ;\n__p += \'\\n\\t\\t\\t<li class="modules-class"><a class=\\\'class-name \' +\n((__t = ( c.annotation)) == null ? \'\' : __t) +\n\'\\\' href="#class/\' +\n((__t = ( c.absoluteName )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( c.name )) == null ? \'\' : __t) +\n\'</a>, </li>\\n\\t\\t\';\n }); ;\n__p += \'\\n\\t\\t</ul>\\n\\t</li>\\n\';\n }); ;\n__p += \'\\n</ul>\\n\\n</div>\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["parse"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape;\nwith (obj) {\n__p += \'<h2>Parse your code online!</h2>\\n<p>Please paste your commeted code in the following area and it will be loaded automatically. </p>\\n<textarea data-type="inputcode">\\n//@module life @class Living Any living thing\\n//@class Tree A tree is a living thing that contains some leafs and grow. \\n//@extends Living \\nfunction Tree(){}\\n/**@method growLeaf makes the given leaf to gro a little more. @param {Leaf} leaf*/\\nTree.prototype.growLeaf = function(leaf){}\\n/*@class Apple a sweet fruit @module Life @extend Fruit grows in trees and can be eaten @module Life */ \\nfunction Apple(){}\\n//@module Mineral @class Stone \\n//@method doShadow @param {Rectangle} shadowSize @return {Shadow} the new Shadow\\n//@class Shadow @module Ideal\\n//@class Good @module Ideal\\n</textarea>\\n<input type="checkbox" data-action="clean" >Clean previous data ?</input>\\n<button data-action="inputcode_doit">do it</button>\\n\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["project-metadata"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n\n var metaData = this.application.data.projectMetadata; ;\n__p += \'\\n\\n<p>Project \' +\n((__t = ( metaData.name)) == null ? \'\' : __t) +\n\' contains #\' +\n((__t = ( _(this.application.data.modules).keys().length )) == null ? \'\' : __t) +\n\' modules and #\' +\n((__t = ( _(this.application.data.classes).keys().length )) == null ? \'\' : __t) +\n\' classes.</p>\\n\\n<dl class="dl-horizontal">\\n\\t\';\n _(metaData).each(function(value, name) { \n\t\tif(_([\'name\', \'description\', \'author\', \'license\', \'version\']).contains(name)) { ;\n__p += \'\\n\\t<dt class="metadata-name">\' +\n((__t = ( name)) == null ? \'\' : __t) +\n\'</dt><dd class="metadata-value">\' +\n((__t = ( _(value).isString() ? value : JSON.stringify(value))) == null ? \'\' : __t) +\n\'</dd>\\n\\t\';\n } } ); ;\n__p += \'\\n</dl>\\n\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["property"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n__p += \'<h3>\' +\n((__t = ( this.propertyLabel )) == null ? \'\' : __t) +\n\'&nbsp;<a href="\' +\n((__t = ( this.makeLink(this.jsdoc) )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( this.jsdoc.name)) == null ? \'\' : __t) +\n\'</a></h3>\\n\\n\';\n if(!this.asChildView) {;\n__p += \'\\n<h3>Of class <a href="#class/\' +\n((__t = ( this.jsdoc.ownerClass )) == null ? \'\' : __t) +\n\'">\\n\\t\' +\n((__t = ( this.simpleName(this.jsdoc.ownerClass, this.ownerModule) )) == null ? \'\' : __t) +\n\'</a>\\n</h3>\\n\';\n } ;\n__p += \'\\n\\n\';\n if (this.jsdoc.text) { ;\n__p += \'\\n<div class="method-text">\\n\\t\' +\n((__t = ( this.jsdoc.textHtml )) == null ? \'\' : __t) +\n\'\\n</div>\\n\';\n } ;\n__p += \'\\n\\n\';\n if(this.jsdoc.type) { ;\n__p += \' \\n<span class="property-type"><strong>Type</strong>:&nbsp;</span>\\n\' +\n((__t = ( this.printTypeAsString(this.jsdoc.type) )) == null ? \'\' : __t) +\n\'\\n\';\n } ;\n__p += \' \\n\\n\';\n if(!this.asChildView) {;\n__p += \'\\n<div data-type="sources"></div>\\n\';\n } ;\n\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["search"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n__p += \'<h2>Query:</h2>\\n\\n<form data-type="search-form">\\n\\t<p>Keywords: <input name="keywords" value="\' +\n((__t = (this.query.keywords)) == null ? \'\' : __t) +\n\'"></input></p>\\n\\t<p><input name="propsReferencingType" type="checkbox" \' +\n((__t = ( this.query.propsReferencingType ? \'checked\' : \'\' )) == null ? \'\' : __t) +\n\' value="\' +\n((__t = (this.query.keywords)) == null ? \'\' : __t) +\n\'"></input> properties referencing given type name</p>\\n\\t<button data-action="search">Search</button>\\n</form>\\n\\n<h2>Results</h2>\\n\\n<p>\' +\n((__t = ( this.results ? \'\' : \'Searching... please wait.\')) == null ? \'\' : __t) +\n\'</p>\\n<ul>\\n\';\n_(this.results).each(function(result) { ;\n__p += \'\\n\\t<li> <a href="\' +\n((__t = ( result.url )) == null ? \'\' : __t) +\n\'"> \' +\n((__t = ( result.label )) == null ? \'\' : __t) +\n\' </a> </li>\\n\';\n }); ;\n__p += \'\\n</ul>\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["sources"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape;\nwith (obj) {\n__p += \'<h3>Sources <button data-type="goto-source" class="btn btn-link ">goto def</button></h3>\\n<p>File <a href="#file/\' +\n((__t = ( this.fileNameUrl )) == null ? \'\' : __t) +\n\'">\' +\n((__t = ( this.jsdoc.fileName )) == null ? \'\' : __t) +\n\'</a></p>\\n<pre class="prettyprint linenums">\' +\n__e( this.sourceSubset ) +\n\'</pre>\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["tree"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n\n var data = this.application.data; ;\n__p += \'\\n\\n\' +\n((__t = ( data.projectMetadata && this.application.templates[\'project-metadata\'].apply(this, arguments) )) == null ? \'\' : __t) +\n\'\\n\\n<h2>Abstract Syntax Tree</h2>\\n\\n<p>From modules to classes and properties...</p>\\n\\n<button data-action="expand-all">Expand all</button>\\n\\n<button data-action="collapse-all">Collapse all</button>\\n\\n<div class="the-tree"></div>\\n\';\n\n}\nreturn __p\n};\n\nthis["shortjsdoc"]["typeaheadSuggestion"] = function(obj) {\nobj || (obj = {});\nvar __t, __p = \'\', __e = _.escape, __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, \'\') }\nwith (obj) {\n__p += \'<div class="suggestion suggestion-\' +\n((__t = ( node.annotation)) == null ? \'\' : __t) +\n\'">\\n\\t<span class="suggestion-value">\' +\n((__t = ( value)) == null ? \'\' : __t) +\n\'</span>&nbsp;<span class="suggestion-type suggestion-type-\' +\n((__t = ( node.annotation)) == null ? \'\' : __t) +\n\'">(\' +\n((__t = ( node.annotation)) == null ? \'\' : __t) +\n\'\\n\\t\';\n if(_([\'property\', \'method\', \'attribute\', \'event\']).contains(node.annotation)) {;\n__p += \'\\n\\tof class \' +\n((__t = ( node.ownerClass)) == null ? \'\' : __t) +\n\'\\n\\t\';\n };\n__p += \')\\n\\t</span>\\n</div>\';\n\n}\nreturn __p\n};\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Boolean.js\n\n/*\n@module javascript\n@class Boolean\n\n#Summary\nThe Boolean object is an object wrapper for a boolean value.\n\n#Constructor\n\tnew Boolean(value)\n\n#Description\nThe value passed as the first parameter is converted to a boolean value, if necessary. If value is omitted or is 0, -0, null, false, NaN, undefined, or the empty string (""), the object has an initial value of false. All other values, including any object or the string "false", create an object with an initial value of true.\n\nDo not confuse the primitive Boolean values true and false with the true and false values of the Boolean object.\n\nAny object whose value is not undefined or null, including a Boolean object whose value is false, evaluates to true when passed to a conditional statement. For example, the condition in the following if statement evaluates to true:\n\n\tx = new Boolean(false);\n\tif (x) {\n\t  // . . . this code is executed\n\t}\n\tThis behavior does not apply to Boolean primitives. For example, the condition in the following if statement evaluates to false:\n\n\tx = false;\n\tif (x) {\n\t  // . . . this code is not executed\n\t}\nDo not use a Boolean object to convert a non-boolean value to a boolean value. Instead, use Boolean as a function to perform this task:\n\n\tx = Boolean(expression);     // preferred\n\tx = new Boolean(expression); // don\'t use\n\tIf you specify any object, including a Boolean object whose value is false, as the initial value of a Boolean object, the new Boolean object has a value of true.\n\n\tmyFalse = new Boolean(false);   // initial value of false\n\tg = new Boolean(myFalse);       // initial value of true\n\tmyString = new String("Hello"); // string object\n\ts = new Boolean(myString);      // initial value of true\n\tDo not use a Boolean object in place of a Boolean primitive.\n\n#Properties\nFor properties available on Boolean instances, see Properties of Boolean instances.\n\nBoolean.length\nLength property whose value is 1.\nBoolean.prototype\nRepresents the prototype for the Boolean constructor.\n#Properties inherited from Function:\narity, caller, constructor, length, name\n##Methods\nFor methods available on Boolean instances, see Methods of Boolean instances.\n\nThe global Boolean object contains no methods of its own, however, it does inherit some methods through the prototype chain:\n\n#Methods inherited from Function:\napply, call, toSource, toString\n\n#Boolean instances\nAll Boolean instances inherit from Boolean.prototype. As with all constructors, the prototype object dictates instances\' inherited properties and methods.\n\n#Properties\n\nBoolean.prototype.constructor\nReturns the function that created an instance\'s prototype. This is the Boolean function by default.\nProperties inherited from Object:\n__parent__, __proto__\n#Methods\n\nBoolean.prototype.toSource() \nReturns a string containing the source of the Boolean object; you can use this string to create an equivalent object. Overrides the Object.prototype.toSource() method.\nBoolean.prototype.toString()\nReturns a string of either "true" or "false" depending upon the value of the object. Overrides the Object.prototype.toString() method.\nBoolean.prototype.valueOf()\nReturns the primitive value of the Boolean object. Overrides the Object.prototype.valueOf() method.\n\n\n#Examples\nCreating Boolean objects with an initial value of false\n\n\tvar bNoParam = new Boolean();\n\tvar bZero = new Boolean(0);\n\tvar bNull = new Boolean(null);\n\tvar bEmptyString = new Boolean("");\n\tvar bfalse = new Boolean(false);\n\tCreating Boolean objects with an initial value of true\n\n\tvar btrue = new Boolean(true);\n\tvar btrueString = new Boolean("true");\n\tvar bfalseString = new Boolean("false");\n\tvar bSuLin = new Boolean("Su Lin");\n\n\n*/\n\n\n/*\n@method valueOf\n#Summary\nThe valueOf() method returns the primitive value of a Boolean object.\n\n#Syntax\n\tbool.valueOf()\n\n#Description\nThe valueOf method of Boolean returns the primitive value of a Boolean object or literal Boolean as a Boolean data type.\n\nThis method is usually called internally by JavaScript and not explicitly in code.\n\n#Examples\n##Example: Using valueOf\n\n\tx = new Boolean();\n\tmyVar = x.valueOf()      // assigns false to myVar\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js\n\n/*\n@module javascript\n@class Error\n\n#Summary\nThe Error constructor creates an error object. Instances of Error objects are thrown when runtime errors occur. The Error object can also be used as a base objects for user-defined exceptions. See below for standard built-in error types.\n\n#Syntax\n\tnew Error([message[, fileName[,lineNumber]]])\n#Description\nRuntime errors result in new Error objects being created and thrown.\n\nThis page documents the use of the Error object itself and its use as a constructor function. For a list of properties and methods inherited by Error instances, see Error.prototype.\n\n#Error types\n\nBesides the generic Error constructor, there are six other core error constructors in JavaScript. For client-side exceptions, see Exception Handling Statements.\n\n\tEvalError\n\tCreates an instance representing an error that occurs regarding the global function eval().\n\tInternalError \n\tCreates an instance representing an error that occurs when an internal error in the JavaScript engine is thrown. E.g. "too much recursion".\n\tRangeError\n\tCreates an instance representing an error that occurs when a numeric variable or parameter is outside of its valid range.\n\tReferenceError\n\tCreates an instance representing an error that occurs when de-referencing an invalid reference.\n\tSyntaxError\n\tCreates an instance representing a syntax error that occurs while parsing code in eval().\n\tTypeError\n\tCreates an instance representing an error that occurs when a variable or parameter is not of a valid type.\n\tURIError\n\tCreates an instance representing an error that occurs when encodeURI() or decodeURl() are passed invalid parameters.\n\n#Properties\nError.prototype\nAllows the addition of properties to Error instances.\n#Methods\nThe global Error object contains no methods of its own, however, it does inherit some methods through the prototype chain.\n\n#Error instances\nAll Error instances and instances of non-generic errors inherit from Error.prototype. As with all constructor functions, you can use the prototype of the constructor to add properties or methods to all instances created with that constructor.\n\n#Properties\n\n##Standard properties\n\nError.prototype.constructor\nSpecifies the function that created an instance\'s prototype.\n\tError.prototype.message\n\tError message.\n\tError.prototype.name\n\tError name.\n\n\n#Vendor-specific extensions\n\n##Non-standard\nThis feature is non-standard and is not on a standards track. Do not use it on production sites facing the Web: it will not work for every user. There may also be large incompatibilities between implementations and the behavior may change in the future.\n##Microsoft\n\n\tError.prototype.description\n\tError description. Similar to message.\n\tError.prototype.number\n\tError number.\n##Mozilla\n\n\tError.prototype.fileName\n\tPath to file that raised this error.\n\tError.prototype.lineNumber\n\tLine number in file that raised this error.\n\tError.prototype.columnNumber\n\tColumn number in line that raised this error.\n\tError.prototype.stack\n\tStack trace.\n\n#Examples\n##Example: Throwing a generic error\n\nUsually you create an Error object with the intention of raising it using the throw keyword. You can handle the error using the try...catch construct:\n\n\ttry {\n\t  throw new Error("Whoops!");\n\t} catch (e) {\n\t  alert(e.name + ": " + e.message);\n\t}\n\tExample: Handling a specific error\n\n\tYou can choose to handle only specific error types by testing the error type with the error\'s constructor property or, if you\'re writing for modern JavaScript engines, instanceof keyword:\n\n\ttry {\n\t  foo.bar();\n\t} catch (e) {\n\t  if (e instanceof EvalError) {\n\t    alert(e.name + ": " + e.message);\n\t  } else if (e instanceof RangeError) {\n\t    alert(e.name + ": " + e.message);\n\t  }\n\t  // ... etc\n\t}\n##Custom Error Types\n\nYou might want to define your own error types deriving from Error to be able to throw new MyError() and use instanceof MyError to check the kind of error in the exception handler. The common way to do this is demonstrated below.\n\nNote that the thrown MyError will report incorrect lineNumber and fileName at least in Firefox.\nSee also the "What\'s a good way to extend Error in JavaScript?" discussion on Stackoverflow.\n\n\t// Create a new object, that prototypally inherits from the Error constructor.\n\tfunction MyError(message) {\n\t  this.name = "MyError";\n\t  this.message = message || "Default Message";\n\t}\n\tMyError.prototype = new Error();\n\tMyError.prototype.constructor = MyError;\n\n\ttry {\n\t  throw new MyError();\n\t} catch (e) {\n\t  console.log(e.name);     // "MyError"\n\t  console.log(e.message);  // "Default Message"\n\t}\n\n\ttry {\n\t  throw new MyError("custom message");\n\t} catch (e) {\n\t  console.log(e.name);     // "MyError"\n\t  console.log(e.message);  // "custom message"\n\t}\n\n*/\n\n/*\n\n@constructor Boolean\n@param {String} message Human-readable description of the error\n@param {String} fileName The value for the fileName property on the created Error object. Defaults to the name of the file containing the code that called the Error() constructor.\n@param {Number} lineNumber The value for the lineNumber property on the created Error object. Defaults to the line number containing the Error() constructor invocation.\n*/\n\n\n\n/*\n@property {String} message\n\n#Summary\nThe message property is a human-readable description of the error.\n\n#Description\nThis property contains a brief description of the error if one is available or has been set. SpiderMonkey makes extensive use of the message property for exceptions. The message property combined with the name property is used by the Error.prototype.toString() method to create a string representation of the Error.\n\nBy default, the message property is an empty string, but this behavior can be overridden for an instance by specifying a message as the first argument to the Error constructor.\n\n#Examples\n##Example: Throwing a custom error\n\n\tvar e = new Error("Could not parse input"); // e.message is "Could not parse input"\n\tthrow e;\n*/\n\n\n\n\n\n/*\n@property {String} name\n#Summary\nThe name property represents a name for the type of error. The initial value is "Error".\n\n#Description\nBy default, Error instances are given the name "Error". The name property, in addition to the message property, is used by the Error.prototype.toString() method to create a string representation of the error.\n\n#Examples\n##Example: Throwing a custom error\n\n\tvar e = new Error("Malformed input"); // e.name is "Error"\n\n\te.name = "ParseError"; \n\tthrow e;\n\t// e.toString() would return "ParseError: Malformed input"\n\n*/\n\n\n\n\n/*\n@class EvalError @extends Error\nThe EvalError object indicates an error regarding the global eval() function.\n*/\n\n/*\n@class RangeError @extends Error\n\nThe RangeError object indicates an error when a value is not in the set or range of allowed values.\n\nA RangeError is thrown when trying to pass a number as an argument to a function that does not allow a range that includes that number. This can be encountered when to create an array of an illegal length with the Array constructor, or when passing bad values to the numeric methods Number.toExponential(), Number.toFixed() or Number.toPrecision().\n*/\n\n\n/*\n@class ReferenceError @extends Error\n#Summary\nThe ReferenceError object represents an error when a non-existent variable is referenced.\n\n#Description\nA ReferenceError is thrown when trying to dereference a variable that has not been declared.\n*/\n\n\n\n/*\n@class SyntaxError @extends Error\n\n#Summary\nThe SyntaxError object represents an error when trying to interpret syntactically invalid code.\n\n#Description\nA SyntaxError is thrown when the JavaScript engine encounters tokens or token order that does not conform to the syntax of the language when parsing code.\n*/\n\n\n/*\n@class TypeError @extends Error\nThe TypeError object represents an error when a value is not of the expected type.\n*/\n\n/*\n@class URIError @extends Error\n\nThe URIError object represents an error when a global URI handling function was used in a wrong way.\n*/\n\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js\n\n/*\n@module javascript\n\n@class Function\n\n#Summary\nThe Function.prototype property represents the Function prototype object.\n\n#Description\nFunction objects inherit from Function.prototype.  Function.prototype cannot be modified.\n*/\n\n\n/*\n@property {Number} length\n\n#Summary\nThe length property specifies the number of arguments expected by the function.\n\n#Description\nlength is a property of a function object, and indicates how many arguments the function expects, i.e. the number of formal parameters. This number does not include the rest parameter. By contrast, arguments.length is local to a function and provides the number of arguments actually passed to the function.\n\nData property of the Function constructor\n\nThe Function constructor is itself a Function object. It\'s length data property has a value of 1. The property attributes are: Writable: false, Enumerable: false, Configurable: true.\n\nProperty of the Function prototype object\n\nThe length property of the Function prototype object has a value of 0.\n\n#Examples\n\tconsole.log ( Function.length ); //1\n\n\tconsole.log( (function ()        {}).length ); //0\n\tconsole.log( (function (a)       {}).length ); //1\n\tconsole.log( (function (a, b)    {}).length ); //2 etc. \n\tconsole.log( (function (...args) {}).length ); //0, rest parameter is no\n\n*/\n\n\n/*\n@property {FunctionPrototype} prototype\n#Summary\nThe Function.prototype property represents the Function prototype object.\n\n#Description\nFunction objects inherit from Function.prototype.  Function.prototype cannot be modified.\n*/\n\n\n\n/*\n@method apply\n\nThe apply() method calls a function with a given this value and arguments provided as an array (or an array-like object).\n\nNote: While the syntax of this function is almost identical to that of call(), the fundamental difference is that call() accepts an argument list, while apply() accepts a single array of arguments.\n#Syntax\n\tfun.apply(thisArg, [argsArray])\n#Description\nYou can assign a different this object when calling an existing function. this refers to the current object, the calling object. With apply, you can write a method once and then inherit it in another object, without having to rewrite the method for the new object.\n\napply is very similar to call(), except for the type of arguments it supports. You can use an arguments array instead of a named set of parameters. With apply, you can use an array literal, for example, fun.apply(this, [\'eat\', \'bananas\']), or an Array object, for example, fun.apply(this, new Array(\'eat\', \'bananas\')).\n\nYou can also use arguments for the argsArray parameter. arguments is a local variable of a function. It can be used for all unspecified arguments of the called object. Thus, you do not have to know the arguments of the called object when you use the apply method. You can use arguments to pass all the arguments to the called object. The called object is then responsible for handling the arguments.\n\nSince ECMAScript 5th Edition you can also use any kind of object which is array-like, so in practice this means it\'s going to have a property length and integer properties in the range [0...length). As an example you can now use a NodeList or a own custom object like {\'length\': 2, \'0\': \'eat\', \'1\': \'bananas\'}.\n\nNote: Most browsers, including Chrome 14 and Internet Explorer 9, still do not accept array-like objects and will throw an exception.\n#Examples\nUsing apply to chain constructors\n\nYou can use apply to chain constructors for an object, similar to Java. In the following example we will create a global Function method called construct, which will make you able to use an array-like object with a constructor instead of an arguments list.\n\n\tFunction.prototype.construct = function (aArgs) {\n\t    var fConstructor = this, fNewConstr = function () { fConstructor.apply(this, aArgs); };\n\t    fNewConstr.prototype = fConstructor.prototype;\n\t    return new fNewConstr();\n\t};\n\nExample usage:\n\n\tfunction MyConstructor () {\n\t    for (var nProp = 0; nProp < arguments.length; nProp++) {\n\t        this["property" + nProp] = arguments[nProp];\n\t    }\n\t}\n\n\tvar myArray = [4, "Hello world!", false];\n\tvar myInstance = MyConstructor.construct(myArray);\n\n\talert(myInstance.property1); // alerts "Hello world!"\n\talert(myInstance instanceof MyConstructor); // alerts "true"\n\talert(myInstance.constructor); // alerts "MyConstructor"\n\nNote: This non-native Function.construct method will not work with some native constructors (like Date, for example). In these cases you have to use the Function.bind method (for example, imagine to have an array like the following, to be used with Date constructor: [2012, 11, 4]; in this case you have to write something like: new (Function.prototype.bind.apply(Date, [null].concat([2012, 11, 4])))()  anyhow this is not the best way to do things and probably should not be used in any production environment).\nUsing apply and built-in functions\n\nClever usage of apply allows you to use built-ins functions for some tasks that otherwise probably would have been written by looping over the array values. As an example here we are going to use Math.max/Math.min to find out the maximum/minimum value in an array.\n\n\t//min/max number in an array \n\tvar numbers = [5, 6, 2, 3, 7];\n\n\t//using Math.min/Math.max apply \n\tvar max = Math.max.apply(null, numbers); // This about equal to Math.max(numbers[0], ...) or Math.max(5, 6, ..) \n\tvar min = Math.min.apply(null, numbers);\n\n\t/ vs. simple loop based algorithm \n\tmax = -Infinity, min = +Infinity;\n\n\tfor (var i = 0; i < numbers.length; i++) {\n\t  if (numbers[i] > max)\n\t    max = numbers[i];\n\t  if (numbers[i] < min) \n\t    min = numbers[i];\n\t}\n\nBut beware: in using apply this way, you run the risk of exceeding the JavaScript engine\'s argument length limit. The consequences of applying a function with too many arguments (think more than tens of thousands of arguments) vary across engines (JavaScriptCore has hard-coded argument limit of 65536), because the limit (indeed even the nature of any excessively-large-stack behavior) is unspecified. Some engines will throw an exception. More perniciously, others will arbitrarily limit the number of arguments actually passed to the applied function. (To illustrate this latter case: if such an engine had a limit of four arguments [actual limits are of course significantly higher], it would be as if the arguments 5, 6, 2, 3 had been passed to apply in the examples above, rather than the full array.) If your value array might grow into the tens of thousands, use a hybrid strategy: apply your function to chunks of the array at a time:\n\n\tfunction minOfArray(arr) {\n\t  var min = Infinity;\n\t  var QUANTUM = 32768;\n\n\t  for (var i = 0, len = arr.length; i < len; i += QUANTUM) {\n\t    var submin = Math.min.apply(null, arr.slice(i, Math.min(i + QUANTUM, len)));\n\t    min = Math.min(submin, min);\n\t  }\n\n\t  return min;\n\t}\n\n\tvar min = minOfArray([5, 6, 2, 3, 7]);\nUsing apply in "monkey-patching"\n\nApply can be the best way to monkey-patch a builtin function of Firefox, or JS libraries. Given someobject.foo function, you can modify the function in a somewhat hacky way, like so:\n\n\tvar originalfoo = someobject.foo;\n\tsomeobject.foo = function() {\n\t  //Do stuff before calling function\n\t  console.log(arguments);\n\t  //Call the function as it would have been called normally:\n\t  originalfoo.apply(this,arguments);\n\t  //Run stuff after, here.\n\t}\n\nThis method is especially handy where you want to debug events, or interface with something that has no API like the various .on([event]... events, such as those usable on the Devtools Inspector).\n\n\n@param {Object}thisArg The value of this provided for the call to fun. Note that this may not be the actual value seen by the method: if the method is a function in non-strict mode code, null and undefined will be replaced with the global object, and primitive values will be boxed.\n@param {Array} argsArray An array-like object, specifying the arguments with which fun should be called, or null or undefined if no arguments should be provided to the function. Starting with ECMAScript 5 these arguments can be a generic array-like object instead of an array. See below for browser compatibility information.\n\n@returns the result of evaluating this function with given context and parameters\n*/\n\n\n\n\n\n\n\n/*\n@method bind\n\n#Summary\nThe bind() method creates a new function that, when called, has its this keyword set to the provided value, with a given sequence of arguments preceding any provided when the new function is called.\n\n#Syntax\n\tfun.bind(thisArg[, arg1[, arg2[, ...]]])\n\n#Description\nThe bind() function creates a new function (a bound function) with the same function body (internal call property in ECMAScript 5 terms) as the function it is being called on (the bound function\'s target function) with the this value bound to the first argument of bind(), which cannot be overridden. bind() also accepts leading default arguments to provide to the target function when the bound function is called. A bound function may also be constructed using the new operator: doing so acts as though the target function had instead been constructed. The provided this value is ignored, while prepended arguments are provided to the emulated function.\n\n#Examples\nCreating a bound function\n\nThe simplest use of bind() is to make a function that, no matter how it is called, is called with a particular this value. A common mistake for new JavaScript programmers is to extract a method from an object, then to later call that function and expect it to use the original object as its this (e.g. by using that method in callback-based code). Without special care, however, the original object is usually lost. Creating a bound function from the function, using the original object, neatly solves this problem:\n\n\tthis.x = 9; \n\tvar module = {\n\t  x: 81,\n\t  getX: function() { return this.x; }\n\t};\n\n\tmodule.getX(); // 81\n\n\tvar getX = module.getX;\n\tgetX(); // 9, because in this case, "this" refers to the global object\n\n\t// create a new function with \'this\' bound to module\n\tvar boundGetX = getX.bind(module);\n\tboundGetX(); // 81\n\n##Partial Functions\n\nThe next simplest use of bind() is to make a function with pre-specified initial arguments. These arguments (if any) follow the provided this value and are then inserted at the start of the arguments passed to the target function, followed by the arguments passed to the bound function, whenever the bound function is called.\n\n\tfunction list() {\n\t  return Array.prototype.slice.call(arguments);\n\t}\n\n\tvar list1 = list(1, 2, 3); // [1, 2, 3]\n\n\t//  Create a function with a preset leading argument\n\tvar leadingThirtysevenList = list.bind(undefined, 37);\n\n\tvar list2 = leadingThirtysevenList(); // [37]\n\tvar list3 = leadingThirtysevenList(1, 2, 3); // [37, 1, 2, 3]\n\n##With setTimeout\n\nBy default within window.setTimeout(), the this keyword will be set to the window (or global) object. When working with class methods that require this to refer to class instances, you may explicitly bind this to the callback function, in order to maintain the instance.\n\n\tfunction LateBloomer() {\n\t  this.petalCount = Math.ceil( Math.random() * 12 ) + 1;\n\t}\n\n\t// declare bloom after a delay of 1 second\n\tLateBloomer.prototype.bloom = function() {\n\t  window.setTimeout( this.declare.bind( this ), 1000 );\n\t};\n\n\tLateBloomer.prototype.declare = function() {\n\t  console.log(\'I am a beautiful flower with \' + \n\t    this.petalCount + \' petals!\');\n\t};\n\n##Bound functions used as constructors\n\nWarning: This section demonstrates JavaScript capabilities and documents some edge cases of the bind() method. The methods shown below are not the best way to do things and probably should not be used in any production environment.\nBound functions are automatically suitable for use with the new operator to construct new instances created by the target function. When a bound function is used to construct a value, the provided this is ignored. However, provided arguments are still prepended to the constructor call:\n\n\tfunction Point(x, y) {\n\t  this.x = x;\n\t  this.y = y;\n\t}\n\n\tPoint.prototype.toString = function() { \n\t  return this.x + "," + this.y; \n\t};\n\n\tvar p = new Point(1, 2);\n\tp.toString(); // "1,2"\n\n\n\tvar emptyObj = {};\n\tvar YAxisPoint = Point.bind(emptyObj, 0);\n\t// not supported in the polyfill below, works fine with native bind:\n\tvar YAxisPoint = Point.bind(null,0 );\n\n\tvar axisPoint = new YAxisPoint(5);\n\taxisPoint.toString(); //  "0,5"\n\n\taxisPoint instanceof Point; // true\n\taxisPoint instanceof YAxisPoint; // true\n\tnew Point(17, 42) instanceof YAxisPoint; // false\nNote that you need do nothing special to create a bound function for use with new. The corollary is that you need do nothing special to create a bound function to be called plainly, even if you would rather require the bound function to only be called using new.\n\n\t// Example can be run directly in your JavaScript console\n\t// ...continuing from above\n\n\t// Can still be called as a normal function \n\t// (although usually this is undesired)\n\tYAxisPoint(13);\n\n\temptyObj.x + "," + emptyObj.y;\n\t// >  "0,13"\nIf you wish to support use of a bound function only using new, or only by calling it, the target function must enforce that restriction.\n\n##Creating shortcuts\n\nbind() is also helpful in cases where you want to create a shortcut to a function which requires a specific this value.\n\nTake Array.prototype.slice, for example, which you want to use for converting an array-like object to a real array. You could create a shortcut like this:\n\n\tvar slice = Array.prototype.slice;\n\n\t// ...\n\n\tslice.call(arguments);\n\tWith bind(), this can be simplified. In the following piece of code, slice is a bound function to the call() function of Function.prototype, with the this value set to the slice() function of Array.prototype. This means that additional call() calls can be eliminated:\n\n\t// same as "slice" in the previous example\n\tvar unboundSlice = Array.prototype.slice;\n\tvar slice = Function.prototype.call.bind(unboundSlice);\n\n\t// ...\n\n\tslice(arguments);\n#Polyfill\nThe bind function is a recent addition to ECMA-262, 5th edition; as such it may not be present in all browsers. You can partially work around this by inserting the following code at the beginning of your scripts, allowing use of much of the functionality of bind() in implementations that do not natively support it.\n\n\tif (!Function.prototype.bind) {\n\t  Function.prototype.bind = function (oThis) {\n\t    if (typeof this !== "function") {\n\t      // closest thing possible to the ECMAScript 5\n\t      // internal IsCallable function\n\t      throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");\n\t    }\n\n\t    var aArgs = Array.prototype.slice.call(arguments, 1), \n\t        fToBind = this, \n\t        fNOP = function () {},\n\t        fBound = function () {\n\t          return fToBind.apply(this instanceof fNOP && oThis\n\t                 ? this\n\t                 : oThis,\n\t                 aArgs.concat(Array.prototype.slice.call(arguments)));\n\t        };\n\n\t    fNOP.prototype = this.prototype;\n\t    fBound.prototype = new fNOP();\n\n\t    return fBound;\n\t  };\n\t}\n\nSome of the many differences (there may well be others, as this list does not seriously attempt to be exhaustive) between this algorithm and the specified algorithm are:\n\nThe partial implementation relies Array.prototype.slice, Array.prototype.concat, Function.prototype.call and Function.prototype.apply, built-in methods to have their original values.\nThe partial implementation creates functions that do not have immutable "poison pill" caller and arguments properties that throw a TypeError upon get, set, or deletion. (This could be added if the implementation supports Object.defineProperty, or partially implemented [without throw-on-delete behavior] if the implementation supports the __defineGetter__ and __defineSetter__ extensions.)\nThe partial implementation creates functions that have a prototype property. (Proper bound functions have none.)\nThe partial implementation creates bound functions whose length property does not agree with that mandated by ECMA-262: it creates functions with length 0, while a full implementation, depending on the length of the target function and the number of pre-specified arguments, may return a non-zero length.\nIf you choose to use this partial implementation, you must not rely on those cases where behavior deviates from ECMA-262, 5th edition! With some care, however (and perhaps with additional modification to suit specific needs), this partial implementation may be a reasonable bridge to the time when bind() is widely implemented according to the specification.\n\n@param thisArg The value to be passed as the this parameter to the target function when the bound function is called. The value is ignored if the bound function is constructed using the new operator.\n@param args Arguments to prepend to arguments provided to the bound function when invoking the target function.\n\n*/\n\n\n\n\n\n\n/*\n@method call\n\n#Summary\nThe call() method calls a function with a given this value and arguments provided individually.\n\nNOTE: While the syntax of this function is almost identical to that of apply(), the fundamental difference is that call() accepts an argument list, while apply() accepts a single array of arguments.\n#Syntax\n\tfun.call(thisArg[, arg1[, arg2[, ...]]])\n\n#Description\nYou can assign a different this object when calling an existing function. this refers to the current object, the calling object.\n\nWith call, you can write a method once and then inherit it in another object, without having to rewrite the method for the new object.\n\n#Examples\n##Using call to chain constructors for an object\n\nYou can use call to chain constructors for an object, similar to Java. In the following example, the constructor for the Product object is defined with two parameters, name and price. Two other functions Food and Toy invoke Product passing this and name and price. Product initializes the properties name and price, both specialized functions define the category.\n\n\tfunction Product(name, price) {\n\t  this.name = name;\n\t  this.price = price;\n\n\t  if (price < 0) {\n\t    throw RangeError(\'Cannot create product \' +\n\t                      this.name + \' with a negative price\');\n\t  }\n\n\t  return this;\n\t}\n\n\tfunction Food(name, price) {\n\t  Product.call(this, name, price);\n\t  this.category = \'food\';\n\t}\n\n\tFood.prototype = Object.create(Product.prototype);\n\n\tfunction Toy(name, price) {\n\t  Product.call(this, name, price);\n\t  this.category = \'toy\';\n\t}\n\n\tToy.prototype = Object.create(Product.prototype);\n\n\tvar cheese = new Food(\'feta\', 5);\n\tvar fun = new Toy(\'robot\', 40);\n \n##Using call to invoke an anonymous function\n\nIn this purely constructed example, we create anonymous function and use call to invoke it on every object in an array. The main purpose of the anonymous function here is to add a print function to every object, which is able to print the right index of the object in the array. Passing the object as this value was not strictly necessary, but is done for explanatory purpose.\n\n\tvar animals = [\n\t  {species: \'Lion\', name: \'King\'},\n\t  {species: \'Whale\', name: \'Fail\'}\n\t];\n\n\tfor (var i = 0; i < animals.length; i++) {\n\t  (function (i) { \n\t    this.print = function () { \n\t      console.log(\'#\' + i  + \' \' + this.species \n\t                  + \': \' + this.name); \n\t    } \n\t    this.print();\n\t  }).call(animals[i], i);\n\t}\n\n\n@param thisArg The value of this provided for the call to fun. Note that this may not be the actual value seen by the method: if the method is a function in non-strict mode code, null and undefined will be replaced with the global object, and primitive values will be boxed.\n@param arg1,arg2,... Arguments for the object.\n\n*/\n\n\n\n\n/*\n@method toString\n#Summary\nThe toString() method returns a string representing the source code of the function.\n\n#Syntax\n\tfunction.toString(indentation)\n#Description\nThe Function object overrides the toString method inherited from Object; it does not inherit Object.prototype.toString. For Function objects, the toString method returns a string representation of the object in the form of a function declaration. That is, toString decompiles the function, and the string returned includes the function keyword, the argument list, curly braces, and the source of the function body.\n\nJavaScript calls the toString method automatically when a Function is to be represented as a text value, e.g. when a function is concatenated with a string.\n\n@return {String}\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js\n\n/*\n@module javascript\n@class Number\n\n#Summary\nThe Number JavaScript object is a wrapper object allowing you to work with numerical values. A Number object is created using the Number() constructor.\n\n#Constructor\n\tnew Number(value);\n\n#Description\nThe primary uses for the Number object are:\n\nIf the argument cannot be converted into a number, it returns NaN.\nIn a non-constructor context (i.e., without the new operator, Number can be used to perform a type conversion.\n\n\n#Examples\n##Example: Using the Number object to assign values to numeric variables\n\nThe following example uses the Number object\'s properties to assign values to several numeric variables:\n\n\tvar biggestNum = Number.MAX_VALUE;\n\tvar smallestNum = Number.MIN_VALUE;\n\tvar infiniteNum = Number.POSITIVE_INFINITY;\n\tvar negInfiniteNum = Number.NEGATIVE_INFINITY;\n\tvar notANum = Number.NaN;\n##Example: Integer range for Number\n\nThe following example shows minimum and maximum integer values that can be represented as Number object (for details, refer to EcmaScript standard, chapter 8.5 The Number Type):\n\n\tvar biggestInt = 9007199254740992;\n\tvar smallestInt = -9007199254740992;\n\nWhen parsing data that has been serialized to JSON, integer values falling out of this range can be expected to become corrupted when JSON parser coerces them to Number type. Using String instead is a possible workaround.\n\n##Example: Using Number to convert a Date object\n\nThe following example converts the Date object to a numerical value using Number as a function:\n\n\tvar d = new Date("December 17, 1995 03:24:00");\n\tprint(Number(d));\n\nThis displays "819199440000".\n\n*/\n\n/*\n@constructor Number\n@param {Any}value The numeric value of the object being created.\n*/\n\n\n\n\n\n\n/*\n@property {Number} MAX_VALUE\n\n#Summary\nThe Number.MAX_VALUE property represents the maximum numeric value representable in JavaScript.\n\n#Description\nThe MAX_VALUE property has a value of approximately 1.79E+308. Values larger than MAX_VALUE are represented as "Infinity".\n\nBecause MAX_VALUE is a static property of Number, you always use it as Number.MAX_VALUE, rather than as a property of a Number object you created.\n\n#Examples\n##Example: Using MAX_VALUE\n\n\tThe following code multiplies two numeric values. If the result is less than or equal to MAX_VALUE, the func1 function is called; otherwise, the func2 function is called.\n\n\tif (num1 * num2 <= Number.MAX_VALUE) {\n\t   func1();\n\t} else {\n\t   func2();\n\t}\n\n@static\n\n*/\n\n\n\n/*\n@property {Number} MIN_VALUE\n\n#Summary\nThe Number.MIN_VALUE property represents the smallest positive numeric value representable in JavaScript.\n\n#Description\nThe MIN_VALUE property is the number closest to 0, not the most negative number, that JavaScript can represent.\n\nMIN_VALUE has a value of approximately 5e-324. Values smaller than MIN_VALUE ("underflow values") are converted to 0.\n\nBecause MIN_VALUE is a static property of Number, you always use it as Number.MIN_VALUE, rather than as a property of a Number object you created.\n\n#Examples\n##Example: Using MIN_VALUE\n\nThe following code divides two numeric values. If the result is greater than or equal to MIN_VALUE, the func1 function is called; otherwise, the func2 function is called.\n\n\tif (num1 / num2 >= Number.MIN_VALUE) {\n\t    func1();\n\t} else {\n\t    func2();\n\t}\n\n@static\n*/\n\n\n\n\n/*\n@property {Number}NEGATIVE_INFINITY\n\n#Summary\nThe Number.NEGATIVE_INFINITY property represents the negative Infinity value.\n\nYou do not have to create a Number object to access this static property (use Number.NEGATIVE_INFINITY).\n\n#Description\nThe value of Number.NEGATIVE_INFINITY is the same as the negative value of the global object\'s Infinity property.\n\nThis value behaves slightly differently than mathematical infinity:\n\n* Any positive value, including POSITIVE_INFINITY, multiplied by NEGATIVE_INFINITY is NEGATIVE_INFINITY.\n* Any negative value, including NEGATIVE_INFINITY, multiplied by NEGATIVE_INFINITY is POSITIVE_INFINITY.\n* Zero multiplied by NEGATIVE_INFINITY is NaN.\n* NaN multiplied by NEGATIVE_INFINITY is NaN.\n* NEGATIVE_INFINITY, divided by any negative value except NEGATIVE_INFINITY, is POSITIVE_INFINITY.\n* NEGATIVE_INFINITY, divided by any positive value except POSITIVE_INFINITY, is NEGATIVE_INFINITY.\n* NEGATIVE_INFINITY, divided by either NEGATIVE_INFINITY or POSITIVE_INFINITY, is NaN.\n* Any number divided by NEGATIVE_INFINITY is zero.\n\nYou might use the Number.NEGATIVE_INFINITY property to indicate an error condition that returns a finite number in case of success. Note, however, that isFinite would be more appropriate in such a case.\n\n#Example\nIn the following example, the variable smallNumber is assigned a value that is smaller than the minimum value. When the if statement executes, smallNumber has the value "-Infinity", so smallNumber is set to a more manageable value before continuing.\n\n\tvar smallNumber = (-Number.MAX_VALUE) * 2\n\n\tif (smallNumber == Number.NEGATIVE_INFINITY) {\n\t smallNumber = returnFinite();\n\t}\n\n@static\n*/\n\n\n\n/*\n@property {Number} NaN\n#Summary\nThe Number.NaN property represents Not-A-Number. Equivalent of NaN.\n\nYou do not have to create a Number object to access this static property (use Number.NaN).\n@static\n*/\n\n\n\n/*\n@property {Number}POSITIVE_INFINITY\n\n#Summary\nThe Number.POSITIVE_INFINITY property represents the positive Infinity value.\n\nYou do not have to create a Number object to access this static property (use Number.POSITIVE_INFINITY).\n\n#Description\nThe value of Number.POSITIVE_INFINITY is the same as the value of the global object\'s Infinity property.\n\nThis value behaves slightly differently than mathematical infinity:\n\n* Any positive value, including POSITIVE_INFINITY, multiplied by POSITIVE_INFINITY is POSITIVE_INFINITY.\n* Any negative value, including NEGATIVE_INFINITY, multiplied by POSITIVE_INFINITY is NEGATIVE_INFINITY.\n* Zero multiplied by POSITIVE_INFINITY is NaN.\n* NaN multiplied by POSITIVE_INFINITY is NaN.\n* POSITIVE_INFINITY, divided by any negative value except NEGATIVE_INFINITY, is NEGATIVE_INFINITY.\n* POSITIVE_INFINITY, divided by any positive value except POSITIVE_INFINITY, is POSITIVE_INFINITY.\n* POSITIVE_INFINITY, divided by either NEGATIVE_INFINITY or POSITIVE_INFINITY, is NaN.\n* Any number divided by POSITIVE_INFINITY is Zero.\n* You might use the Number.POSITIVE_INFINITY property to indicate an error condition that returns a finite number in case of success. Note, however, that isFinite would be more appropriate in such a case.\n\n#Example\nIn the following example, the variable bigNumber is assigned a value that is larger than the maximum value. When the if statement executes, bigNumber has the value "Infinity", so bigNumber is set to a more manageable value before continuing.\n\n\tvar bigNumber = Number.MAX_VALUE * 2\n\tif (bigNumber == Number.POSITIVE_INFINITY) {\n\t bigNumber = returnFinite();\n\t}\n\n@static \n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js\n\n/*\n@module javascript\n\n@class Object\nAdapted from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\n\n#Description\nThe Object constructor creates an object wrapper for the given value. If the value is null or undefined, it will create and return an empty object, otherwise, it will return an object of a Type that corresponds to the given value. If the value is an object already, it will return the value.\n\nWhen called in a non-constructor context, Object behaves identically to new Object().\n\n#Object instances and Object prototype object\nAll objects in JavaScript are descended from Object; all objects inherit methods and properties from Object.prototype, although they may be overridden. For example, other constructors\' prototypes override the constructor property and provide their own toString methods. Changes to the Object prototype object are propagated to all objects unless the properties and methods subject to those changes are overridden further along the prototype chain.\n\n#Examples\n##Example: Using Object given undefined and null types\n\nThe following examples store an empty Object object in o:\n\n\tvar o = new Object();\n\tvar o = new Object(undefined);\n\tvar o = new Object(null);\n##Example: Using Object to create Boolean objects\n\nThe following examples store Boolean objects in o:\n\n\t// equivalent to o = new Boolean(true);\n\tvar o = new Object(true);\n\t// equivalent to o = new Boolean(false);\n\tvar o = new Object(Boolean());\n\n\n@property {ObjectPrototype} prototype\n\n@static \n\n*/\n\n/*\n@constructor bla bla\n\n\t// Object initialiser or literal \n\t{ [ nameValuePair1 [, nameValuePair2 [, ...nameValuePairN] ] ] }  \n\t// Called as a constructor \n\tnew Object( [ value ] )\n\n@param nameValuePair1,nameValuePair2,...nameValuePairN Pairs of names (strings) and values (any value) where the name is separated from the value by a colon.\n@param value Any value.\n*/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\n@method __defineGetter__()  \nAssociates a function with a property that, when accessed, executes that function and returns its return value.\n*/\n\n\n\n\n\n\n\n\n\n\n\n/*\n@method hasOwnProperty\n##Summary\nThe hasOwnProperty() method returns a boolean indicating whether the object has the specified property.\n\n##Syntax\nobj.hasOwnProperty(prop)\n\n##Examples\n###Example: Using hasOwnProperty to test for a property\'s existence\n\nThe following example determines whether the o object contains a property named prop:\n\n\to = new Object();\n\to.prop = \'exists\';\n\n\tfunction changeO() {\n\t  o.newprop = o.prop;\n\t  delete o.prop;\n\t}\n\n\to.hasOwnProperty(\'prop\');   // returns true\n\tchangeO();\n\to.hasOwnProperty(\'prop\');   // returns false\n\n###Example: Direct versus inherited properties\n\nThe following example differentiates between direct properties and properties inherited through the prototype chain:\n\n\to = new Object();\n\to.prop = \'exists\';\n\to.hasOwnProperty(\'prop\');             // returns true\n\to.hasOwnProperty(\'toString\');         // returns false\n\to.hasOwnProperty(\'hasOwnProperty\');   // returns false\n\n##Example: Iterating over the properties of an object\n\nThe following example shows how to iterate over the properties of an object without executing on inherit properties. Note that the for..in loop is already only iterating enumerable items, so one should not assume based on the lack of non-enumerable properties shown in the loop that hasOwnProperty itself is confined strictly to enumerable items (as with Object.getOwnPropertyNames()).\n\n\tvar buz = {\n\t    fog: \'stack\'\n\t};\n\n\tfor (var name in buz) {\n\t    if (buz.hasOwnProperty(name)) {\n\t        alert("this is fog (" + name + ") for sure. Value: " + buz[name]);\n\t    }\n\t    else {\n\t        alert(name); // toString or something else\n\t    }\n\t}\n\n###Example: hasOwnProperty as a property\n\nJavaScript does not protect the property name hasOwnProperty; thus, if the possibility exists that an object might have a property with this name, it is necessary to use an external hasOwnProperty to get correct results:\n\n\tvar foo = {\n\t    hasOwnProperty: function() {\n\t        return false;\n\t    },\n\t    bar: \'Here be dragons\'\n\t};\n\n\tfoo.hasOwnProperty(\'bar\'); // always returns false\n\n\t// Use another Object\'s hasOwnProperty and call it with \'this\' set to foo\n\t({}).hasOwnProperty.call(foo, \'bar\'); // true\n\n\t// It\'s also possible to use the hasOwnProperty property from the Object property for this purpose\n\tObject.prototype.hasOwnProperty.call(foo, \'bar\'); // true\n\nNote that in the last case there are no newly created objects.\n\n@param param The name of the property to test.\n\n*/\n\n\n\n\n\n\n\n\n/*\n@method isPrototypeOf\n##Summary\nThe isPrototypeOf() method tests for an object in another object\'s prototype chain.\n\n\tNote: isPrototypeOf differs from the instanceof operator. In the expression "object instanceof AFunction", the object prototype chain is checked against AFunction.prototype, not against AFunction itself.\n\nThe isPrototypeOf method allows you to check whether or not an object exists within another object\'s prototype chain.\n\nFor example, consider the following prototype chain:\n\n\tfunction Fee() {\n\t  // . . .\n\t}\n\n\tfunction Fi() {\n\t  // . . .\n\t}\n\tFi.prototype = new Fee();\n\n\tfunction Fo() {\n\t  // . . .\n\t}\n\tFo.prototype = new Fi();\n\n\tfunction Fum() {\n\t  // . . .\n\t}\n\tFum.prototype = new Fo();\n\nLater on down the road, if you instantiate Fum and need to check if Fi\'s prototype exists within the Fum prototype chain, you could do this:\n\n\tvar fum = new Fum();\n\t. . .\n\t\n\tif (Fi.prototype.isPrototypeOf(fum)) {\n\t  // do something safe\n\t}\nThis, along with the instanceof operator particularly comes in handy if you have code that can only function when dealing with objects descended from a specific prototype chain, e.g., to guarantee that certain methods or properties will be present on that object.\n\n\n@param {Object} obj the object whose prototype chain will be searched\n*/\n\n\n\n\n\n/*\n@method propertyIsEnumerable\n##Summary\nThe propertyIsEnumerable() method returns a Boolean indicating whether the specified property is enumerable.\n\n##Description\nEvery object has a propertyIsEnumerable method. This method can determine whether the specified property in an object can be enumerated by a for...in loop, with the exception of properties inherited through the prototype chain. If the object does not have the specified property, this method returns false.\n\n##Examples\n###Example: A basic use of propertyIsEnumerable\n\nThe following example shows the use of propertyIsEnumerable on objects and arrays:\n\n\tvar o = {};\n\tvar a = [];\n\to.prop = \'is enumerable\';\n\ta[0] = \'is enumerable\';\n\n\to.propertyIsEnumerable(\'prop\');   // returns true\n\ta.propertyIsEnumerable(0);        // returns true\n\n###Example: User-defined versus built-in objects\n\nThe following example demonstrates the enumerability of user-defined versus built-in properties:\n\n\tvar a = [\'is enumerable\'];\n\n\ta.propertyIsEnumerable(0);          // returns true\n\ta.propertyIsEnumerable(\'length\');   // returns false\n\n\tMath.propertyIsEnumerable(\'random\');   // returns false\n\tthis.propertyIsEnumerable(\'Math\');     // returns false\n\tExample: Direct versus inherited properties\n\n\tvar a = [];\n\ta.propertyIsEnumerable(\'constructor\');         // returns false\n\n\tfunction firstConstructor() {\n\t  this.property = \'is not enumerable\';\n\t}\n\n\tfirstConstructor.prototype.firstMethod = function () {};\n\n\tfunction secondConstructor() {\n\t  this.method = function method() { return \'is enumerable\'; };\n\t}\n\n\tsecondConstructor.prototype = new firstConstructor;\n\tsecondConstructor.prototype.constructor = secondConstructor;\n\n\tvar o = new secondConstructor();\n\to.arbitraryProperty = \'is enumerable\';\n\n\to.propertyIsEnumerable(\'arbitraryProperty\');   // returns true\n\to.propertyIsEnumerable(\'method\');              // returns true\n\to.propertyIsEnumerable(\'property\');            // returns false\n\n\to.property = \'is enumerable\';\n\n\to.propertyIsEnumerable(\'property\');            // returns true\n\n\t// These return false as they are on the prototype which \n\t// propertyIsEnumerable does not consider (even though the last two\n\t// are iteratable with for-in)\n\to.propertyIsEnumerable(\'prototype\');   // returns false (as of JS 1.8.1/FF3.6)\n\to.propertyIsEnumerable(\'constructor\'); // returns false\n\to.propertyIsEnumerable(\'firstMethod\'); // returns false\n\n@param prop\nThe name of the property to test.\n*/\n\n\n\n\n/*\n@method toLocaleString\n##Summary\nThe toLocaleString() method returns a string representing the object. This method is meant to be overriden by derived objects for locale-specific purposes.\n\n##Syntax\nobj.toLocaleString();\n##Description\nObject\'s toLocaleString returns the result of calling toString().\n\nThis function is provided to give objects a generic toLocaleString method, even though not all may use it. See the list below.\n\n##Objects overriding toLocaleString\n\nArray: Array.prototype.toLocaleString()\nNumber: Number.prototype.toLocaleString()\nDate: Date.prototype.toLocaleString()\n*/\n\n\n\n\n\n/*\n@method toString\n##Summary\nThe toString() method returns a string representing object.\n\n##Syntax\nobj.toString()\n##Description\nEvery object has a toString() method that is automatically called when the object is to be represented as a text value or when an object is referred to in a manner in which a string is expected. By default, the toString() method is inherited by every object descended from Object. If this method is not overridden in a custom object, toString() returns "[object type]", where type is the object type. The following code illustrates this:\n\nvar o = new Object();\no.toString();           // returns [object Object]\nStarting in JavaScript 1.8.5 toString() called on null returns [object Null], and undefined returns [object Undefined], as defined in the 5th Edition of ECMAScript and a subsequent Errata. See Using toString to detect object type.\n##Examples\n###Overriding the default toString method\n\nYou can create a function to be called in place of the default toString() method. The toString() method takes no arguments and should return a string. The toString() method you create can be any value you want, but it will be most useful if it carries information about the object.\n\nThe following code defines the Dog object type and creates theDog, an object of type Dog:\n\n\tfunction Dog(name,breed,color,sex) {\n\t   this.name=name;\n\t   this.breed=breed;\n\t   this.color=color;\n\t   this.sex=sex;\n\t}\n\n\ttheDog = new Dog("Gabby","Lab","chocolate","female");\nIf you call the toString() method on this custom object, it returns the default value inherited from Object:\n\n\ttheDog.toString(); //returns [object Object]\n\tThe following code creates and assigns dogToString() to override the default toString() method. This function generates a string containing the name, breed, color, and sex of the object, in the form "property = value;".\n\n\tDog.prototype.toString = function dogToString() {\n\t  var ret = "Dog " + this.name + " is a " + this.sex + " " + this.color + " " + this.breed;\n\t  return ret;\n\t}\nWith the preceding code in place, any time theDog is used in a string context, JavaScript automatically calls the dogToString() function, which returns the following string:\n\nDog Gabby is a female chocolate Lab\nUsing toString() to detect object class\n\ntoString() can be used with every object and allows you to get its class. To use the Object.prototype.toString() with every object, you need to call Function.prototype.call() or Function.prototype.apply() on it, passing the object you want to inspect as the first parameter called thisArg.\n\n\tvar toString = Object.prototype.toString;\n\n\ttoString.call(new Date); // [object Date]\n\ttoString.call(new String); // [object String]\n\ttoString.call(Math); // [object Math]\n\n\t//Since JavaScript 1.8.5\n\ttoString.call(undefined); // [object Undefined]\n\ttoString.call(null); // [object Null]\n*/\n\n\n\n\n\n\n\n\n\n\n\n/*\n@method create\n\n#Summary\nThe Object.create() method creates a new object with the specified prototype object and properties.\n\n#Syntax\n\tObject.create(proto[, propertiesObject])\n\n#Examples\n\n##Example: Classical inheritance with Object.create\n\nBelow is an example of how to use Object.create to achieve classical inheritance. This is for single inheritance, which is all that Javascript supports.\n\n\t// Shape - superclass\n\tfunction Shape() {\n\t  this.x = 0;\n\t  this.y = 0;\n\t}\n\n\t// superclass method\n\tShape.prototype.move = function(x, y) {\n\t  this.x += x;\n\t  this.y += y;\n\t  console.info(\'Shape moved.\');\n\t};\n\n\t// Rectangle - subclass\n\tfunction Rectangle() {\n\t  Shape.call(this); // call super constructor.\n\t}\n\n\t// subclass extends superclass\n\tRectangle.prototype = Object.create(Shape.prototype);\n\tRectangle.prototype.constructor = Rectangle;\n\n\tvar rect = new Rectangle();\n\n\trect instanceof Rectangle; // true\n\trect instanceof Shape; // true\n\n\trect.move(1, 1); // Outputs, \'Shape moved.\'\n\tIf you wish to inherit from multiple objects, then mixins are a possibility.\n\n\tfunction MyClass() {\n\t  SuperClass.call(this);\n\t  OtherSuperClass.call(this);\n\t}\n\n\tMyClass.prototype = Object.create(SuperClass.prototype); // inherit\n\tmixin(MyClass.prototype, OtherSuperClass.prototype); // mixin\n\n\tMyClass.prototype.myMethod = function() {\n\t  // do a thing\n\t};\n\nThe mixin function would copy the functions from the superclass prototype to the subclass prototype, the mixin function needs to be supplied by the user. An example of a mixin like function would be jQuery.extend.\n\n##Example: Using propertiesObject argument with Object.create\n\n\tvar o;\n\n\t// create an object with null as prototype\n\to = Object.create(null);\n\n\n\to = {};\n\t// is equivalent to:\n\to = Object.create(Object.prototype);\n\n\n\t// Example where we create an object with a couple of sample properties.\n\t// (Note that the second parameter maps keys to *property descriptors*.)\n\to = Object.create(Object.prototype, {\n\t  // foo is a regular \'value property\'\n\t  foo: { writable: true, configurable: true, value: \'hello\' },\n\t  // bar is a getter-and-setter (accessor) property\n\t  bar: {\n\t    configurable: false,\n\t    get: function() { return 10; },\n\t    set: function(value) { console.log(\'Setting `o.bar` to\', value); }\n\t  }\n\t});\n\n\n\tfunction Constructor() {}\n\to = new Constructor();\n\t// is equivalent to:\n\to = Object.create(Constructor.prototype);\n\t// Of course, if there is actual initialization code in the\n\t// Constructor function, the Object.create cannot reflect it\n\n\n\t// create a new object whose prototype is a new, empty object\n\t// and a adding single property \'p\', with value 42\n\to = Object.create({}, { p: { value: 42 } });\n\n\t// by default properties ARE NOT writable, enumerable or configurable:\n\to.p = 24;\n\to.p;\n\t// 42\n\n\to.q = 12;\n\tfor (var prop in o) {\n\t  console.log(prop);\n\t}\n\t// \'q\'\n\n\tdelete o.p;\n\t// false\n\n\t// to specify an ES3 property\n\to2 = Object.create({}, {\n\t  p: {\n\t    value: 42,\n\t    writable: true,\n\t    enumerable: true,\n\t    configurable: true\n\t  }\n\t});\n\n##Polyfill\nThis polyfill covers the main use case which is creating a new object for which the prototype has been chosen but doesn\'t take the second argument into account.\n\n\tif (typeof Object.create != \'function\') {\n\t  Object.create = (function() {\n\t    var Object = function() {};\n\t    return function (prototype) {\n\t      if (arguments.length > 1) {\n\t        throw Error(\'Second argument not supported\');\n\t      }\n\t      if (typeof prototype != \'object\') {\n\t        throw TypeError(\'Argument must be an object\');\n\t      }\n\t      Object.prototype = prototype;\n\t      var result = new Object();\n\t      Object.prototype = null;\n\t      return result;\n\t    };\n\t  })();\n\t}\n\n@static\n\n@param {Object} proto The object which should be the prototype of the newly-created object.\n\n@param {Object} propertiesObject If specified and not undefined, an object whose enumerable own properties (that is, those properties defined upon itself and not enumerable properties along its prototype chain) specify property descriptors to be added to the newly-created object, with the corresponding property names. These properties correspond to the second argument of Object.defineProperties(). @optional\n\n@throws Throws a TypeError exception if the proto parameter isn\'t null or an object.\n\n*/\n\n\n\n\n\n\n\n\n/*\n@method defineProperties\n\n#Summary\nThe Object.defineProperties() method defines new or modifies existing properties directly on an object, returning the object.\n\n#Syntax\n\tObject.defineProperties(obj, props)\n\n#Description\nObject.defineProperties, in essence, defines all properties corresponding to the enumerable own properties of props on the object obj object.\n\n#Example\n\n\tObject.defineProperties(obj, {\n\t  "property1": {\n\t    value: true,\n\t    writable: true\n\t  },\n\t  "property2": {\n\t    value: "Hello",\n\t    writable: false\n\t  }\n\t  // etc. etc.\n\t});\n\n\n# Polyfill\n\nAssuming a pristine execution environment with all names and properties referring to their initial values, Object.defineProperties is almost completely equivalent (note the comment in isCallable) to the following reimplementation in JavaScript:\n\n\tfunction defineProperties(obj, properties) {\n\t  function convertToDescriptor(desc) {\n\t    function hasProperty(obj, prop) {\n\t      return Object.prototype.hasOwnProperty.call(obj, prop);\n\t    }\n\n\t    function isCallable(v) {\n\t      // NB: modify as necessary if other values than functions are callable.\n\t      return typeof v === "function";\n\t    }\n\n\t    if (typeof desc !== "object" || desc === null)\n\t      throw new TypeError("bad desc");\n\n\t    var d = {};\n\n\t    if (hasProperty(desc, "enumerable"))\n\t      d.enumerable = !!obj.enumerable;\n\t    if (hasProperty(desc, "configurable"))\n\t      d.configurable = !!obj.configurable;\n\t    if (hasProperty(desc, "value"))\n\t      d.value = obj.value;\n\t    if (hasProperty(desc, "writable"))\n\t      d.writable = !!desc.writable;\n\t    if (hasProperty(desc, "get")) {\n\t      var g = desc.get;\n\n\t      if (!isCallable(g) && typeof g !== "undefined")\n\t        throw new TypeError("bad get");\n\t      d.get = g;\n\t    }\n\t    if (hasProperty(desc, "set")) {\n\t      var s = desc.set;\n\t      if (!isCallable(s) && typeof s !== "undefined")\n\t        throw new TypeError("bad set");\n\t      d.set = s;\n\t    }\n\n\t    if (("get" in d || "set" in d) && ("value" in d || "writable" in d))\n\t      throw new TypeError("identity-confused descriptor");\n\n\t    return d;\n\t  }\n\n\t  if (typeof obj !== "object" || obj === null)\n\t    throw new TypeError("bad obj");\n\n\t  properties = Object(properties);\n\n\t  var keys = Object.keys(properties);\n\t  var descs = [];\n\n\t  for (var i = 0; i < keys.length; i++)\n\t    descs.push([keys[i], convertToDescriptor(properties[keys[i]])]);\n\n\t  for (var i = 0; i < descs.length; i++)\n\t    Object.defineProperty(obj, descs[i][0], descs[i][1]);\n\n\t  return obj;\n\t} \n\n\n@static \n\n@param {Object} obj The object on which to define or modify properties.\n@param {Object} props An object whose own enumerable properties constitute descriptors for the properties to be defined or modified.\n\n\n*/\n\n\n\n\n\n\n\n\n\n\n\n/*\n@method defineProperty\n\n#Summary\nThe Object.defineProperty() method defines a new property directly on an object, or modifies an existing property on an object, and returns the object.\n\n#Syntax\nObject.defineProperty(obj, prop, descriptor)\n\n#Description\nThis method allows precise addition to or modification of a property on an object. Normal property addition through assignment creates properties which show up during property enumeration (for...in loop or Object.keys method), whose values may be changed, and which may be deleted. This method allows these extra details to be changed from their defaults.\n\nProperty descriptors present in objects come in two main flavors: data descriptors and accessor descriptors. A data descriptor is a property that has a value, which may or may not be writable. An accessor descriptor is a property described by a getter-setter pair of functions. A descriptor must be one of these two flavors; it cannot be both.\n\nBoth data and accessor descriptors are objects. They share the following optional keys:\n\n###configurable\ntrue if and only if the type of this property descriptor may be changed and if the property may be deleted from the corresponding object.\nDefaults to false.\n\n###enumerable\ntrue if and only if this property shows up during enumeration of the properties on the corresponding object.\nDefaults to false.\nA data descriptor also has the following optional keys:\n\n###value\nThe value associated with the property. Can be any valid JavaScript value (number, object, function, etc).\nDefaults to undefined.\nwritable\ntrue if and only if the value associated with the property may be changed with an assignment operator.\nDefaults to false.\nAn accessor descriptor also has the following optional keys:\n\n###get\nA function which serves as a getter for the property, or undefined if there is no getter. The function return will be used as the value of property.\nDefaults to undefined.\n\n###set\nA function which serves as a setter for the property, or undefined if there is no setter. The function will receive as only argument the new value being assigned to the property.\nDefaults to undefined.\nBear in mind that these options are not necessarily own properties so, if inherited, will be considered too. In order to ensure these defaults are preserved you might freeze the Object.prototype upfront, specify all options explicitly, or point to null as __proto__ property.\n\n\t// using __proto__\n\tObject.defineProperty(obj, \'key\', {\n\t  __proto__: null, // no inherited properties\n\t  value: \'static\'  // not enumerable\n\t                   // not configurable\n\t                   // not writable\n\t                   // as defaults\n\t});\n\n\t// being explicit\n\tObject.defineProperty(obj, \'key\', {\n\t  enumerable: false,\n\t  configurable: false,\n\t  writable: false,\n\t  value: \'static\'\n\t});\n\n\t// recycling same object\n\tfunction withValue(value) {\n\t  var d = withValue.d || (\n\t    withValue.d = {\n\t      enumerable: false,\n\t      writable: false,\n\t      configurable: false,\n\t      value: null\n\t    }\n\t  );\n\t  d.value = value;\n\t  return d;\n\t}\n\t// ... and ...\n\tObject.defineProperty(obj, \'key\', withValue(\'static\'));\n\n\t// if freeze is available, prevents the code to add\n\t// value, get, set, enumerable, writable, configurable\n\t// to the Object prototype\n\t(Object.freeze || Object)(Object.prototype);\n\n#Examples\n\nIf you want to see how to use the Object.defineProperty method with a binary-flags-like syntax, see additional examples.\n\n##Example: Creating a property\n\nWhen the property specified doesn\'t exist in the object, Object.defineProperty() creates a new property as described. Fields may be omitted from the descriptor, and default values for those fields are imputed. All of the Boolean-valued fields default to false. The value, get, and set fields default to undefined. A property which is defined without get/set/value/writable is called generic and is typed as a data descriptor.\n\n\tvar o = {}; // Creates a new object\n\n\t// Example of an object property added with defineProperty with a data property descriptor\n\tObject.defineProperty(o, \'a\', {\n\t  value: 37,\n\t  writable: true,\n\t  enumerable: true,\n\t  configurable: true\n\t});\n\t// \'a\' property exists in the o object and its value is 37\n\n\t// Example of an object property added with defineProperty with an accessor property descriptor\n\tvar bValue = 38;\n\tObject.defineProperty(o, \'b\', {\n\t  get: function() { return bValue; },\n\t  set: function(newValue) { bValue = newValue; },\n\t  enumerable: true,\n\t  configurable: true\n\t});\n\to.b; // 38\n\t// \'b\' property exists in the o object and its value is 38\n\t// The value of o.b is now always identical to bValue, unless o.b is redefined\n\n\t// You cannot try to mix both:\n\tObject.defineProperty(o, \'conflict\', {\n\t  value: 0x9f91102,\n\t  get: function() { return 0xdeadbeef; }\n\t});\n\t// throws a TypeError: value appears only in data descriptors, get appears only in accessor descriptors\n\n##Example: Modifying a property\n\nWhen the property already exists, Object.defineProperty() attempts to modify the property according to the values in the descriptor and the object\'s current configuration. If the old descriptor had its configurable attribute set to false (the property is said to be non-configurable), then no attribute besides writable can be changed. In that case, it is also not possible to switch back and forth between the data and accessor property types.\n\nIf a property is non-configurable, its writable attribute can only be changed to false.\n\nA TypeError is thrown when attempts are made to change non-configurable property attributes (besides the writable attribute) unless the current and new values are the same.\n\n##Writable attribute\n\nWhen the writable property attribute is set to false, the property is said to be non-writable. It cannot be reassigned.\n\n\tvar o = {}; // Creates a new object\n\n\tObject.defineProperty(o, \'a\', {\n\t  value: 37,\n\t  writable: false\n\t});\n\n\tconsole.log(o.a); // logs 37\n\to.a = 25; // No error thrown (it would throw in strict mode, even if the value had been the same)\n\tconsole.log(o.a); // logs 37. The assignment didn\'t work.\n\nAs seen in the example, trying to write into the non-writable property doesn\'t change it but doesn\'t throw an error either.\n\n##Enumerable attribute\n\nThe enumerable property attribute defines whether the property shows up in a for...in loop and Object.keys() or not.\n\n\tvar o = {};\n\tObject.defineProperty(o, \'a\', { value: 1, enumerable: true });\n\tObject.defineProperty(o, \'b\', { value: 2, enumerable: false });\n\tObject.defineProperty(o, \'c\', { value: 3 }); // enumerable defaults to false\n\to.d = 4; // enumerable defaults to true when creating a property by setting it\n\n\tfor (var i in o) {\n\t  console.log(i);\n\t}\n\t// logs \'a\' and \'d\' (in undefined order)\n\n\tObject.keys(o); // [\'a\', \'d\']\n\n\to.propertyIsEnumerable(\'a\'); // true\n\to.propertyIsEnumerable(\'b\'); // false\n\to.propertyIsEnumerable(\'c\'); // false\n\tConfigurable attribute\n\n\tThe configurable attribute controls at the same time whether the property can be deleted from the object and whether its attributes (other than writable) can be changed.\n\n\tvar o = {};\n\tObject.defineProperty(o, \'a\', {\n\t  get: function() { return 1; },\n\t  configurable: false\n\t});\n\n\tObject.defineProperty(o, \'a\', { configurable: true }); // throws a TypeError\n\tObject.defineProperty(o, \'a\', { enumerable: true }); // throws a TypeError\n\tObject.defineProperty(o, \'a\', { set: function() {} }); // throws a TypeError (set was undefined previously)\n\tObject.defineProperty(o, \'a\', { get: function() { return 1; } }); // throws a TypeError (even though the new get does exactly the same thing)\n\tObject.defineProperty(o, \'a\', { value: 12 }); // throws a TypeError\n\n\tconsole.log(o.a); // logs 1\n\tdelete o.a; // Nothing happens\n\tconsole.log(o.a); // logs 1\n\n\nIf the configurable attribute of o.a had been true, none of the errors would be thrown and the property would be deleted at the end.\n\n##Example: Adding properties and default values\n\nIt\'s important to consider the way default values of attributes are applied. There is often a difference between simply using dot notation to assign a value and using Object.defineProperty(), as shown in the example below.\n\n\tvar o = {};\n\n\to.a = 1;\n\t// is equivalent to:\n\tObject.defineProperty(o, \'a\', {\n\t  value: 1,\n\t  writable: true,\n\t  configurable: true,\n\t  enumerable: true\n\t});\n\n\n\t// On the other hand,\n\tObject.defineProperty(o, \'a\', { value: 1 });\n\t// is equivalent to:\n\tObject.defineProperty(o, \'a\', {\n\t  value: 1,\n\t  writable: false,\n\t  configurable: false,\n\t  enumerable: false\n\t});\n\n\n##Example: Custom Setters and Getters\n\nExample below shows how to implement a self-archiving object. When temperature property is set, the archive array gets a log entry.\n\n\tfunction Archiver() {\n\t  var temperature = null;\n\t  var archive = [];\n\n\t  Object.defineProperty(this, \'temperature\', {\n\t    get: function() {\n\t      console.log(\'get!\');\n\t      return temperature;\n\t    },\n\t    set: function(value) {\n\t      temperature = value;\n\t      archive.push({ val: temperature });\n\t    }\n\t  });\n\n\t  this.getArchive = function() { return archive; };\n\t}\n\n\tvar arc = new Archiver();\n\tarc.temperature; // \'get!\'\n\tarc.temperature = 11;\n\tarc.temperature = 13;\n\tarc.getArchive(); // [{ val: 11 }, { val: 13 }]\t\n\n\n@static\n@param {Object} obj The object on which to define the property.\n@param {String} prop The name of the property to be defined or modified.\n@param {Object} descriptor The descriptor for the property being defined or modified.\n\n*/\n\n\n\n\n\n\n\n\n\n\n/*\n@method freeze\n\n#Summary\nThe Object.freeze() method freezes an object: that is, prevents new properties from being added to it; prevents existing properties from being removed; and prevents existing properties, or their enumerability, configurability, or writability, from being changed. In essence the object is made effectively immutable. The method returns the object being frozen.\n\n#Syntax\nObject.freeze(obj)\n\n#Description\nNothing can be added to or removed from the properties set of a frozen object. Any attempt to do so will fail, either silently or by throwing a TypeError exception (most commonly, but not exclusively, when in strict mode).\n\nValues cannot be changed for data properties. Accessor properties (getters and setters) work the same (and still give the illusion that you are changing the value). Note that values that are objects can still be modified, unless they are also frozen.\n\n#Examples\n\tvar obj = {\n\t  prop: function() {},\n\t  foo: \'bar\'\n\t};\n\n\t// New properties may be added, existing properties may be changed or removed\n\tobj.foo = \'baz\';\n\tobj.lumpy = \'woof\';\n\tdelete obj.prop;\n\n\tvar o = Object.freeze(obj);\n\n\tassert(Object.isFrozen(obj) === true);\n\n\t// Now any changes will fail\n\tobj.foo = \'quux\'; // silently does nothing\n\tobj.quaxxor = \'the friendly duck\'; // silently doesn\'t add the property\n\n\t// ...and in strict mode such attempts will throw TypeErrors\n\tfunction fail(){\n\t  \'use strict\';\n\t  obj.foo = \'sparky\'; // throws a TypeError\n\t  delete obj.quaxxor; // throws a TypeError\n\t  obj.sparky = \'arf\'; // throws a TypeError\n\t}\n\n\tfail();\n\n\t// Attempted changes through Object.defineProperty will also throw\n\tObject.defineProperty(obj, \'ohai\', { value: 17 }); // throws a TypeError\n\tObject.defineProperty(obj, \'foo\', { value: \'eit\' }); // throws a TypeError\n\tThe following example shows that object values in a frozen object can be mutated (freeze is shallow).\n\n\tobj = {\n\t  internal: {}\n\t};\n\n\tObject.freeze(obj);\n\tobj.internal.a = \'aValue\';\n\n\tobj.internal.a // \'aValue\'\n\n\t// To make obj fully immutable, freeze each object in obj.\n\t// To do so, we use this function.\n\n\tfunction deepFreeze(o) {\n\t  var prop, propKey;\n\t  Object.freeze(o); // First freeze the object.\n\t  for (propKey in o) {\n\t    prop = o[propKey];\n\t    if (!o.hasOwnProperty(propKey) || !(typeof prop === \'object\') || Object.isFrozen(prop)) {\n\t      // If the object is on the prototype, not an object, or is already frozen,\n\t      // skip it. Note that this might leave an unfrozen reference somewhere in the\n\t      // object if there is an already frozen object containing an unfrozen object.\n\t      continue;\n\t    }\n\n\t    deepFreeze(prop); // Recursively call deepFreeze.\n\t  }\n\t}\n\n\tobj2 = {\n\t  internal: {}\n\t};\n\n\tdeepFreeze(obj2);\n\tobj2.internal.a = \'anotherValue\';\n\tobj2.internal.a; // undefined\n\n\n@static\n\n@param obj The object to freeze.\n\n*/\n\n\n\n\n\n\n\n\n\n\n/*\n@method getOwnPropertyDescriptor\n\n#Summary\nThe Object.getOwnPropertyDescriptor() method returns a property descriptor for an own property (that is, one directly present on an object, not present by dint of being along an object\'s prototype chain) of a given object.\n\n#Syntax\n\tObject.getOwnPropertyDescriptor(obj, prop)\n\n#Description\nThis method permits examination of the precise description of a property. A property in JavaScript consists of a string-valued name and a property descriptor. Further information about property descriptor types and their attributes can be found in Object.defineProperty().\n\nA property descriptor is a record with some of the following attributes:\n\n###value\nThe value associated with the property (data descriptors only).\n###writable\ntrue if and only if the value associated with the property may be changed (data descriptors only).\n###get\nA function which serves as a getter for the property, or undefined if there is no getter (accessor descriptors only).\n###set\nA function which serves as a setter for the property, or undefined if there is no setter (accessor descriptors only).\n###configurable\ntrue if and only if the type of this property descriptor may be changed and if the property may be deleted from the corresponding object.\n###enumerable\ntrue if and only if this property shows up during enumeration of the properties on the corresponding object.\n\n#Examples\n\n\tvar o, d;\n\n\to = { get foo() { return 17; } };\n\td = Object.getOwnPropertyDescriptor(o, \'foo\');\n\t// d is { configurable: true, enumerable: true, get: , set: undefined }\n\n\to = { bar: 42 };\n\td = Object.getOwnPropertyDescriptor(o, \'bar\');\n\t// d is { configurable: true, enumerable: true, value: 42, writable: true }\n\n\to = {};\n\tObject.defineProperty(o, \'baz\', { value: 8675309, writable: false, enumerable: false });\n\td = Object.getOwnPropertyDescriptor(o, \'baz\');\n\t// d is { value: 8675309, writable: false, enumerable: false, configurable: false }\n\n\n@static \n@param {Object}obj The object in which to look for the property.\n@param {String}prop The name of the property whose description is to be retrieved.\n@returns A property descriptor of the given property if it exists on the object, undefined otherwise.\n*/\n\n\n\n\n\n\n\n\n\n\n/*\n@method getOwnPropertyNames\n\n#Summary\nThe Object.getOwnPropertyNames() method returns an array of all properties (enumerable or not) found directly upon a given object.\n\n#Syntax\nObject.getOwnPropertyNames(obj)\n\n#Description\nObject.getOwnPropertyNames returns an array whose elements are strings corresponding to the enumerable and non-enumerable properties found directly upon obj. The ordering of the enumerable properties in the array is consistent with the ordering exposed by a for...in loop (or by Object.keys) over the properties of the object. The ordering of the non-enumerable properties in the array, and among the enumerable properties, is not defined.\n\n#Examples\n##Example: Using getOwnPropertyNames\n\n\tvar arr = [\'a\', \'b\', \'c\'];\n\tprint(Object.getOwnPropertyNames(arr).sort()); // prints \'0,1,2,length\'\n\n\t// Array-like object\n\tvar obj = { 0: \'a\', 1: \'b\', 2: \'c\' };\n\tprint(Object.getOwnPropertyNames(obj).sort()); // prints \'0,1,2\'\n\n\t// Printing property names and values using Array.forEach\n\tObject.getOwnPropertyNames(obj).forEach(function(val, idx, array) {\n\t  print(val + \' -> \' + obj[val]);\n\t});\n\t// prints\n\t// 0 -> a\n\t// 1 -> b\n\t// 2 -> c\n\n\t// non-enumerable property\n\tvar my_obj = Object.create({}, { getFoo: { value: function() { return this.foo; }, enumerable: false } });\n\tmy_obj.foo = 1;\n\n\tprint(Object.getOwnPropertyNames(my_obj).sort()); // prints \'foo,getFoo\'\n\nIf you want only the enumerable properties, see Object.keys() or use a for...in loop (although note that this will return enumerable properties not found directly upon that object but also along the prototype chain for the object unless the latter is filtered with hasOwnProperty()).\n\nItems on the prototype chain are not listed:\n\n\tfunction ParentClass() {}\n\tParentClass.prototype.inheritedMethod = function() {};\n\n\tfunction ChildClass() {\n\t  this.prop = 5;\n\t  this.method = function() {};\n\t}\n\tChildClass.prototype = new ParentClass;\n\tChildClass.prototype.prototypeMethod = function() {};\n\n\talert(\n\t  Object.getOwnPropertyNames(\n\t    new ChildClass() // [\'prop\', \'method\']\n\t  )\n\t);\n\n##Example: Get Non-Enumerable Only\n\nThis uses the Array.prototype.filter() function to remove the enumerable keys (obtained with Object.keys()) from a list of all keys (obtained with Object.getOwnPropertyNames) leaving only the non-enumerable keys.\n\n\tvar target = myObject;\n\tvar enum_and_nonenum = Object.getOwnPropertyNames(target);\n\tvar enum_only = Object.keys(target);\n\tvar nonenum_only = enum_and_nonenum.filter(function(key) {\n\t  var indexInEnum = enum_only.indexOf(key);\n\t  if (indexInEnum == -1) {\n\t    // not found in enum_only keys mean the key is non-enumerable,\n\t    // so return true so we keep this in the filter\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t});\n\n\tconsole.log(nonenum_only);\n\n@static\n@param {Object} obj The object whose enumerable and non-enumerable own properties are to be returned.\n\n*/\n\n\n\n\n\n\n\n\n\n\n/*\n@method isExtensible\n#Summary\nThe Object.isExtensible() method determines if an object is extensible (whether it can have new properties added to it).\n\n#Syntax\n\tObject.isExtensible(obj)\n\n#Description\nObjects are extensible by default: they can have new properties added to them, and (in engines that support __proto__  their __proto__ property) can be modified. An object can be marked as non-extensible using Object.preventExtensions(), Object.seal(), or Object.freeze().\n\n#Examples\n\t// New objects are extensible.\n\tvar empty = {};\n\tassert(Object.isExtensible(empty) === true);\n\n\t// ...but that can be changed.\n\tObject.preventExtensions(empty);\n\tassert(Object.isExtensible(empty) === false);\n\n\t// Sealed objects are by definition non-extensible.\n\tvar sealed = Object.seal({});\n\tassert(Object.isExtensible(sealed) === false);\n\n\t// Frozen objects are also by definition non-extensible.\n\tvar frozen = Object.freeze({});\n\tassert(Object.isExtensible(frozen) === false);\n\tNotes\n\tIn ES5, if the argument to this method is not an object (a primitive), then it will cause a TypeError. In ES6, a non-object argument will be treated as if it was a non-extensible ordinary object, simply return false.\n\n\t> Object.isExtensible(1)\n\tTypeError: 1 is not an object // ES5 code\n\n\t> Object.isExtensible(1)\n\tfalse                \n\n@static \n\n@param {Object} obj The object which should be checked.\n@return {boolean}\n*/\n\n\n\n\n/*\n@method isFrozen\n\n#Summary\nThe Object.isFrozen() determines if an object is frozen.\n\n#Syntax\n\tObject.isFrozen(obj)\n\n#Description\nAn object is frozen if and only if it is not extensible, all its properties are non-configurable, and all its data properties (that is, properties which are not accessor properties with getter or setter components) are non-writable.\n\n#Examples\n\t// A new object is extensible, so it is not frozen.\n\tassert(Object.isFrozen({}) === false);\n\n\t// An empty object which is not extensible is vacuously frozen.\n\tvar vacuouslyFrozen = Object.preventExtensions({});\n\tassert(Object.isFrozen(vacuouslyFrozen) === true);\n\n\t// A new object with one property is also extensible, ergo not frozen.\n\tvar oneProp = { p: 42 };\n\tassert(Object.isFrozen(oneProp) === false);\n\n\t// Preventing extensions to the object still doesn\'t make it frozen,\n\t// because the property is still configurable (and writable).\n\tObject.preventExtensions(oneProp);\n\tassert(Object.isFrozen(oneProp) === false);\n\n\t// ...but then deleting that property makes the object vacuously frozen.\n\tdelete oneProp.p;\n\tassert(Object.isFrozen(oneProp) === true);\n\n\t// A non-extensible object with a non-writable but still configurable property is not frozen.\n\tvar nonWritable = { e: \'plep\' };\n\tObject.preventExtensions(nonWritable);\n\tObject.defineProperty(nonWritable, \'e\', { writable: false }); // make non-writable\n\tassert(Object.isFrozen(nonWritable) === false);\n\n\t// Changing that property to non-configurable then makes the object frozen.\n\tObject.defineProperty(nonWritable, \'e\', { configurable: false }); // make non-configurable\n\tassert(Object.isFrozen(nonWritable) === true);\n\n\t// A non-extensible object with a non-configurable but still writable property also isn\'t frozen.\n\tvar nonConfigurable = { release: \'the kraken!\' };\n\tObject.preventExtensions(nonConfigurable);\n\tObject.defineProperty(nonConfigurable, \'release\', { configurable: false });\n\tassert(Object.isFrozen(nonConfigurable) === false);\n\n\t// Changing that property to non-writable then makes the object frozen.\n\tObject.defineProperty(nonConfigurable, \'release\', { writable: false });\n\tassert(Object.isFrozen(nonConfigurable) === true);\n\n\t// A non-extensible object with a configurable accessor property isn\'t frozen.\n\tvar accessor = { get food() { return \'yum\'; } };\n\tObject.preventExtensions(accessor);\n\tassert(Object.isFrozen(accessor) === false);\n\n\t// ...but make that property non-configurable and it becomes frozen.\n\tObject.defineProperty(accessor, \'food\', { configurable: false });\n\tassert(Object.isFrozen(accessor) === true);\n\n\t// But the easiest way for an object to be frozen is if Object.freeze has been called on it.\n\tvar frozen = { 1: 81 };\n\tassert(Object.isFrozen(frozen) === false);\n\tObject.freeze(frozen);\n\tassert(Object.isFrozen(frozen) === true);\n\n\t// By definition, a frozen object is non-extensible.\n\tassert(Object.isExtensible(frozen) === false);\n\n\t// Also by definition, a frozen object is sealed.\n\tassert(Object.isSealed(frozen) === true);\n\n#Notes\nIn ES5, if the argument to this method is not an object (a primitive), then it will cause a TypeError. In ES6, a non-object argument will be treated as if it was a frozen ordinary object, simply return true.\n\n\t> Object.isFrozen(1)\n\tTypeError: 1 is not an object // ES5 code\n\n\t> Object.isFrozen(1)\n\ttrue                          // ES6 code\n\n\n@static\n@param {Object}obj The object which should be checked.\n@returns boolean\n*/\n\n\n\n\n\n/*\n@method isSealed\n\n#Summary\nThe Object.isSealed() method determines if an object is sealed.\n\n#Syntax\n\tObject.isSealed(obj)\n#Description\nReturns true if the object is sealed, otherwise false. An object is sealed if it is not extensible and if all its properties are non-configurable and therefore not removable (but not necessarily non-writable).\n\n#Examples\n\t// Objects aren\'t sealed by default.\n\tvar empty = {};\n\tassert(Object.isSealed(empty) === false);\n\n\t// If you make an empty object non-extensible, it is vacuously sealed.\n\tObject.preventExtensions(empty);\n\tassert(Object.isSealed(empty) === true);\n\n\t// The same is not true of a non-empty object, unless its properties are all non-configurable.\n\tvar hasProp = { fee: \'fie foe fum\' };\n\tObject.preventExtensions(hasProp);\n\tassert(Object.isSealed(hasProp) === false);\n\n\t// But make them all non-configurable and the object becomes sealed.\n\tObject.defineProperty(hasProp, \'fee\', { configurable: false });\n\tassert(Object.isSealed(hasProp) === true);\n\n\t// The easiest way to seal an object, of course, is Object.seal.\n\tvar sealed = {};\n\tObject.seal(sealed);\n\tassert(Object.isSealed(sealed) === true);\n\n\t// A sealed object is, by definition, non-extensible.\n\tassert(Object.isExtensible(sealed) === false);\n\n\t// A sealed object might be frozen, but it doesn\'t have to be.\n\tassert(Object.isFrozen(sealed) === true); // all properties also non-writable\n\n\tvar s2 = Object.seal({ p: 3 });\n\tassert(Object.isFrozen(s2) === false); // \'p\' is still writable\n\n\tvar s3 = Object.seal({ get p() { return 0; } });\n\tassert(Object.isFrozen(s3) === true); // only configurability matters for accessor properties\n\n#Notes\n\tIn ES5, if the argument to this method is not an object (a primitive), then it will cause a TypeError. In ES6, a non-object argument will be treated as if it was a sealed ordinary object, simply return true.\n\n\t> Object.isSealed(1)\n\tTypeError: 1 is not an object // ES5 code\n\n\t> Object.isSealed(1)\n\ttrue                          // ES6 code\n\n\n@static\n@param {Object} obj The object which should be checked.\n@returns {boolean}\n*/\n\n\n\n\n\n\n\n/*\n@method keys\n#Summary\nThe Object.keys() method returns an array of a given object\'s own enumerable properties, in the same order as that provided by a for...in loop (the difference being that a for-in loop enumerates properties in the prototype chain as well).\n\n#Syntax\n\tObject.keys(obj)\n\n#Examples\n\tvar arr = [\'a\', \'b\', \'c\'];\n\tconsole.log(Object.keys(arr)); // console: [\'0\', \'1\', \'2\']\n\n\t// array like object\n\tvar obj = { 0: \'a\', 1: \'b\', 2: \'c\' };\n\tconsole.log(Object.keys(obj)); // console: [\'0\', \'1\', \'2\']\n\n\t// array like object with random key ordering\n\tvar an_obj = { 100: \'a\', 2: \'b\', 7: \'c\' };\n\tconsole.log(Object.keys(an_obj)); // console: [\'2\', \'7\', \'100\']\n\n\t// getFoo is property which isn\'t enumerable\n\tvar my_obj = Object.create({}, { getFoo: { value: function() { return this.foo; } } });\n\tmy_obj.foo = 1;\n\n\tconsole.log(Object.keys(my_obj)); // console: [\'foo\']\nIf you want all properties, even not enumerables, see Object.getOwnPropertyNames().\n\n#Polyfill\nTo add compatible Object.keys support in older environments that do not natively support it, copy the following snippet:\n\n\t// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\n\tif (!Object.keys) {\n\t  Object.keys = (function() {\n\t    \'use strict\';\n\t    var hasOwnProperty = Object.prototype.hasOwnProperty,\n\t        hasDontEnumBug = !({ toString: null }).propertyIsEnumerable(\'toString\'),\n\t        dontEnums = [\n\t          \'toString\',\n\t          \'toLocaleString\',\n\t          \'valueOf\',\n\t          \'hasOwnProperty\',\n\t          \'isPrototypeOf\',\n\t          \'propertyIsEnumerable\',\n\t          \'constructor\'\n\t        ],\n\t        dontEnumsLength = dontEnums.length;\n\n\t    return function(obj) {\n\t      if (typeof obj !== \'object\' && (typeof obj !== \'function\' || obj === null)) {\n\t        throw new TypeError(\'Object.keys called on non-object\');\n\t      }\n\n\t      var result = [], prop, i;\n\n\t      for (prop in obj) {\n\t        if (hasOwnProperty.call(obj, prop)) {\n\t          result.push(prop);\n\t        }\n\t      }\n\n\t      if (hasDontEnumBug) {\n\t        for (i = 0; i < dontEnumsLength; i++) {\n\t          if (hasOwnProperty.call(obj, dontEnums[i])) {\n\t            result.push(dontEnums[i]);\n\t          }\n\t        }\n\t      }\n\t      return result;\n\t    };\n\t  }());\n\t}\nPlease note that the above code includes non-enumerable keys in IE7 (and maybe IE8), when passing in an object from a different window.\n\nFor a simple browser polyfill, see Javascript - Object.keys Browser Compatibility.\n\n@static\n@param {Object} obj The object whose enumerable own properties are to be returned.\n@returns {Array<String>} method returns an array of a given object\'s own enumerable properties, in the same order as that provided by a for...in loop (the difference being that a for-in loop enumerates properties in the prototype chain as well).\n\n*/\n\n\n\n\n\n\n\n\n/*\n@method preventExtensions\n\n#Summary\nThe Object.preventExtensions() method prevents new properties from ever being added to an object (i.e. prevents future extensions to the object).\n\n#Syntax\n\tObject.preventExtensions(obj)\n\n#Description\nAn object is extensible if new properties can be added to it. Object.preventExtensions() marks an object as no longer extensible, so that it will never have properties beyond the ones it had at the time it was marked as non-extensible. Note that the properties of a non-extensible object, in general, may still be deleted. Attempting to add new properties to a non-extensible object will fail, either silently or by throwing a TypeError (most commonly, but not exclusively, when in strict mode).\n\nObject.preventExtensions() only prevents addition of own properties. Properties can still be added to the object prototype. However, calling Object.preventExtensions() on an object will also prevent extensions on its __proto__  property.\n\nIf there is a way to turn an extensible object to a non-extensible one, there is no way to do the opposite in ECMAScript 5.\n\n#Examples\n\t// Object.preventExtensions returns the object being made non-extensible.\n\tvar obj = {};\n\tvar obj2 = Object.preventExtensions(obj);\n\tassert(obj === obj2);\n\n\t// Objects are extensible by default.\n\tvar empty = {};\n\tassert(Object.isExtensible(empty) === true);\n\n\t// ...but that can be changed.\n\tObject.preventExtensions(empty);\n\tassert(Object.isExtensible(empty) === false);\n\n\t// Object.defineProperty throws when adding a new property to a non-extensible object.\n\tvar nonExtensible = { removable: true };\n\tObject.preventExtensions(nonExtensible);\n\tObject.defineProperty(nonExtensible, \'new\', { value: 8675309 }); // throws a TypeError\n\n\t// In strict mode, attempting to add new properties to a non-extensible object throws a TypeError.\n\tfunction fail() {\n\t  \'use strict\';\n\t  nonExtensible.newProperty = \'FAIL\'; // throws a TypeError\n\t}\n\tfail();\n\n\t// EXTENSION (only works in engines supporting __proto__\n\t// (which is deprecated. Use Object.getPrototypeOf instead)):\n\t// A non-extensible object\'s prototype is immutable.\n\tvar fixed = Object.preventExtensions({});\n\tfixed.__proto__ = { oh: \'hai\' }; // throws a TypeError\n\n#Notes\nIn ES5, if the argument to this method is not an object (a primitive), then it will cause a TypeError. In ES6, a non-object argument will be treated as if it was a non-extensible ordinary object, simply return it.\n\n\t> Object.preventExtensions(1)\n\tTypeError: 1 is not an object // ES5 code\n\n\t> Object.preventExtensions(1)\n\t1                             // ES6 code\n\n@static\n@param {Object}obj The object which should be made non-extensible.\n\n*/\n\n\n\n\n\n\n\n/*\n@method hasOwnProperty\n\n#Summary\nThe hasOwnProperty() method returns a boolean indicating whether the object has the specified property.\n\n#Syntax\n\tobj.hasOwnProperty(prop)\n\n#Description\nEvery object descended from Object inherits the hasOwnProperty method. This method can be used to determine whether an object has the specified property as a direct property of that object; unlike the in operator, this method does not check down the object\'s prototype chain.\n\n#Examples\n##Example: Using hasOwnProperty to test for a property\'s existence\n\nThe following example determines whether the o object contains a property named prop:\n\n\to = new Object();\n\to.prop = \'exists\';\n\n\tfunction changeO() {\n\t  o.newprop = o.prop;\n\t  delete o.prop;\n\t}\n\n\to.hasOwnProperty(\'prop\');   // returns true\n\tchangeO();\n\to.hasOwnProperty(\'prop\');   // returns false\n\tExample: Direct versus inherited properties\n\n\tThe following example differentiates between direct properties and properties inherited through the prototype chain:\n\n\to = new Object();\n\to.prop = \'exists\';\n\to.hasOwnProperty(\'prop\');             // returns true\n\to.hasOwnProperty(\'toString\');         // returns false\n\to.hasOwnProperty(\'hasOwnProperty\');   // returns false\n##Example: Iterating over the properties of an object\n\nThe following example shows how to iterate over the properties of an object without executing on inherit properties. Note that the for...in loop is already only iterating enumerable items, so one should not assume based on the lack of non-enumerable properties shown in the loop that hasOwnProperty itself is confined strictly to enumerable items (as with Object.getOwnPropertyNames()).\n\n\tvar buz = {\n\t  fog: \'stack\'\n\t};\n\n\tfor (var name in buz) {\n\t  if (buz.hasOwnProperty(name)) {\n\t    alert(\'this is fog (\' + name + \') for sure. Value: \' + buz[name]);\n\t  }\n\t  else {\n\t    alert(name); // toString or something else\n\t  }\n\t}\n##Example: hasOwnProperty as a property\n\nJavaScript does not protect the property name hasOwnProperty; thus, if the possibility exists that an object might have a property with this name, it is necessary to use an external hasOwnProperty to get correct results:\n\n\tvar foo = {\n\t  hasOwnProperty: function() {\n\t    return false;\n\t  },\n\t  bar: \'Here be dragons\'\n\t};\n\n\tfoo.hasOwnProperty(\'bar\'); // always returns false\n\n\t// Use another Object\'s hasOwnProperty and call it with \'this\' set to foo\n\t({}).hasOwnProperty.call(foo, \'bar\'); // true\n\n\t// It\'s also possible to use the hasOwnProperty property from the Object prototype for this purpose\n\tObject.prototype.hasOwnProperty.call(foo, \'bar\'); // true\nNote that in the last case there are no newly created objects.\n\n@static \n@param {String}prop The name of the property to test.\n\n*/\n\n\n\n\n\n\n\n/*\n@method  isPrototypeOf\n\n\n#Summary\nThe isPrototypeOf() method tests for an object in another object\'s prototype chain.\n\nNote: isPrototypeOf differs from the instanceof operator. In the expression "object instanceof AFunction", the object prototype chain is checked against AFunction.prototype, not against AFunction itself.\n#Syntax\n\tprototypeObj.isPrototypeOf(obj)\n#Description\nThe isPrototypeOf method allows you to check whether or not an object exists within another object\'s prototype chain.\n\nFor example, consider the following prototype chain:\n\n\tfunction Fee() {\n\t  // ...\n\t}\n\n\tfunction Fi() {\n\t  // ...\n\t}\n\tFi.prototype = new Fee();\n\n\tfunction Fo() {\n\t  // ...\n\t}\n\tFo.prototype = new Fi();\n\n\tfunction Fum() {\n\t  // ...\n\t}\n\tFum.prototype = new Fo();\nLater on down the road, if you instantiate Fum and need to check if Fi\'s prototype exists within the Fum prototype chain, you could do this:\n\n\tvar fum = new Fum();\n\t// ...\n\n\tif (Fi.prototype.isPrototypeOf(fum)) {\n\t  // do something safe\n\t}\nThis, along with the instanceof operator particularly comes in handy if you have code that can only function when dealing with objects descended from a specific prototype chain, e.g., to guarantee that certain methods or properties will be present on that object.\n\n\n@static \n@param {Object} prototypeObj An object to be tested against each link in the prototype chain of the object argument.\n@param {Object}object The object whose prototype chain will be searched.\n@returns {boolean}\n*/\n\n\n\n\n\n\n/*\n\n@method propertyIsEnumerable\n\n#Summary\nThe propertyIsEnumerable() method returns a Boolean indicating whether the specified property is enumerable.\n#Syntax\n\tobj.propertyIsEnumerable(prop)\n\n#Description\nEvery object has a propertyIsEnumerable method. This method can determine whether the specified property in an object can be enumerated by a for...in loop, with the exception of properties inherited through the prototype chain. If the object does not have the specified property, this method returns false.\n\n#Examples\n##Example: A basic use of propertyIsEnumerable\n\nThe following example shows the use of propertyIsEnumerable on objects and arrays:\n\n\tvar o = {};\n\tvar a = [];\n\to.prop = \'is enumerable\';\n\ta[0] = \'is enumerable\';\n\n\to.propertyIsEnumerable(\'prop\');   // returns true\n\ta.propertyIsEnumerable(0);        // returns true\n##Example: User-defined versus built-in objects\n\nThe following example demonstrates the enumerability of user-defined versus built-in properties:\n\n\tvar a = [\'is enumerable\'];\n\n\ta.propertyIsEnumerable(0);          // returns true\n\ta.propertyIsEnumerable(\'length\');   // returns false\n\n\tMath.propertyIsEnumerable(\'random\');   // returns false\n\tthis.propertyIsEnumerable(\'Math\');     // returns false\n##Example: Direct versus inherited properties\n\n\tvar a = [];\n\ta.propertyIsEnumerable(\'constructor\');         // returns false\n\n\tfunction firstConstructor() {\n\t  this.property = \'is not enumerable\';\n\t}\n\n\tfirstConstructor.prototype.firstMethod = function() {};\n\n\tfunction secondConstructor() {\n\t  this.method = function method() { return \'is enumerable\'; };\n\t}\n\n\tsecondConstructor.prototype = new firstConstructor;\n\tsecondConstructor.prototype.constructor = secondConstructor;\n\n\tvar o = new secondConstructor();\n\to.arbitraryProperty = \'is enumerable\';\n\n\to.propertyIsEnumerable(\'arbitraryProperty\');   // returns true\n\to.propertyIsEnumerable(\'method\');              // returns true\n\to.propertyIsEnumerable(\'property\');            // returns false\n\n\to.property = \'is enumerable\';\n\n\to.propertyIsEnumerable(\'property\');            // returns true\n\n\t// These return false as they are on the prototype which \n\t// propertyIsEnumerable does not consider (even though the last two\n\t// are iteratable with for-in)\n\to.propertyIsEnumerable(\'prototype\');   // returns false (as of JS 1.8.1/FF3.6)\n\to.propertyIsEnumerable(\'constructor\'); // returns false\n\to.propertyIsEnumerable(\'firstMethod\'); // returns false\n\n\n@param {String}prop The name of the property to test.\n@return {boolean}\n\n*/\n\n\n\n/*\n@method toLocaleString\n#Summary\nThe toLocaleString() method returns a string representing the object. This method is meant to be overriden by derived objects for locale-specific purposes.\n\n#Syntax\n\tobj.toLocaleString();\n#Description\nObject\'s toLocaleString returns the result of calling toString().\n\nThis function is provided to give objects a generic toLocaleString method, even though not all may use it. See the list below.\n\nObjects overriding toLocaleString\n\n\tArray: Array.prototype.toLocaleString()\n\tNumber: Number.prototype.toLocaleString()\n\tDate: Date.prototype.toLocaleString()\n*/\n\n\n\n/*\n@method toString\n\n#Summary\nThe toString() method returns a string representing object.\n\n#Syntax\n\tobj.toString()\n#Description\nEvery object has a toString() method that is automatically called when the object is to be represented as a text value or when an object is referred to in a manner in which a string is expected. By default, the toString() method is inherited by every object descended from Object. If this method is not overridden in a custom object, toString() returns "[object type]", where type is the object type. The following code illustrates this:\n\n\tvar o = new Object();\n\to.toString();           // returns [object Object]\nNote: Starting in JavaScript 1.8.5 toString() called on null returns [object Null], and undefined returns [object Undefined], as defined in the 5th Edition of ECMAScript and a subsequent Errata. See Using toString to detect object type.\n#Examples\n##Example: Overriding the default toString method\n\nYou can create a function to be called in place of the default toString() method. The toString() method takes no arguments and should return a string. The toString() method you create can be any value you want, but it will be most useful if it carries information about the object.\n\nThe following code defines the Dog object type and creates theDog, an object of type Dog:\n\n\tfunction Dog(name, breed, color, sex) {\n\t  this.name = name;\n\t  this.breed = breed;\n\t  this.color = color;\n\t  this.sex = sex;\n\t}\n\n\ttheDog = new Dog(\'Gabby\', \'Lab\', \'chocolate\', \'female\');\nIf you call the toString() method on this custom object, it returns the default value inherited from Object:\n\n\ttheDog.toString(); // returns [object Object]\nThe following code creates and assigns dogToString() to override the default toString() method. This function generates a string containing the name, breed, color, and sex of the object, in the form "property = value;".\n\n\tDog.prototype.toString = function dogToString() {\n\t  var ret = \'Dog \' + this.name + \' is a \' + this.sex + \' \' + this.color + \' \' + this.breed;\n\t  return ret;\n\t}\n\nWith the preceding code in place, any time theDog is used in a string context, JavaScript automatically calls the dogToString() function, which returns the following string:\n\n\tDog Gabby is a female chocolate Lab\n\n##Example: Using toString() to detect object class\n\ntoString() can be used with every object and allows you to get its class. To use the Object.prototype.toString() with every object, you need to call Function.prototype.call() or Function.prototype.apply() on it, passing the object you want to inspect as the first parameter called thisArg.\n\n\tvar toString = Object.prototype.toString;\n\n\ttoString.call(new Date);    // [object Date]\n\ttoString.call(new String);  // [object String]\n\ttoString.call(Math);        // [object Math]\n\n\t// Since JavaScript 1.8.5\n\ttoString.call(undefined);   // [object Undefined]\n\ttoString.call(null);        // [object Null]\n\n@return{String}returns a string representing object.\n*/\n\n\n\n\n\n/*\n@method valueOf\n#Summary\nThe valueOf() method returns the primitive value of the specified object.\n\n#Syntax\n\tobject.valueOf()\n#Description\nJavaScript calls the valueOf method to convert an object to a primitive value. You rarely need to invoke the valueOf method yourself; JavaScript automatically invokes it when encountering an object where a primitive value is expected.\n\nBy default, the valueOf method is inherited by every object descended from Object. Every built-in core object overrides this method to return an appropriate value. If an object has no primitive value, valueOf returns the object itself, which is displayed as:\n\n\t[object Object]\nYou can use valueOf within your own code to convert a built-in object into a primitive value. When you create a custom object, you can override Object.prototype.valueOf() to call a custom method instead of the default Object method.\n\n##Overriding valueOf for custom objects\n\nYou can create a function to be called in place of the default valueOf method. Your function must take no arguments.\n\nSuppose you have an object type myNumberType and you want to create a valueOf method for it. The following code assigns a user-defined function to the object\'s valueOf method:\n\n\tmyNumberType.prototype.valueOf = function() { return customPrimitiveValue; };\nWith the preceding code in place, any time an object of type myNumberType is used in a context where it is to be represented as a primitive value, JavaScript automatically calls the function defined in the preceding code.\n\nAn object\'s valueOf method is usually invoked by JavaScript, but you can invoke it yourself as follows:\n\n\tmyNumber.valueOf()\nNote: Objects in string contexts convert via the toString() method, which is different from String objects converting to string primitives using valueOf. All objects have a string conversion, if only "[object type]". But many objects do not convert to number, boolean, or function.\n#Examples\n##Example: Using valueOf\n\n\to = new Object();\n\tmyVar = o.valueOf();      // [object Object]\n*/\n\n\n\n\n/*\n@method seal\n#Summary\nThe Object.seal() method seals an object, preventing new properties from being added to it and marking all existing properties as non-configurable. Values of present properties can still be changed as long as they are writable.\n\n#Syntax\n\tObject.seal(obj)\n\n#Description\nBy default, objects are extensible (new properties can be added to them). Sealing an object prevents new properties from being added and marks all existing properties as non-configurable. This has the effect of making the set of properties on the object fixed and immutable. Making all properties non-configurable also prevents them from being converted from data properties to accessor properties and vice versa, but it does not prevent the values of data properties from being changed. Attempting to delete or add properties to a sealed object, or to convert a data property to accessor or vice versa, will fail, either silently or by throwing a TypeError (most commonly, although not exclusively, when in strict mode code).\n\nThe prototype chain remains untouched. However, the __proto__  property is sealed as well.\n\n#Examples\n\tvar obj = {\n\t  prop: function() {},\n\t  foo: \'bar\'\n\t};\n\n\t// New properties may be added, existing properties may be changed or removed.\n\tobj.foo = \'baz\';\n\tobj.lumpy = \'woof\';\n\tdelete obj.prop;\n\n\tvar o = Object.seal(obj);\n\n\tassert(o === obj);\n\tassert(Object.isSealed(obj) === true);\n\n\t// Changing property values on a sealed object still works.\n\tobj.foo = \'quux\';\n\n\t// But you can\'t convert data properties to accessors, or vice versa.\n\tObject.defineProperty(obj, \'foo\', { get: function() { return \'g\'; } }); // throws a TypeError\n\n\t// Now any changes, other than to property values, will fail.\n\tobj.quaxxor = \'the friendly duck\'; // silently doesn\'t add the property\n\tdelete obj.foo; // silently doesn\'t delete the property\n\n\t// ...and in strict mode such attempts will throw TypeErrors.\n\tfunction fail() {\n\t  \'use strict\';\n\t  delete obj.foo; // throws a TypeError\n\t  obj.sparky = \'arf\'; // throws a TypeError\n\t}\n\tfail();\n\n\t// Attempted additions through Object.defineProperty will also throw.\n\tObject.defineProperty(obj, \'ohai\', { value: 17 }); // throws a TypeError\n\tObject.defineProperty(obj, \'foo\', { value: \'eit\' }); // changes existing property value\n\n@static \n\n@param  obj The object which should be sealed.\n*/\n\n\n\n\n\n/*\n@class Any\nThis is an artificial type that means \'any value is valid here\'\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.prototype.js\n\n/*\n\n@module javascript \n\n\n\n@class ObjectPrototype\n\nAdapted from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype\n\n#Description\nThe Object.prototype property represents the Object prototype object.\n\nAll objects in JavaScript are descended from Object; all objects inherit methods and properties from Object.prototype, although they may be overridden (except an Object with a null prototype, i.e. Object.create(null)). For example, other constructors\' prototypes override the constructor property and provide their own toString() methods. Changes to the Object prototype object are propagated to all objects unless the properties and methods subject to those changes are overridden further along the prototype chain.\n\n#Examples\nSince Javascript doesn\'t exactly have sub-class objects, prototype is a useful workaround to make a base class object of certain functions that act as objects. For example:\n\n\tvar Person = function() {\n\t  this.canTalk = true;\n\t  this.greet = function() {\n\t    if (this.canTalk) {\n\t      console.log(\'Hi, I\'m \' + this.name);\n\t    }\n\t  };\n\t};\n\n\tvar Employee = function(name, title) {\n\t  this.name = name;\n\t  this.title = title;\n\t  this.greet = function() {\n\t    if (this.canTalk) {\n\t      console.log("Hi, I\'m " + this.name + ", the " + this.title);\n\t    }\n\t  };\n\t};\n\tEmployee.prototype = new Person();\n\n\tvar Customer = function(name) {\n\t  this.name = name;\n\t};\n\tCustomer.prototype = new Person();\n\n\tvar Mime = function(name) {\n\t  this.name = name;\n\t  this.canTalk = false;\n\t};\n\tMime.prototype = new Person();\n\n\tvar bob = new Employee(\'Bob\', \'Builder\');\n\tvar joe = new Customer(\'Joe\');\n\tvar rg = new Employee(\'Red Green\', \'Handyman\');\n\tvar mike = new Customer(\'Mike\');\n\tvar mime = new Mime(\'Mime\');\n\tbob.greet();\n\tjoe.greet();\n\trg.greet();\n\tmike.greet();\n\tmime.greet();\n\nThis will output:\n\n\tHi, I\'m Bob, the Builder\n\tHi, I\'m Joe\n\tHi, I\'m Red Green, the Handyman\n\tHi, I\'m Mike\n\n*/\n\n\n\n/*\n\n\n\n@property {Function} constructor Specifies the function that creates an object\'s prototype.\n\n##Summary\nReturns a reference to the Object function that created the instance\'s prototype. Note that the value of this property is a reference to the function itself, not a string containing the function\'s name. The value is only read-only for primitive values such as 1, true and "test".\n\n##Description\n\nAll objects inherit a constructor property from their prototype:\n\n\tvar o = {};\n\to.constructor === Object; // true\n\n\tvar a = [];\n\ta.constructor === Array; // true\n\n\tvar n = new Number(3);\n\tn.constructor === Number; // true\n\n##Examples\n\n###Example: Displaying the constructor of an object\n\nThe following example creates a prototype, Tree, and an object of that type, theTree. The example then displays the constructor property for the object theTree.\n\n\tfunction Tree(name) {\n\t  this.name = name;\n\t}\n\n\tvar theTree = new Tree(\'Redwood\');\n\tconsole.log(\'theTree.constructor is \' + theTree.constructor);\n\tThis example displays the following output:\n\n\ttheTree.constructor is function Tree(name) {\n\t  this.name = name;\n\t}\n\n###Example: Changing the constructor of an object\n\nThe following example shows how to modify constructor value of generic objects. Only true, 1 and "test" will not be affected as they have read-only native constructors. This example shows that it is not always safe to rely on the constructor property of an object.\n\n\tfunction Type () {}\n\n\tvar types = [\n\t  new Array(),\n\t  [],\n\t  new Boolean(),\n\t  true,             // remains unchanged\n\t  new Date(),\n\t  new Error(),\n\t  new Function(),\n\t  function () {},\n\t  Math,\n\t  new Number(),\n\t  1,                // remains unchanged\n\t  new Object(),\n\t  {},\n\t  new RegExp(),\n\t  /(?:)/,\n\t  new String(),\n\t  \'test\'            // remains unchanged\n\t];\n\tfor (var i = 0; i < types.length; i++) {\n\t  types[i].constructor = Type;\n\t  types[i] = [types[i].constructor, types[i] instanceof Type, types[i].toString()];\n\t}\n\tconsole.log(types.join(\'\\n\'));\n\tThis example displays the following output:\n\n\tfunction Type() {},false,\n\tfunction Type() {},false,\n\tfunction Type() {},false,false\n\tfunction Boolean() {\n\t    [native code]\n\t},false,true\n\tfunction Type() {},false,Mon Sep 01 2014 16:03:49 GMT+0600\n\tfunction Type() {},false,Error\n\tfunction Type() {},false,function anonymous() {\n\n\t}\n\tfunction Type() {},false,function () {}\n\tfunction Type() {},false,[object Math]\n\tfunction Type() {},false,0\n\tfunction Number() {\n\t    [native code]\n\t},false,1\n\tfunction Type() {},false,[object Object]\n\tfunction Type() {},false,[object Object]\n\tfunction Type() {},false,/(?:)/\n\tfunction Type() {},false,/(?:)/\n\tfunction Type() {},false,\n\tfunction String() {\n\t    [native code]\n\t},false,\n\n*/\n\n\n\n\n\n\n\n/*\n@property {Object} __proto__ \nPoints to the object which was used as prototype when the object was instantiated.\n\n@property {Function} __noSuchMethod__ \nAllows a function to be defined that will be executed when an undefined object member is called as a method.\n*/\n\n\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js\n\n/* \n@module javascript\n\n@class String\n\n#Summary\nThe String global object is a constructor for strings, or a sequence of characters.\n\n#Syntax\nString literals take the forms:\n\n\t\'string text\' "string text" " espaol English   portugus     "\n\nBeside regular, printable characters, special characters can be encoded using escape notation:\n\n\tCode\tOutput\n\t\\0\tthe NUL character\n\t\\\'\tsingle quote\n\t\\"\tdouble quote\n\t\\\\\tbackslash\n\t\\n\tnew line\n\t\\r\tcarriage return\n\t\\v\tvertical tab\n\t\\t\ttab\n\t\\b\tbackspace\n\t\\f\tform feed\n\t\\uXXXX\tunicode codepoint\n\t\\xXX\tthe Latin-1 character\n\nOr, using the String global object directly:\n\n\tString(thing) new String(thing)\n\n#Description\nStrings are useful for holding data that can be represented in text form. Some of the most-used operations on strings are to check their length, to build and concatenate them using the + and += string operators, checking for the existence or location of substrings with the indexOf method, or extracting substrings with the substring method.\n\n##Character access\n\nThere are two ways to access an individual character in a string. The first is the charAt method:\n\n\treturn \'cat\'.charAt(1); // returns "a"\n\nThe other way (introduced in ECMAScript 5) is to treat the string as an array-like object, where individual characters correspond to a numerical index:\n\n\treturn \'cat\'[1]; // returns "a"\n\nFor character access using bracket notation, attempting to delete or assign a value to these properties will not succeed. The properties involved are neither writable nor configurable. (See Object.defineProperty for more information.)\n\n##Comparing strings\n\nC developers have the strcmp() function for comparing strings. In JavaScript, you just use the less-than and greater-than operators:\n\n\tvar a = "a";\n\tvar b = "b";\n\tif (a < b) // true\n\t  print(a + " is less than " + b);\n\telse if (a > b)\n\t  print(a + " is greater than " + b);\n\telse\n\t  print(a + " and " + b + " are equal.");\n\nA similar result can be achieved using the localeCompare method inherited by String instances.\n\n##Distinction between string primitives and String objects\n\nNote that JavaScript distinguishes between String objects and primitive string values. (The same is true of Boolean and Numbers.)\n\nString literals (denoted by double or single quotes) and strings returned from String calls in a non-constructor context (i.e., without using the new keyword) are primitive strings. JavaScript automatically converts primitives to String objects, so that it\'s possible to use String object methods for primitive strings. In contexts where a method is to be invoked on a primitive string or a property lookup occurs, JavaScript will automatically wrap the string primitive and call the method or perform the property lookup.\n\n\tvar s_prim = "foo";\n\tvar s_obj = new String(s_prim);\n\n\tconsole.log(typeof s_prim); // Logs "string"\n\tconsole.log(typeof s_obj);  // Logs "object"\n\tString primitives and String objects also give different results when using eval. Primitives passed to eval are treated as source code; String objects are treated as all other objects are, by returning the object. For example:\n\n\ts1 = "2 + 2";               // creates a string primitive\n\ts2 = new String("2 + 2");   // creates a String object\n\tconsole.log(eval(s1));      // returns the number 4\n\tconsole.log(eval(s2));      // returns the string "2 + 2"\n\nFor these reasons, code may break when it encounters String objects when it expects a primitive string instead, although generally authors need not worry about the distinction.\n\nA String object can always be converted to its primitive counterpart with the valueOf method.\n\n\tconsole.log(eval(s2.valueOf())); // returns the number 4\n\nNote: For another possible approach to strings in JavaScript, please read the article about StringView  a C-like representation of strings based on typed arrays.\n\n\n#String generic methods\nThe String instance methods are also available in Firefox as of JavaScript 1.6 (though not part of the ECMAScript standard) on the String object for applying String methods to any object:\n\n\tvar num = 15;\n\talert(String.replace(num, /5/, \'2\'));\n\nGenerics are also available on Array methods.\n\nThe following is a shim to provide support to non-supporting browsers:\n\n\t//globals define\n\t// Assumes all supplied String instance methods already present\n\t// (one may use shims for these if not available)\n\t(function () {\n\t    \'use strict\';\n\n\t    var i,\n\t        // We could also build the array of methods with the following, but the\n\t        //   getOwnPropertyNames() method is non-shimable:\n\t        // Object.getOwnPropertyNames(String).filter(function (methodName)\n\t        //  {return typeof String[methodName] === \'function\'});\n\t        methods = [\n\t            \'quote\', \'substring\', \'toLowerCase\', \'toUpperCase\', \'charAt\',\n\t            \'charCodeAt\', \'indexOf\', \'lastIndexOf\', \'startsWith\', \'endsWith\',\n\t            \'trim\', \'trimLeft\', \'trimRight\', \'toLocaleLowerCase\',\n\t            \'toLocaleUpperCase\', \'localeCompare\', \'match\', \'search\',\n\t            \'replace\', \'split\', \'substr\', \'concat\', \'slice\'\n\t        ],\n\t        methodCount = methods.length,\n\t        assignStringGeneric = function (methodName) {\n\t            var method = String.prototype[methodName];\n\t            String[methodName] = function (arg1) {\n\t                return method.apply(arg1, Array.prototype.slice.call(arguments, 1));\n\t            };\n\t        };\n\n\t    for (i = 0; i < methodCount; i++) {\n\t        assignStringGeneric(methods[i]);\n\t    }\n\t}());\n\n#Examples\n##String conversion\n\nIt\'s possible to use String as a "safer" toString alternative, as although it still normally calls the underlying toString, it also works for null and undefined. For example:\n\n\tvar outputStrings = [];\n\tfor (let i = 0, n = inputValues.length; i < n; ++i) {\n\t  outputStrings.push(String(inputValues[i]));\n\t}\n\n*/\n\n\n\n\n\n\n/*\n@property {Number} length\n\n#Summary\nThe length property represents the length of a string.\n\n#Syntax\n\n\tstr.length\n\n#Description\n\nThis property returns the number of code units in the string. UTF-16, the string format used by JavaScript, uses a single 16-bit code unit to represent the most common characters, but needs to use two code units for less commonly-used characters, so it\'s possible for the value returned by length to not match the actual number of characters in the string.\n\nFor an empty string, length is 0.\n\nThe static property String.length returns the value 1.\n\n#Examples\n\n\tvar x = "Mozilla";\n\tvar empty = "";\n\n\tconsole.log("Mozilla is " + x.length + " code units long");\n\t// "Mozilla is 7 code units long" \n\n\tconsole.log("The empty string is has a length of " + empty.length);\n\t // "The empty string is has a length of 0" \n\n*/\n\n\n\n\n/*\n@method fromCharCode\n\n#Summary\nThe static String.fromCharCode() method returns a string created by using the specified sequence of Unicode values.\n\n#Syntax\nString.fromCharCode(num1, ..., numN)\n#Description\nThis method returns a string and not a String object.\n\nBecause fromCharCode is a static method of String, you always use it as String.fromCharCode(), rather than as a method of a String object you created.\n\n#Examples\nExample: Using fromCharCode\n\nThe following example returns the string "ABC".\n\n\tString.fromCharCode(65,66,67)\n\n#Getting it to work with higher values\nAlthough most common Unicode values can be represented with one 16-bit number (as expected early on during JavaScript standardization) and fromCharCode() can be used to return a single character for the most common values (i.e., UCS-2 values which are the subset of UTF-16 with the most common characters), in order to deal with ALL legal Unicode values (up to 21 bits), fromCharCode() alone is inadequate. Since the higher code point characters use two (lower value) "surrogate" numbers to form a single character, String.fromCodePoint() (part of the ES6 draft) can be used to return such a pair and thus adequately represent these higher valued characters.\n\n@return {String}  returns a string created by using the specified sequence of Unicode values.}\n\n@param p1,...pn A sequence of numbers that are Unicode values\n\n*/\n\n\n\n\n\n\n\n/*\n@method charAt\n\n\n#Summary\nThe charAt() method returns the specified character from a string.\n\n#Syntax\n\tstr.charAt(index)\n#Description\nCharacters in a string are indexed from left to right. The index of the first character is 0, and the index of the last character in a string called stringName is stringName.length - 1. If the index you supply is out of range, JavaScript returns an empty string.\n\n#Examples\n##Example: Displaying characters at different locations in a string\n\nThe following example displays characters at different locations in the string "Brave new world":\n\n\tvar anyString = "Brave new world";\n\n\tconsole.log("The character at index 0   is \'" + anyString.charAt(0)   + "\'");\n\tconsole.log("The character at index 1   is \'" + anyString.charAt(1)   + "\'");\n\tconsole.log("The character at index 2   is \'" + anyString.charAt(2)   + "\'");\n\tconsole.log("The character at index 3   is \'" + anyString.charAt(3)   + "\'");\n\tconsole.log("The character at index 4   is \'" + anyString.charAt(4)   + "\'");\n\tconsole.log("The character at index 999 is \'" + anyString.charAt(999) + "\'");\n\nThese lines display the following:\n\n\tThe character at index 0 is \'B\'\n\tThe character at index 1 is \'r\'\n\tThe character at index 2 is \'a\'\n\tThe character at index 3 is \'v\'\n\tThe character at index 4 is \'e\'\n\tThe character at index 999 is \'\'\n\n##Example: Getting whole characters\n\nThe following provides a means of ensuring that going through a string loop always provides a whole character, even if the string contains characters that are not in the Basic Multi-lingual Plane.\n\n\tvar str = \'A \\uD87E\\uDC04 Z\'; // We could also use a non-BMP character directly\n\tfor (var i=0, chr; i < str.length; i++) {\n\t  if ((chr = getWholeChar(str, i)) === false) {\n\t    continue;\n\t  } // Adapt this line at the top of each loop, passing in the whole string and\n\t    // the current iteration and returning a variable to represent the \n\t    // individual character\n\n\t  alert(chr);\n\t}\n\n\tfunction getWholeChar (str, i) {\n\t  var code = str.charCodeAt(i);     \n\t \n\t  if (isNaN(code)) {\n\t    return \'\'; // Position not found\n\t  }\n\t  if (code < 0xD800 || code > 0xDFFF) {\n\t    return str.charAt(i);\n\t  }\n\n\t  // High surrogate (could change last hex to 0xDB7F to treat high private\n\t  // surrogates as single characters)\n\t  if (0xD800 <= code && code <= 0xDBFF) { \n\t    if (str.length <= (i+1))  {\n\t      throw \'High surrogate without following low surrogate\';\n\t    }\n\t    var next = str.charCodeAt(i+1);\n\t      if (0xDC00 > next || next > 0xDFFF) {\n\t        throw \'High surrogate without following low surrogate\';\n\t      }\n\t      return str.charAt(i)+str.charAt(i+1);\n\t  }\n\t  // Low surrogate (0xDC00 <= code && code <= 0xDFFF)\n\t  if (i === 0) {\n\t    throw \'Low surrogate without preceding high surrogate\';\n\t  }\n\t  var prev = str.charCodeAt(i-1);\n\t  \n\t  // (could change last hex to 0xDB7F to treat high private\n\t  // surrogates as single characters)\n\t  if (0xD800 > prev || prev > 0xDBFF) { \n\t    throw \'Low surrogate without preceding high surrogate\';\n\t  }\n\t  // We can pass over low surrogates now as the second component\n\t  // in a pair which we have already processed\n\t  return false; \n\t}\n\nIn an exclusive JavaScript 1.7+ environment (such as Firefox) which allows destructured assignment, the following is a more succinct and somewhat more flexible alternative in that it does incrementing for an incrementing variable automatically (if the character warrants it in being a surrogate pair).\n\n\tvar str = \'A\\uD87E\\uDC04Z\'; // We could also use a non-BMP character directly\n\tfor (var i=0, chr; i < str.length; i++) {\n\t  [chr, i] = getWholeCharAndI(str, i);\n\t  // Adapt this line at the top of each loop, passing in the whole string and\n\t  // the current iteration and returning an array with the individual character\n\t  // and \'i\' value (only changed if a surrogate pair)\n\n\t  alert(chr);\n\t}\n\n\tfunction getWholeCharAndI (str, i) {\n\t  var code = str.charCodeAt(i);\n\n\t  if (isNaN(code)) {\n\t    return \'\'; // Position not found\n\t  }\n\t  if (code < 0xD800 || code > 0xDFFF) {\n\t    return [str.charAt(i), i]; // Normal character, keeping \'i\' the same\n\t  }\n\n\t  // High surrogate (could change last hex to 0xDB7F to treat high private \n\t  // surrogates as single characters)\n\t  if (0xD800 <= code && code <= 0xDBFF) { \n\t    if (str.length <= (i+1))  {\n\t      throw \'High surrogate without following low surrogate\';\n\t    }\n\t    var next = str.charCodeAt(i+1);\n\t      if (0xDC00 > next || next > 0xDFFF) {\n\t        throw \'High surrogate without following low surrogate\';\n\t      }\n\t      return [str.charAt(i)+str.charAt(i+1), i+1];\n\t  }\n\t  // Low surrogate (0xDC00 <= code && code <= 0xDFFF)\n\t  if (i === 0) {\n\t    throw \'Low surrogate without preceding high surrogate\';\n\t  }\n\t  var prev = str.charCodeAt(i-1);\n\n\t  // (could change last hex to 0xDB7F to treat high private surrogates\n\t  // as single characters)\n\t  if (0xD800 > prev || prev > 0xDBFF) { \n\t    throw \'Low surrogate without preceding high surrogate\';\n\t  }\n\t  // Return the next character instead (and increment)\n\t  return [str.charAt(i+1), i+1]; \n\t}\n\n\n##Example: Fixing charAt to support non-Basic-Multilingual-Plane (BMP) characters\n\nWhile the example above may be more frequently useful for those wishing to support non-BMP characters (since it does not require the caller to know where any non-BMP character might appear), in the event that one does wish, in choosing a character by index, to treat the surrogate pairs within a string as the single characters they represent, one can use the following:\n\n\tfunction fixedCharAt (str, idx) {\n\t  var ret = \'\';\n\t  str += \'\';\n\t  var end = str.length;\n\n\t  var surrogatePairs = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\t  while ((surrogatePairs.exec(str)) != null) {\n\t    var li = surrogatePairs.lastIndex;\n\t    if (li - 2 < idx) {\n\t      idx++;\n\t    } else {\n\t      break;\n\t    }\n\t  }\n\n\t  if (idx >= end || idx < 0) {\n\t    return \'\';\n\t  }\n\n\t  ret += str.charAt(idx);\n\n\t  if (/[\\uD800-\\uDBFF]/.test(ret) && /[\\uDC00-\\uDFFF]/.test(str.charAt(idx+1))) {\n\t    // Go one further, since one of the "characters" is part of a surrogate pair\n\t    ret += str.charAt(idx+1); \n\t  }\n\t  return ret;\n\t}\n\n\n@param {Number} index An integer between 0 and 1-less-than the length of the string.\n@return {String} the specified character from a string.\n\n*/\n\n\n\n\n/*\n@method charCodeAt\n\n#Summary\nThe charCodeAt() method returns the numeric Unicode value of the character at the given index (except for unicode codepoints > 0x10000).\n\n#Syntax\n\tstr.charCodeAt(index)\n#Description\nUnicode code points range from 0 to 1,114,111. The first 128 Unicode code points are a direct match of the ASCII character encoding. For information on Unicode, see the JavaScript Guide.\n\nNote that charCodeAt will always return a value that is less than 65,536. This is because the higher code points are represented by a pair of (lower valued) "surrogate" pseudo-characters which are used to comprise the real character. Because of this, in order to examine or reproduce the full character for individual characters of value 65,536 and above, for such characters, it is necessary to retrieve not only charCodeAt(i), but also charCodeAt(i+1) (as if examining/reproducing a string with two letters). See example 2 and 3 below.\n\ncharCodeAt returns NaN if the given index is not greater than 0 or is greater than the length of the string.\n\nBackward compatibilty: In historic versions (like JavaScript 1.2) the charCodeAt method returns a number indicating the ISO-Latin-1 codeset value of the character at the given index. The ISO-Latin-1 codeset ranges from 0 to 255. The first 0 to 127 are a direct match of the ASCII character set.\n\n#Examples\n##Example: Using charCodeAt\n\nThe following example returns 65, the Unicode value for A.\n\n\t"ABC".charCodeAt(0) // returns 65\n\n#Example: Fixing charCodeAt to handle non-Basic-Multilingual-Plane characters if their presence earlier in the string is unknown\n\nThis version might be used in for loops and the like when it is unknown whether non-BMP characters exist before the specified index position.\n\n\tfunction fixedCharCodeAt (str, idx) {\n\t    // ex. fixedCharCodeAt (\'\\uD800\\uDC00\', 0); // 65536\n\t    // ex. fixedCharCodeAt (\'\\uD800\\uDC00\', 1); // false\n\t    idx = idx || 0;\n\t    var code = str.charCodeAt(idx);\n\t    var hi, low;\n\t    \n\t    // High surrogate (could change last hex to 0xDB7F to treat high\n\t    // private surrogates as single characters)\n\t    if (0xD800 <= code && code <= 0xDBFF) {\n\t        hi = code;\n\t        low = str.charCodeAt(idx+1);\n\t        if (isNaN(low)) {\n\t            throw \'High surrogate not followed by low surrogate in fixedCharCodeAt()\';\n\t        }\n\t        return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\n\t    }\n\t    if (0xDC00 <= code && code <= 0xDFFF) { // Low surrogate\n\t        // We return false to allow loops to skip this iteration since should have\n\t        // already handled high surrogate above in the previous iteration\n\t        return false;\n\t        //hi = str.charCodeAt(idx-1);\n\t        //low = code;\n\t        //return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\n\t    }\n\t    return code;\n\t}\n\n##Example: Fixing charCodeAt to handle non-Basic-Multilingual-Plane characters if their presence earlier in the string is known\n\n\tfunction knownCharCodeAt (str, idx) {\n\t    str += \'\';\n\t    var code,\n\t        end = str.length;\n\n\t    var surrogatePairs = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\t    while ((surrogatePairs.exec(str)) != null) {\n\t        var li = surrogatePairs.lastIndex;\n\t        if (li - 2 < idx) {\n\t            idx++;\n\t        }\n\t        else {\n\t            break;\n\t        }\n\t    }\n\n\t    if (idx >= end || idx < 0) {\n\t        return NaN;\n\t    }\n\n\t    code = str.charCodeAt(idx);\n\n\t    var hi, low;\n\t    if (0xD800 <= code && code <= 0xDBFF) {\n\t        hi = code;\n\t        low = str.charCodeAt(idx+1);\n\t        // Go one further, since one of the "characters" is part of a surrogate pair\n\t        return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\n\t    }\n\t    return code;\n\t}\n\n\n@param {Number} index\nAn integer greater than or equal to 0 and less than the length of the string; if it is not a number, it defaults to 0.\n\n@returns {Number}returns the numeric Unicode value of the character at the given index (except for unicode codepoints > 0x10000).\n\n*/\n\n\n\n\n\n/*\n@method concat\n\n\n#Summary\nThe concat() method combines the text of two or more strings and returns a new string.\n\n#Syntax\n\tstr.concat(string2, string3[, ..., stringN])\n\n#Description\nThe concat function combines the text from one or more strings and returns a new string. Changes to the text in one string do not affect the other string.\n\n#Examples\n##Example: Using concat\n\nThe following example combines strings into a new string.\n\n\tvar hello = "Hello, ";\n\tconsole.log(hello.concat("Kevin", " have a nice day.")); \n\n\t// Hello, Kevin have a nice day. \n\n#Performance\nIt is strongly recommended that assignment operators (+, +=) are used instead of the concat method. See this perfomance test.\n\n@param string2...stringN Strings to concatenate to this string.\n\n@return {String}\n*/\n\n\n\n\n/*\n@method indexOf\n\n#Summary\nThe indexOf() method returns the index within the calling String object of the first occurrence of the specified value, starting the search at fromIndex. Returns -1 if the value is not found.\n\n#Syntax\n\tstr.indexOf(searchValue[, fromIndex])\n#Description\nCharacters in a string are indexed from left to right. The index of the first character is 0, and the index of the last character of a string called stringName is stringName.length - 1.\n\n\t"Blue Whale".indexOf("Blue");     // returns  0\n\t"Blue Whale".indexOf("Blute");    // returns -1\n\t"Blue Whale".indexOf("Whale", 0); // returns  5\n\t"Blue Whale".indexOf("Whale", 5); // returns  5\n\t"Blue Whale".indexOf("", 9);      // returns  9\n\t"Blue Whale".indexOf("", 10);     // returns 10\n\t"Blue Whale".indexOf("", 11);     // returns 10\n\n##Case-sensitivity\n\nThe indexOf method is case sensitive. For example, the following expression returns -1:\n\n"Blue Whale".indexOf("blue") // returns -1\n##Checking occurrences\n\nNote that \'0\' doesn\'t evaluate to true and \'-1\' doesn\'t evaluate to false. Therefore, when checking if a specific string exists within another string the correct way to check would be:\n\n"Blue Whale".indexOf("Blue") != -1; // true\n"Blue Whale".indexOf("Bloe") != -1; // false\n\n#Examples\n##Example: Using indexOf and lastIndexOf\n\nThe following example uses indexOf and lastIndexOf to locate values in the string "Brave new world".\n\n\tvar anyString = "Brave new world";\n\n\tconsole.log("The index of the first w from the beginning is " + anyString.indexOf("w"));\n\t// Displays 8\n\tconsole.log("The index of the first w from the end is " + anyString.lastIndexOf("w")); \n\t// Displays 10\n\n\tconsole.log("The index of \'new\' from the beginning is " + anyString.indexOf("new"));   \n\t// Displays 6\n\tconsole.log("The index of \'new\' from the end is " + anyString.lastIndexOf("new"));\n\t// Displays 6\n##Example: indexOf and case-sensitivity\n\nThe following example defines two string variables. The variables contain the same string except that the second string contains uppercase letters. The first log method displays 19. But because the indexOf method is case sensitive, the string "cheddar" is not found in myCapString, so the second log method displays -1.\n\n\tvar myString    = "brie, pepper jack, cheddar";\n\tvar myCapString = "Brie, Pepper Jack, Cheddar";\n\n\tconsole.log(\'myString.indexOf("cheddar") is \' + myString.indexOf("cheddar"));    \n\t// Displays 19\n\tconsole.log(\'myCapString.indexOf("cheddar") is \' + myCapString.indexOf("cheddar")); \n\t// Displays -1\n##Example: Using indexOf to count occurrences of a letter in a string\n\nThe following example sets count to the number of occurrences of the letter x in the string str:\n\n\tcount = 0;\n\tpos = str.indexOf("x");\n\n\twhile ( pos != -1 ) {\n\t   count++;\n\t   pos = str.indexOf( "x",pos + 1 );\n\t}\n\n\n@param {String} searchValue A string representing the value to search for.\n@param {Number} fromIndex The location within the calling string to start the search from. It can be any integer. The default value is 0. If fromIndex < 0 the entire string is searched (same as passing 0). If fromIndex >= str.length, the method will return -1 unless searchValue is an empty string in which case str.length is returned. \n@optional\n@returns {Number} the index within the calling String object of the first occurrence of the specified value, starting the search at fromIndex. Returns -1 if the value is not found.\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js\n\n/*@module html \n\n\n@class HTMLElement @extends XMLNode\n\n#Events \n\nTaken from http://www.w3schools.com/tags/ref_eventattributes.asp\n\nHTML 4 added the ability to let events trigger actions in a browser, like starting a JavaScript when a user clicks on an element.\n\n\n\n\n\n@event onafterprint\t\tScript to be run after the document is printed\n\n@event onbeforeprint\tScript to be run before the document is printed. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onbeforeunload\t\tScript to be run when the document is about to be unloaded. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onerror\t\tScript to be run when an error occur. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onhashchange\t\tScript to be run when there has been changes to the anchor part of the a URL. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onload\t\tFires after the page is finished loading. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onmessage\t\tScript to be run when the message is triggered. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onoffline\t\tScript to be run when the browser starts to work offline. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event ononline\t\tScript to be run when the browser starts to work online. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onpagehide\t\tScript to be run when a user navigates away from a page. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onpageshow\t\tScript to be run when a user navigates to a page. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onpopstate\t\tScript to be run when the window\'s history changes. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onresize\t\tFires when the browser window is resized. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onstorage\t\tScript to be run when a Web Storage area is updated. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n@event onunload\t\tFires once a page has unloaded (or the browser window has been closed). Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5\n\n\n\n\n\n\n\n@event onblur\tFires the moment that the element loses focus. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n@event onchange\tFires the moment when the value of the element is changed. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n@event oncontextmenu\t\tScript to be run when a context menu is triggered. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n@event onfocus\t\tFires the moment when the element gets focus. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n@event oninput\t\tScript to be run when an element gets user input. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n@event oninvalid\t\tScript to be run when an element is invalid. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n@event onreset\t\tFires when the Reset button in a form is clicked. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n@event onsearch\t\tFires when the user writes something in a search field (for <input="search">). Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n@event onselect\t\tFires after some text has been selected in an element. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n@event onsubmit\tscript\tFires when a form is submitted. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)\n\n\n\n\n\n\n@event onkeydown\t\tFires when a user is pressing a key. This is a Keyboard Event\n@event onkeypress\t\tFires when a user presses a key. This is a Keyboard Event\n@event onkeyup\t\tFires when a user releases a key. This is a Keyboard Event\n\n\n\n\n\n\n\n\n@event onclick\tscript\tFires on a mouse click on the element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event ondblclick\tscript\tFires on a mouse double-click on the element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event ondrag\tscript\tScript to be run when an element is dragged. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event ondragend\tscript\tScript to be run at the end of a drag operation. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event ondragenter\tscript\tScript to be run when an element has been dragged to a valid drop target. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event ondragleave\tscript\tScript to be run when an element leaves a valid drop target. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event ondragover\tscript\tScript to be run when an element is being dragged over a valid drop target. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event ondragstart\tscript\tScript to be run at the start of a drag operation. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event ondrop\tscript\tScript to be run when dragged element is being dropped. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event onmousedown\tscript\tFires when a mouse button is pressed down on an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event onmousemove\tscript\tFires when the mouse pointer is moving while it is over an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event onmouseout\tscript\tFires when the mouse pointer moves out of an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event onmouseover\tscript\tFires when the mouse pointer moves over an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event onmouseup\tscript\tFires when a mouse button is released over an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event onmousewheel\tscript\tDeprecated. Use the onwheel attribute instead. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event onscroll\tscript\tScript to be run when an element\'s scrollbar is being scrolled. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n@event onwheel\tscript\tFires when the mouse wheel rolls up or down over an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions\n\n*/\n\n\n\n\n\n/*\n\n@event oncopy\tscript\tFires when the user copies the content of an element. Note: this is a Clipboard Event\n@event oncut\tscript\tFires when the user cuts the content of an element. Note: this is a Clipboard Event\n@event onpaste\tscript\tFires when the user pastes some content in an element. Note: this is a Clipboard Event\n*/\n\n\n\n\n/*\n\n@event onabort\tscript\tScript to be run on abort. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event oncanplay\tscript\tScript to be run when a file is ready to start playing (when it has buffered enough to begin). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event oncanplaythrough\tscript\tScript to be run when a file can be played all the way to the end without pausing for buffering. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event oncuechange\tscript\tScript to be run when the cue changes in a <track> element. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event ondurationchange\tscript\tScript to be run when the length of the media changes. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onemptied\tscript\tScript to be run when something bad happens and the file is suddenly unavailable (like unexpectedly disconnects). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onended\tscript\tScript to be run when the media has reach the end (a useful event for messages like "thanks for listening"). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onerror\tscript\tScript to be run when an error occurs when the file is being loaded. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onloadeddata\tscript\tScript to be run when media data is loaded. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onloadedmetadata\tscript\tScript to be run when meta data (like dimensions and duration) are loaded. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onloadstart\tscript\tScript to be run just as the file begins to load before anything is actually loaded. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onpause\tscript\tScript to be run when the media is paused either by the user or programmatically. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onplay\tscript\tScript to be run when the media is ready to start playing. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onplaying\tscript\tScript to be run when the media actually has started playing. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onprogress\tscript\tScript to be run when the browser is in the process of getting the media data. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onratechange\tscript\tScript to be run each time the playback rate changes (like when a user switches to a slow motion or fast forward mode). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onseeked\tscript\tScript to be run when the seeking attribute is set to false indicating that seeking has ended. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onseeking\tscript\tScript to be run when the seeking attribute is set to true indicating that seeking is active. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onstalled\tscript\tScript to be run when the browser is unable to fetch the media data for whatever reason. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onsuspend\tscript\tScript to be run when fetching the media data is stopped before it is completely loaded for whatever reason. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event ontimeupdate\tscript\tScript to be run when the playing position has changed (like when the user fast forwards to a different point in the media). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onvolumechange\tscript\tScript to be run each time the volume is changed which (includes setting the volume to "mute"). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n@event onwaiting\tscript\tScript to be run when the media has paused but is expected to resume (like when the media pauses to buffer more data). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>). \n\n\n*/\n\n\n\n/*\n\n@event onerror\tscript\tFires when an error occurs while loading an external file. This is a Misc type Event. Comatible with HTML5. \n@event onshow\tscript\tFires when a <menu> element is shown as a context menu. This is a Misc type Event. Comatible with HTML5. \n@event ontoggle\tscript\tFires when the user opens or closes the <details> element. This is a Misc type Event. Comatible with HTML5. \n\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*\n@module html @class HTMLFormElement @extends HTMLElement\n\n@property accept\tfile_type\tNot supported in HTML5.\n@property Specifies a comma-separated list of file types  that the server accepts (that can be submitted through the file upload)\n@property accept-charset\tcharacter_set\tSpecifies the character encodings that are to be used for the form submission\n@property action\tURL\tSpecifies where to send the form-data when a form is submitted\n@property autocomplete\ton\n@property off\tSpecifies whether a form should have autocomplete on or off\n@property enctype\tapplication/x-www-form-urlencoded\n@property multipart/form-data\n@property text/plain\tSpecifies how the form-data should be encoded when submitting it to the server (only for method="post")\n@property method\tget\n@property post\tSpecifies the HTTP method to use when sending form-data\n@property name\ttext\tSpecifies the name of a form\n@property novalidate\tnovalidate\tSpecifies that the form should not be validated when submitted\n@property target\t_blank\n@property _self\n@property _parent\n@property _top\tSpecifies where to display the response that is received after submitting the form\n\n\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js\n\n/*@module html\n\n@class HTMLEvent\n(https://developer.mozilla.org/en-US/docs/Web/API/Event)\n\nThe Event interface represents any event of the DOM. It contains common properties and methods to any event.\n\n\n\n@constructor Creates an Event object.\n\n\n\n@property {Boolean} bubbles \nA boolean indicating whether the event bubbles up through the DOM or not.\n@readOnly\n\n\n\n\n@property {Boolean} cancelable \nA boolean indicating whether the event is cancelable.\n@readOnly\n\n\n\n\n@property {HTMLElement} currentTarget\n\nIdentifies the current target for the event, as the event traverses the DOM. It always refers to the element the event handler has been attached to as opposed to event.target which identifies the element on which the event occurred.\n\n##Example\n\nevent.currentTarget is interesting to use when attaching the same event handler to several elements.\n\n\tfunction hide(e){\n\t  e.currentTarget.style.visibility = "hidden";\n\t  // When this function is used as an event handler: this === e.currentTarget\n\t}\n\n\tvar ps = document.getElementsByTagName(\'p\');\n\n\tfor(var i = 0; i < ps.length; i++){\n\t  ps[i].addEventListener(\'click\', hide, false);\n\t}\n\n\t// click around and make paragraphs disappear\n\n##Browser compatibility\nOn Internet Explorer 6 through 8, the event model is different. Event listeners are attached with the non-standard element.attachEvent method. In this model, there is no equivalent to event.currentTarget and this is the global object. One solution to emulate the event.currentTarget feature is to wrap your handler in a function calling the handler using Function.prototype.call with the element as a first argument. This way, this will be the expected value.\n\n\n\n\n@property {Boolean} defaultPrevented Indicates whether or not event.preventDefault() has been called on the event.\n\n\n\n\n\n\n\n@property {Number} eventPhase\n\n##Summary\n\nIndicates which phase of the event flow is currently being evaluated.\n\n##Syntax\n\n\tvar phase = event.eventPhase;\n\t\nReturns an integer value which specifies the current evaluation phase of the event flow; possible values are listed in Event phase constants.\n\n##Event phase constants\n\nThese values describe which phase the event flow is currently being evaluated.\n\n\tConstant\tValue\tDescription\n\tEvent.NONE\t0\tNo event is being processed at this time.\n\tEvent.CAPTURING_PHASE\t1\tThe event is being propagated through the target\'s ancestor objects. This process starts with the Window, then Document, then the HTMLHtmlElement, and so on through the elements until the target\'s parent is reached. Event listeners registered for capture mode when EventTarget.addEventListener() was called are triggered during this phase.\n\tEvent.AT_TARGET\t2\tThe event has arrived at the event\'s target. Event listeners registered for this phase are called at this time. If Event.bubbles is true, processing the event is finished after this phase is complete.\n\tEvent.BUBBLING_PHASE\t3\tThe event is propagating back up through the target\'s ancestors in reverse order, starting with the parent, and eventually reaching the containing Window. This is known as bubbling, and occurs only if Event.bubbles is true. Event listeners registered for this phase are triggered during this process.\n\tFor more details, see section 3.1, Event dispatch and DOM event flow, of the DOM Level 3 Events specification.\n\n##Example\n\n\t<!DOCTYPE html>\n\t<html>\n\t<head> <title>Event Propagation</title>\n\t  <style type="text/css">\n\t    div { margin: 20px; padding: 4px; border: thin black solid; }\n\t    #divInfo { margin: 18px; padding: 8px; background-color:white; font-size:80%; }\n\t  </style>\n\t</head>\n\t<body>\n\t  <h4>Event Propagation Chain</h4>\n\t  <ul>\n\t    <li>Click \'d1\'</li>\n\t    <li>Analyse event propagation chain</li>\n\t    <li>Click next div and repeat the experience</li>\n\t    <li>Change Capturing mode</li>\n\t    <li>Repeat the experience</li>\n\t  </ul>\n\t  <input type="checkbox" id="chCapture" /> Use Capturing\n\t  <div id="d1">d1\n\t    <div id="d2">d2\n\t      <div id="d3">d3\n\t        <div id="d4">d4</div>\n\t      </div>\n\t    </div>\n\t  </div>\n\t  <div id="divInfo"></div>\n\t  <script>\n\t    var\n\t      clear = false,\n\t      divInfo = null,\n\t      divs = null,\n\t      useCapture = false;\n\t  window.onload = function ()\n\t  {\n\t    divInfo = document.getElementById("divInfo");\n\t    divs = document.getElementsByTagName(\'div\');\n\t    chCapture = document.getElementById("chCapture");\n\t    chCapture.onclick = function ()\n\t    {\n\t      RemoveListeners();\n\t      AddListeners();\n\t    }\n\t    Clear();\n\t    AddListeners();\n\t  }\n\t  function RemoveListeners()\n\t  {\n\t    for (var i = 0; i < divs.length; i++)\n\t    {\n\t      var d = divs[i];\n\t      if (d.id != "divInfo")\n\t      {\n\t        d.removeEventListener("click", OnDivClick, true);\n\t        d.removeEventListener("click", OnDivClick, false);\n\t      }\n\t    }\n\t  }\n\t  function AddListeners()\n\t  {\n\t    for (var i = 0; i < divs.length; i++)\n\t    {\n\t      var d = divs[i];\n\t      if (d.id != "divInfo")\n\t      {\n\t        d.addEventListener("click", OnDivClick, false);\n\t        if (chCapture.checked)\n\t          d.addEventListener("click", OnDivClick, true);\n\t        d.onmousemove = function () { clear = true; };\n\t      }\n\t    }\n\t  }\n\t  function OnDivClick(e)\n\t  {\n\t    if (clear)\n\t    {\n\t      Clear();\n\t      clear = false;\n\t    }\n\n\t    if (e.eventPhase == 2)\n\t      e.currentTarget.style.backgroundColor = \'red\';\n\t   \n\t    var level =\n\t        e.eventPhase == 0 ? "none" :\n\t        e.eventPhase == 1 ? "capturing" :\n\t        e.eventPhase == 2 ? "target" :\n\t        e.eventPhase == 3 ? "bubbling" : "error";\n\t    divInfo.innerHTML += e.currentTarget.id + "; eventPhase: " + level + "<br/>";\n\t  }\n\t  function Clear()\n\t  {\n\t    for (var i = 0; i < divs.length; i++)\n\t    {\n\t      if (divs[i].id != "divInfo")\n\t        divs[i].style.backgroundColor = (i & 1) ? "#f6eedb" : "#cceeff";\n\t    }\n\t    divInfo.innerHTML = \'\';\n\t  }\n\t  <\/script>\n\t</body>\n\t</html>\n\n\n\n\n\n\n\n@property {HTMLElement} target A reference to the target to which the event was originally dispatched.\n\n@property {Date} timeStamp The time that the event was created.\n\n@property {String} type The name of the event (case-insensitive).\n\n@property {Boolean} isTrusted Indicates whether or not the event was initiated by the browser (after a user click for instance) or by a script (using an event creation method, like event.initEvent)\n\n\n\n\n\n\n\n\n@method preventDefault\n##Summary\nCancels the event if it is cancelable, without stopping further propagation of the event.\n\n##Syntax\n\n\tevent.preventDefault();\n\n##Example\n\nToggling a checkbox is the default action of clicking on a checkbox. This example demonstrates how to prevent that from happening:\n\n\t<!DOCTYPE html>\n\t<html>\n\t<head>\n\t<title>preventDefault example</title>\n\n\t<script>\n\tfunction stopDefAction(evt) {\n\t    evt.preventDefault();\n\t}\n\t    \n\tdocument.getElementById(\'my-checkbox\').addEventListener(\n\t    \'click\', stopDefAction, false\n\t);\n\t<\/script>\n\t</head>\n\n\t<body>\n\n\t<p>Please click on the checkbox control.</p>\n\n\t<form>\n\t    <input type="checkbox" id="my-checkbox" />\n\t    <label for="my-checkbox">Checkbox</label>\n\t</form>\n\n\t</body>\n\t</html>\n\nYou can see preventDefault in action here.\n\nThe following example demonstrates how invalid text input can be stopped from reaching the input field with preventDefault().\n\n\t<!DOCTYPE html>\n\t<html>\n\t<head>\n\t<title>preventDefault example</title>\n\n\t<script>\n\tfunction Init () {\n\t    var myTextbox = document.getElementById(\'my-textbox\');\n\t    myTextbox.addEventListener( \'keypress\', checkName, false );\n\t}\n\n\tfunction checkName(evt) {\n\t    var charCode = evt.charCode;\n\t    if (charCode != 0) {\n\t        if (charCode < 97 || charCode > 122) {\n\t            evt.preventDefault();\n\t            alert(\n\t                "Please use lowercase letters only."\n\t                + "\\n" + "charCode: " + charCode + "\\n"\n\t            );\n\t        }\n\t    }\n\t}\n\t<\/script> \n\t</head> \n\t<body onload="Init ()"> \n\t    <p>Please enter your name using lowercase letters only.</p> \n\t    <form> \n\t        <input type="text" id="my-textbox" /> \n\t    </form> \n\t</body> \n\t</html>\n\n##Notes\nCalling preventDefault during any stage of event flow cancels the event, meaning that any default action normally taken by the implementation as a result of the event will not occur.\n\nNote: As of Gecko 6.0, calling preventDefault() causes the event.defaultPrevented property\'s value to become true.\nYou can use event.cancelable to check if the event is cancelable. Calling preventDefault for a non-cancelable event has no effect.\n\npreventDefault doesn\'t stop further propagation of the event through the DOM. event.stopPropagation should be used for that.\n\n\n\n\n\n\n\n\n@method stopImmediatePropagation\n\nPrevents other listeners of the same event from being called.For this particular event, no other listener will be called. Neither those attached on the same element, nor those attached on elements which will be traversed later (in capture phase, for instance)\n\n##Syntax\n\t\n\tevent.stopImmediatePropagation();\n\n##Notes\n\nIf several listeners are attached to the same element for the same event type, they are called in order in which they have been added. If during one such call, event.stopImmediatePropagation() is called, no remaining listeners will be called.\n\n\n\n\n\n\n@method stopPropagation\nPrevents further propagation of the current event.\n\n##Syntax\n\n\tevent.stopPropagation();\n\n##Example\n\nSee Example 5: Event Propagation in the Examples chapter for a more detailed example of this method and event propagation in the DOM.\n\n##Notes\n\nSee the DOM specification for the explanation of event flow. (The DOM Level 3 Events draft has an illustration.)\n\npreventDefault is a complementary method that can be used to prevent the default action of the event from happening.\n\n\n\n\n\n\n\n\n\n\n\n@class HTMLMouseEvent\n\n(form https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent)\n\n\n@extends DOMEvent\n\n\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js\n\n/*\n\n@module html\n@class HTMLElement \n\n@property accesskey\tSpecifies a shortcut key to activate/focus an element. Note: this is an attribute that can be used on any HTML element.\n@property class\tSpecifies one or more classnames for an element (refers to a class in a style sheet). Note: this is an attribute that can be used on any HTML element.\n@property contenteditable\tSpecifies whether the content of an element is editable or not. Note: this is an attribute that can be used on any HTML element.\n@property contextmenu\tSpecifies a context menu for an element. The context menu appears when a user right-clicks on the element. Note: this is an attribute that can be used on any HTML element.\n@property data-*\tUsed to store custom data private to the page or application. Note: this is an attribute that can be used on any HTML element.\n@property dir\tSpecifies the text direction for the content in an element. Note: this is an attribute that can be used on any HTML element.\n@property draggable\tSpecifies whether an element is draggable or not. Note: this is an attribute that can be used on any HTML element.\n@property dropzone\tSpecifies whether the dragged data is copied, moved, or linked, when dropped. Note: this is an attribute that can be used on any HTML element.\n@property hidden\tSpecifies that an element is not yet, or is no longer, relevant. Note: this is an attribute that can be used on any HTML element.\n@property id\tSpecifies a unique id for an element. Note: this is an attribute that can be used on any HTML element.\n@property lang\tSpecifies the language of the element\'s content. Note: this is an attribute that can be used on any HTML element.\n@property spellcheck\tSpecifies whether the element is to have its spelling and grammar checked or not. Note: this is an attribute that can be used on any HTML element.\n@property style\tSpecifies an inline CSS style for an element. Note: this is an attribute that can be used on any HTML element.\n@property tabindex\tSpecifies the tabbing order of an element. Note: this is an attribute that can be used on any HTML element.\n@property title\tSpecifies extra information about an element. Note: this is an attribute that can be used on any HTML element.\n@property translate\tSpecifies whether the content of an element should be translated or not. Note: this is an attribute that can be used on any HTML element.\n\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js\n\n/*\n\n@module Backbone\n@class Backbone.Collection\n\nCollections are ordered sets of models. You can bind "change" events to be notified when any model in the collection has been modified, listen for "add" and "remove" events, fetch the collection from the server, and use a full suite of Underscore.js methods.\n\nAny event that is triggered on a model in a collection will also be triggered on the collection directly, for convenience. This allows you to listen for changes to specific attributes in any model in a collection, for example: documents.on("change:selected", ...)\n\n\n\n@method extend\nTo create a Collection class of your own, extend Backbone.Collection, providing instance properties, as well as optional classProperties to be attached directly to the collection\'s constructor function.\n\n@param {Object} properties\n@param {Object} classProperties Optional\n*/\n\n\n/* @method model \nOverride this property to specify the model class that the collection contains. If defined, you can pass raw attributes objects (and arrays) to add, create, and reset, and the attributes will be converted into a model of the proper type.\n\n\tvar Library = Backbone.Collection.extend({\n\t  model: Book\n\t});\nA collection can also contain polymorphic models by overriding this property with a constructor that returns a model.\n\n\tvar Library = Backbone.Collection.extend({\n\n\t  model: function(attrs, options) {\n\t    if (condition) {\n\t      return new PublicDocument(attrs, options);\n\t    } else {\n\t      return new PrivateDocument(attrs, options);\n\t    }\n\t  }\n\t});\n@param {Object}attrs\n@param {Object} options\n\n*/\n\n\n\n/*\n@constructor\n\nWhen creating a Collection, you may choose to pass in the initial array of models. The collection\'s comparator may be included as an option. Passing false as the comparator option will prevent sorting. If you define an initialize function, it will be invoked when the collection is created. There are a couple of options that, if provided, are attached to the collection directly: model and comparator.\n\n\tvar tabs = new TabSet([tab1, tab2, tab3]);\n\tvar spaces = new Backbone.Collection([], {\n\t  model: Space\n\t});\n\n@param {Array} models optional\n@param {Object} options optional\n\n*/\n\n\n/*\n@property {Array} models\nRaw access to the JavaScript array of models inside of the collection. Usually you\'ll want to use get, at, or the Underscore methods to access model objects, but occasionally a direct reference to the array is desired.\n*/\n\n\n/*@method toJSON\nReturn an array containing the attributes hash of each model (via toJSON) in the collection. This can be used to serialize and persist the collection as a whole. The name of this method is a bit confusing, because it conforms to JavaScript\'s JSON API.\n\n\tvar collection = new Backbone.Collection([\n\t  {name: "Tim", age: 5},\n\t  {name: "Ida", age: 26},\n\t  {name: "Rob", age: 55}\n\t]);\n\n\talert(JSON.stringify(collection));\n\n@returns {Array}\n\n*/\n\n/*\n@method sync\nsynccollection.sync(method, collection, [options]) \nUses Backbone.sync to persist the state of a collection to the server. Can be overridden for custom behavior.\n\n\n@param {String} method\n@param {Backbone.Collection} collection\n@param {Object} options optional\n\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js\n\n\n//@module Backbone\n\n/*\n@class Backbone.Events\n\nEvents is a module that can be mixed in to any object, giving the object the ability to bind and trigger custom named events. Events do not have to be declared before they are bound, and may take passed arguments. For example:\n\n\tvar object = {};\n\n\t_.extend(object, Backbone.Events);\n\n\tobject.on("alert", function(msg) {\n\t  alert("Triggered " + msg);\n\t});\n\n\tobject.trigger("alert", "an event");\n\t\nFor example, to make a handy event dispatcher that can coordinate events among different areas of your application: var dispatcher = _.clone(Backbone.Events)\n\n\n#Catalog of Events \nHere\'s the complete list of built-in Backbone events, with arguments. You\'re also free to trigger your own events on Models, Collections and Views as you see fit. The Backbone object itself mixes in Events, and can be used to emit any global events that your application needs.\n\n\t"add" (model, collection, options)  when a model is added to a collection.\n\t"remove" (model, collection, options)  when a model is removed from a collection.\n\t"reset" (collection, options)  when the collection\'s entire contents have been replaced.\n\t"sort" (collection, options)  when the collection has been re-sorted.\n\t"change" (model, options)  when a model\'s attributes have changed.\n\t"change:[attribute]" (model, value, options)  when a specific attribute has been updated.\n\t"destroy" (model, collection, options)  when a model is destroyed.\n\t"request" (model_or_collection, xhr, options)  when a model or collection has started a request to the server.\n\t"sync" (model_or_collection, resp, options)  when a model or collection has been successfully synced with the server.\n\t"error" (model_or_collection, resp, options)  when model\'s or collection\'s request to remote server has failed.\n\t"invalid" (model, error, options)  when a model\'s validation fails on the client.\n\t"route:[name]" (params)  Fired by the router when a specific route is matched.\n\t"route" (route, params)  Fired by the router when any route has been matched.\n\t"route" (router, route, params)  Fired by history when any route has been matched.\n\t"all"  this special event fires for any triggered event, passing the event name as the first argument.\nGenerally speaking, when calling a function that emits an event (model.set, collection.add, and so on...), if you\'d like to prevent the event from being triggered, you may pass {silent: true} as an option. Note that this is rarely, perhaps even never, a good idea. Passing through a specific flag in the options for your event callback to look at, and choose to ignore, will usually work out better.\n\n*/\n\n\n\n/*\n@method bind\n\nAlias on\n\nBind a callback function to an object. The callback will be invoked whenever the event is fired. If you have a large number of different events on a page, the convention is to use colons to namespace them: "poll:start", or "change:selection". The event string may also be a space-delimited list of several events...\n\n\tbook.on("change:title change:author", ...);\n\nTo supply a context value for this when the callback is invoked, pass the optional third argument: model.on(\'change\', this.render, this)\n\nCallbacks bound to the special "all" event will be triggered when any event occurs, and are passed the name of the event as the first argument. For example, to proxy all events from one object to another:\n\n\tproxy.on("all", function(eventName) {\n\t  object.trigger(eventName);\n\t});\nAll Backbone event methods also support an event map syntax, as an alternative to positional arguments:\n\n\tbook.on({\n\t  "change:title": titleView.update,\n\t  "change:author": authorPane.update,\n\t  "destroy": bookView.remove\n\t});\n\n@param {String} event\n@param {Function} callback\n@param {Object} context optional\n*/\n\n\n\n/*\n@method off\nRemove a previously-bound callback function from an object. If no context is specified, all of the versions of the callback with different contexts will be removed. If no callback is specified, all callbacks for the event will be removed. If no event is specified, callbacks for all events will be removed.\n\n\t// Removes just the `onChange` callback.\n\tobject.off("change", onChange);\n\n\t// Removes all "change" callbacks.\n\tobject.off("change");\n\n\t// Removes the `onChange` callback for all events.\n\tobject.off(null, onChange);\n\n\t// Removes all callbacks for `context` for all events.\n\tobject.off(null, null, context);\n\n\t// Removes all callbacks on `object`.\n\tobject.off();\nNote that calling model.off(), for example, will indeed remove all events on the model  including events that Backbone uses for internal bookkeeping.\n*/\n\n\n\n/*@method trigger\nTrigger callbacks for the given event, or space-delimited list of events. Subsequent arguments to trigger will be passed along to the event callbacks.\n*/\n\n\n\n/*@method once\nJust like on, but causes the bound callback to only fire once before being removed. Handy for saying "the next time that X happens, do this".\n@param {String}event\n@param {Function} callback\n*/\n\n\n/*\n@method listenTo\n\nTell an object to listen to a particular event on an other object. The advantage of using this form, instead of other.on(event, callback, object), is that listenTo allows the object to keep track of the events, and they can be removed all at once later on. The callback will always be called with object as context.\n\n\tview.listenTo(model, \'change\', view.render);\n\n@param {Backbone.Events} other\n@param {String} event\n@param {Function} calback\n*/\n\n\n\n/*\n@method stopListening\n\nTell an object to stop listening to events. Either call stopListening with no arguments to have the object remove all of its registered callbacks ... or be more precise by telling it to remove just the events it\'s listening to on a specific object, or a specific event, or just a specific callback.\n\n\tview.stopListening();\n\n\tview.stopListening(model);\n\n\n@param {Backbone.Events} other optional\n@param {String} event optional\n@param {Function} calback optional\n\n*/\n\n\n/*@method listenToOnce\nJust like listenTo, but causes the bound callback to only fire once before being removed.\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-history.js\n\n/*@module Backbone\n\n@class Backbone.History\n\n*History* serves as a global router (per frame) to handle hashchange events or pushState, match the appropriate route, and trigger callbacks. You shouldn\'t ever have to create one of these yourself since Backbone.history already contains one.\n\n*pushState support* exists on a purely opt-in basis in Backbone. Older browsers that don\'t support pushState will continue to use hash-based URL fragments, and if a hash URL is visited by a pushState-capable browser, it will be transparently upgraded to the true URL. Note that using real URLs requires your web server to be able to correctly render those pages, so back-end changes are required as well. For example, if you have a route of /documents/100, your web server must be able to serve that page, if the browser visits that URL directly. For full search-engine crawlability, it\'s best to have the server generate the complete HTML for the page ... but if it\'s a web application, just rendering the same content you would have for the root URL, and filling in the rest with Backbone Views and JavaScript works fine.\n\n\n@method start\n\nWhen all of your Routers have been created, and all of the routes are set up properly, call Backbone.history.start() to begin monitoring hashchange events, and dispatching routes. Subsequent calls to Backbone.history.start() will throw an error, and Backbone.History.started is a boolean value indicating whether it has already been called.\n\nTo indicate that you\'d like to use HTML5 pushState support in your application, use Backbone.history.start({pushState: true}). If you\'d like to use pushState, but have browsers that don\'t support it natively use full page refreshes instead, you can add {hashChange: false} to the options.\n\nIf your application is not being served from the root url / of your domain, be sure to tell History where the root really is, as an option: Backbone.history.start({pushState: true, root: "/public/search/"})\n\nWhen called, if a route succeeds with a match for the current URL, Backbone.history.start() returns true. If no defined route matches the current URL, it returns false.\n\nIf the server has already rendered the entire page, and you don\'t want the initial route to trigger when starting History, pass silent: true.\n\nBecause hash-based history in Internet Explorer relies on an <iframe>, be sure to only call start() after the DOM is ready.\n\n\t$(function(){\n\t  new WorkspaceRouter();\n\t  new HelpPaneRouter();\n\t  Backbone.history.start({pushState: true});\n\t});\n\n@param {Object} options\n\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js\n\n/*\n@module Backbone\n@class Backbone.Model \n\n\nModels are the heart of any JavaScript application, containing the interactive data as well as a large part of the logic surrounding it: conversions, validations, computed properties, and access control. You extend Backbone.Model with your domain-specific methods, and Model provides a basic set of functionality for managing changes.\n\nThe following is a contrived example, but it demonstrates defining a model with a custom method, setting an attribute, and firing an event keyed to changes in that specific attribute. After running this code once, sidebar will be available in your browser\'s console, so you can play around with it.\n\n\tvar Sidebar = Backbone.Model.extend({\n\t  promptColor: function() {\n\t    var cssColor = prompt("Please enter a CSS color:");\n\t    this.set({color: cssColor});\n\t  }\n\t});\n\n\twindow.sidebar = new Sidebar;\n\n\tsidebar.on(\'change:color\', function(model, color) {\n\t  $(\'#sidebar\').css({background: color});\n\t});\n\n\tsidebar.set({color: \'white\'});\n\n\tsidebar.promptColor();\n\n@extends Backbone.Events\n\n*/\n\n\n\n\n/*\n@method extend\n\nTo create a Model class of your own, you extend Backbone.Model and provide instance properties, as well as optional classProperties to be attached directly to the constructor function.\n\nextend correctly sets up the prototype chain, so subclasses created with extend can be further extended and subclassed as far as you like.\n\n\tvar Note = Backbone.Model.extend({\n\n\t  initialize: function() { ... },\n\n\t  author: function() { ... },\n\n\t  coordinates: function() { ... },\n\n\t  allowedToEdit: function(account) {\n\t    return true;\n\t  }\n\n\t});\n\n\tvar PrivateNote = Note.extend({\n\n\t  allowedToEdit: function(account) {\n\t    return account.owns(this);\n\t  }\n\n\t});\n\n#super\n\nBrief aside on super: JavaScript does not provide a simple way to call super  the function of the same name defined higher on the prototype chain. If you override a core function like set, or save, and you want to invoke the parent object\'s implementation, you\'ll have to explicitly call it, along these lines:\n\n\tvar Note = Backbone.Model.extend({\n\t  set: function(attributes, options) {\n\t    Backbone.Model.prototype.set.apply(this, arguments);\n\t    ...\n\t  }\n\t});\n\n\n\n@static\n@param {Object} properties\n@param {Object} classProperties\n*/\n\n\n\n/*\n@method initialize\n\nUse like this:\n\n\tnew Model([attributes], [options]) \n\nWhen creating an instance of a model, you can pass in the initial values of the attributes, which will be set on the model. If you define an initialize function, it will be invoked when the model is created.\n\n\tnew Book({\n\t  title: "One Thousand and One Nights",\n\t  author: "Scheherazade"\n\t});\nIn rare cases, if you\'re looking to get fancy, you may want to override constructor, which allows you to replace the actual constructor function for your model.\n\n\tvar Library = Backbone.Model.extend({\n\t  constructor: function() {\n\t    this.books = new Books();\n\t    Backbone.Model.apply(this, arguments);\n\t  },\n\t  parse: function(data, options) {\n\t    this.books.reset(data.books);\n\t    return data.library;\n\t  }\n\t});\nIf you pass a {collection: ...} as the options, the model gains a collection property that will be used to indicate which collection the model belongs to, and is used to help compute the model\'s url. The model.collection property is normally created automatically when you first add a model to a collection. Note that the reverse is not true, as passing this option to the constructor will not automatically add the model to the collection. Useful, sometimes.\n\nIf {parse: true} is passed as an option, the attributes will first be converted by parse before being set on the model.\n\n*/\n\n\n\n/*@method get\nGet the current value of an attribute from the model. For example: note.get("title")\n@param {String} name the property name to get\n@returns {Any} the value of the property\n*/\n\n\n\n\n/*\n@method set\n\nSet a hash of attributes (one or many) on the model. If any of the attributes change the model\'s state, a "change" event will be triggered on the model. Change events for specific attributes are also triggered, and you can bind to those as well, for example: change:title, and change:content. You may also pass individual keys and values.\n\n\tnote.set({title: "March 20", content: "In his eyes she eclipses..."});\n\n\tbook.set("title", "A Scandal in Bohemia");\n\n@param {String} name\n@param {Any} value\n@param {Object} options Optional\n*/\n\n\n\n\n/*\n@method escape\n\nSimilar to get, but returns the HTML-escaped version of a model\'s attribute. If you\'re interpolating data from the model into HTML, using escape to retrieve attributes will prevent XSS attacks.\n\n\tvar hacker = new Backbone.Model({\n\t  name: "<script>alert(\'xss\')<\/script>"\n\t});\n\n\talert(hacker.escape(\'name\'));\n*/\n\n\n/*\n@method has\nReturns true if the attribute is set to a non-null or non-undefined value.\n\n\tif (note.has("title")) {\n\t  ...\n\t}\n\n@param {String} name\n*/\n\n\n/*\n@method unset\nRemove an attribute by deleting it from the internal attributes hash. Fires a "change" event unless silent is passed as an option.\n@param {String}attribute\n@param {Object} options Optional\n*/\n\n\n\n\n/*\n@method clear\n\nRemoves all attributes from the model, including the id attribute. Fires a "change" event unless silent is passed as an option.\n\n@param {Object} options Optional\n*/\n\n\n/*\n@property {String} id \n\nA special property of models, the id is an arbitrary string (integer id or UUID). If you set the id in the attributes hash, it will be copied onto the model as a direct property. Models can be retrieved by id from collections, and the id is used to generate model URLs by default.\n*/\n\n\n\n/*\n@property {String} idAttribute\nA model\'s unique identifier is stored under the id attribute. If you\'re directly communicating with a backend (CouchDB, MongoDB) that uses a different unique key, you may set a Model\'s idAttribute to transparently map from that key to id.\n\n\tvar Meal = Backbone.Model.extend({\n\t  idAttribute: "_id"\n\t});\n\n\tvar cake = new Meal({ _id: 1, name: "Cake" });\n\talert("Cake id: " + cake.id);\n*/\n\n\n\n/*\n@property {String} cid \n\nA special property of models, the cid or client id is a unique identifier automatically assigned to all models when they\'re first created. Client ids are handy when the model has not yet been saved to the server, and does not yet have its eventual true id, but already needs to be visible in the UI.\n*/\n\n\n\n/*@property {Object}attributes\nThe attributes property is the internal hash containing the model\'s state  usually (but not necessarily) a form of the JSON object representing the model data on the server. It\'s often a straightforward serialization of a row from the database, but it could also be client-side computed state.\n\nPlease use set to update the attributes instead of modifying them directly. If you\'d like to retrieve and munge a copy of the model\'s attributes, use _.clone(model.attributes) instead.\n\nDue to the fact that Events accepts space separated lists of events, attribute names should not include spaces.\n*/\n\n\n\n\n\n/*\n@property{Object}changed\nThe changed property is the internal hash containing all the attributes that have changed since the last set. Please do not update changed directly since its state is internally maintained by set. A copy of changed can be acquired from changedAttributes.\n*/\n\n\n\n/*\n@property{Object}defaults\nThe defaults hash (or function) can be used to specify the default attributes for your model. When creating an instance of the model, any unspecified attributes will be set to their default value.\n\n\tvar Meal = Backbone.Model.extend({\n\t  defaults: {\n\t    "appetizer":  "caesar salad",\n\t    "entree":     "ravioli",\n\t    "dessert":    "cheesecake"\n\t  }\n\t});\n\n\talert("Dessert will be " + (new Meal).get(\'dessert\'));\nRemember that in JavaScript, objects are passed by reference, so if you include an object as a default value, it will be shared among all instances. Instead, define defaults as a function.\n*/\n\n\n\n\n\n\n\n/*\n@method toJSON \nReturn a shallow copy of the model\'s attributes for JSON stringification. This can be used for persistence, serialization, or for augmentation before being sent to the server. The name of this method is a bit confusing, as it doesn\'t actually return a JSON string  but I\'m afraid that it\'s the way that the JavaScript API for JSON.stringify works.\n\n\tvar artist = new Backbone.Model({\n\t  firstName: "Wassily",\n\t  lastName: "Kandinsky"\n\t});\n\n\tartist.set({birthday: "December 16, 1866"});\n\n\talert(JSON.stringify(artist));\n\n@param {Object} options Optional\n@return {String}\n*/\n\n\n\n\n/*\n@method sync\nUses Backbone.sync to persist the state of a model to the server. Can be overridden for custom behavior.\n@param {String} method\n@param {Backbone.Model} model\n@param {Object} options Optional\n@static\n*/\n\n\n\n\n/*\n@method fetch\n\nResets the model\'s state from the server by delegating to Backbone.sync. Returns a jqXHR. Useful if the model has never been populated with data, or if you\'d like to ensure that you have the latest server state. A "change" event will be triggered if the server\'s state differs from the current attributes. Accepts success and error callbacks in the options hash, which are both passed (model, response, options) as arguments.\n\n\t// Poll every 10 seconds to keep the channel model up-to-date.\n\tsetInterval(function() {\n\t  channel.fetch();\n\t}, 10000);\n\n@param {Object} options Optional\n*/\n\n\n\n\n/*\n@method save\n\nSave a model to your database (or alternative persistence layer), by delegating to Backbone.sync. Returns a jqXHR if validation is successful and false otherwise. The attributes hash (as in set) should contain the attributes you\'d like to change  keys that aren\'t mentioned won\'t be altered  but, a complete representation of the resource will be sent to the server. As with set, you may pass individual keys and values instead of a hash. If the model has a validate method, and validation fails, the model will not be saved. If the model isNew, the save will be a "create" (HTTP POST), if the model already exists on the server, the save will be an "update" (HTTP PUT).\n\nIf instead, you\'d only like the changed attributes to be sent to the server, call model.save(attrs, {patch: true}). You\'ll get an HTTP PATCH request to the server with just the passed-in attributes.\n\nCalling save with new attributes will cause a "change" event immediately, a "request" event as the Ajax request begins to go to the server, and a "sync" event after the server has acknowledged the successful change. Pass {wait: true} if you\'d like to wait for the server before setting the new attributes on the model.\n\nIn the following example, notice how our overridden version of Backbone.sync receives a "create" request the first time the model is saved and an "update" request the second time.\n\n\tBackbone.sync = function(method, model) {\n\t  alert(method + ": " + JSON.stringify(model));\n\t  model.set(\'id\', 1);\n\t};\n\n\tvar book = new Backbone.Model({\n\t  title: "The Rough Riders",\n\t  author: "Theodore Roosevelt"\n\t});\n\n\tbook.save();\n\n\tbook.save({author: "Teddy"});\n\nsave accepts success and error callbacks in the options hash, which will be passed the arguments (model, response, options). If a server-side validation fails, return a non-200 HTTP response code, along with an error response in text or JSON.\n\n\tbook.save("author", "F.D.R.", {error: function(){ ... }});\n\n@param {Object} attributes optional\n@param {Object} options optional\n\n*/\n\n\n\n\n\n/*\n@method destroy\n\nDestroys the model on the server by delegating an HTTP DELETE request to Backbone.sync. Returns a jqXHR object, or false if the model isNew. Accepts success and error callbacks in the options hash, which will be passed (model, response, options). Triggers a "destroy" event on the model, which will bubble up through any collections that contain it, a "request" event as it begins the Ajax request to the server, and a "sync" event, after the server has successfully acknowledged the model\'s deletion. Pass {wait: true} if you\'d like to wait for the server to respond before removing the model from the collection.\n\n\tbook.destroy({success: function(model, response) {\n\t  ...\n\t}});\n\n@param {Object} options optional\n\n*/\n\n\n\n\n\n/*\n\n@method validate\n\nThis method is left undefined, and you\'re encouraged to override it with your custom validation logic, if you have any that can be performed in JavaScript. By default validate is called before save, but can also be called before set if {validate:true} is passed. The validate method is passed the model attributes, as well as the options from set or save. If the attributes are valid, don\'t return anything from validate; if they are invalid, return an error of your choosing. It can be as simple as a string error message to be displayed, or a complete error object that describes the error programmatically. If validate returns an error, save will not continue, and the model attributes will not be modified on the server. Failed validations trigger an "invalid" event, and set the validationError property on the model with the value returned by this method.\n\n\tvar Chapter = Backbone.Model.extend({\n\t  validate: function(attrs, options) {\n\t    if (attrs.end < attrs.start) {\n\t      return "can\'t end before it starts";\n\t    }\n\t  }\n\t});\n\n\tvar one = new Chapter({\n\t  title : "Chapter One: The Beginning"\n\t});\n\n\tone.on("invalid", function(model, error) {\n\t  alert(model.get("title") + " " + error);\n\t});\n\n\tone.save({\n\t  start: 15,\n\t  end:   10\n\t});\n\n"invalid" events are useful for providing coarse-grained error messages at the model or collection level.\n\n@param {Object} attributes optional\n@param {Object} options optional\n\n*/\n\n\n/*\n@property {Error} validation\nThe value returned by validate during the last failed validation.\n\n\n*/\n\n\n\n/*@method isValid\n\nRun validate to check the model state.\n\n\tvar Chapter = Backbone.Model.extend({\n\t  validate: function(attrs, options) {\n\t    if (attrs.end < attrs.start) {\n\t      return "can\'t end before it starts";\n\t    }\n\t  }\n\t});\n\n\tvar one = new Chapter({\n\t  title : "Chapter One: The Beginning"\n\t});\n\n\tone.set({\n\t  start: 15,\n\t  end:   10\n\t});\n\n\tif (!one.isValid()) {\n\t  alert(one.get("title") + " " + one.validationError);\n\t}\n\n@return {boolean} true if model is valid\n*/\n\n\n\n/*@method url\nReturns the relative URL where the model\'s resource would be located on the server. If your models are located somewhere else, override this method with the correct logic. Generates URLs of the form: "[collection.url]/[id]" by default, but you may override by specifying an explicit urlRoot if the model\'s collection shouldn\'t be taken into account.\n\nDelegates to Collection#url to generate the URL, so make sure that you have it defined, or a urlRoot property, if all models of this class share a common root URL. A model with an id of 101, stored in a Backbone.Collection with a url of "/documents/7/notes", would have this URL: "/documents/7/notes/101"\n\n@return {String} the relative of url for this model\n*/\n\n\n/*\n@property {Function|String} urlRoot\n\nSpecify a urlRoot if you\'re using a model outside of a collection, to enable the default url function to generate URLs based on the model id. "[urlRoot]/id"\nNormally, you won\'t need to define this. Note that urlRoot may also be a function.\n\n\tvar Book = Backbone.Model.extend({urlRoot : \'/books\'});\n\n\tvar solaris = new Book({id: "1083-lem-solaris"});\n\n\talert(solaris.url());\n*/\n\n\n\n\n/*\n@method parse\nparse is called whenever a model\'s data is returned by the server, in fetch, and save. The function is passed the raw response object, and should return the attributes hash to be set on the model. The default implementation is a no-op, simply passing through the JSON response. Override this if you need to work with a preexisting API, or better namespace your responses.\n\nIf you\'re working with a Rails backend that has a version prior to 3.1, you\'ll notice that its default to_json implementation includes a model\'s attributes under a namespace. To disable this behavior for seamless Backbone integration, set:\n\n\tActiveRecord::Base.include_root_in_json = false\n\n@param {Object} response \n@param {Object} options\n\n*/\n\n\n/*\n@method clone\n\nReturns a new instance of the model with identical attributes.\n\n*/\n\n\n/*@method isNew\nHas this model been saved to the server yet? If the model does not yet have an id, it is considered to be new.\n@return {boolean}\n*/\n\n\n/*\n@method hasChanged\nHas the model changed since the last set? If an attribute is passed, returns true if that specific attribute has changed.\n\nNote that this method, and the following change-related ones, are only useful during the course of a "change" event.\n\n\tbook.on("change", function() {\n\t  if (book.hasChanged("title")) {\n\t    ...\n\t  }\n\t});\n\n@param {String} attribute optional\n\n*/\n\n\n/*\n@method changedAttributes\nRetrieve a hash of only the model\'s attributes that have changed since the last set, or false if there are none. Optionally, an external attributes hash can be passed in, returning the attributes in that hash which differ from the model. This can be used to figure out which portions of a view should be updated, or what calls need to be made to sync the changes to the server.\n\n@param {Object} attributes optional\n*/\n\n\n/*\n@method previous\nDuring a "change" event, this method can be used to get the previous value of a changed attribute.\n\n\tvar bill = new Backbone.Model({\n\t  name: "Bill Smith"\n\t});\n\n\tbill.on("change:name", function(model, name) {\n\t  alert("Changed name from " + bill.previous("name") + " to " + name);\n\t});\n\n\tbill.set({name : "Bill Jones"});\n\n@param {String} attribute optional\n*/\n\n\n/* @method previousAttributes\nReturn a copy of the model\'s previous attributes. Useful for getting a diff between versions of a model, or getting back to a valid state after an error occurs.\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js\n\n/*\n@module Backbone\n@class Backbone.Router\n\nWeb applications often provide linkable, bookmarkable, shareable URLs for important locations in the app. Until recently, hash fragments (#page) were used to provide these permalinks, but with the arrival of the History API, it\'s now possible to use standard URLs (/page). Backbone.Router provides methods for routing client-side pages, and connecting them to actions and events. For browsers which don\'t yet support the History API, the Router handles graceful fallback and transparent translation to the fragment version of the URL.\n\nDuring page load, after your application has finished creating all of its routers, be sure to call Backbone.history.start(), or Backbone.history.start({pushState: true}) to route the initial URL.\n\n*/\n\n\n\n/*\n@method extend \n\nGet started by creating a custom router class. Define actions that are triggered when certain URL fragments are matched, and provide a routes hash that pairs routes to actions. Note that you\'ll want to avoid using a leading slash in your route definitions:\n\n\tvar Workspace = Backbone.Router.extend({\n\n\t  routes: {\n\t    "help":                 "help",    // #help\n\t    "search/:query":        "search",  // #search/kiwis\n\t    "search/:query/p:page": "search"   // #search/kiwis/p7\n\t  },\n\n\t  help: function() {\n\t    ...\n\t  },\n\n\t  search: function(query, page) {\n\t    ...\n\t  }\n\n\t});\n\n@param {Object} properties\n@param {Object} classProperties Optional\n@static\n*/\n\n/*\n\n@property {Object<String,String>}routes\n\nThe routes hash maps URLs with parameters to functions on your router (or just direct function definitions, if you prefer), similar to the View\'s events hash. Routes can contain parameter parts, :param, which match a single URL component between slashes; and splat parts *splat, which can match any number of URL components. Part of a route can be made optional by surrounding it in parentheses (/:optional).\n\nFor example, a route of "search/:query/p:page" will match a fragment of #search/obama/p2, passing "obama" and "2" to the action.\n\nA route of "file/*path" will match #file/nested/folder/file.txt, passing "nested/folder/file.txt" to the action.\n\nA route of "docs/:section(/:subsection)" will match #docs/faq and #docs/faq/installing, passing "faq" to the action in the first case, and passing "faq" and "installing" to the action in the second.\n\nTrailing slashes are treated as part of the URL, and (correctly) treated as a unique route when accessed. docs and docs/ will fire different callbacks. If you can\'t avoid generating both types of URLs, you can define a "docs(/)" matcher to capture both cases.\n\nWhen the visitor presses the back button, or enters a URL, and a particular route is matched, the name of the action will be fired as an event, so that other objects can listen to the router, and be notified. In the following example, visiting #help/uploading will fire a route:help event from the router.\n\n\troutes: {\n\t  "help/:page":         "help",\n\t  "download/*path":     "download",\n\t  "folder/:name":       "openFolder",\n\t  "folder/:name-:mode": "openFolder"\n\t}\n\trouter.on("route:help", function(page) {\n\t  ...\n\t});\n\n*/\n\n\n/*@constructor\nWhen creating a new router, you may pass its routes hash directly as an option, if you choose. All options will also be passed to your initialize function, if defined.\n@param {Object}options Optional\n*/\n\n\n\n/*\n@method route\n\nManually create a route for the router, The route argument may be a routing string or regular expression. Each matching capture from the route or regular expression will be passed as an argument to the callback. The name argument will be triggered as a "route:name" event whenever the route is matched. If the callback argument is omitted router[name] will be used instead. Routes added later may override previously declared routes.\n\n\tinitialize: function(options) {\n\n\t  // Matches #page/10, passing "10"\n\t  this.route("page/:number", "page", function(number){ ... });\n\n\t  // Matches /117-a/b/c/open, passing "117-a/b/c" to this.open\n\t  this.route(/^(.*?)\\/open$/, "open");\n\n\t},\n\n\topen: function(id) { ... }\n\n@param {String}route\n@param {String } name\n@param {Function} handler Optional\n*/\n\n\n\n\n/*\n@method navigate\nWhenever you reach a point in your application that you\'d like to save as a URL, call navigate in order to update the URL. If you wish to also call the route function, set the trigger option to true. To update the URL without creating an entry in the browser\'s history, set the replace option to true.\n\n\topenPage: function(pageNumber) {\n\t  this.document.pages.at(pageNumber).open();\n\t  this.navigate("page/" + pageNumber);\n\t}\n\n# Or ...\n\n\tapp.navigate("help/troubleshooting", {trigger: true});\n\nOr ...\n\n\tapp.navigate("help/troubleshooting", {trigger: true, replace: true});\n\n@param {String} fragment\n@param {Object}options Optional\n*/\n\n\n/*\n@method execute\n\nThis method is called internally within the router, whenever a route matches and its corresponding callback is about to be executed. Override it to perform custom parsing or wrapping of your routes, for example, to parse query strings before handing them to your route callback, like so:\n\n\tvar Router = Backbone.Router.extend({\n\t  execute: function(callback, args) {\n\t    args.push(parseQueryString(args.pop()));\n\t    if (callback) callback.apply(this, args);\n\t  }\n\t});\n\n@param {Function} callback\n@param {Any} args\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js\n\n/*\n\n@module Backbone\n\n@class Backbone.View\n\nBackbone views are almost more convention than they are code  they don\'t determine anything about your HTML or CSS for you, and can be used with any JavaScript templating library. The general idea is to organize your interface into logical views, backed by models, each of which can be updated independently when the model changes, without having to redraw the page. Instead of digging into a JSON object, looking up an element in the DOM, and updating the HTML by hand, you can bind your view\'s render function to the model\'s "change" event  and now everywhere that model data is displayed in the UI, it is always immediately up to date.\n\n@extend Backbone.Events\n\n*/\n\n/*@method extend\n\n\nGet started with views by creating a custom view class. You\'ll want to override the render function, specify your declarative events, and perhaps the tagName, className, or id of the View\'s root element.\n\n\tvar DocumentRow = Backbone.View.extend({\n\n\t  tagName: "li",\n\n\t  className: "document-row",\n\n\t  events: {\n\t    "click .icon":          "open",\n\t    "click .button.edit":   "openEditDialog",\n\t    "click .button.delete": "destroy"\n\t  },\n\n\t  initialize: function() {\n\t    this.listenTo(this.model, "change", this.render);\n\t  },\n\n\t  render: function() {\n\t    ...\n\t  }\n\n\t});\nProperties like tagName, id, className, el, and events may also be defined as a function, if you want to wait to define them until runtime.\n\n@static\n*/\n\n\n\n/* @method initialize\n\nThere are several special options that, if passed, will be attached directly to the view: model, collection, el, id, className, tagName, attributes and events. If the view defines an initialize function, it will be called when the view is first created. If you\'d like to create a view that references an element already in the DOM, pass in the element as an option: new View({el: existingElement})\n\n\tvar doc = documents.first();\n\n\tnew DocumentRow({\n\t  model: doc,\n\t  id: "document-row-" + doc.id\n\t});\n\n@param {Any}options Optional\n\n*/\n\n/*\n@property {HTMLElement} el\nAll views have a DOM element at all times (the el property), whether they\'ve already been inserted into the page or not. In this fashion, views can be rendered at any time, and inserted into the DOM all at once, in order to get high-performance UI rendering with as few reflows and repaints as possible. this.el is created from the view\'s tagName, className, id and attributes properties, if specified. If not, el is an empty div.\n\n\tvar ItemView = Backbone.View.extend({\n\t  tagName: \'li\'\n\t});\n\n\tvar BodyView = Backbone.View.extend({\n\t  el: \'body\'\n\t});\n\n\tvar item = new ItemView();\n\tvar body = new BodyView();\n\n\talert(item.el + \' \' + body.el);\n*/\n\n/*@property {jQuery} $el \nA cached jQuery object for the view\'s element. A handy reference instead of re-wrapping the DOM element all the time.\n\n\tview.$el.show();\n\n\tlistView.$el.append(itemView.el);\n\n*/\n\n/*@method setElement\nIf you\'d like to apply a Backbone view to a different DOM element, use setElement, which will also create the cached $el reference and move the view\'s delegated events from the old element to the new one.\n@param {HTMLElement} element\n*/\n\n/*@property {Object} attributes\nA hash of attributes that will be set as HTML DOM element attributes on the view\'s el (id, class, data-properties, etc.), or a function that returns such a hash.\n*/\n\n/* @property {jQuery} $\nIf jQuery is included on the page, each view has a $ function that runs queries scoped within the view\'s element. If you use this scoped jQuery function, you don\'t have to use model ids as part of your query to pull out specific elements in a list, and can rely much more on HTML class attributes. It\'s equivalent to running: view.$el.find(selector)\n\n\tui.Chapter = Backbone.View.extend({\n\t  serialize : function() {\n\t    return {\n\t      title: this.$(".title").text(),\n\t      start: this.$(".start-page").text(),\n\t      end:   this.$(".end-page").text()\n\t    };\n\t  }\n\t});\n\n*/\n\n/*\n@property template\n\nWhile templating for a view isn\'t a function provided directly by Backbone, it\'s often a nice convention to define a template function on your views. In this way, when rendering your view, you have convenient access to instance data. For example, using Underscore templates:\n\n\tvar LibraryView = Backbone.View.extend({\n\t\ttemplate: _.template(...)\n\t});\n\n@param {Any}data*/\n\n\n/*@method render\nThe default implementation of render is a no-op. Override this function with your code that renders the view template from model data, and updates this.el with the new HTML. A good convention is to return this at the end of render to enable chained calls.\n\n\tvar Bookmark = Backbone.View.extend({\n\t  template: _.template(...),\n\t  render: function() {\n\t    this.$el.html(this.template(this.model.attributes));\n\t    return this;\n\t  }\n\t});\nBackbone is agnostic with respect to your preferred method of HTML templating. Your render function could even munge together an HTML string, or use document.createElement to generate a DOM tree. However, we suggest choosing a nice JavaScript templating library. Mustache.js, Haml-js, and Eco are all fine alternatives. Because Underscore.js is already on the page, _.template is available, and is an excellent choice if you prefer simple interpolated-JavaScript style templates.\n\nWhatever templating strategy you end up with, it\'s nice if you never have to put strings of HTML in your JavaScript. At DocumentCloud, we use Jammit in order to package up JavaScript templates stored in /app/views as part of our main core.js asset package.\n*/\n\n\n/*@method remove\n\nRemoves a view from the DOM, and calls stopListening to remove any bound events that the view has listenTo\'d.\n\n*/\n\n/*\n@method delegateEvents\n\ndelegateEventsdelegateEvents([events]) \nUses jQuery\'s on function to provide declarative callbacks for DOM events within a view. If an events hash is not passed directly, uses this.events as the source. Events are written in the format {"event selector": "callback"}. The callback may be either the name of a method on the view, or a direct function body. Omitting the selector causes the event to be bound to the view\'s root element (this.el). By default, delegateEvents is called within the View\'s constructor for you, so if you have a simple events hash, all of your DOM events will always already be connected, and you will never have to call this function yourself.\n\nThe events property may also be defined as a function that returns an events hash, to make it easier to programmatically define your events, as well as inherit them from parent views.\n\nUsing delegateEvents provides a number of advantages over manually using jQuery to bind events to child elements during render. All attached callbacks are bound to the view before being handed off to jQuery, so when the callbacks are invoked, this continues to refer to the view object. When delegateEvents is run again, perhaps with a different events hash, all callbacks are removed and delegated afresh  useful for views which need to behave differently when in different modes.\n\nA view that displays a document in a search result might look something like this:\n\n\tvar DocumentView = Backbone.View.extend({\n\n\t  events: {\n\t    "dblclick"                : "open",\n\t    "click .icon.doc"         : "select",\n\t    "contextmenu .icon.doc"   : "showMenu",\n\t    "click .show_notes"       : "toggleNotes",\n\t    "click .title .lock"      : "editAccessLevel",\n\t    "mouseover .title .date"  : "showTooltip"\n\t  },\n\n\t  render: function() {\n\t    this.$el.html(this.template(this.model.attributes));\n\t    return this;\n\t  },\n\n\t  open: function() {\n\t    window.open(this.model.get("viewer_url"));\n\t  },\n\n\t  select: function() {\n\t    this.model.set({selected: true});\n\t  },\n\n\t  ...\n\n\t});\n\n@param events optional\n*/\n\n\n\n/*@method undelegateEvents\nRemoves all of the view\'s delegated events. Useful if you want to disable or remove a view from the DOM temporarily.\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js\n\n/*\n@module Backbone\n\n#About\nBackbone.js gives structure to web applications by providing models with key-value binding and custom events, collections with a rich API of enumerable functions, views with declarative event handling, and connects it all to your existing API over a RESTful JSON interface.\n\nThe project is hosted on GitHub, and the annotated source code is available, as well as an online test suite, an example application, a list of tutorials and a long list of real-world projects that use Backbone. Backbone is available for use under the MIT software license.\n\nYou can report bugs and discuss features on the GitHub issues page, on Freenode IRC in the #documentcloud channel, post questions to the Google Group, add pages to the wiki or send tweets to @documentcloud.\n\nBackbone is an open-source component of DocumentCloud.\n\n#Dependencies\nBackbone\'s only hard dependency is Underscore.js ( >= 1.5.0). For RESTful persistence, history support via Backbone.Router and DOM manipulation with Backbone.View, include jQuery, and json2.js for older Internet Explorer support. (Mimics of the Underscore and jQuery APIs, such as Lo-Dash and Zepto, will also tend to work, with varying degrees of compatibility.)\n\n#Introduction\n\nWhen working on a web application that involves a lot of JavaScript, one of the first things you learn is to stop tying your data to the DOM. It\'s all too easy to create JavaScript applications that end up as tangled piles of jQuery selectors and callbacks, all trying frantically to keep data in sync between the HTML UI, your JavaScript logic, and the database on your server. For rich client-side applications, a more structured approach is often helpful.\n\nWith Backbone, you represent your data as Models, which can be created, validated, destroyed, and saved to the server. Whenever a UI action causes an attribute of a model to change, the model triggers a "change" event; all the Views that display the model\'s state can be notified of the change, so that they are able to respond accordingly, re-rendering themselves with the new information. In a finished Backbone app, you don\'t have to write the glue code that looks into the DOM to find an element with a specific id, and update the HTML manually  when the model changes, the views simply update themselves.\n\nPhilosophically, Backbone is an attempt to discover the minimal set of data-structuring (models and collections) and user interface (views and URLs) primitives that are generally useful when building web applications with JavaScript. In an ecosystem where overarching, decides-everything-for-you frameworks are commonplace, and many libraries require your site to be reorganized to suit their look, feel, and default behavior  Backbone should continue to be a tool that gives you the freedom to design the full experience of your web application.\n\nIf you\'re new here, and aren\'t yet quite sure what Backbone is for, start by browsing the list of Backbone-based projects.\n\n\n\n@class Backbone\n\n\n\n\n@method sync \n\nBackbone.sync is the function that Backbone calls every time it attempts to read or save a model to the server. By default, it uses jQuery.ajax to make a RESTful JSON request and returns a jqXHR. You can override it in order to use a different persistence strategy, such as WebSockets, XML transport, or Local Storage.\n\nThe method signature of Backbone.sync is sync(method, model, [options])\n\nmethod  the CRUD method ("create", "read", "update", or "delete")\nmodel  the model to be saved (or collection to be read)\noptions  success and error callbacks, and all other jQuery request options\nWith the default implementation, when Backbone.sync sends up a request to save a model, its attributes will be passed, serialized as JSON, and sent in the HTTP body with content-type application/json. When returning a JSON response, send down the attributes of the model that have been changed by the server, and need to be updated on the client. When responding to a "read" request from a collection (Collection#fetch), send down an array of model attribute objects.\n\nWhenever a model or collection begins a sync with the server, a "request" event is emitted. If the request completes successfully you\'ll get a "sync" event, and an "error" event if not.\n\nThe sync function may be overriden globally as Backbone.sync, or at a finer-grained level, by adding a sync function to a Backbone collection or to an individual model.\n\nThe default sync handler maps CRUD to REST like so:\n\ncreate  POST   /collection\nread  GET   /collection[/id]\nupdate  PUT   /collection/id\npatch  PATCH   /collection/id\ndelete  DELETE   /collection/id\nAs an example, a Rails handler responding to an "update" call from Backbone might look like this: (In real code, never use update_attributes blindly, and always whitelist the attributes you allow to be changed.)\n\n\tdef update\n\t  account = Account.find params[:id]\n\t  account.update_attributes params\n\t  render :json => account\n\tend\nOne more tip for integrating Rails versions prior to 3.1 is to disable the default namespacing for to_json calls on models by setting ActiveRecord::Base.include_root_in_json = false\n\n@param {String}method\n@param {Backbone.Model} model\n@param {Object} options optional\n@static\n\n\n\n\n@method ajax \nIf you want to use a custom AJAX function, or your endpoint doesn\'t support the jQuery.ajax API and you need to tweak things, you can do so by setting Backbone.ajax.\n@param request\n@static\n\n\n\n\n\n@property {boolean} emulateHTTPBackbone \nIf you want to work with a legacy web server that doesn\'t support Backbone\'s default REST/HTTP approach, you may choose to turn on Backbone.emulateHTTP. Setting this option will fake PUT, PATCH and DELETE requests with a HTTP POST, setting the X-HTTP-Method-Override header with the true method. If emulateJSON is also on, the true method will be passed as an additional _method parameter.\n\n\tBackbone.emulateHTTP = true;\n\n\tmodel.save();  // POST to "/collection/id", with "_method=PUT" + header.\n\n@static\n\n\n\n\n@property {boolean}emulateJSON\nIf you\'re working with a legacy web server that can\'t handle requests encoded as application/json, setting Backbone.emulateJSON = true; will cause the JSON to be serialized under a model parameter, and the request to be made with a application/x-www-form-urlencoded MIME type, as if from an HTML form.\n\n@static\n\n*/\n\n\n/*\n@method noConflict\n\tvar backbone = Backbone.noConflict(); \n\t\nReturns the Backbone object back to its original value. You can use the return value of Backbone.noConflict() to keep a local reference to Backbone. Useful for embedding Backbone on third-party websites, where you don\'t want to clobber the existing Backbone.\n\n\tvar localBackbone = Backbone.noConflict();\n\tvar model = localBackbone.Model.extend(...);\n\n\n@property{jQuery}$\n\nIf you have multiple copies of jQuery on the page, or simply want to tell Backbone to use a particular object as its DOM / Ajax library, this is the property for you. If you\'re loading Backbone with CommonJS (e.g. node, component, or browserify) you must set this property manually.\n\n\tvar Backbone.$ = require(\'jquery\');\n\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js\n\n/*@module xml.dom\n@class XMLDocument\n\nXML DOM - The Document Object\n\nThe Document object represents the entire XML document.\n\nThe Document object is the root of a document tree, and gives us the primary access to the document\'s data.\n\nSince element nodes, text nodes, comments, processing instructions, etc. cannot exist outside the document, the Document object also contains methods to create these objects. The Node objects have a ownerDocument property which associates them with the Document where they were created.\n\n\n\n\n\n@property async\tSpecifies whether downloading of an XML file should be handled asynchronously or not\n@property childNodes\tReturns a NodeList of child nodes for the document\n@property doctype\tReturns the Document Type Declaration associated with the document\n@property documentElement\tReturns the root node of the document\n@property documentURI\tSets or returns the location of the document\n@property domConfig\tReturns the configuration used when normalizeDocument() is invoked\n@property firstChild\tReturns the first child node of the document\n@property implementation\tReturns the DOMImplementation object that handles this document\n@property inputEncoding\tReturns the encoding used for the document (when parsing)\n@property lastChild\tReturns the last child node of the document\n@property nodeName\tReturns the name of a node (depending on its type)\n@property nodeType\tReturns the node type of a node\n@property nodeValue\tSets or returns the value of a node (depending on its type)\n@property strictErrorChecking\tSets or returns whether error-checking is enforced or not\n@property xmlEncoding\tReturns the XML encoding of the document\n@property xmlStandalone\tSets or returns whether the document is standalone\n@property xmlVersion\tSets or returns the XML version of the document\n\n\n@method adoptNode(sourcenode)\tAdopts a node from another document to this document, and returns the adopted node\n@method createAttribute(name)\tCreates an attribute node with the specified name, and returns the new Attr object\n@method createAttributeNS(uri,name)\tCreates an attribute node with the specified name and namespace, and returns the new Attr object\n@method createCDATASection()\tCreates a CDATA section node\n@method createComment()\tCreates a comment node\n@method createDocumentFragment()\tCreates an empty DocumentFragment object, and returns it\n@method createElement()\tCreates an element node\n@method createElementNS()\tCreates an element node with a specified namespace\n@method createEntityReference(name)\tCreates an EntityReference object, and returns it\n@method createProcessingInstruction(target,data)\tCreates a ProcessingInstruction object, and returns it\n@method createTextNode()\tCreates a text node\n@method getElementById(id)\tReturns the element that has an ID attribute with the given value. If no such element exists, it returns null\n@method getElementsByTagName()\tReturns a NodeList of all elements with a specified name\n@method getElementsByTagNameNS()\tReturns a NodeList of all elements with a specified name and namespace\n@method importNode(nodetoimport,deep)\tImports a node from another document to this document. This method creates a new copy of the source node. If the deep parameter is set to true, it imports all children of the specified node. If set to false, it imports only the node itself. This method returns the imported node\n@method normalizeDocument()\t \n@method renameNode()\tRenames an element or attribute node\n\n\n\n*/\n\n\n\n\n\n/*\n@class XMLDocumentType\n\nThe DocumentType object. \nEach document has a DOCTYPE attribute that whose value is either null or a DocumentType object.\n\nThe DocumentType object provides an interface to the entities defined for an XML document.\n\n@property entities\tReturns a NamedNodeMap containing the entities declared in the DTD\n@property internalSubset\tReturns the internal DTD as a string\n@property name\tReturns the name of the DTD\n@property notations\tReturns a NamedNodeMap containing the notations declared in\tthe DTD\n@property systemId\tReturns the system identifier of the external DTD\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js\n\n/*\n@class XMLElement\n\nXML DOM - The Element Object\n\nThe Element object represents an element in an XML document. Elements may contain attributes, other elements, or text. If an element contains text, the text is represented in a text-node.\n\nIMPORTANT! Text is always stored in text nodes. A common error in DOM processing is to navigate to an element node and expect it to contain the text. However, even the simplest element node has a text node under it. For example, in <year>2005</year>, there is an element node (year), and a text node under it, which contains the text (2005).\n\nBecause the Element object is also a Node, it inherits the Node object\'s properties and methods.\n\n@extends XMLNode\n\n\n\n@property attributes\tReturns a NamedNodeMap of attributes for the element\n@property baseURI\tReturns the absolute base URI of the element\n@property childNodes\tReturns a NodeList of child nodes for the element\n@property firstChild\tReturns the first child of the element\n@property lastChild\tReturns the last child of the element\n@property localName\tReturns the local part of the name of the element\n@property namespaceURI\tReturns the namespace URI of the element\n@property nextSibling\tReturns the node immediately following the element\n@property nodeName\tReturns the name of the node, depending on its type\n@property nodeType\tReturns the type of the node\n@property ownerDocument\tReturns the root element (document object) for an element\n@property parentNode\tReturns the parent node of the element\n@property prefix\tSets or returns the namespace prefix of the element\n@property previousSibling\tReturns the node immediately before the element\n@property schemaTypeInfo\tReturns the type information associated with the element\n@property tagName\tReturns the name of the element\n@property textContent\tSets or returns the text content of the element and its descendants\n\n\n\n\n\n@method appendChild()\tAdds a new child node to the end of the list of children of the node\n@method cloneNode()\tClones a  node\n@method compareDocumentPosition()\tCompares the document position of two nodes\n@method getAttribute()\tReturns the value of an attribute\n@method getAttributeNS()\tReturns the value of an attribute (with a namespace)\n@method getAttributeNode()\tReturns an attribute node as an Attribute object\n@method getAttributeNodeNS()\tReturns an attribute node (with a namespace) as an Attribute object\n@method getElementsByTagName()\tReturns a NodeList of matching element nodes, and their children\n@method getElementsByTagNameNS()\tReturns a NodeList of matching element nodes (with a namespace), and their children\n@method getFeature(feature,version)\tReturns a DOM object which implements the specialized APIs of the specified feature and version\n@method getUserData(key)\tReturns the object associated to a key on a this node. The object must first have been set to this node by calling setUserData with the same key\n@method hasAttribute()\tReturns whether an element has any attributes matching a specified name\n@method hasAttributeNS()\tReturns whether an element has any attributes matching a specified name and namespace\n@method hasAttributes()\tReturns whether the element has any attributes\n@method hasChildNodes()\tReturns whether the element has any child nodes\n@method insertBefore()\tInserts a new child node before an existing child node\n@method isDefaultNamespace(URI)\tReturns whether the specified namespaceURI is the default\n@method isEqualNode()\tChecks if two nodes are equal\n@method isSameNode()\tChecks if two nodes are the same node\n@method isSupported(feature,version)\tReturns whether a specified feature is supported on the element\n@method lookupNamespaceURI()\tReturns the namespace URI matching a specified prefix\n@method lookupPrefix()\tReturns the prefix matching a specified namespace URI\n@method normalize()\tPuts all text nodes underneath this element (including attributes) into a "normal" form where only structure (e.g., elements, comments, processing instructions, CDATA sections, and entity references) separates Text nodes, i.e., there are neither adjacent Text nodes nor empty Text nodes\n@method removeAttribute()\tRemoves a specified attribute\n@method removeAttributeNS()\tRemoves a specified attribute (with a namespace)\n@method removeAttributeNode()\tRemoves a specified attribute node\n@method removeChild()\tRemoves a child node\n@method replaceChild()\tReplaces a child node\n@method setUserData(key,data,handler)\tAssociates an object to a key on the element\n@method setAttribute()\tAdds a new attribute\n@method setAttributeNS()\tAdds a new attribute (with a namespace)\n@method setAttributeNode()\tAdds a new attribute node\n@method setAttributeNodeNS(attrnode)\tAdds a new attribute node (with a namespace)\n@method setIdAttribute(name,isId)\tIf the isId property of the Attribute object is true, this method declares the specified attribute to be a user-determined ID attribute\n@method setIdAttributeNS(uri,name,isId)\tIf the isId property of the Attribute object is true, this method declares the specified attribute (with a namespace) to be a user-determined ID attribute\n@method setIdAttributeNode(idAttr,isId)\tIf the isId property of the Attribute object is true, this method declares the specified attribute to be a user-determined ID attribute\n\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js\n\n/*\n@module xml.dom\n\n@class DOMEvent \n\n(from http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-Event)\n\nThe Event interface is used to provide contextual information about an event to the handler processing the event. An object which implements the Event interface is generally passed as the first parameter to an event handler. More specific context information is passed to event handlers by deriving additional interfaces from Event which contain information directly relating to the type of event they accompany. These derived interfaces are also implemented by the object passed to the event listener.\n\n\n*/\n\n\n/*\n\n\n@property bubbles of type boolean, readonly\nUsed to indicate whether or not an event is a bubbling event. If the event can bubble the value is true, else the value is false.\n@property cancelable of type boolean, readonly\nUsed to indicate whether or not an event can have its default action prevented. If the default action can be prevented the value is true, else the value is false.\n@property currentTarget of type EventTarget, readonly\nUsed to indicate the EventTarget whose EventListeners are currently being processed. This is particularly useful during capturing and bubbling.\n@property eventPhase of type unsigned short, readonly\nUsed to indicate which phase of event flow is currently being evaluated.\n@property target of type EventTarget, readonly\nUsed to indicate the EventTarget to which the event was originally dispatched.\n@property timeStamp of type DOMTimeStamp, readonly\nUsed to specify the time (in milliseconds relative to the epoch) at which the event was created. Due to the fact that some systems may not provide this information the value of timeStamp may be not available for all events. When not available, a value of 0 will be returned. Examples of epoch time are the time of the system start or 0:0:0 UTC 1st January 1970.\n@property type of type DOMString, readonly\nThe name of the event (case-insensitive). The name must be an XML name.\n\n@method initEvent\nThe initEvent method is used to initialize the value of an Event created through the DocumentEvent interface. This method may only be called before the Event has been dispatched via the dispatchEvent method, though it may be called multiple times during that phase if necessary. If called multiple times the final invocation takes precedence. If called from a subclass of Event interface only the values specified in the initEvent method are modified, all other attributes are left unchanged.\n@param eventTypeArg of type DOMString\nSpecifies the event type. This type may be any event type currently defined in this specification or a new event type.. The string must be an XML name.\nAny new event type must not begin with any upper, lower, or mixed case version of the string "DOM". This prefix is reserved for future DOM event sets. It is also strongly recommended that third parties adding their own events use their own prefix to avoid confusion and lessen the probability of conflicts with other new events.\n@param canBubbleArg of type boolean\nSpecifies whether or not the event can bubble.\n@param cancelableArg of type boolean\nSpecifies whether or not the event\'s default action can be prevented.\nNo Return Value\nNo Exceptions\n\n@method preventDefault\nIf an event is cancelable, the preventDefault method is used to signify that the event is to be canceled, meaning any default action normally taken by the implementation as a result of the event will not occur. If, during any stage of event flow, the preventDefault method is called the event is canceled. Any default action associated with the event will not occur. Calling this method for a non-cancelable event has no effect. Once preventDefault has been called it will remain in effect throughout the remainder of the event\'s propagation. This method may be used during any stage of event flow.\nNo Parameters\nNo Return Value\nNo Exceptions\n\n@method stopPropagation\nThe stopPropagation method is used prevent further propagation of an event during event flow. If this method is called by any EventListener the event will cease propagating through the tree. The event will complete dispatch to all listeners on the current EventTarget before event flow stops. This method may be used during any stage of event flow.\nNo Parameters\nNo Return Value\nNo Exceptions\n\n\n*/\n\n\n\n\n/*\n\n@class DOMEventTarget\n\n\n*/\n\n\n\n\n\n/*\n\n@class DOMMouseEvent\n\n\n*/\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js\n\n/*\n@module xml.dom\n\n@class XMLNode\n\n(from http://www.w3schools.com/dom/dom_node.asp)\n\nXML DOM - The Node Object\n\nThe Node object represents a single node in the document tree.\n\nA node can be an element node, an attribute node, a text node, or any other of the node types explained in the Node Types chapter.\n\nNotice that while all objects inherits the Node properties / methods for dealing with parents and children, not all objects can have parents or children. For example, Text nodes may not have children, and adding children to such nodes results in a DOM error.\n\n*/\n\n\n\n/*\n\n@property {Object} attributes\tA NamedNodeMap containing the attributes of this node (if it is an Element)\n@property {String} baseURI\tReturns the absolute base URI of a node\n\n\n\n@property {XMLNodeList} childNodes\tReturns a NodeList of child nodes for a node\n\n##Definition and Usage\nThe childNodes property returns a NodeList of child nodes for the specified node.\n\nTip: You can use the length property to determine the number of child nodes, then you can loop through all child nodes and extract the info you want.\n\n##Browser Support\nInternet Explorer Firefox Opera Google Chrome Safari\n\nThe childNodes property is supported in all major browsers.\n\n##Return Value:\t\nA NodeList object representing a collection of nodes\nDOM Version\tCore Level 1\n\n##Example\nThe following code fragment loads "books.xml" into xmlDoc using loadXMLDoc() and displays the child nodes of the XML document:\n\n\txmlDoc = loadXMLDoc("books.xml");\n\n\tx = xmlDoc.childNodes;\n\tfor (i=0; i<x.length; i++)\n\t  {\n\t  document.write("Nodename: " + x[i].nodeName);\n\t  document.write(" (nodetype: " + x[i].nodeType + ")<br>");\n\t  }\n\nOutput IE:\n\n\tNodename: xml (nodetype: 7)\n\tNodename: #comment (nodetype: 8)\n\tNodename: bookstore (nodetype: 1)\n\nOutput Firefox, Opera, Chrome, and Safari :\n\n\tNodename: #comment (nodetype: 8)\n\tNodename: bookstore (nodetype: 1)\n\n\n\n\n\n\n\n\n\n\n\n\n@property firstChild\tReturns the first child of a node\n@property lastChild\tReturns the last child of a node\n@property localName\tReturns the local part of the name of a node\n@property namespaceURI\tReturns the namespace URI of a node\n@property nextSibling\tReturns the node immediately following a node\n@property nodeName\tReturns the name of a node, depending on its type\n@property nodeType\tReturns the type of a node\n@property nodeValue\tSets or returns the value of a node, depending on its type\n@property ownerDocument\tReturns the root element (document object) for a node\n@property parentNode\tReturns the parent node of a node\n@property prefix\tSets or returns the namespace prefix of a node\n@property previousSibling\tReturns the node immediately before a node\n@property textContent\tSets or returns the textual content of a node and its descendants\n\n*/\n\n\n\n\n/*\n\n@method appendChild\tAppends a new child node to the end of the list of children of a node\n@method cloneNode\tClones a node\n@method compareDocumentPosition\tCompares the placement of two nodes in the DOM hierarchy (document)\n@method getFeature(feature,version)\tReturns a DOM object which implements the specialized APIs of the specified feature and version\n@method getUserData(key)\tReturns the object associated to a key on a this node. The object must first have been set to this node by calling setUserData with the same key\n@method hasAttributes\tReturns true if the specified node has any attributes, otherwise false\n@method hasChildNodes\tReturns true if the specified node has any child nodes, otherwise false\n@method insertBefore\tInserts a new child node before an existing child node\n@method isDefaultNamespace(URI)\tReturns whether the specified namespaceURI is the default\n@method isEqualNode\tTests whether two nodes are equal\n@method isSameNode\tTests whether the two nodes are the same node\n@method isSupported\tTests whether the DOM implementation supports a specific feature and that the feature is supported by the specified node\n@method lookupNamespaceURI\tReturns the namespace URI associated with a given prefix\n@method lookupPrefix\tReturns the prefix associated with a given namespace URI\n@method normalize\tPuts all Text nodes underneath a node (including attribute nodes) into a "normal" form where only structure (e.g., elements, comments, processing instructions, CDATA sections, and entity references) separates Text nodes, i.e., there are neither adjacent Text nodes nor empty Text nodes\n@method removeChild\tRemoves a specified child node from the current node\n@method replaceChild\tReplaces a child node with a new node\n@method setUserData(key,data,handler)\tAssociates an object to a key on a node\n*/\n\n\n\n//@filename {Foo} fileName /home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/nodelist.js\n\n/*\n\n@module xml.dom\n\n@class XMLNodeList\n\nXML DOM - The NodeList Object\n\nThe NodeList object represents an ordered list of nodes.\n\nThe nodes in the node list can be accessed through their index number (starting from 0).\n\nThe node list keeps itself up-to-date. If an element is deleted or added, in the node list or the XML document, the list is automatically updated.\n\nNote: In a node list, the nodes are returned in the order in which they are specified in the XML document.\n\n@property length_ Returns the number of nodes in a node list k\n\n@method item @param {Number} i @return {XMLNode}Returns the node at the specified index in a node list \n\n*/',classes:{"shortjsdoc.JsDocMaker":{annotation:"class",name:"JsDocMaker",text:"\n\nMain jsdoc parser utility. It accepts a valid js source code String and returns a JavaScript object with a jsdoc AST, this is an object \n with classes and modules array that users can use to easily access jsdocs information, for example, parsed.classes.Apple.methods.getColor \n use the parseFile method for this! This will return the AST, if you want to perform more enrichment and type binding, then use \n postProccess and postProccessBinding methods after.\n\n#Parsing and processing \n\nThe first thing done with source code is parsing its comments to extract general information about annotations. This implies\n\n * parse the sources with exprima and work with the comments array.\n * preprocess the comments array for normalization before start parsing them. Call preprocessing plugins. \n * iterate the comments text and split using PRIMARY annotations\n\n##Primary annotations\nFor representing some logic of JSDOC like 'a class contains methods that contains parameters' we have the concept of PRIMARY ANNOTATIONS. \n*These are\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nMain jsdoc parser utility. It accepts a valid js source code String and returns a JavaScript object with a jsdoc AST, this is an object \n with classes and modules array that users can use to easily access jsdocs information, for example, parsed.classes.Apple.methods.getColor \n use the parseFile method for this! This will return the AST, if you want to perform more enrichment and type binding, then use \n postProccess and postProccessBinding methods after.\n\n#Parsing and processing \n\nThe first thing done with source code is parsing its comments to extract general information about annotations. This implies\n\n * parse the sources with exprima and work with the comments array.\n * preprocess the comments array for normalization before start parsing them. Call preprocessing plugins. \n * iterate the comments text and split using PRIMARY annotations\n\n##Primary annotations\nFor representing some logic of JSDOC like 'a class contains methods that contains parameters' we have the concept of PRIMARY ANNOTATIONS. \n*These are\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",commentRange:[2,102],fileName:"./src/jsdocmaker/core/binding.js",module:{annotation:"module",name:"shortjsdoc",text:"\n\n#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",commentRange:[2,102],fileName:"./src/jsdocmaker/core/binding.js"},absoluteName:"shortjsdoc.JsDocMaker",children:[],methods:{parseTypeString:{annotation:"method",name:"parseTypeString",text:"public, do a type binding",children:[{annotation:"return",type:"{TypeBinding}",name:"the",text:"object binding to the original r \n eferenced AST node. Or null in case the given type cannot be parsed \n TODO: support multiple generics and generics anidation like in",theRestString:""}],commentRange:[2376125,2376923],fileName:"./html/src/JsDocMaker_browser.js"},parseSingleTypeString:{annotation:"method",name:"parseSingleTypeString",text:"",children:[{annotation:"param",type:"{String}",name:"typeStr",text:"",theRestString:""}],commentRange:[2377485,2377541],fileName:"./html/src/JsDocMaker_browser.js"},bindParsedType:{annotation:"method",name:"bindParsedType",text:"merges the data of JsDocMaker.parseType with bindings of current jsdoc. recursive!",children:[{annotation:"param",type:"{Object}",name:"typeObject",text:"",theRestString:"@param {Object} baseClass @return {Object}"},{annotation:"param",type:"{Object}",name:"baseClass",text:"",theRestString:"@return {Object}"},{annotation:"return",type:"{Object}",text:"",theRestString:""}],commentRange:[2379694,2379873],fileName:"./html/src/JsDocMaker_browser.js"},bindClass:{annotation:"method",name:"bindClass",text:"",children:[{annotation:"param",type:"{String}",name:"name",text:"",theRestString:"@param {Object} baseClass _lineCommentSeparatorMark_ TODO: using a internal map this could be done faster"},{annotation:"param",type:"{Object}",name:"baseClass",text:"TODO: using a internal map this could be done faster",theRestString:""}],commentRange:[2381687,2381807],fileName:"./html/src/JsDocMaker_browser.js"},simpleName:{annotation:"method",name:"simpleName",text:"",children:[{annotation:"param",type:"{String}",name:"name",text:"",theRestString:"@return {String}"},{annotation:"return",type:"{String}",text:"",theRestString:""}],commentRange:[2383405,2383464],fileName:"./html/src/JsDocMaker_browser.js"},require:{annotation:"method",name:"require",text:"perform an intelligent require n browser&nodejs, needed for esprima. Ugly :(",commentRange:[2385285,2385379],fileName:"./html/src/JsDocMaker_browser.js"},postProccess:{annotation:"method",name:"postProccess",text:"so the data is already parsed but we want to normalize some \n children like",children:[{annotation:"extend",name:"and",text:"@ module to be properties of the unit instead children. \n Also we enforce explicit parent reference, this is a class must reference its \n parent module and a method muest reference its parent class. Also related to this \n is the fullname property that will return an unique full name in the format \n '$MODULE.$CLASS.$METHOD'. We assume that a module contains unique named classes and \n that classes contain unique named properties and methods.",theRestString:""}],commentRange:[2403546,2404114]},postProccessBinding:{annotation:"method",name:"postProccessBinding",text:"precondion: call postProccess() first. We separated the post proccessing in two because we shouln't do JSON.stringify() after we bind types because of recursive loops.",commentRange:[2404583,2404781]},parseType:{annotation:"method",name:"parseType",text:"parse a type string like 'Map<String,Array<Apple>>' or 'String' and return an object like {name: 'Map',params:['String',{name: 'Array',params:['Apple']}]}. This is the default type parser. \n It depends on type parser file typeParser.js",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2413897,2414177]},parse:{annotation:"method",name:"parse",text:"a object literal type string like ''",children:[{annotation:"return",type:"{Object}",name:"the",text:"parsed object",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2414464,2414560]},splitAndPreserve:{annotation:"method",name:"splitAndPreserve",text:"search for given regexp and split the given string but preserving the matches",children:[{annotation:"param",type:"{Regexp}",name:"regexp",text:"must contain a capturing group (like /(\\s+@\\w+)/gi)",theRestString:"@return {Array of string} _lineCommentSeparatorMark_ @static dummy"},{annotation:"return",type:"{Array of string}",name:"_lineCommentSeparatorMark_",text:"",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2415102,2415346]},stringFullTrim:{annotation:"method",name:"stringFullTrim",text:"",children:[{annotation:"param",type:"{String}",name:"s",text:"",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2415632,2415682]},stringTrim:{annotation:"method",name:"stringTrim",text:"",children:[{annotation:"param",type:"{String}",name:"s",text:"",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2415808,2415854]},stringEndsWith:{annotation:"method",name:"stringEndsWith",text:"",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2416536,2416568]},error:{annotation:"method",name:"error",text:"",children:[{annotation:"param",type:"{String}",name:"msg",text:"",theRestString:""}],commentRange:[2416665,2416699]},literalObjectParse:{annotation:"method",name:"literalObjectParse",text:"",commentRange:[2447998,2448462]},installModifiers:{annotation:"method",name:"installModifiers",text:"sets the property modifiers to the node according its children",commentRange:[2450755,2450844]},getNativeTypeUrl:{annotation:"method",name:"getNativeTypeUrl",text:"",children:[{annotation:"returns",type:"{String}",name:"an",text:"url if given name match a native types or undefined otherwise",theRestString:""}],commentRange:[2452805,2452913]},bindClassMember:{annotation:"method",name:"bindClassMember",text:"binds a method, property or event using the marking",children:[{annotation:"param",type:"{String}",name:"what",text:"can be method, property, event",theRestString:""}],commentRange:[2457598,2457728]},recurseAST:{annotation:"method",name:"recurseAST",text:"An utility method that can be used in extensions to visit all the ast nodes and types of the AST recursively. Children are visited first. JsDocMaker.recurseAST can be used for visiting nodes through AST. The same for Types, this is visiting all subtypes of a complex type.",children:[{annotation:"param",type:"{Function}",name:"fn",text:"a visitor for all the nodes",theRestString:"@param {Function} fn_type a visitor for all the nodes' types"},{annotation:"param",type:"{Function}",name:"fn_type",text:"a visitor for all the nodes' types",theRestString:""}],commentRange:[2462197,2462605]},recurseType:{annotation:"method",name:"recurseType",text:"will recurse the type AST - children first.",children:[{annotation:"param",type:"{ASTNode}",name:"type",text:"a class node",theRestString:"@param {Function}fn @param {ASTNode} ownerNode @static dummy"},{annotation:"param",type:"{Function}",name:"fn",text:"",theRestString:"@param {ASTNode} ownerNode @static dummy"},{annotation:"param",type:"{ASTNode}",name:"ownerNode",text:"",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2463866,2464027]}},properties:{beforeBindClassPlugins:{annotation:"property",type:"{PluginContainer}",name:"beforeBindClassPlugins",text:"these plugins accept an object like \n {name:name,baseClass:JsDocASTNode,jsdocmaker:JsDocMaker} and perform some modification to passed node:parsed instance. \n This is done just before a class name is binding to an actual AST class node.",commentRange:[2380939,2381251],fileName:"./html/src/JsDocMaker_browser.js"},afterBindClassPlugins:{annotation:"property",type:"{PluginContainer}",name:"afterBindClassPlugins",text:"these plugins accept an object like \n {name:name,baseClass:JsDocASTNode,jsdocmaker:JsDocMaker} and perform some modification to passed node:parsed instance. \n This is done just after a class name is binding to an actual AST class node.",commentRange:[2381323,2381614],fileName:"./html/src/JsDocMaker_browser.js"},customNativeTypes:{annotation:"property",type:"{Object<String,String>}",name:"customNativeTypes",text:"name to url map that the user can modify to register new native types b givin its url.",commentRange:[2384423,2384563],fileName:"./html/src/JsDocMaker_browser.js"},DEFAULT_CLASS:{annotation:"property",type:"{String}",name:"DEFAULT_CLASS",text:"",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2384825,2384868],fileName:"./html/src/JsDocMaker_browser.js"},DEFAULT_MODULE:{annotation:"property",type:"{String}",name:"DEFAULT_MODULE",text:"",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2384908,2384952],fileName:"./html/src/JsDocMaker_browser.js"},ABSOLUTE_NAME_SEPARATOR:{annotation:"property",type:"{String}",name:"ABSOLUTE_NAME_SEPARATOR",text:"",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2385002,2385055],fileName:"./html/src/JsDocMaker_browser.js"},MULTIPLE_TEXT_SEPARATOR:{annotation:"property",type:"{String}",name:"MULTIPLE_TEXT_SEPARATOR",text:"",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2385100,2385153],fileName:"./html/src/JsDocMaker_browser.js"},beforeTypeBindingPlugins:{annotation:"property",type:"{PluginContainer}",name:"beforeTypeBindingPlugins",text:"these plugins accept an object like \n {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance. \n This is done just before doing the type binding.",commentRange:[2402904,2403162]},afterTypeBindingPlugins:{annotation:"property",type:"{PluginContainer}",name:"afterTypeBindingPlugins",text:"these plugins accept an object like \n {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance. \n This is done just after doing the type binding.",commentRange:[2403236,2403473]},complex:{annotation:"property",type:"{config:O<S,N>,tools:A<Tool>}",name:"complex",text:"Note that these plugins perform two tasks using two different plugins: \n1) replace aliases initial annotation with original ones on parsing - the plugin runs on beforeParseNodePlugins\n2) but also perform the aliasing on type binding. This is done on beforeBindClassPlugins\n\nIMPORTANT. alias to complex types are not supported, only alias to simple types. The following is WRONG:",children:[{annotation:"alias",name:"class",text:"MySuper Array<Leg>\n\n##annotation alias",theRestString:"@alias annotation task method\n\n##Implementation notes\n\nat preprocessing the alias meta information will be stored in the AST under the 'alias' property. \nThen this information will be consumed at binding time in the second plugin"},{annotation:"alias",name:"annotation",text:"task method\n\n##Implementation notes\n\nat preprocessing the alias meta information will be stored in the AST under the 'alias' property. \nThen this information will be consumed at binding time in the second plugin",theRestString:""}],commentRange:[2432703,2433909]},MODIFIERS:{annotation:"property",type:"{Array<String>}",name:"MODIFIERS",text:"",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2450525,2450644]},afterTypeBindingRecurseASTPlugins:{annotation:"property",type:"{AfterTypeBindingRecurseASTPluginContainer}",name:"afterTypeBindingRecurseASTPlugins",text:"",commentRange:[2454910,2455036]}}},"shortjsdoc.TypeBinding":{annotation:"class",name:"TypeBinding",text:"a datatype with an association between types names in source code and parsed class nodes. \n It support generic types (recursive)",commentRange:[174,972],fileName:"./src/jsdocmaker/core/binding.js",module:{annotation:"module",name:"shortjsdoc",text:"\n\n#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",commentRange:[2,102],fileName:"./src/jsdocmaker/core/binding.js"},absoluteName:"shortjsdoc.TypeBinding",properties:{type:{annotation:"property",type:"{TypeBinding}",name:"type",text:"",commentRange:[2376125,2376923],fileName:"./html/src/JsDocMaker_browser.js"},params:{annotation:"property",type:"{Array<TypeBinding>}",name:"params",text:"- the generic types params array. For example the params for {Map<String,Apple>} is [StringBynding]",commentRange:[2376125,2376923],fileName:"./html/src/JsDocMaker_browser.js"},properties:{annotation:"property",type:"{Object<String,TypeBinding>}",name:"properties",text:"- the properties literal object declaration binding, {a:A,b:B}",commentRange:[2376125,2376923],fileName:"./html/src/JsDocMaker_browser.js"},nativeTypeUrl:{annotation:"property",type:"{String}",name:"nativeTypeUrl",text:"the url for native type only",commentRange:[2376125,2376923],fileName:"./html/src/JsDocMaker_browser.js"}},children:[]},"shortjsdoc.JsDocMaker.Data":{annotation:"class",name:"JsDocMaker.Data",text:"",commentRange:[9924,11365],fileName:"./src/jsdocmaker/core/parse.js",module:{annotation:"module",name:"shortjsdoc",text:"",commentRange:[9924,11365],fileName:"./src/jsdocmaker/core/parse.js"},absoluteName:"shortjsdoc.JsDocMaker.Data",properties:{methods:{annotation:"property",type:"{Object<String, JsDocASTNode>}",name:"methods",text:"",commentRange:[2385981,2387422],fileName:"./html/src/JsDocMaker_browser.js"},classes:{annotation:"property",type:"{Array<JsDocASTNode>}",name:"classes",text:"",commentRange:[2385981,2387422],fileName:"./html/src/JsDocMaker_browser.js"}},children:[]},"shortjsdoc.JsDocASTNode":{annotation:"class",name:"JsDocASTNode",text:"all the jsdoc parsed information is stored as nodes one containing others. modules contains classes,",commentRange:[9924,11365],fileName:"./src/jsdocmaker/core/parse.js",module:{annotation:"module",name:"shortjsdoc",text:"",commentRange:[9924,11365],fileName:"./src/jsdocmaker/core/parse.js"},absoluteName:"shortjsdoc.JsDocASTNode",children:[]},"shortjsdoc.contains":{annotation:"class",name:"contains",text:"methods and",commentRange:[9924,11365],fileName:"./src/jsdocmaker/core/parse.js",module:{annotation:"module",name:"shortjsdoc",text:"",commentRange:[9924,11365],fileName:"./src/jsdocmaker/core/parse.js"},absoluteName:"shortjsdoc.contains",methods:{contains:{annotation:"method",name:"contains",text:"",children:[{annotation:"param",name:"and",text:"",theRestString:"@returns dummy"},{annotation:"returns",name:"dummy",text:"",theRestString:""}],commentRange:[2385981,2387422],fileName:"./html/src/JsDocMaker_browser.js"}},children:[]},"shortjsdoc.dummy":{annotation:"class",name:"dummy",text:"",commentRange:[9924,11365],fileName:"./src/jsdocmaker/core/parse.js",module:{annotation:"module",name:"shortjsdoc",text:"",commentRange:[9924,11365],fileName:"./src/jsdocmaker/core/parse.js"},absoluteName:"shortjsdoc.dummy",methods:{dummy:{annotation:"method",name:"dummy",text:"",commentRange:[2385981,2387422],fileName:"./html/src/JsDocMaker_browser.js"},jsdoc:{annotation:"method",name:"jsdoc",text:"the public method to parse all the added files with addFile.",children:[{annotation:"return",type:"{Object}",name:"the",text:"parsed object",theRestString:"@param {String} source . Optional"},{annotation:"param",type:"{String}",name:"source",text:". Optional",theRestString:""}],commentRange:[2389879,2390024],fileName:"./html/src/JsDocMaker_browser.js"},parseFile:{annotation:"method",name:"parseFile",text:"a public method for parsing a single file. Note if you want to parse more than one file please use addFile() and the jsdoc()",children:[{annotation:"return",type:"{Object}",name:"the",text:"parsed object",theRestString:"@param {String} source @param {String} filename"},{annotation:"param",type:"{String}",name:"source",text:"",theRestString:"@param {String} filename"},{annotation:"param",type:"{String}",name:"filename",text:"",theRestString:""}],commentRange:[2390494,2390724]},addFile:{annotation:"method",name:"addFile",text:"",children:[{annotation:"param",type:"{String}",name:"source",text:"the source code of the file",theRestString:"@param {String} the file name"},{annotation:"param",type:"{String}",name:"the",text:"file name",theRestString:""}],commentRange:[2390849,2390947]},parse:{annotation:"method",name:"parse",text:"",children:[{annotation:"return",type:"{Array}",name:"array",text:"of class description - with methods, and methods containing params.",theRestString:""}],commentRange:[2391212,2391318]},parseUnit:{annotation:"method",type:"{Unit}",name:"parseUnit",text:"parse a simple substring like '@annotation {Type} a text' into an object {annotation, type, text} object. \n syntax:",commentRange:[2396976,2397205]},methodName:{annotation:"method",type:"{String}",name:"methodName",text:"blabla",children:[{annotation:"return",type:"{Number}",name:"blabla",text:"",theRestString:"@param {Object} p1 blabla"},{annotation:"param",type:"{Object}",name:"p1",text:"blabla",theRestString:""}],commentRange:[2396976,2397205]},parseUnitSimple:{annotation:"method",name:"parseUnitSimple",text:"",children:[{annotation:"param",type:"{String}",name:"str",text:"",theRestString:"@param {ASTSprimaNode} comment"},{annotation:"param",type:"{ASTSprimaNode}",name:"comment",text:"",theRestString:""}],commentRange:[2397805,2397881]}},properties:{undefined:{annotation:"property",text:"*\n\nThese are the concepts that contains the stuff. All the other annotations are children of one primary annotation. For example",children:[{annotation:"return",text:",",theRestString:"@param, @extend, @static are SECOND LEVEL ANNOTATIONS\nand are always children of one primary annotation.\n\nBut this is the only logic contained in the core parsing. Then a general AST, using this primary container names logic, is returned. \n\nALL declared annotations will be outputed (unless a plugin remove something)"},{annotation:"param",text:",",theRestString:"@extend, @static are SECOND LEVEL ANNOTATIONS\nand are always children of one primary annotation.\n\nBut this is the only logic contained in the core parsing. Then a general AST, using this primary container names logic, is returned. \n\nALL declared annotations will be outputed (unless a plugin remove something)"},{annotation:"extend",text:",",theRestString:"@static are SECOND LEVEL ANNOTATIONS\nand are always children of one primary annotation.\n\nBut this is the only logic contained in the core parsing. Then a general AST, using this primary container names logic, is returned. \n\nALL declared annotations will be outputed (unless a plugin remove something)"},{annotation:"static",name:"are",text:"SECOND LEVEL ANNOTATIONS\nand are always children of one primary annotation.\n\nBut this is the only logic contained in the core parsing. Then a general AST, using this primary container names logic, is returned. \n\nALL declared annotations will be outputed (unless a plugin remove something)",theRestString:""}],commentRange:[2385981,2387422],fileName:"./html/src/JsDocMaker_browser.js"},allCommentPreprocessorPlugins:{annotation:"property",type:"{PluginContainer}",name:"allCommentPreprocessorPlugins",text:"these plugins accept an object like \n {node:parsed:jsdocmaker:self} and perform some modification to esprima comment node - \n this is the FIRST stage of the parser. This is the same as commentPreprocessorPlugins but all comments nodes are passed for those plugins that need some context about the comments.",commentRange:[2387586,2387958],fileName:"./html/src/JsDocMaker_browser.js"},commentPreprocessorPlugins:{annotation:"property",type:"{PluginContainer}",name:"commentPreprocessorPlugins",text:"these plugins accept an object like \n {node:parsed:jsdocmaker:self} and perform some modification to esprima comment node - this is the FIRST stage of the parser",commentRange:[2388037,2388258],fileName:"./html/src/JsDocMaker_browser.js"},beforeParseNodePlugins:{annotation:"property",type:"{PluginContainer}",name:"beforeParseNodePlugins",text:"these plugins accept an object like \n {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance. \n This is done just before the first parsing is done on the first AST node. Only primary nodes are visited!",commentRange:[2388334,2388628],fileName:"./html/src/JsDocMaker_browser.js"},parsePreprocessors:{annotation:"property",type:"{PluginContainer}",name:"parsePreprocessors",text:"these plugins accept an object like \n {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance. \n This is done just after the first parsing is done on the first AST node. Only primary nodes are visited!",commentRange:[2388700,2388989],fileName:"./html/src/JsDocMaker_browser.js"},afterParseUnitSimplePlugins:{annotation:"property",type:"{PluginContainer}",name:"afterParseUnitSimplePlugins",text:"these plugins accept an object like \n {node:parsed:jsdocmaker:self} and perform some modification to passed node:parsed instance. \n This is done after an unit is parsed - this will iterated all nodes as units .The first node object is formed at this stage.",commentRange:[2389059,2389378],fileName:"./html/src/JsDocMaker_browser.js"},primaryAnnotationsRegexString:{annotation:"property",type:"{String}",name:"primaryAnnotationsRegexString",text:"",commentRange:[2389454,2389504],fileName:"./html/src/JsDocMaker_browser.js"},all:{annotation:"property",type:"{Array<String>}",name:"all",text:"the input added included",commentRange:[2390074,2390152],fileName:"./html/src/JsDocMaker_browser.js"},the:{annotation:"property",type:"{EsprimaSyntax}",name:"the",text:"Sprima Syntax object of the current pased file.",commentRange:[2390261,2390342]},ignoreCommentPrefix:{annotation:"property",type:"{String}",name:"ignoreCommentPrefix",text:"",commentRange:[2391122,2391162]},lineCommentSeparator:{annotation:"property",type:"{String}",name:"lineCommentSeparator",text:"used to separate each Line comment type text",commentRange:[2398929,2399015]},data:{annotation:"property",type:"{JsDocMaker.Data}",name:"data",text:"the main data on which the parser and plugins will be working on. This is the resulting AST of jsdoc.",commentRange:[2399488,2399702]}},children:[]},"shortjsdoc.plugin.PluginContainer":{annotation:"class",name:"PluginContainer",text:"a plugin container can be used for installing plugins and then processing \n some action with all of them, executing them in sequence. \n A plugin is basically a function that acts on some data - state \n Registered plugins are executed secuentially. plugin execution arguments can be modified so next-to-execute plugin can \n consume new information - same with return value.",commentRange:[23804,24208],fileName:"./src/jsdocmaker/core/plugin.js",module:{annotation:"module",name:"shortjsdoc.plugin",text:"",commentRange:[23431,23736],fileName:"./src/jsdocmaker/core/plugin.js"},absoluteName:"shortjsdoc.plugin.PluginContainer",methods:{add:{annotation:"method",name:"add",text:"",children:[{annotation:"param",type:"{JsDocMakerPlugin}",name:"plugin",text:"",theRestString:""}],commentRange:[2400403,2400449]},execute:{annotation:"method",name:"execute",text:"",children:[{annotation:"param",type:"{Object}",text:"@param {Any} input options",theRestString:"@return {Any}"},{annotation:"return",type:"{Any}",text:"",theRestString:""}],commentRange:[2400582,2400681]},visitPlugins:{annotation:"method",name:"visitPlugins",text:"visit children plugins respecting priority",children:[{annotation:"param",type:"{Function}",name:"visitor",text:"",theRestString:""}],commentRange:[2400876,2400967]}},properties:{priorized:{annotation:"property",type:"{Array<Array<Plugin>>}",name:"priorized",text:"array of priorities - each priority index contains the plugins with that priority",commentRange:[2401030,2401157]}},children:[]},"shortjsdoc.plugin.JsDocMakerPlugin":{annotation:"class",name:"JsDocMakerPlugin",text:"",commentRange:[25814,26038],fileName:"./src/jsdocmaker/core/plugin.js",module:{annotation:"module",name:"shortjsdoc.plugin",text:"",commentRange:[23431,23736],fileName:"./src/jsdocmaker/core/plugin.js"},absoluteName:"shortjsdoc.plugin.JsDocMakerPlugin",properties:{name:{annotation:"property",type:"{String}",name:"name",text:"",commentRange:[2401892,2402116]}},methods:{execute:{annotation:"method",name:"execute",text:"execute this plugin",children:[{annotation:"param",type:"{Object}",name:"options",text:"",theRestString:"@param {Any}result _lineCommentSeparatorMark_ @returns{Any} result possible enriched by the plugin in the chain"},{annotation:"param",type:"{Any}",name:"result",text:"",theRestString:"@returns{Any} result possible enriched by the plugin in the chain"},{annotation:"returns",type:"{Any}",name:"result",text:"possible enriched by the plugin in the chain",theRestString:""}],commentRange:[2401892,2402116]},globalPlugins:{annotation:"method",name:"globalPlugins",text:"",children:[{annotation:"static",name:"_lineCommentSeparatorMark_",text:"JsDocMaker.registerGlobalPlugin = function(pluginContainerName, plugin) \n { \n JsDocMaker.prototype.plugins = JsDocMaker.prototype.plugins || {}; \n JsDocMaker.globalPlugins[pluginContainerName] = JsDocMaker.globalPlugins[pluginContainerName] || {}; \n }; \n //",theRestString:""}],commentRange:[2402158,2402675]},initializePluginContainers:{annotation:"method",name:"initializePluginContainers",text:"called in the constructor - will install all static plugins registered with JsDocMaker.registerGlobalPlugin \n JsDocMaker.prototype.initializePluginContainers = function() \n { \n }",commentRange:[2402158,2402675]}},children:[]},"shortjsdoc.PreprocessCommentsPlugin1":{annotation:"class",name:"PreprocessCommentsPlugin1",text:"",children:[{annotation:"extends",name:"JsDocMakerPlugin",text:"this plugin is registered in JsDocMaker.prototype.allCommentPreprocessorPlugins plugin container \n and do an initial preprocesing on the comments erasing those marked comments to be ignored, and fixing its text to support alternative syntax.",theRestString:""},{annotation:"extends",name:"JsDocMakerPlugin",text:"this plugin is registered in JsDocMaker.prototype.allCommentPreprocessorPlugins plugin container \n and do an initial preprocesing on the comments erasing those marked comments to be ignored, and fixing its text to support alternative syntax.",theRestString:""}],commentRange:[34358,34687],fileName:"./src/jsdocmaker/core/preprocess.js",module:{annotation:"module",name:"shortjsdoc",text:"#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc",commentRange:[34013,34286],fileName:"./src/jsdocmaker/core/preprocess.js"},absoluteName:"shortjsdoc.PreprocessCommentsPlugin1"},"shortjsdoc.FixUnamedAnnotationsPlugin":{annotation:"class",name:"FixUnamedAnnotationsPlugin",text:"",children:[{annotation:"extends",name:"JsDocMakerPlugin",text:"This plugin is installed at JsDocMaker.prototype.commentPreprocessorPlugins and and solves the following problem: \n Our regexp format expect an anotation with a name. So for enabling unamed annotations we do this dirty fix, this is add a name to precondition",theRestString:""},{annotation:"extends",name:"JsDocMakerPlugin",text:"This plugin is installed at JsDocMaker.prototype.commentPreprocessorPlugins and and solves the following problem: \n Our regexp format expect an anotation with a name. So for enabling unamed annotations we do this dirty fix, this is add a name to precondition",theRestString:""}],commentRange:[35652,36026],fileName:"./src/jsdocmaker/core/preprocess.js",module:{annotation:"module",name:"shortjsdoc",text:"#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc",commentRange:[34013,34286],fileName:"./src/jsdocmaker/core/preprocess.js"},absoluteName:"shortjsdoc.FixUnamedAnnotationsPlugin"},"shortjsdoc.UnifyLineCommentsPlugin":{annotation:"class",name:"UnifyLineCommentsPlugin",text:"",children:[{annotation:"extends",name:"JsDocMakerPlugin",text:"this is a very important plugin for normalize our js input Line comments \n It is executed at JsDocMaker.prototype.allCommentPreprocessorPlugins",theRestString:""},{annotation:"extends",name:"JsDocMakerPlugin",text:"this is a very important plugin for normalize our js input Line comments \n It is executed at JsDocMaker.prototype.allCommentPreprocessorPlugins",theRestString:""}],commentRange:[36541,36745],fileName:"./src/jsdocmaker/core/preprocess.js",module:{annotation:"module",name:"shortjsdoc",text:"#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc",commentRange:[34013,34286],fileName:"./src/jsdocmaker/core/preprocess.js"},absoluteName:"shortjsdoc.UnifyLineCommentsPlugin"},"shortjsdoc.plugin.alias.AliasBeforeParseNodePlugin":{annotation:"class",name:"AliasBeforeParseNodePlugin",text:"",children:[{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at afterParseUnitSimplePlugins. Responsible of TODO",theRestString:""},{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at afterParseUnitSimplePlugins. Responsible of TODO",theRestString:""}],commentRange:[57837,57969],fileName:"./src/jsdocmaker/plugin/alias.js",module:{annotation:"module",name:"shortjsdoc.plugin.alias",text:"",commentRange:[56454,56550],fileName:"./src/jsdocmaker/plugin/alias.js"},absoluteName:"shortjsdoc.plugin.alias.AliasBeforeParseNodePlugin",methods:{parseAlias:{annotation:"method",name:"parseAlias",text:"",children:[{annotation:"return",type:"{JSDocASTNode}",name:"the",text:"enhanced node with property *alias* enhanced",theRestString:"@param {JSDocASTNode} alias @param {JsDocMaker} context @param {Boolean} install @return {Array<JSDocASTNode>} contained in the annotation text."},{annotation:"param",type:"{JSDocASTNode}",name:"alias",text:"",theRestString:"@param {JsDocMaker} context @param {Boolean} install @return {Array<JSDocASTNode>} contained in the annotation text."},{annotation:"param",type:"{JsDocMaker}",name:"context",text:"",theRestString:"@param {Boolean} install @return {Array<JSDocASTNode>} contained in the annotation text."},{annotation:"param",type:"{Boolean}",name:"install",text:"",theRestString:"@return {Array<JSDocASTNode>} contained in the annotation text."},{annotation:"return",type:"{Array<JSDocASTNode>}",name:"contained",text:"in the annotation text.",theRestString:""}],commentRange:[2434786,2435027]}}},"shortjsdoc.plugin.alias.AliasBeforeBindClassPlugin":{annotation:"class",name:"AliasBeforeBindClassPlugin",text:"",children:[{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at afterParseUnitSimplePlugins. Responsible of TODO",theRestString:""},{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at afterParseUnitSimplePlugins. Responsible of TODO",theRestString:""}],commentRange:[59304,59436],fileName:"./src/jsdocmaker/plugin/alias.js",module:{annotation:"module",name:"shortjsdoc.plugin.alias",text:"",commentRange:[56454,56550],fileName:"./src/jsdocmaker/plugin/alias.js"},absoluteName:"shortjsdoc.plugin.alias.AliasBeforeBindClassPlugin"},"shortjsdoc.plugin.alias.annotationAliasPlugin":{annotation:"class",name:"annotationAliasPlugin",text:"",children:[{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at commentPreprocessorPlugins. Responsible of TODO",theRestString:""},{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at commentPreprocessorPlugins. Responsible of TODO",theRestString:""}],commentRange:[59984,60110],fileName:"./src/jsdocmaker/plugin/alias.js",module:{annotation:"module",name:"shortjsdoc.plugin.alias",text:"",commentRange:[56454,56550],fileName:"./src/jsdocmaker/plugin/alias.js"},absoluteName:"shortjsdoc.plugin.alias.annotationAliasPlugin"},"shortjsdoc.plugin.comment.indentation.commentIndentationPlugin":{annotation:"class",name:"commentIndentationPlugin",text:"",children:[{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at beforeParseNodePlugins.",theRestString:""},{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at beforeParseNodePlugins.",theRestString:""}],commentRange:[61075,61180],fileName:"./src/jsdocmaker/plugin/comment-indentation.js",module:{annotation:"module",name:"shortjsdoc.plugin.comment.indentation",text:"#Comment indentation plugin\nTakes care of respecting the original indentation of block comments. \nIt will erase the initial spaces of each line according to the comment indentation.",commentRange:[60761,60995],fileName:"./src/jsdocmaker/plugin/comment-indentation.js"},absoluteName:"shortjsdoc.plugin.comment.indentation.commentIndentationPlugin"},"shortjsdoc.plugin.JsDocMaker":{annotation:"class",name:"JsDocMaker",text:"",commentRange:[66297,66752],fileName:"./src/jsdocmaker/plugin/filter-by-child-annotations.js",module:{annotation:"module",name:"shortjsdoc.plugin",text:"",commentRange:[66297,66752],fileName:"./src/jsdocmaker/plugin/filter-by-child-annotations.js"},absoluteName:"shortjsdoc.plugin.JsDocMaker",children:[],methods:{postProccessInherited:{annotation:"method",name:"postProccessInherited",text:"calculates inherited methods&properties and put it in class'properties inheritedMethods and inheritedProperties",commentRange:[2444414,2444703]},extractInherited:{annotation:"method",name:"extractInherited",text:"",children:[{annotation:"param",name:"baseClass",text:"",theRestString:"@param c @param what @para data"},{annotation:"param",name:"c",text:"",theRestString:"@param what @para data"},{annotation:"param",name:"what",text:"",theRestString:"@para data"},{annotation:"para",name:"data",text:"",theRestString:""}],commentRange:[2445642,2445717]},isClassOwner:{annotation:"method",name:"isClassOwner",text:"utility method for knowing if a property is defined in given class or is inherithed",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param aClass @param prop"},{annotation:"param",name:"aClass",text:"",theRestString:"@param prop"},{annotation:"param",name:"prop",text:"",theRestString:""}],commentRange:[2447472,2447614]}}},"module1.MyTool1":{annotation:"class",name:"MyTool1",text:"",children:[{annotation:"exports",type:"{version:String,Tool:MyTool1}",text:"",theRestString:""},{annotation:"exports",type:"{version:String,Tool:MyTool1}",text:"",theRestString:""}],commentRange:[74594,74835],fileName:"./src/jsdocmaker/plugin/module-exports.js",module:{annotation:"module",name:"module1",text:"blabla",commentRange:[74594,74835],fileName:"./src/jsdocmaker/plugin/module-exports.js"},absoluteName:"module1.MyTool1"},"module1.ModuleExportsPlugin":{annotation:"class",name:"ModuleExportsPlugin",text:"",children:[{annotation:"extends",name:"JsDocMakerPlugin",text:"",theRestString:""},{annotation:"extends",name:"JsDocMakerPlugin",text:"",theRestString:""}],commentRange:[74914,74968],fileName:"./src/jsdocmaker/plugin/module-exports.js",module:{annotation:"module",name:"module1",text:"blabla",commentRange:[74594,74835],fileName:"./src/jsdocmaker/plugin/module-exports.js"},absoluteName:"module1.ModuleExportsPlugin"},"recurse-plugin-containers.AfterTypeBindingRecurseASTPluginContainer":{annotation:"class",name:"AfterTypeBindingRecurseASTPluginContainer",text:"it is both a plugin and a plugin container",children:[{annotation:"extends",name:"PluginContainer",text:"",theRestString:""},{annotation:"extends",name:"PluginContainer",text:"",theRestString:""}],commentRange:[77324,77443],fileName:"./src/jsdocmaker/plugin/recurse-plugin-containers.js",module:{annotation:"module",name:"recurse-plugin-containers",text:"- a plugin to be used by concrete plugins to iterate on all \n nodes after some interesting stages. by calling recurseAST. \n The objective is that other concrete plugins register here and so the AST recursion is made \n ONCE instead of using recurseAST in each of them.",commentRange:[76783,77174],fileName:"./src/jsdocmaker/plugin/recurse-plugin-containers.js"},absoluteName:"recurse-plugin-containers.AfterTypeBindingRecurseASTPluginContainer"},"client.MyClass":{annotation:"class",name:"MyClass",text:"The attributes of this class are given and well explained the server service that poblate this \nmodel with JSON @?see server.MyService.Attributes\n\n##History\n\nThis tool born with the neccesity of java's",children:[{annotation:"see.",name:"We",text:"consider using templates (underscore,handlebars) but discarded because we cannot introduce any new \nreserved characters or complexity. An approach with template would allow also to call a function. \n\nBut finally the idea of markins is more compatible and enrich the AST and don't add a postprocessing that complicate the syntax. \n\n##Implementation notes\n\nWhy @?see and not",theRestString:"@see ? Because @see will break the simple syntax @annotation name text. We don't want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing @see with a no annotation mark."},{annotation:"see",text:"? Because",theRestString:"@see will break the simple syntax @annotation name text. We don't want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing @see with a no annotation mark."},{annotation:"see",name:"will",text:"break the simple syntax",theRestString:"@annotation name text. We don't want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing @see with a no annotation mark."},{annotation:"annotation",name:"name",text:"text. We don't want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing",theRestString:"@see with a no annotation mark."},{annotation:"see",name:"with",text:"a no annotation mark.",theRestString:""},{annotation:"see.",name:"We",text:"consider using templates (underscore,handlebars) but discarded because we cannot introduce any new \nreserved characters or complexity. An approach with template would allow also to call a function. \n\nBut finally the idea of markins is more compatible and enrich the AST and don't add a postprocessing that complicate the syntax. \n\n##Implementation notes\n\nWhy @?see and not",theRestString:"@see ? Because @see will break the simple syntax @annotation name text. We don't want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing @see with a no annotation mark."},{annotation:"see",text:"? Because",theRestString:"@see will break the simple syntax @annotation name text. We don't want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing @see with a no annotation mark."},{annotation:"see",name:"will",text:"break the simple syntax",theRestString:"@annotation name text. We don't want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing @see with a no annotation mark."},{annotation:"annotation",name:"name",text:"text. We don't want to break \nthe basic syntax even if we would easily do w a preprocessing plugin replacing",theRestString:"@see with a no annotation mark."},{annotation:"see",name:"with",text:"a no annotation mark.",theRestString:""}],commentRange:[82852,84082],fileName:"./src/jsdocmaker/plugin/text-marks.js",module:{annotation:"module",name:"client",text:"",commentRange:[82852,84082],fileName:"./src/jsdocmaker/plugin/text-marks.js"},absoluteName:"client.MyClass"},"client.TextMarksAfterParseNodePlugin":{annotation:"class",name:"TextMarksAfterParseNodePlugin",text:"",children:[{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at afterParseNodePlugin that implements the text-marks feature.",theRestString:""},{annotation:"extends",name:"JsDocMakerPlugin",text:"a plugin executed at afterParseNodePlugin that implements the text-marks feature.",theRestString:""}],commentRange:[84161,84308],fileName:"./src/jsdocmaker/plugin/text-marks.js",module:{annotation:"module",name:"client",text:"",commentRange:[82852,84082],fileName:"./src/jsdocmaker/plugin/text-marks.js"},absoluteName:"client.TextMarksAfterParseNodePlugin"},"shortjsdoc.node.ShortJsDoc":{annotation:"class",name:"ShortJsDoc",text:"main class for running jsdocmaker using node through the command line.",commentRange:[88615,88705],fileName:"./src/shortjsdoc.js",module:{annotation:"module",name:"shortjsdoc.node",text:"nodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don't use console.log here since the output is dumped to stdout",commentRange:[88184,88426],fileName:"./src/shortjsdoc.js"},absoluteName:"shortjsdoc.node.ShortJsDoc",methods:{error:{annotation:"method",name:"error",text:"dumps an error",children:[{annotation:"param",type:"{String}",name:"m",text:"",theRestString:""}],commentRange:[88952,89e3],fileName:"./src/shortjsdoc.js"},tryToParseJsonFile:{annotation:"method",name:"tryToParseJsonFile",text:"",children:[{annotation:"param",type:"{String}",name:"path",text:"",theRestString:""}],commentRange:[89173,89223],fileName:"./src/shortjsdoc.js"},execute:{annotation:"method",name:"execute",text:"MAIN method to parse the parsed folder's javascript files recursively and return the AST of the jsdoc.",children:[{annotation:"param",type:"{JsDocOptions}",name:"options",text:"meta information about the project like title, url, license, etc. Hsa the same format as package.json file",theRestString:"@return {Object} the jsdoc AST object of all the parsed files."},{annotation:"return",type:"{Object}",name:"the",text:"jsdoc AST object of all the parsed files.",theRestString:""}],commentRange:[89380,89707],fileName:"./src/shortjsdoc.js"},computeVendorDirs:{annotation:"method",name:"computeVendorDirs",text:"",children:[{annotation:"param",type:"{JsDocOptions}",name:"options",text:"",theRestString:""}],commentRange:[90939,90996],fileName:"./src/shortjsdoc.js"},jsdoc:{annotation:"method",name:"jsdoc",text:"public method meant to be called from user projects build-time code. It will perform all the job of soing the parse and generating a full html output project ready to be used.",children:[{annotation:"param",type:"{JsDocOptions}",name:"options",text:"meta information about the project like title, url, license, etc. Hsa the same format as package.json file",theRestString:""}],commentRange:[91518,91849],fileName:"./src/shortjsdoc.js"},dumpJSON:{annotation:"method",name:"dumpJSON",text:"dump to json string the full ast. configurable through this.projectMetadata.jsdoc.dontMinifyOutput",commentRange:[92537,92655],fileName:"./src/shortjsdoc.js"},parseSources:{annotation:"method",name:"parseSources",text:"",commentRange:[92902,92924],fileName:"./src/shortjsdoc.js"},__parseSourcesFastVersion:{annotation:"method",name:"__parseSourcesFastVersion",text:"this was the previous implementation without file separation support. Nevertheless we \n let this uncommented and unused because parsing separate files introduced a significant parsing duration (parformance). \n TODO. let the user performa a --fast-parsing not supporting files but much faster just for fast jsdoc writting..",commentRange:[93105,93469],fileName:"./src/shortjsdoc.js"},buildSources:{annotation:"method",name:"buildSources",text:"parse all files in passed folders and returns the parsed results in t",children:[{annotation:"param",name:"Array",text:"<String> inputDir",theRestString:"@returns {Object} the parsed jsdoc AST object of all passed folders"},{annotation:"returns",type:"{Object}",name:"the",text:"parsed jsdoc AST object of all passed folders",theRestString:""}],commentRange:[93713,93906],fileName:"./src/shortjsdoc.js"},readSource:{annotation:"method",name:"readSource",text:"",children:[{annotation:"param",name:"file",text:"",theRestString:"@param map"},{annotation:"param",name:"map",text:"",theRestString:""}],commentRange:[94417,94460],fileName:"./src/shortjsdoc.js"},getHtmlFolder:{annotation:"method",name:"getHtmlFolder",text:"",children:[{annotation:"return",type:"{String}",name:"this",text:"module's html folder path",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[94572,94651],fileName:"./src/shortjsdoc.js"},getThisFolder:{annotation:"method",name:"getThisFolder",text:"",children:[{annotation:"return",type:"{String}",name:"this",text:"module's folder path",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[94763,94837],fileName:"./src/shortjsdoc.js"},folderWalk:{annotation:"method",name:"folderWalk",text:"General function for walking a folder recusively and sync",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[94996,95097],fileName:"./src/shortjsdoc.js"},copyRecursiveSync:{annotation:"method",name:"copyRecursiveSync",text:"copy directories recursively just like cp -r",children:[{annotation:"static",name:"_lineCommentSeparatorMark_",text:"//",theRestString:"@param {String} src The path to the thing to copy. _lineCommentSeparatorMark_ // @param {String} dest The path to the new copy. _lineCommentSeparatorMark_ ShortJsDoc.copyRecursiveSync = function(src, dest) _lineCommentSeparatorMark_ { _lineCommentSeparatorMark_ var exists = fs.existsSync(src); _lineCommentSeparatorMark_ var stats = exists && fs.statSync(src); _lineCommentSeparatorMark_ var isDirectory = exists && stats.isDirectory(); _lineCommentSeparatorMark_ if (exists && isDirectory) _lineCommentSeparatorMark_ { _lineCommentSeparatorMark_ fs.mkdirSync(dest); _lineCommentSeparatorMark_ fs.readdirSync(src).forEach(function(childItemName) _lineCommentSeparatorMark_ { _lineCommentSeparatorMark_ ShortJsDoc.copyRecursiveSync(path.join(src, childItemName), path.join(dest, childItemName)); _lineCommentSeparatorMark_ }); _lineCommentSeparatorMark_ } _lineCommentSeparatorMark_ else _lineCommentSeparatorMark_ { _lineCommentSeparatorMark_ fs.linkSync(src, dest); _lineCommentSeparatorMark_ } _lineCommentSeparatorMark_ };"},{annotation:"param",type:"{String}",name:"src",text:"The path to the thing to copy. \n //",theRestString:"@param {String} dest The path to the new copy. _lineCommentSeparatorMark_ ShortJsDoc.copyRecursiveSync = function(src, dest) _lineCommentSeparatorMark_ { _lineCommentSeparatorMark_ var exists = fs.existsSync(src); _lineCommentSeparatorMark_ var stats = exists && fs.statSync(src); _lineCommentSeparatorMark_ var isDirectory = exists && stats.isDirectory(); _lineCommentSeparatorMark_ if (exists && isDirectory) _lineCommentSeparatorMark_ { _lineCommentSeparatorMark_ fs.mkdirSync(dest); _lineCommentSeparatorMark_ fs.readdirSync(src).forEach(function(childItemName) _lineCommentSeparatorMark_ { _lineCommentSeparatorMark_ ShortJsDoc.copyRecursiveSync(path.join(src, childItemName), path.join(dest, childItemName)); _lineCommentSeparatorMark_ }); _lineCommentSeparatorMark_ } _lineCommentSeparatorMark_ else _lineCommentSeparatorMark_ { _lineCommentSeparatorMark_ fs.linkSync(src, dest); _lineCommentSeparatorMark_ } _lineCommentSeparatorMark_ };"},{annotation:"param",type:"{String}",name:"dest",text:"The path to the new copy. \n ShortJsDoc.copyRecursiveSync = function(src, dest) \n { \n var exists = fs.existsSync(src); \n var stats = exists && fs.statSync(src); \n var isDirectory = exists && stats.isDirectory(); \n if (exists && isDirectory) \n { \n fs.mkdirSync(dest); \n fs.readdirSync(src).forEach(function(childItemName) \n { \n ShortJsDoc.copyRecursiveSync(path.join(src, childItemName), path.join(dest, childItemName)); \n }); \n } \n else \n { \n fs.linkSync(src, dest); \n } \n };",theRestString:""}],commentRange:[95556,96245],fileName:"./src/shortjsdoc.js"}}},"shortjsdoc.node.JsDocOptions":{annotation:"class",name:"JsDocOptions",text:"",commentRange:[96316,96680],fileName:"./src/shortjsdoc.js",module:{annotation:"module",name:"shortjsdoc.node",text:"nodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don't use console.log here since the output is dumped to stdout",commentRange:[88184,88426],fileName:"./src/shortjsdoc.js"},absoluteName:"shortjsdoc.node.JsDocOptions",properties:{output:{annotation:"property",type:"{String}",name:"output",text:"output folder",commentRange:[96316,96680],fileName:"./src/shortjsdoc.js"},input:{annotation:"property",type:"{Array<String>}",name:"input",text:"the source code folders that will be parsed recursively.",commentRange:[96316,96680],fileName:"./src/shortjsdoc.js"},vendor:{annotation:"property",type:"{Array<String>}",name:"vendor",text:"include the jsdoc of libraries supported by short-jsdoc (see vendor-jsdoc folder). Example: vendor: ['javascript', 'html']",commentRange:[96316,96680],fileName:"./src/shortjsdoc.js"}},constructors:[{annotation:"constructor",name:"n",text:"",commentRange:[506037,506179],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"",commentRange:[508688,508838],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"",commentRange:[511023,511190],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"DataSet",commentRange:[527419,529103],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"DataView",commentRange:[556574,556818],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"",commentRange:[566661,567269],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"Graph3d\n * Graph3d displays data in 3d.\n *\n * Graph3d is developed in javascript as a Google Visualization Chart.\n *\n *",children:[{annotation:"param",type:"{Element}",name:"container",text:"The DOM element in which the Graph3d will\n   *                              be created. Normally a div element.\n   *",theRestString:"@param {DataSet | DataView | Array} [data]\n   * @param {Object} [options]"},{annotation:"param",type:"{DataSet | DataView | Array}",text:"[data]\n   *",theRestString:"@param {Object} [options]"},{annotation:"param",type:"{Object}",text:"[options]",theRestString:""}],commentRange:[573094,573471],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Element}",name:"container",text:"The DOM element in which the Graph3d will\n   *                              be created. Normally a div element.\n   *",theRestString:"@param {DataSet | DataView | Array} [data]\n   * @param {Object} [options]"},{annotation:"param",type:"{DataSet | DataView | Array}",text:"[data]\n   *",theRestString:"@param {Object} [options]"},{annotation:"param",type:"{Object}",text:"[options]",theRestString:""}],throws:[]}]},"shortjsdoc.node.Camera":{annotation:"class",name:"Camera",text:"* The camera is mounted on a (virtual) camera arm. The camera arm can rotate\n * The camera is always looking in the direction of the origin of the arm.\n * This way, the camera always rotates around one fixed point, the location\n * of the camera arm.\n *\n * Documentation:\n *   http://en.wikipedia.org/wiki/3D_projection",commentRange:[648923,649285],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"shortjsdoc.node",text:"nodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don't use console.log here since the output is dumped to stdout",commentRange:[88184,88426],fileName:"./src/shortjsdoc.js"},absoluteName:"shortjsdoc.node.Camera"},"shortjsdoc.node.Filter":{annotation:"class",name:"Filter",text:"*\n *",children:[{annotation:"param",type:"{DataSet}",name:"data",text:"The google data table\n   *",theRestString:"@param {Number}  column             The index of the column to be filtered\n   * @param {Graph} graph           The graph"},{annotation:"param",type:"{Number}",name:"column",text:"The index of the column to be filtered\n   *",theRestString:"@param {Graph} graph           The graph"},{annotation:"param",type:"{Graph}",name:"graph",text:"The graph",theRestString:""}],commentRange:[653233,653441],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"shortjsdoc.node",text:"nodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don't use console.log here since the output is dumped to stdout",commentRange:[88184,88426],fileName:"./src/shortjsdoc.js"},absoluteName:"shortjsdoc.node.Filter",constructors:[{annotation:"constructor",name:"n",text:"Slider\n *\n * An html slider control with start/stop/prev/next buttons\n *",children:[{annotation:"param",type:"{Element}",name:"container",text:"The element where the slider will be created\n   *",theRestString:"@param {Object} options   Available options:\n   *                 {boolean} visible   If true (default) the\n   *                           slider is visible."},{annotation:"param",type:"{Object}",name:"options",text:"Available options:\n   *                 {boolean} visible   If true (default) the\n   *                           slider is visible.",theRestString:""}],commentRange:[660845,661187],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Element}",name:"container",text:"The element where the slider will be created\n   *",theRestString:"@param {Object} options   Available options:\n   *                 {boolean} visible   If true (default) the\n   *                           slider is visible."},{annotation:"param",type:"{Object}",name:"options",text:"Available options:\n   *                 {boolean} visible   If true (default) the\n   *                           slider is visible.",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"*",children:[{annotation:"extends",name:"Core",text:"",theRestString:""}],commentRange:[675123,675506],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"*",children:[{annotation:"extends",name:"Core",text:"",theRestString:""}],commentRange:[688010,688286],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"DataStep\n * The class DataStep is an iterator for data for the lineGraph. You provide a start data point and an\n * end data point. The class itself determines the best scale (step size) based on the\n * provided start Date, end Date, and minimumStep.\n *\n * If minimumStep is provided, the step size is chosen as close as possible\n * to the minimumStep but larger than minimumStep. If minimumStep is not\n * provided, the scale is set to 1 DAY.\n * The minimumStep should correspond with the onscreen size of about 6 characters\n *\n * Alternatively, you can set a scale by hand.\n * After creation, you can initialize the class by executing first(). Then you\n * can iterate from the start date to the end date via next(). You can check if\n * the end date is reached with the function hasNext(). After each step, you can\n * retrieve the current date via getCurrent().\n * The DataStep has scales ranging from milliseconds, seconds, minutes, hours,\n * days, to years.\n *\n * Version: 1.2\n *\n *",children:[{annotation:"param",type:"{Date}",text:"[start]         The start date, for example new Date(2010, 9, 21)\n   *                               or new Date(2010, 9, 21, 23, 45, 00)\n   *",theRestString:"@param {Date} [end]           The end date\n   * @param {Number} [minimumStep] Optional. Minimum step size in milliseconds"},{annotation:"param",type:"{Date}",text:"[end]           The end date\n   *",theRestString:"@param {Number} [minimumStep] Optional. Minimum step size in milliseconds"},{annotation:"param",type:"{Number}",text:"[minimumStep] Optional. Minimum step size in milliseconds",theRestString:""}],commentRange:[712557,713888],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Date}",text:"[start]         The start date, for example new Date(2010, 9, 21)\n   *                               or new Date(2010, 9, 21, 23, 45, 00)\n   *",theRestString:"@param {Date} [end]           The end date\n   * @param {Number} [minimumStep] Optional. Minimum step size in milliseconds"},{annotation:"param",type:"{Date}",text:"[end]           The end date\n   *",theRestString:"@param {Number} [minimumStep] Optional. Minimum step size in milliseconds"},{annotation:"param",type:"{Number}",text:"[minimumStep] Optional. Minimum step size in milliseconds",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"Range\n * A Range controls a numeric range with a start and end value.\n * The Range adjusts the range based on mouse events or programmatic changes,\n * and triggers events when the range is changing or has been changed.\n *",children:[{annotation:"param",text:"{{dom: Object, domProps: Object, emitter: Emitter}} body\n   *",theRestString:"@param {Object} [options]    See description at Range.setOptions"},{annotation:"param",type:"{Object}",text:"[options]    See description at Range.setOptions",theRestString:""}],commentRange:[721864,722255],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",text:"{{dom: Object, domProps: Object, emitter: Emitter}} body\n   *",theRestString:"@param {Object} [options]    See description at Range.setOptions"},{annotation:"param",type:"{Object}",text:"[options]    See description at Range.setOptions",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"TimeStep\n * The class TimeStep is an iterator for dates. You provide a start date and an\n * end date. The class itself determines the best scale (step size) based on the\n * provided start Date, end Date, and minimumStep.\n *\n * If minimumStep is provided, the step size is chosen as close as possible\n * to the minimumStep but larger than minimumStep. If minimumStep is not\n * provided, the scale is set to 1 DAY.\n * The minimumStep should correspond with the onscreen size of about 6 characters\n *\n * Alternatively, you can set a scale by hand.\n * After creation, you can initialize the class by executing first(). Then you\n * can iterate from the start date to the end date via next(). You can check if\n * the end date is reached with the function hasNext(). After each step, you can\n * retrieve the current date via getCurrent().\n * The TimeStep has scales ranging from milliseconds, seconds, minutes, hours,\n * days, to years.\n *\n * Version: 1.2\n *\n *",children:[{annotation:"param",type:"{Date}",text:"[start]         The start date, for example new Date(2010, 9, 21)\n   *                               or new Date(2010, 9, 21, 23, 45, 00)\n   *",theRestString:"@param {Date} [end]           The end date\n   * @param {Number} [minimumStep] Optional. Minimum step size in milliseconds"},{annotation:"param",type:"{Date}",text:"[end]           The end date\n   *",theRestString:"@param {Number} [minimumStep] Optional. Minimum step size in milliseconds"},{annotation:"param",type:"{Number}",text:"[minimumStep] Optional. Minimum step size in milliseconds",theRestString:""}],commentRange:[749638,750940],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Date}",text:"[start]         The start date, for example new Date(2010, 9, 21)\n   *                               or new Date(2010, 9, 21, 23, 45, 00)\n   *",theRestString:"@param {Date} [end]           The end date\n   * @param {Number} [minimumStep] Optional. Minimum step size in milliseconds"},{annotation:"param",type:"{Date}",text:"[end]           The end date\n   *",theRestString:"@param {Number} [minimumStep] Optional. Minimum step size in milliseconds"},{annotation:"param",type:"{Number}",text:"[minimumStep] Optional. Minimum step size in milliseconds",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"Item\n *",children:[{annotation:"param",type:"{Object}",name:"data",text:"Object containing (optional) parameters type,\n   *                                  start, end, content, group, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} options          Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} options          Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",type:"{Object}",name:"options",text:"Configuration options\n   *                                  // TODO: describe available options",theRestString:""}],commentRange:[772506,772991],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Object}",name:"data",text:"Object containing (optional) parameters type,\n   *                                  start, end, content, group, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} options          Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} options          Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",type:"{Object}",name:"options",text:"Configuration options\n   *                                  // TODO: describe available options",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"BackgroundItem\n *",children:[{annotation:"extends",name:"Item",text:"*",theRestString:"@param {Object} data             Object containing parameters start, end\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",type:"{Object}",name:"data",text:"Object containing parameters start, end\n   *                                  content, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",type:"{Object}",text:"[options]        Configuration options\n   *                                  // TODO: describe options",theRestString:""}],commentRange:[779581,780060],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Object}",name:"data",text:"Object containing parameters start, end\n   *                                  content, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",type:"{Object}",text:"[options]        Configuration options\n   *                                  // TODO: describe options",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"BoxItem\n *",children:[{annotation:"extends",name:"Item",text:"*",theRestString:"@param {Object} data             Object containing parameters start\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",type:"{Object}",name:"data",text:"Object containing parameters start\n   *                                  content, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",type:"{Object}",text:"[options]        Configuration options\n   *                                  // TODO: describe available options",theRestString:""}],commentRange:[787201,787678],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Object}",name:"data",text:"Object containing parameters start\n   *                                  content, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",type:"{Object}",text:"[options]        Configuration options\n   *                                  // TODO: describe available options",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"PointItem\n *",children:[{annotation:"extends",name:"Item",text:"*",theRestString:"@param {Object} data             Object containing parameters start\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",type:"{Object}",name:"data",text:"Object containing parameters start\n   *                                  content, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",type:"{Object}",text:"[options]        Configuration options\n   *                                  // TODO: describe available options",theRestString:""}],commentRange:[793754,794233],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Object}",name:"data",text:"Object containing parameters start\n   *                                  content, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} [options]        Configuration options\n   *                                  // TODO: describe available options"},{annotation:"param",type:"{Object}",text:"[options]        Configuration options\n   *                                  // TODO: describe available options",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"RangeItem\n *",children:[{annotation:"extends",name:"Item",text:"*",theRestString:"@param {Object} data             Object containing parameters start, end\n   *                                  content, className.\n   * @param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",type:"{Object}",name:"data",text:"Object containing parameters start, end\n   *                                  content, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",type:"{Object}",text:"[options]        Configuration options\n   *                                  // TODO: describe options",theRestString:""}],commentRange:[799020,799494],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Object}",name:"data",text:"Object containing parameters start, end\n   *                                  content, className.\n   *",theRestString:"@param {{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   * @param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",text:"{{toScreen: function, toTime: function}} conversion\n   *                                  Conversion functions from time to screen and vice versa\n   *",theRestString:"@param {Object} [options]        Configuration options\n   *                                  // TODO: describe options"},{annotation:"param",type:"{Object}",text:"[options]        Configuration options\n   *                                  // TODO: describe options",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"CurrentTime\n *",children:[{annotation:"extends",name:"Component",text:"",theRestString:""}],commentRange:[810077,810355],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"CustomTime\n *",children:[{annotation:"extends",name:"Component",text:"",theRestString:""}],commentRange:[814610,814867],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"DataAxis\n *",children:[{annotation:"extends",name:"Component",text:"*",theRestString:"@param body"},{annotation:"param",name:"body",text:"",theRestString:""}],commentRange:[820055,820287],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",name:"body",text:"",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"",commentRange:[840326,840826],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"Group\n *",children:[{annotation:"param",type:"{Number | String}",name:"groupId",text:"*",theRestString:"@param {Object} data\n   * @param {ItemSet} itemSet"},{annotation:"param",type:"{Object}",name:"data",text:"*",theRestString:"@param {ItemSet} itemSet"},{annotation:"param",type:"{ItemSet}",name:"itemSet",text:"",theRestString:""}],commentRange:[847445,847572],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Number | String}",name:"groupId",text:"*",theRestString:"@param {Object} data\n   * @param {ItemSet} itemSet"},{annotation:"param",type:"{Object}",name:"data",text:"*",theRestString:"@param {ItemSet} itemSet"},{annotation:"param",type:"{ItemSet}",name:"itemSet",text:"",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"BackgroundGroup\n *",children:[{annotation:"param",type:"{Number | String}",name:"groupId",text:"*",theRestString:"@param {Object} data\n   * @param {ItemSet} itemSet"},{annotation:"param",type:"{Object}",name:"data",text:"*",theRestString:"@param {ItemSet} itemSet"},{annotation:"param",type:"{ItemSet}",name:"itemSet",text:"",theRestString:""}],commentRange:[866767,866904],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Number | String}",name:"groupId",text:"*",theRestString:"@param {Object} data\n   * @param {ItemSet} itemSet"},{annotation:"param",type:"{Object}",name:"data",text:"*",theRestString:"@param {ItemSet} itemSet"},{annotation:"param",type:"{ItemSet}",name:"itemSet",text:"",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"ItemSet\n *",children:[{annotation:"extends",name:"Component",text:"",theRestString:""}],commentRange:[869126,869556],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"",commentRange:[924810,924967],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"TimeAxis\n *",children:[{annotation:"extends",name:"Component",text:"",theRestString:""}],commentRange:[957703,958001],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"Network\n * Create a network visualization, displaying nodes and edges.\n *\n *",children:[{annotation:"param",type:"{Element}",name:"container",text:"The DOM element in which the Network will\n   *                                  be created. Normally a div element.\n   *",theRestString:"@param {Object} data         An object containing parameters\n   *                              {Array} nodes\n   *                              {Array} edges\n   * @param {Object} options      Options"},{annotation:"param",type:"{Object}",name:"data",text:"An object containing parameters\n   *                              {Array} nodes\n   *                              {Array} edges\n   *",theRestString:"@param {Object} options      Options"},{annotation:"param",type:"{Object}",name:"options",text:"Options",theRestString:""}],commentRange:[972692,973151],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{Element}",name:"container",text:"The DOM element in which the Network will\n   *                                  be created. Normally a div element.\n   *",theRestString:"@param {Object} data         An object containing parameters\n   *                              {Array} nodes\n   *                              {Array} edges\n   * @param {Object} options      Options"},{annotation:"param",type:"{Object}",name:"data",text:"An object containing parameters\n   *                              {Array} nodes\n   *                              {Array} edges\n   *",theRestString:"@param {Object} options      Options"},{annotation:"param",type:"{Object}",name:"options",text:"Options",theRestString:""}],throws:[]},{annotation:"constructor",name:"n",text:"",commentRange:[1042555,1042678],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"",commentRange:[1042825,1042948],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]}]},"shortjsdoc.node.Edge":{annotation:"class",name:"Edge",text:"*\n * A edge connects two nodes\n *",children:[{annotation:"param",type:"{Object}",name:"properties",text:"Object with properties. Must contain\n   *                                At least properties from and to.\n   *                                Available properties: from (number),\n   *                                to (number), label (string, color (string),\n   *                                width (number), style (string),\n   *                                length (number), title (string)\n   *",theRestString:"@param {Network} network       A Network object, used to find and edge to\n   *                                nodes.\n   * @param {Object} constants      An object with default values for\n   *                                example for the color"},{annotation:"param",type:"{Network}",name:"network",text:"A Network object, used to find and edge to\n   *                                nodes.\n   *",theRestString:"@param {Object} constants      An object with default values for\n   *                                example for the color"},{annotation:"param",type:"{Object}",name:"constants",text:"An object with default values for\n   *                                example for the color",theRestString:""}],commentRange:[1068362,1069105],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"shortjsdoc.node",text:"nodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don't use console.log here since the output is dumped to stdout",commentRange:[88184,88426],fileName:"./src/shortjsdoc.js"},absoluteName:"shortjsdoc.node.Edge"},"shortjsdoc.node.Groups":{annotation:"class",name:"Groups",text:"* This class can store groups and properties specific for groups.",commentRange:[1113729,1113826],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"shortjsdoc.node",text:"nodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don't use console.log here since the output is dumped to stdout",commentRange:[88184,88426],fileName:"./src/shortjsdoc.js"},absoluteName:"shortjsdoc.node.Groups"},"shortjsdoc.node.Images":{annotation:"class",name:"Images",text:"* This class loads images and keeps them stored.",commentRange:[1119194,1119274],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"shortjsdoc.node",text:"nodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don't use console.log here since the output is dumped to stdout",commentRange:[88184,88426],fileName:"./src/shortjsdoc.js"},absoluteName:"shortjsdoc.node.Images"},"shortjsdoc.node.Node":{annotation:"class",name:"Node",text:"* A node. A node can be connected to other nodes via one or multiple edges.\n *",children:[{annotation:"param",type:"{object}",name:"properties",text:'An object containing properties for the node. All\n   *                            properties are optional, except for the id.\n   *                              {number} id     Id of the node. Required\n   *                              {string} label  Text label for the node\n   *                              {number} x      Horizontal position of the node\n   *                              {number} y      Vertical position of the node\n   *                              {string} shape  Node shape, available:\n   *                                              "database", "circle", "ellipse",\n   *                                              "box", "image", "text", "dot",\n   *                                              "star", "triangle", "triangleDown",\n   *                                              "square", "icon"\n   *                              {string} image  An image url\n   *                              {string} title  An title text, can be HTML\n   *                              {anytype} group A group name or number\n   *',theRestString:"@param {Network.Images} imagelist    A list with images. Only needed\n   *                                            when the node has an image\n   * @param {Network.Groups} grouplist    A list with groups. Needed for\n   *                                            retrieving group properties\n   * @param {Object}               constants    An object with default values for\n   *                                            example for the color\n   *"},{annotation:"param",type:"{Network.Images}",name:"imagelist",text:"A list with images. Only needed\n   *                                            when the node has an image\n   *",theRestString:"@param {Network.Groups} grouplist    A list with groups. Needed for\n   *                                            retrieving group properties\n   * @param {Object}               constants    An object with default values for\n   *                                            example for the color\n   *"},{annotation:"param",type:"{Network.Groups}",name:"grouplist",text:"A list with groups. Needed for\n   *                                            retrieving group properties\n   *",theRestString:"@param {Object}               constants    An object with default values for\n   *                                            example for the color\n   *"},{annotation:"param",type:"{Object}",name:"constants",text:"An object with default values for\n   *                                            example for the color\n   *",theRestString:""}],commentRange:[1121467,1123099],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"shortjsdoc.node",text:"nodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don't use console.log here since the output is dumped to stdout",commentRange:[88184,88426],fileName:"./src/shortjsdoc.js"},absoluteName:"shortjsdoc.node.Node",constructors:[{annotation:"constructor",name:"n",text:"",commentRange:[1195309,1195563],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]},{annotation:"constructor",name:"n",text:"",commentRange:[1254385,1254835],fileName:"./html/lib/vis/dist/vis.js",params:[],throws:[]}]},"hammer.Hammer":{annotation:"class",name:"Hammer",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1383959,1384036],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"hammer",text:"*\n *\n\n*\n   *\n\n\n\n*\n   *\n\n*\n   *\n\n\n\n",commentRange:[1383959,1384036],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"hammer.Hammer",methods:{Hammer:{annotation:"method",name:"Hammer",text:"*",children:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {Object} [options={}]\n   * @return {Hammer.Instance}"},{annotation:"param",type:"{Object}",text:"[options={}]\n   *",theRestString:"@return {Hammer.Instance}"},{annotation:"return",type:"{Hammer.Instance}",text:"",theRestString:""}],commentRange:[1384040,1384280],fileName:"./html/lib/vis/dist/vis.js"}},properties:{VERSION:{annotation:"property",name:"VERSION",text:"*",children:[{annotation:"final",text:"*",theRestString:"@type {String}"},{annotation:"type",type:"{String}",text:"",theRestString:""}],commentRange:[1384398,1384544],fileName:"./html/lib/vis/dist/vis.js"},defaults:{annotation:"property",name:"defaults",text:"*",children:[{annotation:"type",type:"{Object}",text:"",theRestString:""}],commentRange:[1384576,1385074],fileName:"./html/lib/vis/dist/vis.js"},"defaults.behavior":{annotation:"property",name:"defaults.behavior",text:"*",children:[{annotation:"type",type:"{Object}",text:"",theRestString:""}],commentRange:[1385103,1385379],fileName:"./html/lib/vis/dist/vis.js"},"defaults.behavior.userSelect":{annotation:"property",name:"defaults.behavior.userSelect",text:"*",children:[{annotation:"type",type:"{String}",text:"*",theRestString:"@default 'none'"},{annotation:"default",text:"'none'",theRestString:""}],commentRange:[1385408,1385729],fileName:"./html/lib/vis/dist/vis.js"},"defaults.behavior.touchAction":{annotation:"property",name:"defaults.behavior.touchAction",text:"*",children:[{annotation:"type",type:"{String}",text:"*",theRestString:"@default: 'pan-y'"},{annotation:"default",name:":",text:"'pan-y'",theRestString:""}],commentRange:[1385771,1386127],fileName:"./html/lib/vis/dist/vis.js"},"defaults.behavior.touchCallout":{annotation:"property",name:"defaults.behavior.touchCallout",text:"*",children:[{annotation:"type",type:"{String}",text:"*",theRestString:"@default 'none'"},{annotation:"default",text:"'none'",theRestString:""}],commentRange:[1386171,1386591],fileName:"./html/lib/vis/dist/vis.js"},"defaults.behavior.contentZooming":{annotation:"property",name:"defaults.behavior.contentZooming",text:"*",children:[{annotation:"type",type:"{String}",text:"*",theRestString:"@default 'none'"},{annotation:"default",text:"'none'",theRestString:""}],commentRange:[1386635,1386830],fileName:"./html/lib/vis/dist/vis.js"},"defaults.behavior.userDrag":{annotation:"property",name:"defaults.behavior.userDrag",text:"*",children:[{annotation:"type",type:"{String}",text:"*",theRestString:"@default 'none'"},{annotation:"default",text:"'none'",theRestString:""}],commentRange:[1386876,1387133],fileName:"./html/lib/vis/dist/vis.js"},"defaults.behavior.tapHighlightColor":{annotation:"property",name:"defaults.behavior.tapHighlightColor",text:"*",children:[{annotation:"type",type:"{String}",text:"*",theRestString:"@default 'rgba(0,0,0,0)'"},{annotation:"default",text:"'rgba(0,0,0,0)'",theRestString:""}],commentRange:[1387173,1387810],fileName:"./html/lib/vis/dist/vis.js"},DOCUMENT:{annotation:"property",name:"DOCUMENT",text:"*",children:[{annotation:"type",type:"{HTMLElement}",text:"*",theRestString:"@default window.document"},{annotation:"default",name:"window.document",text:"",theRestString:""}],commentRange:[1387872,1388016],fileName:"./html/lib/vis/dist/vis.js"},HAS_POINTEREVENTS:{annotation:"property",name:"HAS_POINTEREVENTS",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"",theRestString:""}],commentRange:[1388050,1388152],fileName:"./html/lib/vis/dist/vis.js"},HAS_TOUCHEVENTS:{annotation:"property",name:"HAS_TOUCHEVENTS",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"",theRestString:""}],commentRange:[1388241,1388339],fileName:"./html/lib/vis/dist/vis.js"},IS_MOBILE:{annotation:"property",name:"IS_MOBILE",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"",theRestString:""}],commentRange:[1388398,1388481],fileName:"./html/lib/vis/dist/vis.js"},NO_MOUSEEVENTS:{annotation:"property",name:"NO_MOUSEEVENTS",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"",theRestString:""}],commentRange:[1388578,1388691],fileName:"./html/lib/vis/dist/vis.js"},CALCULATE_INTERVAL:{annotation:"property",name:"CALCULATE_INTERVAL",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 25"},{annotation:"default",name:"25",text:"",theRestString:""}],commentRange:[1388795,1388957],fileName:"./html/lib/vis/dist/vis.js"},EVENT_TYPES:{annotation:"property",name:"EVENT_TYPES",text:"*",children:[{annotation:"private",text:"*",theRestString:"@writeOnce\n   * @type {Object}"},{annotation:"writeOnce",text:"*",theRestString:"@type {Object}"},{annotation:"type",type:"{Object}",text:"",theRestString:""}],commentRange:[1388995,1389281],fileName:"./html/lib/vis/dist/vis.js"},DIRECTION_DOWN:{annotation:"property",name:"DIRECTION_DOWN",text:"|LEFT|UP|RIGHT\n *",children:[{annotation:"final",text:"*",theRestString:"@type {String}\n   * @default 'down' 'left' 'up' 'right'"},{annotation:"type",type:"{String}",text:"*",theRestString:"@default 'down' 'left' 'up' 'right'"},{annotation:"default",text:"'down' 'left' 'up' 'right'",theRestString:""}],commentRange:[1389309,1389480],fileName:"./html/lib/vis/dist/vis.js"},POINTER_MOUSE:{annotation:"property",name:"POINTER_MOUSE",text:"|TOUCH|PEN\n *",children:[{annotation:"final",text:"*",theRestString:"@type {String}\n   * @default 'mouse' 'touch' 'pen'"},{annotation:"type",type:"{String}",text:"*",theRestString:"@default 'mouse' 'touch' 'pen'"},{annotation:"default",text:"'mouse' 'touch' 'pen'",theRestString:""}],commentRange:[1389701,1389864],fileName:"./html/lib/vis/dist/vis.js"},EVENT_START:{annotation:"property",name:"EVENT_START",text:"|MOVE|END|RELEASE|TOUCH\n *",children:[{annotation:"final",text:"*",theRestString:"@type {String}\n   * @default 'start' 'change' 'move' 'end' 'release' 'touch'"},{annotation:"type",type:"{String}",text:"*",theRestString:"@default 'start' 'change' 'move' 'end' 'release' 'touch'"},{annotation:"default",text:"'start' 'change' 'move' 'end' 'release' 'touch'",theRestString:""}],commentRange:[1390024,1390193],fileName:"./html/lib/vis/dist/vis.js"},READY:{annotation:"property",name:"READY",text:"*",children:[{annotation:"writeOnce",text:"*",theRestString:"@type {Boolean}\n   * @default false"},{annotation:"type",type:"{Boolean}",text:"*",theRestString:"@default false"},{annotation:"default",name:"false",text:"",theRestString:""}],commentRange:[1390444,1390568],fileName:"./html/lib/vis/dist/vis.js"},plugins:{annotation:"property",name:"plugins",text:"*",children:[{annotation:"type",type:"{Object}",text:"",theRestString:""}],commentRange:[1390596,1390671],fileName:"./html/lib/vis/dist/vis.js"},gestures:{annotation:"property",name:"gestures",text:"*",children:[{annotation:"type",type:"{Object}",text:"",theRestString:""}],commentRange:[1390716,1390834],fileName:"./html/lib/vis/dist/vis.js"}}},"hammer.Utils":{annotation:"class",name:"Utils",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1391575,1391640],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"hammer",text:"*\n *",commentRange:[1391575,1391640],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"hammer.Utils",methods:{extend:{annotation:"method",name:"extend",text:"*",children:[{annotation:"param",type:"{Object}",name:"dest",text:"*",theRestString:"@param {Object} src\n       * @param {Boolean} [merge=false]  do a merge\n       * @return {Object} dest"},{annotation:"param",type:"{Object}",name:"src",text:"*",theRestString:"@param {Boolean} [merge=false]  do a merge\n       * @return {Object} dest"},{annotation:"param",type:"{Boolean}",text:"[merge=false]  do a merge\n       *",theRestString:"@return {Object} dest"},{annotation:"return",type:"{Object}",name:"dest",text:"",theRestString:""}],commentRange:[1391678,1391977],fileName:"./html/lib/vis/dist/vis.js"},on:{annotation:"method",name:"on",text:"*",children:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {String} type\n       * @param {Function} handler"},{annotation:"param",type:"{String}",name:"type",text:"*",theRestString:"@param {Function} handler"},{annotation:"param",type:"{Function}",name:"handler",text:"",theRestString:""}],commentRange:[1392274,1392451],fileName:"./html/lib/vis/dist/vis.js"},off:{annotation:"method",name:"off",text:"*",children:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {String} type\n       * @param {Function} handler"},{annotation:"param",type:"{String}",name:"type",text:"*",theRestString:"@param {Function} handler"},{annotation:"param",type:"{Function}",name:"handler",text:"",theRestString:""}],commentRange:[1392574,1392755],fileName:"./html/lib/vis/dist/vis.js"},each:{annotation:"method",name:"each",text:"*",children:[{annotation:"param",type:"{Object|Array}",name:"obj",text:"*",theRestString:"@param {Function} iterator\n       * @param {any} iterator.item\n       * @param {Number} iterator.index\n       * @param {Object|Array} iterator.obj the source object\n       * @param {Object} context value to use as `this` in the iterator"},{annotation:"param",type:"{Function}",name:"iterator",text:"*",theRestString:"@param {any} iterator.item\n       * @param {Number} iterator.index\n       * @param {Object|Array} iterator.obj the source object\n       * @param {Object} context value to use as `this` in the iterator"},{annotation:"param",type:"{any}",name:"iterator.item",text:"*",theRestString:"@param {Number} iterator.index\n       * @param {Object|Array} iterator.obj the source object\n       * @param {Object} context value to use as `this` in the iterator"},{annotation:"param",type:"{Number}",name:"iterator.index",text:"*",theRestString:"@param {Object|Array} iterator.obj the source object\n       * @param {Object} context value to use as `this` in the iterator"},{annotation:"param",type:"{Object|Array}",name:"iterator.obj",text:"the source object\n       *",theRestString:"@param {Object} context value to use as `this` in the iterator"},{annotation:"param",type:"{Object}",name:"context",text:"value to use as `this` in the iterator",theRestString:""}],commentRange:[1392883,1393240],fileName:"./html/lib/vis/dist/vis.js"},inStr:{annotation:"method",name:"inStr",text:"*",children:[{annotation:"param",type:"{String}",name:"src",text:"*",theRestString:"@param {String} find\n       * @return {Boolean} found"},{annotation:"param",type:"{String}",name:"find",text:"*",theRestString:"@return {Boolean} found"},{annotation:"return",type:"{Boolean}",name:"found",text:"",theRestString:""}],commentRange:[1393983,1394171],fileName:"./html/lib/vis/dist/vis.js"},inArray:{annotation:"method",name:"inArray",text:"*",children:[{annotation:"param",type:"{String}",name:"src",text:"*",theRestString:"@param {String} find\n       * @return {Boolean|Number} false when not found, or the index"},{annotation:"param",type:"{String}",name:"find",text:"*",theRestString:"@return {Boolean|Number} false when not found, or the index"},{annotation:"return",type:"{Boolean|Number}",name:"false",text:"when not found, or the index",theRestString:""}],commentRange:[1394270,1394516],fileName:"./html/lib/vis/dist/vis.js"},toArray:{annotation:"method",name:"toArray",text:"*",children:[{annotation:"param",type:"{Object}",name:"obj",text:"*",theRestString:"@return {Array}"},{annotation:"return",type:"{Array}",text:"",theRestString:""}],commentRange:[1394934,1395103],fileName:"./html/lib/vis/dist/vis.js"},hasParent:{annotation:"method",name:"hasParent",text:"*",children:[{annotation:"param",type:"{HTMLElement}",name:"node",text:"*",theRestString:"@param {HTMLElement} parent\n       * @return {Boolean} found"},{annotation:"param",type:"{HTMLElement}",name:"parent",text:"*",theRestString:"@return {Boolean} found"},{annotation:"return",type:"{Boolean}",name:"found",text:"",theRestString:""}],commentRange:[1395212,1395404],fileName:"./html/lib/vis/dist/vis.js"},getCenter:{annotation:"method",name:"getCenter",text:"*",children:[{annotation:"param",type:"{Array}",name:"touches",text:"*",theRestString:"@return {Object} center contains `pageX`, `pageY`, `clientX` and `clientY` properties"},{annotation:"return",type:"{Object}",name:"center",text:"contains `pageX`, `pageY`, `clientX` and `clientY` properties",theRestString:""}],commentRange:[1395653,1395863],fileName:"./html/lib/vis/dist/vis.js"},getVelocity:{annotation:"method",name:"getVelocity",text:"*",children:[{annotation:"param",type:"{Number}",name:"deltaTime",text:"*",theRestString:"@param {Number} deltaX\n       * @param {Number} deltaY\n       * @return {Object} velocity `x` and `y`"},{annotation:"param",type:"{Number}",name:"deltaX",text:"*",theRestString:"@param {Number} deltaY\n       * @return {Object} velocity `x` and `y`"},{annotation:"param",type:"{Number}",name:"deltaY",text:"*",theRestString:"@return {Object} velocity `x` and `y`"},{annotation:"return",type:"{Object}",name:"velocity",text:"`x` and `y`",theRestString:""}],commentRange:[1396988,1397250],fileName:"./html/lib/vis/dist/vis.js"},getAngle:{annotation:"method",name:"getAngle",text:"*",children:[{annotation:"param",type:"{Touch}",name:"touch1",text:"*",theRestString:"@param {Touch} touch2\n       * @return {Number} angle"},{annotation:"param",type:"{Touch}",name:"touch2",text:"*",theRestString:"@return {Number} angle"},{annotation:"return",type:"{Number}",name:"angle",text:"",theRestString:""}],commentRange:[1397471,1397657],fileName:"./html/lib/vis/dist/vis.js"},getDirection:{annotation:"method",name:"getDirection",text:"*",children:[{annotation:"param",type:"{Touch}",name:"touch1",text:"*",theRestString:"@param {Touch} touch2\n       * @return {String} direction matches `DIRECTION_LEFT|RIGHT|UP|DOWN`"},{annotation:"param",type:"{Touch}",name:"touch2",text:"*",theRestString:"@return {String} direction matches `DIRECTION_LEFT|RIGHT|UP|DOWN`"},{annotation:"return",type:"{String}",name:"direction",text:"matches `DIRECTION_LEFT|RIGHT|UP|DOWN`",theRestString:""}],commentRange:[1397880,1398134],fileName:"./html/lib/vis/dist/vis.js"},getDistance:{annotation:"method",name:"getDistance",text:"*",children:[{annotation:"param",type:"{Touch}",name:"touch1",text:"*",theRestString:"@param {Touch} touch2\n       * @return {Number} distance"},{annotation:"param",type:"{Touch}",name:"touch2",text:"*",theRestString:"@return {Number} distance"},{annotation:"return",type:"{Number}",name:"distance",text:"",theRestString:""}],commentRange:[1398548,1398738],fileName:"./html/lib/vis/dist/vis.js"},getScale:{annotation:"method",name:"getScale",text:"*",children:[{annotation:"param",type:"{Array}",name:"start",text:"array of touches\n       *",theRestString:"@param {Array} end array of touches\n       * @return {Number} scale"},{annotation:"param",type:"{Array}",name:"end",text:"array of touches\n       *",theRestString:"@return {Number} scale"},{annotation:"return",type:"{Number}",name:"scale",text:"",theRestString:""}],commentRange:[1398963,1399279],fileName:"./html/lib/vis/dist/vis.js"},getRotation:{annotation:"method",name:"getRotation",text:"*",children:[{annotation:"param",type:"{Array}",name:"start",text:"array of touches\n       *",theRestString:"@param {Array} end array of touches\n       * @return {Number} rotation"},{annotation:"param",type:"{Array}",name:"end",text:"array of touches\n       *",theRestString:"@return {Number} rotation"},{annotation:"return",type:"{Number}",name:"rotation",text:"",theRestString:""}],commentRange:[1399556,1399788],fileName:"./html/lib/vis/dist/vis.js"},isVertical:{annotation:"method",name:"isVertical",text:"*",children:[{annotation:"param",type:"{String}",name:"direction",text:"matches `DIRECTION_UP|DOWN`\n       *",theRestString:"@return {Boolean} is_vertical"},{annotation:"return",type:"{Boolean}",name:"is_vertical",text:"",theRestString:""}],commentRange:[1400062,1400256],fileName:"./html/lib/vis/dist/vis.js"},toggleBehavior:{annotation:"method",name:"toggleBehavior",text:"*",children:[{annotation:"param",type:"{HtmlElement}",name:"element",text:"*",theRestString:"@param {Object} props\n       * @param {Boolean} [toggle=true]"},{annotation:"param",type:"{Object}",name:"props",text:"*",theRestString:"@param {Boolean} [toggle=true]"},{annotation:"param",type:"{Boolean}",text:"[toggle=true]",theRestString:""}],commentRange:[1401261,1401632],fileName:"./html/lib/vis/dist/vis.js"}}},"hammer.Event":{annotation:"class",name:"Event",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1402747,1402787],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"hammer",text:"",commentRange:[1402715,1402744],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"hammer.Event",properties:{prevent_mouseevents:{annotation:"property",name:"prevent_mouseevents",text:"*",children:[{annotation:"private",text:"*",theRestString:"@type {Boolean}"},{annotation:"type",type:"{Boolean}",text:"",theRestString:""}],commentRange:[1402825,1403020],fileName:"./html/lib/vis/dist/vis.js"},started:{annotation:"property",name:"started",text:"*",children:[{annotation:"private",text:"*",theRestString:"@type {Boolean}"},{annotation:"type",type:"{Boolean}",text:"",theRestString:""}],commentRange:[1403061,1403183],fileName:"./html/lib/vis/dist/vis.js"},should_detect:{annotation:"property",name:"should_detect",text:"*",children:[{annotation:"private",text:"*",theRestString:"@type {Boolean}"},{annotation:"type",type:"{Boolean}",text:"",theRestString:""}],commentRange:[1403213,1403353],fileName:"./html/lib/vis/dist/vis.js"}},methods:{on:{annotation:"method",name:"on",text:"*",children:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {String} type\n       * @param {Function} handler\n       * @param {Function} [hook]\n       * @param {Object} hook.type"},{annotation:"param",type:"{String}",name:"type",text:"*",theRestString:"@param {Function} handler\n       * @param {Function} [hook]\n       * @param {Object} hook.type"},{annotation:"param",type:"{Function}",name:"handler",text:"*",theRestString:"@param {Function} [hook]\n       * @param {Object} hook.type"},{annotation:"param",type:"{Function}",text:"[hook]\n       *",theRestString:"@param {Object} hook.type"},{annotation:"param",type:"{Object}",name:"hook.type",text:"",theRestString:""}],commentRange:[1403388,1403665],fileName:"./html/lib/vis/dist/vis.js"},off:{annotation:"method",name:"off",text:"*",children:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {String} type\n       * @param {Function} handler\n       * @param {Function} [hook]\n       * @param {Object} hook.type"},{annotation:"param",type:"{String}",name:"type",text:"*",theRestString:"@param {Function} handler\n       * @param {Function} [hook]\n       * @param {Object} hook.type"},{annotation:"param",type:"{Function}",name:"handler",text:"*",theRestString:"@param {Function} [hook]\n       * @param {Object} hook.type"},{annotation:"param",type:"{Function}",text:"[hook]\n       *",theRestString:"@param {Object} hook.type"},{annotation:"param",type:"{Object}",name:"hook.type",text:"",theRestString:""}],commentRange:[1403916,1404196],fileName:"./html/lib/vis/dist/vis.js"},onTouch:{annotation:"method",name:"onTouch",text:"*",children:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {String} eventType matches `EVENT_START|MOVE|END`\n       * @param {Function} handler\n       * @return onTouchHandler {Function} the core event handler"},{annotation:"param",type:"{String}",name:"eventType",text:"matches `EVENT_START|MOVE|END`\n       *",theRestString:"@param {Function} handler\n       * @return onTouchHandler {Function} the core event handler"},{annotation:"param",type:"{Function}",name:"handler",text:"*",theRestString:"@return onTouchHandler {Function} the core event handler"},{annotation:"return",name:"onTouchHandler",text:"{Function} the core event handler",theRestString:""}],commentRange:[1404450,1404788],fileName:"./html/lib/vis/dist/vis.js"},doDetect:{annotation:"method",name:"doDetect",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"*",theRestString:"@param {String} eventType matches `EVENT_START|MOVE|END`\n       * @param {HTMLElement} element\n       * @param {Function} handler\n       * @return {String} triggerType matches `EVENT_START|MOVE|END`"},{annotation:"param",type:"{String}",name:"eventType",text:"matches `EVENT_START|MOVE|END`\n       *",theRestString:"@param {HTMLElement} element\n       * @param {Function} handler\n       * @return {String} triggerType matches `EVENT_START|MOVE|END`"},{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {Function} handler\n       * @return {String} triggerType matches `EVENT_START|MOVE|END`"},{annotation:"param",type:"{Function}",name:"handler",text:"*",theRestString:"@return {String} triggerType matches `EVENT_START|MOVE|END`"},{annotation:"return",type:"{String}",name:"triggerType",text:"matches `EVENT_START|MOVE|END`",theRestString:""}],commentRange:[1407104,1407474],fileName:"./html/lib/vis/dist/vis.js"},determineEventTypes:{annotation:"method",name:"determineEventTypes",text:"*",children:[{annotation:"return",type:"{Object}",name:"events",text:"",theRestString:""}],commentRange:[1409879,1410152],fileName:"./html/lib/vis/dist/vis.js"},getTouchList:{annotation:"method",name:"getTouchList",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"*",theRestString:"@param {String} eventType\n       * @return {Array} touches"},{annotation:"param",type:"{String}",name:"eventType",text:"*",theRestString:"@return {Array} touches"},{annotation:"return",type:"{Array}",name:"touches",text:"",theRestString:""}],commentRange:[1411323,1411511],fileName:"./html/lib/vis/dist/vis.js"},collectEventData:{annotation:"method",name:"collectEventData",text:"*",children:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {String} eventType matches `EVENT_START|MOVE|END`\n       * @param {Array} touches\n       * @param {Object} ev\n       * @return {Object} ev"},{annotation:"param",type:"{String}",name:"eventType",text:"matches `EVENT_START|MOVE|END`\n       *",theRestString:"@param {Array} touches\n       * @param {Object} ev\n       * @return {Object} ev"},{annotation:"param",type:"{Array}",name:"touches",text:"*",theRestString:"@param {Object} ev\n       * @return {Object} ev"},{annotation:"param",type:"{Object}",name:"ev",text:"*",theRestString:"@return {Object} ev"},{annotation:"return",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1412484,1412758],fileName:"./html/lib/vis/dist/vis.js"}}},"hammer.PointerEvent":{annotation:"class",name:"PointerEvent",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1414382,1414454],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"hammer",text:"*\n *",commentRange:[1414382,1414454],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"hammer.PointerEvent",properties:{pointers:{annotation:"property",name:"pointers",text:"*",children:[{annotation:"type",type:"{Object}",text:"",theRestString:""}],commentRange:[1414506,1414616],fileName:"./html/lib/vis/dist/vis.js"}},methods:{getTouchList:{annotation:"method",name:"getTouchList",text:"*",children:[{annotation:"return",type:"{Array}",name:"touchlist",text:"",theRestString:""}],commentRange:[1414644,1414760],fileName:"./html/lib/vis/dist/vis.js"},updatePointer:{annotation:"method",name:"updatePointer",text:"*",children:[{annotation:"param",type:"{String}",name:"eventType",text:"matches `EVENT_START|MOVE|END`\n       *",theRestString:"@param {Object} pointerEvent"},{annotation:"param",type:"{Object}",name:"pointerEvent",text:"",theRestString:""}],commentRange:[1415058,1415248],fileName:"./html/lib/vis/dist/vis.js"},matchType:{annotation:"method",name:"matchType",text:"*",children:[{annotation:"param",type:"{String}",name:"pointerType",text:"matches `POINTER_MOUSE|TOUCH|PEN`\n       *",theRestString:"@param {PointerEvent} ev"},{annotation:"param",type:"{PointerEvent}",name:"ev",text:"",theRestString:""}],commentRange:[1415656,1415842],fileName:"./html/lib/vis/dist/vis.js"},reset:{annotation:"method",name:"reset",text:"",commentRange:[1416338,1416409],fileName:"./html/lib/vis/dist/vis.js"}}},"hammer.Detection":{annotation:"class",name:"Detection",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1416493,1416562],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"hammer",text:"*\n *",commentRange:[1416493,1416562],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"hammer.Detection",methods:{startDetect:{annotation:"method",name:"startDetect",text:"*",children:[{annotation:"param",type:"{Hammer.Instance}",name:"inst",text:"*",theRestString:"@param {Object} eventData"},{annotation:"param",type:"{Object}",name:"eventData",text:"",theRestString:""}],commentRange:[1416997,1417153],fileName:"./html/lib/vis/dist/vis.js"},detect:{annotation:"method",name:"detect",text:"*",children:[{annotation:"param",type:"{Object}",name:"eventData",text:"*",theRestString:"@return {any}"},{annotation:"return",type:"{any}",text:"",theRestString:""}],commentRange:[1418018,1418147],fileName:"./html/lib/vis/dist/vis.js"},stopDetect:{annotation:"method",name:"stopDetect",text:"",commentRange:[1419179,1419420],fileName:"./html/lib/vis/dist/vis.js"},getVelocityData:{annotation:"method",name:"getVelocityData",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"*",theRestString:"@param {Object} center\n       * @param {Number} deltaTime\n       * @param {Number} deltaX\n       * @param {Number} deltaY"},{annotation:"param",type:"{Object}",name:"center",text:"*",theRestString:"@param {Number} deltaTime\n       * @param {Number} deltaX\n       * @param {Number} deltaY"},{annotation:"param",type:"{Number}",name:"deltaTime",text:"*",theRestString:"@param {Number} deltaX\n       * @param {Number} deltaY"},{annotation:"param",type:"{Number}",name:"deltaX",text:"*",theRestString:"@param {Number} deltaY"},{annotation:"param",type:"{Number}",name:"deltaY",text:"",theRestString:""}],commentRange:[1419792,1420046],fileName:"./html/lib/vis/dist/vis.js"},extendEventData:{annotation:"method",name:"extendEventData",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"*",theRestString:"@return {Object} ev"},{annotation:"return",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1421361,1421510],fileName:"./html/lib/vis/dist/vis.js"},register:{annotation:"method",name:"register",text:"*",children:[{annotation:"param",type:"{Object}",name:"gesture",text:"object, see `gestures/` for documentation\n       *",theRestString:"@return {Array} gestures"},{annotation:"return",type:"{Array}",name:"gestures",text:"",theRestString:""}],commentRange:[1422947,1423125],fileName:"./html/lib/vis/dist/vis.js"}}},"hammer.Instance":{annotation:"class",name:"Instance",text:"*",commentRange:[1424053,1424351],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"hammer",text:"",commentRange:[1424020,1424049],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"hammer.Instance",constructors:[{annotation:"constructor",name:"n",text:"*",children:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {Object} [options={}] options are merged with `Hammer.defaults`\n   * @return {Hammer.Instance}"},{annotation:"param",type:"{Object}",text:"[options={}] options are merged with `Hammer.defaults`\n   *",theRestString:"@return {Hammer.Instance}"},{annotation:"return",type:"{Hammer.Instance}",text:"",theRestString:""}],commentRange:[1424053,1424351],fileName:"./html/lib/vis/dist/vis.js",params:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"*",theRestString:"@param {Object} [options={}] options are merged with `Hammer.defaults`\n   * @return {Hammer.Instance}"},{annotation:"param",type:"{Object}",text:"[options={}] options are merged with `Hammer.defaults`\n   *",theRestString:"@return {Hammer.Instance}"}],throws:[]}],properties:{element:{annotation:"property",name:"element",text:"*",children:[{annotation:"type",type:"{HTMLElement}",text:"",theRestString:""}],commentRange:[1424558,1424627],fileName:"./html/lib/vis/dist/vis.js"},enabled:{annotation:"property",name:"enabled",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"*",theRestString:"@protected dummy"},{annotation:"protected",name:"dummy",text:"",theRestString:""}],commentRange:[1424665,1424750],fileName:"./html/lib/vis/dist/vis.js"},options:{annotation:"property",name:"options",text:"*",children:[{annotation:"type",type:"{Object}",text:"",theRestString:""}],commentRange:[1424785,1424946],fileName:"./html/lib/vis/dist/vis.js"},eventStartHandler:{annotation:"property",name:"eventStartHandler",text:"*",children:[{annotation:"type",type:"{Object}",text:"",theRestString:""}],commentRange:[1425393,1425534],fileName:"./html/lib/vis/dist/vis.js"},eventHandlers:{annotation:"property",name:"eventHandlers",text:"*",children:[{annotation:"type",type:"{Array}",text:"",theRestString:""}],commentRange:[1425840,1426002],fileName:"./html/lib/vis/dist/vis.js"}},methods:{on:{annotation:"method",name:"on",text:"*",children:[{annotation:"chainable",text:"*",theRestString:"@param {String} gestures multiple gestures by splitting with a space\n       * @param {Function} handler\n       * @param {Object} handler.ev event object"},{annotation:"param",type:"{String}",name:"gestures",text:"multiple gestures by splitting with a space\n       *",theRestString:"@param {Function} handler\n       * @param {Object} handler.ev event object"},{annotation:"param",type:"{Function}",name:"handler",text:"*",theRestString:"@param {Object} handler.ev event object"},{annotation:"param",type:"{Object}",name:"handler.ev",text:"event object",theRestString:""}],commentRange:[1426078,1426330],fileName:"./html/lib/vis/dist/vis.js"},off:{annotation:"method",name:"off",text:"*",children:[{annotation:"chainable",text:"*",theRestString:"@param {String} gestures\n       * @param {Function} handler"},{annotation:"param",type:"{String}",name:"gestures",text:"*",theRestString:"@param {Function} handler"},{annotation:"param",type:"{Function}",name:"handler",text:"",theRestString:""}],commentRange:[1426604,1426766],fileName:"./html/lib/vis/dist/vis.js"},trigger:{annotation:"method",name:"trigger",text:"*",children:[{annotation:"chainable",text:"*",theRestString:"@param {String} gesture\n       * @param {Object} [eventData]"},{annotation:"param",type:"{String}",name:"gesture",text:"*",theRestString:"@param {Object} [eventData]"},{annotation:"param",type:"{Object}",text:"[eventData]",theRestString:""}],commentRange:[1427153,1427312],fileName:"./html/lib/vis/dist/vis.js"},enable:{annotation:"method",name:"enable",text:"*",children:[{annotation:"chainable",text:"*",theRestString:"@param {Boolean} state"},{annotation:"param",type:"{Boolean}",name:"state",text:"",theRestString:""}],commentRange:[1427989,1428125],fileName:"./html/lib/vis/dist/vis.js"},dispose:{annotation:"method",name:"dispose",text:"*",children:[{annotation:"return",type:"{Null}",text:"",theRestString:""}],commentRange:[1428236,1428336],fileName:"./html/lib/vis/dist/vis.js"}}},"gestures.Drag":{annotation:"class",name:"Drag",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1428952,1429276],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"gestures",text:"",commentRange:[1428918,1428949],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"gestures.Drag",events:{drag:{annotation:"event",name:"drag",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1429279,1429329],fileName:"./html/lib/vis/dist/vis.js"},dragstart:{annotation:"event",name:"dragstart",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1429332,1429387],fileName:"./html/lib/vis/dist/vis.js"},dragend:{annotation:"event",name:"dragend",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1429390,1429443],fileName:"./html/lib/vis/dist/vis.js"},drapleft:{annotation:"event",name:"drapleft",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1429446,1429500],fileName:"./html/lib/vis/dist/vis.js"},dragright:{annotation:"event",name:"dragright",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1429503,1429558],fileName:"./html/lib/vis/dist/vis.js"},dragup:{annotation:"event",name:"dragup",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1429561,1429613],fileName:"./html/lib/vis/dist/vis.js"},dragdown:{annotation:"event",name:"dragdown",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1429616,1429670],fileName:"./html/lib/vis/dist/vis.js"}},properties:{dragMinDistance:{annotation:"property",name:"dragMinDistance",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 10"},{annotation:"default",name:"10",text:"",theRestString:""}],commentRange:[1433704,1433921],fileName:"./html/lib/vis/dist/vis.js"},dragDistanceCorrection:{annotation:"property",name:"dragDistanceCorrection",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"*",theRestString:"@default true"},{annotation:"default",name:"true",text:"",theRestString:""}],commentRange:[1433972,1434459],fileName:"./html/lib/vis/dist/vis.js"},dragMaxTouches:{annotation:"property",name:"dragMaxTouches",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 1"},{annotation:"default",name:"1",text:"",theRestString:""}],commentRange:[1434519,1434717],fileName:"./html/lib/vis/dist/vis.js"},dragBlockHorizontal:{annotation:"property",name:"dragBlockHorizontal",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"*",theRestString:"@default false"},{annotation:"default",name:"false",text:"",theRestString:""}],commentRange:[1434766,1435140],fileName:"./html/lib/vis/dist/vis.js"},dragBlockVertical:{annotation:"property",name:"dragBlockVertical",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"*",theRestString:"@default false"},{annotation:"default",name:"false",text:"",theRestString:""}],commentRange:[1435198,1435403],fileName:"./html/lib/vis/dist/vis.js"},dragLockToAxis:{annotation:"property",name:"dragLockToAxis",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"*",theRestString:"@default false"},{annotation:"default",name:"false",text:"",theRestString:""}],commentRange:[1435459,1435781],fileName:"./html/lib/vis/dist/vis.js"},dragLockMinDistance:{annotation:"property",name:"dragLockMinDistance",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 25"},{annotation:"default",name:"25",text:"",theRestString:""}],commentRange:[1435834,1436165],fileName:"./html/lib/vis/dist/vis.js"}}},"gestures.Gesture":{annotation:"class",name:"Gesture",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1436276,1436448],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"gestures",text:"",commentRange:[1436242,1436273],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"gestures.Gesture",events:{gesture:{annotation:"event",name:"gesture",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1436451,1436504],fileName:"./html/lib/vis/dist/vis.js"}}},"gestures.Hold":{annotation:"class",name:"Hold",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1436717,1436807],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"gestures",text:"",commentRange:[1436683,1436714],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"gestures.Hold",events:{hold:{annotation:"event",name:"hold",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1436810,1436860],fileName:"./html/lib/vis/dist/vis.js"}},properties:{holdTimeout:{annotation:"property",name:"holdTimeout",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 500"},{annotation:"default",name:"500",text:"",theRestString:""}],commentRange:[1438070,1438192],fileName:"./html/lib/vis/dist/vis.js"},holdThreshold:{annotation:"property",name:"holdThreshold",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 2"},{annotation:"default",name:"2",text:"",theRestString:""}],commentRange:[1438240,1438410],fileName:"./html/lib/vis/dist/vis.js"}}},"gestures.Release":{annotation:"class",name:"Release",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1438546,1438643],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"gestures",text:"",commentRange:[1438512,1438543],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"gestures.Release",events:{release:{annotation:"event",name:"release",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1438646,1438699],fileName:"./html/lib/vis/dist/vis.js"}}},"gestures.Swipe":{annotation:"class",name:"Swipe",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1438978,1439318],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"gestures",text:"",commentRange:[1438944,1438975],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"gestures.Swipe",events:{swipe:{annotation:"event",name:"swipe",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1439321,1439372],fileName:"./html/lib/vis/dist/vis.js"},swipeleft:{annotation:"event",name:"swipeleft",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1439375,1439430],fileName:"./html/lib/vis/dist/vis.js"},swiperight:{annotation:"event",name:"swiperight",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1439433,1439489],fileName:"./html/lib/vis/dist/vis.js"},swipeup:{annotation:"event",name:"swipeup",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1439492,1439545],fileName:"./html/lib/vis/dist/vis.js"},swipedown:{annotation:"event",name:"swipedown",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1439548,1439603],fileName:"./html/lib/vis/dist/vis.js"}},properties:{swipeMinTouches:{annotation:"property",name:"swipeMinTouches",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 1"},{annotation:"default",name:"1",text:"",theRestString:""}],commentRange:[1439698,1439806],fileName:"./html/lib/vis/dist/vis.js"},swipeMaxTouches:{annotation:"property",name:"swipeMaxTouches",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 1"},{annotation:"default",name:"1",text:"",theRestString:""}],commentRange:[1439848,1439956],fileName:"./html/lib/vis/dist/vis.js"},swipeVelocityX:{annotation:"property",name:"swipeVelocityX",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 0.6"},{annotation:"default",name:"0.6",text:"",theRestString:""}],commentRange:[1439998,1440146],fileName:"./html/lib/vis/dist/vis.js"},swipeVelocityY:{annotation:"property",name:"swipeVelocityY",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 0.6"},{annotation:"default",name:"0.6",text:"",theRestString:""}],commentRange:[1440189,1440335],fileName:"./html/lib/vis/dist/vis.js"}}},"gestures.Tap":{annotation:"class",name:"Tap",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1441216,1441303],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"gestures",text:"",commentRange:[1441182,1441213],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"gestures.Tap",events:{tap:{annotation:"event",name:"tap",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1441306,1441355],fileName:"./html/lib/vis/dist/vis.js"},doubletap:{annotation:"event",name:"doubletap",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1441358,1441413],fileName:"./html/lib/vis/dist/vis.js"}},properties:{tapMaxTime:{annotation:"property",name:"tapMaxTime",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 250"},{annotation:"default",name:"250",text:"",theRestString:""}],commentRange:[1443202,1443388],fileName:"./html/lib/vis/dist/vis.js"},tapMaxDistance:{annotation:"property",name:"tapMaxDistance",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 10"},{annotation:"default",name:"10",text:"",theRestString:""}],commentRange:[1443435,1443640],fileName:"./html/lib/vis/dist/vis.js"},tapAlways:{annotation:"property",name:"tapAlways",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"*",theRestString:"@default true"},{annotation:"default",name:"true",text:"",theRestString:""}],commentRange:[1443690,1443887],fileName:"./html/lib/vis/dist/vis.js"},doubleTapDistance:{annotation:"property",name:"doubleTapDistance",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 20"},{annotation:"default",name:"20",text:"",theRestString:""}],commentRange:[1443934,1444108],fileName:"./html/lib/vis/dist/vis.js"},doubleTapInterval:{annotation:"property",name:"doubleTapInterval",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 300"},{annotation:"default",name:"300",text:"",theRestString:""}],commentRange:[1444161,1444332],fileName:"./html/lib/vis/dist/vis.js"}}},"gestures.Touch":{annotation:"class",name:"Touch",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1444441,1444533],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"gestures",text:"",commentRange:[1444407,1444438],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"gestures.Touch",events:{touch:{annotation:"event",name:"touch",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1444536,1444587],fileName:"./html/lib/vis/dist/vis.js"}},properties:{preventDefault:{annotation:"property",name:"preventDefault",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"*",theRestString:"@default false"},{annotation:"default",name:"false",text:"",theRestString:""}],commentRange:[1444689,1445089],fileName:"./html/lib/vis/dist/vis.js"},preventMouse:{annotation:"property",name:"preventMouse",text:"*",children:[{annotation:"type",type:"{Boolean}",text:"*",theRestString:"@default false"},{annotation:"default",name:"false",text:"",theRestString:""}],commentRange:[1445134,1445325],fileName:"./html/lib/vis/dist/vis.js"}}},"gestures.Transform":{annotation:"class",name:"Transform",text:"*",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[1445796,1446038],fileName:"./html/lib/vis/dist/vis.js",module:{annotation:"module",name:"gestures",text:"",commentRange:[1445762,1445793],fileName:"./html/lib/vis/dist/vis.js"},absoluteName:"gestures.Transform",events:{transform:{annotation:"event",name:"transform",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1446041,1446096],fileName:"./html/lib/vis/dist/vis.js"},transformstart:{annotation:"event",name:"transformstart",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1446099,1446159],fileName:"./html/lib/vis/dist/vis.js"},transformend:{annotation:"event",name:"transformend",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1446162,1446220],fileName:"./html/lib/vis/dist/vis.js"},pinchin:{annotation:"event",name:"pinchin",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1446223,1446276],fileName:"./html/lib/vis/dist/vis.js"},pinchout:{annotation:"event",name:"pinchout",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1446279,1446333],fileName:"./html/lib/vis/dist/vis.js"},rotate:{annotation:"event",name:"rotate",text:"*",children:[{annotation:"param",type:"{Object}",name:"ev",text:"",theRestString:""}],commentRange:[1446336,1446388],fileName:"./html/lib/vis/dist/vis.js"}},properties:{transformMinScale:{annotation:"property",name:"transformMinScale",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 0.01"},{annotation:"default",name:"0.01",text:"",theRestString:""}],commentRange:[1448503,1448733],fileName:"./html/lib/vis/dist/vis.js"},transformMinRotation:{annotation:"property",name:"transformMinRotation",text:"*",children:[{annotation:"type",type:"{Number}",text:"*",theRestString:"@default 1"},{annotation:"default",name:"1",text:"",theRestString:""}],commentRange:[1448788,1448954],fileName:"./html/lib/vis/dist/vis.js"}}},"shortjsdoc.html.IndexView":{annotation:"class",name:"IndexView",text:"display the full AST\n\n\n\ndisplay the full AST",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""},{annotation:"extends",name:"AbstractView",text:"",theRestString:""},{annotation:"extends",name:"AbstractView",text:"",theRestString:""},{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2464825,2464974],fileName:"./html/src/js/AbstractTreeView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"\n\nthis is the main class for all the application \n utilities for rendering jsdoc data generated by jsdocgenerator1 js-indentator plugin \n using backbone. The user should provide with underscore templates.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nthis file add methods to Abstract Application for dealing with types and html markup.",commentRange:[2464825,2464974],fileName:"./html/src/js/AbstractTreeView.js"},absoluteName:"shortjsdoc.html.IndexView"},"shortjsdoc.html.TreeWidget":{annotation:"class",name:"TreeWidget",text:"TreeWidget - bootstrap based TreeView. Usage: \n\n\tvar model = {children: [\n\t\t{label: '1',  children: [\n\t\t\t{label: '1.1', type: 'apple', children: []}\n\t\t]}\n\t,   {label: '2', children: [\n\t\t\t{label: '2.1', type: 'orange', children: []}\n\t\t]}\n\t]};\n\tvar widget = new TreeWidget(model);\n\twidget.render('#mytree');\n\twidget.onNodeEvent('click', function(nodeModel){\n\t\talert(nodeModel.label+' was clicked')\n\t})",children:[{annotation:"author",name:"Sebasti",text:"n Gurin",theRestString:""}],commentRange:[2465418,2465867],fileName:"./html/src/js/AbstractTreeView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"\n\nthis is the main class for all the application \n utilities for rendering jsdoc data generated by jsdocgenerator1 js-indentator plugin \n using backbone. The user should provide with underscore templates.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nthis file add methods to Abstract Application for dealing with types and html markup.",commentRange:[2464825,2464974],fileName:"./html/src/js/AbstractTreeView.js"},absoluteName:"shortjsdoc.html.TreeWidget",constructors:[{annotation:"constructor",name:"n",text:"",children:[{annotation:"param",type:"{Object}",name:"rootNode",text:"",theRestString:""}],commentRange:[2465905,2465945],fileName:"./html/src/js/AbstractTreeView.js",params:[{annotation:"param",type:"{Object}",name:"rootNode",text:"",theRestString:""}],throws:[]}],properties:{rootNode:{annotation:"property",type:"{TreeNode}",name:"rootNode",text:"",commentRange:[2465985,2466016],fileName:"./html/src/js/AbstractTreeView.js"},"TreeWidget.cssOptions":{annotation:"property",type:"{Object}",name:"TreeWidget.cssOptions",text:"configurable css options",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2466050,2466128],fileName:"./html/src/js/AbstractTreeView.js"}},methods:{render:{annotation:"method",name:"render",text:"",children:[{annotation:"param",type:"{HTMLElement}",name:"parent",text:"HtmlElement - optional if passed the tree will be created and appended to it",theRestString:"@return {String} the html markup of the tree ready to be append() or html()"},{annotation:"return",type:"{String}",name:"the",text:"html markup of the tree ready to be append() or html()",theRestString:""}],commentRange:[2466206,2466407],fileName:"./html/src/js/AbstractTreeView.js"},"onNodeEvent.":{annotation:"method",name:"onNodeEvent.",text:"Usage example: \n\ttreeWidget.onNodeEvent =('click', function(node, event){...});",commentRange:[2467999,2468172],fileName:"./html/src/js/AbstractTreeView.js"},onNodeEvent:{annotation:"method",name:"onNodeEvent",text:"",children:[{annotation:"param",type:"{String}",name:"eventType",text:"",theRestString:"@param {Function} fn"},{annotation:"param",type:"{Function}",name:"fn",text:"",theRestString:""}],commentRange:[2467999,2468172],fileName:"./html/src/js/AbstractTreeView.js"}}},"shortjsdoc.html.TreeNode":{annotation:"class",name:"TreeNode",text:"",commentRange:[2471487,2471510],fileName:"./html/src/js/AbstractTreeView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"\n\nthis is the main class for all the application \n utilities for rendering jsdoc data generated by jsdocgenerator1 js-indentator plugin \n using backbone. The user should provide with underscore templates.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nthis file add methods to Abstract Application for dealing with types and html markup.",commentRange:[2464825,2464974],fileName:"./html/src/js/AbstractTreeView.js"},absoluteName:"shortjsdoc.html.TreeNode",properties:{label:{annotation:"property",name:"label",text:"",children:[{annotation:"type",name:"String",text:"",theRestString:""}],commentRange:[2471590,2471625],fileName:"./html/src/js/AbstractTreeView.js"},tree_node_id:{annotation:"property",name:"tree_node_id",text:"",children:[{annotation:"type",name:"String",text:"",theRestString:""}],commentRange:[2471547,2471589],fileName:"./html/src/js/AbstractTreeView.js"},parentNode:{annotation:"property",name:"parentNode",text:"",children:[{annotation:"type",name:"TreeNode",text:"",theRestString:""}],commentRange:[2471626,2471668],fileName:"./html/src/js/AbstractTreeView.js"}}},"shortjsdoc.html.AbstractView":{annotation:"class",name:"AbstractView",text:"",children:[{annotation:"extend",name:"Backbone.View",text:"",theRestString:""},{annotation:"extend",name:"Backbone.View",text:"",theRestString:""},{annotation:"extends",name:"Backbone.View",text:"",theRestString:""}],commentRange:[2471670,2471816],fileName:"./html/src/js/AbstractView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2471670,2471816],fileName:"./html/src/js/AbstractView.js"},absoluteName:"shortjsdoc.html.AbstractView",methods:{renderIn:{annotation:"method",name:"renderIn",text:"renders this view in given parent element",children:[{annotation:"param",type:"{jQuery}",name:"$parent",text:"",theRestString:""}],commentRange:[2471957,2472041],fileName:"./html/src/js/AbstractView.js"},render:{annotation:"method",name:"render",text:"implemented to comply with Backbone View contract",commentRange:[2472445,2472511],fileName:"./html/src/js/AbstractView.js"},printTag:{annotation:"method",name:"printTag",text:"",commentRange:[2511199,2511217],fileName:"./html/src/js/TypesUtil.js"},simpleName:{annotation:"method",name:"simpleName",text:"",children:[{annotation:"param",type:"{String}",name:"name",text:"",theRestString:""}],commentRange:[2511466,2511506],fileName:"./html/src/js/TypesUtil.js"},makeLink:{annotation:"method",name:"makeLink",text:"",children:[{annotation:"param",type:"{boolean}",name:"htmlAnchors",text:"will output anchor elements html",theRestString:"@param {Object|String} options"},{annotation:"param",type:"{Object|String}",name:"options",text:"",theRestString:""}],commentRange:[2511610,2511721],fileName:"./html/src/js/TypesUtil.js"},printType:{annotation:"method",name:"printType",text:"prints a type as html support generic. This is really a html template function",children:[{annotation:"param",type:"{Object}",name:"context",text:"",theRestString:"@return {String} the type html"},{annotation:"return",type:"{String}",name:"the",text:"type html",theRestString:""}],commentRange:[2514189,2514347],fileName:"./html/src/js/TypesUtil.js"},printSingleTypeAsString:{annotation:"method",name:"printSingleTypeAsString",text:"this is the public method for printing a type - supports any type",children:[{annotation:"param",type:"{String}",name:"type",text:"",theRestString:"@return {String} @return {String} the type html"},{annotation:"return",type:"{String}",text:"@return {String} the type html",theRestString:""}],commentRange:[2515436,2515605],fileName:"./html/src/js/TypesUtil.js"},printTypeAsString:{annotation:"method",name:"printTypeAsString",text:"",children:[{annotation:"param",type:"{Array<Type>|Type}",name:"type",text:"",theRestString:"@return {String} the type html"},{annotation:"return",type:"{String}",name:"the",text:"type html",theRestString:""}],commentRange:[2515854,2515943],fileName:"./html/src/js/TypesUtil.js"},getTextHtml:{annotation:"method",name:"getTextHtml",text:"depends on lib/marked/ - all texts should be printed using this method",commentRange:[2516262,2516354],fileName:"./html/src/js/TypesUtil.js"},printMethod:{annotation:"method",name:"printMethod",text:"",commentRange:[2517545,2517566],fileName:"./html/src/js/TypesUtil.js"},parseOptions:{annotation:"method",name:"parseOptions",text:"",children:[{annotation:"return",type:"{Object<String,String>}",text:"",theRestString:""}],commentRange:[2518897,2519004],fileName:"./html/src/js/TypesUtil.js"}}},"shortjsdoc.Application":{annotation:"class",name:"Application",text:"",commentRange:[2473441,2473838],fileName:"./html/src/js/Application.js",module:{annotation:"module",name:"shortjsdoc",text:"",children:[{annotation:"author",name:":",text:"sgurin",theRestString:""}],commentRange:[2473441,2473838],fileName:"./html/src/js/Application.js"},absoluteName:"shortjsdoc.Application",constructors:[{annotation:"constructor",name:"n",text:"Application",children:[{annotation:"param",type:"{Object}",name:"data",text:"is the data.json object outputed by running \n\t\n\tvar maker = new JsDocMaker();\n\tmaker.parseFile(myCodeString);\n\tmaker.postProccess();\n\tvar data = maker.data;",theRestString:""}],commentRange:[2473839,2474050],fileName:"./html/src/js/Application.js",params:[{annotation:"param",type:"{Object}",name:"data",text:"is the data.json object outputed by running \n\t\n\tvar maker = new JsDocMaker();\n\tmaker.parseFile(myCodeString);\n\tmaker.postProccess();\n\tvar data = maker.data;",theRestString:""}],throws:[]}],properties:{textFormat:{annotation:"property",type:"{String}",name:"textFormat",text:"can be markdown or html. default: markdown",commentRange:[2474095,2474170],fileName:"./html/src/js/Application.js"},templates:{annotation:"property",type:"{Object}",name:"templates",text:"The templates dictionary (given by template-output.js)",commentRange:[2474206,2474291],fileName:"./html/src/js/Application.js"},data:{annotation:"property",type:"{Object}",name:"data",text:"is the data.json object outputed by running:\t\n\n\tvar maker = new JsDocMaker();\n\tmaker.parseFile(myCodeString);\n\tmaker.postProccess();\n\tvar data = maker.data;",commentRange:[2474348,2474539],fileName:"./html/src/js/Application.js"},maker:{annotation:"property",type:"{JsDocMaker}",name:"maker",text:"the JsDocMaker instance we will use for loading the parsed data and doing some post processing stage (type binding and so)",commentRange:[2474563,2474716],fileName:"./html/src/js/Application.js"}},methods:{start:{annotation:"method",name:"start",text:"an application loading it with given data.",children:[{annotation:"static",name:"_lineCommentSeparatorMark_",text:"",theRestString:"@param data the output of passing jsindentator JsDocMaker."},{annotation:"param",name:"data",text:"the output of passing jsindentator JsDocMaker.",theRestString:""}],commentRange:[2476482,2476610],fileName:"./html/src/js/Application.js"},showView:{annotation:"method",name:"showView",text:"",children:[{annotation:"param",type:"{AbstractView}",name:"view",text:"",theRestString:""}],commentRange:[2475632,2475677],fileName:"./html/src/js/Application.js"},refreshWithNewModel:{annotation:"method",name:"refreshWithNewModel",text:"",children:[{annotation:"param",type:"{Object}",name:"data",text:"",theRestString:""}],commentRange:[2476039,2476088],fileName:"./html/src/js/Application.js"},showErrorView:{annotation:"method",name:"showErrorView",text:"",children:[{annotation:"param",type:"{String}",name:"s",text:"",theRestString:""}],commentRange:[2476248,2476289],fileName:"./html/src/js/Application.js"}}},"shortjsdoc.html.ApplicationView":{annotation:"class",name:"ApplicationView",text:"",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2476732,2476865],fileName:"./html/src/js/ApplicationView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2476732,2476865],fileName:"./html/src/js/ApplicationView.js"},absoluteName:"shortjsdoc.html.ApplicationView"},"shortjsdoc.html.BookView":{annotation:"class",name:"BookView",text:"",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2477474,2477593],fileName:"./html/src/js/BookView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2477474,2477593],fileName:"./html/src/js/BookView.js"},absoluteName:"shortjsdoc.html.BookView"},"shortjsdoc.html.ClassView":{annotation:"class",name:"ClassView",text:"",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""},{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2479275,2479396],fileName:"./html/src/js/ClassView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2479275,2479396],fileName:"./html/src/js/ClassView.js"},absoluteName:"shortjsdoc.html.ClassView",methods:{makePartialText:{annotation:"method",name:"makePartialText",text:"",children:[{annotation:"param",type:"{AST}",name:"node",text:"",theRestString:"@return {String}"},{annotation:"return",type:"{String}",text:"",theRestString:""}],commentRange:[2483404,2483464],fileName:"./html/src/js/ClassView.js"},computeHierarchy:{annotation:"method",name:"computeHierarchy",text:"",children:[{annotation:"return",type:"{Array<ASTNode>}",text:"",theRestString:""}],commentRange:[2483649,2483700],fileName:"./html/src/js/ClassView.js"},computeKnownSubclasses:{annotation:"method",name:"computeKnownSubclasses",text:"",children:[{annotation:"return",type:"{Array<ASTNode>}",text:"",theRestString:""}],commentRange:[2484006,2484063],fileName:"./html/src/js/ClassView.js"}}},"shortjsdoc.html.HeaderView":{annotation:"class",name:"HeaderView",text:"",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2489012,2489135],fileName:"./html/src/js/HeaderView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2489012,2489135],fileName:"./html/src/js/HeaderView.js"},absoluteName:"shortjsdoc.html.HeaderView"},"shortjsdoc.html.HierarchyTreeView":{annotation:"class",name:"HierarchyTreeView",text:"display the full AST",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2491297,2491455],fileName:"./html/src/js/HierarchyTreeView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2491297,2491455],fileName:"./html/src/js/HierarchyTreeView.js"},absoluteName:"shortjsdoc.html.HierarchyTreeView",methods:{classesExtendsFrom:{annotation:"method",name:"classesExtendsFrom",text:"search for classes extending from given type. It taks in consideration native object type and normal types.",children:[{annotation:"param",type:"{ASTNode}",name:"type",text:"",theRestString:"@return {Array<ASTNode>}"},{annotation:"return",type:"{Array<ASTNode>}",text:"",theRestString:""}],commentRange:[2492366,2492555],fileName:"./html/src/js/HierarchyTreeView.js"},buildTreeModel:{annotation:"method",name:"buildTreeModel",text:"",children:[{annotation:"return",type:"{children:Array,label:String}",text:"@param {ASTNode} node",theRestString:""}],commentRange:[2493023,2493108],fileName:"./html/src/js/HierarchyTreeView.js"}}},"shortjsdoc.html.JsDocRouter":{annotation:"class",name:"JsDocRouter",text:"",children:[{annotation:"extends",name:"Backbone.Router",text:"",theRestString:""}],commentRange:[2494317,2494445],fileName:"./html/src/js/JsDocRouter.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2494317,2494445],fileName:"./html/src/js/JsDocRouter.js"},absoluteName:"shortjsdoc.html.JsDocRouter",methods:{showView:{annotation:"method",name:"showView",text:"",children:[{annotation:"param",type:"{AbstractView}",name:"view",text:"",theRestString:"@param {String} resourceName"},{annotation:"param",type:"{String}",name:"resourceName",text:"",theRestString:""}],commentRange:[2495424,2495497],fileName:"./html/src/js/JsDocRouter.js"},showModule:{annotation:"method",name:"showModule",text:"",children:[{annotation:"param",type:"{String}",name:"moduleName",text:"",theRestString:""}],commentRange:[2495774,2495822],fileName:"./html/src/js/JsDocRouter.js"},showClass:{annotation:"method",name:"showClass",text:"",children:[{annotation:"param",type:"{String}",name:"className",text:"",theRestString:""}],commentRange:[2496306,2496352],fileName:"./html/src/js/JsDocRouter.js"},showMethod:{annotation:"method",name:"showMethod",text:"Responsible of showing Methods, Constructors and Functions",children:[{annotation:"param",type:"{String}",name:"method",text:"",theRestString:""}],commentRange:[2496565,2496667],fileName:"./html/src/js/JsDocRouter.js"},showProperty:{annotation:"method",name:"showProperty",text:"",children:[{annotation:"param",type:"{String}",name:"property",text:"",theRestString:""}],commentRange:[2496787,2496835],fileName:"./html/src/js/JsDocRouter.js"},showEvent:{annotation:"method",name:"showEvent",text:"",children:[{annotation:"param",type:"{String}",name:"event",text:"",theRestString:""}],commentRange:[2496973,2497015],fileName:"./html/src/js/JsDocRouter.js"},showAttribute:{annotation:"method",name:"showAttribute",text:"",children:[{annotation:"param",type:"{String}",name:"attribute",text:"",theRestString:""}],commentRange:[2497141,2497191],fileName:"./html/src/js/JsDocRouter.js"},showModules:{annotation:"method",name:"showModules",text:"",commentRange:[2497335,2497356],fileName:"./html/src/js/JsDocRouter.js"},showClasses:{annotation:"method",name:"showClasses",text:"",commentRange:[2497493,2497514],fileName:"./html/src/js/JsDocRouter.js"},search:{annotation:"method",name:"search",text:"",children:[{annotation:"param",type:"{String}",name:"options",text:"",theRestString:""}],commentRange:[2497650,2497691],fileName:"./html/src/js/JsDocRouter.js"},showDependencies:{annotation:"method",name:"showDependencies",text:"",children:[{annotation:"param",type:"{String}",name:"options",text:"",theRestString:""}],commentRange:[2497865,2497916],fileName:"./html/src/js/JsDocRouter.js"},showIndex:{annotation:"method",name:"showIndex",text:"",commentRange:[2498104,2498123],fileName:"./html/src/js/JsDocRouter.js"},showBook:{annotation:"method",name:"showBook",text:"",commentRange:[2498309,2498327],fileName:"./html/src/js/JsDocRouter.js"},showTree:{annotation:"method",name:"showTree",text:"",commentRange:[2498717,2498735],fileName:"./html/src/js/JsDocRouter.js"},showHierarchyTree:{annotation:"method",name:"showHierarchyTree",text:"",commentRange:[2498850,2498877],fileName:"./html/src/js/JsDocRouter.js"},showParse:{annotation:"method",name:"showParse",text:"",commentRange:[2499011,2499030],fileName:"./html/src/js/JsDocRouter.js"},showFile:{annotation:"method",name:"showFile",text:"",children:[{annotation:"param",type:"{String}",name:"file",text:"",theRestString:""}],commentRange:[2499146,2499186],fileName:"./html/src/js/JsDocRouter.js"}}},"shortjsdoc.html.MethodView":{annotation:"class",name:"MethodView",text:"Responsible of showing Methods, Constructors and Functions",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2499392,2499580],fileName:"./html/src/js/MethodView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2499392,2499580],fileName:"./html/src/js/MethodView.js"},absoluteName:"shortjsdoc.html.MethodView"},"shortjsdoc.html.ModuleView":{annotation:"class",name:"ModuleView",text:"",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2501174,2501297],fileName:"./html/src/js/ModuleView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2501174,2501297],fileName:"./html/src/js/ModuleView.js"},absoluteName:"shortjsdoc.html.ModuleView"},"shortjsdoc.html.ParseView":{annotation:"class",name:"ParseView",text:"",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2502202,2502323],fileName:"./html/src/js/ParseView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2502202,2502323],fileName:"./html/src/js/ParseView.js"},absoluteName:"shortjsdoc.html.ParseView"},"shortjsdoc.html.PropertyView":{annotation:"class",name:"PropertyView",text:"",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2502928,2503055],fileName:"./html/src/js/PropertyView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2502928,2503055],fileName:"./html/src/js/PropertyView.js"},absoluteName:"shortjsdoc.html.PropertyView"},"shortjsdoc.html.SearchView":{annotation:"class",name:"SearchView",text:"",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2504010,2504133],fileName:"./html/src/js/SearchView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2504010,2504133],fileName:"./html/src/js/SearchView.js"},absoluteName:"shortjsdoc.html.SearchView",properties:{query:{annotation:"property",type:"{SearchView.Query}",name:"query",text:"",commentRange:[2504439,2504477],fileName:"./html/src/js/SearchView.js"},results:{annotation:"property",type:"{Array<SearchView.Result>}",name:"results",text:"",commentRange:[2504542,2504589],fileName:"./html/src/js/SearchView.js"}}},"shortjsdoc.html.SearchView.Query":{annotation:"class",name:"SearchView.Query",text:"",commentRange:[2506589,2506948],fileName:"./html/src/js/SearchView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2504010,2504133],fileName:"./html/src/js/SearchView.js"},absoluteName:"shortjsdoc.html.SearchView.Query",properties:{keywords:{annotation:"property",type:"{String}",name:"keywords",text:"",commentRange:[2506589,2506948],fileName:"./html/src/js/SearchView.js"},types:{annotation:"property",type:"{Boolean}",name:"types",text:"will list method and properties that reference given type",commentRange:[2506589,2506948],fileName:"./html/src/js/SearchView.js"},match:{annotation:"property",type:"{String}",name:"match",text:"can be 'contains', 'exactly', 'regexp' - default: 'contains'",commentRange:[2506589,2506948],fileName:"./html/src/js/SearchView.js"}}},"shortjsdoc.html.SourcesView":{annotation:"class",name:"SourcesView",text:"",children:[{annotation:"extends",name:"AbstractView",text:"",theRestString:""}],commentRange:[2506589,2506948],fileName:"./html/src/js/SourcesView.js",module:{annotation:"module",name:"shortjsdoc.html",text:"",commentRange:[2506589,2506948],fileName:"./html/src/js/SourcesView.js"},absoluteName:"shortjsdoc.html.SourcesView"},"javascript.Boolean":{annotation:"class",name:"Boolean",text:'#Summary\nThe Boolean object is an object wrapper for a boolean value.\n\n#Constructor\n\tnew Boolean(value)\n\n#Description\nThe value passed as the first parameter is converted to a boolean value, if necessary. If value is omitted or is 0, -0, null, false, NaN, undefined, or the empty string (""), the object has an initial value of false. All other values, including any object or the string "false", create an object with an initial value of true.\n\nDo not confuse the primitive Boolean values true and false with the true and false values of the Boolean object.\n\nAny object whose value is not undefined or null, including a Boolean object whose value is false, evaluates to true when passed to a conditional statement. For example, the condition in the following if statement evaluates to true:\n\n\tx = new Boolean(false);\n\tif (x) {\n\t  // . . . this code is executed\n\t}\n\tThis behavior does not apply to Boolean primitives. For example, the condition in the following if statement evaluates to false:\n\n\tx = false;\n\tif (x) {\n\t  // . . . this code is not executed\n\t}\nDo not use a Boolean object to convert a non-boolean value to a boolean value. Instead, use Boolean as a function to perform this task:\n\n\tx = Boolean(expression);     // preferred\n\tx = new Boolean(expression); // don\'t use\n\tIf you specify any object, including a Boolean object whose value is false, as the initial value of a Boolean object, the new Boolean object has a value of true.\n\n\tmyFalse = new Boolean(false);   // initial value of false\n\tg = new Boolean(myFalse);       // initial value of true\n\tmyString = new String("Hello"); // string object\n\ts = new Boolean(myString);      // initial value of true\n\tDo not use a Boolean object in place of a Boolean primitive.\n\n#Properties\nFor properties available on Boolean instances, see Properties of Boolean instances.\n\nBoolean.length\nLength property whose value is 1.\nBoolean.prototype\nRepresents the prototype for the Boolean constructor.\n#Properties inherited from Function:\narity, caller, constructor, length, name\n##Methods\nFor methods available on Boolean instances, see Methods of Boolean instances.\n\nThe global Boolean object contains no methods of its own, however, it does inherit some methods through the prototype chain:\n\n#Methods inherited from Function:\napply, call, toSource, toString\n\n#Boolean instances\nAll Boolean instances inherit from Boolean.prototype. As with all constructors, the prototype object dictates instances\' inherited properties and methods.\n\n#Properties\n\nBoolean.prototype.constructor\nReturns the function that created an instance\'s prototype. This is the Boolean function by default.\nProperties inherited from Object:\n__parent__, __proto__\n#Methods\n\nBoolean.prototype.toSource() \nReturns a string containing the source of the Boolean object; you can use this string to create an equivalent object. Overrides the Object.prototype.toSource() method.\nBoolean.prototype.toString()\nReturns a string of either "true" or "false" depending upon the value of the object. Overrides the Object.prototype.toString() method.\nBoolean.prototype.valueOf()\nReturns the primitive value of the Boolean object. Overrides the Object.prototype.valueOf() method.\n\n\n#Examples\nCreating Boolean objects with an initial value of false\n\n\tvar bNoParam = new Boolean();\n\tvar bZero = new Boolean(0);\n\tvar bNull = new Boolean(null);\n\tvar bEmptyString = new Boolean("");\n\tvar bfalse = new Boolean(false);\n\tCreating Boolean objects with an initial value of true\n\n\tvar btrue = new Boolean(true);\n\tvar btrueString = new Boolean("true");\n\tvar bfalseString = new Boolean("false");\n\tvar bSuLin = new Boolean("Su Lin");',commentRange:[2555933,2559601],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Boolean.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2555933,2559601],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Boolean.js"},absoluteName:"javascript.Boolean",methods:{valueOf:{annotation:"method",name:"valueOf",text:"#Summary\nThe valueOf() method returns the primitive value of a Boolean object.\n\n#Syntax\n\tbool.valueOf()\n\n#Description\nThe valueOf method of Boolean returns the primitive value of a Boolean object or literal Boolean as a Boolean data type.\n\nThis method is usually called internally by JavaScript and not explicitly in code.\n\n#Examples\n##Example: Using valueOf\n\n\tx = new Boolean();\n\tmyVar = x.valueOf()      // assigns false to myVar",commentRange:[2559604,2560057],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Boolean.js"}}},"javascript.Error":{annotation:"class",name:"Error",text:'#Summary\nThe Error constructor creates an error object. Instances of Error objects are thrown when runtime errors occur. The Error object can also be used as a base objects for user-defined exceptions. See below for standard built-in error types.\n\n#Syntax\n\tnew Error([message[, fileName[,lineNumber]]])\n#Description\nRuntime errors result in new Error objects being created and thrown.\n\nThis page documents the use of the Error object itself and its use as a constructor function. For a list of properties and methods inherited by Error instances, see Error.prototype.\n\n#Error types\n\nBesides the generic Error constructor, there are six other core error constructors in JavaScript. For client-side exceptions, see Exception Handling Statements.\n\n\tEvalError\n\tCreates an instance representing an error that occurs regarding the global function eval().\n\tInternalError \n\tCreates an instance representing an error that occurs when an internal error in the JavaScript engine is thrown. E.g. "too much recursion".\n\tRangeError\n\tCreates an instance representing an error that occurs when a numeric variable or parameter is outside of its valid range.\n\tReferenceError\n\tCreates an instance representing an error that occurs when de-referencing an invalid reference.\n\tSyntaxError\n\tCreates an instance representing a syntax error that occurs while parsing code in eval().\n\tTypeError\n\tCreates an instance representing an error that occurs when a variable or parameter is not of a valid type.\n\tURIError\n\tCreates an instance representing an error that occurs when encodeURI() or decodeURl() are passed invalid parameters.\n\n#Properties\nError.prototype\nAllows the addition of properties to Error instances.\n#Methods\nThe global Error object contains no methods of its own, however, it does inherit some methods through the prototype chain.\n\n#Error instances\nAll Error instances and instances of non-generic errors inherit from Error.prototype. As with all constructor functions, you can use the prototype of the constructor to add properties or methods to all instances created with that constructor.\n\n#Properties\n\n##Standard properties\n\nError.prototype.constructor\nSpecifies the function that created an instance\'s prototype.\n\tError.prototype.message\n\tError message.\n\tError.prototype.name\n\tError name.\n\n\n#Vendor-specific extensions\n\n##Non-standard\nThis feature is non-standard and is not on a standards track. Do not use it on production sites facing the Web: it will not work for every user. There may also be large incompatibilities between implementations and the behavior may change in the future.\n##Microsoft\n\n\tError.prototype.description\n\tError description. Similar to message.\n\tError.prototype.number\n\tError number.\n##Mozilla\n\n\tError.prototype.fileName\n\tPath to file that raised this error.\n\tError.prototype.lineNumber\n\tLine number in file that raised this error.\n\tError.prototype.columnNumber\n\tColumn number in line that raised this error.\n\tError.prototype.stack\n\tStack trace.\n\n#Examples\n##Example: Throwing a generic error\n\nUsually you create an Error object with the intention of raising it using the throw keyword. You can handle the error using the try...catch construct:\n\n\ttry {\n\t  throw new Error("Whoops!");\n\t} catch (e) {\n\t  alert(e.name + ": " + e.message);\n\t}\n\tExample: Handling a specific error\n\n\tYou can choose to handle only specific error types by testing the error type with the error\'s constructor property or, if you\'re writing for modern JavaScript engines, instanceof keyword:\n\n\ttry {\n\t  foo.bar();\n\t} catch (e) {\n\t  if (e instanceof EvalError) {\n\t    alert(e.name + ": " + e.message);\n\t  } else if (e instanceof RangeError) {\n\t    alert(e.name + ": " + e.message);\n\t  }\n\t  // ... etc\n\t}\n##Custom Error Types\n\nYou might want to define your own error types deriving from Error to be able to throw new MyError() and use instanceof MyError to check the kind of error in the exception handler. The common way to do this is demonstrated below.\n\nNote that the thrown MyError will report incorrect lineNumber and fileName at least in Firefox.\nSee also the "What\'s a good way to extend Error in JavaScript?" discussion on Stackoverflow.\n\n\t// Create a new object, that prototypally inherits from the Error constructor.\n\tfunction MyError(message) {\n\t  this.name = "MyError";\n\t  this.message = message || "Default Message";\n\t}\n\tMyError.prototype = new Error();\n\tMyError.prototype.constructor = MyError;\n\n\ttry {\n\t  throw new MyError();\n\t} catch (e) {\n\t  console.log(e.name);     // "MyError"\n\t  console.log(e.message);  // "Default Message"\n\t}\n\n\ttry {\n\t  throw new MyError("custom message");\n\t} catch (e) {\n\t  console.log(e.name);     // "MyError"\n\t  console.log(e.message);  // "custom message"\n\t}',commentRange:[2560145,2564879],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2560145,2564879],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"},absoluteName:"javascript.Error",constructors:[{annotation:"constructor",name:"n",text:"Boolean",children:[{annotation:"param",type:"{String}",name:"message",text:"Human-readable description of the error",theRestString:"@param {String} fileName The value for the fileName property on the created Error object. Defaults to the name of the file containing the code that called the Error() constructor.\n@param {Number} lineNumber The value for the lineNumber property on the created Error object. Defaults to the line number containing the Error() constructor invocation."},{annotation:"param",type:"{String}",name:"fileName",text:"The value for the fileName property on the created Error object. Defaults to the name of the file containing the code that called the Error() constructor.",theRestString:"@param {Number} lineNumber The value for the lineNumber property on the created Error object. Defaults to the line number containing the Error() constructor invocation."},{annotation:"param",type:"{Number}",name:"lineNumber",text:"The value for the lineNumber property on the created Error object. Defaults to the line number containing the Error() constructor invocation.",theRestString:""}],commentRange:[2564881,2565321],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js",params:[{annotation:"param",type:"{String}",name:"message",text:"Human-readable description of the error",theRestString:"@param {String} fileName The value for the fileName property on the created Error object. Defaults to the name of the file containing the code that called the Error() constructor.\n@param {Number} lineNumber The value for the lineNumber property on the created Error object. Defaults to the line number containing the Error() constructor invocation."},{annotation:"param",type:"{String}",name:"fileName",text:"The value for the fileName property on the created Error object. Defaults to the name of the file containing the code that called the Error() constructor.",theRestString:"@param {Number} lineNumber The value for the lineNumber property on the created Error object. Defaults to the line number containing the Error() constructor invocation."},{annotation:"param",type:"{Number}",name:"lineNumber",text:"The value for the lineNumber property on the created Error object. Defaults to the line number containing the Error() constructor invocation.",theRestString:""}],throws:[]}],properties:{message:{annotation:"property",type:"{String}",name:"message",text:'#Summary\nThe message property is a human-readable description of the error.\n\n#Description\nThis property contains a brief description of the error if one is available or has been set. SpiderMonkey makes extensive use of the message property for exceptions. The message property combined with the name property is used by the Error.prototype.toString() method to create a string representation of the Error.\n\nBy default, the message property is an empty string, but this behavior can be overridden for an instance by specifying a message as the first argument to the Error constructor.\n\n#Examples\n##Example: Throwing a custom error\n\n\tvar e = new Error("Could not parse input"); // e.message is "Could not parse input"\n\tthrow e;',commentRange:[2565325,2566084],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"},name:{annotation:"property",type:"{String}",name:"name",text:'#Summary\nThe name property represents a name for the type of error. The initial value is "Error".\n\n#Description\nBy default, Error instances are given the name "Error". The name property, in addition to the message property, is used by the Error.prototype.toString() method to create a string representation of the error.\n\n#Examples\n##Example: Throwing a custom error\n\n\tvar e = new Error("Malformed input"); // e.name is "Error"\n\n\te.name = "ParseError"; \n\tthrow e;\n\t// e.toString() would return "ParseError: Malformed input"',commentRange:[2566090,2566644],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"}}},"javascript.EvalError":{annotation:"class",name:"EvalError",text:"",children:[{annotation:"extends",name:"Error",text:"The EvalError object indicates an error regarding the global eval() function.",theRestString:""}],commentRange:[2566649,2566764],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2560145,2564879],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"},absoluteName:"javascript.EvalError"},"javascript.RangeError":{annotation:"class",name:"RangeError",text:"",children:[{annotation:"extends",name:"Error",text:"The RangeError object indicates an error when a value is not in the set or range of allowed values.\n\nA RangeError is thrown when trying to pass a number as an argument to a function that does not allow a range that includes that number. This can be encountered when to create an array of an illegal length with the Array constructor, or when passing bad values to the numeric methods Number.toExponential(), Number.toFixed() or Number.toPrecision().",theRestString:""}],commentRange:[2566766,2567255],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2560145,2564879],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"},absoluteName:"javascript.RangeError"},"javascript.ReferenceError":{annotation:"class",name:"ReferenceError",text:"",children:[{annotation:"extends",name:"Error",text:"#Summary\nThe ReferenceError object represents an error when a non-existent variable is referenced.\n\n#Description\nA ReferenceError is thrown when trying to dereference a variable that has not been declared.",theRestString:""}],commentRange:[2567258,2567506],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2560145,2564879],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"},absoluteName:"javascript.ReferenceError"},"javascript.SyntaxError":{annotation:"class",name:"SyntaxError",text:"",children:[{annotation:"extends",name:"Error",text:"#Summary\nThe SyntaxError object represents an error when trying to interpret syntactically invalid code.\n\n#Description\nA SyntaxError is thrown when the JavaScript engine encounters tokens or token order that does not conform to the syntax of the language when parsing code.",theRestString:""}],commentRange:[2567510,2567824],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2560145,2564879],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"},absoluteName:"javascript.SyntaxError"},"javascript.TypeError":{annotation:"class",name:"TypeError",text:"",children:[{annotation:"extends",name:"Error",text:"The TypeError object represents an error when a value is not of the expected type.",theRestString:""}],commentRange:[2567827,2567947],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2560145,2564879],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"},absoluteName:"javascript.TypeError"},"javascript.URIError":{annotation:"class",name:"URIError",text:"",children:[{annotation:"extends",name:"Error",text:"The URIError object represents an error when a global URI handling function was used in a wrong way.",theRestString:""}],commentRange:[2567949,2568087],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2560145,2564879],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"},absoluteName:"javascript.URIError"},"javascript.Function":{annotation:"class",name:"Function",text:"#Summary\nThe Function.prototype property represents the Function prototype object.\n\n#Description\nFunction objects inherit from Function.prototype.  Function.prototype cannot be modified.",commentRange:[2568179,2568408],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2568179,2568408],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js"},absoluteName:"javascript.Function",properties:{length:{annotation:"property",type:"{Number}",name:"length",text:"#Summary\nThe length property specifies the number of arguments expected by the function.\n\n#Description\nlength is a property of a function object, and indicates how many arguments the function expects, i.e. the number of formal parameters. This number does not include the rest parameter. By contrast, arguments.length is local to a function and provides the number of arguments actually passed to the function.\n\nData property of the Function constructor\n\nThe Function constructor is itself a Function object. It's length data property has a value of 1. The property attributes are: Writable: false, Enumerable: false, Configurable: true.\n\nProperty of the Function prototype object\n\nThe length property of the Function prototype object has a value of 0.\n\n#Examples\n\tconsole.log ( Function.length ); //1\n\n\tconsole.log( (function ()        {}).length ); //0\n\tconsole.log( (function (a)       {}).length ); //1\n\tconsole.log( (function (a, b)    {}).length ); //2 etc. \n\tconsole.log( (function (...args) {}).length ); //0, rest parameter is no",commentRange:[2568411,2569483],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js"},prototype:{annotation:"property",type:"{FunctionPrototype}",name:"prototype",text:"#Summary\nThe Function.prototype property represents the Function prototype object.\n\n#Description\nFunction objects inherit from Function.prototype.  Function.prototype cannot be modified.",commentRange:[2569486,2569718],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js"}},methods:{apply:{annotation:"method",name:"apply",text:"The apply() method calls a function with a given this value and arguments provided as an array (or an array-like object).\n\nNote: While the syntax of this function is almost identical to that of call(), the fundamental difference is that call() accepts an argument list, while apply() accepts a single array of arguments.\n#Syntax\n\tfun.apply(thisArg, [argsArray])\n#Description\nYou can assign a different this object when calling an existing function. this refers to the current object, the calling object. With apply, you can write a method once and then inherit it in another object, without having to rewrite the method for the new object.\n\napply is very similar to call(), except for the type of arguments it supports. You can use an arguments array instead of a named set of parameters. With apply, you can use an array literal, for example, fun.apply(this, ['eat', 'bananas']), or an Array object, for example, fun.apply(this, new Array('eat', 'bananas')).\n\nYou can also use arguments for the argsArray parameter. arguments is a local variable of a function. It can be used for all unspecified arguments of the called object. Thus, you do not have to know the arguments of the called object when you use the apply method. You can use arguments to pass all the arguments to the called object. The called object is then responsible for handling the arguments.\n\nSince ECMAScript 5th Edition you can also use any kind of object which is array-like, so in practice this means it's going to have a property length and integer properties in the range [0...length). As an example you can now use a NodeList or a own custom object like {'length': 2, '0': 'eat', '1': 'bananas'}.\n\nNote: Most browsers, including Chrome 14 and Internet Explorer 9, still do not accept array-like objects and will throw an exception.\n#Examples\nUsing apply to chain constructors\n\nYou can use apply to chain constructors for an object, similar to Java. In the following example we will create a global Function method called construct, which will make you able to use an array-like object with a constructor instead of an arguments list.\n\n\tFunction.prototype.construct = function (aArgs) {\n\t    var fConstructor = this, fNewConstr = function () { fConstructor.apply(this, aArgs); };\n\t    fNewConstr.prototype = fConstructor.prototype;\n\t    return new fNewConstr();\n\t};\n\nExample usage:\n\n\tfunction MyConstructor () {\n\t    for (var nProp = 0; nProp < arguments.length; nProp++) {\n\t        this[\"property\" + nProp] = arguments[nProp];\n\t    }\n\t}\n\n\tvar myArray = [4, \"Hello world!\", false];\n\tvar myInstance = MyConstructor.construct(myArray);\n\n\talert(myInstance.property1); // alerts \"Hello world!\"\n\talert(myInstance instanceof MyConstructor); // alerts \"true\"\n\talert(myInstance.constructor); // alerts \"MyConstructor\"\n\nNote: This non-native Function.construct method will not work with some native constructors (like Date, for example). In these cases you have to use the Function.bind method (for example, imagine to have an array like the following, to be used with Date constructor: [2012, 11, 4]; in this case you have to write something like: new (Function.prototype.bind.apply(Date, [null].concat([2012, 11, 4])))()  anyhow this is not the best way to do things and probably should not be used in any production environment).\nUsing apply and built-in functions\n\nClever usage of apply allows you to use built-ins functions for some tasks that otherwise probably would have been written by looping over the array values. As an example here we are going to use Math.max/Math.min to find out the maximum/minimum value in an array.\n\n\t//min/max number in an array \n\tvar numbers = [5, 6, 2, 3, 7];\n\n\t//using Math.min/Math.max apply \n\tvar max = Math.max.apply(null, numbers); // This about equal to Math.max(numbers[0], ...) or Math.max(5, 6, ..) \n\tvar min = Math.min.apply(null, numbers);\n\n\t/ vs. simple loop based algorithm \n\tmax = -Infinity, min = +Infinity;\n\n\tfor (var i = 0; i < numbers.length; i++) {\n\t  if (numbers[i] > max)\n\t    max = numbers[i];\n\t  if (numbers[i] < min) \n\t    min = numbers[i];\n\t}\n\nBut beware: in using apply this way, you run the risk of exceeding the JavaScript engine's argument length limit. The consequences of applying a function with too many arguments (think more than tens of thousands of arguments) vary across engines (JavaScriptCore has hard-coded argument limit of 65536), because the limit (indeed even the nature of any excessively-large-stack behavior) is unspecified. Some engines will throw an exception. More perniciously, others will arbitrarily limit the number of arguments actually passed to the applied function. (To illustrate this latter case: if such an engine had a limit of four arguments [actual limits are of course significantly higher], it would be as if the arguments 5, 6, 2, 3 had been passed to apply in the examples above, rather than the full array.) If your value array might grow into the tens of thousands, use a hybrid strategy: apply your function to chunks of the array at a time:\n\n\tfunction minOfArray(arr) {\n\t  var min = Infinity;\n\t  var QUANTUM = 32768;\n\n\t  for (var i = 0, len = arr.length; i < len; i += QUANTUM) {\n\t    var submin = Math.min.apply(null, arr.slice(i, Math.min(i + QUANTUM, len)));\n\t    min = Math.min(submin, min);\n\t  }\n\n\t  return min;\n\t}\n\n\tvar min = minOfArray([5, 6, 2, 3, 7]);\nUsing apply in \"monkey-patching\"\n\nApply can be the best way to monkey-patch a builtin function of Firefox, or JS libraries. Given someobject.foo function, you can modify the function in a somewhat hacky way, like so:\n\n\tvar originalfoo = someobject.foo;\n\tsomeobject.foo = function() {\n\t  //Do stuff before calling function\n\t  console.log(arguments);\n\t  //Call the function as it would have been called normally:\n\t  originalfoo.apply(this,arguments);\n\t  //Run stuff after, here.\n\t}\n\nThis method is especially handy where you want to debug events, or interface with something that has no API like the various .on([event]... events, such as those usable on the Devtools Inspector).",children:[{annotation:"param",type:"{Object}",name:"thisArg",text:"The value of this provided for the call to fun. Note that this may not be the actual value seen by the method: if the method is a function in non-strict mode code, null and undefined will be replaced with the global object, and primitive values will be boxed.",theRestString:"@param {Array} argsArray An array-like object, specifying the arguments with which fun should be called, or null or undefined if no arguments should be provided to the function. Starting with ECMAScript 5 these arguments can be a generic array-like object instead of an array. See below for browser compatibility information.\n\n@returns the result of evaluating this function with given context and parameters"},{annotation:"param",type:"{Array}",name:"argsArray",text:"An array-like object, specifying the arguments with which fun should be called, or null or undefined if no arguments should be provided to the function. Starting with ECMAScript 5 these arguments can be a generic array-like object instead of an array. See below for browser compatibility information.",theRestString:"@returns the result of evaluating this function with given context and parameters"},{annotation:"returns",name:"the",text:"result of evaluating this function with given context and parameters",theRestString:""}],commentRange:[2569722,2576452],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js"},bind:{annotation:"method",name:"bind",text:'#Summary\nThe bind() method creates a new function that, when called, has its this keyword set to the provided value, with a given sequence of arguments preceding any provided when the new function is called.\n\n#Syntax\n\tfun.bind(thisArg[, arg1[, arg2[, ...]]])\n\n#Description\nThe bind() function creates a new function (a bound function) with the same function body (internal call property in ECMAScript 5 terms) as the function it is being called on (the bound function\'s target function) with the this value bound to the first argument of bind(), which cannot be overridden. bind() also accepts leading default arguments to provide to the target function when the bound function is called. A bound function may also be constructed using the new operator: doing so acts as though the target function had instead been constructed. The provided this value is ignored, while prepended arguments are provided to the emulated function.\n\n#Examples\nCreating a bound function\n\nThe simplest use of bind() is to make a function that, no matter how it is called, is called with a particular this value. A common mistake for new JavaScript programmers is to extract a method from an object, then to later call that function and expect it to use the original object as its this (e.g. by using that method in callback-based code). Without special care, however, the original object is usually lost. Creating a bound function from the function, using the original object, neatly solves this problem:\n\n\tthis.x = 9; \n\tvar module = {\n\t  x: 81,\n\t  getX: function() { return this.x; }\n\t};\n\n\tmodule.getX(); // 81\n\n\tvar getX = module.getX;\n\tgetX(); // 9, because in this case, "this" refers to the global object\n\n\t// create a new function with \'this\' bound to module\n\tvar boundGetX = getX.bind(module);\n\tboundGetX(); // 81\n\n##Partial Functions\n\nThe next simplest use of bind() is to make a function with pre-specified initial arguments. These arguments (if any) follow the provided this value and are then inserted at the start of the arguments passed to the target function, followed by the arguments passed to the bound function, whenever the bound function is called.\n\n\tfunction list() {\n\t  return Array.prototype.slice.call(arguments);\n\t}\n\n\tvar list1 = list(1, 2, 3); // [1, 2, 3]\n\n\t//  Create a function with a preset leading argument\n\tvar leadingThirtysevenList = list.bind(undefined, 37);\n\n\tvar list2 = leadingThirtysevenList(); // [37]\n\tvar list3 = leadingThirtysevenList(1, 2, 3); // [37, 1, 2, 3]\n\n##With setTimeout\n\nBy default within window.setTimeout(), the this keyword will be set to the window (or global) object. When working with class methods that require this to refer to class instances, you may explicitly bind this to the callback function, in order to maintain the instance.\n\n\tfunction LateBloomer() {\n\t  this.petalCount = Math.ceil( Math.random() * 12 ) + 1;\n\t}\n\n\t// declare bloom after a delay of 1 second\n\tLateBloomer.prototype.bloom = function() {\n\t  window.setTimeout( this.declare.bind( this ), 1000 );\n\t};\n\n\tLateBloomer.prototype.declare = function() {\n\t  console.log(\'I am a beautiful flower with \' + \n\t    this.petalCount + \' petals!\');\n\t};\n\n##Bound functions used as constructors\n\nWarning: This section demonstrates JavaScript capabilities and documents some edge cases of the bind() method. The methods shown below are not the best way to do things and probably should not be used in any production environment.\nBound functions are automatically suitable for use with the new operator to construct new instances created by the target function. When a bound function is used to construct a value, the provided this is ignored. However, provided arguments are still prepended to the constructor call:\n\n\tfunction Point(x, y) {\n\t  this.x = x;\n\t  this.y = y;\n\t}\n\n\tPoint.prototype.toString = function() { \n\t  return this.x + "," + this.y; \n\t};\n\n\tvar p = new Point(1, 2);\n\tp.toString(); // "1,2"\n\n\n\tvar emptyObj = {};\n\tvar YAxisPoint = Point.bind(emptyObj, 0);\n\t// not supported in the polyfill below, works fine with native bind:\n\tvar YAxisPoint = Point.bind(null,0 );\n\n\tvar axisPoint = new YAxisPoint(5);\n\taxisPoint.toString(); //  "0,5"\n\n\taxisPoint instanceof Point; // true\n\taxisPoint instanceof YAxisPoint; // true\n\tnew Point(17, 42) instanceof YAxisPoint; // false\nNote that you need do nothing special to create a bound function for use with new. The corollary is that you need do nothing special to create a bound function to be called plainly, even if you would rather require the bound function to only be called using new.\n\n\t// Example can be run directly in your JavaScript console\n\t// ...continuing from above\n\n\t// Can still be called as a normal function \n\t// (although usually this is undesired)\n\tYAxisPoint(13);\n\n\temptyObj.x + "," + emptyObj.y;\n\t// >  "0,13"\nIf you wish to support use of a bound function only using new, or only by calling it, the target function must enforce that restriction.\n\n##Creating shortcuts\n\nbind() is also helpful in cases where you want to create a shortcut to a function which requires a specific this value.\n\nTake Array.prototype.slice, for example, which you want to use for converting an array-like object to a real array. You could create a shortcut like this:\n\n\tvar slice = Array.prototype.slice;\n\n\t// ...\n\n\tslice.call(arguments);\n\tWith bind(), this can be simplified. In the following piece of code, slice is a bound function to the call() function of Function.prototype, with the this value set to the slice() function of Array.prototype. This means that additional call() calls can be eliminated:\n\n\t// same as "slice" in the previous example\n\tvar unboundSlice = Array.prototype.slice;\n\tvar slice = Function.prototype.call.bind(unboundSlice);\n\n\t// ...\n\n\tslice(arguments);\n#Polyfill\nThe bind function is a recent addition to ECMA-262, 5th edition; as such it may not be present in all browsers. You can partially work around this by inserting the following code at the beginning of your scripts, allowing use of much of the functionality of bind() in implementations that do not natively support it.\n\n\tif (!Function.prototype.bind) {\n\t  Function.prototype.bind = function (oThis) {\n\t    if (typeof this !== "function") {\n\t      // closest thing possible to the ECMAScript 5\n\t      // internal IsCallable function\n\t      throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");\n\t    }\n\n\t    var aArgs = Array.prototype.slice.call(arguments, 1), \n\t        fToBind = this, \n\t        fNOP = function () {},\n\t        fBound = function () {\n\t          return fToBind.apply(this instanceof fNOP && oThis\n\t                 ? this\n\t                 : oThis,\n\t                 aArgs.concat(Array.prototype.slice.call(arguments)));\n\t        };\n\n\t    fNOP.prototype = this.prototype;\n\t    fBound.prototype = new fNOP();\n\n\t    return fBound;\n\t  };\n\t}\n\nSome of the many differences (there may well be others, as this list does not seriously attempt to be exhaustive) between this algorithm and the specified algorithm are:\n\nThe partial implementation relies Array.prototype.slice, Array.prototype.concat, Function.prototype.call and Function.prototype.apply, built-in methods to have their original values.\nThe partial implementation creates functions that do not have immutable "poison pill" caller and arguments properties that throw a TypeError upon get, set, or deletion. (This could be added if the implementation supports Object.defineProperty, or partially implemented [without throw-on-delete behavior] if the implementation supports the __defineGetter__ and __defineSetter__ extensions.)\nThe partial implementation creates functions that have a prototype property. (Proper bound functions have none.)\nThe partial implementation creates bound functions whose length property does not agree with that mandated by ECMA-262: it creates functions with length 0, while a full implementation, depending on the length of the target function and the number of pre-specified arguments, may return a non-zero length.\nIf you choose to use this partial implementation, you must not rely on those cases where behavior deviates from ECMA-262, 5th edition! With some care, however (and perhaps with additional modification to suit specific needs), this partial implementation may be a reasonable bridge to the time when bind() is widely implemented according to the specification.',children:[{annotation:"param",name:"thisArg",text:"The value to be passed as the this parameter to the target function when the bound function is called. The value is ignored if the bound function is constructed using the new operator.",theRestString:"@param args Arguments to prepend to arguments provided to the bound function when invoking the target function."},{annotation:"param",name:"args",text:"Arguments to prepend to arguments provided to the bound function when invoking the target function.",theRestString:""}],commentRange:[2576460,2585144],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js"},call:{annotation:"method",name:"call",text:"#Summary\nThe call() method calls a function with a given this value and arguments provided individually.\n\nNOTE: While the syntax of this function is almost identical to that of apply(), the fundamental difference is that call() accepts an argument list, while apply() accepts a single array of arguments.\n#Syntax\n\tfun.call(thisArg[, arg1[, arg2[, ...]]])\n\n#Description\nYou can assign a different this object when calling an existing function. this refers to the current object, the calling object.\n\nWith call, you can write a method once and then inherit it in another object, without having to rewrite the method for the new object.\n\n#Examples\n##Using call to chain constructors for an object\n\nYou can use call to chain constructors for an object, similar to Java. In the following example, the constructor for the Product object is defined with two parameters, name and price. Two other functions Food and Toy invoke Product passing this and name and price. Product initializes the properties name and price, both specialized functions define the category.\n\n\tfunction Product(name, price) {\n\t  this.name = name;\n\t  this.price = price;\n\n\t  if (price < 0) {\n\t    throw RangeError('Cannot create product ' +\n\t                      this.name + ' with a negative price');\n\t  }\n\n\t  return this;\n\t}\n\n\tfunction Food(name, price) {\n\t  Product.call(this, name, price);\n\t  this.category = 'food';\n\t}\n\n\tFood.prototype = Object.create(Product.prototype);\n\n\tfunction Toy(name, price) {\n\t  Product.call(this, name, price);\n\t  this.category = 'toy';\n\t}\n\n\tToy.prototype = Object.create(Product.prototype);\n\n\tvar cheese = new Food('feta', 5);\n\tvar fun = new Toy('robot', 40);\n \n##Using call to invoke an anonymous function\n\nIn this purely constructed example, we create anonymous function and use call to invoke it on every object in an array. The main purpose of the anonymous function here is to add a print function to every object, which is able to print the right index of the object in the array. Passing the object as this value was not strictly necessary, but is done for explanatory purpose.\n\n\tvar animals = [\n\t  {species: 'Lion', name: 'King'},\n\t  {species: 'Whale', name: 'Fail'}\n\t];\n\n\tfor (var i = 0; i < animals.length; i++) {\n\t  (function (i) { \n\t    this.print = function () { \n\t      console.log('#' + i  + ' ' + this.species \n\t                  + ': ' + this.name); \n\t    } \n\t    this.print();\n\t  }).call(animals[i], i);\n\t}",children:[{annotation:"param",name:"thisArg",text:"The value of this provided for the call to fun. Note that this may not be the actual value seen by the method: if the method is a function in non-strict mode code, null and undefined will be replaced with the global object, and primitive values will be boxed.",theRestString:"@param arg1,arg2,... Arguments for the object."},{annotation:"param",name:"arg1",text:",arg2,... Arguments for the object.",theRestString:""}],commentRange:[2585151,2587920],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js"},toString:{annotation:"method",name:"toString",text:"#Summary\nThe toString() method returns a string representing the source code of the function.\n\n#Syntax\n\tfunction.toString(indentation)\n#Description\nThe Function object overrides the toString method inherited from Object; it does not inherit Object.prototype.toString. For Function objects, the toString method returns a string representation of the object in the form of a function declaration. That is, toString decompiles the function, and the string returned includes the function keyword, the argument list, curly braces, and the source of the function body.\n\nJavaScript calls the toString method automatically when a Function is to be represented as a text value, e.g. when a function is concatenated with a string.",children:[{annotation:"return",type:"{String}",text:"",theRestString:""}],commentRange:[2587925,2588686],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js"}}},"javascript.Number":{annotation:"class",name:"Number",text:'#Summary\nThe Number JavaScript object is a wrapper object allowing you to work with numerical values. A Number object is created using the Number() constructor.\n\n#Constructor\n\tnew Number(value);\n\n#Description\nThe primary uses for the Number object are:\n\nIf the argument cannot be converted into a number, it returns NaN.\nIn a non-constructor context (i.e., without the new operator, Number can be used to perform a type conversion.\n\n\n#Examples\n##Example: Using the Number object to assign values to numeric variables\n\nThe following example uses the Number object\'s properties to assign values to several numeric variables:\n\n\tvar biggestNum = Number.MAX_VALUE;\n\tvar smallestNum = Number.MIN_VALUE;\n\tvar infiniteNum = Number.POSITIVE_INFINITY;\n\tvar negInfiniteNum = Number.NEGATIVE_INFINITY;\n\tvar notANum = Number.NaN;\n##Example: Integer range for Number\n\nThe following example shows minimum and maximum integer values that can be represented as Number object (for details, refer to EcmaScript standard, chapter 8.5 The Number Type):\n\n\tvar biggestInt = 9007199254740992;\n\tvar smallestInt = -9007199254740992;\n\nWhen parsing data that has been serialized to JSON, integer values falling out of this range can be expected to become corrupted when JSON parser coerces them to Number type. Using String instead is a possible workaround.\n\n##Example: Using Number to convert a Date object\n\nThe following example converts the Date object to a numerical value using Number as a function:\n\n\tvar d = new Date("December 17, 1995 03:24:00");\n\tprint(Number(d));\n\nThis displays "819199440000".',commentRange:[2588775,2590392],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2588775,2590392],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js"},absoluteName:"javascript.Number",constructors:[{annotation:"constructor",name:"n",text:"Number",children:[{annotation:"param",type:"{Any}",name:"value",text:"The numeric value of the object being created.",theRestString:""}],commentRange:[2590394,2590484],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js",params:[{annotation:"param",type:"{Any}",name:"value",text:"The numeric value of the object being created.",theRestString:""}],throws:[]}],properties:{MAX_VALUE:{annotation:"property",type:"{Number}",name:"MAX_VALUE",text:'#Summary\nThe Number.MAX_VALUE property represents the maximum numeric value representable in JavaScript.\n\n#Description\nThe MAX_VALUE property has a value of approximately 1.79E+308. Values larger than MAX_VALUE are represented as "Infinity".\n\nBecause MAX_VALUE is a static property of Number, you always use it as Number.MAX_VALUE, rather than as a property of a Number object you created.\n\n#Examples\n##Example: Using MAX_VALUE\n\n\tThe following code multiplies two numeric values. If the result is less than or equal to MAX_VALUE, the func1 function is called; otherwise, the func2 function is called.\n\n\tif (num1 * num2 <= Number.MAX_VALUE) {\n\t   func1();\n\t} else {\n\t   func2();\n\t}',children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2590491,2591217],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js"},MIN_VALUE:{annotation:"property",type:"{Number}",name:"MIN_VALUE",text:'#Summary\nThe Number.MIN_VALUE property represents the smallest positive numeric value representable in JavaScript.\n\n#Description\nThe MIN_VALUE property is the number closest to 0, not the most negative number, that JavaScript can represent.\n\nMIN_VALUE has a value of approximately 5e-324. Values smaller than MIN_VALUE ("underflow values") are converted to 0.\n\nBecause MIN_VALUE is a static property of Number, you always use it as Number.MIN_VALUE, rather than as a property of a Number object you created.\n\n#Examples\n##Example: Using MIN_VALUE\n\nThe following code divides two numeric values. If the result is greater than or equal to MIN_VALUE, the func1 function is called; otherwise, the func2 function is called.\n\n\tif (num1 / num2 >= Number.MIN_VALUE) {\n\t    func1();\n\t} else {\n\t    func2();\n\t}',children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2591221,2592065],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js"},NEGATIVE_INFINITY:{annotation:"property",type:"{Number}",name:"NEGATIVE_INFINITY",text:'#Summary\nThe Number.NEGATIVE_INFINITY property represents the negative Infinity value.\n\nYou do not have to create a Number object to access this static property (use Number.NEGATIVE_INFINITY).\n\n#Description\nThe value of Number.NEGATIVE_INFINITY is the same as the negative value of the global object\'s Infinity property.\n\nThis value behaves slightly differently than mathematical infinity:\n\n* Any positive value, including POSITIVE_INFINITY, multiplied by NEGATIVE_INFINITY is NEGATIVE_INFINITY.\n* Any negative value, including NEGATIVE_INFINITY, multiplied by NEGATIVE_INFINITY is POSITIVE_INFINITY.\n* Zero multiplied by NEGATIVE_INFINITY is NaN.\n* NaN multiplied by NEGATIVE_INFINITY is NaN.\n* NEGATIVE_INFINITY, divided by any negative value except NEGATIVE_INFINITY, is POSITIVE_INFINITY.\n* NEGATIVE_INFINITY, divided by any positive value except POSITIVE_INFINITY, is NEGATIVE_INFINITY.\n* NEGATIVE_INFINITY, divided by either NEGATIVE_INFINITY or POSITIVE_INFINITY, is NaN.\n* Any number divided by NEGATIVE_INFINITY is zero.\n\nYou might use the Number.NEGATIVE_INFINITY property to indicate an error condition that returns a finite number in case of success. Note, however, that isFinite would be more appropriate in such a case.\n\n#Example\nIn the following example, the variable smallNumber is assigned a value that is smaller than the minimum value. When the if statement executes, smallNumber has the value "-Infinity", so smallNumber is set to a more manageable value before continuing.\n\n\tvar smallNumber = (-Number.MAX_VALUE) * 2\n\n\tif (smallNumber == Number.NEGATIVE_INFINITY) {\n\t smallNumber = returnFinite();\n\t}',children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2592070,2593743],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js"},NaN:{annotation:"property",type:"{Number}",name:"NaN",text:"#Summary\nThe Number.NaN property represents Not-A-Number. Equivalent of NaN.\n\nYou do not have to create a Number object to access this static property (use Number.NaN).",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2593747,2593952],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js"},POSITIVE_INFINITY:{annotation:"property",type:"{Number}",name:"POSITIVE_INFINITY",text:'#Summary\nThe Number.POSITIVE_INFINITY property represents the positive Infinity value.\n\nYou do not have to create a Number object to access this static property (use Number.POSITIVE_INFINITY).\n\n#Description\nThe value of Number.POSITIVE_INFINITY is the same as the value of the global object\'s Infinity property.\n\nThis value behaves slightly differently than mathematical infinity:\n\n* Any positive value, including POSITIVE_INFINITY, multiplied by POSITIVE_INFINITY is POSITIVE_INFINITY.\n* Any negative value, including NEGATIVE_INFINITY, multiplied by POSITIVE_INFINITY is NEGATIVE_INFINITY.\n* Zero multiplied by POSITIVE_INFINITY is NaN.\n* NaN multiplied by POSITIVE_INFINITY is NaN.\n* POSITIVE_INFINITY, divided by any negative value except NEGATIVE_INFINITY, is NEGATIVE_INFINITY.\n* POSITIVE_INFINITY, divided by any positive value except POSITIVE_INFINITY, is POSITIVE_INFINITY.\n* POSITIVE_INFINITY, divided by either NEGATIVE_INFINITY or POSITIVE_INFINITY, is NaN.\n* Any number divided by POSITIVE_INFINITY is Zero.\n* You might use the Number.POSITIVE_INFINITY property to indicate an error condition that returns a finite number in case of success. Note, however, that isFinite would be more appropriate in such a case.\n\n#Example\nIn the following example, the variable bigNumber is assigned a value that is larger than the maximum value. When the if statement executes, bigNumber has the value "Infinity", so bigNumber is set to a more manageable value before continuing.\n\n\tvar bigNumber = Number.MAX_VALUE * 2\n\tif (bigNumber == Number.POSITIVE_INFINITY) {\n\t bigNumber = returnFinite();\n\t}',children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2593956,2595604],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js"}}},"javascript.Object":{annotation:"class",name:"Object",text:"Adapted from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object\n\n#Description\nThe Object constructor creates an object wrapper for the given value. If the value is null or undefined, it will create and return an empty object, otherwise, it will return an object of a Type that corresponds to the given value. If the value is an object already, it will return the value.\n\nWhen called in a non-constructor context, Object behaves identically to new Object().\n\n#Object instances and Object prototype object\nAll objects in JavaScript are descended from Object; all objects inherit methods and properties from Object.prototype, although they may be overridden. For example, other constructors' prototypes override the constructor property and provide their own toString methods. Changes to the Object prototype object are propagated to all objects unless the properties and methods subject to those changes are overridden further along the prototype chain.\n\n#Examples\n##Example: Using Object given undefined and null types\n\nThe following examples store an empty Object object in o:\n\n\tvar o = new Object();\n\tvar o = new Object(undefined);\n\tvar o = new Object(null);\n##Example: Using Object to create Boolean objects\n\nThe following examples store Boolean objects in o:\n\n\t// equivalent to o = new Boolean(true);\n\tvar o = new Object(true);\n\t// equivalent to o = new Boolean(false);\n\tvar o = new Object(Boolean());",commentRange:[2595693,2597225],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2595693,2597225],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},absoluteName:"javascript.Object",properties:{prototype:{annotation:"property",type:"{ObjectPrototype}",name:"prototype",text:"",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2595693,2597225],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"}},constructors:[{annotation:"constructor",name:"n",text:"bla bla\n\n\t// Object initialiser or literal \n\t{ [ nameValuePair1 [, nameValuePair2 [, ...nameValuePairN] ] ] }  \n\t// Called as a constructor \n\tnew Object( [ value ] )",children:[{annotation:"param",name:"nameValuePair1",text:",nameValuePair2,...nameValuePairN Pairs of names (strings) and values (any value) where the name is separated from the value by a colon.",theRestString:"@param value Any value."},{annotation:"param",name:"value",text:"Any value.",theRestString:""}],commentRange:[2597227,2597594],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js",params:[{annotation:"param",name:"nameValuePair1",text:",nameValuePair2,...nameValuePairN Pairs of names (strings) and values (any value) where the name is separated from the value by a colon.",theRestString:"@param value Any value."},{annotation:"param",name:"value",text:"Any value.",theRestString:""}],throws:[]}],methods:{__defineGetter__:{annotation:"method",name:"__defineGetter__",text:"()  \nAssociates a function with a property that, when accessed, executes that function and returns its return value.",commentRange:[2597610,2597756],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},hasOwnProperty:{annotation:"method",name:"hasOwnProperty",text:"#Summary\nThe hasOwnProperty() method returns a boolean indicating whether the object has the specified property.\n\n#Syntax\n\tobj.hasOwnProperty(prop)\n\n#Description\nEvery object descended from Object inherits the hasOwnProperty method. This method can be used to determine whether an object has the specified property as a direct property of that object; unlike the in operator, this method does not check down the object's prototype chain.\n\n#Examples\n##Example: Using hasOwnProperty to test for a property's existence\n\nThe following example determines whether the o object contains a property named prop:\n\n\to = new Object();\n\to.prop = 'exists';\n\n\tfunction changeO() {\n\t  o.newprop = o.prop;\n\t  delete o.prop;\n\t}\n\n\to.hasOwnProperty('prop');   // returns true\n\tchangeO();\n\to.hasOwnProperty('prop');   // returns false\n\tExample: Direct versus inherited properties\n\n\tThe following example differentiates between direct properties and properties inherited through the prototype chain:\n\n\to = new Object();\n\to.prop = 'exists';\n\to.hasOwnProperty('prop');             // returns true\n\to.hasOwnProperty('toString');         // returns false\n\to.hasOwnProperty('hasOwnProperty');   // returns false\n##Example: Iterating over the properties of an object\n\nThe following example shows how to iterate over the properties of an object without executing on inherit properties. Note that the for...in loop is already only iterating enumerable items, so one should not assume based on the lack of non-enumerable properties shown in the loop that hasOwnProperty itself is confined strictly to enumerable items (as with Object.getOwnPropertyNames()).\n\n\tvar buz = {\n\t  fog: 'stack'\n\t};\n\n\tfor (var name in buz) {\n\t  if (buz.hasOwnProperty(name)) {\n\t    alert('this is fog (' + name + ') for sure. Value: ' + buz[name]);\n\t  }\n\t  else {\n\t    alert(name); // toString or something else\n\t  }\n\t}\n##Example: hasOwnProperty as a property\n\nJavaScript does not protect the property name hasOwnProperty; thus, if the possibility exists that an object might have a property with this name, it is necessary to use an external hasOwnProperty to get correct results:\n\n\tvar foo = {\n\t  hasOwnProperty: function() {\n\t    return false;\n\t  },\n\t  bar: 'Here be dragons'\n\t};\n\n\tfoo.hasOwnProperty('bar'); // always returns false\n\n\t// Use another Object's hasOwnProperty and call it with 'this' set to foo\n\t({}).hasOwnProperty.call(foo, 'bar'); // true\n\n\t// It's also possible to use the hasOwnProperty property from the Object prototype for this purpose\n\tObject.prototype.hasOwnProperty.call(foo, 'bar'); // true\nNote that in the last case there are no newly created objects.",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {String}prop The name of the property to test."},{annotation:"param",type:"{String}",name:"prop",text:"The name of the property to test.",theRestString:""}],commentRange:[2644486,2647208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},isPrototypeOf:{annotation:"method",name:"isPrototypeOf",text:"#Summary\nThe isPrototypeOf() method tests for an object in another object's prototype chain.\n\nNote: isPrototypeOf differs from the instanceof operator. In the expression \"object instanceof AFunction\", the object prototype chain is checked against AFunction.prototype, not against AFunction itself.\n#Syntax\n\tprototypeObj.isPrototypeOf(obj)\n#Description\nThe isPrototypeOf method allows you to check whether or not an object exists within another object's prototype chain.\n\nFor example, consider the following prototype chain:\n\n\tfunction Fee() {\n\t  // ...\n\t}\n\n\tfunction Fi() {\n\t  // ...\n\t}\n\tFi.prototype = new Fee();\n\n\tfunction Fo() {\n\t  // ...\n\t}\n\tFo.prototype = new Fi();\n\n\tfunction Fum() {\n\t  // ...\n\t}\n\tFum.prototype = new Fo();\nLater on down the road, if you instantiate Fum and need to check if Fi's prototype exists within the Fum prototype chain, you could do this:\n\n\tvar fum = new Fum();\n\t// ...\n\n\tif (Fi.prototype.isPrototypeOf(fum)) {\n\t  // do something safe\n\t}\nThis, along with the instanceof operator particularly comes in handy if you have code that can only function when dealing with objects descended from a specific prototype chain, e.g., to guarantee that certain methods or properties will be present on that object.",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object} prototypeObj An object to be tested against each link in the prototype chain of the object argument.\n@param {Object}object The object whose prototype chain will be searched.\n@returns {boolean}"},{annotation:"param",type:"{Object}",name:"prototypeObj",text:"An object to be tested against each link in the prototype chain of the object argument.",theRestString:"@param {Object}object The object whose prototype chain will be searched.\n@returns {boolean}"},{annotation:"param",type:"{Object}",name:"object",text:"The object whose prototype chain will be searched.",theRestString:"@returns {boolean}"},{annotation:"returns",type:"{boolean}",text:"",theRestString:""}],commentRange:[2647216,2648700],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},propertyIsEnumerable:{annotation:"method",name:"propertyIsEnumerable",text:"#Summary\nThe propertyIsEnumerable() method returns a Boolean indicating whether the specified property is enumerable.\n#Syntax\n\tobj.propertyIsEnumerable(prop)\n\n#Description\nEvery object has a propertyIsEnumerable method. This method can determine whether the specified property in an object can be enumerated by a for...in loop, with the exception of properties inherited through the prototype chain. If the object does not have the specified property, this method returns false.\n\n#Examples\n##Example: A basic use of propertyIsEnumerable\n\nThe following example shows the use of propertyIsEnumerable on objects and arrays:\n\n\tvar o = {};\n\tvar a = [];\n\to.prop = 'is enumerable';\n\ta[0] = 'is enumerable';\n\n\to.propertyIsEnumerable('prop');   // returns true\n\ta.propertyIsEnumerable(0);        // returns true\n##Example: User-defined versus built-in objects\n\nThe following example demonstrates the enumerability of user-defined versus built-in properties:\n\n\tvar a = ['is enumerable'];\n\n\ta.propertyIsEnumerable(0);          // returns true\n\ta.propertyIsEnumerable('length');   // returns false\n\n\tMath.propertyIsEnumerable('random');   // returns false\n\tthis.propertyIsEnumerable('Math');     // returns false\n##Example: Direct versus inherited properties\n\n\tvar a = [];\n\ta.propertyIsEnumerable('constructor');         // returns false\n\n\tfunction firstConstructor() {\n\t  this.property = 'is not enumerable';\n\t}\n\n\tfirstConstructor.prototype.firstMethod = function() {};\n\n\tfunction secondConstructor() {\n\t  this.method = function method() { return 'is enumerable'; };\n\t}\n\n\tsecondConstructor.prototype = new firstConstructor;\n\tsecondConstructor.prototype.constructor = secondConstructor;\n\n\tvar o = new secondConstructor();\n\to.arbitraryProperty = 'is enumerable';\n\n\to.propertyIsEnumerable('arbitraryProperty');   // returns true\n\to.propertyIsEnumerable('method');              // returns true\n\to.propertyIsEnumerable('property');            // returns false\n\n\to.property = 'is enumerable';\n\n\to.propertyIsEnumerable('property');            // returns true\n\n\t// These return false as they are on the prototype which \n\t// propertyIsEnumerable does not consider (even though the last two\n\t// are iteratable with for-in)\n\to.propertyIsEnumerable('prototype');   // returns false (as of JS 1.8.1/FF3.6)\n\to.propertyIsEnumerable('constructor'); // returns false\n\to.propertyIsEnumerable('firstMethod'); // returns false",children:[{annotation:"param",type:"{String}",name:"prop",text:"The name of the property to test.",theRestString:"@return {boolean}"},{annotation:"return",type:"{boolean}",text:"",theRestString:""}],commentRange:[2648707,2651214],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},toLocaleString:{annotation:"method",name:"toLocaleString",text:"#Summary\nThe toLocaleString() method returns a string representing the object. This method is meant to be overriden by derived objects for locale-specific purposes.\n\n#Syntax\n\tobj.toLocaleString();\n#Description\nObject's toLocaleString returns the result of calling toString().\n\nThis function is provided to give objects a generic toLocaleString method, even though not all may use it. See the list below.\n\nObjects overriding toLocaleString\n\n\tArray: Array.prototype.toLocaleString()\n\tNumber: Number.prototype.toLocaleString()\n\tDate: Date.prototype.toLocaleString()",commentRange:[2651218,2651809],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},toString:{annotation:"method",name:"toString",text:"#Summary\nThe toString() method returns a string representing object.\n\n#Syntax\n\tobj.toString()\n#Description\nEvery object has a toString() method that is automatically called when the object is to be represented as a text value or when an object is referred to in a manner in which a string is expected. By default, the toString() method is inherited by every object descended from Object. If this method is not overridden in a custom object, toString() returns \"[object type]\", where type is the object type. The following code illustrates this:\n\n\tvar o = new Object();\n\to.toString();           // returns [object Object]\nNote: Starting in JavaScript 1.8.5 toString() called on null returns [object Null], and undefined returns [object Undefined], as defined in the 5th Edition of ECMAScript and a subsequent Errata. See Using toString to detect object type.\n#Examples\n##Example: Overriding the default toString method\n\nYou can create a function to be called in place of the default toString() method. The toString() method takes no arguments and should return a string. The toString() method you create can be any value you want, but it will be most useful if it carries information about the object.\n\nThe following code defines the Dog object type and creates theDog, an object of type Dog:\n\n\tfunction Dog(name, breed, color, sex) {\n\t  this.name = name;\n\t  this.breed = breed;\n\t  this.color = color;\n\t  this.sex = sex;\n\t}\n\n\ttheDog = new Dog('Gabby', 'Lab', 'chocolate', 'female');\nIf you call the toString() method on this custom object, it returns the default value inherited from Object:\n\n\ttheDog.toString(); // returns [object Object]\nThe following code creates and assigns dogToString() to override the default toString() method. This function generates a string containing the name, breed, color, and sex of the object, in the form \"property = value;\".\n\n\tDog.prototype.toString = function dogToString() {\n\t  var ret = 'Dog ' + this.name + ' is a ' + this.sex + ' ' + this.color + ' ' + this.breed;\n\t  return ret;\n\t}\n\nWith the preceding code in place, any time theDog is used in a string context, JavaScript automatically calls the dogToString() function, which returns the following string:\n\n\tDog Gabby is a female chocolate Lab\n\n##Example: Using toString() to detect object class\n\ntoString() can be used with every object and allows you to get its class. To use the Object.prototype.toString() with every object, you need to call Function.prototype.call() or Function.prototype.apply() on it, passing the object you want to inspect as the first parameter called thisArg.\n\n\tvar toString = Object.prototype.toString;\n\n\ttoString.call(new Date);    // [object Date]\n\ttoString.call(new String);  // [object String]\n\ttoString.call(Math);        // [object Math]\n\n\t// Since JavaScript 1.8.5\n\ttoString.call(undefined);   // [object Undefined]\n\ttoString.call(null);        // [object Null]",children:[{annotation:"return",type:"{String}",name:"returns",text:"a string representing object.",theRestString:""}],commentRange:[2651813,2654778],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},create:{annotation:"method",name:"create",text:"#Summary\nThe Object.create() method creates a new object with the specified prototype object and properties.\n\n#Syntax\n\tObject.create(proto[, propertiesObject])\n\n#Examples\n\n##Example: Classical inheritance with Object.create\n\nBelow is an example of how to use Object.create to achieve classical inheritance. This is for single inheritance, which is all that Javascript supports.\n\n\t// Shape - superclass\n\tfunction Shape() {\n\t  this.x = 0;\n\t  this.y = 0;\n\t}\n\n\t// superclass method\n\tShape.prototype.move = function(x, y) {\n\t  this.x += x;\n\t  this.y += y;\n\t  console.info('Shape moved.');\n\t};\n\n\t// Rectangle - subclass\n\tfunction Rectangle() {\n\t  Shape.call(this); // call super constructor.\n\t}\n\n\t// subclass extends superclass\n\tRectangle.prototype = Object.create(Shape.prototype);\n\tRectangle.prototype.constructor = Rectangle;\n\n\tvar rect = new Rectangle();\n\n\trect instanceof Rectangle; // true\n\trect instanceof Shape; // true\n\n\trect.move(1, 1); // Outputs, 'Shape moved.'\n\tIf you wish to inherit from multiple objects, then mixins are a possibility.\n\n\tfunction MyClass() {\n\t  SuperClass.call(this);\n\t  OtherSuperClass.call(this);\n\t}\n\n\tMyClass.prototype = Object.create(SuperClass.prototype); // inherit\n\tmixin(MyClass.prototype, OtherSuperClass.prototype); // mixin\n\n\tMyClass.prototype.myMethod = function() {\n\t  // do a thing\n\t};\n\nThe mixin function would copy the functions from the superclass prototype to the subclass prototype, the mixin function needs to be supplied by the user. An example of a mixin like function would be jQuery.extend.\n\n##Example: Using propertiesObject argument with Object.create\n\n\tvar o;\n\n\t// create an object with null as prototype\n\to = Object.create(null);\n\n\n\to = {};\n\t// is equivalent to:\n\to = Object.create(Object.prototype);\n\n\n\t// Example where we create an object with a couple of sample properties.\n\t// (Note that the second parameter maps keys to *property descriptors*.)\n\to = Object.create(Object.prototype, {\n\t  // foo is a regular 'value property'\n\t  foo: { writable: true, configurable: true, value: 'hello' },\n\t  // bar is a getter-and-setter (accessor) property\n\t  bar: {\n\t    configurable: false,\n\t    get: function() { return 10; },\n\t    set: function(value) { console.log('Setting `o.bar` to', value); }\n\t  }\n\t});\n\n\n\tfunction Constructor() {}\n\to = new Constructor();\n\t// is equivalent to:\n\to = Object.create(Constructor.prototype);\n\t// Of course, if there is actual initialization code in the\n\t// Constructor function, the Object.create cannot reflect it\n\n\n\t// create a new object whose prototype is a new, empty object\n\t// and a adding single property 'p', with value 42\n\to = Object.create({}, { p: { value: 42 } });\n\n\t// by default properties ARE NOT writable, enumerable or configurable:\n\to.p = 24;\n\to.p;\n\t// 42\n\n\to.q = 12;\n\tfor (var prop in o) {\n\t  console.log(prop);\n\t}\n\t// 'q'\n\n\tdelete o.p;\n\t// false\n\n\t// to specify an ES3 property\n\to2 = Object.create({}, {\n\t  p: {\n\t    value: 42,\n\t    writable: true,\n\t    enumerable: true,\n\t    configurable: true\n\t  }\n\t});\n\n##Polyfill\nThis polyfill covers the main use case which is creating a new object for which the prototype has been chosen but doesn't take the second argument into account.\n\n\tif (typeof Object.create != 'function') {\n\t  Object.create = (function() {\n\t    var Object = function() {};\n\t    return function (prototype) {\n\t      if (arguments.length > 1) {\n\t        throw Error('Second argument not supported');\n\t      }\n\t      if (typeof prototype != 'object') {\n\t        throw TypeError('Argument must be an object');\n\t      }\n\t      Object.prototype = prototype;\n\t      var result = new Object();\n\t      Object.prototype = null;\n\t      return result;\n\t    };\n\t  })();\n\t}",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object} proto The object which should be the prototype of the newly-created object.\n\n@param {Object} propertiesObject If specified and not undefined, an object whose enumerable own properties (that is, those properties defined upon itself and not enumerable properties along its prototype chain) specify property descriptors to be added to the newly-created object, with the corresponding property names. These properties correspond to the second argument of Object.defineProperties(). @optional dummy @throws Throws a TypeError exception if the proto parameter isn't null or an object."},{annotation:"param",type:"{Object}",name:"proto",text:"The object which should be the prototype of the newly-created object.",theRestString:"@param {Object} propertiesObject If specified and not undefined, an object whose enumerable own properties (that is, those properties defined upon itself and not enumerable properties along its prototype chain) specify property descriptors to be added to the newly-created object, with the corresponding property names. These properties correspond to the second argument of Object.defineProperties(). @optional dummy @throws Throws a TypeError exception if the proto parameter isn't null or an object."},{annotation:"param",type:"{Object}",name:"propertiesObject",text:"If specified and not undefined, an object whose enumerable own properties (that is, those properties defined upon itself and not enumerable properties along its prototype chain) specify property descriptors to be added to the newly-created object, with the corresponding property names. These properties correspond to the second argument of Object.defineProperties().",theRestString:"@optional dummy @throws Throws a TypeError exception if the proto parameter isn't null or an object."},{annotation:"optional",name:"dummy",text:"",theRestString:"@throws Throws a TypeError exception if the proto parameter isn't null or an object."},{annotation:"throws",name:"Throws",text:"a TypeError exception if the proto parameter isn't null or an object.",theRestString:""}],commentRange:[2607434,2611736],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},defineProperties:{annotation:"method",name:"defineProperties",text:'#Summary\nThe Object.defineProperties() method defines new or modifies existing properties directly on an object, returning the object.\n\n#Syntax\n\tObject.defineProperties(obj, props)\n\n#Description\nObject.defineProperties, in essence, defines all properties corresponding to the enumerable own properties of props on the object obj object.\n\n#Example\n\n\tObject.defineProperties(obj, {\n\t  "property1": {\n\t    value: true,\n\t    writable: true\n\t  },\n\t  "property2": {\n\t    value: "Hello",\n\t    writable: false\n\t  }\n\t  // etc. etc.\n\t});\n\n\n# Polyfill\n\nAssuming a pristine execution environment with all names and properties referring to their initial values, Object.defineProperties is almost completely equivalent (note the comment in isCallable) to the following reimplementation in JavaScript:\n\n\tfunction defineProperties(obj, properties) {\n\t  function convertToDescriptor(desc) {\n\t    function hasProperty(obj, prop) {\n\t      return Object.prototype.hasOwnProperty.call(obj, prop);\n\t    }\n\n\t    function isCallable(v) {\n\t      // NB: modify as necessary if other values than functions are callable.\n\t      return typeof v === "function";\n\t    }\n\n\t    if (typeof desc !== "object" || desc === null)\n\t      throw new TypeError("bad desc");\n\n\t    var d = {};\n\n\t    if (hasProperty(desc, "enumerable"))\n\t      d.enumerable = !!obj.enumerable;\n\t    if (hasProperty(desc, "configurable"))\n\t      d.configurable = !!obj.configurable;\n\t    if (hasProperty(desc, "value"))\n\t      d.value = obj.value;\n\t    if (hasProperty(desc, "writable"))\n\t      d.writable = !!desc.writable;\n\t    if (hasProperty(desc, "get")) {\n\t      var g = desc.get;\n\n\t      if (!isCallable(g) && typeof g !== "undefined")\n\t        throw new TypeError("bad get");\n\t      d.get = g;\n\t    }\n\t    if (hasProperty(desc, "set")) {\n\t      var s = desc.set;\n\t      if (!isCallable(s) && typeof s !== "undefined")\n\t        throw new TypeError("bad set");\n\t      d.set = s;\n\t    }\n\n\t    if (("get" in d || "set" in d) && ("value" in d || "writable" in d))\n\t      throw new TypeError("identity-confused descriptor");\n\n\t    return d;\n\t  }\n\n\t  if (typeof obj !== "object" || obj === null)\n\t    throw new TypeError("bad obj");\n\n\t  properties = Object(properties);\n\n\t  var keys = Object.keys(properties);\n\t  var descs = [];\n\n\t  for (var i = 0; i < keys.length; i++)\n\t    descs.push([keys[i], convertToDescriptor(properties[keys[i]])]);\n\n\t  for (var i = 0; i < descs.length; i++)\n\t    Object.defineProperty(obj, descs[i][0], descs[i][1]);\n\n\t  return obj;\n\t}',children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object} obj The object on which to define or modify properties.\n@param {Object} props An object whose own enumerable properties constitute descriptors for the properties to be defined or modified."},{annotation:"param",type:"{Object}",name:"obj",text:"The object on which to define or modify properties.",theRestString:"@param {Object} props An object whose own enumerable properties constitute descriptors for the properties to be defined or modified."},{annotation:"param",type:"{Object}",name:"props",text:"An object whose own enumerable properties constitute descriptors for the properties to be defined or modified.",theRestString:""}],commentRange:[2611745,2614497],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},defineProperty:{annotation:"method",name:"defineProperty",text:"#Summary\nThe Object.defineProperty() method defines a new property directly on an object, or modifies an existing property on an object, and returns the object.\n\n#Syntax\nObject.defineProperty(obj, prop, descriptor)\n\n#Description\nThis method allows precise addition to or modification of a property on an object. Normal property addition through assignment creates properties which show up during property enumeration (for...in loop or Object.keys method), whose values may be changed, and which may be deleted. This method allows these extra details to be changed from their defaults.\n\nProperty descriptors present in objects come in two main flavors: data descriptors and accessor descriptors. A data descriptor is a property that has a value, which may or may not be writable. An accessor descriptor is a property described by a getter-setter pair of functions. A descriptor must be one of these two flavors; it cannot be both.\n\nBoth data and accessor descriptors are objects. They share the following optional keys:\n\n###configurable\ntrue if and only if the type of this property descriptor may be changed and if the property may be deleted from the corresponding object.\nDefaults to false.\n\n###enumerable\ntrue if and only if this property shows up during enumeration of the properties on the corresponding object.\nDefaults to false.\nA data descriptor also has the following optional keys:\n\n###value\nThe value associated with the property. Can be any valid JavaScript value (number, object, function, etc).\nDefaults to undefined.\nwritable\ntrue if and only if the value associated with the property may be changed with an assignment operator.\nDefaults to false.\nAn accessor descriptor also has the following optional keys:\n\n###get\nA function which serves as a getter for the property, or undefined if there is no getter. The function return will be used as the value of property.\nDefaults to undefined.\n\n###set\nA function which serves as a setter for the property, or undefined if there is no setter. The function will receive as only argument the new value being assigned to the property.\nDefaults to undefined.\nBear in mind that these options are not necessarily own properties so, if inherited, will be considered too. In order to ensure these defaults are preserved you might freeze the Object.prototype upfront, specify all options explicitly, or point to null as __proto__ property.\n\n\t// using __proto__\n\tObject.defineProperty(obj, 'key', {\n\t  __proto__: null, // no inherited properties\n\t  value: 'static'  // not enumerable\n\t                   // not configurable\n\t                   // not writable\n\t                   // as defaults\n\t});\n\n\t// being explicit\n\tObject.defineProperty(obj, 'key', {\n\t  enumerable: false,\n\t  configurable: false,\n\t  writable: false,\n\t  value: 'static'\n\t});\n\n\t// recycling same object\n\tfunction withValue(value) {\n\t  var d = withValue.d || (\n\t    withValue.d = {\n\t      enumerable: false,\n\t      writable: false,\n\t      configurable: false,\n\t      value: null\n\t    }\n\t  );\n\t  d.value = value;\n\t  return d;\n\t}\n\t// ... and ...\n\tObject.defineProperty(obj, 'key', withValue('static'));\n\n\t// if freeze is available, prevents the code to add\n\t// value, get, set, enumerable, writable, configurable\n\t// to the Object prototype\n\t(Object.freeze || Object)(Object.prototype);\n\n#Examples\n\nIf you want to see how to use the Object.defineProperty method with a binary-flags-like syntax, see additional examples.\n\n##Example: Creating a property\n\nWhen the property specified doesn't exist in the object, Object.defineProperty() creates a new property as described. Fields may be omitted from the descriptor, and default values for those fields are imputed. All of the Boolean-valued fields default to false. The value, get, and set fields default to undefined. A property which is defined without get/set/value/writable is called generic and is typed as a data descriptor.\n\n\tvar o = {}; // Creates a new object\n\n\t// Example of an object property added with defineProperty with a data property descriptor\n\tObject.defineProperty(o, 'a', {\n\t  value: 37,\n\t  writable: true,\n\t  enumerable: true,\n\t  configurable: true\n\t});\n\t// 'a' property exists in the o object and its value is 37\n\n\t// Example of an object property added with defineProperty with an accessor property descriptor\n\tvar bValue = 38;\n\tObject.defineProperty(o, 'b', {\n\t  get: function() { return bValue; },\n\t  set: function(newValue) { bValue = newValue; },\n\t  enumerable: true,\n\t  configurable: true\n\t});\n\to.b; // 38\n\t// 'b' property exists in the o object and its value is 38\n\t// The value of o.b is now always identical to bValue, unless o.b is redefined\n\n\t// You cannot try to mix both:\n\tObject.defineProperty(o, 'conflict', {\n\t  value: 0x9f91102,\n\t  get: function() { return 0xdeadbeef; }\n\t});\n\t// throws a TypeError: value appears only in data descriptors, get appears only in accessor descriptors\n\n##Example: Modifying a property\n\nWhen the property already exists, Object.defineProperty() attempts to modify the property according to the values in the descriptor and the object's current configuration. If the old descriptor had its configurable attribute set to false (the property is said to be non-configurable), then no attribute besides writable can be changed. In that case, it is also not possible to switch back and forth between the data and accessor property types.\n\nIf a property is non-configurable, its writable attribute can only be changed to false.\n\nA TypeError is thrown when attempts are made to change non-configurable property attributes (besides the writable attribute) unless the current and new values are the same.\n\n##Writable attribute\n\nWhen the writable property attribute is set to false, the property is said to be non-writable. It cannot be reassigned.\n\n\tvar o = {}; // Creates a new object\n\n\tObject.defineProperty(o, 'a', {\n\t  value: 37,\n\t  writable: false\n\t});\n\n\tconsole.log(o.a); // logs 37\n\to.a = 25; // No error thrown (it would throw in strict mode, even if the value had been the same)\n\tconsole.log(o.a); // logs 37. The assignment didn't work.\n\nAs seen in the example, trying to write into the non-writable property doesn't change it but doesn't throw an error either.\n\n##Enumerable attribute\n\nThe enumerable property attribute defines whether the property shows up in a for...in loop and Object.keys() or not.\n\n\tvar o = {};\n\tObject.defineProperty(o, 'a', { value: 1, enumerable: true });\n\tObject.defineProperty(o, 'b', { value: 2, enumerable: false });\n\tObject.defineProperty(o, 'c', { value: 3 }); // enumerable defaults to false\n\to.d = 4; // enumerable defaults to true when creating a property by setting it\n\n\tfor (var i in o) {\n\t  console.log(i);\n\t}\n\t// logs 'a' and 'd' (in undefined order)\n\n\tObject.keys(o); // ['a', 'd']\n\n\to.propertyIsEnumerable('a'); // true\n\to.propertyIsEnumerable('b'); // false\n\to.propertyIsEnumerable('c'); // false\n\tConfigurable attribute\n\n\tThe configurable attribute controls at the same time whether the property can be deleted from the object and whether its attributes (other than writable) can be changed.\n\n\tvar o = {};\n\tObject.defineProperty(o, 'a', {\n\t  get: function() { return 1; },\n\t  configurable: false\n\t});\n\n\tObject.defineProperty(o, 'a', { configurable: true }); // throws a TypeError\n\tObject.defineProperty(o, 'a', { enumerable: true }); // throws a TypeError\n\tObject.defineProperty(o, 'a', { set: function() {} }); // throws a TypeError (set was undefined previously)\n\tObject.defineProperty(o, 'a', { get: function() { return 1; } }); // throws a TypeError (even though the new get does exactly the same thing)\n\tObject.defineProperty(o, 'a', { value: 12 }); // throws a TypeError\n\n\tconsole.log(o.a); // logs 1\n\tdelete o.a; // Nothing happens\n\tconsole.log(o.a); // logs 1\n\n\nIf the configurable attribute of o.a had been true, none of the errors would be thrown and the property would be deleted at the end.\n\n##Example: Adding properties and default values\n\nIt's important to consider the way default values of attributes are applied. There is often a difference between simply using dot notation to assign a value and using Object.defineProperty(), as shown in the example below.\n\n\tvar o = {};\n\n\to.a = 1;\n\t// is equivalent to:\n\tObject.defineProperty(o, 'a', {\n\t  value: 1,\n\t  writable: true,\n\t  configurable: true,\n\t  enumerable: true\n\t});\n\n\n\t// On the other hand,\n\tObject.defineProperty(o, 'a', { value: 1 });\n\t// is equivalent to:\n\tObject.defineProperty(o, 'a', {\n\t  value: 1,\n\t  writable: false,\n\t  configurable: false,\n\t  enumerable: false\n\t});\n\n\n##Example: Custom Setters and Getters\n\nExample below shows how to implement a self-archiving object. When temperature property is set, the archive array gets a log entry.\n\n\tfunction Archiver() {\n\t  var temperature = null;\n\t  var archive = [];\n\n\t  Object.defineProperty(this, 'temperature', {\n\t    get: function() {\n\t      console.log('get!');\n\t      return temperature;\n\t    },\n\t    set: function(value) {\n\t      temperature = value;\n\t      archive.push({ val: temperature });\n\t    }\n\t  });\n\n\t  this.getArchive = function() { return archive; };\n\t}\n\n\tvar arc = new Archiver();\n\tarc.temperature; // 'get!'\n\tarc.temperature = 11;\n\tarc.temperature = 13;\n\tarc.getArchive(); // [{ val: 11 }, { val: 13 }]",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object} obj The object on which to define the property.\n@param {String} prop The name of the property to be defined or modified.\n@param {Object} descriptor The descriptor for the property being defined or modified."},{annotation:"param",type:"{Object}",name:"obj",text:"The object on which to define the property.",theRestString:"@param {String} prop The name of the property to be defined or modified.\n@param {Object} descriptor The descriptor for the property being defined or modified."},{annotation:"param",type:"{String}",name:"prop",text:"The name of the property to be defined or modified.",theRestString:"@param {Object} descriptor The descriptor for the property being defined or modified."},{annotation:"param",type:"{Object}",name:"descriptor",text:"The descriptor for the property being defined or modified.",theRestString:""}],commentRange:[2614509,2624003],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},freeze:{annotation:"method",name:"freeze",text:"#Summary\nThe Object.freeze() method freezes an object: that is, prevents new properties from being added to it; prevents existing properties from being removed; and prevents existing properties, or their enumerability, configurability, or writability, from being changed. In essence the object is made effectively immutable. The method returns the object being frozen.\n\n#Syntax\nObject.freeze(obj)\n\n#Description\nNothing can be added to or removed from the properties set of a frozen object. Any attempt to do so will fail, either silently or by throwing a TypeError exception (most commonly, but not exclusively, when in strict mode).\n\nValues cannot be changed for data properties. Accessor properties (getters and setters) work the same (and still give the illusion that you are changing the value). Note that values that are objects can still be modified, unless they are also frozen.\n\n#Examples\n\tvar obj = {\n\t  prop: function() {},\n\t  foo: 'bar'\n\t};\n\n\t// New properties may be added, existing properties may be changed or removed\n\tobj.foo = 'baz';\n\tobj.lumpy = 'woof';\n\tdelete obj.prop;\n\n\tvar o = Object.freeze(obj);\n\n\tassert(Object.isFrozen(obj) === true);\n\n\t// Now any changes will fail\n\tobj.foo = 'quux'; // silently does nothing\n\tobj.quaxxor = 'the friendly duck'; // silently doesn't add the property\n\n\t// ...and in strict mode such attempts will throw TypeErrors\n\tfunction fail(){\n\t  'use strict';\n\t  obj.foo = 'sparky'; // throws a TypeError\n\t  delete obj.quaxxor; // throws a TypeError\n\t  obj.sparky = 'arf'; // throws a TypeError\n\t}\n\n\tfail();\n\n\t// Attempted changes through Object.defineProperty will also throw\n\tObject.defineProperty(obj, 'ohai', { value: 17 }); // throws a TypeError\n\tObject.defineProperty(obj, 'foo', { value: 'eit' }); // throws a TypeError\n\tThe following example shows that object values in a frozen object can be mutated (freeze is shallow).\n\n\tobj = {\n\t  internal: {}\n\t};\n\n\tObject.freeze(obj);\n\tobj.internal.a = 'aValue';\n\n\tobj.internal.a // 'aValue'\n\n\t// To make obj fully immutable, freeze each object in obj.\n\t// To do so, we use this function.\n\n\tfunction deepFreeze(o) {\n\t  var prop, propKey;\n\t  Object.freeze(o); // First freeze the object.\n\t  for (propKey in o) {\n\t    prop = o[propKey];\n\t    if (!o.hasOwnProperty(propKey) || !(typeof prop === 'object') || Object.isFrozen(prop)) {\n\t      // If the object is on the prototype, not an object, or is already frozen,\n\t      // skip it. Note that this might leave an unfrozen reference somewhere in the\n\t      // object if there is an already frozen object containing an unfrozen object.\n\t      continue;\n\t    }\n\n\t    deepFreeze(prop); // Recursively call deepFreeze.\n\t  }\n\t}\n\n\tobj2 = {\n\t  internal: {}\n\t};\n\n\tdeepFreeze(obj2);\n\tobj2.internal.a = 'anotherValue';\n\tobj2.internal.a; // undefined",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param obj The object to freeze."},{annotation:"param",name:"obj",text:"The object to freeze.",theRestString:""}],commentRange:[2624014,2626860],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},getOwnPropertyDescriptor:{annotation:"method",name:"getOwnPropertyDescriptor",text:"#Summary\nThe Object.getOwnPropertyDescriptor() method returns a property descriptor for an own property (that is, one directly present on an object, not present by dint of being along an object's prototype chain) of a given object.\n\n#Syntax\n\tObject.getOwnPropertyDescriptor(obj, prop)\n\n#Description\nThis method permits examination of the precise description of a property. A property in JavaScript consists of a string-valued name and a property descriptor. Further information about property descriptor types and their attributes can be found in Object.defineProperty().\n\nA property descriptor is a record with some of the following attributes:\n\n###value\nThe value associated with the property (data descriptors only).\n###writable\ntrue if and only if the value associated with the property may be changed (data descriptors only).\n###get\nA function which serves as a getter for the property, or undefined if there is no getter (accessor descriptors only).\n###set\nA function which serves as a setter for the property, or undefined if there is no setter (accessor descriptors only).\n###configurable\ntrue if and only if the type of this property descriptor may be changed and if the property may be deleted from the corresponding object.\n###enumerable\ntrue if and only if this property shows up during enumeration of the properties on the corresponding object.\n\n#Examples\n\n\tvar o, d;\n\n\to = { get foo() { return 17; } };\n\td = Object.getOwnPropertyDescriptor(o, 'foo');\n\t// d is { configurable: true, enumerable: true, get: , set: undefined }\n\n\to = { bar: 42 };\n\td = Object.getOwnPropertyDescriptor(o, 'bar');\n\t// d is { configurable: true, enumerable: true, value: 42, writable: true }\n\n\to = {};\n\tObject.defineProperty(o, 'baz', { value: 8675309, writable: false, enumerable: false });\n\td = Object.getOwnPropertyDescriptor(o, 'baz');\n\t// d is { value: 8675309, writable: false, enumerable: false, configurable: false }",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object}obj The object in which to look for the property.\n@param {String}prop The name of the property whose description is to be retrieved.\n@returns A property descriptor of the given property if it exists on the object, undefined otherwise."},{annotation:"param",type:"{Object}",name:"obj",text:"The object in which to look for the property.",theRestString:"@param {String}prop The name of the property whose description is to be retrieved.\n@returns A property descriptor of the given property if it exists on the object, undefined otherwise."},{annotation:"param",type:"{String}",name:"prop",text:"The name of the property whose description is to be retrieved.",theRestString:"@returns A property descriptor of the given property if it exists on the object, undefined otherwise."},{annotation:"returns",name:"A",text:"property descriptor of the given property if it exists on the object, undefined otherwise.",theRestString:""}],commentRange:[2626871,2629086],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},getOwnPropertyNames:{annotation:"method",name:"getOwnPropertyNames",text:"#Summary\nThe Object.getOwnPropertyNames() method returns an array of all properties (enumerable or not) found directly upon a given object.\n\n#Syntax\nObject.getOwnPropertyNames(obj)\n\n#Description\nObject.getOwnPropertyNames returns an array whose elements are strings corresponding to the enumerable and non-enumerable properties found directly upon obj. The ordering of the enumerable properties in the array is consistent with the ordering exposed by a for...in loop (or by Object.keys) over the properties of the object. The ordering of the non-enumerable properties in the array, and among the enumerable properties, is not defined.\n\n#Examples\n##Example: Using getOwnPropertyNames\n\n\tvar arr = ['a', 'b', 'c'];\n\tprint(Object.getOwnPropertyNames(arr).sort()); // prints '0,1,2,length'\n\n\t// Array-like object\n\tvar obj = { 0: 'a', 1: 'b', 2: 'c' };\n\tprint(Object.getOwnPropertyNames(obj).sort()); // prints '0,1,2'\n\n\t// Printing property names and values using Array.forEach\n\tObject.getOwnPropertyNames(obj).forEach(function(val, idx, array) {\n\t  print(val + ' -> ' + obj[val]);\n\t});\n\t// prints\n\t// 0 -> a\n\t// 1 -> b\n\t// 2 -> c\n\n\t// non-enumerable property\n\tvar my_obj = Object.create({}, { getFoo: { value: function() { return this.foo; }, enumerable: false } });\n\tmy_obj.foo = 1;\n\n\tprint(Object.getOwnPropertyNames(my_obj).sort()); // prints 'foo,getFoo'\n\nIf you want only the enumerable properties, see Object.keys() or use a for...in loop (although note that this will return enumerable properties not found directly upon that object but also along the prototype chain for the object unless the latter is filtered with hasOwnProperty()).\n\nItems on the prototype chain are not listed:\n\n\tfunction ParentClass() {}\n\tParentClass.prototype.inheritedMethod = function() {};\n\n\tfunction ChildClass() {\n\t  this.prop = 5;\n\t  this.method = function() {};\n\t}\n\tChildClass.prototype = new ParentClass;\n\tChildClass.prototype.prototypeMethod = function() {};\n\n\talert(\n\t  Object.getOwnPropertyNames(\n\t    new ChildClass() // ['prop', 'method']\n\t  )\n\t);\n\n##Example: Get Non-Enumerable Only\n\nThis uses the Array.prototype.filter() function to remove the enumerable keys (obtained with Object.keys()) from a list of all keys (obtained with Object.getOwnPropertyNames) leaving only the non-enumerable keys.\n\n\tvar target = myObject;\n\tvar enum_and_nonenum = Object.getOwnPropertyNames(target);\n\tvar enum_only = Object.keys(target);\n\tvar nonenum_only = enum_and_nonenum.filter(function(key) {\n\t  var indexInEnum = enum_only.indexOf(key);\n\t  if (indexInEnum == -1) {\n\t    // not found in enum_only keys mean the key is non-enumerable,\n\t    // so return true so we keep this in the filter\n\t    return true;\n\t  } else {\n\t    return false;\n\t  }\n\t});\n\n\tconsole.log(nonenum_only);",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object} obj The object whose enumerable and non-enumerable own properties are to be returned."},{annotation:"param",type:"{Object}",name:"obj",text:"The object whose enumerable and non-enumerable own properties are to be returned.",theRestString:""}],commentRange:[2629097,2631996],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},isExtensible:{annotation:"method",name:"isExtensible",text:"#Summary\nThe Object.isExtensible() method determines if an object is extensible (whether it can have new properties added to it).\n\n#Syntax\n\tObject.isExtensible(obj)\n\n#Description\nObjects are extensible by default: they can have new properties added to them, and (in engines that support __proto__  their __proto__ property) can be modified. An object can be marked as non-extensible using Object.preventExtensions(), Object.seal(), or Object.freeze().\n\n#Examples\n\t// New objects are extensible.\n\tvar empty = {};\n\tassert(Object.isExtensible(empty) === true);\n\n\t// ...but that can be changed.\n\tObject.preventExtensions(empty);\n\tassert(Object.isExtensible(empty) === false);\n\n\t// Sealed objects are by definition non-extensible.\n\tvar sealed = Object.seal({});\n\tassert(Object.isExtensible(sealed) === false);\n\n\t// Frozen objects are also by definition non-extensible.\n\tvar frozen = Object.freeze({});\n\tassert(Object.isExtensible(frozen) === false);\n\tNotes\n\tIn ES5, if the argument to this method is not an object (a primitive), then it will cause a TypeError. In ES6, a non-object argument will be treated as if it was a non-extensible ordinary object, simply return false.\n\n\t> Object.isExtensible(1)\n\tTypeError: 1 is not an object // ES5 code\n\n\t> Object.isExtensible(1)\n\tfalse",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object} obj The object which should be checked.\n@return {boolean}"},{annotation:"param",type:"{Object}",name:"obj",text:"The object which should be checked.",theRestString:"@return {boolean}"},{annotation:"return",type:"{boolean}",text:"",theRestString:""}],commentRange:[2632007,2633408],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},isFrozen:{annotation:"method",name:"isFrozen",text:"#Summary\nThe Object.isFrozen() determines if an object is frozen.\n\n#Syntax\n\tObject.isFrozen(obj)\n\n#Description\nAn object is frozen if and only if it is not extensible, all its properties are non-configurable, and all its data properties (that is, properties which are not accessor properties with getter or setter components) are non-writable.\n\n#Examples\n\t// A new object is extensible, so it is not frozen.\n\tassert(Object.isFrozen({}) === false);\n\n\t// An empty object which is not extensible is vacuously frozen.\n\tvar vacuouslyFrozen = Object.preventExtensions({});\n\tassert(Object.isFrozen(vacuouslyFrozen) === true);\n\n\t// A new object with one property is also extensible, ergo not frozen.\n\tvar oneProp = { p: 42 };\n\tassert(Object.isFrozen(oneProp) === false);\n\n\t// Preventing extensions to the object still doesn't make it frozen,\n\t// because the property is still configurable (and writable).\n\tObject.preventExtensions(oneProp);\n\tassert(Object.isFrozen(oneProp) === false);\n\n\t// ...but then deleting that property makes the object vacuously frozen.\n\tdelete oneProp.p;\n\tassert(Object.isFrozen(oneProp) === true);\n\n\t// A non-extensible object with a non-writable but still configurable property is not frozen.\n\tvar nonWritable = { e: 'plep' };\n\tObject.preventExtensions(nonWritable);\n\tObject.defineProperty(nonWritable, 'e', { writable: false }); // make non-writable\n\tassert(Object.isFrozen(nonWritable) === false);\n\n\t// Changing that property to non-configurable then makes the object frozen.\n\tObject.defineProperty(nonWritable, 'e', { configurable: false }); // make non-configurable\n\tassert(Object.isFrozen(nonWritable) === true);\n\n\t// A non-extensible object with a non-configurable but still writable property also isn't frozen.\n\tvar nonConfigurable = { release: 'the kraken!' };\n\tObject.preventExtensions(nonConfigurable);\n\tObject.defineProperty(nonConfigurable, 'release', { configurable: false });\n\tassert(Object.isFrozen(nonConfigurable) === false);\n\n\t// Changing that property to non-writable then makes the object frozen.\n\tObject.defineProperty(nonConfigurable, 'release', { writable: false });\n\tassert(Object.isFrozen(nonConfigurable) === true);\n\n\t// A non-extensible object with a configurable accessor property isn't frozen.\n\tvar accessor = { get food() { return 'yum'; } };\n\tObject.preventExtensions(accessor);\n\tassert(Object.isFrozen(accessor) === false);\n\n\t// ...but make that property non-configurable and it becomes frozen.\n\tObject.defineProperty(accessor, 'food', { configurable: false });\n\tassert(Object.isFrozen(accessor) === true);\n\n\t// But the easiest way for an object to be frozen is if Object.freeze has been called on it.\n\tvar frozen = { 1: 81 };\n\tassert(Object.isFrozen(frozen) === false);\n\tObject.freeze(frozen);\n\tassert(Object.isFrozen(frozen) === true);\n\n\t// By definition, a frozen object is non-extensible.\n\tassert(Object.isExtensible(frozen) === false);\n\n\t// Also by definition, a frozen object is sealed.\n\tassert(Object.isSealed(frozen) === true);\n\n#Notes\nIn ES5, if the argument to this method is not an object (a primitive), then it will cause a TypeError. In ES6, a non-object argument will be treated as if it was a frozen ordinary object, simply return true.\n\n\t> Object.isFrozen(1)\n\tTypeError: 1 is not an object // ES5 code\n\n\t> Object.isFrozen(1)\n\ttrue                          // ES6 code",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object}obj The object which should be checked.\n@returns boolean"},{annotation:"param",type:"{Object}",name:"obj",text:"The object which should be checked.",theRestString:"@returns boolean"},{annotation:"returns",name:"boolean",text:"",theRestString:""}],commentRange:[2633413,2636853],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},isSealed:{annotation:"method",name:"isSealed",text:"#Summary\nThe Object.isSealed() method determines if an object is sealed.\n\n#Syntax\n\tObject.isSealed(obj)\n#Description\nReturns true if the object is sealed, otherwise false. An object is sealed if it is not extensible and if all its properties are non-configurable and therefore not removable (but not necessarily non-writable).\n\n#Examples\n\t// Objects aren't sealed by default.\n\tvar empty = {};\n\tassert(Object.isSealed(empty) === false);\n\n\t// If you make an empty object non-extensible, it is vacuously sealed.\n\tObject.preventExtensions(empty);\n\tassert(Object.isSealed(empty) === true);\n\n\t// The same is not true of a non-empty object, unless its properties are all non-configurable.\n\tvar hasProp = { fee: 'fie foe fum' };\n\tObject.preventExtensions(hasProp);\n\tassert(Object.isSealed(hasProp) === false);\n\n\t// But make them all non-configurable and the object becomes sealed.\n\tObject.defineProperty(hasProp, 'fee', { configurable: false });\n\tassert(Object.isSealed(hasProp) === true);\n\n\t// The easiest way to seal an object, of course, is Object.seal.\n\tvar sealed = {};\n\tObject.seal(sealed);\n\tassert(Object.isSealed(sealed) === true);\n\n\t// A sealed object is, by definition, non-extensible.\n\tassert(Object.isExtensible(sealed) === false);\n\n\t// A sealed object might be frozen, but it doesn't have to be.\n\tassert(Object.isFrozen(sealed) === true); // all properties also non-writable\n\n\tvar s2 = Object.seal({ p: 3 });\n\tassert(Object.isFrozen(s2) === false); // 'p' is still writable\n\n\tvar s3 = Object.seal({ get p() { return 0; } });\n\tassert(Object.isFrozen(s3) === true); // only configurability matters for accessor properties\n\n#Notes\n\tIn ES5, if the argument to this method is not an object (a primitive), then it will cause a TypeError. In ES6, a non-object argument will be treated as if it was a sealed ordinary object, simply return true.\n\n\t> Object.isSealed(1)\n\tTypeError: 1 is not an object // ES5 code\n\n\t> Object.isSealed(1)\n\ttrue                          // ES6 code",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object} obj The object which should be checked.\n@returns {boolean}"},{annotation:"param",type:"{Object}",name:"obj",text:"The object which should be checked.",theRestString:"@returns {boolean}"},{annotation:"returns",type:"{boolean}",text:"",theRestString:""}],commentRange:[2636859,2638941],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},keys:{annotation:"method",name:"keys",text:"#Summary\nThe Object.keys() method returns an array of a given object's own enumerable properties, in the same order as that provided by a for...in loop (the difference being that a for-in loop enumerates properties in the prototype chain as well).\n\n#Syntax\n\tObject.keys(obj)\n\n#Examples\n\tvar arr = ['a', 'b', 'c'];\n\tconsole.log(Object.keys(arr)); // console: ['0', '1', '2']\n\n\t// array like object\n\tvar obj = { 0: 'a', 1: 'b', 2: 'c' };\n\tconsole.log(Object.keys(obj)); // console: ['0', '1', '2']\n\n\t// array like object with random key ordering\n\tvar an_obj = { 100: 'a', 2: 'b', 7: 'c' };\n\tconsole.log(Object.keys(an_obj)); // console: ['2', '7', '100']\n\n\t// getFoo is property which isn't enumerable\n\tvar my_obj = Object.create({}, { getFoo: { value: function() { return this.foo; } } });\n\tmy_obj.foo = 1;\n\n\tconsole.log(Object.keys(my_obj)); // console: ['foo']\nIf you want all properties, even not enumerables, see Object.getOwnPropertyNames().\n\n#Polyfill\nTo add compatible Object.keys support in older environments that do not natively support it, copy the following snippet:\n\n\t// From https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\n\tif (!Object.keys) {\n\t  Object.keys = (function() {\n\t    'use strict';\n\t    var hasOwnProperty = Object.prototype.hasOwnProperty,\n\t        hasDontEnumBug = !({ toString: null }).propertyIsEnumerable('toString'),\n\t        dontEnums = [\n\t          'toString',\n\t          'toLocaleString',\n\t          'valueOf',\n\t          'hasOwnProperty',\n\t          'isPrototypeOf',\n\t          'propertyIsEnumerable',\n\t          'constructor'\n\t        ],\n\t        dontEnumsLength = dontEnums.length;\n\n\t    return function(obj) {\n\t      if (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {\n\t        throw new TypeError('Object.keys called on non-object');\n\t      }\n\n\t      var result = [], prop, i;\n\n\t      for (prop in obj) {\n\t        if (hasOwnProperty.call(obj, prop)) {\n\t          result.push(prop);\n\t        }\n\t      }\n\n\t      if (hasDontEnumBug) {\n\t        for (i = 0; i < dontEnumsLength; i++) {\n\t          if (hasOwnProperty.call(obj, dontEnums[i])) {\n\t            result.push(dontEnums[i]);\n\t          }\n\t        }\n\t      }\n\t      return result;\n\t    };\n\t  }());\n\t}\nPlease note that the above code includes non-enumerable keys in IE7 (and maybe IE8), when passing in an object from a different window.\n\nFor a simple browser polyfill, see Javascript - Object.keys Browser Compatibility.",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object} obj The object whose enumerable own properties are to be returned.\n@returns {Array<String>} method returns an array of a given object's own enumerable properties, in the same order as that provided by a for...in loop (the difference being that a for-in loop enumerates properties in the prototype chain as well)."},{annotation:"param",type:"{Object}",name:"obj",text:"The object whose enumerable own properties are to be returned.",theRestString:"@returns {Array<String>} method returns an array of a given object's own enumerable properties, in the same order as that provided by a for...in loop (the difference being that a for-in loop enumerates properties in the prototype chain as well)."},{annotation:"returns",type:"{Array<String>}",name:"method",text:"returns an array of a given object's own enumerable properties, in the same order as that provided by a for...in loop (the difference being that a for-in loop enumerates properties in the prototype chain as well).",theRestString:""}],commentRange:[2638949,2641789],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},preventExtensions:{annotation:"method",name:"preventExtensions",text:"#Summary\nThe Object.preventExtensions() method prevents new properties from ever being added to an object (i.e. prevents future extensions to the object).\n\n#Syntax\n\tObject.preventExtensions(obj)\n\n#Description\nAn object is extensible if new properties can be added to it. Object.preventExtensions() marks an object as no longer extensible, so that it will never have properties beyond the ones it had at the time it was marked as non-extensible. Note that the properties of a non-extensible object, in general, may still be deleted. Attempting to add new properties to a non-extensible object will fail, either silently or by throwing a TypeError (most commonly, but not exclusively, when in strict mode).\n\nObject.preventExtensions() only prevents addition of own properties. Properties can still be added to the object prototype. However, calling Object.preventExtensions() on an object will also prevent extensions on its __proto__  property.\n\nIf there is a way to turn an extensible object to a non-extensible one, there is no way to do the opposite in ECMAScript 5.\n\n#Examples\n\t// Object.preventExtensions returns the object being made non-extensible.\n\tvar obj = {};\n\tvar obj2 = Object.preventExtensions(obj);\n\tassert(obj === obj2);\n\n\t// Objects are extensible by default.\n\tvar empty = {};\n\tassert(Object.isExtensible(empty) === true);\n\n\t// ...but that can be changed.\n\tObject.preventExtensions(empty);\n\tassert(Object.isExtensible(empty) === false);\n\n\t// Object.defineProperty throws when adding a new property to a non-extensible object.\n\tvar nonExtensible = { removable: true };\n\tObject.preventExtensions(nonExtensible);\n\tObject.defineProperty(nonExtensible, 'new', { value: 8675309 }); // throws a TypeError\n\n\t// In strict mode, attempting to add new properties to a non-extensible object throws a TypeError.\n\tfunction fail() {\n\t  'use strict';\n\t  nonExtensible.newProperty = 'FAIL'; // throws a TypeError\n\t}\n\tfail();\n\n\t// EXTENSION (only works in engines supporting __proto__\n\t// (which is deprecated. Use Object.getPrototypeOf instead)):\n\t// A non-extensible object's prototype is immutable.\n\tvar fixed = Object.preventExtensions({});\n\tfixed.__proto__ = { oh: 'hai' }; // throws a TypeError\n\n#Notes\nIn ES5, if the argument to this method is not an object (a primitive), then it will cause a TypeError. In ES6, a non-object argument will be treated as if it was a non-extensible ordinary object, simply return it.\n\n\t> Object.preventExtensions(1)\n\tTypeError: 1 is not an object // ES5 code\n\n\t> Object.preventExtensions(1)\n\t1                             // ES6 code",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object}obj The object which should be made non-extensible."},{annotation:"param",type:"{Object}",name:"obj",text:"The object which should be made non-extensible.",theRestString:""}],commentRange:[2641798,2644478],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},valueOf:{annotation:"method",name:"valueOf",text:"#Summary\nThe valueOf() method returns the primitive value of the specified object.\n\n#Syntax\n\tobject.valueOf()\n#Description\nJavaScript calls the valueOf method to convert an object to a primitive value. You rarely need to invoke the valueOf method yourself; JavaScript automatically invokes it when encountering an object where a primitive value is expected.\n\nBy default, the valueOf method is inherited by every object descended from Object. Every built-in core object overrides this method to return an appropriate value. If an object has no primitive value, valueOf returns the object itself, which is displayed as:\n\n\t[object Object]\nYou can use valueOf within your own code to convert a built-in object into a primitive value. When you create a custom object, you can override Object.prototype.valueOf() to call a custom method instead of the default Object method.\n\n##Overriding valueOf for custom objects\n\nYou can create a function to be called in place of the default valueOf method. Your function must take no arguments.\n\nSuppose you have an object type myNumberType and you want to create a valueOf method for it. The following code assigns a user-defined function to the object's valueOf method:\n\n\tmyNumberType.prototype.valueOf = function() { return customPrimitiveValue; };\nWith the preceding code in place, any time an object of type myNumberType is used in a context where it is to be represented as a primitive value, JavaScript automatically calls the function defined in the preceding code.\n\nAn object's valueOf method is usually invoked by JavaScript, but you can invoke it yourself as follows:\n\n\tmyNumber.valueOf()\nNote: Objects in string contexts convert via the toString() method, which is different from String objects converting to string primitives using valueOf. All objects have a string conversion, if only \"[object type]\". But many objects do not convert to number, boolean, or function.\n#Examples\n##Example: Using valueOf\n\n\to = new Object();\n\tmyVar = o.valueOf();      // [object Object]",commentRange:[2654784,2656821],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},seal:{annotation:"method",name:"seal",text:"#Summary\nThe Object.seal() method seals an object, preventing new properties from being added to it and marking all existing properties as non-configurable. Values of present properties can still be changed as long as they are writable.\n\n#Syntax\n\tObject.seal(obj)\n\n#Description\nBy default, objects are extensible (new properties can be added to them). Sealing an object prevents new properties from being added and marks all existing properties as non-configurable. This has the effect of making the set of properties on the object fixed and immutable. Making all properties non-configurable also prevents them from being converted from data properties to accessor properties and vice versa, but it does not prevent the values of data properties from being changed. Attempting to delete or add properties to a sealed object, or to convert a data property to accessor or vice versa, will fail, either silently or by throwing a TypeError (most commonly, although not exclusively, when in strict mode code).\n\nThe prototype chain remains untouched. However, the __proto__  property is sealed as well.\n\n#Examples\n\tvar obj = {\n\t  prop: function() {},\n\t  foo: 'bar'\n\t};\n\n\t// New properties may be added, existing properties may be changed or removed.\n\tobj.foo = 'baz';\n\tobj.lumpy = 'woof';\n\tdelete obj.prop;\n\n\tvar o = Object.seal(obj);\n\n\tassert(o === obj);\n\tassert(Object.isSealed(obj) === true);\n\n\t// Changing property values on a sealed object still works.\n\tobj.foo = 'quux';\n\n\t// But you can't convert data properties to accessors, or vice versa.\n\tObject.defineProperty(obj, 'foo', { get: function() { return 'g'; } }); // throws a TypeError\n\n\t// Now any changes, other than to property values, will fail.\n\tobj.quaxxor = 'the friendly duck'; // silently doesn't add the property\n\tdelete obj.foo; // silently doesn't delete the property\n\n\t// ...and in strict mode such attempts will throw TypeErrors.\n\tfunction fail() {\n\t  'use strict';\n\t  delete obj.foo; // throws a TypeError\n\t  obj.sparky = 'arf'; // throws a TypeError\n\t}\n\tfail();\n\n\t// Attempted additions through Object.defineProperty will also throw.\n\tObject.defineProperty(obj, 'ohai', { value: 17 }); // throws a TypeError\n\tObject.defineProperty(obj, 'foo', { value: 'eit' }); // changes existing property value",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param  obj The object which should be sealed."},{annotation:"param",name:"obj",text:"The object which should be sealed.",theRestString:""}],commentRange:[2656826,2659167],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"}}},"javascript.Any":{annotation:"class",name:"Any",text:"This is an artificial type that means 'any value is valid here'",commentRange:[2659173,2659253],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2595693,2597225],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},absoluteName:"javascript.Any"},"javascript.ObjectPrototype":{annotation:"class",name:"ObjectPrototype",text:"Adapted from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/prototype\n\n#Description\nThe Object.prototype property represents the Object prototype object.\n\nAll objects in JavaScript are descended from Object; all objects inherit methods and properties from Object.prototype, although they may be overridden (except an Object with a null prototype, i.e. Object.create(null)). For example, other constructors' prototypes override the constructor property and provide their own toString() methods. Changes to the Object prototype object are propagated to all objects unless the properties and methods subject to those changes are overridden further along the prototype chain.\n\n#Examples\nSince Javascript doesn't exactly have sub-class objects, prototype is a useful workaround to make a base class object of certain functions that act as objects. For example:\n\n\tvar Person = function() {\n\t  this.canTalk = true;\n\t  this.greet = function() {\n\t    if (this.canTalk) {\n\t      console.log('Hi, I'm ' + this.name);\n\t    }\n\t  };\n\t};\n\n\tvar Employee = function(name, title) {\n\t  this.name = name;\n\t  this.title = title;\n\t  this.greet = function() {\n\t    if (this.canTalk) {\n\t      console.log(\"Hi, I'm \" + this.name + \", the \" + this.title);\n\t    }\n\t  };\n\t};\n\tEmployee.prototype = new Person();\n\n\tvar Customer = function(name) {\n\t  this.name = name;\n\t};\n\tCustomer.prototype = new Person();\n\n\tvar Mime = function(name) {\n\t  this.name = name;\n\t  this.canTalk = false;\n\t};\n\tMime.prototype = new Person();\n\n\tvar bob = new Employee('Bob', 'Builder');\n\tvar joe = new Customer('Joe');\n\tvar rg = new Employee('Red Green', 'Handyman');\n\tvar mike = new Customer('Mike');\n\tvar mime = new Mime('Mime');\n\tbob.greet();\n\tjoe.greet();\n\trg.greet();\n\tmike.greet();\n\tmime.greet();\n\nThis will output:\n\n\tHi, I'm Bob, the Builder\n\tHi, I'm Joe\n\tHi, I'm Red Green, the Handyman\n\tHi, I'm Mike",commentRange:[2659352,2661305],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.prototype.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2659352,2661305],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.prototype.js"},absoluteName:"javascript.ObjectPrototype",properties:{constructor:{annotation:"property",type:"{Function}",name:"constructor",text:"Specifies the function that creates an object's prototype.\n\n##Summary\nReturns a reference to the Object function that created the instance's prototype. Note that the value of this property is a reference to the function itself, not a string containing the function's name. The value is only read-only for primitive values such as 1, true and \"test\".\n\n##Description\n\nAll objects inherit a constructor property from their prototype:\n\n\tvar o = {};\n\to.constructor === Object; // true\n\n\tvar a = [];\n\ta.constructor === Array; // true\n\n\tvar n = new Number(3);\n\tn.constructor === Number; // true\n\n##Examples\n\n###Example: Displaying the constructor of an object\n\nThe following example creates a prototype, Tree, and an object of that type, theTree. The example then displays the constructor property for the object theTree.\n\n\tfunction Tree(name) {\n\t  this.name = name;\n\t}\n\n\tvar theTree = new Tree('Redwood');\n\tconsole.log('theTree.constructor is ' + theTree.constructor);\n\tThis example displays the following output:\n\n\ttheTree.constructor is function Tree(name) {\n\t  this.name = name;\n\t}\n\n###Example: Changing the constructor of an object\n\nThe following example shows how to modify constructor value of generic objects. Only true, 1 and \"test\" will not be affected as they have read-only native constructors. This example shows that it is not always safe to rely on the constructor property of an object.\n\n\tfunction Type () {}\n\n\tvar types = [\n\t  new Array(),\n\t  [],\n\t  new Boolean(),\n\t  true,             // remains unchanged\n\t  new Date(),\n\t  new Error(),\n\t  new Function(),\n\t  function () {},\n\t  Math,\n\t  new Number(),\n\t  1,                // remains unchanged\n\t  new Object(),\n\t  {},\n\t  new RegExp(),\n\t  /(?:)/,\n\t  new String(),\n\t  'test'            // remains unchanged\n\t];\n\tfor (var i = 0; i < types.length; i++) {\n\t  types[i].constructor = Type;\n\t  types[i] = [types[i].constructor, types[i] instanceof Type, types[i].toString()];\n\t}\n\tconsole.log(types.join('\\n'));\n\tThis example displays the following output:\n\n\tfunction Type() {},false,\n\tfunction Type() {},false,\n\tfunction Type() {},false,false\n\tfunction Boolean() {\n\t    [native code]\n\t},false,true\n\tfunction Type() {},false,Mon Sep 01 2014 16:03:49 GMT+0600\n\tfunction Type() {},false,Error\n\tfunction Type() {},false,function anonymous() {\n\n\t}\n\tfunction Type() {},false,function () {}\n\tfunction Type() {},false,[object Math]\n\tfunction Type() {},false,0\n\tfunction Number() {\n\t    [native code]\n\t},false,1\n\tfunction Type() {},false,[object Object]\n\tfunction Type() {},false,[object Object]\n\tfunction Type() {},false,/(?:)/\n\tfunction Type() {},false,/(?:)/\n\tfunction Type() {},false,\n\tfunction String() {\n\t    [native code]\n\t},false,",commentRange:[2661309,2664037],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.prototype.js"},__noSuchMethod__:{annotation:"property",type:"{Function}",name:"__noSuchMethod__",text:"Allows a function to be defined that will be executed when an undefined object member is called as a method.",commentRange:[2664045,2664312],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.prototype.js"}}},"javascript.String":{annotation:"class",name:"String",text:"#Summary\nThe String global object is a constructor for strings, or a sequence of characters.\n\n#Syntax\nString literals take the forms:\n\n\t'string text' \"string text\" \" espaol English   portugus     \"\n\nBeside regular, printable characters, special characters can be encoded using escape notation:\n\n\tCode\tOutput\n\t\\0\tthe NUL character\n\t\\'\tsingle quote\n\t\\\"\tdouble quote\n\t\\\\\tbackslash\n\t\\n\tnew line\n\t\\r\tcarriage return\n\t\\v\tvertical tab\n\t\\t\ttab\n\t\\b\tbackspace\n\t\\f\tform feed\n\t\\uXXXX\tunicode codepoint\n\t\\xXX\tthe Latin-1 character\n\nOr, using the String global object directly:\n\n\tString(thing) new String(thing)\n\n#Description\nStrings are useful for holding data that can be represented in text form. Some of the most-used operations on strings are to check their length, to build and concatenate them using the + and += string operators, checking for the existence or location of substrings with the indexOf method, or extracting substrings with the substring method.\n\n##Character access\n\nThere are two ways to access an individual character in a string. The first is the charAt method:\n\n\treturn 'cat'.charAt(1); // returns \"a\"\n\nThe other way (introduced in ECMAScript 5) is to treat the string as an array-like object, where individual characters correspond to a numerical index:\n\n\treturn 'cat'[1]; // returns \"a\"\n\nFor character access using bracket notation, attempting to delete or assign a value to these properties will not succeed. The properties involved are neither writable nor configurable. (See Object.defineProperty for more information.)\n\n##Comparing strings\n\nC developers have the strcmp() function for comparing strings. In JavaScript, you just use the less-than and greater-than operators:\n\n\tvar a = \"a\";\n\tvar b = \"b\";\n\tif (a < b) // true\n\t  print(a + \" is less than \" + b);\n\telse if (a > b)\n\t  print(a + \" is greater than \" + b);\n\telse\n\t  print(a + \" and \" + b + \" are equal.\");\n\nA similar result can be achieved using the localeCompare method inherited by String instances.\n\n##Distinction between string primitives and String objects\n\nNote that JavaScript distinguishes between String objects and primitive string values. (The same is true of Boolean and Numbers.)\n\nString literals (denoted by double or single quotes) and strings returned from String calls in a non-constructor context (i.e., without using the new keyword) are primitive strings. JavaScript automatically converts primitives to String objects, so that it's possible to use String object methods for primitive strings. In contexts where a method is to be invoked on a primitive string or a property lookup occurs, JavaScript will automatically wrap the string primitive and call the method or perform the property lookup.\n\n\tvar s_prim = \"foo\";\n\tvar s_obj = new String(s_prim);\n\n\tconsole.log(typeof s_prim); // Logs \"string\"\n\tconsole.log(typeof s_obj);  // Logs \"object\"\n\tString primitives and String objects also give different results when using eval. Primitives passed to eval are treated as source code; String objects are treated as all other objects are, by returning the object. For example:\n\n\ts1 = \"2 + 2\";               // creates a string primitive\n\ts2 = new String(\"2 + 2\");   // creates a String object\n\tconsole.log(eval(s1));      // returns the number 4\n\tconsole.log(eval(s2));      // returns the string \"2 + 2\"\n\nFor these reasons, code may break when it encounters String objects when it expects a primitive string instead, although generally authors need not worry about the distinction.\n\nA String object can always be converted to its primitive counterpart with the valueOf method.\n\n\tconsole.log(eval(s2.valueOf())); // returns the number 4\n\nNote: For another possible approach to strings in JavaScript, please read the article about StringView  a C-like representation of strings based on typed arrays.\n\n\n#String generic methods\nThe String instance methods are also available in Firefox as of JavaScript 1.6 (though not part of the ECMAScript standard) on the String object for applying String methods to any object:\n\n\tvar num = 15;\n\talert(String.replace(num, /5/, '2'));\n\nGenerics are also available on Array methods.\n\nThe following is a shim to provide support to non-supporting browsers:\n\n\t//globals define\n\t// Assumes all supplied String instance methods already present\n\t// (one may use shims for these if not available)\n\t(function () {\n\t    'use strict';\n\n\t    var i,\n\t        // We could also build the array of methods with the following, but the\n\t        //   getOwnPropertyNames() method is non-shimable:\n\t        // Object.getOwnPropertyNames(String).filter(function (methodName)\n\t        //  {return typeof String[methodName] === 'function'});\n\t        methods = [\n\t            'quote', 'substring', 'toLowerCase', 'toUpperCase', 'charAt',\n\t            'charCodeAt', 'indexOf', 'lastIndexOf', 'startsWith', 'endsWith',\n\t            'trim', 'trimLeft', 'trimRight', 'toLocaleLowerCase',\n\t            'toLocaleUpperCase', 'localeCompare', 'match', 'search',\n\t            'replace', 'split', 'substr', 'concat', 'slice'\n\t        ],\n\t        methodCount = methods.length,\n\t        assignStringGeneric = function (methodName) {\n\t            var method = String.prototype[methodName];\n\t            String[methodName] = function (arg1) {\n\t                return method.apply(arg1, Array.prototype.slice.call(arguments, 1));\n\t            };\n\t        };\n\n\t    for (i = 0; i < methodCount; i++) {\n\t        assignStringGeneric(methods[i]);\n\t    }\n\t}());\n\n#Examples\n##String conversion\n\nIt's possible to use String as a \"safer\" toString alternative, as although it still normally calls the underlying toString, it also works for null and undefined. For example:\n\n\tvar outputStrings = [];\n\tfor (let i = 0, n = inputValues.length; i < n; ++i) {\n\t  outputStrings.push(String(inputValues[i]));\n\t}",commentRange:[2664403,2670269],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js",module:{annotation:"module",name:"javascript",text:"",commentRange:[2664403,2670269],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js"},absoluteName:"javascript.String",properties:{length:{annotation:"property",type:"{Number}",name:"length",text:'#Summary\nThe length property represents the length of a string.\n\n#Syntax\n\n\tstr.length\n\n#Description\n\nThis property returns the number of code units in the string. UTF-16, the string format used by JavaScript, uses a single 16-bit code unit to represent the most common characters, but needs to use two code units for less commonly-used characters, so it\'s possible for the value returned by length to not match the actual number of characters in the string.\n\nFor an empty string, length is 0.\n\nThe static property String.length returns the value 1.\n\n#Examples\n\n\tvar x = "Mozilla";\n\tvar empty = "";\n\n\tconsole.log("Mozilla is " + x.length + " code units long");\n\t// "Mozilla is 7 code units long" \n\n\tconsole.log("The empty string is has a length of " + empty.length);\n\t // "The empty string is has a length of 0"',commentRange:[2670276,2671121],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js"}},methods:{fromCharCode:{annotation:"method",name:"fromCharCode",text:'#Summary\nThe static String.fromCharCode() method returns a string created by using the specified sequence of Unicode values.\n\n#Syntax\nString.fromCharCode(num1, ..., numN)\n#Description\nThis method returns a string and not a String object.\n\nBecause fromCharCode is a static method of String, you always use it as String.fromCharCode(), rather than as a method of a String object you created.\n\n#Examples\nExample: Using fromCharCode\n\nThe following example returns the string "ABC".\n\n\tString.fromCharCode(65,66,67)\n\n#Getting it to work with higher values\nAlthough most common Unicode values can be represented with one 16-bit number (as expected early on during JavaScript standardization) and fromCharCode() can be used to return a single character for the most common values (i.e., UCS-2 values which are the subset of UTF-16 with the most common characters), in order to deal with ALL legal Unicode values (up to 21 bits), fromCharCode() alone is inadequate. Since the higher code point characters use two (lower value) "surrogate" numbers to form a single character, String.fromCodePoint() (part of the ES6 draft) can be used to return such a pair and thus adequately represent these higher valued characters.',children:[{annotation:"return",type:"{String}",name:"returns",text:"a string created by using the specified sequence of Unicode values.}",theRestString:"@param p1,...pn A sequence of numbers that are Unicode values"},{annotation:"param",name:"p1",text:",...pn A sequence of numbers that are Unicode values",theRestString:""}],commentRange:[2671126,2672522],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js"},charAt:{annotation:"method",name:"charAt",text:"#Summary\nThe charAt() method returns the specified character from a string.\n\n#Syntax\n\tstr.charAt(index)\n#Description\nCharacters in a string are indexed from left to right. The index of the first character is 0, and the index of the last character in a string called stringName is stringName.length - 1. If the index you supply is out of range, JavaScript returns an empty string.\n\n#Examples\n##Example: Displaying characters at different locations in a string\n\nThe following example displays characters at different locations in the string \"Brave new world\":\n\n\tvar anyString = \"Brave new world\";\n\n\tconsole.log(\"The character at index 0   is '\" + anyString.charAt(0)   + \"'\");\n\tconsole.log(\"The character at index 1   is '\" + anyString.charAt(1)   + \"'\");\n\tconsole.log(\"The character at index 2   is '\" + anyString.charAt(2)   + \"'\");\n\tconsole.log(\"The character at index 3   is '\" + anyString.charAt(3)   + \"'\");\n\tconsole.log(\"The character at index 4   is '\" + anyString.charAt(4)   + \"'\");\n\tconsole.log(\"The character at index 999 is '\" + anyString.charAt(999) + \"'\");\n\nThese lines display the following:\n\n\tThe character at index 0 is 'B'\n\tThe character at index 1 is 'r'\n\tThe character at index 2 is 'a'\n\tThe character at index 3 is 'v'\n\tThe character at index 4 is 'e'\n\tThe character at index 999 is ''\n\n##Example: Getting whole characters\n\nThe following provides a means of ensuring that going through a string loop always provides a whole character, even if the string contains characters that are not in the Basic Multi-lingual Plane.\n\n\tvar str = 'A \\uD87E\\uDC04 Z'; // We could also use a non-BMP character directly\n\tfor (var i=0, chr; i < str.length; i++) {\n\t  if ((chr = getWholeChar(str, i)) === false) {\n\t    continue;\n\t  } // Adapt this line at the top of each loop, passing in the whole string and\n\t    // the current iteration and returning a variable to represent the \n\t    // individual character\n\n\t  alert(chr);\n\t}\n\n\tfunction getWholeChar (str, i) {\n\t  var code = str.charCodeAt(i);     \n\t \n\t  if (isNaN(code)) {\n\t    return ''; // Position not found\n\t  }\n\t  if (code < 0xD800 || code > 0xDFFF) {\n\t    return str.charAt(i);\n\t  }\n\n\t  // High surrogate (could change last hex to 0xDB7F to treat high private\n\t  // surrogates as single characters)\n\t  if (0xD800 <= code && code <= 0xDBFF) { \n\t    if (str.length <= (i+1))  {\n\t      throw 'High surrogate without following low surrogate';\n\t    }\n\t    var next = str.charCodeAt(i+1);\n\t      if (0xDC00 > next || next > 0xDFFF) {\n\t        throw 'High surrogate without following low surrogate';\n\t      }\n\t      return str.charAt(i)+str.charAt(i+1);\n\t  }\n\t  // Low surrogate (0xDC00 <= code && code <= 0xDFFF)\n\t  if (i === 0) {\n\t    throw 'Low surrogate without preceding high surrogate';\n\t  }\n\t  var prev = str.charCodeAt(i-1);\n\t  \n\t  // (could change last hex to 0xDB7F to treat high private\n\t  // surrogates as single characters)\n\t  if (0xD800 > prev || prev > 0xDBFF) { \n\t    throw 'Low surrogate without preceding high surrogate';\n\t  }\n\t  // We can pass over low surrogates now as the second component\n\t  // in a pair which we have already processed\n\t  return false; \n\t}\n\nIn an exclusive JavaScript 1.7+ environment (such as Firefox) which allows destructured assignment, the following is a more succinct and somewhat more flexible alternative in that it does incrementing for an incrementing variable automatically (if the character warrants it in being a surrogate pair).\n\n\tvar str = 'A\\uD87E\\uDC04Z'; // We could also use a non-BMP character directly\n\tfor (var i=0, chr; i < str.length; i++) {\n\t  [chr, i] = getWholeCharAndI(str, i);\n\t  // Adapt this line at the top of each loop, passing in the whole string and\n\t  // the current iteration and returning an array with the individual character\n\t  // and 'i' value (only changed if a surrogate pair)\n\n\t  alert(chr);\n\t}\n\n\tfunction getWholeCharAndI (str, i) {\n\t  var code = str.charCodeAt(i);\n\n\t  if (isNaN(code)) {\n\t    return ''; // Position not found\n\t  }\n\t  if (code < 0xD800 || code > 0xDFFF) {\n\t    return [str.charAt(i), i]; // Normal character, keeping 'i' the same\n\t  }\n\n\t  // High surrogate (could change last hex to 0xDB7F to treat high private \n\t  // surrogates as single characters)\n\t  if (0xD800 <= code && code <= 0xDBFF) { \n\t    if (str.length <= (i+1))  {\n\t      throw 'High surrogate without following low surrogate';\n\t    }\n\t    var next = str.charCodeAt(i+1);\n\t      if (0xDC00 > next || next > 0xDFFF) {\n\t        throw 'High surrogate without following low surrogate';\n\t      }\n\t      return [str.charAt(i)+str.charAt(i+1), i+1];\n\t  }\n\t  // Low surrogate (0xDC00 <= code && code <= 0xDFFF)\n\t  if (i === 0) {\n\t    throw 'Low surrogate without preceding high surrogate';\n\t  }\n\t  var prev = str.charCodeAt(i-1);\n\n\t  // (could change last hex to 0xDB7F to treat high private surrogates\n\t  // as single characters)\n\t  if (0xD800 > prev || prev > 0xDBFF) { \n\t    throw 'Low surrogate without preceding high surrogate';\n\t  }\n\t  // Return the next character instead (and increment)\n\t  return [str.charAt(i+1), i+1]; \n\t}\n\n\n##Example: Fixing charAt to support non-Basic-Multilingual-Plane (BMP) characters\n\nWhile the example above may be more frequently useful for those wishing to support non-BMP characters (since it does not require the caller to know where any non-BMP character might appear), in the event that one does wish, in choosing a character by index, to treat the surrogate pairs within a string as the single characters they represent, one can use the following:\n\n\tfunction fixedCharAt (str, idx) {\n\t  var ret = '';\n\t  str += '';\n\t  var end = str.length;\n\n\t  var surrogatePairs = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\t  while ((surrogatePairs.exec(str)) != null) {\n\t    var li = surrogatePairs.lastIndex;\n\t    if (li - 2 < idx) {\n\t      idx++;\n\t    } else {\n\t      break;\n\t    }\n\t  }\n\n\t  if (idx >= end || idx < 0) {\n\t    return '';\n\t  }\n\n\t  ret += str.charAt(idx);\n\n\t  if (/[\\uD800-\\uDBFF]/.test(ret) && /[\\uDC00-\\uDFFF]/.test(str.charAt(idx+1))) {\n\t    // Go one further, since one of the \"characters\" is part of a surrogate pair\n\t    ret += str.charAt(idx+1); \n\t  }\n\t  return ret;\n\t}",children:[{annotation:"param",type:"{Number}",name:"index",text:"An integer between 0 and 1-less-than the length of the string.",theRestString:"@return {String} the specified character from a string."},{annotation:"return",type:"{String}",name:"the",text:"specified character from a string.",theRestString:""}],commentRange:[2672530,2678822],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js"},charCodeAt:{annotation:"method",name:"charCodeAt",text:"#Summary\nThe charCodeAt() method returns the numeric Unicode value of the character at the given index (except for unicode codepoints > 0x10000).\n\n#Syntax\n\tstr.charCodeAt(index)\n#Description\nUnicode code points range from 0 to 1,114,111. The first 128 Unicode code points are a direct match of the ASCII character encoding. For information on Unicode, see the JavaScript Guide.\n\nNote that charCodeAt will always return a value that is less than 65,536. This is because the higher code points are represented by a pair of (lower valued) \"surrogate\" pseudo-characters which are used to comprise the real character. Because of this, in order to examine or reproduce the full character for individual characters of value 65,536 and above, for such characters, it is necessary to retrieve not only charCodeAt(i), but also charCodeAt(i+1) (as if examining/reproducing a string with two letters). See example 2 and 3 below.\n\ncharCodeAt returns NaN if the given index is not greater than 0 or is greater than the length of the string.\n\nBackward compatibilty: In historic versions (like JavaScript 1.2) the charCodeAt method returns a number indicating the ISO-Latin-1 codeset value of the character at the given index. The ISO-Latin-1 codeset ranges from 0 to 255. The first 0 to 127 are a direct match of the ASCII character set.\n\n#Examples\n##Example: Using charCodeAt\n\nThe following example returns 65, the Unicode value for A.\n\n\t\"ABC\".charCodeAt(0) // returns 65\n\n#Example: Fixing charCodeAt to handle non-Basic-Multilingual-Plane characters if their presence earlier in the string is unknown\n\nThis version might be used in for loops and the like when it is unknown whether non-BMP characters exist before the specified index position.\n\n\tfunction fixedCharCodeAt (str, idx) {\n\t    // ex. fixedCharCodeAt ('\\uD800\\uDC00', 0); // 65536\n\t    // ex. fixedCharCodeAt ('\\uD800\\uDC00', 1); // false\n\t    idx = idx || 0;\n\t    var code = str.charCodeAt(idx);\n\t    var hi, low;\n\t    \n\t    // High surrogate (could change last hex to 0xDB7F to treat high\n\t    // private surrogates as single characters)\n\t    if (0xD800 <= code && code <= 0xDBFF) {\n\t        hi = code;\n\t        low = str.charCodeAt(idx+1);\n\t        if (isNaN(low)) {\n\t            throw 'High surrogate not followed by low surrogate in fixedCharCodeAt()';\n\t        }\n\t        return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\n\t    }\n\t    if (0xDC00 <= code && code <= 0xDFFF) { // Low surrogate\n\t        // We return false to allow loops to skip this iteration since should have\n\t        // already handled high surrogate above in the previous iteration\n\t        return false;\n\t        //hi = str.charCodeAt(idx-1);\n\t        //low = code;\n\t        //return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\n\t    }\n\t    return code;\n\t}\n\n##Example: Fixing charCodeAt to handle non-Basic-Multilingual-Plane characters if their presence earlier in the string is known\n\n\tfunction knownCharCodeAt (str, idx) {\n\t    str += '';\n\t    var code,\n\t        end = str.length;\n\n\t    var surrogatePairs = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n\t    while ((surrogatePairs.exec(str)) != null) {\n\t        var li = surrogatePairs.lastIndex;\n\t        if (li - 2 < idx) {\n\t            idx++;\n\t        }\n\t        else {\n\t            break;\n\t        }\n\t    }\n\n\t    if (idx >= end || idx < 0) {\n\t        return NaN;\n\t    }\n\n\t    code = str.charCodeAt(idx);\n\n\t    var hi, low;\n\t    if (0xD800 <= code && code <= 0xDBFF) {\n\t        hi = code;\n\t        low = str.charCodeAt(idx+1);\n\t        // Go one further, since one of the \"characters\" is part of a surrogate pair\n\t        return ((hi - 0xD800) * 0x400) + (low - 0xDC00) + 0x10000;\n\t    }\n\t    return code;\n\t}",children:[{annotation:"param",type:"{Number}",name:"index",text:"An integer greater than or equal to 0 and less than the length of the string; if it is not a number, it defaults to 0.",theRestString:"@returns {Number}returns the numeric Unicode value of the character at the given index (except for unicode codepoints > 0x10000)."},{annotation:"returns",type:"{Number}",name:"returns",text:"the numeric Unicode value of the character at the given index (except for unicode codepoints > 0x10000).",theRestString:""}],commentRange:[2678827,2682821],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js"},concat:{annotation:"method",name:"concat",text:'#Summary\nThe concat() method combines the text of two or more strings and returns a new string.\n\n#Syntax\n\tstr.concat(string2, string3[, ..., stringN])\n\n#Description\nThe concat function combines the text from one or more strings and returns a new string. Changes to the text in one string do not affect the other string.\n\n#Examples\n##Example: Using concat\n\nThe following example combines strings into a new string.\n\n\tvar hello = "Hello, ";\n\tconsole.log(hello.concat("Kevin", " have a nice day.")); \n\n\t// Hello, Kevin have a nice day. \n\n#Performance\nIt is strongly recommended that assignment operators (+, +=) are used instead of the concat method. See this perfomance test.',children:[{annotation:"param",name:"string2...stringN",text:"Strings to concatenate to this string.",theRestString:"@return {String}"},{annotation:"return",type:"{String}",text:"",theRestString:""}],commentRange:[2682827,2683606],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js"},indexOf:{annotation:"method",name:"indexOf",text:'#Summary\nThe indexOf() method returns the index within the calling String object of the first occurrence of the specified value, starting the search at fromIndex. Returns -1 if the value is not found.\n\n#Syntax\n\tstr.indexOf(searchValue[, fromIndex])\n#Description\nCharacters in a string are indexed from left to right. The index of the first character is 0, and the index of the last character of a string called stringName is stringName.length - 1.\n\n\t"Blue Whale".indexOf("Blue");     // returns  0\n\t"Blue Whale".indexOf("Blute");    // returns -1\n\t"Blue Whale".indexOf("Whale", 0); // returns  5\n\t"Blue Whale".indexOf("Whale", 5); // returns  5\n\t"Blue Whale".indexOf("", 9);      // returns  9\n\t"Blue Whale".indexOf("", 10);     // returns 10\n\t"Blue Whale".indexOf("", 11);     // returns 10\n\n##Case-sensitivity\n\nThe indexOf method is case sensitive. For example, the following expression returns -1:\n\n"Blue Whale".indexOf("blue") // returns -1\n##Checking occurrences\n\nNote that \'0\' doesn\'t evaluate to true and \'-1\' doesn\'t evaluate to false. Therefore, when checking if a specific string exists within another string the correct way to check would be:\n\n"Blue Whale".indexOf("Blue") != -1; // true\n"Blue Whale".indexOf("Bloe") != -1; // false\n\n#Examples\n##Example: Using indexOf and lastIndexOf\n\nThe following example uses indexOf and lastIndexOf to locate values in the string "Brave new world".\n\n\tvar anyString = "Brave new world";\n\n\tconsole.log("The index of the first w from the beginning is " + anyString.indexOf("w"));\n\t// Displays 8\n\tconsole.log("The index of the first w from the end is " + anyString.lastIndexOf("w")); \n\t// Displays 10\n\n\tconsole.log("The index of \'new\' from the beginning is " + anyString.indexOf("new"));   \n\t// Displays 6\n\tconsole.log("The index of \'new\' from the end is " + anyString.lastIndexOf("new"));\n\t// Displays 6\n##Example: indexOf and case-sensitivity\n\nThe following example defines two string variables. The variables contain the same string except that the second string contains uppercase letters. The first log method displays 19. But because the indexOf method is case sensitive, the string "cheddar" is not found in myCapString, so the second log method displays -1.\n\n\tvar myString    = "brie, pepper jack, cheddar";\n\tvar myCapString = "Brie, Pepper Jack, Cheddar";\n\n\tconsole.log(\'myString.indexOf("cheddar") is \' + myString.indexOf("cheddar"));    \n\t// Displays 19\n\tconsole.log(\'myCapString.indexOf("cheddar") is \' + myCapString.indexOf("cheddar")); \n\t// Displays -1\n##Example: Using indexOf to count occurrences of a letter in a string\n\nThe following example sets count to the number of occurrences of the letter x in the string str:\n\n\tcount = 0;\n\tpos = str.indexOf("x");\n\n\twhile ( pos != -1 ) {\n\t   count++;\n\t   pos = str.indexOf( "x",pos + 1 );\n\t}',children:[{annotation:"param",type:"{String}",name:"searchValue",text:"A string representing the value to search for.",theRestString:"@param {Number} fromIndex The location within the calling string to start the search from. It can be any integer. The default value is 0. If fromIndex < 0 the entire string is searched (same as passing 0). If fromIndex >= str.length, the method will return -1 unless searchValue is an empty string in which case str.length is returned. \n@optional dummy @returns {Number} the index within the calling String object of the first occurrence of the specified value, starting the search at fromIndex. Returns -1 if the value is not found."},{annotation:"param",type:"{Number}",name:"fromIndex",text:"The location within the calling string to start the search from. It can be any integer. The default value is 0. If fromIndex < 0 the entire string is searched (same as passing 0). If fromIndex >= str.length, the method will return -1 unless searchValue is an empty string in which case str.length is returned.",theRestString:"@optional dummy @returns {Number} the index within the calling String object of the first occurrence of the specified value, starting the search at fromIndex. Returns -1 if the value is not found."},{annotation:"optional",name:"dummy",text:"",theRestString:"@returns {Number} the index within the calling String object of the first occurrence of the specified value, starting the search at fromIndex. Returns -1 if the value is not found."},{annotation:"returns",type:"{Number}",name:"the",text:"index within the calling String object of the first occurrence of the specified value, starting the search at fromIndex. Returns -1 if the value is not found.",theRestString:""}],commentRange:[2683611,2687034],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js"}}},"html.HTMLElement":{annotation:"class",name:"HTMLElement",text:"",children:[{annotation:"extends",name:"XMLNode",text:"#Events \n\nTaken from http://www.w3schools.com/tags/ref_eventattributes.asp\n\nHTML 4 added the ability to let events trigger actions in a browser, like starting a JavaScript when a user clicks on an element.",theRestString:""}],commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js",module:{annotation:"module",name:"html",text:"",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},absoluteName:"html.HTMLElement",events:{onafterprint:{annotation:"event",name:"onafterprint",text:"Script to be run after the document is printed",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onbeforeprint:{annotation:"event",name:"onbeforeprint",text:"Script to be run before the document is printed. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onbeforeunload:{annotation:"event",name:"onbeforeunload",text:"Script to be run when the document is about to be unloaded. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onerror:{annotation:"event",name:"onerror",text:"script\tFires when an error occurs while loading an external file. This is a Misc type Event. Comatible with HTML5.",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onhashchange:{annotation:"event",name:"onhashchange",text:"Script to be run when there has been changes to the anchor part of the a URL. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onload:{annotation:"event",name:"onload",text:"Fires after the page is finished loading. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onmessage:{annotation:"event",name:"onmessage",text:"Script to be run when the message is triggered. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onoffline:{annotation:"event",name:"onoffline",text:"Script to be run when the browser starts to work offline. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ononline:{annotation:"event",name:"ononline",text:"Script to be run when the browser starts to work online. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onpagehide:{annotation:"event",name:"onpagehide",text:"Script to be run when a user navigates away from a page. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onpageshow:{annotation:"event",name:"onpageshow",text:"Script to be run when a user navigates to a page. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onpopstate:{annotation:"event",name:"onpopstate",text:"Script to be run when the window's history changes. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onresize:{annotation:"event",name:"onresize",text:"Fires when the browser window is resized. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onstorage:{annotation:"event",name:"onstorage",text:"Script to be run when a Web Storage area is updated. Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onunload:{annotation:"event",name:"onunload",text:"Fires once a page has unloaded (or the browser window has been closed). Note: this is a Window Event Attribute, triggered for the window object (applies to the <body> tag). Compatible with HTML5",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onblur:{annotation:"event",name:"onblur",text:"Fires the moment that the element loses focus. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onchange:{annotation:"event",name:"onchange",text:"Fires the moment when the value of the element is changed. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},oncontextmenu:{annotation:"event",name:"oncontextmenu",text:"Script to be run when a context menu is triggered. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onfocus:{annotation:"event",name:"onfocus",text:"Fires the moment when the element gets focus. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},oninput:{annotation:"event",name:"oninput",text:"Script to be run when an element gets user input. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},oninvalid:{annotation:"event",name:"oninvalid",text:"Script to be run when an element is invalid. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onreset:{annotation:"event",name:"onreset",text:"Fires when the Reset button in a form is clicked. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onsearch:{annotation:"event",name:"onsearch",text:'Fires when the user writes something in a search field (for <input="search">). Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)',commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onselect:{annotation:"event",name:"onselect",text:"Fires after some text has been selected in an element. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onsubmit:{annotation:"event",name:"onsubmit",text:"script\tFires when a form is submitted. Note: this is a Form Event, triggered by actions inside a HTML form (applies to almost all HTML elements, but is most used in form elements)",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onkeydown:{annotation:"event",name:"onkeydown",text:"Fires when a user is pressing a key. This is a Keyboard Event",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onkeypress:{annotation:"event",name:"onkeypress",text:"Fires when a user presses a key. This is a Keyboard Event",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onkeyup:{annotation:"event",name:"onkeyup",text:"Fires when a user releases a key. This is a Keyboard Event",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onclick:{annotation:"event",name:"onclick",text:"script\tFires on a mouse click on the element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ondblclick:{annotation:"event",name:"ondblclick",text:"script\tFires on a mouse double-click on the element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ondrag:{annotation:"event",name:"ondrag",text:"script\tScript to be run when an element is dragged. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ondragend:{annotation:"event",name:"ondragend",text:"script\tScript to be run at the end of a drag operation. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ondragenter:{annotation:"event",name:"ondragenter",text:"script\tScript to be run when an element has been dragged to a valid drop target. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ondragleave:{annotation:"event",name:"ondragleave",text:"script\tScript to be run when an element leaves a valid drop target. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ondragover:{annotation:"event",name:"ondragover",text:"script\tScript to be run when an element is being dragged over a valid drop target. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ondragstart:{annotation:"event",name:"ondragstart",text:"script\tScript to be run at the start of a drag operation. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ondrop:{annotation:"event",name:"ondrop",text:"script\tScript to be run when dragged element is being dropped. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onmousedown:{annotation:"event",name:"onmousedown",text:"script\tFires when a mouse button is pressed down on an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onmousemove:{annotation:"event",name:"onmousemove",text:"script\tFires when the mouse pointer is moving while it is over an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onmouseout:{annotation:"event",name:"onmouseout",text:"script\tFires when the mouse pointer moves out of an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onmouseover:{annotation:"event",name:"onmouseover",text:"script\tFires when the mouse pointer moves over an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onmouseup:{annotation:"event",name:"onmouseup",text:"script\tFires when a mouse button is released over an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onmousewheel:{annotation:"event",name:"onmousewheel",text:"script\tDeprecated. Use the onwheel attribute instead. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onscroll:{annotation:"event",name:"onscroll",text:"script\tScript to be run when an element's scrollbar is being scrolled. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onwheel:{annotation:"event",name:"onwheel",text:"script\tFires when the mouse wheel rolls up or down over an element. Note: This is a Mouse Event, triggered by a mouse, or similar user actions",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},oncopy:{annotation:"event",name:"oncopy",text:"script\tFires when the user copies the content of an element. Note: this is a Clipboard Event",commentRange:[2695214,2695540],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},oncut:{annotation:"event",name:"oncut",text:"script\tFires when the user cuts the content of an element. Note: this is a Clipboard Event",commentRange:[2695214,2695540],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onpaste:{annotation:"event",name:"onpaste",text:"script\tFires when the user pastes some content in an element. Note: this is a Clipboard Event",commentRange:[2695214,2695540],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onabort:{annotation:"event",name:"onabort",text:"script\tScript to be run on abort. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},oncanplay:{annotation:"event",name:"oncanplay",text:"script\tScript to be run when a file is ready to start playing (when it has buffered enough to begin). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},oncanplaythrough:{annotation:"event",name:"oncanplaythrough",text:"script\tScript to be run when a file can be played all the way to the end without pausing for buffering. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},oncuechange:{annotation:"event",name:"oncuechange",text:"script\tScript to be run when the cue changes in a <track> element. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ondurationchange:{annotation:"event",name:"ondurationchange",text:"script\tScript to be run when the length of the media changes. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onemptied:{annotation:"event",name:"onemptied",text:"script\tScript to be run when something bad happens and the file is suddenly unavailable (like unexpectedly disconnects). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onended:{annotation:"event",name:"onended",text:'script\tScript to be run when the media has reach the end (a useful event for messages like "thanks for listening"). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).',commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onloadeddata:{annotation:"event",name:"onloadeddata",text:"script\tScript to be run when media data is loaded. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onloadedmetadata:{annotation:"event",name:"onloadedmetadata",text:"script\tScript to be run when meta data (like dimensions and duration) are loaded. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onloadstart:{annotation:"event",name:"onloadstart",text:"script\tScript to be run just as the file begins to load before anything is actually loaded. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onpause:{annotation:"event",name:"onpause",text:"script\tScript to be run when the media is paused either by the user or programmatically. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onplay:{annotation:"event",name:"onplay",text:"script\tScript to be run when the media is ready to start playing. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onplaying:{annotation:"event",name:"onplaying",text:"script\tScript to be run when the media actually has started playing. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onprogress:{annotation:"event",name:"onprogress",text:"script\tScript to be run when the browser is in the process of getting the media data. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onratechange:{annotation:"event",name:"onratechange",text:"script\tScript to be run each time the playback rate changes (like when a user switches to a slow motion or fast forward mode). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onseeked:{annotation:"event",name:"onseeked",text:"script\tScript to be run when the seeking attribute is set to false indicating that seeking has ended. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onseeking:{annotation:"event",name:"onseeking",text:"script\tScript to be run when the seeking attribute is set to true indicating that seeking is active. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onstalled:{annotation:"event",name:"onstalled",text:"script\tScript to be run when the browser is unable to fetch the media data for whatever reason. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onsuspend:{annotation:"event",name:"onsuspend",text:"script\tScript to be run when fetching the media data is stopped before it is completely loaded for whatever reason. Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ontimeupdate:{annotation:"event",name:"ontimeupdate",text:"script\tScript to be run when the playing position has changed (like when the user fast forwards to a different point in the media). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onvolumechange:{annotation:"event",name:"onvolumechange",text:'script\tScript to be run each time the volume is changed which (includes setting the volume to "mute"). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).',commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onwaiting:{annotation:"event",name:"onwaiting",text:"script\tScript to be run when the media has paused but is expected to resume (like when the media pauses to buffer more data). Note: this is a Media Event. Compatible with HTML5. triggered by medias like videos, images and audio (applies to all HTML elements, but is most common in media elements, like <audio>, <embed>, <img>, <object>, and <video>).",commentRange:[2695545,2703290],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},onshow:{annotation:"event",name:"onshow",text:"script\tFires when a <menu> element is shown as a context menu. This is a Misc type Event. Comatible with HTML5.",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},ontoggle:{annotation:"event",name:"ontoggle",text:"script\tFires when the user opens or closes the <details> element. This is a Misc type Event. Comatible with HTML5. \n\n\n//",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"}},properties:{accesskey:{annotation:"property",name:"accesskey",text:"Specifies a shortcut key to activate/focus an element. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},class:{annotation:"property",name:"class",text:"Specifies one or more classnames for an element (refers to a class in a style sheet). Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},contenteditable:{annotation:"property",name:"contenteditable",text:"Specifies whether the content of an element is editable or not. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},contextmenu:{annotation:"property",name:"contextmenu",text:"Specifies a context menu for an element. The context menu appears when a user right-clicks on the element. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},"data-":{annotation:"property",name:"data-",text:"*\tUsed to store custom data private to the page or application. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},dir:{annotation:"property",name:"dir",text:"Specifies the text direction for the content in an element. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},draggable:{annotation:"property",name:"draggable",text:"Specifies whether an element is draggable or not. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},dropzone:{annotation:"property",name:"dropzone",text:"Specifies whether the dragged data is copied, moved, or linked, when dropped. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},hidden:{annotation:"property",name:"hidden",text:"Specifies that an element is not yet, or is no longer, relevant. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},id:{annotation:"property",name:"id",text:"Specifies a unique id for an element. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},lang:{annotation:"property",name:"lang",text:"Specifies the language of the element's content. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},spellcheck:{annotation:"property",name:"spellcheck",text:"Specifies whether the element is to have its spelling and grammar checked or not. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},style:{annotation:"property",name:"style",text:"Specifies an inline CSS style for an element. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},tabindex:{annotation:"property",name:"tabindex",text:"Specifies the tabbing order of an element. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},title:{annotation:"property",name:"title",text:"Specifies extra information about an element. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},translate:{annotation:"property",name:"translate",text:"Specifies whether the content of an element should be translated or not. Note: this is an attribute that can be used on any HTML element.",commentRange:[2714928,2717304],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"}}},"html.HTMLFormElement":{annotation:"class",name:"HTMLFormElement",text:"",children:[{annotation:"extends",name:"HTMLElement",text:"",theRestString:""}],commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*",module:{annotation:"module",name:"html",text:"",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},absoluteName:"html.HTMLFormElement",properties:{accept:{annotation:"property",name:"accept",text:"file_type\tNot supported in HTML5.",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},Specifies:{annotation:"property",name:"Specifies",text:"a comma-separated list of file types  that the server accepts (that can be submitted through the file upload)",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},"accept-charset":{annotation:"property",name:"accept-charset",text:"character_set\tSpecifies the character encodings that are to be used for the form submission",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},action:{annotation:"property",name:"action",text:"URL\tSpecifies where to send the form-data when a form is submitted",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},autocomplete:{annotation:"property",name:"autocomplete",text:"on",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},off:{annotation:"property",name:"off",text:"Specifies whether a form should have autocomplete on or off",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},enctype:{annotation:"property",name:"enctype",text:"application/x-www-form-urlencoded",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},multipart:{annotation:"property",name:"multipart",text:"/form-data",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},text:{annotation:"property",name:"text",text:'/plain\tSpecifies how the form-data should be encoded when submitting it to the server (only for method="post")',commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},method:{annotation:"property",name:"method",text:"get",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},post:{annotation:"property",name:"post",text:"Specifies the HTTP method to use when sending form-data",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},name:{annotation:"property",name:"name",text:"text\tSpecifies the name of a form",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},novalidate:{annotation:"property",name:"novalidate",text:"novalidate\tSpecifies that the form should not be validated when submitted",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},target:{annotation:"property",name:"target",text:"_blank",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},_self:{annotation:"property",name:"_self",text:"",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},_parent:{annotation:"property",name:"_parent",text:"",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},_top:{annotation:"property",name:"_top",text:"Specifies where to display the response that is received after submitting the form",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"}}},"html.HTMLEvent":{annotation:"class",name:"HTMLEvent",text:"(https://developer.mozilla.org/en-US/docs/Web/API/Event)\n\nThe Event interface represents any event of the DOM. It contains common properties and methods to any event.",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js",module:{annotation:"module",name:"html",text:"",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},absoluteName:"html.HTMLEvent",constructors:[{annotation:"constructor",name:"n",text:"Creates an Event object.",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js",params:[],throws:[]}],properties:{bubbles:{annotation:"property",type:"{Boolean}",name:"bubbles",text:"A boolean indicating whether the event bubbles up through the DOM or not.",children:[{annotation:"readOnly",name:"dummy",text:"",theRestString:""}],commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},cancelable:{annotation:"property",type:"{Boolean}",name:"cancelable",text:"A boolean indicating whether the event is cancelable.",children:[{annotation:"readOnly",name:"dummy",text:"",theRestString:""}],commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},currentTarget:{annotation:"property",type:"{HTMLElement}",name:"currentTarget",text:"Identifies the current target for the event, as the event traverses the DOM. It always refers to the element the event handler has been attached to as opposed to event.target which identifies the element on which the event occurred.\n\n##Example\n\nevent.currentTarget is interesting to use when attaching the same event handler to several elements.\n\n\tfunction hide(e){\n\t  e.currentTarget.style.visibility = \"hidden\";\n\t  // When this function is used as an event handler: this === e.currentTarget\n\t}\n\n\tvar ps = document.getElementsByTagName('p');\n\n\tfor(var i = 0; i < ps.length; i++){\n\t  ps[i].addEventListener('click', hide, false);\n\t}\n\n\t// click around and make paragraphs disappear\n\n##Browser compatibility\nOn Internet Explorer 6 through 8, the event model is different. Event listeners are attached with the non-standard element.attachEvent method. In this model, there is no equivalent to event.currentTarget and this is the global object. One solution to emulate the event.currentTarget feature is to wrap your handler in a function calling the handler using Function.prototype.call with the element as a first argument. This way, this will be the expected value.",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},defaultPrevented:{annotation:"property",type:"{Boolean}",name:"defaultPrevented",text:"Indicates whether or not event.preventDefault() has been called on the event.",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},eventPhase:{annotation:"property",type:"{Number}",name:"eventPhase",text:'##Summary\n\nIndicates which phase of the event flow is currently being evaluated.\n\n##Syntax\n\n\tvar phase = event.eventPhase;\n\t\nReturns an integer value which specifies the current evaluation phase of the event flow; possible values are listed in Event phase constants.\n\n##Event phase constants\n\nThese values describe which phase the event flow is currently being evaluated.\n\n\tConstant\tValue\tDescription\n\tEvent.NONE\t0\tNo event is being processed at this time.\n\tEvent.CAPTURING_PHASE\t1\tThe event is being propagated through the target\'s ancestor objects. This process starts with the Window, then Document, then the HTMLHtmlElement, and so on through the elements until the target\'s parent is reached. Event listeners registered for capture mode when EventTarget.addEventListener() was called are triggered during this phase.\n\tEvent.AT_TARGET\t2\tThe event has arrived at the event\'s target. Event listeners registered for this phase are called at this time. If Event.bubbles is true, processing the event is finished after this phase is complete.\n\tEvent.BUBBLING_PHASE\t3\tThe event is propagating back up through the target\'s ancestors in reverse order, starting with the parent, and eventually reaching the containing Window. This is known as bubbling, and occurs only if Event.bubbles is true. Event listeners registered for this phase are triggered during this process.\n\tFor more details, see section 3.1, Event dispatch and DOM event flow, of the DOM Level 3 Events specification.\n\n##Example\n\n\t<!DOCTYPE html>\n\t<html>\n\t<head> <title>Event Propagation</title>\n\t  <style type="text/css">\n\t    div { margin: 20px; padding: 4px; border: thin black solid; }\n\t    #divInfo { margin: 18px; padding: 8px; background-color:white; font-size:80%; }\n\t  </style>\n\t</head>\n\t<body>\n\t  <h4>Event Propagation Chain</h4>\n\t  <ul>\n\t    <li>Click \'d1\'</li>\n\t    <li>Analyse event propagation chain</li>\n\t    <li>Click next div and repeat the experience</li>\n\t    <li>Change Capturing mode</li>\n\t    <li>Repeat the experience</li>\n\t  </ul>\n\t  <input type="checkbox" id="chCapture" /> Use Capturing\n\t  <div id="d1">d1\n\t    <div id="d2">d2\n\t      <div id="d3">d3\n\t        <div id="d4">d4</div>\n\t      </div>\n\t    </div>\n\t  </div>\n\t  <div id="divInfo"></div>\n\t  <script>\n\t    var\n\t      clear = false,\n\t      divInfo = null,\n\t      divs = null,\n\t      useCapture = false;\n\t  window.onload = function ()\n\t  {\n\t    divInfo = document.getElementById("divInfo");\n\t    divs = document.getElementsByTagName(\'div\');\n\t    chCapture = document.getElementById("chCapture");\n\t    chCapture.onclick = function ()\n\t    {\n\t      RemoveListeners();\n\t      AddListeners();\n\t    }\n\t    Clear();\n\t    AddListeners();\n\t  }\n\t  function RemoveListeners()\n\t  {\n\t    for (var i = 0; i < divs.length; i++)\n\t    {\n\t      var d = divs[i];\n\t      if (d.id != "divInfo")\n\t      {\n\t        d.removeEventListener("click", OnDivClick, true);\n\t        d.removeEventListener("click", OnDivClick, false);\n\t      }\n\t    }\n\t  }\n\t  function AddListeners()\n\t  {\n\t    for (var i = 0; i < divs.length; i++)\n\t    {\n\t      var d = divs[i];\n\t      if (d.id != "divInfo")\n\t      {\n\t        d.addEventListener("click", OnDivClick, false);\n\t        if (chCapture.checked)\n\t          d.addEventListener("click", OnDivClick, true);\n\t        d.onmousemove = function () { clear = true; };\n\t      }\n\t    }\n\t  }\n\t  function OnDivClick(e)\n\t  {\n\t    if (clear)\n\t    {\n\t      Clear();\n\t      clear = false;\n\t    }\n\n\t    if (e.eventPhase == 2)\n\t      e.currentTarget.style.backgroundColor = \'red\';\n\t   \n\t    var level =\n\t        e.eventPhase == 0 ? "none" :\n\t        e.eventPhase == 1 ? "capturing" :\n\t        e.eventPhase == 2 ? "target" :\n\t        e.eventPhase == 3 ? "bubbling" : "error";\n\t    divInfo.innerHTML += e.currentTarget.id + "; eventPhase: " + level + "<br/>";\n\t  }\n\t  function Clear()\n\t  {\n\t    for (var i = 0; i < divs.length; i++)\n\t    {\n\t      if (divs[i].id != "divInfo")\n\t        divs[i].style.backgroundColor = (i & 1) ? "#f6eedb" : "#cceeff";\n\t    }\n\t    divInfo.innerHTML = \'\';\n\t  }\n\t  <\/script>\n\t</body>\n\t</html>',commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},target:{annotation:"property",type:"{HTMLElement}",name:"target",text:"A reference to the target to which the event was originally dispatched.",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},timeStamp:{annotation:"property",type:"{Date}",name:"timeStamp",text:"The time that the event was created.",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},type:{annotation:"property",type:"{String}",name:"type",text:"The name of the event (case-insensitive).",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},isTrusted:{annotation:"property",type:"{Boolean}",name:"isTrusted",text:"Indicates whether or not the event was initiated by the browser (after a user click for instance) or by a script (using an event creation method, like event.initEvent)",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"}},methods:{preventDefault:{annotation:"method",name:"preventDefault",text:'##Summary\nCancels the event if it is cancelable, without stopping further propagation of the event.\n\n##Syntax\n\n\tevent.preventDefault();\n\n##Example\n\nToggling a checkbox is the default action of clicking on a checkbox. This example demonstrates how to prevent that from happening:\n\n\t<!DOCTYPE html>\n\t<html>\n\t<head>\n\t<title>preventDefault example</title>\n\n\t<script>\n\tfunction stopDefAction(evt) {\n\t    evt.preventDefault();\n\t}\n\t    \n\tdocument.getElementById(\'my-checkbox\').addEventListener(\n\t    \'click\', stopDefAction, false\n\t);\n\t<\/script>\n\t</head>\n\n\t<body>\n\n\t<p>Please click on the checkbox control.</p>\n\n\t<form>\n\t    <input type="checkbox" id="my-checkbox" />\n\t    <label for="my-checkbox">Checkbox</label>\n\t</form>\n\n\t</body>\n\t</html>\n\nYou can see preventDefault in action here.\n\nThe following example demonstrates how invalid text input can be stopped from reaching the input field with preventDefault().\n\n\t<!DOCTYPE html>\n\t<html>\n\t<head>\n\t<title>preventDefault example</title>\n\n\t<script>\n\tfunction Init () {\n\t    var myTextbox = document.getElementById(\'my-textbox\');\n\t    myTextbox.addEventListener( \'keypress\', checkName, false );\n\t}\n\n\tfunction checkName(evt) {\n\t    var charCode = evt.charCode;\n\t    if (charCode != 0) {\n\t        if (charCode < 97 || charCode > 122) {\n\t            evt.preventDefault();\n\t            alert(\n\t                "Please use lowercase letters only."\n\t                + "\\n" + "charCode: " + charCode + "\\n"\n\t            );\n\t        }\n\t    }\n\t}\n\t<\/script> \n\t</head> \n\t<body onload="Init ()"> \n\t    <p>Please enter your name using lowercase letters only.</p> \n\t    <form> \n\t        <input type="text" id="my-textbox" /> \n\t    </form> \n\t</body> \n\t</html>\n\n##Notes\nCalling preventDefault during any stage of event flow cancels the event, meaning that any default action normally taken by the implementation as a result of the event will not occur.\n\nNote: As of Gecko 6.0, calling preventDefault() causes the event.defaultPrevented property\'s value to become true.\nYou can use event.cancelable to check if the event is cancelable. Calling preventDefault for a non-cancelable event has no effect.\n\npreventDefault doesn\'t stop further propagation of the event through the DOM. event.stopPropagation should be used for that.',commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},stopImmediatePropagation:{annotation:"method",name:"stopImmediatePropagation",text:"Prevents other listeners of the same event from being called.For this particular event, no other listener will be called. Neither those attached on the same element, nor those attached on elements which will be traversed later (in capture phase, for instance)\n\n##Syntax\n\t\n\tevent.stopImmediatePropagation();\n\n##Notes\n\nIf several listeners are attached to the same element for the same event type, they are called in order in which they have been added. If during one such call, event.stopImmediatePropagation() is called, no remaining listeners will be called.",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},stopPropagation:{annotation:"method",name:"stopPropagation",text:"Prevents further propagation of the current event.\n\n##Syntax\n\n\tevent.stopPropagation();\n\n##Example\n\nSee Example 5: Event Propagation in the Examples chapter for a more detailed example of this method and event propagation in the DOM.\n\n##Notes\n\nSee the DOM specification for the explanation of event flow. (The DOM Level 3 Events draft has an illustration.)\n\npreventDefault is a complementary method that can be used to prevent the default action of the event from happening.",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"}}},"html.HTMLMouseEvent":{annotation:"class",name:"HTMLMouseEvent",text:"(form https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent)",children:[{annotation:"extends",name:"DOMEvent",text:"",theRestString:""}],commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js",module:{annotation:"module",name:"html",text:"",commentRange:[2705002,2714834],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},absoluteName:"html.HTMLMouseEvent"},"Backbone.Backbone.Collection":{annotation:"class",name:"Backbone.Collection",text:'Collections are ordered sets of models. You can bind "change" events to be notified when any model in the collection has been modified, listen for "add" and "remove" events, fetch the collection from the server, and use a full suite of Underscore.js methods.\n\nAny event that is triggered on a model in a collection will also be triggered on the collection directly, for convenience. This allows you to listen for changes to specific attributes in any model in a collection, for example: documents.on("change:selected", ...)',commentRange:[2717406,2718271],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js",module:{annotation:"module",name:"Backbone",text:"\n\n#About\nBackbone.js gives structure to web applications by providing models with key-value binding and custom events, collections with a rich API of enumerable functions, views with declarative event handling, and connects it all to your existing API over a RESTful JSON interface.\n\nThe project is hosted on GitHub, and the annotated source code is available, as well as an online test suite, an example application, a list of tutorials and a long list of real-world projects that use Backbone. Backbone is available for use under the MIT software license.\n\nYou can report bugs and discuss features on the GitHub issues page, on Freenode IRC in the #documentcloud channel, post questions to the Google Group, add pages to the wiki or send tweets to",commentRange:[2717406,2718271],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js"},absoluteName:"Backbone.Backbone.Collection",methods:{extend:{annotation:"method",name:"extend",text:"To create a Collection class of your own, extend Backbone.Collection, providing instance properties, as well as optional classProperties to be attached directly to the collection's constructor function.",children:[{annotation:"param",type:"{Object}",name:"properties",text:"",theRestString:"@param {Object} classProperties Optional"},{annotation:"param",type:"{Object}",name:"classProperties",text:"Optional",theRestString:""}],commentRange:[2717406,2718271],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js"},model:{annotation:"method",name:"model",text:"Override this property to specify the model class that the collection contains. If defined, you can pass raw attributes objects (and arrays) to add, create, and reset, and the attributes will be converted into a model of the proper type.\n\n\tvar Library = Backbone.Collection.extend({\n\t  model: Book\n\t});\nA collection can also contain polymorphic models by overriding this property with a constructor that returns a model.\n\n\tvar Library = Backbone.Collection.extend({\n\n\t  model: function(attrs, options) {\n\t    if (condition) {\n\t      return new PublicDocument(attrs, options);\n\t    } else {\n\t      return new PrivateDocument(attrs, options);\n\t    }\n\t  }\n\t});",children:[{annotation:"param",type:"{Object}",name:"attrs",text:"",theRestString:"@param {Object} options"},{annotation:"param",type:"{Object}",name:"options",text:"",theRestString:""}],commentRange:[2718274,2718998],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js"},toJSON:{annotation:"method",name:"toJSON",text:'Return an array containing the attributes hash of each model (via toJSON) in the collection. This can be used to serialize and persist the collection as a whole. The name of this method is a bit confusing, because it conforms to JavaScript\'s JSON API.\n\n\tvar collection = new Backbone.Collection([\n\t  {name: "Tim", age: 5},\n\t  {name: "Ida", age: 26},\n\t  {name: "Rob", age: 55}\n\t]);\n\n\talert(JSON.stringify(collection));',children:[{annotation:"returns",type:"{Array}",text:"",theRestString:""}],commentRange:[2719855,2720311],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js"},sync:{annotation:"method",name:"sync",text:"synccollection.sync(method, collection, [options]) \nUses Backbone.sync to persist the state of a collection to the server. Can be overridden for custom behavior.",children:[{annotation:"param",type:"{String}",name:"method",text:"",theRestString:"@param {Backbone.Collection} collection\n@param {Object} options optional"},{annotation:"param",type:"{Backbone.Collection}",name:"collection",text:"",theRestString:"@param {Object} options optional"},{annotation:"param",type:"{Object}",name:"options",text:"optional",theRestString:""}],commentRange:[2720313,2720592],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js"}},constructors:[{annotation:"constructor",name:"n",text:"When creating a Collection, you may choose to pass in the initial array of models. The collection's comparator may be included as an option. Passing false as the comparator option will prevent sorting. If you define an initialize function, it will be invoked when the collection is created. There are a couple of options that, if provided, are attached to the collection directly: model and comparator.\n\n\tvar tabs = new TabSet([tab1, tab2, tab3]);\n\tvar spaces = new Backbone.Collection([], {\n\t  model: Space\n\t});",children:[{annotation:"param",type:"{Array}",name:"models",text:"optional",theRestString:"@param {Object} options optional"},{annotation:"param",type:"{Object}",name:"options",text:"optional",theRestString:""}],commentRange:[2719002,2719600],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js",params:[{annotation:"param",type:"{Array}",name:"models",text:"optional",theRestString:"@param {Object} options optional"},{annotation:"param",type:"{Object}",name:"options",text:"optional",theRestString:""}],throws:[]}],properties:{models:{annotation:"property",type:"{Array}",name:"models",text:"Raw access to the JavaScript array of models inside of the collection. Usually you'll want to use get, at, or the Underscore methods to access model objects, but occasionally a direct reference to the array is desired.",commentRange:[2719603,2719852],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js"}}},"Backbone.Backbone.Events":{annotation:"class",name:"Backbone.Events",text:'Events is a module that can be mixed in to any object, giving the object the ability to bind and trigger custom named events. Events do not have to be declared before they are bound, and may take passed arguments. For example:\n\n\tvar object = {};\n\n\t_.extend(object, Backbone.Events);\n\n\tobject.on("alert", function(msg) {\n\t  alert("Triggered " + msg);\n\t});\n\n\tobject.trigger("alert", "an event");\n\t\nFor example, to make a handy event dispatcher that can coordinate events among different areas of your application: var dispatcher = _.clone(Backbone.Events)\n\n\n#Catalog of Events \nHere\'s the complete list of built-in Backbone events, with arguments. You\'re also free to trigger your own events on Models, Collections and Views as you see fit. The Backbone object itself mixes in Events, and can be used to emit any global events that your application needs.\n\n\t"add" (model, collection, options)  when a model is added to a collection.\n\t"remove" (model, collection, options)  when a model is removed from a collection.\n\t"reset" (collection, options)  when the collection\'s entire contents have been replaced.\n\t"sort" (collection, options)  when the collection has been re-sorted.\n\t"change" (model, options)  when a model\'s attributes have changed.\n\t"change:[attribute]" (model, value, options)  when a specific attribute has been updated.\n\t"destroy" (model, collection, options)  when a model is destroyed.\n\t"request" (model_or_collection, xhr, options)  when a model or collection has started a request to the server.\n\t"sync" (model_or_collection, resp, options)  when a model or collection has been successfully synced with the server.\n\t"error" (model_or_collection, resp, options)  when model\'s or collection\'s request to remote server has failed.\n\t"invalid" (model, error, options)  when a model\'s validation fails on the client.\n\t"route:[name]" (params)  Fired by the router when a specific route is matched.\n\t"route" (route, params)  Fired by the router when any route has been matched.\n\t"route" (router, route, params)  Fired by history when any route has been matched.\n\t"all"  this special event fires for any triggered event, passing the event name as the first argument.\nGenerally speaking, when calling a function that emits an event (model.set, collection.add, and so on...), if you\'d like to prevent the event from being triggered, you may pass {silent: true} as an option. Note that this is rarely, perhaps even never, a good idea. Passing through a specific flag in the options for your event callback to look at, and choose to ignore, will usually work out better.',commentRange:[2720711,2723332],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js",module:{annotation:"module",name:"Backbone",text:"",commentRange:[2720594,2720709],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js"},absoluteName:"Backbone.Backbone.Events",methods:{bind:{annotation:"method",name:"bind",text:'Alias on\n\nBind a callback function to an object. The callback will be invoked whenever the event is fired. If you have a large number of different events on a page, the convention is to use colons to namespace them: "poll:start", or "change:selection". The event string may also be a space-delimited list of several events...\n\n\tbook.on("change:title change:author", ...);\n\nTo supply a context value for this when the callback is invoked, pass the optional third argument: model.on(\'change\', this.render, this)\n\nCallbacks bound to the special "all" event will be triggered when any event occurs, and are passed the name of the event as the first argument. For example, to proxy all events from one object to another:\n\n\tproxy.on("all", function(eventName) {\n\t  object.trigger(eventName);\n\t});\nAll Backbone event methods also support an event map syntax, as an alternative to positional arguments:\n\n\tbook.on({\n\t  "change:title": titleView.update,\n\t  "change:author": authorPane.update,\n\t  "destroy": bookView.remove\n\t});',children:[{annotation:"param",type:"{String}",name:"event",text:"",theRestString:"@param {Function} callback\n@param {Object} context optional"},{annotation:"param",type:"{Function}",name:"callback",text:"",theRestString:"@param {Object} context optional"},{annotation:"param",type:"{Object}",name:"context",text:"optional",theRestString:""}],commentRange:[2723336,2724456],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js"},off:{annotation:"method",name:"off",text:'Remove a previously-bound callback function from an object. If no context is specified, all of the versions of the callback with different contexts will be removed. If no callback is specified, all callbacks for the event will be removed. If no event is specified, callbacks for all events will be removed.\n\n\t// Removes just the `onChange` callback.\n\tobject.off("change", onChange);\n\n\t// Removes all "change" callbacks.\n\tobject.off("change");\n\n\t// Removes the `onChange` callback for all events.\n\tobject.off(null, onChange);\n\n\t// Removes all callbacks for `context` for all events.\n\tobject.off(null, null, context);\n\n\t// Removes all callbacks on `object`.\n\tobject.off();\nNote that calling model.off(), for example, will indeed remove all events on the model  including events that Backbone uses for internal bookkeeping.',commentRange:[2724460,2725299],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js"},trigger:{annotation:"method",name:"trigger",text:"Trigger callbacks for the given event, or space-delimited list of events. Subsequent arguments to trigger will be passed along to the event callbacks.",commentRange:[2725303,2725474],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js"},once:{annotation:"method",name:"once",text:'Just like on, but causes the bound callback to only fire once before being removed. Handy for saying "the next time that X happens, do this".',children:[{annotation:"param",type:"{String}",name:"event",text:"",theRestString:"@param {Function} callback"},{annotation:"param",type:"{Function}",name:"callback",text:"",theRestString:""}],commentRange:[2725478,2725685],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js"},listenTo:{annotation:"method",name:"listenTo",text:"Tell an object to listen to a particular event on an other object. The advantage of using this form, instead of other.on(event, callback, object), is that listenTo allows the object to keep track of the events, and they can be removed all at once later on. The callback will always be called with object as context.\n\n\tview.listenTo(model, 'change', view.render);",children:[{annotation:"param",type:"{Backbone.Events}",name:"other",text:"",theRestString:"@param {String} event\n@param {Function} calback"},{annotation:"param",type:"{String}",name:"event",text:"",theRestString:"@param {Function} calback"},{annotation:"param",type:"{Function}",name:"calback",text:"",theRestString:""}],commentRange:[2725688,2726154],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js"},stopListening:{annotation:"method",name:"stopListening",text:"Tell an object to stop listening to events. Either call stopListening with no arguments to have the object remove all of its registered callbacks ... or be more precise by telling it to remove just the events it's listening to on a specific object, or a specific event, or just a specific callback.\n\n\tview.stopListening();\n\n\tview.stopListening(model);",children:[{annotation:"param",type:"{Backbone.Events}",name:"other",text:"optional",theRestString:"@param {String} event optional\n@param {Function} calback optional"},{annotation:"param",type:"{String}",name:"event",text:"optional",theRestString:"@param {Function} calback optional"},{annotation:"param",type:"{Function}",name:"calback",text:"optional",theRestString:""}],commentRange:[2726158,2726647],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js"},listenToOnce:{annotation:"method",name:"listenToOnce",text:"Just like listenTo, but causes the bound callback to only fire once before being removed.",commentRange:[2726650,2726765],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js"}}},"Backbone.Backbone.History":{annotation:"class",name:"Backbone.History",text:"*History* serves as a global router (per frame) to handle hashchange events or pushState, match the appropriate route, and trigger callbacks. You shouldn't ever have to create one of these yourself since Backbone.history already contains one.\n\n*pushState support* exists on a purely opt-in basis in Backbone. Older browsers that don't support pushState will continue to use hash-based URL fragments, and if a hash URL is visited by a pushState-capable browser, it will be transparently upgraded to the true URL. Note that using real URLs requires your web server to be able to correctly render those pages, so back-end changes are required as well. For example, if you have a route of /documents/100, your web server must be able to serve that page, if the browser visits that URL directly. For full search-engine crawlability, it's best to have the server generate the complete HTML for the page ... but if it's a web application, just rendering the same content you would have for the root URL, and filling in the rest with Backbone Views and JavaScript works fine.",commentRange:[2726864,2729417],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-history.js",module:{annotation:"module",name:"Backbone",text:"",commentRange:[2726864,2729417],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-history.js"},absoluteName:"Backbone.Backbone.History",methods:{start:{annotation:"method",name:"start",text:"When all of your Routers have been created, and all of the routes are set up properly, call Backbone.history.start() to begin monitoring hashchange events, and dispatching routes. Subsequent calls to Backbone.history.start() will throw an error, and Backbone.History.started is a boolean value indicating whether it has already been called.\n\nTo indicate that you'd like to use HTML5 pushState support in your application, use Backbone.history.start({pushState: true}). If you'd like to use pushState, but have browsers that don't support it natively use full page refreshes instead, you can add {hashChange: false} to the options.\n\nIf your application is not being served from the root url / of your domain, be sure to tell History where the root really is, as an option: Backbone.history.start({pushState: true, root: \"/public/search/\"})\n\nWhen called, if a route succeeds with a match for the current URL, Backbone.history.start() returns true. If no defined route matches the current URL, it returns false.\n\nIf the server has already rendered the entire page, and you don't want the initial route to trigger when starting History, pass silent: true.\n\nBecause hash-based history in Internet Explorer relies on an <iframe>, be sure to only call start() after the DOM is ready.\n\n\t$(function(){\n\t  new WorkspaceRouter();\n\t  new HelpPaneRouter();\n\t  Backbone.history.start({pushState: true});\n\t});",children:[{annotation:"param",type:"{Object}",name:"options",text:"",theRestString:""}],commentRange:[2726864,2729417],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-history.js"}}},"Backbone.Backbone.Model":{annotation:"class",name:"Backbone.Model",text:"Models are the heart of any JavaScript application, containing the interactive data as well as a large part of the logic surrounding it: conversions, validations, computed properties, and access control. You extend Backbone.Model with your domain-specific methods, and Model provides a basic set of functionality for managing changes.\n\nThe following is a contrived example, but it demonstrates defining a model with a custom method, setting an attribute, and firing an event keyed to changes in that specific attribute. After running this code once, sidebar will be available in your browser's console, so you can play around with it.\n\n\tvar Sidebar = Backbone.Model.extend({\n\t  promptColor: function() {\n\t    var cssColor = prompt(\"Please enter a CSS color:\");\n\t    this.set({color: cssColor});\n\t  }\n\t});\n\n\twindow.sidebar = new Sidebar;\n\n\tsidebar.on('change:color', function(model, color) {\n\t  $('#sidebar').css({background: color});\n\t});\n\n\tsidebar.set({color: 'white'});\n\n\tsidebar.promptColor();",children:[{annotation:"extends",name:"Backbone.Events",text:"",theRestString:""}],commentRange:[2729514,2730585],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js",module:{annotation:"module",name:"Backbone",text:"",commentRange:[2729514,2730585],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},absoluteName:"Backbone.Backbone.Model",methods:{extend:{annotation:"method",name:"extend",text:"To create a Model class of your own, you extend Backbone.Model and provide instance properties, as well as optional classProperties to be attached directly to the constructor function.\n\nextend correctly sets up the prototype chain, so subclasses created with extend can be further extended and subclassed as far as you like.\n\n\tvar Note = Backbone.Model.extend({\n\n\t  initialize: function() { ... },\n\n\t  author: function() { ... },\n\n\t  coordinates: function() { ... },\n\n\t  allowedToEdit: function(account) {\n\t    return true;\n\t  }\n\n\t});\n\n\tvar PrivateNote = Note.extend({\n\n\t  allowedToEdit: function(account) {\n\t    return account.owns(this);\n\t  }\n\n\t});\n\n#super\n\nBrief aside on super: JavaScript does not provide a simple way to call super  the function of the same name defined higher on the prototype chain. If you override a core function like set, or save, and you want to invoke the parent object's implementation, you'll have to explicitly call it, along these lines:\n\n\tvar Note = Backbone.Model.extend({\n\t  set: function(attributes, options) {\n\t    Backbone.Model.prototype.set.apply(this, arguments);\n\t    ...\n\t  }\n\t});",children:[{annotation:"static",name:"dummy",text:"",theRestString:"@param {Object} properties\n@param {Object} classProperties"},{annotation:"param",type:"{Object}",name:"properties",text:"",theRestString:"@param {Object} classProperties"},{annotation:"param",type:"{Object}",name:"classProperties",text:"",theRestString:""}],commentRange:[2730590,2731807],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},initialize:{annotation:"method",name:"initialize",text:'Use like this:\n\n\tnew Model([attributes], [options]) \n\nWhen creating an instance of a model, you can pass in the initial values of the attributes, which will be set on the model. If you define an initialize function, it will be invoked when the model is created.\n\n\tnew Book({\n\t  title: "One Thousand and One Nights",\n\t  author: "Scheherazade"\n\t});\nIn rare cases, if you\'re looking to get fancy, you may want to override constructor, which allows you to replace the actual constructor function for your model.\n\n\tvar Library = Backbone.Model.extend({\n\t  constructor: function() {\n\t    this.books = new Books();\n\t    Backbone.Model.apply(this, arguments);\n\t  },\n\t  parse: function(data, options) {\n\t    this.books.reset(data.books);\n\t    return data.library;\n\t  }\n\t});\nIf you pass a {collection: ...} as the options, the model gains a collection property that will be used to indicate which collection the model belongs to, and is used to help compute the model\'s url. The model.collection property is normally created automatically when you first add a model to a collection. Note that the reverse is not true, as passing this option to the constructor will not automatically add the model to the collection. Useful, sometimes.\n\nIf {parse: true} is passed as an option, the attributes will first be converted by parse before being set on the model.',commentRange:[2731811,2733183],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},get:{annotation:"method",name:"get",text:'Get the current value of an attribute from the model. For example: note.get("title")',children:[{annotation:"param",type:"{String}",name:"name",text:"the property name to get",theRestString:"@returns {Any} the value of the property"},{annotation:"returns",type:"{Any}",name:"the",text:"value of the property",theRestString:""}],commentRange:[2733187,2733375],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},set:{annotation:"method",name:"set",text:'Set a hash of attributes (one or many) on the model. If any of the attributes change the model\'s state, a "change" event will be triggered on the model. Change events for specific attributes are also triggered, and you can bind to those as well, for example: change:title, and change:content. You may also pass individual keys and values.\n\n\tnote.set({title: "March 20", content: "In his eyes she eclipses..."});\n\n\tbook.set("title", "A Scandal in Bohemia");',children:[{annotation:"param",type:"{String}",name:"name",text:"",theRestString:"@param {Any} value\n@param {Object} options Optional"},{annotation:"param",type:"{Any}",name:"value",text:"",theRestString:"@param {Object} options Optional"},{annotation:"param",type:"{Object}",name:"options",text:"Optional",theRestString:""}],commentRange:[2733380,2733929],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},escape:{annotation:"method",name:"escape",text:"Similar to get, but returns the HTML-escaped version of a model's attribute. If you're interpolating data from the model into HTML, using escape to retrieve attributes will prevent XSS attacks.\n\n\tvar hacker = new Backbone.Model({\n\t  name: \"<script>alert('xss')<\/script>\"\n\t});\n\n\talert(hacker.escape('name'));",commentRange:[2733934,2734263],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},has:{annotation:"method",name:"has",text:'Returns true if the attribute is set to a non-null or non-undefined value.\n\n\tif (note.has("title")) {\n\t  ...\n\t}',children:[{annotation:"param",type:"{String}",name:"name",text:"",theRestString:""}],commentRange:[2734266,2734417],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},unset:{annotation:"method",name:"unset",text:'Remove an attribute by deleting it from the internal attributes hash. Fires a "change" event unless silent is passed as an option.',children:[{annotation:"param",type:"{String}",name:"attribute",text:"",theRestString:"@param {Object} options Optional"},{annotation:"param",type:"{Object}",name:"options",text:"Optional",theRestString:""}],commentRange:[2734420,2734628],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},clear:{annotation:"method",name:"clear",text:'Removes all attributes from the model, including the id attribute. Fires a "change" event unless silent is passed as an option.',children:[{annotation:"param",type:"{Object}",name:"options",text:"Optional",theRestString:""}],commentRange:[2734633,2734815],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},toJSON:{annotation:"method",name:"toJSON",text:'Return a shallow copy of the model\'s attributes for JSON stringification. This can be used for persistence, serialization, or for augmentation before being sent to the server. The name of this method is a bit confusing, as it doesn\'t actually return a JSON string  but I\'m afraid that it\'s the way that the JavaScript API for JSON.stringify works.\n\n\tvar artist = new Backbone.Model({\n\t  firstName: "Wassily",\n\t  lastName: "Kandinsky"\n\t});\n\n\tartist.set({birthday: "December 16, 1866"});\n\n\talert(JSON.stringify(artist));',children:[{annotation:"param",type:"{Object}",name:"options",text:"Optional",theRestString:"@return {String}"},{annotation:"return",type:"{String}",text:"",theRestString:""}],commentRange:[2737452,2738044],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},sync:{annotation:"method",name:"sync",text:"Uses Backbone.sync to persist the state of a model to the server. Can be overridden for custom behavior.",children:[{annotation:"param",type:"{String}",name:"method",text:"",theRestString:"@param {Backbone.Model} model\n@param {Object} options Optional\n@static dummy"},{annotation:"param",type:"{Backbone.Model}",name:"model",text:"",theRestString:"@param {Object} options Optional\n@static dummy"},{annotation:"param",type:"{Object}",name:"options",text:"Optional",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2738049,2738266],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},fetch:{annotation:"method",name:"fetch",text:"Resets the model's state from the server by delegating to Backbone.sync. Returns a jqXHR. Useful if the model has never been populated with data, or if you'd like to ensure that you have the latest server state. A \"change\" event will be triggered if the server's state differs from the current attributes. Accepts success and error callbacks in the options hash, which are both passed (model, response, options) as arguments.\n\n\t// Poll every 10 seconds to keep the channel model up-to-date.\n\tsetInterval(function() {\n\t  channel.fetch();\n\t}, 10000);",children:[{annotation:"param",type:"{Object}",name:"options",text:"Optional",theRestString:""}],commentRange:[2738271,2738874],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},save:{annotation:"method",name:"save",text:'Save a model to your database (or alternative persistence layer), by delegating to Backbone.sync. Returns a jqXHR if validation is successful and false otherwise. The attributes hash (as in set) should contain the attributes you\'d like to change  keys that aren\'t mentioned won\'t be altered  but, a complete representation of the resource will be sent to the server. As with set, you may pass individual keys and values instead of a hash. If the model has a validate method, and validation fails, the model will not be saved. If the model isNew, the save will be a "create" (HTTP POST), if the model already exists on the server, the save will be an "update" (HTTP PUT).\n\nIf instead, you\'d only like the changed attributes to be sent to the server, call model.save(attrs, {patch: true}). You\'ll get an HTTP PATCH request to the server with just the passed-in attributes.\n\nCalling save with new attributes will cause a "change" event immediately, a "request" event as the Ajax request begins to go to the server, and a "sync" event after the server has acknowledged the successful change. Pass {wait: true} if you\'d like to wait for the server before setting the new attributes on the model.\n\nIn the following example, notice how our overridden version of Backbone.sync receives a "create" request the first time the model is saved and an "update" request the second time.\n\n\tBackbone.sync = function(method, model) {\n\t  alert(method + ": " + JSON.stringify(model));\n\t  model.set(\'id\', 1);\n\t};\n\n\tvar book = new Backbone.Model({\n\t  title: "The Rough Riders",\n\t  author: "Theodore Roosevelt"\n\t});\n\n\tbook.save();\n\n\tbook.save({author: "Teddy"});\n\nsave accepts success and error callbacks in the options hash, which will be passed the arguments (model, response, options). If a server-side validation fails, return a non-200 HTTP response code, along with an error response in text or JSON.\n\n\tbook.save("author", "F.D.R.", {error: function(){ ... }});',children:[{annotation:"param",type:"{Object}",name:"attributes",text:"optional",theRestString:"@param {Object} options optional"},{annotation:"param",type:"{Object}",name:"options",text:"optional",theRestString:""}],commentRange:[2738879,2740916],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},destroy:{annotation:"method",name:"destroy",text:'Destroys the model on the server by delegating an HTTP DELETE request to Backbone.sync. Returns a jqXHR object, or false if the model isNew. Accepts success and error callbacks in the options hash, which will be passed (model, response, options). Triggers a "destroy" event on the model, which will bubble up through any collections that contain it, a "request" event as it begins the Ajax request to the server, and a "sync" event, after the server has successfully acknowledged the model\'s deletion. Pass {wait: true} if you\'d like to wait for the server to respond before removing the model from the collection.\n\n\tbook.destroy({success: function(model, response) {\n\t  ...\n\t}});',children:[{annotation:"param",type:"{Object}",name:"options",text:"optional",theRestString:""}],commentRange:[2740922,2741660],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},validate:{annotation:"method",name:"validate",text:'This method is left undefined, and you\'re encouraged to override it with your custom validation logic, if you have any that can be performed in JavaScript. By default validate is called before save, but can also be called before set if {validate:true} is passed. The validate method is passed the model attributes, as well as the options from set or save. If the attributes are valid, don\'t return anything from validate; if they are invalid, return an error of your choosing. It can be as simple as a string error message to be displayed, or a complete error object that describes the error programmatically. If validate returns an error, save will not continue, and the model attributes will not be modified on the server. Failed validations trigger an "invalid" event, and set the validationError property on the model with the value returned by this method.\n\n\tvar Chapter = Backbone.Model.extend({\n\t  validate: function(attrs, options) {\n\t    if (attrs.end < attrs.start) {\n\t      return "can\'t end before it starts";\n\t    }\n\t  }\n\t});\n\n\tvar one = new Chapter({\n\t  title : "Chapter One: The Beginning"\n\t});\n\n\tone.on("invalid", function(model, error) {\n\t  alert(model.get("title") + " " + error);\n\t});\n\n\tone.save({\n\t  start: 15,\n\t  end:   10\n\t});\n\n"invalid" events are useful for providing coarse-grained error messages at the model or collection level.',children:[{annotation:"param",type:"{Object}",name:"attributes",text:"optional",theRestString:"@param {Object} options optional"},{annotation:"param",type:"{Object}",name:"options",text:"optional",theRestString:""}],commentRange:[2741666,2743117],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},isValid:{annotation:"method",name:"isValid",text:'Run validate to check the model state.\n\n\tvar Chapter = Backbone.Model.extend({\n\t  validate: function(attrs, options) {\n\t    if (attrs.end < attrs.start) {\n\t      return "can\'t end before it starts";\n\t    }\n\t  }\n\t});\n\n\tvar one = new Chapter({\n\t  title : "Chapter One: The Beginning"\n\t});\n\n\tone.set({\n\t  start: 15,\n\t  end:   10\n\t});\n\n\tif (!one.isValid()) {\n\t  alert(one.get("title") + " " + one.validationError);\n\t}',children:[{annotation:"return",type:"{boolean}",name:"true",text:"if model is valid",theRestString:""}],commentRange:[2743226,2743703],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},url:{annotation:"method",name:"url",text:'Returns the relative URL where the model\'s resource would be located on the server. If your models are located somewhere else, override this method with the correct logic. Generates URLs of the form: "[collection.url]/[id]" by default, but you may override by specifying an explicit urlRoot if the model\'s collection shouldn\'t be taken into account.\n\nDelegates to Collection#url to generate the URL, so make sure that you have it defined, or a urlRoot property, if all models of this class share a common root URL. A model with an id of 101, stored in a Backbone.Collection with a url of "/documents/7/notes", would have this URL: "/documents/7/notes/101"',children:[{annotation:"return",type:"{String}",name:"the",text:"relative of url for this model",theRestString:""}],commentRange:[2743707,2744432],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},parse:{annotation:"method",name:"parse",text:"parse is called whenever a model's data is returned by the server, in fetch, and save. The function is passed the raw response object, and should return the attributes hash to be set on the model. The default implementation is a no-op, simply passing through the JSON response. Override this if you need to work with a preexisting API, or better namespace your responses.\n\nIf you're working with a Rails backend that has a version prior to 3.1, you'll notice that its default to_json implementation includes a model's attributes under a namespace. To disable this behavior for seamless Backbone integration, set:\n\n\tActiveRecord::Base.include_root_in_json = false",children:[{annotation:"param",type:"{Object}",name:"response",text:"",theRestString:"@param {Object} options"},{annotation:"param",type:"{Object}",name:"options",text:"",theRestString:""}],commentRange:[2744856,2745590],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},clone:{annotation:"method",name:"clone",text:"Returns a new instance of the model with identical attributes.",commentRange:[2745593,2745677],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},isNew:{annotation:"method",name:"isNew",text:"Has this model been saved to the server yet? If the model does not yet have an id, it is considered to be new.",children:[{annotation:"return",type:"{boolean}",text:"",theRestString:""}],commentRange:[2745680,2745827],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},hasChanged:{annotation:"method",name:"hasChanged",text:'Has the model changed since the last set? If an attribute is passed, returns true if that specific attribute has changed.\n\nNote that this method, and the following change-related ones, are only useful during the course of a "change" event.\n\n\tbook.on("change", function() {\n\t  if (book.hasChanged("title")) {\n\t    ...\n\t  }\n\t});',children:[{annotation:"param",type:"{String}",name:"attribute",text:"optional",theRestString:""}],commentRange:[2745830,2746218],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},changedAttributes:{annotation:"method",name:"changedAttributes",text:"Retrieve a hash of only the model's attributes that have changed since the last set, or false if there are none. Optionally, an external attributes hash can be passed in, returning the attributes in that hash which differ from the model. This can be used to figure out which portions of a view should be updated, or what calls need to be made to sync the changes to the server.",children:[{annotation:"param",type:"{Object}",name:"attributes",text:"optional",theRestString:""}],commentRange:[2746221,2746667],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},previous:{annotation:"method",name:"previous",text:'During a "change" event, this method can be used to get the previous value of a changed attribute.\n\n\tvar bill = new Backbone.Model({\n\t  name: "Bill Smith"\n\t});\n\n\tbill.on("change:name", function(model, name) {\n\t  alert("Changed name from " + bill.previous("name") + " to " + name);\n\t});\n\n\tbill.set({name : "Bill Jones"});',children:[{annotation:"param",type:"{String}",name:"attribute",text:"optional",theRestString:""}],commentRange:[2746670,2747049],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},previousAttributes:{annotation:"method",name:"previousAttributes",text:"Return a copy of the model's previous attributes. Useful for getting a diff between versions of a model, or getting back to a valid state after an error occurs.",commentRange:[2747052,2747245],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"}},properties:{id:{annotation:"property",type:"{String}",name:"id",text:"A special property of models, the id is an arbitrary string (integer id or UUID). If you set the id in the attributes hash, it will be copied onto the model as a direct property. Models can be retrieved by id from collections, and the id is used to generate model URLs by default.",commentRange:[2734818,2735128],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},idAttribute:{annotation:"property",type:"{String}",name:"idAttribute",text:'A model\'s unique identifier is stored under the id attribute. If you\'re directly communicating with a backend (CouchDB, MongoDB) that uses a different unique key, you may set a Model\'s idAttribute to transparently map from that key to id.\n\n\tvar Meal = Backbone.Model.extend({\n\t  idAttribute: "_id"\n\t});\n\n\tvar cake = new Meal({ _id: 1, name: "Cake" });\n\talert("Cake id: " + cake.id);',commentRange:[2735132,2735551],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},cid:{annotation:"property",type:"{String}",name:"cid",text:"A special property of models, the cid or client id is a unique identifier automatically assigned to all models when they're first created. Client ids are handy when the model has not yet been saved to the server, and does not yet have its eventual true id, but already needs to be visible in the UI.",commentRange:[2735555,2735885],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},attributes:{annotation:"property",type:"{Object}",name:"attributes",text:"The attributes property is the internal hash containing the model's state  usually (but not necessarily) a form of the JSON object representing the model data on the server. It's often a straightforward serialization of a row from the database, but it could also be client-side computed state.\n\nPlease use set to update the attributes instead of modifying them directly. If you'd like to retrieve and munge a copy of the model's attributes, use _.clone(model.attributes) instead.\n\nDue to the fact that Events accepts space separated lists of events, attribute names should not include spaces.",commentRange:[2735889,2736516],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},changed:{annotation:"property",type:"{Object}",name:"changed",text:"The changed property is the internal hash containing all the attributes that have changed since the last set. Please do not update changed directly since its state is internally maintained by set. A copy of changed can be acquired from changedAttributes.",commentRange:[2736522,2736807],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},defaults:{annotation:"property",type:"{Object}",name:"defaults",text:'The defaults hash (or function) can be used to specify the default attributes for your model. When creating an instance of the model, any unspecified attributes will be set to their default value.\n\n\tvar Meal = Backbone.Model.extend({\n\t  defaults: {\n\t    "appetizer":  "caesar salad",\n\t    "entree":     "ravioli",\n\t    "dessert":    "cheesecake"\n\t  }\n\t});\n\n\talert("Dessert will be " + (new Meal).get(\'dessert\'));\nRemember that in JavaScript, objects are passed by reference, so if you include an object as a default value, it will be shared among all instances. Instead, define defaults as a function.',commentRange:[2736811,2737444],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},validation:{annotation:"property",type:"{Error}",name:"validation",text:"The value returned by validate during the last failed validation.",commentRange:[2743120,2743222],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},urlRoot:{annotation:"property",type:"{Function|String}",name:"urlRoot",text:"Specify a urlRoot if you're using a model outside of a collection, to enable the default url function to generate URLs based on the model id. \"[urlRoot]/id\"\nNormally, you won't need to define this. Note that urlRoot may also be a function.\n\n\tvar Book = Backbone.Model.extend({urlRoot : '/books'});\n\n\tvar solaris = new Book({id: \"1083-lem-solaris\"});\n\n\talert(solaris.url());",commentRange:[2744435,2744851],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"}}},"Backbone.Backbone.Router":{annotation:"class",name:"Backbone.Router",text:"Web applications often provide linkable, bookmarkable, shareable URLs for important locations in the app. Until recently, hash fragments (#page) were used to provide these permalinks, but with the arrival of the History API, it's now possible to use standard URLs (/page). Backbone.Router provides methods for routing client-side pages, and connecting them to actions and events. For browsers which don't yet support the History API, the Router handles graceful fallback and transparent translation to the fragment version of the URL.\n\nDuring page load, after your application has finished creating all of its routers, be sure to call Backbone.history.start(), or Backbone.history.start({pushState: true}) to route the initial URL.",commentRange:[2747343,2748122],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js",module:{annotation:"module",name:"Backbone",text:"",commentRange:[2747343,2748122],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js"},absoluteName:"Backbone.Backbone.Router",methods:{extend:{annotation:"method",name:"extend",text:'Get started by creating a custom router class. Define actions that are triggered when certain URL fragments are matched, and provide a routes hash that pairs routes to actions. Note that you\'ll want to avoid using a leading slash in your route definitions:\n\n\tvar Workspace = Backbone.Router.extend({\n\n\t  routes: {\n\t    "help":                 "help",    // #help\n\t    "search/:query":        "search",  // #search/kiwis\n\t    "search/:query/p:page": "search"   // #search/kiwis/p7\n\t  },\n\n\t  help: function() {\n\t    ...\n\t  },\n\n\t  search: function(query, page) {\n\t    ...\n\t  }\n\n\t});',children:[{annotation:"param",type:"{Object}",name:"properties",text:"",theRestString:"@param {Object} classProperties Optional\n@static dummy"},{annotation:"param",type:"{Object}",name:"classProperties",text:"Optional",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2748126,2748805],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js"},route:{annotation:"method",name:"route",text:'Manually create a route for the router, The route argument may be a routing string or regular expression. Each matching capture from the route or regular expression will be passed as an argument to the callback. The name argument will be triggered as a "route:name" event whenever the route is matched. If the callback argument is omitted router[name] will be used instead. Routes added later may override previously declared routes.\n\n\tinitialize: function(options) {\n\n\t  // Matches #page/10, passing "10"\n\t  this.route("page/:number", "page", function(number){ ... });\n\n\t  // Matches /117-a/b/c/open, passing "117-a/b/c" to this.open\n\t  this.route(/^(.*?)\\/open$/, "open");\n\n\t},\n\n\topen: function(id) { ... }',children:[{annotation:"param",type:"{String}",name:"route",text:"",theRestString:"@param {String } name\n@param {Function} handler Optional"},{annotation:"param",type:"{String }",name:"name",text:"",theRestString:"@param {Function} handler Optional"},{annotation:"param",type:"{Function}",name:"handler",text:"Optional",theRestString:""}],commentRange:[2750716,2751524],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js"},navigate:{annotation:"method",name:"navigate",text:'Whenever you reach a point in your application that you\'d like to save as a URL, call navigate in order to update the URL. If you wish to also call the route function, set the trigger option to true. To update the URL without creating an entry in the browser\'s history, set the replace option to true.\n\n\topenPage: function(pageNumber) {\n\t  this.document.pages.at(pageNumber).open();\n\t  this.navigate("page/" + pageNumber);\n\t}\n\n# Or ...\n\n\tapp.navigate("help/troubleshooting", {trigger: true});\n\nOr ...\n\n\tapp.navigate("help/troubleshooting", {trigger: true, replace: true});',children:[{annotation:"param",type:"{String}",name:"fragment",text:"",theRestString:"@param {Object}options Optional"},{annotation:"param",type:"{Object}",name:"options",text:"Optional",theRestString:""}],commentRange:[2751529,2752182],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js"},execute:{annotation:"method",name:"execute",text:"This method is called internally within the router, whenever a route matches and its corresponding callback is about to be executed. Override it to perform custom parsing or wrapping of your routes, for example, to parse query strings before handing them to your route callback, like so:\n\n\tvar Router = Backbone.Router.extend({\n\t  execute: function(callback, args) {\n\t    args.push(parseQueryString(args.pop()));\n\t    if (callback) callback.apply(this, args);\n\t  }\n\t});",children:[{annotation:"param",type:"{Function}",name:"callback",text:"",theRestString:"@param {Any} args"},{annotation:"param",type:"{Any}",name:"args",text:"",theRestString:""}],commentRange:[2752185,2752723],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js"}},properties:{routes:{annotation:"property",type:"{Object<String,String>}",name:"routes",text:'The routes hash maps URLs with parameters to functions on your router (or just direct function definitions, if you prefer), similar to the View\'s events hash. Routes can contain parameter parts, :param, which match a single URL component between slashes; and splat parts *splat, which can match any number of URL components. Part of a route can be made optional by surrounding it in parentheses (/:optional).\n\nFor example, a route of "search/:query/p:page" will match a fragment of #search/obama/p2, passing "obama" and "2" to the action.\n\nA route of "file/*path" will match #file/nested/folder/file.txt, passing "nested/folder/file.txt" to the action.\n\nA route of "docs/:section(/:subsection)" will match #docs/faq and #docs/faq/installing, passing "faq" to the action in the first case, and passing "faq" and "installing" to the action in the second.\n\nTrailing slashes are treated as part of the URL, and (correctly) treated as a unique route when accessed. docs and docs/ will fire different callbacks. If you can\'t avoid generating both types of URLs, you can define a "docs(/)" matcher to capture both cases.\n\nWhen the visitor presses the back button, or enters a URL, and a particular route is matched, the name of the action will be fired as an event, so that other objects can listen to the router, and be notified. In the following example, visiting #help/uploading will fire a route:help event from the router.\n\n\troutes: {\n\t  "help/:page":         "help",\n\t  "download/*path":     "download",\n\t  "folder/:name":       "openFolder",\n\t  "folder/:name-:mode": "openFolder"\n\t}\n\trouter.on("route:help", function(page) {\n\t  ...\n\t});',commentRange:[2748807,2750492],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js"}},constructors:[{annotation:"constructor",name:"n",text:"When creating a new router, you may pass its routes hash directly as an option, if you choose. All options will also be passed to your initialize function, if defined.",children:[{annotation:"param",type:"{Object}",name:"options",text:"Optional",theRestString:""}],commentRange:[2750495,2750712],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js",params:[{annotation:"param",type:"{Object}",name:"options",text:"Optional",theRestString:""}],throws:[]}]},"Backbone.Backbone.View":{annotation:"class",name:"Backbone.View",text:"Backbone views are almost more convention than they are code  they don't determine anything about your HTML or CSS for you, and can be used with any JavaScript templating library. The general idea is to organize your interface into logical views, backed by models, each of which can be updated independently when the model changes, without having to redraw the page. Instead of digging into a JSON object, looking up an element in the DOM, and updating the HTML by hand, you can bind your view's render function to the model's \"change\" event  and now everywhere that model data is displayed in the UI, it is always immediately up to date.",children:[{annotation:"extend",name:"Backbone.Events",text:"",theRestString:""}],commentRange:[2752819,2753532],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js",module:{annotation:"module",name:"Backbone",text:"",commentRange:[2752819,2753532],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},absoluteName:"Backbone.Backbone.View",methods:{extend:{annotation:"method",name:"extend",text:'Get started with views by creating a custom view class. You\'ll want to override the render function, specify your declarative events, and perhaps the tagName, className, or id of the View\'s root element.\n\n\tvar DocumentRow = Backbone.View.extend({\n\n\t  tagName: "li",\n\n\t  className: "document-row",\n\n\t  events: {\n\t    "click .icon":          "open",\n\t    "click .button.edit":   "openEditDialog",\n\t    "click .button.delete": "destroy"\n\t  },\n\n\t  initialize: function() {\n\t    this.listenTo(this.model, "change", this.render);\n\t  },\n\n\t  render: function() {\n\t    ...\n\t  }\n\n\t});\nProperties like tagName, id, className, el, and events may also be defined as a function, if you want to wait to define them until runtime.',children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2753534,2754279],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},initialize:{annotation:"method",name:"initialize",text:'There are several special options that, if passed, will be attached directly to the view: model, collection, el, id, className, tagName, attributes and events. If the view defines an initialize function, it will be called when the view is first created. If you\'d like to create a view that references an element already in the DOM, pass in the element as an option: new View({el: existingElement})\n\n\tvar doc = documents.first();\n\n\tnew DocumentRow({\n\t  model: doc,\n\t  id: "document-row-" + doc.id\n\t});',children:[{annotation:"param",type:"{Any}",name:"options",text:"Optional",theRestString:""}],commentRange:[2754283,2754840],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},setElement:{annotation:"method",name:"setElement",text:"If you'd like to apply a Backbone view to a different DOM element, use setElement, which will also create the cached $el reference and move the view's delegated events from the old element to the new one.",children:[{annotation:"param",type:"{HTMLElement}",name:"element",text:"",theRestString:""}],commentRange:[2755723,2755980],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},render:{annotation:"method",name:"render",text:"The default implementation of render is a no-op. Override this function with your code that renders the view template from model data, and updates this.el with the new HTML. A good convention is to return this at the end of render to enable chained calls.\n\n\tvar Bookmark = Backbone.View.extend({\n\t  template: _.template(...),\n\t  render: function() {\n\t    this.$el.html(this.template(this.model.attributes));\n\t    return this;\n\t  }\n\t});\nBackbone is agnostic with respect to your preferred method of HTML templating. Your render function could even munge together an HTML string, or use document.createElement to generate a DOM tree. However, we suggest choosing a nice JavaScript templating library. Mustache.js, Haml-js, and Eco are all fine alternatives. Because Underscore.js is already on the page, _.template is available, and is an excellent choice if you prefer simple interpolated-JavaScript style templates.\n\nWhatever templating strategy you end up with, it's nice if you never have to put strings of HTML in your JavaScript. At DocumentCloud, we use Jammit in order to package up JavaScript templates stored in /app/views as part of our main core.js asset package.",commentRange:[2757177,2758370],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},remove:{annotation:"method",name:"remove",text:"Removes a view from the DOM, and calls stopListening to remove any bound events that the view has listenTo'd.",commentRange:[2758373,2758504],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},delegateEvents:{annotation:"method",name:"delegateEvents",text:'delegateEventsdelegateEvents([events]) \nUses jQuery\'s on function to provide declarative callbacks for DOM events within a view. If an events hash is not passed directly, uses this.events as the source. Events are written in the format {"event selector": "callback"}. The callback may be either the name of a method on the view, or a direct function body. Omitting the selector causes the event to be bound to the view\'s root element (this.el). By default, delegateEvents is called within the View\'s constructor for you, so if you have a simple events hash, all of your DOM events will always already be connected, and you will never have to call this function yourself.\n\nThe events property may also be defined as a function that returns an events hash, to make it easier to programmatically define your events, as well as inherit them from parent views.\n\nUsing delegateEvents provides a number of advantages over manually using jQuery to bind events to child elements during render. All attached callbacks are bound to the view before being handed off to jQuery, so when the callbacks are invoked, this continues to refer to the view object. When delegateEvents is run again, perhaps with a different events hash, all callbacks are removed and delegated afresh  useful for views which need to behave differently when in different modes.\n\nA view that displays a document in a search result might look something like this:\n\n\tvar DocumentView = Backbone.View.extend({\n\n\t  events: {\n\t    "dblclick"                : "open",\n\t    "click .icon.doc"         : "select",\n\t    "contextmenu .icon.doc"   : "showMenu",\n\t    "click .show_notes"       : "toggleNotes",\n\t    "click .title .lock"      : "editAccessLevel",\n\t    "mouseover .title .date"  : "showTooltip"\n\t  },\n\n\t  render: function() {\n\t    this.$el.html(this.template(this.model.attributes));\n\t    return this;\n\t  },\n\n\t  open: function() {\n\t    window.open(this.model.get("viewer_url"));\n\t  },\n\n\t  select: function() {\n\t    this.model.set({selected: true});\n\t  },\n\n\t  ...\n\n\t});',children:[{annotation:"param",name:"events",text:"optional",theRestString:""}],commentRange:[2758506,2760591],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},undelegateEvents:{annotation:"method",name:"undelegateEvents",text:"Removes all of the view's delegated events. Useful if you want to disable or remove a view from the DOM temporarily.",commentRange:[2760595,2760741],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"}},properties:{el:{annotation:"property",type:"{HTMLElement}",name:"el",text:"All views have a DOM element at all times (the el property), whether they've already been inserted into the page or not. In this fashion, views can be rendered at any time, and inserted into the DOM all at once, in order to get high-performance UI rendering with as few reflows and repaints as possible. this.el is created from the view's tagName, className, id and attributes properties, if specified. If not, el is an empty div.\n\n\tvar ItemView = Backbone.View.extend({\n\t  tagName: 'li'\n\t});\n\n\tvar BodyView = Backbone.View.extend({\n\t  el: 'body'\n\t});\n\n\tvar item = new ItemView();\n\tvar body = new BodyView();\n\n\talert(item.el + ' ' + body.el);",commentRange:[2754842,2755517],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},$el:{annotation:"property",type:"{jQuery}",name:"$el",text:"A cached jQuery object for the view's element. A handy reference instead of re-wrapping the DOM element all the time.\n\n\tview.$el.show();\n\n\tlistView.$el.append(itemView.el);",commentRange:[2755519,2755721],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},attributes:{annotation:"property",type:"{Object}",name:"attributes",text:"A hash of attributes that will be set as HTML DOM element attributes on the view's el (id, class, data-properties, etc.), or a function that returns such a hash.",commentRange:[2755982,2756178],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},$:{annotation:"property",type:"{jQuery}",name:"$",text:'If jQuery is included on the page, each view has a $ function that runs queries scoped within the view\'s element. If you use this scoped jQuery function, you don\'t have to use model ids as part of your query to pull out specific elements in a list, and can rely much more on HTML class attributes. It\'s equivalent to running: view.$el.find(selector)\n\n\tui.Chapter = Backbone.View.extend({\n\t  serialize : function() {\n\t    return {\n\t      title: this.$(".title").text(),\n\t      start: this.$(".start-page").text(),\n\t      end:   this.$(".end-page").text()\n\t    };\n\t  }\n\t});',commentRange:[2756180,2756779],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},template:{annotation:"property",name:"template",text:"While templating for a view isn't a function provided directly by Backbone, it's often a nice convention to define a template function on your views. In this way, when rendering your view, you have convenient access to instance data. For example, using Underscore templates:\n\n\tvar LibraryView = Backbone.View.extend({\n\t\ttemplate: _.template(...)\n\t});",children:[{annotation:"param",type:"{Any}",name:"data",text:"",theRestString:""}],commentRange:[2756781,2757174],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"}}},"Backbone.Backbone":{annotation:"class",name:"Backbone",text:"",commentRange:[2760832,2767188],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js",module:{annotation:"module",name:"Backbone",text:"#About\nBackbone.js gives structure to web applications by providing models with key-value binding and custom events, collections with a rich API of enumerable functions, views with declarative event handling, and connects it all to your existing API over a RESTful JSON interface.\n\nThe project is hosted on GitHub, and the annotated source code is available, as well as an online test suite, an example application, a list of tutorials and a long list of real-world projects that use Backbone. Backbone is available for use under the MIT software license.\n\nYou can report bugs and discuss features on the GitHub issues page, on Freenode IRC in the #documentcloud channel, post questions to the Google Group, add pages to the wiki or send tweets to",children:[{annotation:"documentcloud.",name:"Backbone",text:"is an open-source component of DocumentCloud.\n\n#Dependencies\nBackbone's only hard dependency is Underscore.js ( >= 1.5.0). For RESTful persistence, history support via Backbone.Router and DOM manipulation with Backbone.View, include jQuery, and json2.js for older Internet Explorer support. (Mimics of the Underscore and jQuery APIs, such as Lo-Dash and Zepto, will also tend to work, with varying degrees of compatibility.)\n\n#Introduction\n\nWhen working on a web application that involves a lot of JavaScript, one of the first things you learn is to stop tying your data to the DOM. It's all too easy to create JavaScript applications that end up as tangled piles of jQuery selectors and callbacks, all trying frantically to keep data in sync between the HTML UI, your JavaScript logic, and the database on your server. For rich client-side applications, a more structured approach is often helpful.\n\nWith Backbone, you represent your data as Models, which can be created, validated, destroyed, and saved to the server. Whenever a UI action causes an attribute of a model to change, the model triggers a \"change\" event; all the Views that display the model's state can be notified of the change, so that they are able to respond accordingly, re-rendering themselves with the new information. In a finished Backbone app, you don't have to write the glue code that looks into the DOM to find an element with a specific id, and update the HTML manually  when the model changes, the views simply update themselves.\n\nPhilosophically, Backbone is an attempt to discover the minimal set of data-structuring (models and collections) and user interface (views and URLs) primitives that are generally useful when building web applications with JavaScript. In an ecosystem where overarching, decides-everything-for-you frameworks are commonplace, and many libraries require your site to be reorganized to suit their look, feel, and default behavior  Backbone should continue to be a tool that gives you the freedom to design the full experience of your web application.\n\nIf you're new here, and aren't yet quite sure what Backbone is for, start by browsing the list of Backbone-based projects.",theRestString:""}],commentRange:[2760832,2767188],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js"},absoluteName:"Backbone.Backbone",methods:{sync:{annotation:"method",name:"sync",text:'Backbone.sync is the function that Backbone calls every time it attempts to read or save a model to the server. By default, it uses jQuery.ajax to make a RESTful JSON request and returns a jqXHR. You can override it in order to use a different persistence strategy, such as WebSockets, XML transport, or Local Storage.\n\nThe method signature of Backbone.sync is sync(method, model, [options])\n\nmethod  the CRUD method ("create", "read", "update", or "delete")\nmodel  the model to be saved (or collection to be read)\noptions  success and error callbacks, and all other jQuery request options\nWith the default implementation, when Backbone.sync sends up a request to save a model, its attributes will be passed, serialized as JSON, and sent in the HTTP body with content-type application/json. When returning a JSON response, send down the attributes of the model that have been changed by the server, and need to be updated on the client. When responding to a "read" request from a collection (Collection#fetch), send down an array of model attribute objects.\n\nWhenever a model or collection begins a sync with the server, a "request" event is emitted. If the request completes successfully you\'ll get a "sync" event, and an "error" event if not.\n\nThe sync function may be overriden globally as Backbone.sync, or at a finer-grained level, by adding a sync function to a Backbone collection or to an individual model.\n\nThe default sync handler maps CRUD to REST like so:\n\ncreate  POST   /collection\nread  GET   /collection[/id]\nupdate  PUT   /collection/id\npatch  PATCH   /collection/id\ndelete  DELETE   /collection/id\nAs an example, a Rails handler responding to an "update" call from Backbone might look like this: (In real code, never use update_attributes blindly, and always whitelist the attributes you allow to be changed.)\n\n\tdef update\n\t  account = Account.find params[:id]\n\t  account.update_attributes params\n\t  render :json => account\n\tend\nOne more tip for integrating Rails versions prior to 3.1 is to disable the default namespacing for to_json calls on models by setting ActiveRecord::Base.include_root_in_json = false',children:[{annotation:"param",type:"{String}",name:"method",text:"",theRestString:"@param {Backbone.Model} model\n@param {Object} options optional\n@static dummy"},{annotation:"param",type:"{Backbone.Model}",name:"model",text:"",theRestString:"@param {Object} options optional\n@static dummy"},{annotation:"param",type:"{Object}",name:"options",text:"optional",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2760832,2767188],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js"},ajax:{annotation:"method",name:"ajax",text:"If you want to use a custom AJAX function, or your endpoint doesn't support the jQuery.ajax API and you need to tweak things, you can do so by setting Backbone.ajax.",children:[{annotation:"param",name:"request",text:"",theRestString:"@static dummy"},{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2760832,2767188],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js"},noConflict:{annotation:"method",name:"noConflict",text:"var backbone = Backbone.noConflict(); \n\t\nReturns the Backbone object back to its original value. You can use the return value of Backbone.noConflict() to keep a local reference to Backbone. Useful for embedding Backbone on third-party websites, where you don't want to clobber the existing Backbone.\n\n\tvar localBackbone = Backbone.noConflict();\n\tvar model = localBackbone.Model.extend(...);",commentRange:[2767191,2767951],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js"}},properties:{emulateHTTPBackbone:{annotation:"property",type:"{boolean}",name:"emulateHTTPBackbone",text:'If you want to work with a legacy web server that doesn\'t support Backbone\'s default REST/HTTP approach, you may choose to turn on Backbone.emulateHTTP. Setting this option will fake PUT, PATCH and DELETE requests with a HTTP POST, setting the X-HTTP-Method-Override header with the true method. If emulateJSON is also on, the true method will be passed as an additional _method parameter.\n\n\tBackbone.emulateHTTP = true;\n\n\tmodel.save();  // POST to "/collection/id", with "_method=PUT" + header.',children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2760832,2767188],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js"},emulateJSON:{annotation:"property",type:"{boolean}",name:"emulateJSON",text:"If you're working with a legacy web server that can't handle requests encoded as application/json, setting Backbone.emulateJSON = true; will cause the JSON to be serialized under a model parameter, and the request to be made with a application/x-www-form-urlencoded MIME type, as if from an HTML form.",children:[{annotation:"static",name:"dummy",text:"",theRestString:""}],commentRange:[2760832,2767188],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js"},$:{annotation:"property",type:"{jQuery}",name:"$",text:"If you have multiple copies of jQuery on the page, or simply want to tell Backbone to use a particular object as its DOM / Ajax library, this is the property for you. If you're loading Backbone with CommonJS (e.g. node, component, or browserify) you must set this property manually.\n\n\tvar Backbone.$ = require('jquery');",commentRange:[2767191,2767951],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js"}}},"xml.dom.XMLDocument":{annotation:"class",name:"XMLDocument",text:"XML DOM - The Document Object\n\nThe Document object represents the entire XML document.\n\nThe Document object is the root of a document tree, and gives us the primary access to the document's data.\n\nSince element nodes, text nodes, comments, processing instructions, etc. cannot exist outside the document, the Document object also contains methods to create these objects. The Node objects have a ownerDocument property which associates them with the Document where they were created.",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js",module:{annotation:"module",name:"xml.dom",text:"",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},absoluteName:"xml.dom.XMLDocument",properties:{async:{annotation:"property",name:"async",text:"Specifies whether downloading of an XML file should be handled asynchronously or not",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},childNodes:{annotation:"property",name:"childNodes",text:"Returns a NodeList of child nodes for the document",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},doctype:{annotation:"property",name:"doctype",text:"Returns the Document Type Declaration associated with the document",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},documentElement:{annotation:"property",name:"documentElement",text:"Returns the root node of the document",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},documentURI:{annotation:"property",name:"documentURI",text:"Sets or returns the location of the document",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},domConfig:{annotation:"property",name:"domConfig",text:"Returns the configuration used when normalizeDocument() is invoked",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},firstChild:{annotation:"property",name:"firstChild",text:"Returns the first child node of the document",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},implementation:{annotation:"property",name:"implementation",text:"Returns the DOMImplementation object that handles this document",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},inputEncoding:{annotation:"property",name:"inputEncoding",text:"Returns the encoding used for the document (when parsing)",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},lastChild:{annotation:"property",name:"lastChild",text:"Returns the last child node of the document",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},nodeName:{annotation:"property",name:"nodeName",text:"Returns the name of a node (depending on its type)",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},nodeType:{annotation:"property",name:"nodeType",text:"Returns the node type of a node",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},nodeValue:{annotation:"property",name:"nodeValue",text:"Sets or returns the value of a node (depending on its type)",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},strictErrorChecking:{annotation:"property",name:"strictErrorChecking",text:"Sets or returns whether error-checking is enforced or not",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},xmlEncoding:{annotation:"property",name:"xmlEncoding",text:"Returns the XML encoding of the document",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},xmlStandalone:{annotation:"property",name:"xmlStandalone",text:"Sets or returns whether the document is standalone",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},xmlVersion:{annotation:"property",name:"xmlVersion",text:"Sets or returns the XML version of the document",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"}},methods:{adoptNode:{annotation:"method",name:"adoptNode",text:"(sourcenode)\tAdopts a node from another document to this document, and returns the adopted node",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createAttribute:{annotation:"method",name:"createAttribute",text:"(name)\tCreates an attribute node with the specified name, and returns the new Attr object",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createAttributeNS:{annotation:"method",name:"createAttributeNS",text:"(uri,name)\tCreates an attribute node with the specified name and namespace, and returns the new Attr object",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createCDATASection:{annotation:"method",name:"createCDATASection",text:"()\tCreates a CDATA section node",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createComment:{annotation:"method",name:"createComment",text:"()\tCreates a comment node",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createDocumentFragment:{annotation:"method",name:"createDocumentFragment",text:"()\tCreates an empty DocumentFragment object, and returns it",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createElement:{annotation:"method",name:"createElement",text:"()\tCreates an element node",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createElementNS:{annotation:"method",name:"createElementNS",text:"()\tCreates an element node with a specified namespace",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createEntityReference:{annotation:"method",name:"createEntityReference",text:"(name)\tCreates an EntityReference object, and returns it",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createProcessingInstruction:{annotation:"method",name:"createProcessingInstruction",text:"(target,data)\tCreates a ProcessingInstruction object, and returns it",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},createTextNode:{annotation:"method",name:"createTextNode",text:"()\tCreates a text node",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},getElementById:{annotation:"method",name:"getElementById",text:"(id)\tReturns the element that has an ID attribute with the given value. If no such element exists, it returns null",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},getElementsByTagName:{annotation:"method",name:"getElementsByTagName",text:"()\tReturns a NodeList of all elements with a specified name",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},getElementsByTagNameNS:{annotation:"method",name:"getElementsByTagNameNS",text:"()\tReturns a NodeList of all elements with a specified name and namespace",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},importNode:{annotation:"method",name:"importNode",text:"(nodetoimport,deep)\tImports a node from another document to this document. This method creates a new copy of the source node. If the deep parameter is set to true, it imports all children of the specified node. If set to false, it imports only the node itself. This method returns the imported node",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},normalizeDocument:{annotation:"method",name:"normalizeDocument",text:"()",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},renameNode:{annotation:"method",name:"renameNode",text:"()\tRenames an element or attribute node",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"}}},"xml.dom.XMLDocumentType":{annotation:"class",name:"XMLDocumentType",text:"The DocumentType object. \nEach document has a DOCTYPE attribute that whose value is either null or a DocumentType object.\n\nThe DocumentType object provides an interface to the entities defined for an XML document.",commentRange:[2771500,2772092],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js",module:{annotation:"module",name:"xml.dom",text:"",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},absoluteName:"xml.dom.XMLDocumentType",properties:{entities:{annotation:"property",name:"entities",text:"Returns a NamedNodeMap containing the entities declared in the DTD",commentRange:[2771500,2772092],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},internalSubset:{annotation:"property",name:"internalSubset",text:"Returns the internal DTD as a string",commentRange:[2771500,2772092],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},name:{annotation:"property",name:"name",text:"Returns the name of the DTD",commentRange:[2771500,2772092],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},notations:{annotation:"property",name:"notations",text:"Returns a NamedNodeMap containing the notations declared in\tthe DTD",commentRange:[2771500,2772092],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},systemId:{annotation:"property",name:"systemId",text:"Returns the system identifier of the external DTD",commentRange:[2771500,2772092],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"}}},"xml.dom.XMLElement":{annotation:"class",name:"XMLElement",text:"XML DOM - The Element Object\n\nThe Element object represents an element in an XML document. Elements may contain attributes, other elements, or text. If an element contains text, the text is represented in a text-node.\n\nIMPORTANT! Text is always stored in text nodes. A common error in DOM processing is to navigate to an element node and expect it to contain the text. However, even the simplest element node has a text node under it. For example, in <year>2005</year>, there is an element node (year), and a text node under it, which contains the text (2005).\n\nBecause the Element object is also a Node, it inherits the Node object's properties and methods.",children:[{annotation:"extends",name:"XMLNode",text:"",theRestString:""}],commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js",module:{annotation:"module",name:"xml.dom",text:"",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},absoluteName:"xml.dom.XMLElement",properties:{attributes:{annotation:"property",name:"attributes",text:"Returns a NamedNodeMap of attributes for the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},baseURI:{annotation:"property",name:"baseURI",text:"Returns the absolute base URI of the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},childNodes:{annotation:"property",name:"childNodes",text:"Returns a NodeList of child nodes for the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},firstChild:{annotation:"property",name:"firstChild",text:"Returns the first child of the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},lastChild:{annotation:"property",name:"lastChild",text:"Returns the last child of the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},localName:{annotation:"property",name:"localName",text:"Returns the local part of the name of the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},namespaceURI:{annotation:"property",name:"namespaceURI",text:"Returns the namespace URI of the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},nextSibling:{annotation:"property",name:"nextSibling",text:"Returns the node immediately following the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},nodeName:{annotation:"property",name:"nodeName",text:"Returns the name of the node, depending on its type",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},nodeType:{annotation:"property",name:"nodeType",text:"Returns the type of the node",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},ownerDocument:{annotation:"property",name:"ownerDocument",text:"Returns the root element (document object) for an element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},parentNode:{annotation:"property",name:"parentNode",text:"Returns the parent node of the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},prefix:{annotation:"property",name:"prefix",text:"Sets or returns the namespace prefix of the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},previousSibling:{annotation:"property",name:"previousSibling",text:"Returns the node immediately before the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},schemaTypeInfo:{annotation:"property",name:"schemaTypeInfo",text:"Returns the type information associated with the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},tagName:{annotation:"property",name:"tagName",text:"Returns the name of the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},textContent:{annotation:"property",name:"textContent",text:"Sets or returns the text content of the element and its descendants",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"}},methods:{appendChild:{annotation:"method",name:"appendChild",text:"()\tAdds a new child node to the end of the list of children of the node",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},cloneNode:{annotation:"method",name:"cloneNode",text:"()\tClones a  node",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},compareDocumentPosition:{annotation:"method",name:"compareDocumentPosition",text:"()\tCompares the document position of two nodes",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},getAttribute:{annotation:"method",name:"getAttribute",text:"()\tReturns the value of an attribute",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},getAttributeNS:{annotation:"method",name:"getAttributeNS",text:"()\tReturns the value of an attribute (with a namespace)",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},getAttributeNode:{annotation:"method",name:"getAttributeNode",text:"()\tReturns an attribute node as an Attribute object",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},getAttributeNodeNS:{annotation:"method",name:"getAttributeNodeNS",text:"()\tReturns an attribute node (with a namespace) as an Attribute object",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},getElementsByTagName:{annotation:"method",name:"getElementsByTagName",text:"()\tReturns a NodeList of matching element nodes, and their children",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},getElementsByTagNameNS:{annotation:"method",name:"getElementsByTagNameNS",text:"()\tReturns a NodeList of matching element nodes (with a namespace), and their children",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},getFeature:{annotation:"method",name:"getFeature",text:"(feature,version)\tReturns a DOM object which implements the specialized APIs of the specified feature and version",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},getUserData:{annotation:"method",name:"getUserData",text:"(key)\tReturns the object associated to a key on a this node. The object must first have been set to this node by calling setUserData with the same key",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},hasAttribute:{annotation:"method",name:"hasAttribute",text:"()\tReturns whether an element has any attributes matching a specified name",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},hasAttributeNS:{annotation:"method",name:"hasAttributeNS",text:"()\tReturns whether an element has any attributes matching a specified name and namespace",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},hasAttributes:{annotation:"method",name:"hasAttributes",text:"()\tReturns whether the element has any attributes",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},hasChildNodes:{annotation:"method",name:"hasChildNodes",text:"()\tReturns whether the element has any child nodes",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},insertBefore:{annotation:"method",name:"insertBefore",text:"()\tInserts a new child node before an existing child node",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},isDefaultNamespace:{annotation:"method",name:"isDefaultNamespace",text:"(URI)\tReturns whether the specified namespaceURI is the default",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},isEqualNode:{annotation:"method",name:"isEqualNode",text:"()\tChecks if two nodes are equal",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},isSameNode:{annotation:"method",name:"isSameNode",text:"()\tChecks if two nodes are the same node",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},isSupported:{annotation:"method",name:"isSupported",text:"(feature,version)\tReturns whether a specified feature is supported on the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},lookupNamespaceURI:{annotation:"method",name:"lookupNamespaceURI",text:"()\tReturns the namespace URI matching a specified prefix",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},lookupPrefix:{annotation:"method",name:"lookupPrefix",text:"()\tReturns the prefix matching a specified namespace URI",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},normalize:{annotation:"method",name:"normalize",text:'()\tPuts all text nodes underneath this element (including attributes) into a "normal" form where only structure (e.g., elements, comments, processing instructions, CDATA sections, and entity references) separates Text nodes, i.e., there are neither adjacent Text nodes nor empty Text nodes',commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},removeAttribute:{annotation:"method",name:"removeAttribute",text:"()\tRemoves a specified attribute",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},removeAttributeNS:{annotation:"method",name:"removeAttributeNS",text:"()\tRemoves a specified attribute (with a namespace)",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},removeAttributeNode:{annotation:"method",name:"removeAttributeNode",text:"()\tRemoves a specified attribute node",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},removeChild:{annotation:"method",name:"removeChild",text:"()\tRemoves a child node",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},replaceChild:{annotation:"method",name:"replaceChild",text:"()\tReplaces a child node",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},setUserData:{annotation:"method",name:"setUserData",text:"(key,data,handler)\tAssociates an object to a key on the element",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},setAttribute:{annotation:"method",name:"setAttribute",text:"()\tAdds a new attribute",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},setAttributeNS:{annotation:"method",name:"setAttributeNS",text:"()\tAdds a new attribute (with a namespace)",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},setAttributeNode:{annotation:"method",name:"setAttributeNode",text:"()\tAdds a new attribute node",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},setAttributeNodeNS:{annotation:"method",name:"setAttributeNodeNS",text:"(attrnode)\tAdds a new attribute node (with a namespace)",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},setIdAttribute:{annotation:"method",name:"setIdAttribute",text:"(name,isId)\tIf the isId property of the Attribute object is true, this method declares the specified attribute to be a user-determined ID attribute",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},setIdAttributeNS:{annotation:"method",name:"setIdAttributeNS",text:"(uri,name,isId)\tIf the isId property of the Attribute object is true, this method declares the specified attribute (with a namespace) to be a user-determined ID attribute",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},setIdAttributeNode:{annotation:"method",name:"setIdAttributeNode",text:"(idAttr,isId)\tIf the isId property of the Attribute object is true, this method declares the specified attribute to be a user-determined ID attribute",commentRange:[2772179,2777425],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"}}},"xml.dom.DOMEvent":{annotation:"class",name:"DOMEvent",text:"(from http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-Event)\n\nThe Event interface is used to provide contextual information about an event to the handler processing the event. An object which implements the Event interface is generally passed as the first parameter to an event handler. More specific context information is passed to event handlers by deriving additional interfaces from Event which contain information directly relating to the type of event they accompany. These derived interfaces are also implemented by the object passed to the event listener.",commentRange:[2777510,2778128],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js",module:{annotation:"module",name:"xml.dom",text:"",commentRange:[2777510,2778128],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},absoluteName:"xml.dom.DOMEvent",properties:{bubbles:{annotation:"property",name:"bubbles",text:"of type boolean, readonly\nUsed to indicate whether or not an event is a bubbling event. If the event can bubble the value is true, else the value is false.",commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},cancelable:{annotation:"property",name:"cancelable",text:"of type boolean, readonly\nUsed to indicate whether or not an event can have its default action prevented. If the default action can be prevented the value is true, else the value is false.",commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},currentTarget:{annotation:"property",name:"currentTarget",text:"of type EventTarget, readonly\nUsed to indicate the EventTarget whose EventListeners are currently being processed. This is particularly useful during capturing and bubbling.",commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},eventPhase:{annotation:"property",name:"eventPhase",text:"of type unsigned short, readonly\nUsed to indicate which phase of event flow is currently being evaluated.",commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},target:{annotation:"property",name:"target",text:"of type EventTarget, readonly\nUsed to indicate the EventTarget to which the event was originally dispatched.",commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},timeStamp:{annotation:"property",name:"timeStamp",text:"of type DOMTimeStamp, readonly\nUsed to specify the time (in milliseconds relative to the epoch) at which the event was created. Due to the fact that some systems may not provide this information the value of timeStamp may be not available for all events. When not available, a value of 0 will be returned. Examples of epoch time are the time of the system start or 0:0:0 UTC 1st January 1970.",commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},type:{annotation:"property",name:"type",text:"of type DOMString, readonly\nThe name of the event (case-insensitive). The name must be an XML name.",commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"}},methods:{initEvent:{annotation:"method",name:"initEvent",text:"The initEvent method is used to initialize the value of an Event created through the DocumentEvent interface. This method may only be called before the Event has been dispatched via the dispatchEvent method, though it may be called multiple times during that phase if necessary. If called multiple times the final invocation takes precedence. If called from a subclass of Event interface only the values specified in the initEvent method are modified, all other attributes are left unchanged.",children:[{annotation:"param",name:"eventTypeArg",text:'of type DOMString\nSpecifies the event type. This type may be any event type currently defined in this specification or a new event type.. The string must be an XML name.\nAny new event type must not begin with any upper, lower, or mixed case version of the string "DOM". This prefix is reserved for future DOM event sets. It is also strongly recommended that third parties adding their own events use their own prefix to avoid confusion and lessen the probability of conflicts with other new events.',theRestString:"@param canBubbleArg of type boolean\nSpecifies whether or not the event can bubble.\n@param cancelableArg of type boolean\nSpecifies whether or not the event's default action can be prevented.\nNo Return Value\nNo Exceptions"},{annotation:"param",name:"canBubbleArg",text:"of type boolean\nSpecifies whether or not the event can bubble.",theRestString:"@param cancelableArg of type boolean\nSpecifies whether or not the event's default action can be prevented.\nNo Return Value\nNo Exceptions"},{annotation:"param",name:"cancelableArg",text:"of type boolean\nSpecifies whether or not the event's default action can be prevented.\nNo Return Value\nNo Exceptions",theRestString:""}],commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},preventDefault:{annotation:"method",name:"preventDefault",text:"If an event is cancelable, the preventDefault method is used to signify that the event is to be canceled, meaning any default action normally taken by the implementation as a result of the event will not occur. If, during any stage of event flow, the preventDefault method is called the event is canceled. Any default action associated with the event will not occur. Calling this method for a non-cancelable event has no effect. Once preventDefault has been called it will remain in effect throughout the remainder of the event's propagation. This method may be used during any stage of event flow.\nNo Parameters\nNo Return Value\nNo Exceptions",commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},stopPropagation:{annotation:"method",name:"stopPropagation",text:"The stopPropagation method is used prevent further propagation of an event during event flow. If this method is called by any EventListener the event will cease propagating through the tree. The event will complete dispatch to all listeners on the current EventTarget before event flow stops. This method may be used during any stage of event flow.\nNo Parameters\nNo Return Value\nNo Exceptions",commentRange:[2778131,2781839],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"}}},"xml.dom.DOMEventTarget":{annotation:"class",name:"DOMEventTarget",text:"",commentRange:[2781844,2781874],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js",module:{annotation:"module",name:"xml.dom",text:"",commentRange:[2777510,2778128],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},absoluteName:"xml.dom.DOMEventTarget"},"xml.dom.DOMMouseEvent":{annotation:"class",name:"DOMMouseEvent",text:"",commentRange:[2781880,2781909],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js",module:{annotation:"module",name:"xml.dom",text:"",commentRange:[2777510,2778128],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},absoluteName:"xml.dom.DOMMouseEvent"},"xml.dom.XMLNode":{annotation:"class",name:"XMLNode",text:"(from http://www.w3schools.com/dom/dom_node.asp)\n\nXML DOM - The Node Object\n\nThe Node object represents a single node in the document tree.\n\nA node can be an element node, an attribute node, a text node, or any other of the node types explained in the Node Types chapter.\n\nNotice that while all objects inherits the Node properties / methods for dealing with parents and children, not all objects can have parents or children. For example, Text nodes may not have children, and adding children to such nodes results in a DOM error.",commentRange:[2781993,2782564],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js",module:{annotation:"module",name:"xml.dom",text:"",commentRange:[2781993,2782564],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},absoluteName:"xml.dom.XMLNode",properties:{attributes:{annotation:"property",type:"{Object}",name:"attributes",text:"A NamedNodeMap containing the attributes of this node (if it is an Element)",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},baseURI:{annotation:"property",type:"{String}",name:"baseURI",text:"Returns the absolute base URI of a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},childNodes:{annotation:"property",type:"{XMLNodeList}",name:"childNodes",text:'Returns a NodeList of child nodes for a node\n\n##Definition and Usage\nThe childNodes property returns a NodeList of child nodes for the specified node.\n\nTip: You can use the length property to determine the number of child nodes, then you can loop through all child nodes and extract the info you want.\n\n##Browser Support\nInternet Explorer Firefox Opera Google Chrome Safari\n\nThe childNodes property is supported in all major browsers.\n\n##Return Value:\t\nA NodeList object representing a collection of nodes\nDOM Version\tCore Level 1\n\n##Example\nThe following code fragment loads "books.xml" into xmlDoc using loadXMLDoc() and displays the child nodes of the XML document:\n\n\txmlDoc = loadXMLDoc("books.xml");\n\n\tx = xmlDoc.childNodes;\n\tfor (i=0; i<x.length; i++)\n\t  {\n\t  document.write("Nodename: " + x[i].nodeName);\n\t  document.write(" (nodetype: " + x[i].nodeType + ")<br>");\n\t  }\n\nOutput IE:\n\n\tNodename: xml (nodetype: 7)\n\tNodename: #comment (nodetype: 8)\n\tNodename: bookstore (nodetype: 1)\n\nOutput Firefox, Opera, Chrome, and Safari :\n\n\tNodename: #comment (nodetype: 8)\n\tNodename: bookstore (nodetype: 1)',commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},firstChild:{annotation:"property",name:"firstChild",text:"Returns the first child of a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},lastChild:{annotation:"property",name:"lastChild",text:"Returns the last child of a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},localName:{annotation:"property",name:"localName",text:"Returns the local part of the name of a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},namespaceURI:{annotation:"property",name:"namespaceURI",text:"Returns the namespace URI of a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},nextSibling:{annotation:"property",name:"nextSibling",text:"Returns the node immediately following a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},nodeName:{annotation:"property",name:"nodeName",text:"Returns the name of a node, depending on its type",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},nodeType:{annotation:"property",name:"nodeType",text:"Returns the type of a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},nodeValue:{annotation:"property",name:"nodeValue",text:"Sets or returns the value of a node, depending on its type",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},ownerDocument:{annotation:"property",name:"ownerDocument",text:"Returns the root element (document object) for a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},parentNode:{annotation:"property",name:"parentNode",text:"Returns the parent node of a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},prefix:{annotation:"property",name:"prefix",text:"Sets or returns the namespace prefix of a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},previousSibling:{annotation:"property",name:"previousSibling",text:"Returns the node immediately before a node",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},textContent:{annotation:"property",name:"textContent",text:"Sets or returns the textual content of a node and its descendants",commentRange:[2782568,2784750],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"}},methods:{appendChild:{annotation:"method",name:"appendChild",text:"Appends a new child node to the end of the list of children of a node",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},cloneNode:{annotation:"method",name:"cloneNode",text:"Clones a node",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},compareDocumentPosition:{annotation:"method",name:"compareDocumentPosition",text:"Compares the placement of two nodes in the DOM hierarchy (document)",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},getFeature:{annotation:"method",name:"getFeature",text:"(feature,version)\tReturns a DOM object which implements the specialized APIs of the specified feature and version",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},getUserData:{annotation:"method",name:"getUserData",text:"(key)\tReturns the object associated to a key on a this node. The object must first have been set to this node by calling setUserData with the same key",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},hasAttributes:{annotation:"method",name:"hasAttributes",text:"Returns true if the specified node has any attributes, otherwise false",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},hasChildNodes:{annotation:"method",name:"hasChildNodes",text:"Returns true if the specified node has any child nodes, otherwise false",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},insertBefore:{annotation:"method",name:"insertBefore",text:"Inserts a new child node before an existing child node",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},isDefaultNamespace:{annotation:"method",name:"isDefaultNamespace",text:"(URI)\tReturns whether the specified namespaceURI is the default",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},isEqualNode:{annotation:"method",name:"isEqualNode",text:"Tests whether two nodes are equal",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},isSameNode:{annotation:"method",name:"isSameNode",text:"Tests whether the two nodes are the same node",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},isSupported:{annotation:"method",name:"isSupported",text:"Tests whether the DOM implementation supports a specific feature and that the feature is supported by the specified node",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},lookupNamespaceURI:{annotation:"method",name:"lookupNamespaceURI",text:"Returns the namespace URI associated with a given prefix",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},lookupPrefix:{annotation:"method",name:"lookupPrefix",text:"Returns the prefix associated with a given namespace URI",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},normalize:{annotation:"method",name:"normalize",text:'Puts all Text nodes underneath a node (including attribute nodes) into a "normal" form where only structure (e.g., elements, comments, processing instructions, CDATA sections, and entity references) separates Text nodes, i.e., there are neither adjacent Text nodes nor empty Text nodes',commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},removeChild:{annotation:"method",name:"removeChild",text:"Removes a specified child node from the current node",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},replaceChild:{annotation:"method",name:"replaceChild",text:"Replaces a child node with a new node",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},setUserData:{annotation:"method",name:"setUserData",text:"(key,data,handler)\tAssociates an object to a key on a node",commentRange:[2784755,2786574],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"}}},"xml.dom.XMLNodeList":{annotation:"class",name:"XMLNodeList",text:"XML DOM - The NodeList Object\n\nThe NodeList object represents an ordered list of nodes.\n\nThe nodes in the node list can be accessed through their index number (starting from 0).\n\nThe node list keeps itself up-to-date. If an element is deleted or added, in the node list or the XML document, the list is automatically updated.\n\nNote: In a node list, the nodes are returned in the order in which they are specified in the XML document.",commentRange:[2786664,2787311],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/nodelist.js",module:{annotation:"module",name:"xml.dom",text:"",commentRange:[2786664,2787311],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/nodelist.js"},absoluteName:"xml.dom.XMLNodeList",properties:{length_:{annotation:"property",name:"length_",text:"Returns the number of nodes in a node list k",commentRange:[2786664,2787311],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/nodelist.js"}},methods:{item:{annotation:"method",name:"item",text:"",children:[{annotation:"param",type:"{Number}",name:"i",text:"",theRestString:"@return {XMLNode}Returns the node at the specified index in a node list"},{annotation:"return",type:"{XMLNode}",name:"Returns",text:"the node at the specified index in a node list",theRestString:""}],commentRange:[2786664,2787311],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/nodelist.js"}}}},modules:{shortjsdoc:{annotation:"module",name:"shortjsdoc",text:"\n\n#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#Comment Preprocessors\n\nThe core of comment preprocessing is done ba couple of plugins executed at allCommentPreprocessorPlugins and \ningeneral normalizes the comments text, delete non relevant comments, unify line comments into a single one, etc\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",commentRange:[2,102],fileName:"./src/jsdocmaker/core/binding.js"},undefined:{annotation:"module",text:"",commentRange:[9924,11365],fileName:"./src/jsdocmaker/core/parse.js"},"shortjsdoc.plugin":{annotation:"module",name:"shortjsdoc.plugin",text:"",commentRange:[23431,23736],fileName:"./src/jsdocmaker/core/plugin.js"},"shortjsdoc.plugin.alias":{annotation:"module",name:"shortjsdoc.plugin.alias",text:"",commentRange:[56454,56550],fileName:"./src/jsdocmaker/plugin/alias.js"},"shortjsdoc.plugin.comment.indentation":{annotation:"module",name:"shortjsdoc.plugin.comment.indentation",text:"#Comment indentation plugin\nTakes care of respecting the original indentation of block comments. \nIt will erase the initial spaces of each line according to the comment indentation.",commentRange:[60761,60995],fileName:"./src/jsdocmaker/plugin/comment-indentation.js"},"shortjsdoc.plugin.dependencies":{annotation:"module",name:"shortjsdoc.plugin.dependencies",text:"",commentRange:[62121,62524],fileName:"./src/jsdocmaker/plugin/dependencies.js"},"shortjsdoc.plugin.module-export":{annotation:"module",name:"shortjsdoc.plugin.module-export",text:"#",commentRange:[74594,74835],fileName:"./src/jsdocmaker/plugin/module-exports.js"},dummy:{annotation:"module",name:"dummy",text:"",children:[{annotation:"exports",name:"the",text:"module AST will contain a property exports pointing to a type that can be complex. Example:",theRestString:""}],commentRange:[74594,74835],fileName:"./src/jsdocmaker/plugin/module-exports.js"},module1:{annotation:"module",name:"module1",text:"blabla",commentRange:[74594,74835],fileName:"./src/jsdocmaker/plugin/module-exports.js"},"recurse-plugin-containers":{annotation:"module",name:"recurse-plugin-containers",text:"- a plugin to be used by concrete plugins to iterate on all \n nodes after some interesting stages. by calling recurseAST. \n The objective is that other concrete plugins register here and so the AST recursion is made \n ONCE instead of using recurseAST in each of them.",commentRange:[76783,77174],fileName:"./src/jsdocmaker/plugin/recurse-plugin-containers.js"},"shortjsdoc.plugin.text-marks-references":{annotation:"module",name:"shortjsdoc.plugin.text-marks-references",text:"It is based on text-marks plugin to give support to @?class @?method @?module @?property @?event and @?ref  text marks. \n\nThey will be binded to referenced nodes. The @?ref can bind anything passed as absolute name but it is less performant. \n\nAlso it contains the implementation for @?link",commentRange:[78654,79e3],fileName:"./src/jsdocmaker/plugin/text-marks-references.js"},"shortjsdoc.plugin.text-marks":{annotation:"module",name:"shortjsdoc.plugin.text-marks",text:"TODO: markings should be done 100% on post processing. \n\nthis is a meta plugin that allow to define marks inside a text. markings like @?foo something will be replaced with \na unique string key and evaluate functions and store the result in the AST under the node 'textMarks' property.\n\nOther concrete plugins then can expose a certain functionality, for example",commentRange:[82852,84082],fileName:"./src/jsdocmaker/plugin/text-marks.js"},client:{annotation:"module",name:"client",text:"",commentRange:[82852,84082],fileName:"./src/jsdocmaker/plugin/text-marks.js"},"shortjsdoc.node":{annotation:"module",name:"shortjsdoc.node",text:"nodejs command line utility for generating the .json definition scanning a given source folder or file. \n\nDepends on src/JsDocMaker.js\n\n*IMPORTANT* don't use console.log here since the output is dumped to stdout",commentRange:[88184,88426],fileName:"./src/shortjsdoc.js"},hammer:{annotation:"module",name:"hammer",text:"*\n *\n\n*\n   *\n\n\n\n*\n   *\n\n*\n   *\n\n\n\n",commentRange:[1383959,1384036],fileName:"./html/lib/vis/dist/vis.js"},gestures:{annotation:"module",name:"gestures",text:"",commentRange:[1428918,1428949],fileName:"./html/lib/vis/dist/vis.js"},"shortjsdoc.html":{annotation:"module",name:"shortjsdoc.html",text:"\n\nthis is the main class for all the application \n utilities for rendering jsdoc data generated by jsdocgenerator1 js-indentator plugin \n using backbone. The user should provide with underscore templates.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nthis file add methods to Abstract Application for dealing with types and html markup.",commentRange:[2464825,2464974],fileName:"./html/src/js/AbstractTreeView.js"},justjstest:{annotation:"module",name:"justjstest",text:"",commentRange:[2478958,2479273],fileName:"./html/src/js/BookView.js",functions:[{annotation:"function",name:"resolveAndHit",text:"This is just a sample global function. \n\nFunctions belong to a module - they have the same importance as classes. \n\nA function signature is just the same as a method.",children:[{annotation:"param",type:"{Array<Promise>}",name:"promises",text:"",theRestString:"@param {Boolean} required\n@return {Array<Number>} lorem ipsum"},{annotation:"param",type:"{Boolean}",name:"required",text:"",theRestString:"@return {Array<Number>} lorem ipsum"},{annotation:"return",type:"{Array<Number>}",name:"lorem",text:"ipsum",theRestString:""}],commentRange:[2478958,2479273],fileName:"./html/src/js/BookView.js"}]},javascript:{annotation:"module",name:"javascript",text:"",commentRange:[2555933,2559601],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Boolean.js"},html:{annotation:"module",name:"html",text:"",commentRange:[2687124,2695208],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},Backbone:{annotation:"module",name:"Backbone",text:"\n\n#About\nBackbone.js gives structure to web applications by providing models with key-value binding and custom events, collections with a rich API of enumerable functions, views with declarative event handling, and connects it all to your existing API over a RESTful JSON interface.\n\nThe project is hosted on GitHub, and the annotated source code is available, as well as an online test suite, an example application, a list of tutorials and a long list of real-world projects that use Backbone. Backbone is available for use under the MIT software license.\n\nYou can report bugs and discuss features on the GitHub issues page, on Freenode IRC in the #documentcloud channel, post questions to the Google Group, add pages to the wiki or send tweets to",commentRange:[2717406,2718271],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js"},"xml.dom":{annotation:"module",name:"xml.dom",text:"",commentRange:[2768039,2771494],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"}},files:{"./src/jsdocmaker/core/binding.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2,102],fileName:"./src/jsdocmaker/core/binding.js"},"./src/jsdocmaker/core/class.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[7789,8353],fileName:"./src/jsdocmaker/core/class.js"},"./src/jsdocmaker/core/main.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[9569,9625],fileName:"./src/jsdocmaker/core/main.js"},"./src/jsdocmaker/core/parse.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[9865,9922],fileName:"./src/jsdocmaker/core/parse.js"},"":{annotation:"filename",name:"annotations",commentRange:[2390074,2390152],fileName:""},"./src/jsdocmaker/core/plugin.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[23431,23736],fileName:"./src/jsdocmaker/core/plugin.js"},"./src/jsdocmaker/core/postprocess.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[26080,26707],fileName:"./src/jsdocmaker/core/postprocess.js"},"./src/jsdocmaker/core/preprocess.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[33949,34011],fileName:"./src/jsdocmaker/core/preprocess.js"},"./src/jsdocmaker/core/type-parsing.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[37520,37584],fileName:"./src/jsdocmaker/core/type-parsing.js"},"./src/jsdocmaker/core/util.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[38787,38884],fileName:"./src/jsdocmaker/core/util.js"},"./src/jsdocmaker/main.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[40663,40989],fileName:"./src/jsdocmaker/main.js"},"./src/jsdocmaker/objectTypeParser/parser.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[41095,41165],fileName:"./src/jsdocmaker/objectTypeParser/parser.js"},"./src/jsdocmaker/plugin/alias.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[56454,56550],fileName:"./src/jsdocmaker/plugin/alias.js"},"./src/jsdocmaker/plugin/comment-indentation.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[60686,60759],fileName:"./src/jsdocmaker/plugin/comment-indentation.js"},"./src/jsdocmaker/plugin/dependencies.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[62121,62524],fileName:"./src/jsdocmaker/plugin/dependencies.js"},"./src/jsdocmaker/plugin/escape-at.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[65479,65542],fileName:"./src/jsdocmaker/plugin/escape-at.js"},"./src/jsdocmaker/plugin/filter-by-child-annotations.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[66297,66752],fileName:"./src/jsdocmaker/plugin/filter-by-child-annotations.js"},"./src/jsdocmaker/plugin/inherited.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[68002,68113],fileName:"./src/jsdocmaker/plugin/inherited.js"},"./src/jsdocmaker/plugin/literal-object.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[71583,71692],fileName:"./src/jsdocmaker/plugin/literal-object.js"},"./src/jsdocmaker/plugin/main.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[72992,73050],fileName:"./src/jsdocmaker/plugin/main.js"},"./src/jsdocmaker/plugin/modifiers.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[73762,73866],fileName:"./src/jsdocmaker/plugin/modifiers.js"},"./src/jsdocmaker/plugin/module-exports.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[74524,74592],fileName:"./src/jsdocmaker/plugin/module-exports.js"},"./src/jsdocmaker/plugin/native-types.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[75750,75857],fileName:"./src/jsdocmaker/plugin/native-types.js"},"./src/jsdocmaker/plugin/recurse-plugin-containers.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[76783,77174],fileName:"./src/jsdocmaker/plugin/recurse-plugin-containers.js"},"./src/jsdocmaker/plugin/text-marks-references.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[78577,78652],fileName:"./src/jsdocmaker/plugin/text-marks-references.js"},"./src/jsdocmaker/plugin/text-marks.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[82786,82850],fileName:"./src/jsdocmaker/plugin/text-marks.js"},"./src/jsdocmaker/plugin/util.js \n TODO: move this file to core/recurseAST.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[85306,85479],fileName:"./src/jsdocmaker/plugin/util.js \n TODO: move this file to core/recurseAST.js"},"./src/shortjsdoc.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[88135,88181],fileName:"./src/shortjsdoc.js"},"./html/all.min.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[96316,96680],fileName:"./html/all.min.js"},"./html/lib/backbone/backbone.js \n Backbone.js 1.1.2 \n (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors \n Backbone may be freely distributed under the MIT license. \n For all details and documentation: \n http://backbonejs.org":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[126300,126648],fileName:"./html/lib/backbone/backbone.js \n Backbone.js 1.1.2 \n (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors \n Backbone may be freely distributed under the MIT license. \n For all details and documentation: \n http://backbonejs.org"},"./html/lib/bootstrap-3.2.0-dist/js/bootstrap.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[187396,187470],fileName:"./html/lib/bootstrap-3.2.0-dist/js/bootstrap.js"},"./html/lib/bootstrap-3.2.0-dist/js/bootstrap.min.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[248155,248233],fileName:"./html/lib/bootstrap-3.2.0-dist/js/bootstrap.min.js"},"./html/lib/jquery/jquery-2.0.3.min.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[280056,280120],fileName:"./html/lib/jquery/jquery-2.0.3.min.js"},"./html/lib/marked/marked.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[363736,363790],fileName:"./html/lib/marked/marked.js"},"./html/lib/prettify/prettify.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[391950,392008],fileName:"./html/lib/prettify/prettify.js"},"./html/lib/toast/toast.min.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[406563,406619],fileName:"./html/lib/toast/toast.min.js"},"./html/lib/twitter-typeahead/typeahead.bundle.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[407689,407764],fileName:"./html/lib/twitter-typeahead/typeahead.bundle.js"},"./html/lib/vis/dist/vis.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[479185,479238],fileName:"./html/lib/vis/dist/vis.js"},"./html/lib/vis/dist/vis.min.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[1629706,1629763],fileName:"./html/lib/vis/dist/vis.min.js"},"./html/libs.min.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2076337,2076413],fileName:"./html/libs.min.js"},"./html/src/JsDocMaker_browser.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2322475,2322572],fileName:"./html/src/JsDocMaker_browser.js"},"./html/src/js/AbstractTreeView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2464825,2464974],fileName:"./html/src/js/AbstractTreeView.js"},"./html/src/js/AbstractView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2471670,2471816],fileName:"./html/src/js/AbstractView.js"},"./html/src/js/Application.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2473441,2473838],fileName:"./html/src/js/Application.js"},"./html/src/js/ApplicationView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2476732,2476865],fileName:"./html/src/js/ApplicationView.js"},"./html/src/js/BookView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2477474,2477593],fileName:"./html/src/js/BookView.js"},"./html/src/js/ClassView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2479275,2479396],fileName:"./html/src/js/ClassView.js"},"./html/src/js/DependenciesView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2484588,2484737],fileName:"./html/src/js/DependenciesView.js"},"./html/src/js/FileView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2487802,2487922],fileName:"./html/src/js/FileView.js"},"./html/src/js/HeaderView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2489012,2489135],fileName:"./html/src/js/HeaderView.js"},"./html/src/js/HierarchyTreeView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2491297,2491455],fileName:"./html/src/js/HierarchyTreeView.js"},"./html/src/js/IndexView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2493509,2493630],fileName:"./html/src/js/IndexView.js"},"./html/src/js/JsDocRouter.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2494317,2494445],fileName:"./html/src/js/JsDocRouter.js"},"./html/src/js/MethodView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2499392,2499580],fileName:"./html/src/js/MethodView.js"},"./html/src/js/ModuleView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2501174,2501297],fileName:"./html/src/js/ModuleView.js"},"./html/src/js/ParseView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2502202,2502323],fileName:"./html/src/js/ParseView.js"},"./html/src/js/PropertyView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2502928,2503055],fileName:"./html/src/js/PropertyView.js"},"./html/src/js/SearchView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2504010,2504133],fileName:"./html/src/js/SearchView.js"},"./html/src/js/SourcesView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2506589,2506948],fileName:"./html/src/js/SourcesView.js"},"./html/src/js/TreeView.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2508508,2508649],fileName:"./html/src/js/TreeView.js"},"./html/src/js/TypesUtil.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2510944,2511161],fileName:"./html/src/js/TypesUtil.js"},"./html/template-output.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2520934,2520986],fileName:"./html/template-output.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Boolean.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2555845,2555931],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Boolean.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2560059,2560143],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Error.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2568090,2568177],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Function.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2588688,2588773],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Number.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2595606,2595691],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.prototype.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2659255,2659350],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/Object.prototype.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2664316,2664401],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/javascript/String.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2687036,2687122],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/element-event.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2703294,2704919],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/elements.js\n\n/*"},"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2704921,2705e3],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/events.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2714836,2714926],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/html/global-attributes.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2717306,2717404],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-collection.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2720594,2720709],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-events.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-history.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2726767,2726862],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-history.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2729419,2729512],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-model.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2747247,2747341],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-router.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2752725,2752817],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone-view.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2760743,2760830],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/backbonejs/backbone.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2767953,2768037],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/document.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2772094,2772177],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/element.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2777427,2777508],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/event.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2781911,2781991],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/node.js"},"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/nodelist.js":{annotation:"filename",type:"{Foo}",name:"fileName",commentRange:[2786578,2786662],fileName:"/home/sg/git/short-jsdoc/vendor-jsdoc/xml-dom/nodelist.js"}},alias:{A:{type:"class",name:"A",target:"Array"},O:{type:"class",name:"O",target:"Object"},S:{type:"class",name:"S",target:"String"},N:{type:"class",name:"N",target:"Number"},B:{type:"class",name:"B",target:"Boolean"},Or:{type:"class",name:"Or",target:"just"},use:{type:"class",name:"use",target:"the"},shortcut:{type:"class",name:"shortcut"},After:{type:"class",name:"After",target:"this"},I:{type:"class",name:"I",target:"just"},can:{type:"class",name:"can",target:"write"},my:{type:"class",name:"my",target:"types"},like:{type:"class",name:"like",target:"this:"},MySuper:{type:"class",name:"MySuper",target:"Array<Leg>"},"##annotation":{type:"class",name:"##annotation",target:"alias"},task:{type:"annotation",name:"task",target:"method"},"##Implementation":{type:"annotation",name:"##Implementation",target:"notes"},at:{type:"annotation",name:"at",target:"binding"},the:{type:"annotation",name:"the",target:"second"},meta:{type:"annotation",name:"meta",target:"information"},will:{type:"annotation",name:"will",target:"be"},stored:{type:"annotation",name:"stored",target:"in"},under:{type:"annotation",name:"under",target:"the"},"'alias'":{type:"annotation",name:"'alias'",target:"property."},Then:{type:"annotation",name:"Then",target:"this"},information:{type:"annotation",name:"information",target:"will"},be:{type:"annotation",name:"be",target:"consumed"},time:{type:"annotation",name:"time",target:"in"},plugin:{type:"annotation",name:"plugin"}},projectMetadata:"./package.json"};
//# sourceMappingURL=data.min.json.map